[35mDEBUG   [0m tests.conftest:conftest.py:43 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:49 Running test: test_filter_subscribe_to_multiple_pubsub_topic_from_same_cluster with id: 2024-01-19_04-11-01__19c3ee9c-2386-49a4-965e-5908ff6a38db
[35mDEBUG   [0m src.steps.filter:filter.py:27 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:33 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:21 WakuNode instance initialized with log path ./log/docker/node1_2024-01-19_04-11-01__19c3ee9c-2386-49a4-965e-5908ff6a38db__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:25 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated random external IP 172.18.107.77
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:66 Generated ports ['35690', '35691', '35692', '35693', '35694']
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:42 Starting container with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:43 Using args ['--listen-address=0.0.0.0', '--rest=true', '--rest-admin=true', '--websocket-support=true', '--log-level=TRACE', '--rest-relay-cache-capacity=100', '--websocket-port=35692', '--rest-port=35690', '--tcp-port=35691', '--discv5-udp-port=35693', '--rest-address=0.0.0.0', '--nat=extip:172.18.107.77', '--peer-exchange=true', '--discv5-discovery=true', '--cluster-id=0', '--metrics-server=true', '--metrics-server-address=0.0.0.0', '--metrics-server-port=35694', '--metrics-logging=true', '--relay=true', '--filter=true', '--nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68']
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 Container started with ID 80623b1ab172. Setting up logs at ./log/docker/node1_2024-01-19_04-11-01__19c3ee9c-2386-49a4-965e-5908ff6a38db__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:78 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 35690
[35mDEBUG   [0m src.libs.common:common.py:33 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:11 GET call: http://127.0.0.1:35690/debug/v1/info with payload: None
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.107.77/tcp/35691/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","/ip4/172.18.107.77/tcp/35692/ws/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"],"enrUri":"enr:-Kq4QNG75lx9GqnbmsKbbFeDR7Q2OaxZ0vhzb33q1d0PInsUH0WVwcEXTdwnsIuy7fR1p9lAjMdDSzrpksFVa5Wo-QkBgmlkgnY0gmlwhKwSa02KbXVsdGlhZGRyc4wACgSsEmtNBots3QOJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCi2uDdWRwgotthXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:113 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:38 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:21 WakuNode instance initialized with log path ./log/docker/node2_2024-01-19_04-11-01__19c3ee9c-2386-49a4-965e-5908ff6a38db__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:25 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated random external IP 172.18.160.43
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:66 Generated ports ['44311', '44312', '44313', '44314', '44315']
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:42 Starting container with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:43 Using args ['--listen-address=0.0.0.0', '--rest=true', '--rest-admin=true', '--websocket-support=true', '--log-level=TRACE', '--rest-relay-cache-capacity=100', '--websocket-port=44313', '--rest-port=44311', '--tcp-port=44312', '--discv5-udp-port=44314', '--rest-address=0.0.0.0', '--nat=extip:172.18.160.43', '--peer-exchange=true', '--discv5-discovery=true', '--cluster-id=0', '--metrics-server=true', '--metrics-server-address=0.0.0.0', '--metrics-server-port=44315', '--metrics-logging=true', '--relay=false', '--filter=true', '--discv5-bootstrap-node=enr:-Kq4QNG75lx9GqnbmsKbbFeDR7Q2OaxZ0vhzb33q1d0PInsUH0WVwcEXTdwnsIuy7fR1p9lAjMdDSzrpksFVa5Wo-QkBgmlkgnY0gmlwhKwSa02KbXVsdGlhZGRyc4wACgSsEmtNBots3QOJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCi2uDdWRwgotthXdha3UyBQ', '--filternode=/ip4/172.18.107.77/tcp/35691/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip']
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 Container started with ID 0606af815f32. Setting up logs at ./log/docker/node2_2024-01-19_04-11-01__19c3ee9c-2386-49a4-965e-5908ff6a38db__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:78 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 44311
[35mDEBUG   [0m src.libs.common:common.py:33 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:11 GET call: http://127.0.0.1:44311/debug/v1/info with payload: None
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.160.43/tcp/44312/p2p/16Uiu2HAm3bjHB1Ph49Nmgx8p9aXTQTZBmLuWNmT4tfP8iDNPLoaN","/ip4/172.18.160.43/tcp/44313/ws/p2p/16Uiu2HAm3bjHB1Ph49Nmgx8p9aXTQTZBmLuWNmT4tfP8iDNPLoaN"],"enrUri":"enr:-Kq4QFwa73fdVVcmPOFr_sZ9qkt6vIwZuHofgQRP1MDXQWymWOHiDpvVPjCj3zmALfA34cvhHQIgNwQptWo3XkiqM9YBgmlkgnY0gmlwhKwSoCuKbXVsdGlhZGRyc4wACgSsEqArBq0Z3QOJc2VjcDI1NmsxoQJ5cQjQa54RXVgjaVdWFQi--Q4IyA95i14vNPg9zb52_4N0Y3CCrRiDdWRwgq0ahXdha3UyBA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:113 REST service is ready !!
[35mDEBUG   [0m tests.filter.test_subscribe_create:test_subscribe_create.py:19 Running test with pubsub topic: /waku/2/rs/0/0
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:11 POST call: http://127.0.0.1:35690/relay/v1/subscriptions with payload: ["/waku/2/rs/0/0"]
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:11 POST call: http://127.0.0.1:44311/filter/v2/subscriptions with payload: {"requestId": "9745318c-c24c-48ba-a443-35d3d67cb01a", "contentFilters": ["/waku/2/rs/0/0"], "pubsubTopic": "/waku/2/rs/0/0"}
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"9745318c-c24c-48ba-a443-35d3d67cb01a","statusCode":0,"statusDesc":""}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:11 POST call: http://127.0.0.1:35690/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F0 with payload: {"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/waku/2/rs/0/0", "timestamp": 1705637465221335552}
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:33 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:94 Checking that peer NODE_1:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:11 GET call: http://127.0.0.1:44311/filter/v2/messages/%2Fwaku%2F2%2Frs%2F0%2F0 with payload: None
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/waku/2/rs/0/0","version":0,"timestamp":1705637465221335552}]'
[35mDEBUG   [0m tests.filter.test_subscribe_create:test_subscribe_create.py:19 Running test with pubsub topic: /waku/2/rs/0/1
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:11 POST call: http://127.0.0.1:35690/relay/v1/subscriptions with payload: ["/waku/2/rs/0/1"]
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:11 POST call: http://127.0.0.1:44311/filter/v2/subscriptions with payload: {"requestId": "19863ec0-5687-40e7-890b-162600b45ffb", "contentFilters": ["/waku/2/rs/0/1"], "pubsubTopic": "/waku/2/rs/0/1"}
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"19863ec0-5687-40e7-890b-162600b45ffb","statusCode":0,"statusDesc":""}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:11 POST call: http://127.0.0.1:35690/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F1 with payload: {"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/waku/2/rs/0/1", "timestamp": 1705637465344310016}
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:33 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:94 Checking that peer NODE_1:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:11 GET call: http://127.0.0.1:44311/filter/v2/messages/%2Fwaku%2F2%2Frs%2F0%2F1 with payload: None
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/waku/2/rs/0/1","version":0,"timestamp":1705637465344310016}]'
[35mDEBUG   [0m tests.filter.test_subscribe_create:test_subscribe_create.py:19 Running test with pubsub topic: /waku/2/rs/0/9
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:11 POST call: http://127.0.0.1:35690/relay/v1/subscriptions with payload: ["/waku/2/rs/0/9"]
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:11 POST call: http://127.0.0.1:44311/filter/v2/subscriptions with payload: {"requestId": "69a4522d-0b43-4720-a901-4f9f45d1b0f6", "contentFilters": ["/waku/2/rs/0/9"], "pubsubTopic": "/waku/2/rs/0/9"}
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"69a4522d-0b43-4720-a901-4f9f45d1b0f6","statusCode":0,"statusDesc":""}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:11 POST call: http://127.0.0.1:35690/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F9 with payload: {"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/waku/2/rs/0/9", "timestamp": 1705637465468735744}
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:33 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:94 Checking that peer NODE_1:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:11 GET call: http://127.0.0.1:44311/filter/v2/messages/%2Fwaku%2F2%2Frs%2F0%2F9 with payload: None
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/waku/2/rs/0/9","version":0,"timestamp":1705637465468735744}]'
[35mDEBUG   [0m tests.filter.test_subscribe_create:test_subscribe_create.py:19 Running test with pubsub topic: /waku/2/rs/0/25
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:11 POST call: http://127.0.0.1:35690/relay/v1/subscriptions with payload: ["/waku/2/rs/0/25"]
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:11 POST call: http://127.0.0.1:44311/filter/v2/subscriptions with payload: {"requestId": "2f53ceb0-89cb-4bae-b650-899f52de3d41", "contentFilters": ["/waku/2/rs/0/25"], "pubsubTopic": "/waku/2/rs/0/25"}
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"2f53ceb0-89cb-4bae-b650-899f52de3d41","statusCode":0,"statusDesc":""}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:11 POST call: http://127.0.0.1:35690/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F25 with payload: {"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/waku/2/rs/0/25", "timestamp": 1705637465595198976}
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:33 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:94 Checking that peer NODE_1:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:11 GET call: http://127.0.0.1:44311/filter/v2/messages/%2Fwaku%2F2%2Frs%2F0%2F25 with payload: None
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/waku/2/rs/0/25","version":0,"timestamp":1705637465595198976}]'
[35mDEBUG   [0m tests.filter.test_subscribe_create:test_subscribe_create.py:19 Running test with pubsub topic: /waku/2/rs/0/1000
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:11 POST call: http://127.0.0.1:35690/relay/v1/subscriptions with payload: ["/waku/2/rs/0/1000"]
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:11 POST call: http://127.0.0.1:44311/filter/v2/subscriptions with payload: {"requestId": "60f7ca18-930e-4c6a-970b-c533c4718282", "contentFilters": ["/waku/2/rs/0/1000"], "pubsubTopic": "/waku/2/rs/0/1000"}
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"60f7ca18-930e-4c6a-970b-c533c4718282","statusCode":0,"statusDesc":""}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:11 POST call: http://127.0.0.1:35690/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F1000 with payload: {"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/waku/2/rs/0/1000", "timestamp": 1705637465717344768}
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:33 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:94 Checking that peer NODE_1:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:11 GET call: http://127.0.0.1:44311/filter/v2/messages/%2Fwaku%2F2%2Frs%2F0%2F1000 with payload: None
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/waku/2/rs/0/1000","version":0,"timestamp":1705637465717344768}]'
[35mDEBUG   [0m tests.filter.test_subscribe_create:test_subscribe_create.py:19 Running test with pubsub topic: /waku/2/default-waku/proto
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:11 POST call: http://127.0.0.1:35690/relay/v1/subscriptions with payload: ["/waku/2/default-waku/proto"]
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:11 POST call: http://127.0.0.1:44311/filter/v2/subscriptions with payload: {"requestId": "15c40d2a-03b8-4792-93cc-0a943948e5e1", "contentFilters": ["/waku/2/default-waku/proto"], "pubsubTopic": "/waku/2/default-waku/proto"}
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"15c40d2a-03b8-4792-93cc-0a943948e5e1","statusCode":0,"statusDesc":""}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:11 POST call: http://127.0.0.1:35690/relay/v1/messages/%2Fwaku%2F2%2Fdefault-waku%2Fproto with payload: {"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/waku/2/default-waku/proto", "timestamp": 1705637465837991936}
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:33 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:94 Checking that peer NODE_1:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:11 GET call: http://127.0.0.1:44311/filter/v2/messages/%2Fwaku%2F2%2Fdefault-waku%2Fproto with payload: None
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/waku/2/default-waku/proto","version":0,"timestamp":1705637465837991936}]'
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:75 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:90 Stopping container with id 80623b1ab172
[35mDEBUG   [0m src.node.waku_node:waku_node.py:93 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:90 Stopping container with id 0606af815f32
[35mDEBUG   [0m src.node.waku_node:waku_node.py:93 Container stopped.