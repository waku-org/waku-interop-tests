{"uid":"bae43b77732bd5ed","name":"test_ping_only_some_nodes_have_subscriptions","fullName":"tests.filter.test_multiple_nodes.TestFilterMultipleNodes#test_ping_only_some_nodes_have_subscriptions","historyId":"2d6409c42149872333898c33c1f95002","time":{"start":1705573074135,"stop":1705573081826,"duration":7691},"status":"broken","statusMessage":"KeyError: 'statusCode'","statusTrace":"tests/filter/test_multiple_nodes.py:50: in test_ping_only_some_nodes_have_subscriptions\n    self.ping_filter_subscriptions(\"1\", node=self.node2)\nsrc/steps/filter.py:178: in ping_filter_subscriptions\n    assert ping_sub_response[\"statusCode\"] == 0\nE   KeyError: 'statusCode'","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"set_allure_env_variables","time":{"start":1705572838854,"stop":1705572838854,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"close_open_nodes","time":{"start":1705573070830,"stop":1705573070830,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"attach_logs_on_fail","time":{"start":1705573070830,"stop":1705573070830,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"test_id","time":{"start":1705573070830,"stop":1705573070831,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"test_setup","time":{"start":1705573070831,"stop":1705573070831,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"setup_main_relay_node","time":{"start":1705573070831,"stop":1705573072486,"duration":1655},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"filter_setup","time":{"start":1705573070831,"stop":1705573070831,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"setup_main_filter_node","time":{"start":1705573072486,"stop":1705573074134,"duration":1648},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0}],"testStage":{"status":"broken","statusMessage":"KeyError: 'statusCode'","statusTrace":"tests/filter/test_multiple_nodes.py:50: in test_ping_only_some_nodes_have_subscriptions\n    self.ping_filter_subscriptions(\"1\", node=self.node2)\nsrc/steps/filter.py:178: in ping_filter_subscriptions\n    assert ping_sub_response[\"statusCode\"] == 0\nE   KeyError: 'statusCode'","steps":[{"name":"wait_for_subscriptions_on_main_nodes","time":{"start":1705573079399,"stop":1705573081820,"duration":2421},"status":"passed","steps":[{"name":"create_filter_subscription_with_retry","time":{"start":1705573079404,"stop":1705573081820,"duration":2416},"status":"passed","steps":[{"name":"create_filter_subscription","time":{"start":1705573079404,"stop":1705573081820,"duration":2416},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"subscription","value":"{'requestId': '140da4d5-539a-4db8-a17c-b51ab4dcc5f5', 'contentFilters': ['/test/1/waku-filter/proto'], 'pubsubTopic': '/waku/2/rs/0/1'}"},{"name":"node","value":"None"}],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0}],"attachments":[],"parameters":[{"name":"subscription","value":"{'requestId': '140da4d5-539a-4db8-a17c-b51ab4dcc5f5', 'contentFilters': ['/test/1/waku-filter/proto'], 'pubsubTopic': '/waku/2/rs/0/1'}"},{"name":"node","value":"None"}],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0}],"attachments":[],"parameters":[{"name":"content_topic_list","value":"['/test/1/waku-filter/proto']"},{"name":"pubsub_topic","value":"None"}],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0},{"name":"ping_filter_subscriptions","time":{"start":1705573081820,"stop":1705573081826,"duration":6},"status":"broken","statusMessage":"KeyError: 'statusCode'\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.1/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/filter.py\", line 178, in ping_filter_subscriptions\n    assert ping_sub_response[\"statusCode\"] == 0\n           ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^\n","steps":[],"attachments":[],"parameters":[{"name":"request_id","value":"'1'"},{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f2348131970>"}],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0}],"attachments":[{"uid":"92c15a51d5ec2802","name":"log","source":"92c15a51d5ec2802.txt","type":"text/plain","size":20067}],"parameters":[],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":true,"stepsCount":4,"attachmentsCount":1},"afterStages":[{"name":"test_setup::0","time":{"start":1705573081893,"stop":1705573081895,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"close_open_nodes::0","time":{"start":1705573081895,"stop":1705573090271,"duration":8376},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"attach_logs_on_fail::0","time":{"start":1705573090272,"stop":1705573090276,"duration":4},"status":"passed","steps":[],"attachments":[{"uid":"c704326ca2293da2","name":"node1_2024-01-18_10-17-50__608fa9fd-ba4a-468e-a3ea-fd06a71bac9a__harbor.status.im_wakuorg_go-waku:latest.log","source":"c704326ca2293da2.txt","type":"text/plain","size":65772},{"uid":"f23bb75e680763ff","name":"node2_2024-01-18_10-17-50__608fa9fd-ba4a-468e-a3ea-fd06a71bac9a__harbor.status.im_wakuorg_go-waku:latest.log","source":"f23bb75e680763ff.txt","type":"text/plain","size":77187},{"uid":"b088ddc341c964f8","name":"additional_node2_2024-01-18_10-17-50__608fa9fd-ba4a-468e-a3ea-fd06a71bac9a__harbor.status.im_wakuorg_go-waku:latest.log","source":"b088ddc341c964f8.txt","type":"text/plain","size":74250},{"uid":"5858eb674f3a33e5","name":"additional_node3_2024-01-18_10-17-50__608fa9fd-ba4a-468e-a3ea-fd06a71bac9a__harbor.status.im_wakuorg_nwaku:latest.log","source":"5858eb674f3a33e5.txt","type":"text/plain","size":112161},{"uid":"60e5e1d6508d780e","name":"additional_node1_2024-01-18_10-17-50__608fa9fd-ba4a-468e-a3ea-fd06a71bac9a__harbor.status.im_wakuorg_nwaku:latest.log","source":"60e5e1d6508d780e.txt","type":"text/plain","size":191726}],"parameters":[],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":5},{"name":"set_allure_env_variables::0","time":{"start":1705573525837,"stop":1705573525838,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0}],"labels":[{"name":"tag","value":"@pytest.mark.usefixtures('setup_main_relay_node', 'setup_main_filter_node')"},{"name":"parentSuite","value":"tests.filter"},{"name":"suite","value":"test_multiple_nodes"},{"name":"subSuite","value":"TestFilterMultipleNodes"},{"name":"host","value":"fv-az837-944"},{"name":"thread","value":"2028-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.filter.test_multiple_nodes"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["@pytest.mark.usefixtures('setup_main_relay_node', 'setup_main_filter_node')"]},"source":"bae43b77732bd5ed.json","parameterValues":[]}