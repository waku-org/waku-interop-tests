[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2024-09-20_03-20-25__0d117af9-563a-4f3d-9127-87e6685f1148
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-09-20_03-20-25__0d117af9-563a-4f3d-9127-87e6685f1148__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.213.90
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['5611', '5612', '5613', '5614', '5615']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 5611:5611 -p 5612:5612 -p 5613:5613 -p 5614:5614 -p 5615:5615 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=5613 --rest-port=5611 --tcp-port=5612 --discv5-udp-port=5614 --rest-address=0.0.0.0 --nat=extip:172.18.213.90 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a1cb9daee43368fed2f4d95dd7cc52d1eaf36b4ed15e93b819fbdae2b86ba798 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=5615 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.213.90 waku d654ea3bb5d194466f00158ff37470379dace1e063ca158340b4d40f69f5dfc1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID d654ea3bb5d1. Setting up logs at ./log/docker/node1_2024-09-20_03-20-25__0d117af9-563a-4f3d-9127-87e6685f1148__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 5611
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5611/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5611/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.213.90/tcp/5612/p2p/16Uiu2HAmTdeMwp8LajS9RKyYJNixYg3qd8GtGFo2cxrcXz6qgSJb","/ip4/172.18.213.90/tcp/5613/ws/p2p/16Uiu2HAmTdeMwp8LajS9RKyYJNixYg3qd8GtGFo2cxrcXz6qgSJb"],"enrUri":"enr:-LO4QMbmdEVIa-JL5YdHprOQRpCY1hFk0reXBFnOfobSRWUHTxv-YCA_z8GZZXSw1HMluAMFO2KqY4thRpAjvpoOTjEBgmlkgnY0gmlwhKwS1VqKbXVsdGlhZGRyc4wACgSsEtVaBhXt3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPehx8ucgJXGekNhWNZTExlONLSPtxrDqYEv90hiCpH-IN0Y3CCFeyDdWRwghXuhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-09-20_03-20-25__0d117af9-563a-4f3d-9127-87e6685f1148__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.176.211
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['44980', '44981', '44982', '44983', '44984']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 44980:44980 -p 44981:44981 -p 44982:44982 -p 44983:44983 -p 44984:44984 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=44982 --rest-port=44980 --tcp-port=44981 --discv5-udp-port=44983 --rest-address=0.0.0.0 --nat=extip:172.18.176.211 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=91367cada034aef7c8be88a0a0ebfadc4ad1e7fa590b47e3cd5eaac8ebebad5a --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-LO4QMbmdEVIa-JL5YdHprOQRpCY1hFk0reXBFnOfobSRWUHTxv-YCA_z8GZZXSw1HMluAMFO2KqY4thRpAjvpoOTjEBgmlkgnY0gmlwhKwS1VqKbXVsdGlhZGRyc4wACgSsEtVaBhXt3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPehx8ucgJXGekNhWNZTExlONLSPtxrDqYEv90hiCpH-IN0Y3CCFeyDdWRwghXuhXdha3UyAQ
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.173.53
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['32320', '32321', '32322', '32323', '32324']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 32320:32320 -p 32321:32321 -p 32322:32322 -p 32323:32323 -p 32324:32324 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=32322 --rest-port=32320 --tcp-port=32321 --discv5-udp-port=32323 --rest-address=0.0.0.0 --nat=extip:172.18.173.53 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c4bbc7b6727aa5f02ccdf2563e90f2518ecad5a58fecdd941edb0efe4fcdb44e --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-LO4QMbmdEVIa-JL5YdHprOQRpCY1hFk0reXBFnOfobSRWUHTxv-YCA_z8GZZXSw1HMluAMFO2KqY4thRpAjvpoOTjEBgmlkgnY0gmlwhKwS1VqKbXVsdGlhZGRyc4wACgSsEtVaBhXt3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPehx8ucgJXGekNhWNZTExlONLSPtxrDqYEv90hiCpH-IN0Y3CCFeyDdWRwghXuhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.173.53 waku 325dcc1f038af69175cba3bccfe91287ad6b98b2cb3d7e2d2a3d20cf99a7caec
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 325dcc1f038a. Setting up logs at ./log/docker/node2_2024-09-20_03-20-25__0d117af9-563a-4f3d-9127-87e6685f1148__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 32320
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32320/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QI3l-yngfbbSTPaYM1AEgE9dq6htxxzkheKkQyiom7RwXgjvW5WhGZygrAvUGlMvfoo78N80x3tl4XqLIC5XIG-GAZINcgAFgmlkgnY0gmlwhKwRAA2Jc2VjcDI1NmsxoQN1qrnsecYy4sbbGN8J5Noyi03IroZC88VJQDkrE0_iDIN0Y3CCfkGDdWRwgn5DhXdha3UyAQ","listenAddresses":["/ip4/127.0.0.1/tcp/32321/p2p/16Uiu2HAmLaK3R2D3hg7CqNNhdKjGW4ArggENBUt56tEmtGDw6CCT","/ip4/127.0.0.1/tcp/32322/ws/p2p/16Uiu2HAmLaK3R2D3hg7CqNNhdKjGW4ArggENBUt56tEmtGDw6CCT","/ip4/172.17.0.13/tcp/32321/p2p/16Uiu2HAmLaK3R2D3hg7CqNNhdKjGW4ArggENBUt56tEmtGDw6CCT","/ip4/172.17.0.13/tcp/32322/ws/p2p/16Uiu2HAmLaK3R2D3hg7CqNNhdKjGW4ArggENBUt56tEmtGDw6CCT"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32320/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.213.90/tcp/5612/p2p/16Uiu2HAmTdeMwp8LajS9RKyYJNixYg3qd8GtGFo2cxrcXz6qgSJb", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-09-20_03-20-25__0d117af9-563a-4f3d-9127-87e6685f1148__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.151.191
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['29019', '29020', '29021', '29022', '29023']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 29019:29019 -p 29020:29020 -p 29021:29021 -p 29022:29022 -p 29023:29023 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=29021 --rest-port=29019 --tcp-port=29020 --discv5-udp-port=29022 --rest-address=0.0.0.0 --nat=extip:172.18.151.191 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ec382dcc4a9bd16dbff8a158a32ebbc7fbaceaae8abafd6decdaed851f00acd7 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=29023 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QMbmdEVIa-JL5YdHprOQRpCY1hFk0reXBFnOfobSRWUHTxv-YCA_z8GZZXSw1HMluAMFO2KqY4thRpAjvpoOTjEBgmlkgnY0gmlwhKwS1VqKbXVsdGlhZGRyc4wACgSsEtVaBhXt3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPehx8ucgJXGekNhWNZTExlONLSPtxrDqYEv90hiCpH-IN0Y3CCFeyDdWRwghXuhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.151.191 waku 76931b80b4d40a785a70e984ea6525375968a2348ff22b22192c59c152e86085
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 76931b80b4d4. Setting up logs at ./log/docker/node3_2024-09-20_03-20-25__0d117af9-563a-4f3d-9127-87e6685f1148__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 29019
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29019/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29019/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.151.191/tcp/29020/p2p/16Uiu2HAmRSc3qJLpWnNL42ahWnBRvbbKCyKRca9hdpy4jvX3EqLJ","/ip4/172.18.151.191/tcp/29021/ws/p2p/16Uiu2HAmRSc3qJLpWnNL42ahWnBRvbbKCyKRca9hdpy4jvX3EqLJ"],"enrUri":"enr:-LO4QLiHh9NxdW5CVZHq0cLgklwMz-43phPHcKF9pOQZ3IDWQKxMM2XTWEW43DtUrTbz1has0qMF4DFl8vxtr5bA9FsBgmlkgnY0gmlwhKwSl7-KbXVsdGlhZGRyc4wACgSsEpe_BnFd3QOCcnOFAAMBAACJc2VjcDI1NmsxoQO9-76ahpKK8zR6JDKEHpggLR0WJKOQ5irqRiP_GD1FR4N0Y3CCcVyDdWRwgnFehXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29019/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.213.90/tcp/5612/p2p/16Uiu2HAmTdeMwp8LajS9RKyYJNixYg3qd8GtGFo2cxrcXz6qgSJb"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-09-20_03-20-25__0d117af9-563a-4f3d-9127-87e6685f1148__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.185.135
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['24241', '24242', '24243', '24244', '24245']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 24241:24241 -p 24242:24242 -p 24243:24243 -p 24244:24244 -p 24245:24245 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=24243 --rest-port=24241 --tcp-port=24242 --discv5-udp-port=24244 --rest-address=0.0.0.0 --nat=extip:172.18.185.135 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0c749dea1e308403b86b9a16615110a109cad2dfef4da4d6c66f4ee1e6a1712a --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-LO4QMbmdEVIa-JL5YdHprOQRpCY1hFk0reXBFnOfobSRWUHTxv-YCA_z8GZZXSw1HMluAMFO2KqY4thRpAjvpoOTjEBgmlkgnY0gmlwhKwS1VqKbXVsdGlhZGRyc4wACgSsEtVaBhXt3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPehx8ucgJXGekNhWNZTExlONLSPtxrDqYEv90hiCpH-IN0Y3CCFeyDdWRwghXuhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.185.135 waku c583cd7cf35a5d4ac3f24f4098a6ef04188bdc166421ef7b87bf3d2e0936fba2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID c583cd7cf35a. Setting up logs at ./log/docker/node4_2024-09-20_03-20-25__0d117af9-563a-4f3d-9127-87e6685f1148__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 24241
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24241/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QLQInsAWhXlHB998m8eOtRu_8ZwTpW5XskeresLMRK3yLE3XgR-Uf4s6AGA3ANszRGSsgki8HOKnsagJVRyleXqGAZINcgzMgmlkgnY0gmlwhKwRABGJc2VjcDI1NmsxoQJOx1UpcNYfXQ9T9_Ae67uldTh-C9cpj9L8CGqTZvOBvIN0Y3CCXrKDdWRwgl60hXdha3UyAQ","listenAddresses":["/ip4/127.0.0.1/tcp/24242/p2p/16Uiu2HAkzjC55vMdGhqYLBggb3ggHvUzYDSh6fNp8y9CKEwwo1vj","/ip4/127.0.0.1/tcp/24243/ws/p2p/16Uiu2HAkzjC55vMdGhqYLBggb3ggHvUzYDSh6fNp8y9CKEwwo1vj","/ip4/172.17.0.17/tcp/24242/p2p/16Uiu2HAkzjC55vMdGhqYLBggb3ggHvUzYDSh6fNp8y9CKEwwo1vj","/ip4/172.17.0.17/tcp/24243/ws/p2p/16Uiu2HAkzjC55vMdGhqYLBggb3ggHvUzYDSh6fNp8y9CKEwwo1vj"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24241/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.213.90/tcp/5612/p2p/16Uiu2HAmTdeMwp8LajS9RKyYJNixYg3qd8GtGFo2cxrcXz6qgSJb", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-09-20_03-20-25__0d117af9-563a-4f3d-9127-87e6685f1148__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.65.2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['35956', '35957', '35958', '35959', '35960']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 35956:35956 -p 35957:35957 -p 35958:35958 -p 35959:35959 -p 35960:35960 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=35958 --rest-port=35956 --tcp-port=35957 --discv5-udp-port=35959 --rest-address=0.0.0.0 --nat=extip:172.18.65.2 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=abf8465e815d0daedc1dfea1cae1d60adce8d27ede9afd7a5ca7da82fb920cd2 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=35960 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QMbmdEVIa-JL5YdHprOQRpCY1hFk0reXBFnOfobSRWUHTxv-YCA_z8GZZXSw1HMluAMFO2KqY4thRpAjvpoOTjEBgmlkgnY0gmlwhKwS1VqKbXVsdGlhZGRyc4wACgSsEtVaBhXt3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPehx8ucgJXGekNhWNZTExlONLSPtxrDqYEv90hiCpH-IN0Y3CCFeyDdWRwghXuhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.65.2 waku 19eedaf39500ed2142bf7b8f814c5b64aba8b669173bbd7120eede30284b3d33
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 19eedaf39500. Setting up logs at ./log/docker/node5_2024-09-20_03-20-25__0d117af9-563a-4f3d-9127-87e6685f1148__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 35956
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35956/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35956/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.65.2/tcp/35957/p2p/16Uiu2HAmP6RCxXZzdRFb4CgNNzM3MhQbTqEuKaRqEH5pRxJ32QSn","/ip4/172.18.65.2/tcp/35958/ws/p2p/16Uiu2HAmP6RCxXZzdRFb4CgNNzM3MhQbTqEuKaRqEH5pRxJ32QSn"],"enrUri":"enr:-LO4QGtreeQl2I_2Dgf-Y8Wi9U9i8bxU_Z11ZTRan_hfvR15Q1VMmiRnxT9PUaQFWR0NTKYmoGndl0YncsoWf4bYSbABgmlkgnY0gmlwhKwSQQKKbXVsdGlhZGRyc4wACgSsEkECBox23QOCcnOFAAMBAACJc2VjcDI1NmsxoQObGH6htfAaZQkZC2ZC5zyESDHt2vE6nRTkGqmhOQ5Ku4N0Y3CCjHWDdWRwgox3hXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35956/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.213.90/tcp/5612/p2p/16Uiu2HAmTdeMwp8LajS9RKyYJNixYg3qd8GtGFo2cxrcXz6qgSJb"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5611/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32320/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29019/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24241/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35956/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5611/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5611/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1726802433717824768,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32320/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1726802433717824768,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29019/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1726802433717824768,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24241/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1726802433717824768,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35956/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1726802433717824768,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35956/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5611/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1726802433848881152,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32320/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1726802433848881152,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29019/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1726802433848881152,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24241/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1726802433848881152,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35956/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1726802433848881152,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id d654ea3bb5d1
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 325dcc1f038a
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 76931b80b4d4
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id c583cd7cf35a
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 19eedaf39500
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.