2025-02-13 03:05:34.370 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-13 03:05:34.371 DEBUG [tests.conftest] Running test: test_filter_subscribe_with_no_pubsub_topic with id: 2025-02-13_03-05-34__5a99fea5-fe21-48bd-b6fb-9601e9bad7e6
2025-02-13 03:05:34.371 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-13 03:05:34.371 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2025-02-13 03:05:34.371 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2025-02-13 03:05:34.377 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-13 03:05:34.377 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-13_03-05-34__5a99fea5-fe21-48bd-b6fb-9601e9bad7e6__wakuorg_nwaku:latest.log
2025-02-13 03:05:34.377 DEBUG [src.node.waku_node] Starting Node...
2025-02-13 03:05:34.378 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-13 03:05:34.379 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-13 03:05:34.379 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.220.219
2025-02-13 03:05:34.379 DEBUG [src.node.docker_mananger] Generated ports ['54984', '54985', '54986', '54987', '54988']
2025-02-13 03:05:34.379 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-13 03:05:34.379 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-13 03:05:34.379 DEBUG [src.node.waku_node] Using volumes []
2025-02-13 03:05:34.380 DEBUG [src.node.docker_mananger] docker run -i -t -p 54984:54984 -p 54985:54985 -p 54986:54986 -p 54987:54987 -p 54988:54988 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=54986 --rest-port=54984 --tcp-port=54985 --discv5-udp-port=54987 --rest-address=0.0.0.0 --nat=extip:172.18.220.219 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1b76e634eb055c1ea71e6069557b7a575e46aba4abeaad9ada0bedfe1f5ad63d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=54988 --metrics-logging=true --relay=true --filter=true
2025-02-13 03:05:34.548 ERROR [src.node.docker_mananger] Max retries reached for container dae114ddf37d. Exiting log stream.
2025-02-13 03:05:34.601 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.220.219 waku 1a61a6d8963bf72e0d3b4e9903e067a2735ad3edbaf68e6a729562867bf21ce5
2025-02-13 03:05:34.650 DEBUG [src.node.docker_mananger] Container started with ID 1a61a6d8963b. Setting up logs at ./log/docker/node1_2025-02-13_03-05-34__5a99fea5-fe21-48bd-b6fb-9601e9bad7e6__wakuorg_nwaku:latest.log
2025-02-13 03:05:34.651 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 54984
2025-02-13 03:05:34.652 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-13 03:05:35.167 ERROR [src.node.docker_mananger] Max retries reached for container 2cc249c6a2f5. Exiting log stream.
2025-02-13 03:05:35.652 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54984/health" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:35.655 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-13 03:05:35.655 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-13 03:05:35.656 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54984/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:35.658 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.220.219/tcp/54985/p2p/16Uiu2HAmBJnN7ULgW7qA17sPNn5sXAMkNz1jTXAGP9RozpePrG49","/ip4/172.18.220.219/tcp/54986/ws/p2p/16Uiu2HAmBJnN7ULgW7qA17sPNn5sXAMkNz1jTXAGP9RozpePrG49"],"enrUri":"enr:-L24QPoN9Z_FxEQrBcLWjuI2YNdHfJ-Sx-2CQ8_aet4TYIg4PWSTal_NMntp_E_8_VBOBl59w4kL_jnd4pJoxQUM7FwCgmlkgnY0gmlwhKwS3NuKbXVsdGlhZGRyc5YACASsEtzbBtbJAAoErBLc2wbWyt0DgnJzhQADAQAAiXNlY3AyNTZrMaEC6_ck_OLzDXAp_wdr4UAE8LfvEn6owiMDJZzZ90sVQTqDdGNwgtbJg3VkcILWy4V3YWt1MgU"}'
2025-02-13 03:05:35.658 INFO [src.node.waku_node] REST service is ready !!
2025-02-13 03:05:35.658 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2025-02-13 03:05:35.664 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-13 03:05:35.665 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-13_03-05-34__5a99fea5-fe21-48bd-b6fb-9601e9bad7e6__wakuorg_go-waku:latest.log
2025-02-13 03:05:35.665 DEBUG [src.node.waku_node] Starting Node...
2025-02-13 03:05:35.665 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-13 03:05:35.666 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-13 03:05:35.666 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.251.111
2025-02-13 03:05:35.666 DEBUG [src.node.docker_mananger] Generated ports ['39613', '39614', '39615', '39616', '39617']
2025-02-13 03:05:35.667 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-13 03:05:35.667 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-13 03:05:35.667 DEBUG [src.node.waku_node] Using volumes []
2025-02-13 03:05:35.667 DEBUG [src.node.docker_mananger] docker run -i -t -p 39613:39613 -p 39614:39614 -p 39615:39615 -p 39616:39616 -p 39617:39617 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=39615 --rest-port=39613 --tcp-port=39614 --discv5-udp-port=39616 --rest-address=0.0.0.0 --nat=extip:172.18.251.111 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8bf87b10e2ae7db1b9ebe88cb5c5d8eccdeddd82540dfad2a6508b60a21e5e93 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QPoN9Z_FxEQrBcLWjuI2YNdHfJ-Sx-2CQ8_aet4TYIg4PWSTal_NMntp_E_8_VBOBl59w4kL_jnd4pJoxQUM7FwCgmlkgnY0gmlwhKwS3NuKbXVsdGlhZGRyc5YACASsEtzbBtbJAAoErBLc2wbWyt0DgnJzhQADAQAAiXNlY3AyNTZrMaEC6_ck_OLzDXAp_wdr4UAE8LfvEn6owiMDJZzZ90sVQTqDdGNwgtbJg3VkcILWy4V3YWt1MgU --filternode=/ip4/172.18.220.219/tcp/54985/p2p/16Uiu2HAmBJnN7ULgW7qA17sPNn5sXAMkNz1jTXAGP9RozpePrG49 --pubsub-topic=/waku/2/rs/3/1
2025-02-13 03:05:35.893 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.251.111 waku 324a88326f411f4e7f8be531ea0b0164c406c7d89dd068ba6b18fa0c9611808b
2025-02-13 03:05:35.945 DEBUG [src.node.docker_mananger] Container started with ID 324a88326f41. Setting up logs at ./log/docker/node2_2025-02-13_03-05-34__5a99fea5-fe21-48bd-b6fb-9601e9bad7e6__wakuorg_go-waku:latest.log
2025-02-13 03:05:35.945 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 39613
2025-02-13 03:05:35.945 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-13 03:05:36.946 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39613/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:36.948 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QN8tsQgMqK7QhrO7jLtmNtC0ACoc2l1P_JAjXQN0Dn-mDw62ScYUtF-7Zkfwt85Ja0AhDpJODlSCybGiPprRov6GAZT9RNvGgmlkgnY0gmlwhKwRAAOCcnOFAAMBAAGJc2VjcDI1NmsxoQJYUJEt-o00Z0mXLpsrMjibLzlByxDQh9oCFkbAAvb6rYN0Y3CCmr6DdWRwgprAhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/39614/p2p/16Uiu2HAm1NR7QssCHidPCf7WY6frCfqJRikXKprhQgbmvnchKtxU","/ip4/127.0.0.1/tcp/39615/ws/p2p/16Uiu2HAm1NR7QssCHidPCf7WY6frCfqJRikXKprhQgbmvnchKtxU","/ip4/172.17.0.3/tcp/39614/p2p/16Uiu2HAm1NR7QssCHidPCf7WY6frCfqJRikXKprhQgbmvnchKtxU","/ip4/172.17.0.3/tcp/39615/ws/p2p/16Uiu2HAm1NR7QssCHidPCf7WY6frCfqJRikXKprhQgbmvnchKtxU"]}'
2025-02-13 03:05:36.948 INFO [src.node.waku_node] REST service is ready !!
2025-02-13 03:05:36.948 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39613/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.220.219/tcp/54985/p2p/16Uiu2HAmBJnN7ULgW7qA17sPNn5sXAMkNz1jTXAGP9RozpePrG49", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-13 03:05:36.950 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-13 03:05:36.951 DEBUG [src.steps.filter] Running fixture setup: subscribe_main_nodes
2025-02-13 03:05:36.951 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54984/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-13 03:05:36.954 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 03:05:36.954 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39613/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "15b24b65-9c67-43f0-a029-bd1260a98176", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2025-02-13 03:05:36.960 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"15b24b65-9c67-43f0-a029-bd1260a98176","statusDesc":"OK"}'
2025-02-13 03:05:36.961 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39613/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/1/waku-filter/proto"]}'
2025-02-13 03:05:57.061 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-13 03:05:57.062 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-13 03:05:57.062 DEBUG [src.node.waku_node] Stopping container with id 1a61a6d8963b
2025-02-13 03:05:57.564 DEBUG [src.node.waku_node] Container stopped.
2025-02-13 03:05:57.565 DEBUG [src.node.waku_node] Stopping container with id 324a88326f41
2025-02-13 03:05:58.377 ERROR [src.node.docker_mananger] Max retries reached for container 1a61a6d8963b. Exiting log stream.
2025-02-13 03:06:08.055 DEBUG [src.node.waku_node] Container stopped.
2025-02-13 03:06:08.056 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-13 03:06:08.063 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-13 03:06:08.065 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
