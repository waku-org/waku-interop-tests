2025-02-13 03:07:57.133 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-13 03:07:57.133 DEBUG [tests.conftest] Running test: test_get_store_messages_with_different_pubsub_topics with id: 2025-02-13_03-07-57__f0763470-3ad3-4d80-9519-aa58db29d833
2025-02-13 03:07:57.133 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-13 03:07:57.133 DEBUG [src.steps.store] Running fixture setup: store_setup
2025-02-13 03:07:57.134 DEBUG [src.steps.store] Running fixture setup: node_setup
2025-02-13 03:07:57.140 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-13 03:07:57.140 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-13_03-07-57__f0763470-3ad3-4d80-9519-aa58db29d833__wakuorg_nwaku:latest.log
2025-02-13 03:07:57.140 DEBUG [src.node.waku_node] Starting Node...
2025-02-13 03:07:57.140 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-13 03:07:57.142 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-13 03:07:57.142 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.195.107
2025-02-13 03:07:57.142 DEBUG [src.node.docker_mananger] Generated ports ['30907', '30908', '30909', '30910', '30911']
2025-02-13 03:07:57.142 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-13 03:07:57.142 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-13 03:07:57.142 DEBUG [src.node.waku_node] Using volumes []
2025-02-13 03:07:57.142 DEBUG [src.node.docker_mananger] docker run -i -t -p 30907:30907 -p 30908:30908 -p 30909:30909 -p 30910:30910 -p 30911:30911 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=30909 --rest-port=30907 --tcp-port=30908 --discv5-udp-port=30910 --rest-address=0.0.0.0 --nat=extip:172.18.195.107 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=74bd823e754a42e819ec3337cc75baa459dfe42ba3f71d65fb6bc3edfdaa9aa9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=30911 --metrics-logging=true --store=true --relay=true
2025-02-13 03:07:57.386 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.195.107 waku 567072e1982f1ab56ad9ac511de9c6745038013a7fdd35a4905f6c271db507aa
2025-02-13 03:07:57.421 ERROR [src.node.docker_mananger] Max retries reached for container 9a0258238b4c. Exiting log stream.
2025-02-13 03:07:57.436 DEBUG [src.node.docker_mananger] Container started with ID 567072e1982f. Setting up logs at ./log/docker/publishing_node1_2025-02-13_03-07-57__f0763470-3ad3-4d80-9519-aa58db29d833__wakuorg_nwaku:latest.log
2025-02-13 03:07:57.437 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 30907
2025-02-13 03:07:57.439 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-13 03:07:57.939 ERROR [src.node.docker_mananger] Max retries reached for container c18f6d53c641. Exiting log stream.
2025-02-13 03:07:58.440 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30907/health" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:07:58.443 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-13 03:07:58.443 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-13 03:07:58.444 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30907/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:07:58.446 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.195.107/tcp/30908/p2p/16Uiu2HAm37D81mf835LbPmhXDjeRevJyMxEEjGEEwdu77ZVaJqhH","/ip4/172.18.195.107/tcp/30909/ws/p2p/16Uiu2HAm37D81mf835LbPmhXDjeRevJyMxEEjGEEwdu77ZVaJqhH"],"enrUri":"enr:-L24QCANBm91nGV-IH8yFIWiUea-DTX0cvAwow0PhZPMFI-DXmOlPApexPSD5CfJabPZeFUhD0UOVm8iAmCQePF7BUACgmlkgnY0gmlwhKwSw2uKbXVsdGlhZGRyc5YACASsEsNrBni8AAoErBLDawZ4vd0DgnJzhQADAQAAiXNlY3AyNTZrMaECciKsD1tw55-ZIW6_m8rHFFl-g93_OKQwlgKhMWCSzhiDdGNwgni8g3VkcIJ4voV3YWt1MgM"}'
2025-02-13 03:07:58.446 INFO [src.node.waku_node] REST service is ready !!
2025-02-13 03:07:58.453 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-13 03:07:58.453 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-13_03-07-57__f0763470-3ad3-4d80-9519-aa58db29d833__wakuorg_go-waku:latest.log
2025-02-13 03:07:58.453 DEBUG [src.node.waku_node] Starting Node...
2025-02-13 03:07:58.453 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-13 03:07:58.454 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-13 03:07:58.454 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.100.247
2025-02-13 03:07:58.455 DEBUG [src.node.docker_mananger] Generated ports ['4433', '4434', '4435', '4436', '4437']
2025-02-13 03:07:58.455 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-13 03:07:58.455 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-13 03:07:58.455 DEBUG [src.node.waku_node] Using volumes []
2025-02-13 03:07:58.455 DEBUG [src.node.docker_mananger] docker run -i -t -p 4433:4433 -p 4434:4434 -p 4435:4435 -p 4436:4436 -p 4437:4437 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=4435 --rest-port=4433 --tcp-port=4434 --discv5-udp-port=4436 --rest-address=0.0.0.0 --nat=extip:172.18.100.247 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=34002c8cb46fdc26d0e4f802aa42fabbd9d2e39abedae8a7ebaec01f3db6f8a9 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-L24QCANBm91nGV-IH8yFIWiUea-DTX0cvAwow0PhZPMFI-DXmOlPApexPSD5CfJabPZeFUhD0UOVm8iAmCQePF7BUACgmlkgnY0gmlwhKwSw2uKbXVsdGlhZGRyc5YACASsEsNrBni8AAoErBLDawZ4vd0DgnJzhQADAQAAiXNlY3AyNTZrMaECciKsD1tw55-ZIW6_m8rHFFl-g93_OKQwlgKhMWCSzhiDdGNwgni8g3VkcIJ4voV3YWt1MgM --storenode=/ip4/172.18.195.107/tcp/30908/p2p/16Uiu2HAm37D81mf835LbPmhXDjeRevJyMxEEjGEEwdu77ZVaJqhH --store=true --relay=true
2025-02-13 03:07:58.692 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.100.247 waku 1b91c9c5024a95ce852101b85714659b62c4e1b9e108c203f28e301a81941d7e
2025-02-13 03:07:58.773 DEBUG [src.node.docker_mananger] Container started with ID 1b91c9c5024a. Setting up logs at ./log/docker/store_node1_2025-02-13_03-07-57__f0763470-3ad3-4d80-9519-aa58db29d833__wakuorg_go-waku:latest.log
2025-02-13 03:07:58.773 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 4433
2025-02-13 03:07:58.774 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-13 03:07:59.775 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4433/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:07:59.778 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QHrdDIir7Iw3Qx9YuLBfUJjE5Ew6UZWbZaRrGOAiNphbE-naiCWxkPe2ZNAMFASHyAJeeNPFYinnXh6Af1h-YqKGAZT9RwmfgmlkgnY0gmlwhKwRAAOCcnODAAMAiXNlY3AyNTZrMaEDuODBCgrTTcwqDw_Rq7TqwTT2mPftU32fZ5pY8Mwh74mDdGNwghFSg3VkcIIRVIV3YWt1MgM","listenAddresses":["/ip4/127.0.0.1/tcp/4434/p2p/16Uiu2HAmR6g97PKUJe4HUJng1adxvEPcp8cpH21KUWaWk8UVNLfS","/ip4/127.0.0.1/tcp/4435/ws/p2p/16Uiu2HAmR6g97PKUJe4HUJng1adxvEPcp8cpH21KUWaWk8UVNLfS","/ip4/172.17.0.3/tcp/4434/p2p/16Uiu2HAmR6g97PKUJe4HUJng1adxvEPcp8cpH21KUWaWk8UVNLfS","/ip4/172.17.0.3/tcp/4435/ws/p2p/16Uiu2HAmR6g97PKUJe4HUJng1adxvEPcp8cpH21KUWaWk8UVNLfS"]}'
2025-02-13 03:07:59.778 INFO [src.node.waku_node] REST service is ready !!
2025-02-13 03:07:59.779 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4433/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.195.107/tcp/30908/p2p/16Uiu2HAm37D81mf835LbPmhXDjeRevJyMxEEjGEEwdu77ZVaJqhH", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-13 03:07:59.796 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-13 03:07:59.797 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:30907/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-13 03:07:59.818 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 03:07:59.818 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4433/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-13 03:07:59.821 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-13 03:07:59.824 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:30907/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/2", "/waku/2/rs/3/3", "/waku/2/rs/3/4", "/waku/2/rs/3/5", "/waku/2/rs/3/6", "/waku/2/rs/3/7", "/waku/2/rs/3/8"]'
2025-02-13 03:07:59.838 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 03:07:59.838 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4433/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/2", "/waku/2/rs/3/3", "/waku/2/rs/3/4", "/waku/2/rs/3/5", "/waku/2/rs/3/6", "/waku/2/rs/3/7", "/waku/2/rs/3/8"]'
2025-02-13 03:07:59.849 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-13 03:07:59.850 DEBUG [tests.store.test_get_messages] Running test with pubsub topic /waku/2/rs/3/0
2025-02-13 03:07:59.850 DEBUG [src.steps.store] Relaying message
2025-02-13 03:07:59.851 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:30907/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-13 03:07:59.870 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 03:07:59.871 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-13 03:08:00.071 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-13 03:08:00.072 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30907/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:08:00.075 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x434075eb0d1372b2db5e51683be4f07ec5b623b7305b0db4be7402001fab8346"}]}'
2025-02-13 03:08:00.075 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-13 03:08:00.076 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4433/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:08:00.081 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"d13be7a7c207ba8b49094fc12647926a1a16d30e467ba0a1ab0b66819302f763","status_code":200,"status_desc":"OK","messages":[{"message_hash":"Q0B16w0TcrLbXlFoO+TwfsW2I7cwWw20vnQCAB+rg0Y="}]}'
2025-02-13 03:08:00.081 DEBUG [tests.store.test_get_messages] Running test with pubsub topic /waku/2/rs/3/1
2025-02-13 03:08:00.082 DEBUG [src.steps.store] Relaying message
2025-02-13 03:08:00.082 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:30907/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-13 03:08:00.088 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 03:08:00.088 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-13 03:08:00.289 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-13 03:08:00.289 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30907/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F1&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:08:00.292 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xe574b9736b6636d3584cba64178719dd545d5c12df4e884368d0e8f07ea55bb0"}]}'
2025-02-13 03:08:00.293 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-13 03:08:00.293 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4433/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F1&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:08:03.045 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"6fa8938c98301b7a8f432cab888f810ce58ebdbe3b759ef26b3af1286bd03698","status_code":200,"status_desc":"OK","messages":[{"message_hash":"5XS5c2tmNtNYTLpkF4cZ3VRdXBLfTohDaNDo8H6lW7A="}]}'
2025-02-13 03:08:03.046 DEBUG [tests.store.test_get_messages] Running test with pubsub topic /waku/2/rs/3/2
2025-02-13 03:08:03.046 DEBUG [src.steps.store] Relaying message
2025-02-13 03:08:03.047 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:30907/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F2" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-13 03:08:03.053 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 03:08:03.053 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-13 03:08:03.254 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-13 03:08:03.255 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30907/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F2&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:08:03.258 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x3e8ed373d622ff987f7310b50f33ac0e1710f0230036bf59add633c8a61d8b8c"}]}'
2025-02-13 03:08:03.258 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-13 03:08:03.259 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4433/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F2&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:08:03.264 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"3a45f1c9add07cd75afefc16436cdcd6d64f15915c368040e1c38ba0e5fbf349","status_code":200,"status_desc":"OK","messages":[{"message_hash":"Po7Tc9Yi/5h/cxC1DzOsDhcQ8CMANr9ZrdYzyKYdi4w="}]}'
2025-02-13 03:08:03.265 DEBUG [tests.store.test_get_messages] Running test with pubsub topic /waku/2/rs/3/3
2025-02-13 03:08:03.265 DEBUG [src.steps.store] Relaying message
2025-02-13 03:08:03.265 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:30907/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F3" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-13 03:08:03.271 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 03:08:03.271 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-13 03:08:03.471 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-13 03:08:03.472 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30907/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F3&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:08:03.475 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xa2bf0ce6cc27bf6c485d12133f5acb5d691c4e89d9e75e14ed671d78eb31765a"}]}'
2025-02-13 03:08:03.475 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-13 03:08:03.476 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4433/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F3&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:08:03.480 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"0f678cc2dc98f489fc49d64f52a3cc187ce56a1ec1b4a93902db87ecb0cb2ccd","status_code":200,"status_desc":"OK","messages":[{"message_hash":"or8M5swnv2xIXRITP1rLXWkcTonZ514U7WcdeOsxdlo="}]}'
2025-02-13 03:08:03.481 DEBUG [tests.store.test_get_messages] Running test with pubsub topic /waku/2/rs/3/4
2025-02-13 03:08:03.482 DEBUG [src.steps.store] Relaying message
2025-02-13 03:08:03.482 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:30907/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F4" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-13 03:08:03.487 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 03:08:03.487 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-13 03:08:03.688 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-13 03:08:03.689 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30907/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F4&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:08:03.692 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x7a8f9866d93017acc41873d8e3b0f7880480dba160ad15a145bbffdfc742e357"}]}'
2025-02-13 03:08:03.692 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-13 03:08:03.692 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4433/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F4&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:08:03.697 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"7bb848eb670856b7af194309e37002841d2420d803c27b21cd401305e954074f","status_code":200,"status_desc":"OK","messages":[{"message_hash":"eo+YZtkwF6zEGHPY47D3iASA26FgrRWhRbv/38dC41c="}]}'
2025-02-13 03:08:03.698 DEBUG [tests.store.test_get_messages] Running test with pubsub topic /waku/2/rs/3/5
2025-02-13 03:08:03.698 DEBUG [src.steps.store] Relaying message
2025-02-13 03:08:03.698 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:30907/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F5" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-13 03:08:03.703 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 03:08:03.703 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-13 03:08:03.904 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-13 03:08:03.904 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30907/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F5&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:08:03.908 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x90fdf8f50ecdcc789fd4d18d509fb30b90201dde409671d532c553f86924c5e5"}]}'
2025-02-13 03:08:03.908 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-13 03:08:03.908 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4433/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F5&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:08:03.914 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"af26f909cddd108eeb77ab69b92ee2edc9a0c0f8e613830b6ab844c0af1fa12c","status_code":200,"status_desc":"OK","messages":[{"message_hash":"kP349Q7NzHif1NGNUJ+zC5AgHd5AlnHVMsVT+GkkxeU="}]}'
2025-02-13 03:08:03.914 DEBUG [tests.store.test_get_messages] Running test with pubsub topic /waku/2/rs/3/6
2025-02-13 03:08:03.915 DEBUG [src.steps.store] Relaying message
2025-02-13 03:08:03.915 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:30907/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F6" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-13 03:08:03.922 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 03:08:03.922 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-13 03:08:04.123 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-13 03:08:04.123 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30907/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F6&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:08:04.127 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x380b65daa7b36e14c1ea5439b1160efb1371ea799f9089d705799afd820a8303"}]}'
2025-02-13 03:08:04.127 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-13 03:08:04.127 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4433/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F6&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:08:04.132 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"624c3c699ca3d5f3ab9f568e34af0c82e19119a513bd40d5f4a83f6aa4693104","status_code":200,"status_desc":"OK","messages":[{"message_hash":"OAtl2qezbhTB6lQ5sRYO+xNx6nmfkInXBXma/YIKgwM="}]}'
2025-02-13 03:08:04.133 DEBUG [tests.store.test_get_messages] Running test with pubsub topic /waku/2/rs/3/7
2025-02-13 03:08:04.133 DEBUG [src.steps.store] Relaying message
2025-02-13 03:08:04.133 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:30907/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F7" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-13 03:08:04.139 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 03:08:04.139 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-13 03:08:04.339 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-13 03:08:04.340 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30907/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F7&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:08:04.343 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x3a37b975e8fdde6ef97d9919cd8b7cf121e76d642d26af43f4a59c370270a178"}]}'
2025-02-13 03:08:04.344 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-13 03:08:04.344 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4433/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F7&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:08:04.349 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"16061a0a8aa4734becea15aa6f800406aee1d149715db6372fa5588b446753f1","status_code":200,"status_desc":"OK","messages":[{"message_hash":"Oje5dej93m75fZkZzYt88SHnbWQtJq9D9KWcNwJwoXg="}]}'
2025-02-13 03:08:04.350 DEBUG [tests.store.test_get_messages] Running test with pubsub topic /waku/2/rs/3/8
2025-02-13 03:08:04.350 DEBUG [src.steps.store] Relaying message
2025-02-13 03:08:04.350 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:30907/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F8" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-13 03:08:04.355 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 03:08:04.355 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-13 03:08:04.556 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-13 03:08:04.556 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30907/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F8&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:08:04.560 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xf4e656b3a722ddbfa3121a18a5f6af172f247a5416a7683f059b6913512570dd"}]}'
2025-02-13 03:08:04.560 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-13 03:08:04.560 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4433/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F8&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:08:04.565 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"f28046266a0ea3797b1c9b7c1c935f456297ce8ea9f9465fa257b3a4a8482b48","status_code":200,"status_desc":"OK","messages":[{"message_hash":"9OZWs6ci3b+jEhoYpfavFy8kelQWp2g/BZtpE1ElcN0="}]}'
2025-02-13 03:08:04.567 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-13 03:08:04.568 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-13 03:08:04.569 DEBUG [src.node.waku_node] Stopping container with id 567072e1982f
2025-02-13 03:08:05.074 DEBUG [src.node.waku_node] Container stopped.
2025-02-13 03:08:05.075 DEBUG [src.node.waku_node] Stopping container with id 1b91c9c5024a
2025-02-13 03:08:05.887 ERROR [src.node.docker_mananger] Max retries reached for container 567072e1982f. Exiting log stream.
2025-02-13 03:08:15.568 DEBUG [src.node.waku_node] Container stopped.
2025-02-13 03:08:15.570 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-13 03:08:15.586 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-13 03:08:15.591 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
