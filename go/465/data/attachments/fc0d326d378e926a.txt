[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_cursor_equal_to_first_message with id: 2025-02-13_03-10-36__eca87e87-68df-4011-a6ba-da35f7168ff5
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-13_03-10-36__eca87e87-68df-4011-a6ba-da35f7168ff5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.95.145
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['1040', '1041', '1042', '1043', '1044']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 1040:1040 -p 1041:1041 -p 1042:1042 -p 1043:1043 -p 1044:1044 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=1042 --rest-port=1040 --tcp-port=1041 --discv5-udp-port=1043 --rest-address=0.0.0.0 --nat=extip:172.18.95.145 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=da0e8cbb7f13abf247827abf68230edc7d3fae5cc8e9f1785d34e4e7dffdea76 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=1044 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.95.145 waku b82e47e2c4fd192c6e1156d8bbc132878967d1936da094562f4e68500d4c4c96
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID b82e47e2c4fd. Setting up logs at ./log/docker/publishing_node1_2025-02-13_03-10-36__eca87e87-68df-4011-a6ba-da35f7168ff5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 1040
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 24805fa6ac30. Exiting log stream.
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container a4e54d454b95. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1040/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1040/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.95.145/tcp/1041/p2p/16Uiu2HAmBCxytWTJo7uCQcEzYxjK4nLrJ5zPE6pZsiZnYRe36pCK","/ip4/172.18.95.145/tcp/1042/ws/p2p/16Uiu2HAmBCxytWTJo7uCQcEzYxjK4nLrJ5zPE6pZsiZnYRe36pCK"],"enrUri":"enr:-L24QIM1WX4deZPlyOCmKOaqGRI1sHtTBAP38h5hshcfFuHRQUEX_srH9CMCHnh8B2aC0_FjTKLRKZDvHBR8foD2J4sCgmlkgnY0gmlwhKwSX5GKbXVsdGlhZGRyc5YACASsEl-RBgQRAAoErBJfkQYEEt0DgnJzhQADAQAAiXNlY3AyNTZrMaEC6nmqBAka5XF9GNx9e4uGAZOq9ykQjo-Qj8HQXJM0ZbSDdGNwggQRg3VkcIIEE4V3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-13_03-10-36__eca87e87-68df-4011-a6ba-da35f7168ff5__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.109.41
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['9309', '9310', '9311', '9312', '9313']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 9309:9309 -p 9310:9310 -p 9311:9311 -p 9312:9312 -p 9313:9313 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=9311 --rest-port=9309 --tcp-port=9310 --discv5-udp-port=9312 --rest-address=0.0.0.0 --nat=extip:172.18.109.41 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c91df310d5ffcefb44dad3e6f3418a0e22cadb425fb7e885c19bafdd94bc909c --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-L24QIM1WX4deZPlyOCmKOaqGRI1sHtTBAP38h5hshcfFuHRQUEX_srH9CMCHnh8B2aC0_FjTKLRKZDvHBR8foD2J4sCgmlkgnY0gmlwhKwSX5GKbXVsdGlhZGRyc5YACASsEl-RBgQRAAoErBJfkQYEEt0DgnJzhQADAQAAiXNlY3AyNTZrMaEC6nmqBAka5XF9GNx9e4uGAZOq9ykQjo-Qj8HQXJM0ZbSDdGNwggQRg3VkcIIEE4V3YWt1MgM --storenode=/ip4/172.18.95.145/tcp/1041/p2p/16Uiu2HAmBCxytWTJo7uCQcEzYxjK4nLrJ5zPE6pZsiZnYRe36pCK --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.109.41 waku 8e77b017334a5813dbee29333c89a3defc52d6b966c244f3783808b13f2b707f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 8e77b017334a. Setting up logs at ./log/docker/store_node1_2025-02-13_03-10-36__eca87e87-68df-4011-a6ba-da35f7168ff5__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 9309
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9309/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QLjF3JNs2kCnIJVXohZPKpfLcJzkFu2wN245xre-942rCrBk-_hAO_TrP5ZXMJG-BzYNIzCFP0XBMxXnN8ghCbeGAZT9SXY0gmlkgnY0gmlwhKwRAAOCcnODAAMAiXNlY3AyNTZrMaED4L9DnJE-oWCwZmWq1S2oSfu5Wv10H7CHIytbvAk8GnKDdGNwgiReg3VkcIIkYIV3YWt1MgM","listenAddresses":["/ip4/127.0.0.1/tcp/9310/p2p/16Uiu2HAmTnJq5wrTiiAipdwY4hiDvJFVuTQdbQ96wwJDW4Zruf8M","/ip4/127.0.0.1/tcp/9311/ws/p2p/16Uiu2HAmTnJq5wrTiiAipdwY4hiDvJFVuTQdbQ96wwJDW4Zruf8M","/ip4/172.17.0.3/tcp/9310/p2p/16Uiu2HAmTnJq5wrTiiAipdwY4hiDvJFVuTQdbQ96wwJDW4Zruf8M","/ip4/172.17.0.3/tcp/9311/ws/p2p/16Uiu2HAmTnJq5wrTiiAipdwY4hiDvJFVuTQdbQ96wwJDW4Zruf8M"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9309/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.95.145/tcp/1041/p2p/16Uiu2HAmBCxytWTJo7uCQcEzYxjK4nLrJ5zPE6pZsiZnYRe36pCK", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1040/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9309/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1040/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8w", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1040/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8x", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1040/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8y", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1040/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8z", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1040/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV80", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1040/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV81", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1040/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV82", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1040/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV83", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1040/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV84", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1040/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV85", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1040/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&cursor=0x0db60213d5dab6e4539f40b4450aa9c1db6c4df86b644aedd148122781b6b6c2&pageSize=100&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xdfbf5b193515873f95a37e11b78974263caaa8ea16e9b1ee1f725cd0a6088c95"},{"messageHash":"0x9b8de8b676f21c70455dda4dd1b8ac46290e7a9b933c795a37e1838b234c9dd8"},{"messageHash":"0x80eea5e120b5ef0a000d3d319ac72937fdfb3aad0fe77a4f90dfcfddc4a6167c"},{"messageHash":"0xb8967db7f746b5afa9fe21ee9c524e642bf24f87faae614c8ae87f02b03d94f1"},{"messageHash":"0xc4579b0f496496fd786de8890a89c0a689b6da890ace74c16c3c3928e06b623d"},{"messageHash":"0x1c3588a0e8e83ec48136bd9628d8ea2f89ac445e7aeb16be3d350a283e650e76"},{"messageHash":"0x8f0e51bfc108b56d40766f74178caad056ae0e931a6e7aa72b0227dbba657763"},{"messageHash":"0x90834dcdbb8220e7ea41f025a1d9bd99a755ccde792509605cf75936e815109d"},{"messageHash":"0x4d222142a5e673dcf4b6f2b45e7bd5f71902a6fab6dc2fbc9289f8f1412e4f5a"}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9309/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&cursor=DbYCE9XatuRTn0C0RQqpwdtsTfhrZErt0UgSJ4G2tsI%3D&pageSize=100&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"d67e1a65fb89c7b8676f8446180d60dd2a629a3512bff7eef1f04aac11cdc9db","status_code":200,"status_desc":"OK","messages":[{"message_hash":"379bGTUVhz+Vo34Rt4l0JjyqqOoW6bHuH3Jc0KYIjJU="},{"message_hash":"m43otnbyHHBFXdpN0bisRikOepuTPHlaN+GDiyNMndg="},{"message_hash":"gO6l4SC17woADT0xmscpN/37Oq0P53pPkN/P3cSmFnw="},{"message_hash":"uJZ9t/dGta+p/iHunFJOZCvyT4f6rmFMiuh/ArA9lPE="},{"message_hash":"xFebD0lklv14beiJConApom22okKznTBbDw5KOBrYj0="},{"message_hash":"HDWIoOjoPsSBNr2WKNjqL4msRF566xa+PTUKKD5lDnY="},{"message_hash":"jw5Rv8EItW1Adm90F4yq0FauDpMabnqnKwIn27pld2M="},{"message_hash":"kINNzbuCIOfqQfAlodm9madVzN55JQlgXPdZNugVEJ0="},{"message_hash":"TSIhQqXmc9z0tvK0XnvV9xkCpvq23C+8kon48UEuT1o="}]}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id b82e47e2c4fd
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 8e77b017334a
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.