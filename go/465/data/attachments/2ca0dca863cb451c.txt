2025-02-13 03:06:36.833 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-13 03:06:36.833 DEBUG [tests.conftest] Running test: test_relay_subscribe_with_empty_pubsub_topic_list with id: 2025-02-13_03-06-36__2a73ecdc-61e0-4616-869d-31f7a5e2c5c1
2025-02-13 03:06:36.833 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-13 03:06:36.834 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-13 03:06:36.834 DEBUG [src.steps.relay] Running fixture setup: setup_main_relay_nodes
2025-02-13 03:06:36.840 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-13 03:06:36.840 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-13_03-06-36__2a73ecdc-61e0-4616-869d-31f7a5e2c5c1__wakuorg_nwaku:latest.log
2025-02-13 03:06:36.840 DEBUG [src.node.waku_node] Starting Node...
2025-02-13 03:06:36.840 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-13 03:06:36.842 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-13 03:06:36.842 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.179.216
2025-02-13 03:06:36.842 DEBUG [src.node.docker_mananger] Generated ports ['17781', '17782', '17783', '17784', '17785']
2025-02-13 03:06:36.842 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-13 03:06:36.842 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-13 03:06:36.842 DEBUG [src.node.waku_node] Using volumes []
2025-02-13 03:06:36.843 DEBUG [src.node.docker_mananger] docker run -i -t -p 17781:17781 -p 17782:17782 -p 17783:17783 -p 17784:17784 -p 17785:17785 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=17783 --rest-port=17781 --tcp-port=17782 --discv5-udp-port=17784 --rest-address=0.0.0.0 --nat=extip:172.18.179.216 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d2352fc3ac8bffedacba1bbb14acd86917eec14980eaf3d0de9a59fa3bdad2f7 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=17785 --metrics-logging=true --relay=true
2025-02-13 03:06:37.077 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.179.216 waku 8d457646b24602312471041813cfb2151de944808e1653302c25b598d2cd53b3
2025-02-13 03:06:37.129 ERROR [src.node.docker_mananger] Max retries reached for container e69d99cdcfbf. Exiting log stream.
2025-02-13 03:06:37.130 DEBUG [src.node.docker_mananger] Container started with ID 8d457646b246. Setting up logs at ./log/docker/node1_2025-02-13_03-06-36__2a73ecdc-61e0-4616-869d-31f7a5e2c5c1__wakuorg_nwaku:latest.log
2025-02-13 03:06:37.130 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 17781
2025-02-13 03:06:37.131 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-13 03:06:37.636 ERROR [src.node.docker_mananger] Max retries reached for container 3469e74a2544. Exiting log stream.
2025-02-13 03:06:38.132 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17781/health" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:06:38.134 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-13 03:06:38.135 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-13 03:06:38.135 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17781/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:06:38.137 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.179.216/tcp/17782/p2p/16Uiu2HAmRReCHXUGB8PgDXMmnddPqDvoKyiNZLshKFibWS6j21NB","/ip4/172.18.179.216/tcp/17783/ws/p2p/16Uiu2HAmRReCHXUGB8PgDXMmnddPqDvoKyiNZLshKFibWS6j21NB"],"enrUri":"enr:-L24QM9NYTSk7QWHmLyENmMzA3rXRga3tOdgRwNtkENRgMnfUngmZb_H_zNLsMZFHV7po_MYemKx4buLwaVUSvS-vicCgmlkgnY0gmlwhKwSs9iKbXVsdGlhZGRyc5YACASsErPYBkV2AAoErBKz2AZFd90DgnJzhQADAQAAiXNlY3AyNTZrMaEDvbyXBNpJiRYOKkar64yGYKIi-3oHLaOxu_sVTW0SsHSDdGNwgkV2g3VkcIJFeIV3YWt1MgE"}'
2025-02-13 03:06:38.137 INFO [src.node.waku_node] REST service is ready !!
2025-02-13 03:06:38.144 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-13 03:06:38.144 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-13_03-06-36__2a73ecdc-61e0-4616-869d-31f7a5e2c5c1__wakuorg_go-waku:latest.log
2025-02-13 03:06:38.144 DEBUG [src.node.waku_node] Starting Node...
2025-02-13 03:06:38.144 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-13 03:06:38.145 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-13 03:06:38.145 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.236.51
2025-02-13 03:06:38.146 DEBUG [src.node.docker_mananger] Generated ports ['17242', '17243', '17244', '17245', '17246']
2025-02-13 03:06:38.146 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-13 03:06:38.146 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-13 03:06:38.146 DEBUG [src.node.waku_node] Using volumes []
2025-02-13 03:06:38.146 DEBUG [src.node.docker_mananger] docker run -i -t -p 17242:17242 -p 17243:17243 -p 17244:17244 -p 17245:17245 -p 17246:17246 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=17244 --rest-port=17242 --tcp-port=17243 --discv5-udp-port=17245 --rest-address=0.0.0.0 --nat=extip:172.18.236.51 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cbdb8e42cdd6e7bb2d7eaef6aabd38c9f3fdeccfcdc3148a640c3fd3eb3e3cb3 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-L24QM9NYTSk7QWHmLyENmMzA3rXRga3tOdgRwNtkENRgMnfUngmZb_H_zNLsMZFHV7po_MYemKx4buLwaVUSvS-vicCgmlkgnY0gmlwhKwSs9iKbXVsdGlhZGRyc5YACASsErPYBkV2AAoErBKz2AZFd90DgnJzhQADAQAAiXNlY3AyNTZrMaEDvbyXBNpJiRYOKkar64yGYKIi-3oHLaOxu_sVTW0SsHSDdGNwgkV2g3VkcIJFeIV3YWt1MgE
2025-02-13 03:06:38.381 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.236.51 waku 4dce0572f9f65aabb7ec049b18ac0b6845e5d63269a9b5e82ae39efdb0b0cdd2
2025-02-13 03:06:38.430 DEBUG [src.node.docker_mananger] Container started with ID 4dce0572f9f6. Setting up logs at ./log/docker/node2_2025-02-13_03-06-36__2a73ecdc-61e0-4616-869d-31f7a5e2c5c1__wakuorg_go-waku:latest.log
2025-02-13 03:06:38.432 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 17242
2025-02-13 03:06:38.432 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-13 03:06:39.432 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17242/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:06:39.435 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QELi9R--HA4HuTGEO1J_X3iLs5XrozaZ9X0si0I4dBI6Jw0wUGI8LsdDXfBohwwwZ-eiK1s1eZoFbXW1DrJOoSaGAZT9Rc_fgmlkgnY0gmlwhKwRAAOCcnODAAMAiXNlY3AyNTZrMaECog2bLJfQQCVNteIONEECB-cqO28XuuJVc4xDVdmoimqDdGNwgkNbg3VkcIJDXYV3YWt1MgE","listenAddresses":["/ip4/127.0.0.1/tcp/17243/p2p/16Uiu2HAm6LG4TPepmYaTzY2MdvXKwBhGRCWk7ZrdHHCrNt8oFLcZ","/ip4/127.0.0.1/tcp/17244/ws/p2p/16Uiu2HAm6LG4TPepmYaTzY2MdvXKwBhGRCWk7ZrdHHCrNt8oFLcZ","/ip4/172.17.0.3/tcp/17243/p2p/16Uiu2HAm6LG4TPepmYaTzY2MdvXKwBhGRCWk7ZrdHHCrNt8oFLcZ","/ip4/172.17.0.3/tcp/17244/ws/p2p/16Uiu2HAm6LG4TPepmYaTzY2MdvXKwBhGRCWk7ZrdHHCrNt8oFLcZ"]}'
2025-02-13 03:06:39.436 INFO [src.node.waku_node] REST service is ready !!
2025-02-13 03:06:39.436 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17242/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.179.216/tcp/17782/p2p/16Uiu2HAmRReCHXUGB8PgDXMmnddPqDvoKyiNZLshKFibWS6j21NB", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-13 03:06:39.453 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-13 03:06:39.455 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17781/relay/v1/subscriptions" -H "Content-Type: application/json" -d '[]'
2025-02-13 03:06:39.479 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 03:06:39.479 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17242/relay/v1/subscriptions" -H "Content-Type: application/json" -d '[]'
2025-02-13 03:06:39.481 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-13 03:06:39.483 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-13 03:06:39.484 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-13 03:06:39.485 DEBUG [src.node.waku_node] Stopping container with id 8d457646b246
2025-02-13 03:06:39.975 DEBUG [src.node.waku_node] Container stopped.
2025-02-13 03:06:39.975 DEBUG [src.node.waku_node] Stopping container with id 4dce0572f9f6
2025-02-13 03:06:40.788 ERROR [src.node.docker_mananger] Max retries reached for container 8d457646b246. Exiting log stream.
2025-02-13 03:06:40.938 DEBUG [src.node.waku_node] Container stopped.
2025-02-13 03:06:40.940 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-13 03:06:40.943 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-13 03:06:40.946 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
