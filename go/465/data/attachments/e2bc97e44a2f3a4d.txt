2025-02-13 03:10:36.037 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-13 03:10:36.037 DEBUG [tests.conftest] Running test: test_cursor_equal_to_first_message with id: 2025-02-13_03-10-36__eca87e87-68df-4011-a6ba-da35f7168ff5
2025-02-13 03:10:36.037 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-13 03:10:36.038 DEBUG [src.steps.store] Running fixture setup: store_setup
2025-02-13 03:10:36.038 DEBUG [src.steps.store] Running fixture setup: node_setup
2025-02-13 03:10:36.044 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-13 03:10:36.044 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-13_03-10-36__eca87e87-68df-4011-a6ba-da35f7168ff5__wakuorg_nwaku:latest.log
2025-02-13 03:10:36.044 DEBUG [src.node.waku_node] Starting Node...
2025-02-13 03:10:36.044 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-13 03:10:36.046 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-13 03:10:36.046 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.95.145
2025-02-13 03:10:36.046 DEBUG [src.node.docker_mananger] Generated ports ['1040', '1041', '1042', '1043', '1044']
2025-02-13 03:10:36.046 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-13 03:10:36.046 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-13 03:10:36.046 DEBUG [src.node.waku_node] Using volumes []
2025-02-13 03:10:36.046 DEBUG [src.node.docker_mananger] docker run -i -t -p 1040:1040 -p 1041:1041 -p 1042:1042 -p 1043:1043 -p 1044:1044 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=1042 --rest-port=1040 --tcp-port=1041 --discv5-udp-port=1043 --rest-address=0.0.0.0 --nat=extip:172.18.95.145 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=da0e8cbb7f13abf247827abf68230edc7d3fae5cc8e9f1785d34e4e7dffdea76 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=1044 --metrics-logging=true --store=true --relay=true
2025-02-13 03:10:36.280 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.95.145 waku b82e47e2c4fd192c6e1156d8bbc132878967d1936da094562f4e68500d4c4c96
2025-02-13 03:10:36.327 DEBUG [src.node.docker_mananger] Container started with ID b82e47e2c4fd. Setting up logs at ./log/docker/publishing_node1_2025-02-13_03-10-36__eca87e87-68df-4011-a6ba-da35f7168ff5__wakuorg_nwaku:latest.log
2025-02-13 03:10:36.327 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 1040
2025-02-13 03:10:36.328 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-13 03:10:36.342 ERROR [src.node.docker_mananger] Max retries reached for container 24805fa6ac30. Exiting log stream.
2025-02-13 03:10:36.840 ERROR [src.node.docker_mananger] Max retries reached for container a4e54d454b95. Exiting log stream.
2025-02-13 03:10:37.329 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1040/health" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:10:37.332 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-13 03:10:37.332 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-13 03:10:37.332 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1040/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:10:37.335 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.95.145/tcp/1041/p2p/16Uiu2HAmBCxytWTJo7uCQcEzYxjK4nLrJ5zPE6pZsiZnYRe36pCK","/ip4/172.18.95.145/tcp/1042/ws/p2p/16Uiu2HAmBCxytWTJo7uCQcEzYxjK4nLrJ5zPE6pZsiZnYRe36pCK"],"enrUri":"enr:-L24QIM1WX4deZPlyOCmKOaqGRI1sHtTBAP38h5hshcfFuHRQUEX_srH9CMCHnh8B2aC0_FjTKLRKZDvHBR8foD2J4sCgmlkgnY0gmlwhKwSX5GKbXVsdGlhZGRyc5YACASsEl-RBgQRAAoErBJfkQYEEt0DgnJzhQADAQAAiXNlY3AyNTZrMaEC6nmqBAka5XF9GNx9e4uGAZOq9ykQjo-Qj8HQXJM0ZbSDdGNwggQRg3VkcIIEE4V3YWt1MgM"}'
2025-02-13 03:10:37.335 INFO [src.node.waku_node] REST service is ready !!
2025-02-13 03:10:37.341 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-13 03:10:37.341 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-13_03-10-36__eca87e87-68df-4011-a6ba-da35f7168ff5__wakuorg_go-waku:latest.log
2025-02-13 03:10:37.341 DEBUG [src.node.waku_node] Starting Node...
2025-02-13 03:10:37.341 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-13 03:10:37.343 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-13 03:10:37.343 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.109.41
2025-02-13 03:10:37.343 DEBUG [src.node.docker_mananger] Generated ports ['9309', '9310', '9311', '9312', '9313']
2025-02-13 03:10:37.343 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-13 03:10:37.343 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-13 03:10:37.343 DEBUG [src.node.waku_node] Using volumes []
2025-02-13 03:10:37.343 DEBUG [src.node.docker_mananger] docker run -i -t -p 9309:9309 -p 9310:9310 -p 9311:9311 -p 9312:9312 -p 9313:9313 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=9311 --rest-port=9309 --tcp-port=9310 --discv5-udp-port=9312 --rest-address=0.0.0.0 --nat=extip:172.18.109.41 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c91df310d5ffcefb44dad3e6f3418a0e22cadb425fb7e885c19bafdd94bc909c --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-L24QIM1WX4deZPlyOCmKOaqGRI1sHtTBAP38h5hshcfFuHRQUEX_srH9CMCHnh8B2aC0_FjTKLRKZDvHBR8foD2J4sCgmlkgnY0gmlwhKwSX5GKbXVsdGlhZGRyc5YACASsEl-RBgQRAAoErBJfkQYEEt0DgnJzhQADAQAAiXNlY3AyNTZrMaEC6nmqBAka5XF9GNx9e4uGAZOq9ykQjo-Qj8HQXJM0ZbSDdGNwggQRg3VkcIIEE4V3YWt1MgM --storenode=/ip4/172.18.95.145/tcp/1041/p2p/16Uiu2HAmBCxytWTJo7uCQcEzYxjK4nLrJ5zPE6pZsiZnYRe36pCK --store=true --relay=true
2025-02-13 03:10:37.564 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.109.41 waku 8e77b017334a5813dbee29333c89a3defc52d6b966c244f3783808b13f2b707f
2025-02-13 03:10:37.623 DEBUG [src.node.docker_mananger] Container started with ID 8e77b017334a. Setting up logs at ./log/docker/store_node1_2025-02-13_03-10-36__eca87e87-68df-4011-a6ba-da35f7168ff5__wakuorg_go-waku:latest.log
2025-02-13 03:10:37.624 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 9309
2025-02-13 03:10:37.624 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-13 03:10:38.624 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:9309/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:10:38.627 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QLjF3JNs2kCnIJVXohZPKpfLcJzkFu2wN245xre-942rCrBk-_hAO_TrP5ZXMJG-BzYNIzCFP0XBMxXnN8ghCbeGAZT9SXY0gmlkgnY0gmlwhKwRAAOCcnODAAMAiXNlY3AyNTZrMaED4L9DnJE-oWCwZmWq1S2oSfu5Wv10H7CHIytbvAk8GnKDdGNwgiReg3VkcIIkYIV3YWt1MgM","listenAddresses":["/ip4/127.0.0.1/tcp/9310/p2p/16Uiu2HAmTnJq5wrTiiAipdwY4hiDvJFVuTQdbQ96wwJDW4Zruf8M","/ip4/127.0.0.1/tcp/9311/ws/p2p/16Uiu2HAmTnJq5wrTiiAipdwY4hiDvJFVuTQdbQ96wwJDW4Zruf8M","/ip4/172.17.0.3/tcp/9310/p2p/16Uiu2HAmTnJq5wrTiiAipdwY4hiDvJFVuTQdbQ96wwJDW4Zruf8M","/ip4/172.17.0.3/tcp/9311/ws/p2p/16Uiu2HAmTnJq5wrTiiAipdwY4hiDvJFVuTQdbQ96wwJDW4Zruf8M"]}'
2025-02-13 03:10:38.627 INFO [src.node.waku_node] REST service is ready !!
2025-02-13 03:10:38.627 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:9309/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.95.145/tcp/1041/p2p/16Uiu2HAmBCxytWTJo7uCQcEzYxjK4nLrJ5zPE6pZsiZnYRe36pCK", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-13 03:10:38.644 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-13 03:10:38.646 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1040/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-13 03:10:38.669 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 03:10:38.669 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:9309/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-13 03:10:38.671 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-13 03:10:38.675 DEBUG [src.steps.store] Relaying message
2025-02-13 03:10:38.676 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1040/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8w", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-13 03:10:38.689 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 03:10:38.689 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-13 03:10:38.889 DEBUG [src.steps.store] Relaying message
2025-02-13 03:10:38.890 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1040/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8x", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-13 03:10:38.895 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 03:10:38.895 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-13 03:10:39.096 DEBUG [src.steps.store] Relaying message
2025-02-13 03:10:39.096 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1040/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8y", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-13 03:10:39.101 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 03:10:39.101 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-13 03:10:39.302 DEBUG [src.steps.store] Relaying message
2025-02-13 03:10:39.302 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1040/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8z", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-13 03:10:39.307 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 03:10:39.307 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-13 03:10:39.508 DEBUG [src.steps.store] Relaying message
2025-02-13 03:10:39.508 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1040/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV80", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-13 03:10:39.513 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 03:10:39.513 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-13 03:10:39.714 DEBUG [src.steps.store] Relaying message
2025-02-13 03:10:39.714 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1040/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV81", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-13 03:10:39.718 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 03:10:39.718 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-13 03:10:39.919 DEBUG [src.steps.store] Relaying message
2025-02-13 03:10:39.919 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1040/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV82", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-13 03:10:39.924 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 03:10:39.924 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-13 03:10:40.125 DEBUG [src.steps.store] Relaying message
2025-02-13 03:10:40.125 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1040/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV83", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-13 03:10:40.130 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 03:10:40.130 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-13 03:10:40.331 DEBUG [src.steps.store] Relaying message
2025-02-13 03:10:40.331 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1040/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV84", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-13 03:10:40.335 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 03:10:40.335 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-13 03:10:40.536 DEBUG [src.steps.store] Relaying message
2025-02-13 03:10:40.536 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1040/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV85", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-13 03:10:40.541 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 03:10:40.541 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-13 03:10:40.742 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1040/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&cursor=0x0db60213d5dab6e4539f40b4450aa9c1db6c4df86b644aedd148122781b6b6c2&pageSize=100&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:10:40.745 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xdfbf5b193515873f95a37e11b78974263caaa8ea16e9b1ee1f725cd0a6088c95"},{"messageHash":"0x9b8de8b676f21c70455dda4dd1b8ac46290e7a9b933c795a37e1838b234c9dd8"},{"messageHash":"0x80eea5e120b5ef0a000d3d319ac72937fdfb3aad0fe77a4f90dfcfddc4a6167c"},{"messageHash":"0xb8967db7f746b5afa9fe21ee9c524e642bf24f87faae614c8ae87f02b03d94f1"},{"messageHash":"0xc4579b0f496496fd786de8890a89c0a689b6da890ace74c16c3c3928e06b623d"},{"messageHash":"0x1c3588a0e8e83ec48136bd9628d8ea2f89ac445e7aeb16be3d350a283e650e76"},{"messageHash":"0x8f0e51bfc108b56d40766f74178caad056ae0e931a6e7aa72b0227dbba657763"},{"messageHash":"0x90834dcdbb8220e7ea41f025a1d9bd99a755ccde792509605cf75936e815109d"},{"messageHash":"0x4d222142a5e673dcf4b6f2b45e7bd5f71902a6fab6dc2fbc9289f8f1412e4f5a"}]}'
2025-02-13 03:10:40.746 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:9309/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&cursor=DbYCE9XatuRTn0C0RQqpwdtsTfhrZErt0UgSJ4G2tsI%3D&pageSize=100&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:10:40.751 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"d67e1a65fb89c7b8676f8446180d60dd2a629a3512bff7eef1f04aac11cdc9db","status_code":200,"status_desc":"OK","messages":[{"message_hash":"379bGTUVhz+Vo34Rt4l0JjyqqOoW6bHuH3Jc0KYIjJU="},{"message_hash":"m43otnbyHHBFXdpN0bisRikOepuTPHlaN+GDiyNMndg="},{"message_hash":"gO6l4SC17woADT0xmscpN/37Oq0P53pPkN/P3cSmFnw="},{"message_hash":"uJZ9t/dGta+p/iHunFJOZCvyT4f6rmFMiuh/ArA9lPE="},{"message_hash":"xFebD0lklv14beiJConApom22okKznTBbDw5KOBrYj0="},{"message_hash":"HDWIoOjoPsSBNr2WKNjqL4msRF566xa+PTUKKD5lDnY="},{"message_hash":"jw5Rv8EItW1Adm90F4yq0FauDpMabnqnKwIn27pld2M="},{"message_hash":"kINNzbuCIOfqQfAlodm9madVzN55JQlgXPdZNugVEJ0="},{"message_hash":"TSIhQqXmc9z0tvK0XnvV9xkCpvq23C+8kon48UEuT1o="}]}'
2025-02-13 03:10:40.753 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-13 03:10:40.754 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-13 03:10:40.755 DEBUG [src.node.waku_node] Stopping container with id b82e47e2c4fd
2025-02-13 03:10:41.338 DEBUG [src.node.waku_node] Container stopped.
2025-02-13 03:10:41.338 DEBUG [src.node.waku_node] Stopping container with id 8e77b017334a
2025-02-13 03:10:41.826 DEBUG [src.node.waku_node] Container stopped.
2025-02-13 03:10:41.827 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-13 03:10:41.836 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-13 03:10:41.839 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
