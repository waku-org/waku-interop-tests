2025-02-13 03:06:49.745 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-13 03:06:49.745 DEBUG [tests.conftest] Running test: test_filter_subscribe_with_no_content_topic with id: 2025-02-13_03-06-49__79852af1-6408-4558-867b-ff07ab22c537
2025-02-13 03:06:49.745 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-13 03:06:49.746 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2025-02-13 03:06:49.746 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2025-02-13 03:06:49.752 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-13 03:06:49.752 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-13_03-06-49__79852af1-6408-4558-867b-ff07ab22c537__wakuorg_nwaku:latest.log
2025-02-13 03:06:49.752 DEBUG [src.node.waku_node] Starting Node...
2025-02-13 03:06:49.752 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-13 03:06:49.753 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-13 03:06:49.754 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.225.195
2025-02-13 03:06:49.754 DEBUG [src.node.docker_mananger] Generated ports ['2351', '2352', '2353', '2354', '2355']
2025-02-13 03:06:49.754 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-13 03:06:49.754 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-13 03:06:49.754 DEBUG [src.node.waku_node] Using volumes []
2025-02-13 03:06:49.754 DEBUG [src.node.docker_mananger] docker run -i -t -p 2351:2351 -p 2352:2352 -p 2353:2353 -p 2354:2354 -p 2355:2355 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=2353 --rest-port=2351 --tcp-port=2352 --discv5-udp-port=2354 --rest-address=0.0.0.0 --nat=extip:172.18.225.195 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f1659dbeee7a39bfb84b36ff2a1a95a35f05a71e7cbdaa80fa8d8ab44c50bff0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=2355 --metrics-logging=true --relay=true --filter=true
2025-02-13 03:06:49.982 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.225.195 waku 81370cc8de9e318739072a8c9389706db1ef3eac397899c70843ea28ded4bc7e
2025-02-13 03:06:50.032 DEBUG [src.node.docker_mananger] Container started with ID 81370cc8de9e. Setting up logs at ./log/docker/node1_2025-02-13_03-06-49__79852af1-6408-4558-867b-ff07ab22c537__wakuorg_nwaku:latest.log
2025-02-13 03:06:50.033 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 2351
2025-02-13 03:06:50.034 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-13 03:06:50.550 ERROR [src.node.docker_mananger] Max retries reached for container 0677918fc50f. Exiting log stream.
2025-02-13 03:06:51.034 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2351/health" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:06:51.037 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-13 03:06:51.037 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-13 03:06:51.037 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2351/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:06:51.040 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.225.195/tcp/2352/p2p/16Uiu2HAm4NSNrPrDCwPSAzFA9vV5BMvsLcGEPFNTcCUatxqpm86Z","/ip4/172.18.225.195/tcp/2353/ws/p2p/16Uiu2HAm4NSNrPrDCwPSAzFA9vV5BMvsLcGEPFNTcCUatxqpm86Z"],"enrUri":"enr:-L24QA_MCyT6rY2zyKy7Dt2kxjNzz0qI0AfZAAzNLTsyMZyZJDhWzjb7e6YdxiJBJWqkj8Rty7skUG78kch4z04fh3wCgmlkgnY0gmlwhKwS4cOKbXVsdGlhZGRyc5YACASsEuHDBgkwAAoErBLhwwYJMd0DgnJzhQADAQAAiXNlY3AyNTZrMaEChOUPQVPA7Wr5nUmlLOxbFgHrcU-nQd2wgqBhn9GSwk6DdGNwggkwg3VkcIIJMoV3YWt1MgU"}'
2025-02-13 03:06:51.040 INFO [src.node.waku_node] REST service is ready !!
2025-02-13 03:06:51.040 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2025-02-13 03:06:51.046 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-13 03:06:51.046 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-13_03-06-49__79852af1-6408-4558-867b-ff07ab22c537__wakuorg_go-waku:latest.log
2025-02-13 03:06:51.046 DEBUG [src.node.waku_node] Starting Node...
2025-02-13 03:06:51.047 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-13 03:06:51.048 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-13 03:06:51.048 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.87.34
2025-02-13 03:06:51.048 DEBUG [src.node.docker_mananger] Generated ports ['36192', '36193', '36194', '36195', '36196']
2025-02-13 03:06:51.048 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-13 03:06:51.048 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-13 03:06:51.048 DEBUG [src.node.waku_node] Using volumes []
2025-02-13 03:06:51.049 DEBUG [src.node.docker_mananger] docker run -i -t -p 36192:36192 -p 36193:36193 -p 36194:36194 -p 36195:36195 -p 36196:36196 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=36194 --rest-port=36192 --tcp-port=36193 --discv5-udp-port=36195 --rest-address=0.0.0.0 --nat=extip:172.18.87.34 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d315dbccaeccdaeb9804d1ac719bc4dac3d1cfbd4e466192b5c06d21d104c9f8 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QA_MCyT6rY2zyKy7Dt2kxjNzz0qI0AfZAAzNLTsyMZyZJDhWzjb7e6YdxiJBJWqkj8Rty7skUG78kch4z04fh3wCgmlkgnY0gmlwhKwS4cOKbXVsdGlhZGRyc5YACASsEuHDBgkwAAoErBLhwwYJMd0DgnJzhQADAQAAiXNlY3AyNTZrMaEChOUPQVPA7Wr5nUmlLOxbFgHrcU-nQd2wgqBhn9GSwk6DdGNwggkwg3VkcIIJMoV3YWt1MgU --filternode=/ip4/172.18.225.195/tcp/2352/p2p/16Uiu2HAm4NSNrPrDCwPSAzFA9vV5BMvsLcGEPFNTcCUatxqpm86Z --pubsub-topic=/waku/2/rs/3/1
2025-02-13 03:06:51.285 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.87.34 waku 824e0031a6b2bcc6fe58e1580f606fb20e556ec02e759ccd72e4d45700125040
2025-02-13 03:06:51.339 DEBUG [src.node.docker_mananger] Container started with ID 824e0031a6b2. Setting up logs at ./log/docker/node2_2025-02-13_03-06-49__79852af1-6408-4558-867b-ff07ab22c537__wakuorg_go-waku:latest.log
2025-02-13 03:06:51.340 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 36192
2025-02-13 03:06:51.340 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-13 03:06:52.341 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36192/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:06:52.343 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QMwUgs32JJGImyQj3LJC5tCzOqEb9flews_PW-nS5sKvTyhf1ZAUOfbH3puvB633b3T4s-SZ3PvwjfDXiekA0saGAZT9RgJDgmlkgnY0gmlwhKwRAAOCcnOFAAMBAAGJc2VjcDI1NmsxoQPLNwIZ4pOjm51d61PHarUHGucvOSJjQRH4svQR5mfmiIN0Y3CCjWGDdWRwgo1jhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/36193/p2p/16Uiu2HAmSLFmCMGCWpZnpBsb92vFDsGDNAgP4SmgruJbW7tmB7oM","/ip4/127.0.0.1/tcp/36194/ws/p2p/16Uiu2HAmSLFmCMGCWpZnpBsb92vFDsGDNAgP4SmgruJbW7tmB7oM","/ip4/172.17.0.3/tcp/36193/p2p/16Uiu2HAmSLFmCMGCWpZnpBsb92vFDsGDNAgP4SmgruJbW7tmB7oM","/ip4/172.17.0.3/tcp/36194/ws/p2p/16Uiu2HAmSLFmCMGCWpZnpBsb92vFDsGDNAgP4SmgruJbW7tmB7oM"]}'
2025-02-13 03:06:52.343 INFO [src.node.waku_node] REST service is ready !!
2025-02-13 03:06:52.344 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:36192/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.225.195/tcp/2352/p2p/16Uiu2HAm4NSNrPrDCwPSAzFA9vV5BMvsLcGEPFNTcCUatxqpm86Z", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-13 03:06:52.345 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-13 03:06:52.346 DEBUG [src.steps.filter] Running fixture setup: subscribe_main_nodes
2025-02-13 03:06:52.346 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2351/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-13 03:06:52.349 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 03:06:52.350 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:36192/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "79e244ba-3554-4179-ac55-468d5fb57697", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2025-02-13 03:06:52.355 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"79e244ba-3554-4179-ac55-468d5fb57697","statusDesc":"OK"}'
2025-02-13 03:06:52.356 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:36192/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "pubsubTopic": "/waku/2/rs/3/1"}'
2025-02-13 03:06:52.358 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"1","statusDesc":"OK"}'
2025-02-13 03:06:52.361 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-13 03:06:52.361 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-13 03:06:52.361 DEBUG [src.node.waku_node] Stopping container with id 81370cc8de9e
2025-02-13 03:06:52.975 DEBUG [src.node.waku_node] Container stopped.
2025-02-13 03:06:52.975 DEBUG [src.node.waku_node] Stopping container with id 824e0031a6b2
2025-02-13 03:06:53.787 ERROR [src.node.docker_mananger] Max retries reached for container 81370cc8de9e. Exiting log stream.
2025-02-13 03:06:53.831 DEBUG [src.node.waku_node] Container stopped.
2025-02-13 03:06:53.832 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-13 03:06:53.839 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-13 03:06:53.842 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
