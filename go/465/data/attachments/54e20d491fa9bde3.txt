2025-02-13 03:10:07.511 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-13 03:10:07.512 DEBUG [tests.conftest] Running test: test_get_store_messages_with_different_content_topics with id: 2025-02-13_03-10-07__aeeb8999-d525-4a3e-b738-ad42d88334d7
2025-02-13 03:10:07.512 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-13 03:10:07.512 DEBUG [src.steps.store] Running fixture setup: store_setup
2025-02-13 03:10:07.512 DEBUG [src.steps.store] Running fixture setup: node_setup
2025-02-13 03:10:07.519 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-13 03:10:07.519 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-13_03-10-07__aeeb8999-d525-4a3e-b738-ad42d88334d7__wakuorg_nwaku:latest.log
2025-02-13 03:10:07.519 DEBUG [src.node.waku_node] Starting Node...
2025-02-13 03:10:07.519 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-13 03:10:07.521 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-13 03:10:07.521 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.172.198
2025-02-13 03:10:07.521 DEBUG [src.node.docker_mananger] Generated ports ['33551', '33552', '33553', '33554', '33555']
2025-02-13 03:10:07.521 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-13 03:10:07.521 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-13 03:10:07.521 DEBUG [src.node.waku_node] Using volumes []
2025-02-13 03:10:07.521 DEBUG [src.node.docker_mananger] docker run -i -t -p 33551:33551 -p 33552:33552 -p 33553:33553 -p 33554:33554 -p 33555:33555 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=33553 --rest-port=33551 --tcp-port=33552 --discv5-udp-port=33554 --rest-address=0.0.0.0 --nat=extip:172.18.172.198 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dcb4e8f45edffda78fbdfc0db6caeaf6aaeacc3de08bc7fc2dddadb53df276e2 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=33555 --metrics-logging=true --store=true --relay=true
2025-02-13 03:10:07.708 ERROR [src.node.docker_mananger] Max retries reached for container 87aeff22d313. Exiting log stream.
2025-02-13 03:10:07.774 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.172.198 waku f0fc9ac31bfeb056bd73acfaecc456fdf8df914bb237e9800aacb7fbd025ce9e
2025-02-13 03:10:07.826 DEBUG [src.node.docker_mananger] Container started with ID f0fc9ac31bfe. Setting up logs at ./log/docker/publishing_node1_2025-02-13_03-10-07__aeeb8999-d525-4a3e-b738-ad42d88334d7__wakuorg_nwaku:latest.log
2025-02-13 03:10:07.826 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 33551
2025-02-13 03:10:07.826 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-13 03:10:08.275 ERROR [src.node.docker_mananger] Max retries reached for container ce97495589f0. Exiting log stream.
2025-02-13 03:10:08.827 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33551/health" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:10:08.830 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-13 03:10:08.830 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-13 03:10:08.830 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33551/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:10:08.832 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.172.198/tcp/33552/p2p/16Uiu2HAmHB1JKDwTfHg4agHeMqpJdyj9GnE9fgcuybbX8YBtMKou","/ip4/172.18.172.198/tcp/33553/ws/p2p/16Uiu2HAmHB1JKDwTfHg4agHeMqpJdyj9GnE9fgcuybbX8YBtMKou"],"enrUri":"enr:-L24QPnh_SQsQQmVM5StMYf7RbGUfQc1DxfqPGvGNXRPIZtgUYJgXa4Tm5PrD6E2t4sJwebKGORZc4JWM0ens12bhzACgmlkgnY0gmlwhKwSrMaKbXVsdGlhZGRyc5YACASsEqzGBoMQAAoErBKsxgaDEd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDQx8-o8bME7TtZj3Qo946i3KAWAuYLmuuhaEkEuRK2fiDdGNwgoMQg3VkcIKDEoV3YWt1MgM"}'
2025-02-13 03:10:08.832 INFO [src.node.waku_node] REST service is ready !!
2025-02-13 03:10:08.839 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-13 03:10:08.839 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-13_03-10-07__aeeb8999-d525-4a3e-b738-ad42d88334d7__wakuorg_go-waku:latest.log
2025-02-13 03:10:08.839 DEBUG [src.node.waku_node] Starting Node...
2025-02-13 03:10:08.839 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-13 03:10:08.841 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-13 03:10:08.841 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.209.224
2025-02-13 03:10:08.841 DEBUG [src.node.docker_mananger] Generated ports ['63150', '63151', '63152', '63153', '63154']
2025-02-13 03:10:08.841 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-13 03:10:08.841 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-13 03:10:08.841 DEBUG [src.node.waku_node] Using volumes []
2025-02-13 03:10:08.842 DEBUG [src.node.docker_mananger] docker run -i -t -p 63150:63150 -p 63151:63151 -p 63152:63152 -p 63153:63153 -p 63154:63154 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=63152 --rest-port=63150 --tcp-port=63151 --discv5-udp-port=63153 --rest-address=0.0.0.0 --nat=extip:172.18.209.224 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a5a4cba7b6a733b24d72aefe4ce3f483be6d154ebcddeb23af26f06e1c0d2ba8 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-L24QPnh_SQsQQmVM5StMYf7RbGUfQc1DxfqPGvGNXRPIZtgUYJgXa4Tm5PrD6E2t4sJwebKGORZc4JWM0ens12bhzACgmlkgnY0gmlwhKwSrMaKbXVsdGlhZGRyc5YACASsEqzGBoMQAAoErBKsxgaDEd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDQx8-o8bME7TtZj3Qo946i3KAWAuYLmuuhaEkEuRK2fiDdGNwgoMQg3VkcIKDEoV3YWt1MgM --storenode=/ip4/172.18.172.198/tcp/33552/p2p/16Uiu2HAmHB1JKDwTfHg4agHeMqpJdyj9GnE9fgcuybbX8YBtMKou --store=true --relay=true
2025-02-13 03:10:09.078 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.209.224 waku 5246d62eb7ab5adba60466582c6efd5f41cd78d4070b04f9e94c8de312c29c16
2025-02-13 03:10:09.135 DEBUG [src.node.docker_mananger] Container started with ID 5246d62eb7ab. Setting up logs at ./log/docker/store_node1_2025-02-13_03-10-07__aeeb8999-d525-4a3e-b738-ad42d88334d7__wakuorg_go-waku:latest.log
2025-02-13 03:10:09.135 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 63150
2025-02-13 03:10:09.135 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-13 03:10:10.136 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63150/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:10:10.139 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QPONH1f6m-QirBlsu-9vVYWfY4CMEQKclRGjdZEqNP8RZAGanQkJAmGLVY0sndWk2Csh5XQCYsr3NNuzfQQZcUiGAZT9SQbugmlkgnY0gmlwhKwRAAOCcnODAAMAiXNlY3AyNTZrMaED5iDv0z0ZJw6jFouCMq9nJ5AhZmkOTU-1toHA9SQTBmiDdGNwgvavg3VkcIL2sYV3YWt1MgM","listenAddresses":["/ip4/127.0.0.1/tcp/63151/p2p/16Uiu2HAmU9KFVGvwxoK7NWjyXsCBzSBtNfzGCDsA5zfPmoiANkwh","/ip4/127.0.0.1/tcp/63152/ws/p2p/16Uiu2HAmU9KFVGvwxoK7NWjyXsCBzSBtNfzGCDsA5zfPmoiANkwh","/ip4/172.17.0.3/tcp/63151/p2p/16Uiu2HAmU9KFVGvwxoK7NWjyXsCBzSBtNfzGCDsA5zfPmoiANkwh","/ip4/172.17.0.3/tcp/63152/ws/p2p/16Uiu2HAmU9KFVGvwxoK7NWjyXsCBzSBtNfzGCDsA5zfPmoiANkwh"]}'
2025-02-13 03:10:10.140 INFO [src.node.waku_node] REST service is ready !!
2025-02-13 03:10:10.140 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63150/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.172.198/tcp/33552/p2p/16Uiu2HAmHB1JKDwTfHg4agHeMqpJdyj9GnE9fgcuybbX8YBtMKou", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-13 03:10:10.160 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-13 03:10:10.160 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:33551/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-13 03:10:10.187 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 03:10:10.187 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63150/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-13 03:10:10.190 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-13 03:10:10.193 DEBUG [tests.store.test_get_messages] Running test with content topic /myapp/1/latest/proto
2025-02-13 03:10:10.193 DEBUG [src.steps.store] Relaying message
2025-02-13 03:10:10.194 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:33551/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-13 03:10:10.209 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 03:10:10.212 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-13 03:10:10.414 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-13 03:10:10.414 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33551/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:10:10.418 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x246afa114c1a11fea339b5ed2f0f689e877544adee630f4516b99cabd569311f"}]}'
2025-02-13 03:10:10.418 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-13 03:10:10.419 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63150/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:10:10.424 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"a523dc32ae611d1b7e2f6c3fba3fdf8d918662fd2b179c6cec7f07ccfb09bc01","status_code":200,"status_desc":"OK","messages":[{"message_hash":"JGr6EUwaEf6jObXtLw9onod1RK3uYw9FFrmcq9VpMR8="}]}'
2025-02-13 03:10:10.425 DEBUG [tests.store.test_get_messages] Running test with content topic /waku/2/content/test.js
2025-02-13 03:10:10.426 DEBUG [src.steps.store] Relaying message
2025-02-13 03:10:10.426 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:33551/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-13 03:10:10.432 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 03:10:10.432 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-13 03:10:10.633 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-13 03:10:10.633 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33551/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fwaku%2F2%2Fcontent%2Ftest.js&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:10:10.637 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x801d94caec8647da6dd316a48a019fc7c1362179a09752089d79c4065c736e4b"}]}'
2025-02-13 03:10:10.637 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-13 03:10:10.638 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63150/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fwaku%2F2%2Fcontent%2Ftest.js&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:10:10.644 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"fe34524680f56eb9dca3e6892a30c3088ee56e37d58cc441b9fe7f8748879f4b","status_code":200,"status_desc":"OK","messages":[{"message_hash":"gB2UyuyGR9pt0xakigGfx8E2IXmgl1IInXnEBlxzbks="}]}'
2025-02-13 03:10:10.645 DEBUG [tests.store.test_get_messages] Running test with content topic /app/22/sometopic/someencoding
2025-02-13 03:10:10.646 DEBUG [src.steps.store] Relaying message
2025-02-13 03:10:10.646 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:33551/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-13 03:10:10.654 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 03:10:10.654 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-13 03:10:10.855 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-13 03:10:10.855 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33551/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F22%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:10:10.859 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xd3285d83745aa5957ab9ae533295f0940d2908fe3a95c12659213aedbc9d6c6b"}]}'
2025-02-13 03:10:10.860 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-13 03:10:10.860 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63150/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F22%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:10:10.866 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"84239a91d1ecaeb11206a70c8879af627c0f84abfb542fa9d7ba3677d6d2eed7","status_code":200,"status_desc":"OK","messages":[{"message_hash":"0yhdg3RapZV6ua5TMpXwlA0pCP46lcEmWSE67bydbGs="}]}'
2025-02-13 03:10:10.866 DEBUG [tests.store.test_get_messages] Running test with content topic /toychat/2/huilong/proto
2025-02-13 03:10:10.867 DEBUG [src.steps.store] Relaying message
2025-02-13 03:10:10.868 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:33551/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-13 03:10:10.876 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 03:10:10.876 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-13 03:10:11.077 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-13 03:10:11.077 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33551/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Ftoychat%2F2%2Fhuilong%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:10:11.081 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x07ad02ef4f0a600ed8f5d100d1aeff28645dd4c10a317338dd260fa43ede40e2"}]}'
2025-02-13 03:10:11.081 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-13 03:10:11.082 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63150/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Ftoychat%2F2%2Fhuilong%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:10:11.087 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"25ab56b90e85483d3b81653cc4c30df965f34666e72894b994506e75b249d8ac","status_code":200,"status_desc":"OK","messages":[{"message_hash":"B60C708KYA7Y9dEA0a7/KGRd1MEKMXM43SYPpD7eQOI="}]}'
2025-02-13 03:10:11.088 DEBUG [tests.store.test_get_messages] Running test with content topic /statusim/1/community/cbor
2025-02-13 03:10:11.088 DEBUG [src.steps.store] Relaying message
2025-02-13 03:10:11.089 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:33551/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-13 03:10:11.094 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 03:10:11.094 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-13 03:10:11.295 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-13 03:10:11.295 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33551/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fstatusim%2F1%2Fcommunity%2Fcbor&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:10:11.298 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x88b26536fa3a35420242870d77d3f6763bc32b6c1b0b16a782a8a2d2b3a0cb19"}]}'
2025-02-13 03:10:11.299 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-13 03:10:11.299 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63150/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fstatusim%2F1%2Fcommunity%2Fcbor&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:10:11.305 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"8be9c5cd22c633d3650ea002e27d7f45cbe7ab4cd9389951b7cb26e8b0cd586f","status_code":200,"status_desc":"OK","messages":[{"message_hash":"iLJlNvo6NUICQocNd9P2djvDK2wbCxangqii0rOgyxk="}]}'
2025-02-13 03:10:11.305 DEBUG [tests.store.test_get_messages] Running test with content topic /app/27/sometopic/someencoding
2025-02-13 03:10:11.305 DEBUG [src.steps.store] Relaying message
2025-02-13 03:10:11.306 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:33551/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-13 03:10:11.311 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 03:10:11.311 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-13 03:10:11.511 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-13 03:10:11.512 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33551/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F27%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:10:11.515 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x1696182e8bfe18e3aab1053223d72f150ee5ddd535ff72cfb555ed51d8688969"}]}'
2025-02-13 03:10:11.516 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-13 03:10:11.516 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63150/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F27%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:10:11.521 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"09d080d4663cfc72bc446c12f34a14849092a144ec9ffd89679829656a3d31ca","status_code":200,"status_desc":"OK","messages":[{"message_hash":"FpYYLov+GOOqsQUyI9cvFQ7l3dU1/3LPtVXtUdhoiWk="}]}'
2025-02-13 03:10:11.522 DEBUG [tests.store.test_get_messages] Running test with content topic /app/29/sometopic/someencoding
2025-02-13 03:10:11.523 DEBUG [src.steps.store] Relaying message
2025-02-13 03:10:11.523 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:33551/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-13 03:10:11.528 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 03:10:11.528 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-13 03:10:11.729 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-13 03:10:11.729 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33551/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F29%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:10:11.733 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xd2cd08ef8b55807c1c3697364a943b4c6b536ea8e68f5da5cf469b30d7de0a63"}]}'
2025-02-13 03:10:11.733 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-13 03:10:11.734 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63150/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F29%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:10:11.739 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"97d9045e295d874557d330ef86393c07a2dcd82048776780828d62d032af4c36","status_code":200,"status_desc":"OK","messages":[{"message_hash":"0s0I74tVgHwcNpc2SpQ7TGtTbqjmj12lz0abMNfeCmM="}]}'
2025-02-13 03:10:11.740 DEBUG [tests.store.test_get_messages] Running test with content topic /app/20/sometopic/someencoding
2025-02-13 03:10:11.740 DEBUG [src.steps.store] Relaying message
2025-02-13 03:10:11.740 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:33551/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-13 03:10:11.745 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 03:10:11.745 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-13 03:10:11.946 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-13 03:10:11.946 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33551/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F20%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:10:11.950 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xf46dac603c9f9ab1bf7d6d9d4b0759df0b398c6134a40c0b5190976a1c718b84"}]}'
2025-02-13 03:10:11.951 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-13 03:10:11.951 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63150/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F20%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:10:11.956 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"d18a09cc7c1d40a07eb29d74e60e111006b4f68e05df6c1beb7e761ed44de5f2","status_code":200,"status_desc":"OK","messages":[{"message_hash":"9G2sYDyfmrG/fW2dSwdZ3ws5jGE0pAwLUZCXahxxi4Q="}]}'
2025-02-13 03:10:11.959 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-13 03:10:11.960 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-13 03:10:11.960 DEBUG [src.node.waku_node] Stopping container with id f0fc9ac31bfe
2025-02-13 03:10:13.390 DEBUG [src.node.waku_node] Container stopped.
2025-02-13 03:10:13.390 DEBUG [src.node.waku_node] Stopping container with id 5246d62eb7ab
2025-02-13 03:10:13.937 DEBUG [src.node.waku_node] Container stopped.
2025-02-13 03:10:13.940 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-13 03:10:13.951 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-13 03:10:13.955 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
