2025-02-13 03:06:43.390 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-13 03:06:43.391 DEBUG [tests.conftest] Running test: test_invalid_hash_param with id: 2025-02-13_03-06-43__86ba1869-cc86-4d91-a5f1-abd16368e918
2025-02-13 03:06:43.391 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-13 03:06:43.391 DEBUG [src.steps.store] Running fixture setup: store_setup
2025-02-13 03:06:43.391 DEBUG [src.steps.store] Running fixture setup: node_setup
2025-02-13 03:06:43.397 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-13 03:06:43.398 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-13_03-06-43__86ba1869-cc86-4d91-a5f1-abd16368e918__wakuorg_nwaku:latest.log
2025-02-13 03:06:43.398 DEBUG [src.node.waku_node] Starting Node...
2025-02-13 03:06:43.398 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-13 03:06:43.399 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-13 03:06:43.399 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.50.115
2025-02-13 03:06:43.399 DEBUG [src.node.docker_mananger] Generated ports ['54903', '54904', '54905', '54906', '54907']
2025-02-13 03:06:43.400 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-13 03:06:43.400 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-13 03:06:43.400 DEBUG [src.node.waku_node] Using volumes []
2025-02-13 03:06:43.400 DEBUG [src.node.docker_mananger] docker run -i -t -p 54903:54903 -p 54904:54904 -p 54905:54905 -p 54906:54906 -p 54907:54907 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=54905 --rest-port=54903 --tcp-port=54904 --discv5-udp-port=54906 --rest-address=0.0.0.0 --nat=extip:172.18.50.115 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b7bf31a110f49f7efa6aac8b4eeb989ff0248fda2c4f534a27e5bcdeaa98c2ec --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=54907 --metrics-logging=true --store=true --relay=true
2025-02-13 03:06:43.634 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.50.115 waku 544902660d854369c5a4ad440f593f1ee0eab04e27f037dc4e658da7fa55c755
2025-02-13 03:06:43.678 DEBUG [src.node.docker_mananger] Container started with ID 544902660d85. Setting up logs at ./log/docker/publishing_node1_2025-02-13_03-06-43__86ba1869-cc86-4d91-a5f1-abd16368e918__wakuorg_nwaku:latest.log
2025-02-13 03:06:43.679 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 54903
2025-02-13 03:06:43.679 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-13 03:06:43.716 ERROR [src.node.docker_mananger] Max retries reached for container 0479e9b8bb8b. Exiting log stream.
2025-02-13 03:06:44.197 ERROR [src.node.docker_mananger] Max retries reached for container f87ac0953bc7. Exiting log stream.
2025-02-13 03:06:44.680 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54903/health" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:06:44.683 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-13 03:06:44.683 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-13 03:06:44.683 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54903/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:06:44.685 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.50.115/tcp/54904/p2p/16Uiu2HAmLiJVGVAmmtdK11aGpPAjL8q5fSj6FnpUoo8fQCg2gEXh","/ip4/172.18.50.115/tcp/54905/ws/p2p/16Uiu2HAmLiJVGVAmmtdK11aGpPAjL8q5fSj6FnpUoo8fQCg2gEXh"],"enrUri":"enr:-L24QM8AyGtAJt_FNBNlteDMa_sG0Yxf8FtIDWW0woDkIRSgfhYxcOEsvaXrRaL895i900f-P9yT3m8aCu67xaJjblMCgmlkgnY0gmlwhKwSMnOKbXVsdGlhZGRyc5YACASsEjJzBtZ4AAoErBIycwbWed0DgnJzhQADAQAAiXNlY3AyNTZrMaEDd7a--_IPihW-T1AzmaOjUGUgEgw6nb4t9UgZbWo50JCDdGNwgtZ4g3VkcILWeoV3YWt1MgM"}'
2025-02-13 03:06:44.686 INFO [src.node.waku_node] REST service is ready !!
2025-02-13 03:06:44.692 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-13 03:06:44.693 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-13_03-06-43__86ba1869-cc86-4d91-a5f1-abd16368e918__wakuorg_go-waku:latest.log
2025-02-13 03:06:44.693 DEBUG [src.node.waku_node] Starting Node...
2025-02-13 03:06:44.693 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-13 03:06:44.694 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-13 03:06:44.694 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.101.8
2025-02-13 03:06:44.694 DEBUG [src.node.docker_mananger] Generated ports ['63380', '63381', '63382', '63383', '63384']
2025-02-13 03:06:44.694 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-13 03:06:44.695 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-13 03:06:44.695 DEBUG [src.node.waku_node] Using volumes []
2025-02-13 03:06:44.695 DEBUG [src.node.docker_mananger] docker run -i -t -p 63380:63380 -p 63381:63381 -p 63382:63382 -p 63383:63383 -p 63384:63384 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=63382 --rest-port=63380 --tcp-port=63381 --discv5-udp-port=63383 --rest-address=0.0.0.0 --nat=extip:172.18.101.8 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6b8dcbd8a78e5bbac9c16f7ef1c90be7ca1bb7b951b3aeef0bcb26dbdc31f570 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-L24QM8AyGtAJt_FNBNlteDMa_sG0Yxf8FtIDWW0woDkIRSgfhYxcOEsvaXrRaL895i900f-P9yT3m8aCu67xaJjblMCgmlkgnY0gmlwhKwSMnOKbXVsdGlhZGRyc5YACASsEjJzBtZ4AAoErBIycwbWed0DgnJzhQADAQAAiXNlY3AyNTZrMaEDd7a--_IPihW-T1AzmaOjUGUgEgw6nb4t9UgZbWo50JCDdGNwgtZ4g3VkcILWeoV3YWt1MgM --storenode=/ip4/172.18.50.115/tcp/54904/p2p/16Uiu2HAmLiJVGVAmmtdK11aGpPAjL8q5fSj6FnpUoo8fQCg2gEXh --store=true --relay=true
2025-02-13 03:06:44.932 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.101.8 waku a32bcbd4ba41c15a52a26ad55134eac1ee1aa102d864bc5a4e338e5d1601ed1d
2025-02-13 03:06:44.986 DEBUG [src.node.docker_mananger] Container started with ID a32bcbd4ba41. Setting up logs at ./log/docker/store_node1_2025-02-13_03-06-43__86ba1869-cc86-4d91-a5f1-abd16368e918__wakuorg_go-waku:latest.log
2025-02-13 03:06:44.987 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 63380
2025-02-13 03:06:44.990 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-13 03:06:45.990 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63380/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:06:45.993 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QBgX9mlJFhE64A5_gT7eviM3gXw_n6jcoKpkt9K-e1DIEYHS2rsu_sXWWNiEnEzkqkjFYWZm2zjQv2cvuzT2Ep2GAZT9Rel5gmlkgnY0gmlwhKwRAAOCcnODAAMAiXNlY3AyNTZrMaECgnzTrkVWyIMhb15bKuRGPnJUPZeIpNqXearEdOt-f9KDdGNwgveVg3VkcIL3l4V3YWt1MgM","listenAddresses":["/ip4/127.0.0.1/tcp/63381/p2p/16Uiu2HAm4D3NtdbqNv1a6wRybRvz9fiBySjKupYf7rdHj42PxQUZ","/ip4/127.0.0.1/tcp/63382/ws/p2p/16Uiu2HAm4D3NtdbqNv1a6wRybRvz9fiBySjKupYf7rdHj42PxQUZ","/ip4/172.17.0.3/tcp/63381/p2p/16Uiu2HAm4D3NtdbqNv1a6wRybRvz9fiBySjKupYf7rdHj42PxQUZ","/ip4/172.17.0.3/tcp/63382/ws/p2p/16Uiu2HAm4D3NtdbqNv1a6wRybRvz9fiBySjKupYf7rdHj42PxQUZ"]}'
2025-02-13 03:06:45.994 INFO [src.node.waku_node] REST service is ready !!
2025-02-13 03:06:45.994 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63380/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.50.115/tcp/54904/p2p/16Uiu2HAmLiJVGVAmmtdK11aGpPAjL8q5fSj6FnpUoo8fQCg2gEXh", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-13 03:06:46.010 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-13 03:06:46.011 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54903/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-13 03:06:46.031 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 03:06:46.031 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63380/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-13 03:06:46.033 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-13 03:06:46.037 DEBUG [src.steps.store] Relaying message
2025-02-13 03:06:46.037 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54903/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8w", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-13 03:06:46.050 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 03:06:46.050 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-13 03:06:46.251 DEBUG [src.steps.store] Relaying message
2025-02-13 03:06:46.252 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54903/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8x", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-13 03:06:46.258 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 03:06:46.258 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-13 03:06:46.459 DEBUG [src.steps.store] Relaying message
2025-02-13 03:06:46.459 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54903/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8y", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-13 03:06:46.466 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 03:06:46.466 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-13 03:06:46.666 DEBUG [src.steps.store] Relaying message
2025-02-13 03:06:46.667 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54903/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8z", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-13 03:06:46.673 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 03:06:46.674 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-13 03:06:46.874 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54903/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&hashes=0xadce01f091210e88fdbc6648338bcda54c3aca0635e4bccc4b14ec80e3ec0225&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:06:46.877 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xadce01f091210e88fdbc6648338bcda54c3aca0635e4bccc4b14ec80e3ec0225"}]}'
2025-02-13 03:06:46.878 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54903/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&ascending=true&hash=0xadce01f091210e88fdbc6648338bcda54c3aca0635e4bccc4b14ec80e3ec0225" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:06:46.881 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xcdfc1a1da344c9dd29358d0a0460725785db8fdcac14170e7ca6f66dc156ce7a"},{"messageHash":"0xb172c4580e082636f1eae382764baa22c30c5a853914aaf4b0f087ed10bf656f"},{"messageHash":"0xadce01f091210e88fdbc6648338bcda54c3aca0635e4bccc4b14ec80e3ec0225"},{"messageHash":"0xf994347471b20aba45498f9cb03cd7afc40374460cab48ef42eb0549de05cc7e"}]}'
2025-02-13 03:06:46.881 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63380/store/v3/messages?peerAddr=%2Fip4%2F172.18.50.115%2Ftcp%2F54904%2Fp2p%2F16Uiu2HAmLiJVGVAmmtdK11aGpPAjL8q5fSj6FnpUoo8fQCg2gEXh&hashes=rc4B8JEhDoj9vGZIM4vNpUw6ygY15LzMSxTsgOPsAiU%3D&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:06:46.886 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"09a48dc4ceabbabd6a3d8db561aa511e7a40e5586c560dd4d21fd77ef61eafa5","status_code":200,"status_desc":"OK","messages":[{"message_hash":"rc4B8JEhDoj9vGZIM4vNpUw6ygY15LzMSxTsgOPsAiU="}]}'
2025-02-13 03:06:46.922 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-13 03:06:46.923 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-13 03:06:46.924 DEBUG [src.node.waku_node] Stopping container with id 544902660d85
2025-02-13 03:06:47.448 DEBUG [src.node.waku_node] Container stopped.
2025-02-13 03:06:47.448 DEBUG [src.node.waku_node] Stopping container with id a32bcbd4ba41
2025-02-13 03:06:47.982 DEBUG [src.node.waku_node] Container stopped.
2025-02-13 03:06:47.983 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-13 03:06:47.999 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-13 03:06:48.003 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
