2025-02-13 03:05:49.963 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-13 03:05:49.963 DEBUG [tests.conftest] Running test: test_light_push_with_valid_content_topics with id: 2025-02-13_03-05-49__26f0f955-0f55-4ad8-8155-f3db5a4a1f83
2025-02-13 03:05:49.964 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-13 03:05:49.964 DEBUG [src.steps.light_push] Running fixture setup: light_push_setup
2025-02-13 03:05:49.970 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-13 03:05:49.970 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node1_2025-02-13_03-05-49__26f0f955-0f55-4ad8-8155-f3db5a4a1f83__wakuorg_nwaku:latest.log
2025-02-13 03:05:49.970 DEBUG [src.node.waku_node] Starting Node...
2025-02-13 03:05:49.970 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-13 03:05:49.972 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-13 03:05:49.972 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.16.204
2025-02-13 03:05:49.972 DEBUG [src.node.docker_mananger] Generated ports ['57249', '57250', '57251', '57252', '57253']
2025-02-13 03:05:49.972 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-13 03:05:49.972 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-13 03:05:49.972 DEBUG [src.node.waku_node] Using volumes []
2025-02-13 03:05:49.973 DEBUG [src.node.docker_mananger] docker run -i -t -p 57249:57249 -p 57250:57250 -p 57251:57251 -p 57252:57252 -p 57253:57253 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=57251 --rest-port=57249 --tcp-port=57250 --discv5-udp-port=57252 --rest-address=0.0.0.0 --nat=extip:172.18.16.204 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b8665cfddb713aab695ce6ff7ca9a9f2bd3fbc6ec5afcd710ec4cbb3adb24edc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=57253 --metrics-logging=true --lightpush=true --relay=true
2025-02-13 03:05:50.212 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.16.204 waku c4bbee5e53faea7dcabe3bfba9f45ac872356ce59daa71cde9613ace5ad84148
2025-02-13 03:05:50.256 DEBUG [src.node.docker_mananger] Container started with ID c4bbee5e53fa. Setting up logs at ./log/docker/receiving_node1_2025-02-13_03-05-49__26f0f955-0f55-4ad8-8155-f3db5a4a1f83__wakuorg_nwaku:latest.log
2025-02-13 03:05:50.256 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 57249
2025-02-13 03:05:50.256 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-13 03:05:50.265 ERROR [src.node.docker_mananger] Max retries reached for container 9dff66e70b2f. Exiting log stream.
2025-02-13 03:05:50.754 ERROR [src.node.docker_mananger] Max retries reached for container 24ff62a68f7d. Exiting log stream.
2025-02-13 03:05:51.257 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57249/health" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:51.260 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-13 03:05:51.260 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-13 03:05:51.260 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57249/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:51.262 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.16.204/tcp/57250/p2p/16Uiu2HAm5Z5jUp3doWDUnJzQSXTPzkY5ePzDXxRmjo8DJfiUDGxV","/ip4/172.18.16.204/tcp/57251/ws/p2p/16Uiu2HAm5Z5jUp3doWDUnJzQSXTPzkY5ePzDXxRmjo8DJfiUDGxV"],"enrUri":"enr:-L24QLwy3M_w0tHpYvAICFOTJj18rpnc93yPS23--WyLkmlPQ6tHFh7fB8kCNujgKfKvsRe0HQ4xqYvulAm3ciHgpiICgmlkgnY0gmlwhKwSEMyKbXVsdGlhZGRyc5YACASsEhDMBt-iAAoErBIQzAbfo90DgnJzhQADAQAAiXNlY3AyNTZrMaEClnrK85YxBTHCH88KoWuYp1fNPVs6wmv_IoyBsVfwzN6DdGNwgt-ig3VkcILfpIV3YWt1Mgk"}'
2025-02-13 03:05:51.263 INFO [src.node.waku_node] REST service is ready !!
2025-02-13 03:05:51.269 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-13 03:05:51.269 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node2_2025-02-13_03-05-49__26f0f955-0f55-4ad8-8155-f3db5a4a1f83__wakuorg_nwaku:latest.log
2025-02-13 03:05:51.269 DEBUG [src.node.waku_node] Starting Node...
2025-02-13 03:05:51.270 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-13 03:05:51.271 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-13 03:05:51.271 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.21.109
2025-02-13 03:05:51.271 DEBUG [src.node.docker_mananger] Generated ports ['22286', '22287', '22288', '22289', '22290']
2025-02-13 03:05:51.271 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-13 03:05:51.272 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-13 03:05:51.272 DEBUG [src.node.waku_node] Using volumes []
2025-02-13 03:05:51.272 DEBUG [src.node.docker_mananger] docker run -i -t -p 22286:22286 -p 22287:22287 -p 22288:22288 -p 22289:22289 -p 22290:22290 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=22288 --rest-port=22286 --tcp-port=22287 --discv5-udp-port=22289 --rest-address=0.0.0.0 --nat=extip:172.18.21.109 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5db5bfa2e4d9eab8bfae4d9edc4de20508140dacb0af6c7c871c5aba87ab7780 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=22290 --metrics-logging=true --lightpush=false --relay=true
2025-02-13 03:05:51.500 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.21.109 waku c527e02712263c0a9a81a515ab69713494f7d0226c45eed1a335426658f79885
2025-02-13 03:05:51.551 DEBUG [src.node.docker_mananger] Container started with ID c527e0271226. Setting up logs at ./log/docker/receiving_node2_2025-02-13_03-05-49__26f0f955-0f55-4ad8-8155-f3db5a4a1f83__wakuorg_nwaku:latest.log
2025-02-13 03:05:51.551 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 22286
2025-02-13 03:05:51.551 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-13 03:05:52.552 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22286/health" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:52.555 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-13 03:05:52.555 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-13 03:05:52.555 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22286/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:52.557 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.21.109/tcp/22287/p2p/16Uiu2HAkxV2EiH4m8h4mTRqt13RreTZYp6TMaMKh3uqJdAFxJfwk","/ip4/172.18.21.109/tcp/22288/ws/p2p/16Uiu2HAkxV2EiH4m8h4mTRqt13RreTZYp6TMaMKh3uqJdAFxJfwk"],"enrUri":"enr:-L24QLVwNsevAqQx1AviWGxXuKvEVMNQVUGoIz45KUTwkboneg2wLjgSu_FiVPzroNSgrQ1bCeZUUhskSLIU_vfvf2YCgmlkgnY0gmlwhKwSFW2KbXVsdGlhZGRyc5YACASsEhVtBlcPAAoErBIVbQZXEN0DgnJzhQADAQAAiXNlY3AyNTZrMaECLW61R30YquWGbJ5aJ1Q1_g4AlA-cE6AvB8hYdboUfNeDdGNwglcPg3VkcIJXEYV3YWt1MgE"}'
2025-02-13 03:05:52.557 INFO [src.node.waku_node] REST service is ready !!
2025-02-13 03:05:52.558 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:22286/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.16.204/tcp/57250/p2p/16Uiu2HAm5Z5jUp3doWDUnJzQSXTPzkY5ePzDXxRmjo8DJfiUDGxV"]'
2025-02-13 03:05:52.597 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 03:05:52.606 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-13 03:05:52.606 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/lightpush_node1_2025-02-13_03-05-49__26f0f955-0f55-4ad8-8155-f3db5a4a1f83__wakuorg_go-waku:latest.log
2025-02-13 03:05:52.606 DEBUG [src.node.waku_node] Starting Node...
2025-02-13 03:05:52.606 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-13 03:05:52.608 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-13 03:05:52.608 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.38.136
2025-02-13 03:05:52.608 DEBUG [src.node.docker_mananger] Generated ports ['35008', '35009', '35010', '35011', '35012']
2025-02-13 03:05:52.608 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-13 03:05:52.608 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-13 03:05:52.609 DEBUG [src.node.waku_node] Using volumes []
2025-02-13 03:05:52.609 DEBUG [src.node.docker_mananger] docker run -i -t -p 35008:35008 -p 35009:35009 -p 35010:35010 -p 35011:35011 -p 35012:35012 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=35010 --rest-port=35008 --tcp-port=35009 --discv5-udp-port=35011 --rest-address=0.0.0.0 --nat=extip:172.18.38.136 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a3697e5bceff6fdc31b3d90362dcfe92eed6ffba2a6afcbb3fed2d4d95cfffda --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-L24QLwy3M_w0tHpYvAICFOTJj18rpnc93yPS23--WyLkmlPQ6tHFh7fB8kCNujgKfKvsRe0HQ4xqYvulAm3ciHgpiICgmlkgnY0gmlwhKwSEMyKbXVsdGlhZGRyc5YACASsEhDMBt-iAAoErBIQzAbfo90DgnJzhQADAQAAiXNlY3AyNTZrMaEClnrK85YxBTHCH88KoWuYp1fNPVs6wmv_IoyBsVfwzN6DdGNwgt-ig3VkcILfpIV3YWt1Mgk --lightpushnode=/ip4/172.18.16.204/tcp/57250/p2p/16Uiu2HAm5Z5jUp3doWDUnJzQSXTPzkY5ePzDXxRmjo8DJfiUDGxV --lightpush=true --relay=false --pubsub-topic=/waku/2/rs/3/1
2025-02-13 03:05:52.848 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.38.136 waku e3514bdc002ff41905cb07ba607996a8e132b810a098e62f871c2911700a280f
2025-02-13 03:05:52.903 DEBUG [src.node.docker_mananger] Container started with ID e3514bdc002f. Setting up logs at ./log/docker/lightpush_node1_2025-02-13_03-05-49__26f0f955-0f55-4ad8-8155-f3db5a4a1f83__wakuorg_go-waku:latest.log
2025-02-13 03:05:52.904 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 35008
2025-02-13 03:05:52.904 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-13 03:05:53.905 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:35008/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:53.907 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QJMNO-3vp6oHOun_sNIL5nMEArHrc16Xd-IkuGaV_Mz3ELedQeudXDl-iN9eEYB4pCAjL-hJusBcBWjI2oV_5pmGAZT9RR4BgmlkgnY0gmlwhKwRAASCcnOFAAMBAAGJc2VjcDI1NmsxoQPQZMU9pG5wLWq9N2dKpGrkrOJ2TSksZnuWBczYTRQweYN0Y3CCiMGDdWRwgojDhXdha3UyCA","listenAddresses":["/ip4/127.0.0.1/tcp/35009/p2p/16Uiu2HAmSgUGpud2Tg5V4QJZnatdn7PXp3w3WMjFVdPg8C6yN8Ux","/ip4/127.0.0.1/tcp/35010/ws/p2p/16Uiu2HAmSgUGpud2Tg5V4QJZnatdn7PXp3w3WMjFVdPg8C6yN8Ux","/ip4/172.17.0.4/tcp/35009/p2p/16Uiu2HAmSgUGpud2Tg5V4QJZnatdn7PXp3w3WMjFVdPg8C6yN8Ux","/ip4/172.17.0.4/tcp/35010/ws/p2p/16Uiu2HAmSgUGpud2Tg5V4QJZnatdn7PXp3w3WMjFVdPg8C6yN8Ux"]}'
2025-02-13 03:05:53.907 INFO [src.node.waku_node] REST service is ready !!
2025-02-13 03:05:53.908 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35008/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.16.204/tcp/57250/p2p/16Uiu2HAm5Z5jUp3doWDUnJzQSXTPzkY5ePzDXxRmjo8DJfiUDGxV", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-13 03:05:53.909 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-13 03:05:53.910 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35008/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.21.109/tcp/22287/p2p/16Uiu2HAkxV2EiH4m8h4mTRqt13RreTZYp6TMaMKh3uqJdAFxJfwk", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-13 03:05:53.924 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-13 03:05:53.926 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:57249/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-13 03:05:53.931 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 03:05:53.932 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:22286/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-13 03:05:53.935 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 03:05:53.936 DEBUG [tests.light_push.test_publish] Running test with content topic A simple string
2025-02-13 03:05:53.937 DEBUG [src.steps.light_push] Lightpushing message
2025-02-13 03:05:53.937 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35008/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "Hello World!", "timestamp": 1739415953936813568}}'
2025-02-13 03:05:53.943 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-13 03:05:53.944 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 03:05:54.044 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:54.045 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57249/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:54.047 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Hello World!","version":0,"timestamp":1739415953936813568,"ephemeral":false}]'
2025-02-13 03:05:54.049 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:54.049 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22286/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:54.051 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Hello World!","version":0,"timestamp":1739415953936813568,"ephemeral":false}]'
2025-02-13 03:05:54.053 DEBUG [tests.light_push.test_publish] Running test with content topic An integer
2025-02-13 03:05:54.053 DEBUG [src.steps.light_push] Lightpushing message
2025-02-13 03:05:54.053 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35008/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "1234567890", "timestamp": 1739415954053479680}}'
2025-02-13 03:05:54.059 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-13 03:05:54.059 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 03:05:54.160 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:54.160 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57249/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:54.162 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"1234567890","version":0,"timestamp":1739415954053479680,"ephemeral":false}]'
2025-02-13 03:05:54.163 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:54.163 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22286/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:54.165 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"1234567890","version":0,"timestamp":1739415954053479680,"ephemeral":false}]'
2025-02-13 03:05:54.167 DEBUG [tests.light_push.test_publish] Running test with content topic A dictionary
2025-02-13 03:05:54.167 DEBUG [src.steps.light_push] Lightpushing message
2025-02-13 03:05:54.168 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35008/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "{\"key\": \"value\"}", "timestamp": 1739415954167575552}}'
2025-02-13 03:05:54.174 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-13 03:05:54.174 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 03:05:54.275 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:54.275 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57249/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:54.278 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"{\\"key\\": \\"value\\"}","version":0,"timestamp":1739415954167575552,"ephemeral":false}]'
2025-02-13 03:05:54.279 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:54.279 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22286/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:54.281 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"{\\"key\\": \\"value\\"}","version":0,"timestamp":1739415954167575552,"ephemeral":false}]'
2025-02-13 03:05:54.283 DEBUG [tests.light_push.test_publish] Running test with content topic Chinese characters
2025-02-13 03:05:54.283 DEBUG [src.steps.light_push] Lightpushing message
2025-02-13 03:05:54.283 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35008/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "\u8fd9\u662f\u4e00\u4e9b\u4e2d\u6587", "timestamp": 1739415954283275008}}'
2025-02-13 03:05:54.288 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-13 03:05:54.290 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 03:05:54.391 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:54.392 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57249/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:54.394 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xe8\xbf\x99\xe6\x98\xaf\xe4\xb8\x80\xe4\xba\x9b\xe4\xb8\xad\xe6\x96\x87","version":0,"timestamp":1739415954283275008,"ephemeral":false}]'
2025-02-13 03:05:54.395 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:54.396 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22286/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:54.398 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xe8\xbf\x99\xe6\x98\xaf\xe4\xb8\x80\xe4\xba\x9b\xe4\xb8\xad\xe6\x96\x87","version":0,"timestamp":1739415954283275008,"ephemeral":false}]'
2025-02-13 03:05:54.399 DEBUG [tests.light_push.test_publish] Running test with content topic Emojis
2025-02-13 03:05:54.400 DEBUG [src.steps.light_push] Lightpushing message
2025-02-13 03:05:54.400 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35008/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "\ud83d\ude80\ud83c\udf1f\u2728", "timestamp": 1739415954400047360}}'
2025-02-13 03:05:54.406 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-13 03:05:54.407 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 03:05:54.508 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:54.508 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57249/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:54.510 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xf0\x9f\x9a\x80\xf0\x9f\x8c\x9f\xe2\x9c\xa8","version":0,"timestamp":1739415954400047360,"ephemeral":false}]'
2025-02-13 03:05:54.512 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:54.512 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22286/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:54.514 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xf0\x9f\x9a\x80\xf0\x9f\x8c\x9f\xe2\x9c\xa8","version":0,"timestamp":1739415954400047360,"ephemeral":false}]'
2025-02-13 03:05:54.516 DEBUG [tests.light_push.test_publish] Running test with content topic Lorem ipsum text
2025-02-13 03:05:54.516 DEBUG [src.steps.light_push] Lightpushing message
2025-02-13 03:05:54.516 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35008/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "Lorem ipsum dolor sit amet", "timestamp": 1739415954516548864}}'
2025-02-13 03:05:54.522 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-13 03:05:54.522 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 03:05:54.622 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:54.623 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57249/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:54.625 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Lorem ipsum dolor sit amet","version":0,"timestamp":1739415954516548864,"ephemeral":false}]'
2025-02-13 03:05:54.626 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:54.626 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22286/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:54.629 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Lorem ipsum dolor sit amet","version":0,"timestamp":1739415954516548864,"ephemeral":false}]'
2025-02-13 03:05:54.630 DEBUG [tests.light_push.test_publish] Running test with content topic HTML content
2025-02-13 03:05:54.631 DEBUG [src.steps.light_push] Lightpushing message
2025-02-13 03:05:54.631 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35008/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "<html><body>Hello</body></html>", "timestamp": 1739415954630837760}}'
2025-02-13 03:05:54.637 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-13 03:05:54.638 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 03:05:54.739 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:54.739 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57249/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:54.742 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"<html><body>Hello</body></html>","version":0,"timestamp":1739415954630837760,"ephemeral":false}]'
2025-02-13 03:05:54.743 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:54.744 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22286/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:54.746 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"<html><body>Hello</body></html>","version":0,"timestamp":1739415954630837760,"ephemeral":false}]'
2025-02-13 03:05:54.747 DEBUG [tests.light_push.test_publish] Running test with content topic Cyrillic characters
2025-02-13 03:05:54.747 DEBUG [src.steps.light_push] Lightpushing message
2025-02-13 03:05:54.747 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35008/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "\u041f\u0440\u0438\u0432\u0435\u0442", "timestamp": 1739415954747626752}}'
2025-02-13 03:05:54.753 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-13 03:05:54.754 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 03:05:54.855 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:54.855 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57249/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:54.858 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xd0\x9f\xd1\x80\xd0\xb8\xd0\xb2\xd0\xb5\xd1\x82","version":0,"timestamp":1739415954747626752,"ephemeral":false}]'
2025-02-13 03:05:54.859 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:54.859 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22286/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:54.862 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xd0\x9f\xd1\x80\xd0\xb8\xd0\xb2\xd0\xb5\xd1\x82","version":0,"timestamp":1739415954747626752,"ephemeral":false}]'
2025-02-13 03:05:54.863 DEBUG [tests.light_push.test_publish] Running test with content topic Base64 encoded string
2025-02-13 03:05:54.863 DEBUG [src.steps.light_push] Lightpushing message
2025-02-13 03:05:54.863 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35008/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "Base64==dGVzdA==", "timestamp": 1739415954863566080}}'
2025-02-13 03:05:54.870 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-13 03:05:54.870 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 03:05:54.971 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:54.971 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57249/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:54.973 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Base64==dGVzdA==","version":0,"timestamp":1739415954863566080,"ephemeral":false}]'
2025-02-13 03:05:54.975 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:54.975 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22286/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:54.977 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Base64==dGVzdA==","version":0,"timestamp":1739415954863566080,"ephemeral":false}]'
2025-02-13 03:05:54.980 DEBUG [tests.light_push.test_publish] Running test with content topic Binary data
2025-02-13 03:05:54.980 DEBUG [src.steps.light_push] Lightpushing message
2025-02-13 03:05:54.980 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35008/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "d29ya2luZyB3aXRoIGJpbmFyeSBkYXRh: PQ", "timestamp": 1739415954980405760}}'
2025-02-13 03:05:54.989 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-13 03:05:54.990 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 03:05:55.091 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:55.091 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57249/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:55.093 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"d29ya2luZyB3aXRoIGJpbmFyeSBkYXRh: PQ","version":0,"timestamp":1739415954980405760,"ephemeral":false}]'
2025-02-13 03:05:55.095 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:55.095 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22286/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:55.097 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"d29ya2luZyB3aXRoIGJpbmFyeSBkYXRh: PQ","version":0,"timestamp":1739415954980405760,"ephemeral":false}]'
2025-02-13 03:05:55.099 DEBUG [tests.light_push.test_publish] Running test with content topic Special characters with whitespace
2025-02-13 03:05:55.099 DEBUG [src.steps.light_push] Lightpushing message
2025-02-13 03:05:55.099 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35008/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "\t\nSpecial\tCharacters\n", "timestamp": 1739415955099478016}}'
2025-02-13 03:05:55.106 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-13 03:05:55.108 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 03:05:55.209 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:55.210 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57249/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:55.213 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\\t\\nSpecial\\tCharacters\\n","version":0,"timestamp":1739415955099478016,"ephemeral":false}]'
2025-02-13 03:05:55.215 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:55.215 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22286/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:55.218 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\\t\\nSpecial\\tCharacters\\n","version":0,"timestamp":1739415955099478016,"ephemeral":false}]'
2025-02-13 03:05:55.219 DEBUG [tests.light_push.test_publish] Running test with content topic Boolean false as a string
2025-02-13 03:05:55.220 DEBUG [src.steps.light_push] Lightpushing message
2025-02-13 03:05:55.220 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35008/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "False", "timestamp": 1739415955220359680}}'
2025-02-13 03:05:55.228 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-13 03:05:55.229 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 03:05:55.329 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:55.329 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57249/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:55.332 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"False","version":0,"timestamp":1739415955220359680,"ephemeral":false}]'
2025-02-13 03:05:55.333 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:55.334 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22286/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:55.336 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"False","version":0,"timestamp":1739415955220359680,"ephemeral":false}]'
2025-02-13 03:05:55.337 DEBUG [tests.light_push.test_publish] Running test with content topic A float number
2025-02-13 03:05:55.338 DEBUG [src.steps.light_push] Lightpushing message
2025-02-13 03:05:55.338 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35008/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "3.1415926535", "timestamp": 1739415955337822208}}'
2025-02-13 03:05:55.344 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-13 03:05:55.346 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 03:05:55.446 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:55.446 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57249/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:55.449 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"3.1415926535","version":0,"timestamp":1739415955337822208,"ephemeral":false}]'
2025-02-13 03:05:55.450 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:55.450 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22286/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:55.453 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"3.1415926535","version":0,"timestamp":1739415955337822208,"ephemeral":false}]'
2025-02-13 03:05:55.454 DEBUG [tests.light_push.test_publish] Running test with content topic A list
2025-02-13 03:05:55.454 DEBUG [src.steps.light_push] Lightpushing message
2025-02-13 03:05:55.455 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35008/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "[1, 2, 3, 4, 5]", "timestamp": 1739415955454683904}}'
2025-02-13 03:05:55.461 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-13 03:05:55.463 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 03:05:55.563 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:55.563 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57249/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:55.566 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"[1, 2, 3, 4, 5]","version":0,"timestamp":1739415955454683904,"ephemeral":false}]'
2025-02-13 03:05:55.568 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:55.568 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22286/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:55.570 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"[1, 2, 3, 4, 5]","version":0,"timestamp":1739415955454683904,"ephemeral":false}]'
2025-02-13 03:05:55.571 DEBUG [tests.light_push.test_publish] Running test with content topic Hexadecimal number as a string
2025-02-13 03:05:55.572 DEBUG [src.steps.light_push] Lightpushing message
2025-02-13 03:05:55.572 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35008/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "0xDEADBEEF", "timestamp": 1739415955571992064}}'
2025-02-13 03:05:55.579 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-13 03:05:55.580 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 03:05:55.680 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:55.680 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57249/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:55.683 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"0xDEADBEEF","version":0,"timestamp":1739415955571992064,"ephemeral":false}]'
2025-02-13 03:05:55.684 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:55.684 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22286/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:55.686 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"0xDEADBEEF","version":0,"timestamp":1739415955571992064,"ephemeral":false}]'
2025-02-13 03:05:55.687 DEBUG [tests.light_push.test_publish] Running test with content topic Email format
2025-02-13 03:05:55.688 DEBUG [src.steps.light_push] Lightpushing message
2025-02-13 03:05:55.688 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35008/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "user@example.com", "timestamp": 1739415955688198144}}'
2025-02-13 03:05:55.696 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-13 03:05:55.696 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 03:05:55.797 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:55.797 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57249/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:55.799 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"user@example.com","version":0,"timestamp":1739415955688198144,"ephemeral":false}]'
2025-02-13 03:05:55.801 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:55.801 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22286/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:55.803 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"user@example.com","version":0,"timestamp":1739415955688198144,"ephemeral":false}]'
2025-02-13 03:05:55.805 DEBUG [tests.light_push.test_publish] Running test with content topic URL format
2025-02-13 03:05:55.805 DEBUG [src.steps.light_push] Lightpushing message
2025-02-13 03:05:55.805 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35008/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "http://example.com", "timestamp": 1739415955805280000}}'
2025-02-13 03:05:55.811 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-13 03:05:55.813 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 03:05:55.913 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:55.913 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57249/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:55.916 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"http://example.com","version":0,"timestamp":1739415955805280000,"ephemeral":false}]'
2025-02-13 03:05:55.918 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:55.918 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22286/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:55.920 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"http://example.com","version":0,"timestamp":1739415955805280000,"ephemeral":false}]'
2025-02-13 03:05:55.921 DEBUG [tests.light_push.test_publish] Running test with content topic Date and time in ISO format
2025-02-13 03:05:55.922 DEBUG [src.steps.light_push] Lightpushing message
2025-02-13 03:05:55.922 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35008/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "2023-11-01T12:00:00Z", "timestamp": 1739415955921841664}}'
2025-02-13 03:05:55.928 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-13 03:05:55.929 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 03:05:56.029 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:56.029 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57249/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:56.032 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"2023-11-01T12:00:00Z","version":0,"timestamp":1739415955921841664,"ephemeral":false}]'
2025-02-13 03:05:56.033 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:56.034 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22286/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:56.036 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"2023-11-01T12:00:00Z","version":0,"timestamp":1739415955921841664,"ephemeral":false}]'
2025-02-13 03:05:56.037 DEBUG [tests.light_push.test_publish] Running test with content topic String with escaped quotes
2025-02-13 03:05:56.038 DEBUG [src.steps.light_push] Lightpushing message
2025-02-13 03:05:56.038 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35008/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "\"Escaped\" \\\"quotes\\\"", "timestamp": 1739415956037821696}}'
2025-02-13 03:05:56.044 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-13 03:05:56.044 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 03:05:56.145 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:56.145 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57249/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:56.147 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\\"Escaped\\" \\\\\\"quotes\\\\\\"","version":0,"timestamp":1739415956037821696,"ephemeral":false}]'
2025-02-13 03:05:56.148 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:56.149 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22286/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:56.151 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\\"Escaped\\" \\\\\\"quotes\\\\\\"","version":0,"timestamp":1739415956037821696,"ephemeral":false}]'
2025-02-13 03:05:56.152 DEBUG [tests.light_push.test_publish] Running test with content topic A regular expression
2025-02-13 03:05:56.152 DEBUG [src.steps.light_push] Lightpushing message
2025-02-13 03:05:56.152 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35008/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "Regular expression: ^[a-z0-9_-]{3,16}$", "timestamp": 1739415956152617728}}'
2025-02-13 03:05:56.158 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-13 03:05:56.160 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 03:05:56.261 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:56.261 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57249/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:56.263 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Regular expression: ^[a-z0-9_-]{3,16}$","version":0,"timestamp":1739415956152617728,"ephemeral":false}]'
2025-02-13 03:05:56.265 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:56.265 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22286/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:56.267 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Regular expression: ^[a-z0-9_-]{3,16}$","version":0,"timestamp":1739415956152617728,"ephemeral":false}]'
2025-02-13 03:05:56.269 DEBUG [tests.light_push.test_publish] Running test with content topic A very long string
2025-02-13 03:05:56.269 DEBUG [src.steps.light_push] Lightpushing message
2025-02-13 03:05:56.269 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35008/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx", "timestamp": 1739415956269392640}}'
2025-02-13 03:05:56.275 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-13 03:05:56.277 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 03:05:56.378 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:56.378 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57249/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:56.381 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx","version":0,"timestamp":1739415956269392640,"ephemeral":false}]'
2025-02-13 03:05:56.383 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:56.383 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22286/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:56.385 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx","version":0,"timestamp":1739415956269392640,"ephemeral":false}]'
2025-02-13 03:05:56.387 DEBUG [tests.light_push.test_publish] Running test with content topic A JSON string
2025-02-13 03:05:56.388 DEBUG [src.steps.light_push] Lightpushing message
2025-02-13 03:05:56.388 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35008/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "{\"name\": \"John\", \"age\": 30, \"city\": \"New York\"}", "timestamp": 1739415956387934464}}'
2025-02-13 03:05:56.394 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-13 03:05:56.395 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 03:05:56.496 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:56.496 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57249/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:56.499 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"{\\"name\\": \\"John\\", \\"age\\": 30, \\"city\\": \\"New York\\"}","version":0,"timestamp":1739415956387934464,"ephemeral":false}]'
2025-02-13 03:05:56.500 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:56.501 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22286/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:56.503 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"{\\"name\\": \\"John\\", \\"age\\": 30, \\"city\\": \\"New York\\"}","version":0,"timestamp":1739415956387934464,"ephemeral":false}]'
2025-02-13 03:05:56.504 DEBUG [tests.light_push.test_publish] Running test with content topic A Unix path
2025-02-13 03:05:56.504 DEBUG [src.steps.light_push] Lightpushing message
2025-02-13 03:05:56.505 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35008/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/usr/local/bin", "timestamp": 1739415956504720896}}'
2025-02-13 03:05:56.511 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-13 03:05:56.512 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 03:05:56.613 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:56.613 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57249/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:56.616 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/usr/local/bin","version":0,"timestamp":1739415956504720896,"ephemeral":false}]'
2025-02-13 03:05:56.617 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:56.617 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22286/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:56.620 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/usr/local/bin","version":0,"timestamp":1739415956504720896,"ephemeral":false}]'
2025-02-13 03:05:56.621 DEBUG [tests.light_push.test_publish] Running test with content topic A Windows path
2025-02-13 03:05:56.621 DEBUG [src.steps.light_push] Lightpushing message
2025-02-13 03:05:56.622 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35008/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "C:\\Windows\\System32", "timestamp": 1739415956621689600}}'
2025-02-13 03:05:56.629 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-13 03:05:56.630 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 03:05:56.730 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:56.731 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57249/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:56.733 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"C:\\\\Windows\\\\System32","version":0,"timestamp":1739415956621689600,"ephemeral":false}]'
2025-02-13 03:05:56.734 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:56.735 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22286/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:56.737 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"C:\\\\Windows\\\\System32","version":0,"timestamp":1739415956621689600,"ephemeral":false}]'
2025-02-13 03:05:56.738 DEBUG [tests.light_push.test_publish] Running test with content topic An SQL query
2025-02-13 03:05:56.739 DEBUG [src.steps.light_push] Lightpushing message
2025-02-13 03:05:56.739 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35008/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "SELECT * FROM users WHERE id = 1;", "timestamp": 1739415956739090944}}'
2025-02-13 03:05:56.746 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-13 03:05:56.747 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 03:05:56.848 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:56.848 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57249/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:56.850 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"SELECT * FROM users WHERE id = 1;","version":0,"timestamp":1739415956739090944,"ephemeral":false}]'
2025-02-13 03:05:56.852 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:56.852 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22286/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:56.855 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"SELECT * FROM users WHERE id = 1;","version":0,"timestamp":1739415956739090944,"ephemeral":false}]'
2025-02-13 03:05:56.857 DEBUG [tests.light_push.test_publish] Running test with content topic JavaScript code snippet
2025-02-13 03:05:56.857 DEBUG [src.steps.light_push] Lightpushing message
2025-02-13 03:05:56.857 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35008/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "function test() { console.log('Hello World'); }", "timestamp": 1739415956857233920}}'
2025-02-13 03:05:56.864 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-13 03:05:56.865 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 03:05:56.965 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:56.965 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57249/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:56.968 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"function test() { console.log(\'Hello World\'); }","version":0,"timestamp":1739415956857233920,"ephemeral":false}]'
2025-02-13 03:05:56.970 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:56.970 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22286/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:56.973 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"function test() { console.log(\'Hello World\'); }","version":0,"timestamp":1739415956857233920,"ephemeral":false}]'
2025-02-13 03:05:56.974 DEBUG [tests.light_push.test_publish] Running test with content topic A CSS snippet
2025-02-13 03:05:56.974 DEBUG [src.steps.light_push] Lightpushing message
2025-02-13 03:05:56.975 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35008/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "body { background-color: #fff; }", "timestamp": 1739415956974682368}}'
2025-02-13 03:05:56.980 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-13 03:05:56.982 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 03:05:57.083 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:57.083 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57249/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:57.085 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"body { background-color: #fff; }","version":0,"timestamp":1739415956974682368,"ephemeral":false}]'
2025-02-13 03:05:57.087 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:57.087 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22286/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:57.089 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"body { background-color: #fff; }","version":0,"timestamp":1739415956974682368,"ephemeral":false}]'
2025-02-13 03:05:57.091 DEBUG [tests.light_push.test_publish] Running test with content topic A Python one-liner
2025-02-13 03:05:57.091 DEBUG [src.steps.light_push] Lightpushing message
2025-02-13 03:05:57.091 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35008/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "print('Hello World')", "timestamp": 1739415957091234816}}'
2025-02-13 03:05:57.097 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-13 03:05:57.097 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 03:05:57.197 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:57.198 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57249/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:57.200 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"print(\'Hello World\')","version":0,"timestamp":1739415957091234816,"ephemeral":false}]'
2025-02-13 03:05:57.202 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:57.202 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22286/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:57.207 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"print(\'Hello World\')","version":0,"timestamp":1739415957091234816,"ephemeral":false}]'
2025-02-13 03:05:57.208 DEBUG [tests.light_push.test_publish] Running test with content topic An IP address
2025-02-13 03:05:57.208 DEBUG [src.steps.light_push] Lightpushing message
2025-02-13 03:05:57.208 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35008/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "192.168.1.1", "timestamp": 1739415957208620032}}'
2025-02-13 03:05:57.215 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-13 03:05:57.217 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 03:05:57.317 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:57.317 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57249/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:57.320 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"192.168.1.1","version":0,"timestamp":1739415957208620032,"ephemeral":false}]'
2025-02-13 03:05:57.321 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:57.321 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22286/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:57.323 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"192.168.1.1","version":0,"timestamp":1739415957208620032,"ephemeral":false}]'
2025-02-13 03:05:57.325 DEBUG [tests.light_push.test_publish] Running test with content topic A domain name
2025-02-13 03:05:57.325 DEBUG [src.steps.light_push] Lightpushing message
2025-02-13 03:05:57.325 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35008/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "www.example.com", "timestamp": 1739415957325405696}}'
2025-02-13 03:05:57.332 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-13 03:05:57.332 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 03:05:57.433 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:57.433 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57249/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:57.436 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"www.example.com","version":0,"timestamp":1739415957325405696,"ephemeral":false}]'
2025-02-13 03:05:57.437 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:57.437 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22286/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:57.439 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"www.example.com","version":0,"timestamp":1739415957325405696,"ephemeral":false}]'
2025-02-13 03:05:57.441 DEBUG [tests.light_push.test_publish] Running test with content topic A user agent string
2025-02-13 03:05:57.441 DEBUG [src.steps.light_push] Lightpushing message
2025-02-13 03:05:57.441 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35008/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "Mozilla/5.0 (Windows NT 10.0; Win64; x64)", "timestamp": 1739415957441380864}}'
2025-02-13 03:05:57.447 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-13 03:05:57.449 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 03:05:57.549 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:57.550 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57249/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:57.553 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Mozilla/5.0 (Windows NT 10.0; Win64; x64)","version":0,"timestamp":1739415957441380864,"ephemeral":false}]'
2025-02-13 03:05:57.554 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:57.554 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22286/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:57.556 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Mozilla/5.0 (Windows NT 10.0; Win64; x64)","version":0,"timestamp":1739415957441380864,"ephemeral":false}]'
2025-02-13 03:05:57.558 DEBUG [tests.light_push.test_publish] Running test with content topic A credit card number
2025-02-13 03:05:57.558 DEBUG [src.steps.light_push] Lightpushing message
2025-02-13 03:05:57.558 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35008/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "1234-5678-9012-3456", "timestamp": 1739415957558330624}}'
2025-02-13 03:05:57.564 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-13 03:05:57.565 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 03:05:57.666 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:57.666 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57249/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:57.668 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"1234-5678-9012-3456","version":0,"timestamp":1739415957558330624,"ephemeral":false}]'
2025-02-13 03:05:57.670 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:57.670 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22286/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:57.672 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"1234-5678-9012-3456","version":0,"timestamp":1739415957558330624,"ephemeral":false}]'
2025-02-13 03:05:57.673 DEBUG [tests.light_push.test_publish] Running test with content topic A phone number
2025-02-13 03:05:57.674 DEBUG [src.steps.light_push] Lightpushing message
2025-02-13 03:05:57.674 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35008/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "+1234567890", "timestamp": 1739415957673833984}}'
2025-02-13 03:05:57.682 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-13 03:05:57.682 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 03:05:57.783 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:57.783 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57249/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:57.786 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"+1234567890","version":0,"timestamp":1739415957673833984,"ephemeral":false}]'
2025-02-13 03:05:57.787 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:57.787 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22286/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:57.789 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"+1234567890","version":0,"timestamp":1739415957673833984,"ephemeral":false}]'
2025-02-13 03:05:57.791 DEBUG [tests.light_push.test_publish] Running test with content topic A UUID
2025-02-13 03:05:57.791 DEBUG [src.steps.light_push] Lightpushing message
2025-02-13 03:05:57.791 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35008/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "123e4567-e89b-12d3-a456-426614174000", "timestamp": 1739415957791488256}}'
2025-02-13 03:05:57.798 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-13 03:05:57.798 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 03:05:57.899 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:57.899 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57249/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:57.902 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"123e4567-e89b-12d3-a456-426614174000","version":0,"timestamp":1739415957791488256,"ephemeral":false}]'
2025-02-13 03:05:57.904 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:57.904 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22286/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:57.906 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"123e4567-e89b-12d3-a456-426614174000","version":0,"timestamp":1739415957791488256,"ephemeral":false}]'
2025-02-13 03:05:57.907 DEBUG [tests.light_push.test_publish] Running test with content topic A hashtag
2025-02-13 03:05:57.908 DEBUG [src.steps.light_push] Lightpushing message
2025-02-13 03:05:57.908 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35008/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "#helloWorld", "timestamp": 1739415957907988736}}'
2025-02-13 03:05:57.913 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-13 03:05:57.916 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 03:05:58.016 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:58.016 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57249/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:58.019 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"#helloWorld","version":0,"timestamp":1739415957907988736,"ephemeral":false}]'
2025-02-13 03:05:58.021 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:58.021 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22286/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:58.023 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"#helloWorld","version":0,"timestamp":1739415957907988736,"ephemeral":false}]'
2025-02-13 03:05:58.024 DEBUG [tests.light_push.test_publish] Running test with content topic A Twitter handle
2025-02-13 03:05:58.025 DEBUG [src.steps.light_push] Lightpushing message
2025-02-13 03:05:58.025 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35008/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "@username", "timestamp": 1739415958025133312}}'
2025-02-13 03:05:58.031 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-13 03:05:58.032 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 03:05:58.133 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:58.133 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57249/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:58.135 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"@username","version":0,"timestamp":1739415958025133312,"ephemeral":false}]'
2025-02-13 03:05:58.136 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:58.137 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22286/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:58.139 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"@username","version":0,"timestamp":1739415958025133312,"ephemeral":false}]'
2025-02-13 03:05:58.140 DEBUG [tests.light_push.test_publish] Running test with content topic A password
2025-02-13 03:05:58.141 DEBUG [src.steps.light_push] Lightpushing message
2025-02-13 03:05:58.141 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35008/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "P@ssw0rd!", "timestamp": 1739415958140770048}}'
2025-02-13 03:05:58.146 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-13 03:05:58.148 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 03:05:58.249 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:58.249 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57249/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:58.251 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"P@ssw0rd!","version":0,"timestamp":1739415958140770048,"ephemeral":false}]'
2025-02-13 03:05:58.253 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:58.253 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22286/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:58.255 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"P@ssw0rd!","version":0,"timestamp":1739415958140770048,"ephemeral":false}]'
2025-02-13 03:05:58.256 DEBUG [tests.light_push.test_publish] Running test with content topic A date in common format
2025-02-13 03:05:58.257 DEBUG [src.steps.light_push] Lightpushing message
2025-02-13 03:05:58.257 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35008/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "01/11/2023", "timestamp": 1739415958257092608}}'
2025-02-13 03:05:58.263 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-13 03:05:58.264 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 03:05:58.364 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:58.365 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57249/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:58.367 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"01/11/2023","version":0,"timestamp":1739415958257092608,"ephemeral":false}]'
2025-02-13 03:05:58.369 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:58.369 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22286/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:58.371 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"01/11/2023","version":0,"timestamp":1739415958257092608,"ephemeral":false}]'
2025-02-13 03:05:58.372 DEBUG [tests.light_push.test_publish] Running test with content topic A time string
2025-02-13 03:05:58.373 DEBUG [src.steps.light_push] Lightpushing message
2025-02-13 03:05:58.373 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35008/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "12:00:00", "timestamp": 1739415958373121792}}'
2025-02-13 03:05:58.379 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-13 03:05:58.380 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 03:05:58.480 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:58.480 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57249/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:58.482 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"12:00:00","version":0,"timestamp":1739415958373121792,"ephemeral":false}]'
2025-02-13 03:05:58.484 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:58.484 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22286/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:58.486 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"12:00:00","version":0,"timestamp":1739415958373121792,"ephemeral":false}]'
2025-02-13 03:05:58.487 DEBUG [tests.light_push.test_publish] Running test with content topic A mathematical equation
2025-02-13 03:05:58.488 DEBUG [src.steps.light_push] Lightpushing message
2025-02-13 03:05:58.488 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35008/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "E = mc^2", "timestamp": 1739415958488032000}}'
2025-02-13 03:05:58.493 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-13 03:05:58.494 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 03:05:58.594 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:58.595 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57249/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:58.597 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"E = mc^2","version":0,"timestamp":1739415958488032000,"ephemeral":false}]'
2025-02-13 03:05:58.598 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-13 03:05:58.598 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22286/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 03:05:58.601 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"E = mc^2","version":0,"timestamp":1739415958488032000,"ephemeral":false}]'
2025-02-13 03:05:58.603 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-13 03:05:58.604 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-13 03:05:58.604 DEBUG [src.node.waku_node] Stopping container with id c4bbee5e53fa
2025-02-13 03:05:59.133 DEBUG [src.node.waku_node] Container stopped.
2025-02-13 03:05:59.133 DEBUG [src.node.waku_node] Stopping container with id c527e0271226
2025-02-13 03:05:59.946 ERROR [src.node.docker_mananger] Max retries reached for container c4bbee5e53fa. Exiting log stream.
2025-02-13 03:06:00.156 DEBUG [src.node.waku_node] Container stopped.
2025-02-13 03:06:00.157 DEBUG [src.node.waku_node] Stopping container with id e3514bdc002f
2025-02-13 03:06:00.672 DEBUG [src.node.waku_node] Container stopped.
2025-02-13 03:06:00.674 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-13 03:06:00.699 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-13 03:06:00.715 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-13 03:06:00.722 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
