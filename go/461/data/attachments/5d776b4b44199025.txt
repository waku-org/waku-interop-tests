2025-02-11 03:07:09.737 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-11 03:07:09.738 DEBUG [tests.conftest] Running test: test_time_filter_big_timestamp with id: 2025-02-11_03-07-09__e9e34a7c-1c91-48b4-83ef-dc675f093e74
2025-02-11 03:07:09.739 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-11 03:07:09.739 DEBUG [src.steps.store] Running fixture setup: store_setup
2025-02-11 03:07:09.740 DEBUG [src.steps.store] Running fixture setup: node_setup
2025-02-11 03:07:09.747 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 03:07:09.747 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-11_03-07-09__e9e34a7c-1c91-48b4-83ef-dc675f093e74__wakuorg_nwaku:latest.log
2025-02-11 03:07:09.747 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 03:07:09.747 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 03:07:09.749 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 03:07:09.749 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.35.167
2025-02-11 03:07:09.749 DEBUG [src.node.docker_mananger] Generated ports ['18757', '18758', '18759', '18760', '18761']
2025-02-11 03:07:09.749 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 03:07:09.749 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 03:07:09.749 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 03:07:09.750 DEBUG [src.node.docker_mananger] docker run -i -t -p 18757:18757 -p 18758:18758 -p 18759:18759 -p 18760:18760 -p 18761:18761 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=18759 --rest-port=18757 --tcp-port=18758 --discv5-udp-port=18760 --rest-address=0.0.0.0 --nat=extip:172.18.35.167 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ed6d4f92f51afbfe4ebfbdbfa4f00a7de2afba14b6c4124433cf16b3d511af3a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=18761 --metrics-logging=true --store=true --relay=true
2025-02-11 03:07:09.976 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.35.167 waku 447f8044d88bb49fb8640953fcf05c2925a22e7cd7d3adbae80cb60670391a79
2025-02-11 03:07:10.019 ERROR [src.node.docker_mananger] Max retries reached for container 4408c8226150. Exiting log stream.
2025-02-11 03:07:10.024 DEBUG [src.node.docker_mananger] Container started with ID 447f8044d88b. Setting up logs at ./log/docker/publishing_node1_2025-02-11_03-07-09__e9e34a7c-1c91-48b4-83ef-dc675f093e74__wakuorg_nwaku:latest.log
2025-02-11 03:07:10.026 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 18757
2025-02-11 03:07:10.026 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 03:07:10.556 ERROR [src.node.docker_mananger] Max retries reached for container 44a4f68b5ae1. Exiting log stream.
2025-02-11 03:07:11.028 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18757/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 03:07:11.031 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 03:07:11.031 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 03:07:11.031 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18757/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 03:07:11.033 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.35.167/tcp/18758/p2p/16Uiu2HAmUMosfzPMZ72UfWd1RejkjFGfLjUvxoVSxHycJYBHpjvq","/ip4/172.18.35.167/tcp/18759/ws/p2p/16Uiu2HAmUMosfzPMZ72UfWd1RejkjFGfLjUvxoVSxHycJYBHpjvq"],"enrUri":"enr:-L24QAhLNrwAnhWzra8Y6XCkvShWMYemOc8J7Ha6XrefpcZSWuQ7lDCtzS4Zlbz4ceqdovbpOGT9FoJzbSMz9eUjGfoCgmlkgnY0gmlwhKwSI6eKbXVsdGlhZGRyc5YACASsEiOnBklGAAoErBIjpwZJR90DgnJzhQADAQAAiXNlY3AyNTZrMaED6VRFinrjX_kR0ZHjj2jsED-w4x_-K_AXlhr1Pll_mfKDdGNwgklGg3VkcIJJSIV3YWt1MgM"}'
2025-02-11 03:07:11.034 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 03:07:11.041 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-11 03:07:11.041 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-11_03-07-09__e9e34a7c-1c91-48b4-83ef-dc675f093e74__wakuorg_go-waku:latest.log
2025-02-11 03:07:11.041 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 03:07:11.041 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 03:07:11.042 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 03:07:11.043 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.105.46
2025-02-11 03:07:11.043 DEBUG [src.node.docker_mananger] Generated ports ['63720', '63721', '63722', '63723', '63724']
2025-02-11 03:07:11.043 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 03:07:11.043 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 03:07:11.043 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 03:07:11.043 DEBUG [src.node.docker_mananger] docker run -i -t -p 63720:63720 -p 63721:63721 -p 63722:63722 -p 63723:63723 -p 63724:63724 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=63722 --rest-port=63720 --tcp-port=63721 --discv5-udp-port=63723 --rest-address=0.0.0.0 --nat=extip:172.18.105.46 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ac2a7f0fd9aacd7ac1e77fbbee1995e78b85abf0931a8e641bccb22c9cae8f2c --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-L24QAhLNrwAnhWzra8Y6XCkvShWMYemOc8J7Ha6XrefpcZSWuQ7lDCtzS4Zlbz4ceqdovbpOGT9FoJzbSMz9eUjGfoCgmlkgnY0gmlwhKwSI6eKbXVsdGlhZGRyc5YACASsEiOnBklGAAoErBIjpwZJR90DgnJzhQADAQAAiXNlY3AyNTZrMaED6VRFinrjX_kR0ZHjj2jsED-w4x_-K_AXlhr1Pll_mfKDdGNwgklGg3VkcIJJSIV3YWt1MgM --storenode=/ip4/172.18.35.167/tcp/18758/p2p/16Uiu2HAmUMosfzPMZ72UfWd1RejkjFGfLjUvxoVSxHycJYBHpjvq --store=true --relay=true
2025-02-11 03:07:11.276 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.105.46 waku d86d6e3e7ab3fa7dede558af7edee1ad7f18c5027193a96df8f2d4b0464fe9af
2025-02-11 03:07:11.328 DEBUG [src.node.docker_mananger] Container started with ID d86d6e3e7ab3. Setting up logs at ./log/docker/store_node1_2025-02-11_03-07-09__e9e34a7c-1c91-48b4-83ef-dc675f093e74__wakuorg_go-waku:latest.log
2025-02-11 03:07:11.329 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 63720
2025-02-11 03:07:11.330 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 03:07:12.330 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63720/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 03:07:12.333 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QIS0X9itrigmh2Yxb95dl-VPKeukeIObuPN2BjfunVZJWCdyb4E3IucZxGgFB9xhJX8-iqUCEIlndFPb019nhJOGAZTy-ZhngmlkgnY0gmlwhKwRAAOCcnODAAMAiXNlY3AyNTZrMaEDoC3Yi8fpZJHWjWSaGk_zNC8UsrHeKgNPRwQT7gsfAx2DdGNwgvjpg3VkcIL464V3YWt1MgM","listenAddresses":["/ip4/127.0.0.1/tcp/63721/p2p/16Uiu2HAmPSG8QsGkSHcMHQnBQqu9sJSGq2KjXTCCrcfv6AP7GpQL","/ip4/127.0.0.1/tcp/63722/ws/p2p/16Uiu2HAmPSG8QsGkSHcMHQnBQqu9sJSGq2KjXTCCrcfv6AP7GpQL","/ip4/172.17.0.3/tcp/63721/p2p/16Uiu2HAmPSG8QsGkSHcMHQnBQqu9sJSGq2KjXTCCrcfv6AP7GpQL","/ip4/172.17.0.3/tcp/63722/ws/p2p/16Uiu2HAmPSG8QsGkSHcMHQnBQqu9sJSGq2KjXTCCrcfv6AP7GpQL"]}'
2025-02-11 03:07:12.334 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 03:07:12.334 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63720/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.35.167/tcp/18758/p2p/16Uiu2HAmUMosfzPMZ72UfWd1RejkjFGfLjUvxoVSxHycJYBHpjvq", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-11 03:07:12.351 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-11 03:07:12.352 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:18757/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-11 03:07:12.375 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 03:07:12.376 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63720/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-11 03:07:12.378 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 03:07:12.382 DEBUG [src.steps.store] Relaying message
2025-02-11 03:07:12.384 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:18757/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 03:07:12.396 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 03:07:12.396 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 03:07:12.598 DEBUG [src.steps.store] Relaying message
2025-02-11 03:07:12.598 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:18757/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 03:07:12.604 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 03:07:12.604 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 03:07:12.805 DEBUG [src.steps.store] Relaying message
2025-02-11 03:07:12.805 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:18757/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 03:07:12.811 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 03:07:12.811 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 03:07:13.012 DEBUG [src.steps.store] Relaying message
2025-02-11 03:07:13.012 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:18757/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 03:07:13.018 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 03:07:13.018 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 03:07:13.218 DEBUG [src.steps.store] Relaying message
2025-02-11 03:07:13.219 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:18757/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 03:07:13.225 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 03:07:13.226 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 03:07:13.426 DEBUG [src.steps.store] Relaying message
2025-02-11 03:07:13.426 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:18757/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 03:07:13.432 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 03:07:13.432 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 03:07:13.632 DEBUG [tests.store.test_time_filter] inquering stored messages with start time 1739243229382152192 after end time 2430443233632933888
2025-02-11 03:07:13.633 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18757/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1739243229382152192&endTime=2430443233632933888&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 03:07:13.637 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x4ffb9027591cc986ee744054f4e31321d5b7b55b0a1dd70269237dce9cb08a8a","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739243229382152192,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0x5f73996f29bcd90214eeae1402f8763375e70e8ac9aa3b90b0234c02521dd197","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739243231382159104,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0xd7d436125f26dc5962c7b5ebaece23da68d3e619a83140a7aec9528b7ff028c0","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739243232282160896,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0x28cea749453ffccb42703378d74154128488759727b586452a83db08f7a7f29a","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739243232482162944,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0xa1c91b1d847ff5f73203d84fdc329f67c24cdb4bf1efe5ca6bd7cd85d7087f43","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739243234382164992,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0x6fe6bc5d630a0a4de2a15113a2417517c7956bd2783a07b174f01c0b9969dbea","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739243242382167040,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"}]}'
2025-02-11 03:07:13.648 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-11 03:07:13.649 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-11 03:07:13.649 DEBUG [src.node.waku_node] Stopping container with id 447f8044d88b
2025-02-11 03:07:14.201 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 03:07:14.201 DEBUG [src.node.waku_node] Stopping container with id d86d6e3e7ab3
2025-02-11 03:07:14.711 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 03:07:14.715 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-11 03:07:14.729 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 03:07:14.733 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 03:07:14.735 DEBUG [tests.conftest] Running fixture teardown: attach_logs_on_fail
2025-02-11 03:07:14.735 DEBUG [tests.conftest] Test failed, attempting to attach logs to the allure reports
2025-02-11 03:07:14.736 DEBUG [src.libs.common] Attaching file ./log/docker/publishing_node1_2025-02-11_03-07-09__e9e34a7c-1c91-48b4-83ef-dc675f093e74__wakuorg_nwaku:latest.log
2025-02-11 03:07:14.740 DEBUG [src.libs.common] Attaching file ./log/docker/store_node1_2025-02-11_03-07-09__e9e34a7c-1c91-48b4-83ef-dc675f093e74__wakuorg_go-waku:latest.log
2025-02-11 03:07:14.746 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-11 03:07:14.747 DEBUG [tests.conftest] Running test: test_time_filter_big_timestamp with id: 2025-02-11_03-07-14__4a2933ec-c8d4-4159-8271-308ba1686cb0
2025-02-11 03:07:14.747 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-11 03:07:14.747 DEBUG [src.steps.store] Running fixture setup: store_setup
2025-02-11 03:07:14.747 DEBUG [src.steps.store] Running fixture setup: node_setup
2025-02-11 03:07:14.753 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 03:07:14.754 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-11_03-07-14__4a2933ec-c8d4-4159-8271-308ba1686cb0__wakuorg_nwaku:latest.log
2025-02-11 03:07:14.754 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 03:07:14.754 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 03:07:14.755 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 03:07:14.755 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.41.144
2025-02-11 03:07:14.755 DEBUG [src.node.docker_mananger] Generated ports ['17660', '17661', '17662', '17663', '17664']
2025-02-11 03:07:14.756 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 03:07:14.756 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 03:07:14.756 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 03:07:14.756 DEBUG [src.node.docker_mananger] docker run -i -t -p 17660:17660 -p 17661:17661 -p 17662:17662 -p 17663:17663 -p 17664:17664 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=17662 --rest-port=17660 --tcp-port=17661 --discv5-udp-port=17663 --rest-address=0.0.0.0 --nat=extip:172.18.41.144 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e72df74fe16fdad1a4b6c5eccb24ffdbf1effb33d19eba8e3bd8bddba3d3cdd4 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=17664 --metrics-logging=true --store=true --relay=true
2025-02-11 03:07:14.986 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.41.144 waku e805dbf21b41630657c249b31e1bddc5cb7360614754b485ef38a60f80ec9309
2025-02-11 03:07:15.033 DEBUG [src.node.docker_mananger] Container started with ID e805dbf21b41. Setting up logs at ./log/docker/publishing_node1_2025-02-11_03-07-14__4a2933ec-c8d4-4159-8271-308ba1686cb0__wakuorg_nwaku:latest.log
2025-02-11 03:07:15.035 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 17660
2025-02-11 03:07:15.035 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 03:07:15.048 ERROR [src.node.docker_mananger] Max retries reached for container 447f8044d88b. Exiting log stream.
2025-02-11 03:07:15.553 ERROR [src.node.docker_mananger] Max retries reached for container d86d6e3e7ab3. Exiting log stream.
2025-02-11 03:07:16.035 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17660/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 03:07:16.038 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 03:07:16.039 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 03:07:16.039 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17660/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 03:07:16.041 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.41.144/tcp/17661/p2p/16Uiu2HAkumTXJdxdvRcoMo1tqHPLWGQwmmd1tWX8PWD6y1LMYFgY","/ip4/172.18.41.144/tcp/17662/ws/p2p/16Uiu2HAkumTXJdxdvRcoMo1tqHPLWGQwmmd1tWX8PWD6y1LMYFgY"],"enrUri":"enr:-L24QMBNTaYjxDbxu88Uaz96Wn-i6JB3YdnZtBUIaP915zSJCSQPpsdRHC6tgpnBO3haS8zlNsQjBILEkts8dJxfhnsCgmlkgnY0gmlwhKwSKZCKbXVsdGlhZGRyc5YACASsEimQBkT9AAoErBIpkAZE_t0DgnJzhQADAQAAiXNlY3AyNTZrMaECBRGIBkWif_c-SRtv88k62LQxeRnzp5DDADPCos81qOWDdGNwgkT9g3VkcIJE_4V3YWt1MgM"}'
2025-02-11 03:07:16.041 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 03:07:16.048 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-11 03:07:16.048 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-11_03-07-14__4a2933ec-c8d4-4159-8271-308ba1686cb0__wakuorg_go-waku:latest.log
2025-02-11 03:07:16.048 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 03:07:16.048 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 03:07:16.050 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 03:07:16.050 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.82.50
2025-02-11 03:07:16.050 DEBUG [src.node.docker_mananger] Generated ports ['30501', '30502', '30503', '30504', '30505']
2025-02-11 03:07:16.050 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 03:07:16.050 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 03:07:16.050 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 03:07:16.050 DEBUG [src.node.docker_mananger] docker run -i -t -p 30501:30501 -p 30502:30502 -p 30503:30503 -p 30504:30504 -p 30505:30505 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=30503 --rest-port=30501 --tcp-port=30502 --discv5-udp-port=30504 --rest-address=0.0.0.0 --nat=extip:172.18.82.50 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c2c6853bb37cec0b122da6f84f09abc5f50bbfd13db63b79f908cdb99ea5ccee --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-L24QMBNTaYjxDbxu88Uaz96Wn-i6JB3YdnZtBUIaP915zSJCSQPpsdRHC6tgpnBO3haS8zlNsQjBILEkts8dJxfhnsCgmlkgnY0gmlwhKwSKZCKbXVsdGlhZGRyc5YACASsEimQBkT9AAoErBIpkAZE_t0DgnJzhQADAQAAiXNlY3AyNTZrMaECBRGIBkWif_c-SRtv88k62LQxeRnzp5DDADPCos81qOWDdGNwgkT9g3VkcIJE_4V3YWt1MgM --storenode=/ip4/172.18.41.144/tcp/17661/p2p/16Uiu2HAkumTXJdxdvRcoMo1tqHPLWGQwmmd1tWX8PWD6y1LMYFgY --store=true --relay=true
2025-02-11 03:07:16.290 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.82.50 waku 60cab30b1809f7594d313a38578c833fcd310a84fd7e02638c8bc1e4f8f398c4
2025-02-11 03:07:16.343 DEBUG [src.node.docker_mananger] Container started with ID 60cab30b1809. Setting up logs at ./log/docker/store_node1_2025-02-11_03-07-14__4a2933ec-c8d4-4159-8271-308ba1686cb0__wakuorg_go-waku:latest.log
2025-02-11 03:07:16.345 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 30501
2025-02-11 03:07:16.345 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 03:07:17.345 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30501/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 03:07:17.348 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QLYvDkBmgVC_MT3rTpaXXuBy7XDJsYdZkR-C7qnXt6-EI_34F1Be3-7-QLLwy08RUPQQnUOcnj60AWKjbTPtl-KGAZTy-av4gmlkgnY0gmlwhKwRAAOCcnODAAMAiXNlY3AyNTZrMaECt4CNcD2QzHMeq4p1wTYh9YuzBLj4Ivlti8asIogqjC6DdGNwgncmg3VkcIJ3KIV3YWt1MgM","listenAddresses":["/ip4/127.0.0.1/tcp/30502/p2p/16Uiu2HAm7mzHG74L5ScFwrGJyPtELG5JPmvnBhr1hA1kpkeT3xcu","/ip4/127.0.0.1/tcp/30503/ws/p2p/16Uiu2HAm7mzHG74L5ScFwrGJyPtELG5JPmvnBhr1hA1kpkeT3xcu","/ip4/172.17.0.3/tcp/30502/p2p/16Uiu2HAm7mzHG74L5ScFwrGJyPtELG5JPmvnBhr1hA1kpkeT3xcu","/ip4/172.17.0.3/tcp/30503/ws/p2p/16Uiu2HAm7mzHG74L5ScFwrGJyPtELG5JPmvnBhr1hA1kpkeT3xcu"]}'
2025-02-11 03:07:17.348 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 03:07:17.349 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:30501/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.41.144/tcp/17661/p2p/16Uiu2HAkumTXJdxdvRcoMo1tqHPLWGQwmmd1tWX8PWD6y1LMYFgY", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-11 03:07:17.365 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-11 03:07:17.368 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17660/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-11 03:07:17.391 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 03:07:17.391 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:30501/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-11 03:07:17.393 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 03:07:17.397 DEBUG [src.steps.store] Relaying message
2025-02-11 03:07:17.397 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17660/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 03:07:17.411 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 03:07:17.411 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 03:07:17.612 DEBUG [src.steps.store] Relaying message
2025-02-11 03:07:17.613 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17660/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 03:07:17.619 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 03:07:17.619 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 03:07:17.819 DEBUG [src.steps.store] Relaying message
2025-02-11 03:07:17.820 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17660/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 03:07:17.825 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 03:07:17.826 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 03:07:18.026 DEBUG [src.steps.store] Relaying message
2025-02-11 03:07:18.027 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17660/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 03:07:18.033 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 03:07:18.033 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 03:07:18.233 DEBUG [src.steps.store] Relaying message
2025-02-11 03:07:18.234 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17660/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 03:07:18.239 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 03:07:18.240 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 03:07:18.440 DEBUG [src.steps.store] Relaying message
2025-02-11 03:07:18.440 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17660/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 03:07:18.446 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 03:07:18.447 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 03:07:18.647 DEBUG [tests.store.test_time_filter] inquering stored messages with start time 1739243234396968960 after end time 2430443238647355904
2025-02-11 03:07:18.647 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17660/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1739243234396968960&endTime=2430443238647355904&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 03:07:18.651 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xd25db63b506074b96598ed5836a5068fe054bb34df58b70f06b0ffece07fd021","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739243234396968960,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0x152320c097cdf5f0e0130eb97a8d1ba94d2cdb29332ee37b527f101c658bf039","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739243236396975872,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0xaaf5a8a3553cd336bb89501d5132aee9d18d4cd9395f6debfc0ff82e3f67dd54","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739243237296977920,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0x051233a29df0d3fcf64bf773b9e8d30a7954b86e48d42271372c867ba64ef43f","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739243237496980992,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0x3b15eae12caef8a004301691b4793a596a42f2e73f8b33fbb16d999a940fcab3","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739243239396982784,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0xd8b81bc881d357abef934d97cf39c4d7d3fbd7a550dbe98dbe3d4dcb3f121385","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739243247396984064,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"}]}'
2025-02-11 03:07:18.663 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-11 03:07:18.664 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-11 03:07:18.664 DEBUG [src.node.waku_node] Stopping container with id e805dbf21b41
2025-02-11 03:07:19.227 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 03:07:19.228 DEBUG [src.node.waku_node] Stopping container with id 60cab30b1809
2025-02-11 03:07:19.762 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 03:07:19.766 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-11 03:07:19.779 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 03:07:19.783 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 03:07:19.785 DEBUG [tests.conftest] Running fixture teardown: attach_logs_on_fail
2025-02-11 03:07:19.786 DEBUG [tests.conftest] Test failed, attempting to attach logs to the allure reports
2025-02-11 03:07:19.787 DEBUG [src.libs.common] Attaching file ./log/docker/store_node1_2025-02-11_03-07-14__4a2933ec-c8d4-4159-8271-308ba1686cb0__wakuorg_go-waku:latest.log
2025-02-11 03:07:19.790 DEBUG [src.libs.common] Attaching file ./log/docker/publishing_node1_2025-02-11_03-07-14__4a2933ec-c8d4-4159-8271-308ba1686cb0__wakuorg_nwaku:latest.log
2025-02-11 03:07:19.798 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-11 03:07:19.798 DEBUG [tests.conftest] Running test: test_time_filter_big_timestamp with id: 2025-02-11_03-07-19__7def33d5-483a-4e13-9452-7b07c16dadda
2025-02-11 03:07:19.799 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-11 03:07:19.799 DEBUG [src.steps.store] Running fixture setup: store_setup
2025-02-11 03:07:19.799 DEBUG [src.steps.store] Running fixture setup: node_setup
2025-02-11 03:07:19.806 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 03:07:19.806 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-11_03-07-19__7def33d5-483a-4e13-9452-7b07c16dadda__wakuorg_nwaku:latest.log
2025-02-11 03:07:19.807 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 03:07:19.807 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 03:07:19.808 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 03:07:19.808 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.237.135
2025-02-11 03:07:19.808 DEBUG [src.node.docker_mananger] Generated ports ['53469', '53470', '53471', '53472', '53473']
2025-02-11 03:07:19.808 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 03:07:19.809 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 03:07:19.809 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 03:07:19.809 DEBUG [src.node.docker_mananger] docker run -i -t -p 53469:53469 -p 53470:53470 -p 53471:53471 -p 53472:53472 -p 53473:53473 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=53471 --rest-port=53469 --tcp-port=53470 --discv5-udp-port=53472 --rest-address=0.0.0.0 --nat=extip:172.18.237.135 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=4accee94e5af561ecef4d9b2e9a9ea50c193a1db2decfdfcffea34afed591cb3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=53473 --metrics-logging=true --store=true --relay=true
2025-02-11 03:07:20.044 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.237.135 waku 3fcd66d383c2e3e8e11ebc602ebea159bd6c0cc544a94bd2b4ac76aec02663e3
2025-02-11 03:07:20.077 ERROR [src.node.docker_mananger] Max retries reached for container e805dbf21b41. Exiting log stream.
2025-02-11 03:07:20.089 DEBUG [src.node.docker_mananger] Container started with ID 3fcd66d383c2. Setting up logs at ./log/docker/publishing_node1_2025-02-11_03-07-19__7def33d5-483a-4e13-9452-7b07c16dadda__wakuorg_nwaku:latest.log
2025-02-11 03:07:20.090 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 53469
2025-02-11 03:07:20.091 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 03:07:20.605 ERROR [src.node.docker_mananger] Max retries reached for container 60cab30b1809. Exiting log stream.
2025-02-11 03:07:21.091 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53469/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 03:07:21.094 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 03:07:21.095 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 03:07:21.095 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53469/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 03:07:21.097 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.237.135/tcp/53470/p2p/16Uiu2HAm1c9uJAKZcsLzneQuKbpw8bruvaM3h9usMTkhLLhdo4Cw","/ip4/172.18.237.135/tcp/53471/ws/p2p/16Uiu2HAm1c9uJAKZcsLzneQuKbpw8bruvaM3h9usMTkhLLhdo4Cw"],"enrUri":"enr:-L24QAAKWEY20ZxZRKC4YaCge6grTLKTlWeqqDNX1j5p-cQIfuC7SEDhfOSVFPUc7oXoopAAy8sZ2A31xQ7Cegcb-AgCgmlkgnY0gmlwhKwS7YeKbXVsdGlhZGRyc5YACASsEu2HBtDeAAoErBLthwbQ390DgnJzhQADAQAAiXNlY3AyNTZrMaECW9WAbmfdY2GIXR5xZyF5z3A6HXizD2JufUicLkpIYNCDdGNwgtDeg3VkcILQ4IV3YWt1MgM"}'
2025-02-11 03:07:21.097 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 03:07:21.103 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-11 03:07:21.104 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-11_03-07-19__7def33d5-483a-4e13-9452-7b07c16dadda__wakuorg_go-waku:latest.log
2025-02-11 03:07:21.104 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 03:07:21.104 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 03:07:21.105 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 03:07:21.105 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.149.25
2025-02-11 03:07:21.105 DEBUG [src.node.docker_mananger] Generated ports ['15618', '15619', '15620', '15621', '15622']
2025-02-11 03:07:21.105 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 03:07:21.106 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 03:07:21.106 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 03:07:21.106 DEBUG [src.node.docker_mananger] docker run -i -t -p 15618:15618 -p 15619:15619 -p 15620:15620 -p 15621:15621 -p 15622:15622 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=15620 --rest-port=15618 --tcp-port=15619 --discv5-udp-port=15621 --rest-address=0.0.0.0 --nat=extip:172.18.149.25 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5f9a68a59cb5abb7ee58cfae0ac4acc5f085af68523bdfc5f4a3aee4bdbcb429 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-L24QAAKWEY20ZxZRKC4YaCge6grTLKTlWeqqDNX1j5p-cQIfuC7SEDhfOSVFPUc7oXoopAAy8sZ2A31xQ7Cegcb-AgCgmlkgnY0gmlwhKwS7YeKbXVsdGlhZGRyc5YACASsEu2HBtDeAAoErBLthwbQ390DgnJzhQADAQAAiXNlY3AyNTZrMaECW9WAbmfdY2GIXR5xZyF5z3A6HXizD2JufUicLkpIYNCDdGNwgtDeg3VkcILQ4IV3YWt1MgM --storenode=/ip4/172.18.237.135/tcp/53470/p2p/16Uiu2HAm1c9uJAKZcsLzneQuKbpw8bruvaM3h9usMTkhLLhdo4Cw --store=true --relay=true
2025-02-11 03:07:21.344 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.149.25 waku d63d1c12f21ce797fde954239644f9365ffa1d5a6d9ebd1a5d68b5f7749ee041
2025-02-11 03:07:21.399 DEBUG [src.node.docker_mananger] Container started with ID d63d1c12f21c. Setting up logs at ./log/docker/store_node1_2025-02-11_03-07-19__7def33d5-483a-4e13-9452-7b07c16dadda__wakuorg_go-waku:latest.log
2025-02-11 03:07:21.400 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 15618
2025-02-11 03:07:21.401 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 03:07:22.401 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15618/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 03:07:22.404 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QF85FwQASm5ctxsiwFYV0Ir3QHmf6Nxxkp8_ZhmUtLYfIatd55X1cpcZ4EV6mjfcWNVbe06BLCinJY1SJCqwLP2GAZTy-b-4gmlkgnY0gmlwhKwRAAOCcnODAAMAiXNlY3AyNTZrMaED8FYjUeVG94zSwotCAypoZLdMXxwKFX86VvVHtT3IqRaDdGNwgj0Dg3VkcII9BYV3YWt1MgM","listenAddresses":["/ip4/127.0.0.1/tcp/15619/p2p/16Uiu2HAmUqANw2hKSVWbfsAJhtXjv8BkrXDN5WxnD91g6Sj6JcrR","/ip4/127.0.0.1/tcp/15620/ws/p2p/16Uiu2HAmUqANw2hKSVWbfsAJhtXjv8BkrXDN5WxnD91g6Sj6JcrR","/ip4/172.17.0.3/tcp/15619/p2p/16Uiu2HAmUqANw2hKSVWbfsAJhtXjv8BkrXDN5WxnD91g6Sj6JcrR","/ip4/172.17.0.3/tcp/15620/ws/p2p/16Uiu2HAmUqANw2hKSVWbfsAJhtXjv8BkrXDN5WxnD91g6Sj6JcrR"]}'
2025-02-11 03:07:22.404 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 03:07:22.405 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15618/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.237.135/tcp/53470/p2p/16Uiu2HAm1c9uJAKZcsLzneQuKbpw8bruvaM3h9usMTkhLLhdo4Cw", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-11 03:07:22.421 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-11 03:07:22.424 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:53469/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-11 03:07:22.447 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 03:07:22.448 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15618/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-11 03:07:22.450 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 03:07:22.453 DEBUG [src.steps.store] Relaying message
2025-02-11 03:07:22.455 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:53469/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 03:07:22.468 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 03:07:22.468 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 03:07:22.669 DEBUG [src.steps.store] Relaying message
2025-02-11 03:07:22.669 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:53469/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 03:07:22.675 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 03:07:22.675 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 03:07:22.876 DEBUG [src.steps.store] Relaying message
2025-02-11 03:07:22.876 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:53469/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 03:07:22.882 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 03:07:22.882 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 03:07:23.083 DEBUG [src.steps.store] Relaying message
2025-02-11 03:07:23.083 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:53469/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 03:07:23.089 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 03:07:23.090 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 03:07:23.290 DEBUG [src.steps.store] Relaying message
2025-02-11 03:07:23.291 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:53469/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 03:07:23.297 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 03:07:23.297 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 03:07:23.498 DEBUG [src.steps.store] Relaying message
2025-02-11 03:07:23.498 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:53469/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 03:07:23.505 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 03:07:23.506 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 03:07:23.706 DEBUG [tests.store.test_time_filter] inquering stored messages with start time 1739243239453232896 after end time 2430443243706481152
2025-02-11 03:07:23.707 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53469/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1739243239453232896&endTime=2430443243706481152&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 03:07:23.710 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x22ee3efc92b9fc0dc29ee47aeb516210a8dff8b9e475cc8abe52e045e7db4010","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739243239453232896,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0x3694eaa85da02500ab1d0722923c8db3bc27afb638516a9cf75d4629b5286091","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739243241453242112,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0x0b24b4190cf1d56d8c58182ea7456873abf6bdcfcad7116b9c3c2a53beb65bfa","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739243242353244928,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0x1bb1b276337b1ad7fcf2f07e74f5c618ad3d89e987e72fab98c61fb8e13f26bd","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739243242553248000,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0x017cbdfe1c23c1c3dc9487408a98a3d949c7df3d0fa43f88a97163ec4c9e3df3","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739243244453250816,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0xe46f322bc221ff5c4e9510af16f6a789b7c49536a857a373b322a9e723fd3334","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739243252453253888,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"}]}'
2025-02-11 03:07:23.721 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-11 03:07:23.722 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-11 03:07:23.722 DEBUG [src.node.waku_node] Stopping container with id 3fcd66d383c2
2025-02-11 03:07:24.275 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 03:07:24.276 DEBUG [src.node.waku_node] Stopping container with id d63d1c12f21c
2025-02-11 03:07:24.796 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 03:07:24.798 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-11 03:07:24.805 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 03:07:24.808 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 03:07:24.810 DEBUG [tests.conftest] Running fixture teardown: attach_logs_on_fail
2025-02-11 03:07:24.810 DEBUG [tests.conftest] Test failed, attempting to attach logs to the allure reports
2025-02-11 03:07:24.812 DEBUG [src.libs.common] Attaching file ./log/docker/publishing_node1_2025-02-11_03-07-19__7def33d5-483a-4e13-9452-7b07c16dadda__wakuorg_nwaku:latest.log
2025-02-11 03:07:24.814 DEBUG [src.libs.common] Attaching file ./log/docker/store_node1_2025-02-11_03-07-19__7def33d5-483a-4e13-9452-7b07c16dadda__wakuorg_go-waku:latest.log
