2025-02-11 03:08:12.476 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-11 03:08:12.477 DEBUG [tests.conftest] Running test: test_light_push_with_missing_pubsub_topics with id: 2025-02-11_03-08-12__99dfc319-9a02-4b3d-a934-4f5c1ebb6813
2025-02-11 03:08:12.477 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-11 03:08:12.477 DEBUG [src.steps.light_push] Running fixture setup: light_push_setup
2025-02-11 03:08:12.484 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 03:08:12.484 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node1_2025-02-11_03-08-12__99dfc319-9a02-4b3d-a934-4f5c1ebb6813__wakuorg_nwaku:latest.log
2025-02-11 03:08:12.484 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 03:08:12.485 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 03:08:12.486 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 03:08:12.486 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.68.182
2025-02-11 03:08:12.486 DEBUG [src.node.docker_mananger] Generated ports ['38843', '38844', '38845', '38846', '38847']
2025-02-11 03:08:12.487 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 03:08:12.487 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 03:08:12.487 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 03:08:12.487 DEBUG [src.node.docker_mananger] docker run -i -t -p 38843:38843 -p 38844:38844 -p 38845:38845 -p 38846:38846 -p 38847:38847 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=38845 --rest-port=38843 --tcp-port=38844 --discv5-udp-port=38846 --rest-address=0.0.0.0 --nat=extip:172.18.68.182 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d5bdd43847b1120efdbcce22fbcf790d0bbbab3fdebddef0a0d49dbba9b3122d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=38847 --metrics-logging=true --lightpush=true --relay=true
2025-02-11 03:08:12.706 ERROR [src.node.docker_mananger] Max retries reached for container fe92202d88c8. Exiting log stream.
2025-02-11 03:08:12.736 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.68.182 waku c31502943d43255d99f17bf0849481eb46e429befaf9ba6d6814c1be0e541d26
2025-02-11 03:08:12.792 DEBUG [src.node.docker_mananger] Container started with ID c31502943d43. Setting up logs at ./log/docker/receiving_node1_2025-02-11_03-08-12__99dfc319-9a02-4b3d-a934-4f5c1ebb6813__wakuorg_nwaku:latest.log
2025-02-11 03:08:12.793 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 38843
2025-02-11 03:08:12.793 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 03:08:13.258 ERROR [src.node.docker_mananger] Max retries reached for container 856e5d223f0c. Exiting log stream.
2025-02-11 03:08:13.793 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38843/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 03:08:13.797 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 03:08:13.797 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 03:08:13.797 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38843/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 03:08:13.799 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.68.182/tcp/38844/p2p/16Uiu2HAmBvrjvxUN6fG7upD6we54D8VsEdevwSFDny8zEWBQRZXz","/ip4/172.18.68.182/tcp/38845/ws/p2p/16Uiu2HAmBvrjvxUN6fG7upD6we54D8VsEdevwSFDny8zEWBQRZXz"],"enrUri":"enr:-L24QLcSDo-a6jiDDSOg0wvufh2CnFb0nGUvjqSVZDAPqJfaWGXphar5iU35YtX0Heo0-CI5QDru9fzWAT73TmjwRE0CgmlkgnY0gmlwhKwSRLaKbXVsdGlhZGRyc5YACASsEkS2Bpe8AAoErBJEtgaXvd0DgnJzhQADAQAAiXNlY3AyNTZrMaEC9TUAdIibWgvx2gaZE-ckXCr-vmjzgrBUNPmMgltsmLWDdGNwgpe8g3VkcIKXvoV3YWt1Mgk"}'
2025-02-11 03:08:13.800 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 03:08:13.807 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 03:08:13.807 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node2_2025-02-11_03-08-12__99dfc319-9a02-4b3d-a934-4f5c1ebb6813__wakuorg_nwaku:latest.log
2025-02-11 03:08:13.807 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 03:08:13.807 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 03:08:13.809 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 03:08:13.809 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.108.206
2025-02-11 03:08:13.809 DEBUG [src.node.docker_mananger] Generated ports ['34175', '34176', '34177', '34178', '34179']
2025-02-11 03:08:13.809 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 03:08:13.809 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 03:08:13.809 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 03:08:13.809 DEBUG [src.node.docker_mananger] docker run -i -t -p 34175:34175 -p 34176:34176 -p 34177:34177 -p 34178:34178 -p 34179:34179 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=34177 --rest-port=34175 --tcp-port=34176 --discv5-udp-port=34178 --rest-address=0.0.0.0 --nat=extip:172.18.108.206 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f99627e264c4ec05e1ccdeeac28f2dfe4564ee3a51ac1e001b1dd0fbc1fc6b9c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=34179 --metrics-logging=true --lightpush=false --relay=true
2025-02-11 03:08:14.056 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 03:08:14.056 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 03:08:14.058 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 03:08:14.059 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.24.241
2025-02-11 03:08:14.059 DEBUG [src.node.docker_mananger] Generated ports ['47619', '47620', '47621', '47622', '47623']
2025-02-11 03:08:14.059 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 03:08:14.059 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 03:08:14.059 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 03:08:14.059 DEBUG [src.node.docker_mananger] docker run -i -t -p 47619:47619 -p 47620:47620 -p 47621:47621 -p 47622:47622 -p 47623:47623 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=47621 --rest-port=47619 --tcp-port=47620 --discv5-udp-port=47622 --rest-address=0.0.0.0 --nat=extip:172.18.24.241 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=315e3c70dede7aebe2cd7ecdd10ce2bc6ca76ca39eaa1ee411d54f1341eca252 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=47623 --metrics-logging=true --lightpush=false --relay=true
2025-02-11 03:08:14.289 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.24.241 waku 3fc453f360487ab7508bfda36a7a1a6d2e92d6748e0a75538c061de69b2dbd69
2025-02-11 03:08:14.339 DEBUG [src.node.docker_mananger] Container started with ID 3fc453f36048. Setting up logs at ./log/docker/receiving_node2_2025-02-11_03-08-12__99dfc319-9a02-4b3d-a934-4f5c1ebb6813__wakuorg_nwaku:latest.log
2025-02-11 03:08:14.339 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 47619
2025-02-11 03:08:14.339 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 03:08:15.340 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47619/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 03:08:15.343 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 03:08:15.343 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 03:08:15.344 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47619/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 03:08:15.346 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.24.241/tcp/47620/p2p/16Uiu2HAm7ja71aJLaLHiNwcoV4r2tcZVTsUwEgqdCqLSg2wLNVnN","/ip4/172.18.24.241/tcp/47621/ws/p2p/16Uiu2HAm7ja71aJLaLHiNwcoV4r2tcZVTsUwEgqdCqLSg2wLNVnN"],"enrUri":"enr:-L24QNRD7b5ZyHT3SALqikBhlXRvxuaKygCaRHUMlxa9Zq2wMDL3mJPivc4EFseLN0teiNXR69WU2i_mr4ejQuSGOV4CgmlkgnY0gmlwhKwSGPGKbXVsdGlhZGRyc5YACASsEhjxBroEAAoErBIY8Qa6Bd0DgnJzhQADAQAAiXNlY3AyNTZrMaECtuIN3TIeQzJPh1PKRDz7ExAS2tc8HZTQdG_-UHB7Bi-DdGNwgroEg3VkcIK6BoV3YWt1MgE"}'
2025-02-11 03:08:15.346 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 03:08:15.346 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:47619/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.68.182/tcp/38844/p2p/16Uiu2HAmBvrjvxUN6fG7upD6we54D8VsEdevwSFDny8zEWBQRZXz"]'
2025-02-11 03:08:15.388 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 03:08:15.397 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-11 03:08:15.397 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/lightpush_node1_2025-02-11_03-08-12__99dfc319-9a02-4b3d-a934-4f5c1ebb6813__wakuorg_go-waku:latest.log
2025-02-11 03:08:15.398 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 03:08:15.398 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 03:08:15.399 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 03:08:15.400 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.115.71
2025-02-11 03:08:15.400 DEBUG [src.node.docker_mananger] Generated ports ['29412', '29413', '29414', '29415', '29416']
2025-02-11 03:08:15.400 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 03:08:15.400 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 03:08:15.400 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 03:08:15.400 DEBUG [src.node.docker_mananger] docker run -i -t -p 29412:29412 -p 29413:29413 -p 29414:29414 -p 29415:29415 -p 29416:29416 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=29414 --rest-port=29412 --tcp-port=29413 --discv5-udp-port=29415 --rest-address=0.0.0.0 --nat=extip:172.18.115.71 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d1475ddcd3e06ecacabfe082caff4ffd554fd1b9ae547b9fbd4dbbad558ceb2a --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-L24QLcSDo-a6jiDDSOg0wvufh2CnFb0nGUvjqSVZDAPqJfaWGXphar5iU35YtX0Heo0-CI5QDru9fzWAT73TmjwRE0CgmlkgnY0gmlwhKwSRLaKbXVsdGlhZGRyc5YACASsEkS2Bpe8AAoErBJEtgaXvd0DgnJzhQADAQAAiXNlY3AyNTZrMaEC9TUAdIibWgvx2gaZE-ckXCr-vmjzgrBUNPmMgltsmLWDdGNwgpe8g3VkcIKXvoV3YWt1Mgk --lightpushnode=/ip4/172.18.68.182/tcp/38844/p2p/16Uiu2HAmBvrjvxUN6fG7upD6we54D8VsEdevwSFDny8zEWBQRZXz --lightpush=true --relay=false --pubsub-topic=/waku/2/rs/3/1
2025-02-11 03:08:15.635 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.115.71 waku 73ae9b23a0a1d1adf3d2bb6debecb29490054d8a55626c544db41f5c0103c6ce
2025-02-11 03:08:15.684 DEBUG [src.node.docker_mananger] Container started with ID 73ae9b23a0a1. Setting up logs at ./log/docker/lightpush_node1_2025-02-11_03-08-12__99dfc319-9a02-4b3d-a934-4f5c1ebb6813__wakuorg_go-waku:latest.log
2025-02-11 03:08:15.686 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 29412
2025-02-11 03:08:15.686 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 03:08:16.687 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29412/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 03:08:16.689 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QMnxjvcLxEnQvzrCLymWV9UbFI_1Cx4HH9xR4xyD_gmjWlZG1q0TFpUCxf2t9sBCrkC-cBZKPvjiZEBcl66fSfqGAZTy-pPEgmlkgnY0gmlwhKwRAASCcnOFAAMBAAGJc2VjcDI1NmsxoQIlsynFrlyhX-R18QRjRif6aZQGf9e55CrMrw75zAmBK4N0Y3CCcuWDdWRwgnLnhXdha3UyCA","listenAddresses":["/ip4/127.0.0.1/tcp/29413/p2p/16Uiu2HAkwxqWyajv2pfNMp2zTo9pESR1v9Johs4kqGTczB18YVE2","/ip4/127.0.0.1/tcp/29414/ws/p2p/16Uiu2HAkwxqWyajv2pfNMp2zTo9pESR1v9Johs4kqGTczB18YVE2","/ip4/172.17.0.4/tcp/29413/p2p/16Uiu2HAkwxqWyajv2pfNMp2zTo9pESR1v9Johs4kqGTczB18YVE2","/ip4/172.17.0.4/tcp/29414/ws/p2p/16Uiu2HAkwxqWyajv2pfNMp2zTo9pESR1v9Johs4kqGTczB18YVE2"]}'
2025-02-11 03:08:16.690 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 03:08:16.690 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29412/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.68.182/tcp/38844/p2p/16Uiu2HAmBvrjvxUN6fG7upD6we54D8VsEdevwSFDny8zEWBQRZXz", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-11 03:08:16.692 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-11 03:08:16.692 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29412/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.24.241/tcp/47620/p2p/16Uiu2HAm7ja71aJLaLHiNwcoV4r2tcZVTsUwEgqdCqLSg2wLNVnN", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-11 03:08:16.709 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-11 03:08:16.710 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:38843/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-11 03:08:16.715 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 03:08:16.716 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:47619/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-11 03:08:16.720 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 03:08:16.721 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29412/lightpush/v1/message" -H "Content-Type: application/json" -d '{"message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739243296721932544}}'
2025-02-11 03:08:36.739 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-11 03:08:36.741 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-11 03:08:36.741 DEBUG [src.node.waku_node] Stopping container with id c31502943d43
2025-02-11 03:08:37.271 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 03:08:37.271 DEBUG [src.node.waku_node] Stopping container with id 3fc453f36048
2025-02-11 03:08:38.084 ERROR [src.node.docker_mananger] Max retries reached for container c31502943d43. Exiting log stream.
2025-02-11 03:08:38.326 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 03:08:38.328 DEBUG [src.node.waku_node] Stopping container with id 73ae9b23a0a1
2025-02-11 03:08:38.824 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 03:08:38.826 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-11 03:08:38.833 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 03:08:38.840 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 03:08:38.843 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
