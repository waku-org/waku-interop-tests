2025-02-11 03:08:19.316 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-11 03:08:19.316 DEBUG [tests.conftest] Running test: test_message_light_pushed_on_different_pubsub_topic_is_not_retrieved with id: 2025-02-11_03-08-19__0ebacbcc-066c-4729-b54a-a6e4bac88770
2025-02-11 03:08:19.316 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-11 03:08:19.316 DEBUG [src.steps.light_push] Running fixture setup: light_push_setup
2025-02-11 03:08:19.324 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 03:08:19.324 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node1_2025-02-11_03-08-19__0ebacbcc-066c-4729-b54a-a6e4bac88770__wakuorg_nwaku:latest.log
2025-02-11 03:08:19.324 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 03:08:19.324 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 03:08:19.326 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 03:08:19.326 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.137.12
2025-02-11 03:08:19.326 DEBUG [src.node.docker_mananger] Generated ports ['7376', '7377', '7378', '7379', '7380']
2025-02-11 03:08:19.326 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 03:08:19.326 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 03:08:19.326 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 03:08:19.327 DEBUG [src.node.docker_mananger] docker run -i -t -p 7376:7376 -p 7377:7377 -p 7378:7378 -p 7379:7379 -p 7380:7380 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=7378 --rest-port=7376 --tcp-port=7377 --discv5-udp-port=7379 --rest-address=0.0.0.0 --nat=extip:172.18.137.12 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ca6327907e406f8d420d1ae94ff0aede04456ab54c8fce94663fdefbce0c9a57 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=7380 --metrics-logging=true --lightpush=true --relay=true
2025-02-11 03:08:19.557 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.137.12 waku f2a5ac8239c59396358e8e5c0ea5e5a905d5af0a2520d30bd92305b1cc7aae9f
2025-02-11 03:08:19.608 DEBUG [src.node.docker_mananger] Container started with ID f2a5ac8239c5. Setting up logs at ./log/docker/receiving_node1_2025-02-11_03-08-19__0ebacbcc-066c-4729-b54a-a6e4bac88770__wakuorg_nwaku:latest.log
2025-02-11 03:08:19.609 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 7376
2025-02-11 03:08:19.609 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 03:08:20.120 ERROR [src.node.docker_mananger] Max retries reached for container d3eb2ad092b9. Exiting log stream.
2025-02-11 03:08:20.609 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:7376/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 03:08:20.612 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 03:08:20.613 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 03:08:20.613 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:7376/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 03:08:20.615 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.137.12/tcp/7377/p2p/16Uiu2HAm5xv7VZutgTqFPfcGTopRYgodJAe1mr6TUgjTqetumwxP","/ip4/172.18.137.12/tcp/7378/ws/p2p/16Uiu2HAm5xv7VZutgTqFPfcGTopRYgodJAe1mr6TUgjTqetumwxP"],"enrUri":"enr:-L24QJK-KI2ccJ63eIZpl4mL6tIiBIQI53kQh6kxt_qQx168OmRGWWFbsGdg3bKRlL7Z3mxTlbXUOWHhtIW-10bqmRACgmlkgnY0gmlwhKwSiQyKbXVsdGlhZGRyc5YACASsEokMBhzRAAoErBKJDAYc0t0DgnJzhQADAQAAiXNlY3AyNTZrMaECnJXas5fscQw4Op1z8jnzy_TzZoI6Kq3Mmn6KshuZuGSDdGNwghzRg3VkcIIc04V3YWt1Mgk"}'
2025-02-11 03:08:20.615 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 03:08:20.621 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 03:08:20.621 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node2_2025-02-11_03-08-19__0ebacbcc-066c-4729-b54a-a6e4bac88770__wakuorg_nwaku:latest.log
2025-02-11 03:08:20.622 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 03:08:20.622 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 03:08:20.623 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 03:08:20.623 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.242.144
2025-02-11 03:08:20.623 DEBUG [src.node.docker_mananger] Generated ports ['64998', '64999', '65000', '65001', '65002']
2025-02-11 03:08:20.623 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 03:08:20.624 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 03:08:20.624 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 03:08:20.624 DEBUG [src.node.docker_mananger] docker run -i -t -p 64998:64998 -p 64999:64999 -p 65000:65000 -p 65001:65001 -p 65002:65002 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=65000 --rest-port=64998 --tcp-port=64999 --discv5-udp-port=65001 --rest-address=0.0.0.0 --nat=extip:172.18.242.144 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e5f4abd2dccaec3ddf8ee2d3cffc1bfeaa3e92510e4df8704d7abe122ae82dc5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=65002 --metrics-logging=true --lightpush=false --relay=true
2025-02-11 03:08:20.861 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.242.144 waku c59a51738e96bae126d435f10d385086eb346231fc237b47a960573f1872d2a0
2025-02-11 03:08:20.909 DEBUG [src.node.docker_mananger] Container started with ID c59a51738e96. Setting up logs at ./log/docker/receiving_node2_2025-02-11_03-08-19__0ebacbcc-066c-4729-b54a-a6e4bac88770__wakuorg_nwaku:latest.log
2025-02-11 03:08:20.909 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 64998
2025-02-11 03:08:20.910 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 03:08:21.910 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64998/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 03:08:21.913 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 03:08:21.913 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 03:08:21.913 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64998/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 03:08:21.915 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.242.144/tcp/64999/p2p/16Uiu2HAmGMbJRR8G2qsvP86din14KXXGx7XXYzuuwBcAVGTns7Du","/ip4/172.18.242.144/tcp/65000/ws/p2p/16Uiu2HAmGMbJRR8G2qsvP86din14KXXGx7XXYzuuwBcAVGTns7Du"],"enrUri":"enr:-L24QILguJh-0N_SKl0diGIIgDP-tKUOCzt4xlSG0wM5dtZADYchtb2WmmS3_yZeZ-yZ4asCkNkxySmxvlCDiODWbksCgmlkgnY0gmlwhKwS8pCKbXVsdGlhZGRyc5YACASsEvKQBv3nAAoErBLykAb96N0DgnJzhQADAQAAiXNlY3AyNTZrMaEDNvnP1bsxEVz7MO4EZdKI8v5ocX8RGMJjQlDerfkQnmSDdGNwgv3ng3VkcIL96YV3YWt1MgE"}'
2025-02-11 03:08:21.915 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 03:08:21.916 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:64998/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.137.12/tcp/7377/p2p/16Uiu2HAm5xv7VZutgTqFPfcGTopRYgodJAe1mr6TUgjTqetumwxP"]'
2025-02-11 03:08:21.957 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 03:08:21.964 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-11 03:08:21.964 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/lightpush_node1_2025-02-11_03-08-19__0ebacbcc-066c-4729-b54a-a6e4bac88770__wakuorg_go-waku:latest.log
2025-02-11 03:08:21.964 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 03:08:21.964 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 03:08:21.966 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 03:08:21.966 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.224.92
2025-02-11 03:08:21.966 DEBUG [src.node.docker_mananger] Generated ports ['54131', '54132', '54133', '54134', '54135']
2025-02-11 03:08:21.966 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 03:08:21.966 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 03:08:21.967 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 03:08:21.967 DEBUG [src.node.docker_mananger] docker run -i -t -p 54131:54131 -p 54132:54132 -p 54133:54133 -p 54134:54134 -p 54135:54135 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=54133 --rest-port=54131 --tcp-port=54132 --discv5-udp-port=54134 --rest-address=0.0.0.0 --nat=extip:172.18.224.92 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6ddd5d5eb0ffc504b336adea9e47994d2e4bee30dce843ceedeeeaf84b04945f --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-L24QJK-KI2ccJ63eIZpl4mL6tIiBIQI53kQh6kxt_qQx168OmRGWWFbsGdg3bKRlL7Z3mxTlbXUOWHhtIW-10bqmRACgmlkgnY0gmlwhKwSiQyKbXVsdGlhZGRyc5YACASsEokMBhzRAAoErBKJDAYc0t0DgnJzhQADAQAAiXNlY3AyNTZrMaECnJXas5fscQw4Op1z8jnzy_TzZoI6Kq3Mmn6KshuZuGSDdGNwghzRg3VkcIIc04V3YWt1Mgk --lightpushnode=/ip4/172.18.137.12/tcp/7377/p2p/16Uiu2HAm5xv7VZutgTqFPfcGTopRYgodJAe1mr6TUgjTqetumwxP --lightpush=true --relay=false --pubsub-topic=/waku/2/rs/3/1
2025-02-11 03:08:22.206 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.224.92 waku 96bffdcda2afe428785750466f31043831f424da779c4d9154663a63ab75bd82
2025-02-11 03:08:22.259 DEBUG [src.node.docker_mananger] Container started with ID 96bffdcda2af. Setting up logs at ./log/docker/lightpush_node1_2025-02-11_03-08-19__0ebacbcc-066c-4729-b54a-a6e4bac88770__wakuorg_go-waku:latest.log
2025-02-11 03:08:22.260 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 54131
2025-02-11 03:08:22.260 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 03:08:23.261 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54131/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 03:08:23.264 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QD-JxPmPDaOvYBJeE3XRfa3T7DPr-UBdU3u6ifVzBYfvEN-nYD_gyEHEa_uaNerIcdUEOyHLi-RJMsMO_OgVQgyGAZTy-q1sgmlkgnY0gmlwhKwRAASCcnOFAAMBAAGJc2VjcDI1NmsxoQMs7YmuqUIBgDRf_tzKxW9v4JGOo6xILQFwo_pvs6QwV4N0Y3CC03SDdWRwgtN2hXdha3UyCA","listenAddresses":["/ip4/127.0.0.1/tcp/54132/p2p/16Uiu2HAmFgNNMWexNNxT2RpjbfesmyDSXpXSpJskRacxPvvCQvhk","/ip4/127.0.0.1/tcp/54133/ws/p2p/16Uiu2HAmFgNNMWexNNxT2RpjbfesmyDSXpXSpJskRacxPvvCQvhk","/ip4/172.17.0.4/tcp/54132/p2p/16Uiu2HAmFgNNMWexNNxT2RpjbfesmyDSXpXSpJskRacxPvvCQvhk","/ip4/172.17.0.4/tcp/54133/ws/p2p/16Uiu2HAmFgNNMWexNNxT2RpjbfesmyDSXpXSpJskRacxPvvCQvhk"]}'
2025-02-11 03:08:23.264 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 03:08:23.265 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54131/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.137.12/tcp/7377/p2p/16Uiu2HAm5xv7VZutgTqFPfcGTopRYgodJAe1mr6TUgjTqetumwxP", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-11 03:08:23.266 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-11 03:08:23.267 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54131/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.242.144/tcp/64999/p2p/16Uiu2HAmGMbJRR8G2qsvP86din14KXXGx7XXYzuuwBcAVGTns7Du", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-11 03:08:23.282 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-11 03:08:23.283 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:7376/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-11 03:08:23.289 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 03:08:23.289 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:64998/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-11 03:08:23.293 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 03:08:23.294 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:7376/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9", "/waku/2/rs/3/25", "/waku/2/rs/3/1000"]'
2025-02-11 03:08:23.302 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 03:08:23.303 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:64998/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9", "/waku/2/rs/3/25", "/waku/2/rs/3/1000"]'
2025-02-11 03:08:23.314 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 03:08:23.315 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54131/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739243303314956032}}'
2025-02-11 03:08:23.324 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 03:08:23.326 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 03:08:23.426 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:7376/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 03:08:23.429 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[]'
2025-02-11 03:08:23.430 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-11 03:08:23.431 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-11 03:08:23.431 DEBUG [src.node.waku_node] Stopping container with id f2a5ac8239c5
2025-02-11 03:08:23.984 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 03:08:23.984 DEBUG [src.node.waku_node] Stopping container with id c59a51738e96
2025-02-11 03:08:24.796 ERROR [src.node.docker_mananger] Max retries reached for container f2a5ac8239c5. Exiting log stream.
2025-02-11 03:08:25.480 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 03:08:25.480 DEBUG [src.node.waku_node] Stopping container with id 96bffdcda2af
2025-02-11 03:08:25.970 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 03:08:25.970 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-11 03:08:25.978 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 03:08:25.988 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 03:08:25.990 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
