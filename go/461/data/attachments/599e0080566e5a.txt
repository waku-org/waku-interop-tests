2025-02-11 03:10:59.882 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-11 03:10:59.883 DEBUG [tests.conftest] Running test: test_get_store_messages_with_different_content_topics with id: 2025-02-11_03-10-59__d107aec0-bdce-4bd7-91e9-ac2036f7909c
2025-02-11 03:10:59.884 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-11 03:10:59.885 DEBUG [src.steps.store] Running fixture setup: store_setup
2025-02-11 03:10:59.885 DEBUG [src.steps.store] Running fixture setup: node_setup
2025-02-11 03:10:59.893 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 03:10:59.893 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-11_03-10-59__d107aec0-bdce-4bd7-91e9-ac2036f7909c__wakuorg_nwaku:latest.log
2025-02-11 03:10:59.893 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 03:10:59.893 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 03:10:59.895 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 03:10:59.895 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.112.8
2025-02-11 03:10:59.895 DEBUG [src.node.docker_mananger] Generated ports ['16407', '16408', '16409', '16410', '16411']
2025-02-11 03:10:59.895 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 03:10:59.895 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 03:10:59.896 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 03:10:59.896 DEBUG [src.node.docker_mananger] docker run -i -t -p 16407:16407 -p 16408:16408 -p 16409:16409 -p 16410:16410 -p 16411:16411 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=16409 --rest-port=16407 --tcp-port=16408 --discv5-udp-port=16410 --rest-address=0.0.0.0 --nat=extip:172.18.112.8 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3c7cbbc0fcab675bed879b27b5fd4b2be376fc6f50cfcf4d9a1cdb6ec76439ba --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=16411 --metrics-logging=true --store=true --relay=true
2025-02-11 03:11:00.148 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.112.8 waku 5d61ad702eb949571b13489912872ea8836399519cddcd19a1fba5eebfb23d7c
2025-02-11 03:11:00.150 ERROR [src.node.docker_mananger] Max retries reached for container 5232053ede11. Exiting log stream.
2025-02-11 03:11:00.207 DEBUG [src.node.docker_mananger] Container started with ID 5d61ad702eb9. Setting up logs at ./log/docker/publishing_node1_2025-02-11_03-10-59__d107aec0-bdce-4bd7-91e9-ac2036f7909c__wakuorg_nwaku:latest.log
2025-02-11 03:11:00.207 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 16407
2025-02-11 03:11:00.208 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 03:11:00.704 ERROR [src.node.docker_mananger] Max retries reached for container e527fff2df9f. Exiting log stream.
2025-02-11 03:11:01.209 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16407/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 03:11:01.212 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 03:11:01.212 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 03:11:01.213 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16407/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 03:11:01.215 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.112.8/tcp/16408/p2p/16Uiu2HAmBZenoys2a5ixu9x8i9co1mNtCiGxZdvTQi2opALbuz62","/ip4/172.18.112.8/tcp/16409/ws/p2p/16Uiu2HAmBZenoys2a5ixu9x8i9co1mNtCiGxZdvTQi2opALbuz62"],"enrUri":"enr:-L24QHCCGQqsBnJf42b1t__c0BpoT7QqoSIcmC53WpG82UIWTjO9MpywkP9kFgxj04mhvTxrUH83Fu0FRzAfNMCK_FECgmlkgnY0gmlwhKwScAiKbXVsdGlhZGRyc5YACASsEnAIBkAYAAoErBJwCAZAGd0DgnJzhQADAQAAiXNlY3AyNTZrMaEC78ZK4D8LMTjiZN2liMaOUhiHxjhQfPp1_juoLqCLXweDdGNwgkAYg3VkcIJAGoV3YWt1MgM"}'
2025-02-11 03:11:01.215 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 03:11:01.222 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-11 03:11:01.222 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-11_03-10-59__d107aec0-bdce-4bd7-91e9-ac2036f7909c__wakuorg_go-waku:latest.log
2025-02-11 03:11:01.222 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 03:11:01.222 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 03:11:01.223 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 03:11:01.224 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.151.169
2025-02-11 03:11:01.224 DEBUG [src.node.docker_mananger] Generated ports ['40749', '40750', '40751', '40752', '40753']
2025-02-11 03:11:01.224 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 03:11:01.224 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 03:11:01.224 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 03:11:01.224 DEBUG [src.node.docker_mananger] docker run -i -t -p 40749:40749 -p 40750:40750 -p 40751:40751 -p 40752:40752 -p 40753:40753 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=40751 --rest-port=40749 --tcp-port=40750 --discv5-udp-port=40752 --rest-address=0.0.0.0 --nat=extip:172.18.151.169 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a3e87b587c2bc9ea94dd8c1f2ca8edd5cb676a345a61bf8e0d90cc4d1f2aaac3 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-L24QHCCGQqsBnJf42b1t__c0BpoT7QqoSIcmC53WpG82UIWTjO9MpywkP9kFgxj04mhvTxrUH83Fu0FRzAfNMCK_FECgmlkgnY0gmlwhKwScAiKbXVsdGlhZGRyc5YACASsEnAIBkAYAAoErBJwCAZAGd0DgnJzhQADAQAAiXNlY3AyNTZrMaEC78ZK4D8LMTjiZN2liMaOUhiHxjhQfPp1_juoLqCLXweDdGNwgkAYg3VkcIJAGoV3YWt1MgM --storenode=/ip4/172.18.112.8/tcp/16408/p2p/16Uiu2HAmBZenoys2a5ixu9x8i9co1mNtCiGxZdvTQi2opALbuz62 --store=true --relay=true
2025-02-11 03:11:01.461 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.151.169 waku 691a776ab1729226523c5cfbb229cff88ca2bd8e8ebce42fd6e1a77f69069174
2025-02-11 03:11:01.520 DEBUG [src.node.docker_mananger] Container started with ID 691a776ab172. Setting up logs at ./log/docker/store_node1_2025-02-11_03-10-59__d107aec0-bdce-4bd7-91e9-ac2036f7909c__wakuorg_go-waku:latest.log
2025-02-11 03:11:01.521 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 40749
2025-02-11 03:11:01.522 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 03:11:02.522 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40749/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 03:11:02.525 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QJWPziW4vt1UNHKCl-GULLW4U1kqACkEgFseqBO0KQLKQV3EgkBaKAUi8VpoVGFt1LRolrIm9b253uRnxXVBDZeGAZTy_RuJgmlkgnY0gmlwhKwRAAeCcnODAAMAiXNlY3AyNTZrMaEC81aatl096XZTXphk0WiJxuEOFUpQIr5YGCJ-W53OJL2DdGNwgp8ug3VkcIKfMIV3YWt1MgM","listenAddresses":["/ip4/127.0.0.1/tcp/40750/p2p/16Uiu2HAmBoZeJGBg4HbWPcGRS8casrSGR8ziJqdrDKFd8QyHbW5r","/ip4/127.0.0.1/tcp/40751/ws/p2p/16Uiu2HAmBoZeJGBg4HbWPcGRS8casrSGR8ziJqdrDKFd8QyHbW5r","/ip4/172.17.0.7/tcp/40750/p2p/16Uiu2HAmBoZeJGBg4HbWPcGRS8casrSGR8ziJqdrDKFd8QyHbW5r","/ip4/172.17.0.7/tcp/40751/ws/p2p/16Uiu2HAmBoZeJGBg4HbWPcGRS8casrSGR8ziJqdrDKFd8QyHbW5r"]}'
2025-02-11 03:11:02.526 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 03:11:02.526 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40749/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.112.8/tcp/16408/p2p/16Uiu2HAmBZenoys2a5ixu9x8i9co1mNtCiGxZdvTQi2opALbuz62", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-11 03:11:02.541 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-11 03:11:02.543 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:16407/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-11 03:11:02.563 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 03:11:02.563 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40749/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-11 03:11:02.565 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 03:11:02.568 DEBUG [tests.store.test_get_messages] Running test with content topic /myapp/1/latest/proto
2025-02-11 03:11:02.568 DEBUG [src.steps.store] Relaying message
2025-02-11 03:11:02.568 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:16407/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 03:11:02.580 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 03:11:02.581 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 03:11:02.781 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-11 03:11:02.782 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16407/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 03:11:02.785 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x41ada23460e4c627c660a7b925b3a4d071e3434acdcaf1556db7ded3cfb1a117"}]}'
2025-02-11 03:11:02.786 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-11 03:11:02.786 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40749/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 03:11:02.791 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"0c921d98198e498f8039120ef2e24f27f576461d6e1580a8ccee719aad1eef36","status_code":200,"status_desc":"OK","messages":[{"message_hash":"Qa2iNGDkxifGYKe5JbOk0HHjQ0rNyvFVbbfe08+xoRc="}]}'
2025-02-11 03:11:02.792 DEBUG [tests.store.test_get_messages] Running test with content topic /waku/2/content/test.js
2025-02-11 03:11:02.792 DEBUG [src.steps.store] Relaying message
2025-02-11 03:11:02.792 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:16407/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-11 03:11:02.800 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 03:11:02.800 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 03:11:03.001 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-11 03:11:03.001 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16407/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fwaku%2F2%2Fcontent%2Ftest.js&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 03:11:03.004 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xea786bc32abd191f65ab537cc1219b45f49136031a7d4d770e3c30836994b7cc"}]}'
2025-02-11 03:11:03.005 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-11 03:11:03.005 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40749/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fwaku%2F2%2Fcontent%2Ftest.js&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 03:11:03.009 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"b4d39575bf41959c246981e2b567a3982008f2565c098fe2728cbad3a194b3f0","status_code":200,"status_desc":"OK","messages":[{"message_hash":"6nhrwyq9GR9lq1N8wSGbRfSRNgMafU13Djwwg2mUt8w="}]}'
2025-02-11 03:11:03.010 DEBUG [tests.store.test_get_messages] Running test with content topic /app/22/sometopic/someencoding
2025-02-11 03:11:03.011 DEBUG [src.steps.store] Relaying message
2025-02-11 03:11:03.011 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:16407/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 03:11:03.016 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 03:11:03.016 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 03:11:03.217 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-11 03:11:03.217 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16407/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F22%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 03:11:03.220 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xa37f008d587e519a3bde2b9ed239f1044af46757742fcdac02c991b7610aa454"}]}'
2025-02-11 03:11:03.220 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-11 03:11:03.221 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40749/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F22%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 03:11:03.225 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"903be5f41691b690afd5ebbd8c3c1e3c7165cebe84addca37a3d0f73a200eba1","status_code":200,"status_desc":"OK","messages":[{"message_hash":"o38AjVh+UZo73iue0jnxBEr0Z1d0L82sAsmRt2EKpFQ="}]}'
2025-02-11 03:11:03.226 DEBUG [tests.store.test_get_messages] Running test with content topic /toychat/2/huilong/proto
2025-02-11 03:11:03.226 DEBUG [src.steps.store] Relaying message
2025-02-11 03:11:03.226 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:16407/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 03:11:03.231 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 03:11:03.232 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 03:11:03.432 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-11 03:11:03.433 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16407/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Ftoychat%2F2%2Fhuilong%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 03:11:03.436 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x53c83ec380029a53213da923e9728d9d577fa328565788720c4ee044b654ceca"}]}'
2025-02-11 03:11:03.436 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-11 03:11:03.437 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40749/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Ftoychat%2F2%2Fhuilong%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 03:11:03.441 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"83f16242c0937ef2e3387fd3cdfda22875f5dcece4d18cdaaf1688960a2d60fa","status_code":200,"status_desc":"OK","messages":[{"message_hash":"U8g+w4ACmlMhPakj6XKNnVd/oyhWV4hyDE7gRLZUzso="}]}'
2025-02-11 03:11:03.442 DEBUG [tests.store.test_get_messages] Running test with content topic /statusim/1/community/cbor
2025-02-11 03:11:03.443 DEBUG [src.steps.store] Relaying message
2025-02-11 03:11:03.443 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:16407/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-11 03:11:03.448 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 03:11:03.448 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 03:11:03.648 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-11 03:11:03.649 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16407/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fstatusim%2F1%2Fcommunity%2Fcbor&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 03:11:03.652 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xe62a5c90a1fa9c6a3b7dce21a6b6774e107770c41d74dfd4efe863e74e22c717"}]}'
2025-02-11 03:11:03.652 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-11 03:11:03.653 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40749/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fstatusim%2F1%2Fcommunity%2Fcbor&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 03:11:03.657 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"576fe14c98727b10d2d9e29f907d85950e2ffda7c7d873488d8949cee161ac03","status_code":200,"status_desc":"OK","messages":[{"message_hash":"5ipckKH6nGo7fc4hprZ3ThB3cMQddN/U7+hj504ixxc="}]}'
2025-02-11 03:11:03.658 DEBUG [tests.store.test_get_messages] Running test with content topic /app/27/sometopic/someencoding
2025-02-11 03:11:03.659 DEBUG [src.steps.store] Relaying message
2025-02-11 03:11:03.659 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:16407/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 03:11:03.664 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 03:11:03.664 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 03:11:03.865 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-11 03:11:03.866 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16407/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F27%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 03:11:03.869 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x82650a40f72dcee21b871b95a2e759a26b3428f8592bec64f4ba83537c53e3b4"}]}'
2025-02-11 03:11:03.869 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-11 03:11:03.870 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40749/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F27%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 03:11:03.875 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"8e75e490f2723e787d4a16f00ed303ce13a631ae3e360cad696023126ba215be","status_code":200,"status_desc":"OK","messages":[{"message_hash":"gmUKQPctzuIbhxuVoudZoms0KPhZK+xk9LqDU3xT47Q="}]}'
2025-02-11 03:11:03.875 DEBUG [tests.store.test_get_messages] Running test with content topic /app/29/sometopic/someencoding
2025-02-11 03:11:03.876 DEBUG [src.steps.store] Relaying message
2025-02-11 03:11:03.876 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:16407/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 03:11:03.882 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 03:11:03.882 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 03:11:04.083 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-11 03:11:04.083 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16407/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F29%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 03:11:04.086 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xda5e154465935b4e4c92ca8cd80898fa41f417914b0ae3a26d6e8d7f224c66b0"}]}'
2025-02-11 03:11:04.087 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-11 03:11:04.087 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40749/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F29%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 03:11:04.092 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"01161fdfc0807b17ab23287990213d8cf915fd8a8e75493d3624414f8d8acb54","status_code":200,"status_desc":"OK","messages":[{"message_hash":"2l4VRGWTW05MksqM2AiY+kH0F5FLCuOibW6NfyJMZrA="}]}'
2025-02-11 03:11:04.093 DEBUG [tests.store.test_get_messages] Running test with content topic /app/20/sometopic/someencoding
2025-02-11 03:11:04.093 DEBUG [src.steps.store] Relaying message
2025-02-11 03:11:04.094 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:16407/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 03:11:04.099 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 03:11:04.099 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 03:11:04.300 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-11 03:11:04.300 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16407/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F20%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 03:11:04.304 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xb14bed3d029bb8dbaedbdbcfdbafc8072c867864365b583b7c006d1f2aa96cc6"}]}'
2025-02-11 03:11:04.304 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-11 03:11:04.305 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40749/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F20%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 03:11:04.309 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"af21459c3fd50986358271c8198d844d532a2099fe8898fbd29afbb3b5c0a9ad","status_code":200,"status_desc":"OK","messages":[{"message_hash":"sUvtPQKbuNuu29vP26/IByyGeGQ2W1g7fABtHyqpbMY="}]}'
2025-02-11 03:11:04.312 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-11 03:11:04.313 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-11 03:11:04.313 DEBUG [src.node.waku_node] Stopping container with id 5d61ad702eb9
2025-02-11 03:11:05.752 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 03:11:05.752 DEBUG [src.node.waku_node] Stopping container with id 691a776ab172
2025-02-11 03:11:06.270 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 03:11:06.271 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-11 03:11:06.281 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 03:11:06.285 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
