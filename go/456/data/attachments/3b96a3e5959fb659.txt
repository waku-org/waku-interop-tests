[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_resubscribe_to_unsubscribed_topics with id: 2025-02-06_03-05-17__ba0f79f0-7bc7-43f0-9341-2cbbd2c88732
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-02-06_03-05-17__ba0f79f0-7bc7-43f0-9341-2cbbd2c88732__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.7.93
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['46396', '46397', '46398', '46399', '46400']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 46396:46396 -p 46397:46397 -p 46398:46398 -p 46399:46399 -p 46400:46400 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=46398 --rest-port=46396 --tcp-port=46397 --discv5-udp-port=46399 --rest-address=0.0.0.0 --nat=extip:172.18.7.93 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1a92ed787b9ecbbce2cc2a0c9af1f17277c59741c002c0daaf88bedc9b3adf7e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=46400 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.7.93 waku a3adaca3d04054773a93381e3e9367db69b84488704b9164b240ff0676693ecc
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID a3adaca3d040. Setting up logs at ./log/docker/node1_2025-02-06_03-05-17__ba0f79f0-7bc7-43f0-9341-2cbbd2c88732__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 46396
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 49fac12eedc2. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46396/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46396/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.7.93/tcp/46397/p2p/16Uiu2HAmKbHihyCg5a5zZV3CVY6DBmdX36wMhCiz9m7FX7SVQtB1","/ip4/172.18.7.93/tcp/46398/ws/p2p/16Uiu2HAmKbHihyCg5a5zZV3CVY6DBmdX36wMhCiz9m7FX7SVQtB1"],"enrUri":"enr:-L24QG0_Uu5tmu3CIve1fdep9at6DKFIjjZfj6bXFUGdzhc8PryGRNb4SVgs4UREf6GEwM3kVYsHPQ7LwHn4qQRDNnoCgmlkgnY0gmlwhKwSB12KbXVsdGlhZGRyc5YACASsEgddBrU9AAoErBIHXQa1Pt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDZw8f7sor4E1oqBMlS7J8Yi3GD6RX2lHQ3Nt5QtKaLuiDdGNwgrU9g3VkcIK1P4V3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-02-06_03-05-17__ba0f79f0-7bc7-43f0-9341-2cbbd2c88732__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.95.51
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['55774', '55775', '55776', '55777', '55778']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 55774:55774 -p 55775:55775 -p 55776:55776 -p 55777:55777 -p 55778:55778 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=55776 --rest-port=55774 --tcp-port=55775 --discv5-udp-port=55777 --rest-address=0.0.0.0 --nat=extip:172.18.95.51 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=37abb2babfdd943b3559efb1865d6af5b3ee1d30c91c522d8aebbb2bcc907db7 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QG0_Uu5tmu3CIve1fdep9at6DKFIjjZfj6bXFUGdzhc8PryGRNb4SVgs4UREf6GEwM3kVYsHPQ7LwHn4qQRDNnoCgmlkgnY0gmlwhKwSB12KbXVsdGlhZGRyc5YACASsEgddBrU9AAoErBIHXQa1Pt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDZw8f7sor4E1oqBMlS7J8Yi3GD6RX2lHQ3Nt5QtKaLuiDdGNwgrU9g3VkcIK1P4V3YWt1MgU --filternode=/ip4/172.18.7.93/tcp/46397/p2p/16Uiu2HAmKbHihyCg5a5zZV3CVY6DBmdX36wMhCiz9m7FX7SVQtB1 --pubsub-topic=/waku/2/rs/3/1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.95.51 waku 8ba1d10cb4b8dcddccc0e9aa0f046de3a212395a5078c4eecddacdb3da880515
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 8ba1d10cb4b8. Setting up logs at ./log/docker/node2_2025-02-06_03-05-17__ba0f79f0-7bc7-43f0-9341-2cbbd2c88732__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 55774
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55774/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QNCuOR_RpCK46Jr4brQn_1LWNZYVGtUnFZpgyBe3wnbmImPGpFx7qyyPBPPJQw77t05jtEQkzrSkg931qCOL-_iGAZTZOBd6gmlkgnY0gmlwhKwRAAOCcnOFAAMBAAGJc2VjcDI1NmsxoQIUrSzEHh5bwZviXbDibrj6svd1cF_o0ulcYUE0eK3g-oN0Y3CC2d-DdWRwgtnhhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/55775/p2p/16Uiu2HAkvpPHp8CgVERiKGcBxwyuDccKqggNwyixo66yUYZSb8Su","/ip4/127.0.0.1/tcp/55776/ws/p2p/16Uiu2HAkvpPHp8CgVERiKGcBxwyuDccKqggNwyixo66yUYZSb8Su","/ip4/172.17.0.3/tcp/55775/p2p/16Uiu2HAkvpPHp8CgVERiKGcBxwyuDccKqggNwyixo66yUYZSb8Su","/ip4/172.17.0.3/tcp/55776/ws/p2p/16Uiu2HAkvpPHp8CgVERiKGcBxwyuDccKqggNwyixo66yUYZSb8Su"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55774/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.7.93/tcp/46397/p2p/16Uiu2HAmKbHihyCg5a5zZV3CVY6DBmdX36wMhCiz9m7FX7SVQtB1", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46396/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55774/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "7ae5af84-0018-4c73-b616-acc71a1dc51a", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"7ae5af84-0018-4c73-b616-acc71a1dc51a","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46396/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55774/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1738811120511045376,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:55774/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"1","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46396/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55774/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:55774/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'not subscribed to pubsubTopic:/waku/2/rs/3/1 contentTopic: /test/1/waku-filter/proto'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46396/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55774/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "bffce5fb-b866-4938-9e97-8b4781b2ccec", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"bffce5fb-b866-4938-9e97-8b4781b2ccec","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46396/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55774/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id a3adaca3d040
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 8ba1d10cb4b8
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:42 Attaching file ./log/docker/node1_2025-02-06_03-05-17__ba0f79f0-7bc7-43f0-9341-2cbbd2c88732__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:42 Attaching file ./log/docker/node2_2025-02-06_03-05-17__ba0f79f0-7bc7-43f0-9341-2cbbd2c88732__wakuorg_go-waku:latest.log
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_resubscribe_to_unsubscribed_topics with id: 2025-02-06_03-05-21__94cbecce-4118-476c-84c8-3eab42fb5109
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-02-06_03-05-21__94cbecce-4118-476c-84c8-3eab42fb5109__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.122.97
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['34887', '34888', '34889', '34890', '34891']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 34887:34887 -p 34888:34888 -p 34889:34889 -p 34890:34890 -p 34891:34891 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=34889 --rest-port=34887 --tcp-port=34888 --discv5-udp-port=34890 --rest-address=0.0.0.0 --nat=extip:172.18.122.97 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ee6eb85ff1f2d1ab33cbb7bf9ebebd9e723e0b6ea596ca1a87dfc1119fb33e46 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=34891 --metrics-logging=true --relay=true --filter=true
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container a3adaca3d040. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.122.97 waku 7fd9360392dd3c1e914cce83afd3c609311389734915d4c19e11b93556c1826e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 7fd9360392dd. Setting up logs at ./log/docker/node1_2025-02-06_03-05-21__94cbecce-4118-476c-84c8-3eab42fb5109__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 34887
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 8ba1d10cb4b8. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34887/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34887/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.122.97/tcp/34888/p2p/16Uiu2HAmKJjBT1VndRcom4C5gpndyUCyFRwexdnFup9qJTkcZjpr","/ip4/172.18.122.97/tcp/34889/ws/p2p/16Uiu2HAmKJjBT1VndRcom4C5gpndyUCyFRwexdnFup9qJTkcZjpr"],"enrUri":"enr:-L24QH0lLjo8Wux_13omxvkYZenYnpkRlY2J173XySeRqh0jSTGWt9aPGNztoRunEGSCOSpv-ltJYW6yYlAcGBJz950CgmlkgnY0gmlwhKwSemGKbXVsdGlhZGRyc5YACASsEnphBohIAAoErBJ6YQaISd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDYtEKN1Sa1mAQEP5fWbRTW0mlHzNWxforW9ccGPFbE8-DdGNwgohIg3VkcIKISoV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-02-06_03-05-21__94cbecce-4118-476c-84c8-3eab42fb5109__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.178.87
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['57222', '57223', '57224', '57225', '57226']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 57222:57222 -p 57223:57223 -p 57224:57224 -p 57225:57225 -p 57226:57226 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=57224 --rest-port=57222 --tcp-port=57223 --discv5-udp-port=57225 --rest-address=0.0.0.0 --nat=extip:172.18.178.87 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=35dec529d1a5615be501aaf4b64a1cbcf49f67be2734fdcb69b7f57a7b4b921d --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QH0lLjo8Wux_13omxvkYZenYnpkRlY2J173XySeRqh0jSTGWt9aPGNztoRunEGSCOSpv-ltJYW6yYlAcGBJz950CgmlkgnY0gmlwhKwSemGKbXVsdGlhZGRyc5YACASsEnphBohIAAoErBJ6YQaISd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDYtEKN1Sa1mAQEP5fWbRTW0mlHzNWxforW9ccGPFbE8-DdGNwgohIg3VkcIKISoV3YWt1MgU --filternode=/ip4/172.18.122.97/tcp/34888/p2p/16Uiu2HAmKJjBT1VndRcom4C5gpndyUCyFRwexdnFup9qJTkcZjpr --pubsub-topic=/waku/2/rs/3/1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.178.87 waku b0d54b1885aa30202efb91765d3e9b850427c9c3891bc8728cd0461f970371ee
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID b0d54b1885aa. Setting up logs at ./log/docker/node2_2025-02-06_03-05-21__94cbecce-4118-476c-84c8-3eab42fb5109__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 57222
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57222/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QB73nWPM2OCY2ae9k2WGpHgNYPd_UtoECgPNHTT4pXGFDxo9KB20BMDHXCKjVriHigpxT6fUSsweAtrNh2qSSDiGAZTZOCeIgmlkgnY0gmlwhKwRAAOCcnOFAAMBAAGJc2VjcDI1NmsxoQNMwfmXA44RK6KiLxOTJSPHlCAZZUoY5BPe_Ep3RIstCYN0Y3CC34eDdWRwgt-JhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/57223/p2p/16Uiu2HAmHpctToujvXMZ2jJH7QQ3eb6p25935YtMLBtUXPCqpuTW","/ip4/127.0.0.1/tcp/57224/ws/p2p/16Uiu2HAmHpctToujvXMZ2jJH7QQ3eb6p25935YtMLBtUXPCqpuTW","/ip4/172.17.0.3/tcp/57223/p2p/16Uiu2HAmHpctToujvXMZ2jJH7QQ3eb6p25935YtMLBtUXPCqpuTW","/ip4/172.17.0.3/tcp/57224/ws/p2p/16Uiu2HAmHpctToujvXMZ2jJH7QQ3eb6p25935YtMLBtUXPCqpuTW"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57222/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.122.97/tcp/34888/p2p/16Uiu2HAmKJjBT1VndRcom4C5gpndyUCyFRwexdnFup9qJTkcZjpr", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34887/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57222/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "f2240081-17c3-4330-adec-0d472aacf872", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"f2240081-17c3-4330-adec-0d472aacf872","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34887/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57222/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1738811124616638720,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:57222/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"1","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34887/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57222/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:57222/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'not subscribed to pubsubTopic:/waku/2/rs/3/1 contentTopic: /test/1/waku-filter/proto'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34887/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57222/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "0e2468ce-695f-47b7-887c-7e15067676c7", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"0e2468ce-695f-47b7-887c-7e15067676c7","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34887/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57222/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 7fd9360392dd
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id b0d54b1885aa
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:42 Attaching file ./log/docker/node2_2025-02-06_03-05-21__94cbecce-4118-476c-84c8-3eab42fb5109__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:42 Attaching file ./log/docker/node1_2025-02-06_03-05-21__94cbecce-4118-476c-84c8-3eab42fb5109__wakuorg_nwaku:latest.log
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_resubscribe_to_unsubscribed_topics with id: 2025-02-06_03-05-26__8c7c6357-f66c-4e12-817a-762e9cb34284
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-02-06_03-05-26__8c7c6357-f66c-4e12-817a-762e9cb34284__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.63.176
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['2150', '2151', '2152', '2153', '2154']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 2150:2150 -p 2151:2151 -p 2152:2152 -p 2153:2153 -p 2154:2154 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=2152 --rest-port=2150 --tcp-port=2151 --discv5-udp-port=2153 --rest-address=0.0.0.0 --nat=extip:172.18.63.176 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e89f7f3e66da4243affd83a64fac0ce47aafdcbfeabbd26caf3faed0c0184a2b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=2154 --metrics-logging=true --relay=true --filter=true
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 7fd9360392dd. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.63.176 waku fff109fe59533b2bbd9ffffcea73af55f91efc7caebc2193ac9e13676caa6345
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID fff109fe5953. Setting up logs at ./log/docker/node1_2025-02-06_03-05-26__8c7c6357-f66c-4e12-817a-762e9cb34284__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 2150
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container b0d54b1885aa. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2150/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2150/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.63.176/tcp/2151/p2p/16Uiu2HAkya6vaWFHA1E56rVTqpHTaQJxQtLyzuHXmtEsDoC1e9ti","/ip4/172.18.63.176/tcp/2152/ws/p2p/16Uiu2HAkya6vaWFHA1E56rVTqpHTaQJxQtLyzuHXmtEsDoC1e9ti"],"enrUri":"enr:-L24QCM_eLm6Dns8iNq16uQErCvCqChUCNwT1n9LFY-1utXrAJs450Y2vKYOJ3oi5It5vRE-ABcNSbZtytZg906mYzsCgmlkgnY0gmlwhKwSP7CKbXVsdGlhZGRyc5YACASsEj-wBghnAAoErBI_sAYIaN0DgnJzhQADAQAAiXNlY3AyNTZrMaECPZeZXgte5usWndaMBxy6JffL7qlUIDPjoCswaD7SV_-DdGNwgghng3VkcIIIaYV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-02-06_03-05-26__8c7c6357-f66c-4e12-817a-762e9cb34284__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.35.241
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['40118', '40119', '40120', '40121', '40122']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 40118:40118 -p 40119:40119 -p 40120:40120 -p 40121:40121 -p 40122:40122 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=40120 --rest-port=40118 --tcp-port=40119 --discv5-udp-port=40121 --rest-address=0.0.0.0 --nat=extip:172.18.35.241 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=4fe2cffd290b00a610e7a3fbde3a5cd3a1e852d24e9a08cb3ea552fd3af5eef5 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QCM_eLm6Dns8iNq16uQErCvCqChUCNwT1n9LFY-1utXrAJs450Y2vKYOJ3oi5It5vRE-ABcNSbZtytZg906mYzsCgmlkgnY0gmlwhKwSP7CKbXVsdGlhZGRyc5YACASsEj-wBghnAAoErBI_sAYIaN0DgnJzhQADAQAAiXNlY3AyNTZrMaECPZeZXgte5usWndaMBxy6JffL7qlUIDPjoCswaD7SV_-DdGNwgghng3VkcIIIaYV3YWt1MgU --filternode=/ip4/172.18.63.176/tcp/2151/p2p/16Uiu2HAkya6vaWFHA1E56rVTqpHTaQJxQtLyzuHXmtEsDoC1e9ti --pubsub-topic=/waku/2/rs/3/1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.35.241 waku 3d3bbdd0322aaa8adb41efba2e9ca8fd170f01cd7757d4a5be18bcfde7cc38e7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 3d3bbdd0322a. Setting up logs at ./log/docker/node2_2025-02-06_03-05-26__8c7c6357-f66c-4e12-817a-762e9cb34284__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 40118
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40118/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QOcSIrAWZ0NLXT8ihrOQu5DASa41N7a-qoId-GN7_-vjU_sx0BJciyoRv143ENgj21sJp5TIIzdUSpE8rndh66WGAZTZODeAgmlkgnY0gmlwhKwRAAOCcnOFAAMBAAGJc2VjcDI1NmsxoQOkrqvVxepj_6Q7S7cRXelriHMP5nYAHShdTv6MJPSGG4N0Y3CCnLeDdWRwgpy5hXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/40119/p2p/16Uiu2HAmPjqhA7wA7iyf6mXXfXKYLxYo6vHMvqiDv6sHVvBrqCLr","/ip4/127.0.0.1/tcp/40120/ws/p2p/16Uiu2HAmPjqhA7wA7iyf6mXXfXKYLxYo6vHMvqiDv6sHVvBrqCLr","/ip4/172.17.0.3/tcp/40119/p2p/16Uiu2HAmPjqhA7wA7iyf6mXXfXKYLxYo6vHMvqiDv6sHVvBrqCLr","/ip4/172.17.0.3/tcp/40120/ws/p2p/16Uiu2HAmPjqhA7wA7iyf6mXXfXKYLxYo6vHMvqiDv6sHVvBrqCLr"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40118/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.63.176/tcp/2151/p2p/16Uiu2HAkya6vaWFHA1E56rVTqpHTaQJxQtLyzuHXmtEsDoC1e9ti", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2150/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40118/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "c45f9758-d944-4829-9ba2-b943406fb2a2", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"c45f9758-d944-4829-9ba2-b943406fb2a2","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2150/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40118/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1738811128702000384,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:40118/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"1","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2150/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40118/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:40118/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'not subscribed to pubsubTopic:/waku/2/rs/3/1 contentTopic: /test/1/waku-filter/proto'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2150/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40118/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "3e25240b-c28d-4549-8467-969596e0ee97", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"3e25240b-c28d-4549-8467-969596e0ee97","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2150/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40118/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id fff109fe5953
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 3d3bbdd0322a
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:42 Attaching file ./log/docker/node1_2025-02-06_03-05-26__8c7c6357-f66c-4e12-817a-762e9cb34284__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:42 Attaching file ./log/docker/node2_2025-02-06_03-05-26__8c7c6357-f66c-4e12-817a-762e9cb34284__wakuorg_go-waku:latest.log