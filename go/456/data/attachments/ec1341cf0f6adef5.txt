2025-02-06 03:06:09.981 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-06 03:06:09.982 DEBUG [tests.conftest] Running test: test_filter_many_subscribed_nodes with id: 2025-02-06_03-06-09__a176c372-6248-4418-b8cd-05c213c50d0d
2025-02-06 03:06:09.982 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-06 03:06:09.982 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2025-02-06 03:06:09.982 DEBUG [src.steps.light_push] Running fixture setup: light_push_setup
2025-02-06 03:06:09.988 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-06 03:06:09.989 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-06_03-06-09__a176c372-6248-4418-b8cd-05c213c50d0d__wakuorg_go-waku:latest.log
2025-02-06 03:06:09.994 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-06 03:06:09.994 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-06_03-06-09__a176c372-6248-4418-b8cd-05c213c50d0d__wakuorg_nwaku:latest.log
2025-02-06 03:06:09.999 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-06 03:06:09.999 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node3_2025-02-06_03-06-09__a176c372-6248-4418-b8cd-05c213c50d0d__wakuorg_go-waku:latest.log
2025-02-06 03:06:10.000 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-06 03:06:10.000 DEBUG [src.steps.store] Running fixture setup: store_setup
2025-02-06 03:06:10.001 DEBUG [tests.e2e.test_e2e] Start 2 nodes
2025-02-06 03:06:10.001 DEBUG [src.node.waku_node] Starting Node...
2025-02-06 03:06:10.001 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-06 03:06:10.002 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-06 03:06:10.002 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.18.151
2025-02-06 03:06:10.003 DEBUG [src.node.docker_mananger] Generated ports ['11466', '11467', '11468', '11469', '11470']
2025-02-06 03:06:10.003 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-06 03:06:10.003 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-06 03:06:10.003 DEBUG [src.node.waku_node] Using volumes []
2025-02-06 03:06:10.003 DEBUG [src.node.docker_mananger] docker run -i -t -p 11466:11466 -p 11467:11467 -p 11468:11468 -p 11469:11469 -p 11470:11470 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=11468 --rest-port=11466 --tcp-port=11467 --discv5-udp-port=11469 --rest-address=0.0.0.0 --nat=extip:172.18.18.151 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f9877cc698ed9bb902a5af0d8668dba52db6dcccccafbbcdae2faedd4bcfbecd --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --store=false
2025-02-06 03:06:10.234 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.18.151 waku 6177361e5ce67b16f9632971cd421ee71f77e70c607fe4acce44f229a2326a84
2025-02-06 03:06:10.277 ERROR [src.node.docker_mananger] Max retries reached for container d8975a0476e8. Exiting log stream.
2025-02-06 03:06:10.289 DEBUG [src.node.docker_mananger] Container started with ID 6177361e5ce6. Setting up logs at ./log/docker/node1_2025-02-06_03-06-09__a176c372-6248-4418-b8cd-05c213c50d0d__wakuorg_go-waku:latest.log
2025-02-06 03:06:10.290 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 11466
2025-02-06 03:06:10.290 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-06 03:06:10.770 ERROR [src.node.docker_mananger] Max retries reached for container f20ff767e142. Exiting log stream.
2025-02-06 03:06:11.290 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:11466/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:06:11.293 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QEkz9jmxp4jyBjlSNJXJON_eGyjw3bRSvZtPTmNk45LtR1QIC-sP1-MDRx7ADa2-JwFA2LPRRr-1dLWcYVdeVJuGAZTZON3ogmlkgnY0gmlwhKwRAAKCcnODAAMAiXNlY3AyNTZrMaEC9WFc1nO7ibWeeQuunQqGZ4OlytNcxQZYP8YQScW7gPGDdGNwgizLg3VkcIIszYV3YWt1MgE","listenAddresses":["/ip4/127.0.0.1/tcp/11467/p2p/16Uiu2HAmBwXyShBeEZXGNavS6nUTbidu5LsswEn8wj1gtCpzpe6L","/ip4/127.0.0.1/tcp/11468/ws/p2p/16Uiu2HAmBwXyShBeEZXGNavS6nUTbidu5LsswEn8wj1gtCpzpe6L","/ip4/172.17.0.2/tcp/11467/p2p/16Uiu2HAmBwXyShBeEZXGNavS6nUTbidu5LsswEn8wj1gtCpzpe6L","/ip4/172.17.0.2/tcp/11468/ws/p2p/16Uiu2HAmBwXyShBeEZXGNavS6nUTbidu5LsswEn8wj1gtCpzpe6L"]}'
2025-02-06 03:06:11.293 INFO [src.node.waku_node] REST service is ready !!
2025-02-06 03:06:11.294 DEBUG [src.node.waku_node] Starting Node...
2025-02-06 03:06:11.294 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-06 03:06:11.295 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-06 03:06:11.295 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.126.43
2025-02-06 03:06:11.295 DEBUG [src.node.docker_mananger] Generated ports ['17193', '17194', '17195', '17196', '17197']
2025-02-06 03:06:11.295 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-06 03:06:11.296 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-06 03:06:11.296 DEBUG [src.node.waku_node] Using volumes []
2025-02-06 03:06:11.296 DEBUG [src.node.docker_mananger] docker run -i -t -p 17193:17193 -p 17194:17194 -p 17195:17195 -p 17196:17196 -p 17197:17197 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=17195 --rest-port=17193 --tcp-port=17194 --discv5-udp-port=17196 --rest-address=0.0.0.0 --nat=extip:172.18.126.43 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=43dec0d9f44aecc0c0ce699cd0631defd1e6d31aff2af84e52cfea9abdcdfce8 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=17197 --metrics-logging=true --relay=true --filter=true --store=false --discv5-bootstrap-node=enr:-J-4QEkz9jmxp4jyBjlSNJXJON_eGyjw3bRSvZtPTmNk45LtR1QIC-sP1-MDRx7ADa2-JwFA2LPRRr-1dLWcYVdeVJuGAZTZON3ogmlkgnY0gmlwhKwRAAKCcnODAAMAiXNlY3AyNTZrMaEC9WFc1nO7ibWeeQuunQqGZ4OlytNcxQZYP8YQScW7gPGDdGNwgizLg3VkcIIszYV3YWt1MgE
2025-02-06 03:06:11.519 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.126.43 waku 207b184693b8359e5af0eeb52ff0a47fea2130020044c11052edc5f8f384bf38
2025-02-06 03:06:11.567 DEBUG [src.node.docker_mananger] Container started with ID 207b184693b8. Setting up logs at ./log/docker/node2_2025-02-06_03-06-09__a176c372-6248-4418-b8cd-05c213c50d0d__wakuorg_nwaku:latest.log
2025-02-06 03:06:11.568 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 17193
2025-02-06 03:06:11.568 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-06 03:06:12.569 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17193/health" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:06:12.573 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-06 03:06:12.574 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-06 03:06:12.574 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17193/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:06:12.576 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.126.43/tcp/17194/p2p/16Uiu2HAmRQqtLekHRmT4xjTZnAZi2LW8MooTRvVrf1GJAwMMM6vr","/ip4/172.18.126.43/tcp/17195/ws/p2p/16Uiu2HAmRQqtLekHRmT4xjTZnAZi2LW8MooTRvVrf1GJAwMMM6vr"],"enrUri":"enr:-L24QPm0Chqfn0nqdcsDUsZ7osu9kVYQK1o5s2nSZ5uuuAtQKi4py8Ayn2NzJTtkjKYfLkRe3wzllfLxW7IUDi_YfUcCgmlkgnY0gmlwhKwSfiuKbXVsdGlhZGRyc5YACASsEn4rBkMqAAoErBJ-KwZDK90DgnJzhQADAQAAiXNlY3AyNTZrMaEDvYg6Si-Skt_jOUwyHio1IW4OqIQckwwGBTYMMNrsNceDdGNwgkMqg3VkcIJDLIV3YWt1MgU"}'
2025-02-06 03:06:12.576 INFO [src.node.waku_node] REST service is ready !!
2025-02-06 03:06:12.576 DEBUG [tests.e2e.test_e2e] Subscribe nodes to relay  pubsub topic /waku/2/rs/3/1
2025-02-06 03:06:12.576 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:11466/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-06 03:06:12.579 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-06 03:06:12.579 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17193/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-06 03:06:12.582 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 03:06:12.582 DEBUG [tests.e2e.test_e2e] 15 Node start and making filter requests to node2
2025-02-06 03:06:12.588 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-06 03:06:12.588 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-06_03-06-09__a176c372-6248-4418-b8cd-05c213c50d0d__wakuorg_go-waku:latest.log
2025-02-06 03:06:12.588 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 03:06:12.688 DEBUG [src.node.waku_node] Starting Node...
2025-02-06 03:06:12.689 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-06 03:06:12.690 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-06 03:06:12.690 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.79.143
2025-02-06 03:06:12.691 DEBUG [src.node.docker_mananger] Generated ports ['46374', '46375', '46376', '46377', '46378']
2025-02-06 03:06:12.691 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-06 03:06:12.691 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-06 03:06:12.691 DEBUG [src.node.waku_node] Using volumes []
2025-02-06 03:06:12.691 DEBUG [src.node.docker_mananger] docker run -i -t -p 46374:46374 -p 46375:46375 -p 46376:46376 -p 46377:46377 -p 46378:46378 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=46376 --rest-port=46374 --tcp-port=46375 --discv5-udp-port=46377 --rest-address=0.0.0.0 --nat=extip:172.18.79.143 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=99cb4c3eed6d9cca1bc3d4b1fc30536cfca0fd7b857bfeab74689ae4141bb6e1 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --filternode=/ip4/172.18.126.43/tcp/17194/p2p/16Uiu2HAmRQqtLekHRmT4xjTZnAZi2LW8MooTRvVrf1GJAwMMM6vr --discv5-bootstrap-node=enr:-L24QPm0Chqfn0nqdcsDUsZ7osu9kVYQK1o5s2nSZ5uuuAtQKi4py8Ayn2NzJTtkjKYfLkRe3wzllfLxW7IUDi_YfUcCgmlkgnY0gmlwhKwSfiuKbXVsdGlhZGRyc5YACASsEn4rBkMqAAoErBJ-KwZDK90DgnJzhQADAQAAiXNlY3AyNTZrMaEDvYg6Si-Skt_jOUwyHio1IW4OqIQckwwGBTYMMNrsNceDdGNwgkMqg3VkcIJDLIV3YWt1MgU --store=false --pubsub-topic=/waku/2/rs/3/1
2025-02-06 03:06:12.918 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.79.143 waku 9814f7679cc8045bc7923abb1d7d55a9cd1eee089bb8262f53419bc04bf8e5eb
2025-02-06 03:06:12.974 DEBUG [src.node.docker_mananger] Container started with ID 9814f7679cc8. Setting up logs at ./log/docker/node2_2025-02-06_03-06-09__a176c372-6248-4418-b8cd-05c213c50d0d__wakuorg_go-waku:latest.log
2025-02-06 03:06:12.974 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 46374
2025-02-06 03:06:12.975 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-06 03:06:13.976 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46374/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:06:13.978 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QCzFvU8mIsDit53H8RTC5kFMQryuGqyoebrDWNxI-xYgaBMy2VobCXHMxhX6yB_nP9G14UGvAS3vZAyMKRtZybiGAZTZOOhmgmlkgnY0gmlwhKwRAASCcnOFAAMBAAGJc2VjcDI1NmsxoQJFHfXTzq_SFJI2Z55uTrrO5f1xr6BNSixRHCYmfeBCvIN0Y3CCtSeDdWRwgrUphXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/46375/p2p/16Uiu2HAkz5UcE64Qsz7J5wgDqBCrmfDhYZYGXVZ4h8x935NKiWuy","/ip4/127.0.0.1/tcp/46376/ws/p2p/16Uiu2HAkz5UcE64Qsz7J5wgDqBCrmfDhYZYGXVZ4h8x935NKiWuy","/ip4/172.17.0.4/tcp/46375/p2p/16Uiu2HAkz5UcE64Qsz7J5wgDqBCrmfDhYZYGXVZ4h8x935NKiWuy","/ip4/172.17.0.4/tcp/46376/ws/p2p/16Uiu2HAkz5UcE64Qsz7J5wgDqBCrmfDhYZYGXVZ4h8x935NKiWuy"]}'
2025-02-06 03:06:13.979 INFO [src.node.waku_node] REST service is ready !!
2025-02-06 03:06:13.979 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-06 03:06:14.979 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46374/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2025-02-06 03:06:35.311 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-06 03:06:35.312 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-06 03:06:35.312 DEBUG [src.node.waku_node] Stopping container with id 6177361e5ce6
2025-02-06 03:06:35.818 DEBUG [src.node.waku_node] Container stopped.
2025-02-06 03:06:35.818 DEBUG [src.node.waku_node] Stopping container with id 207b184693b8
2025-02-06 03:06:36.513 DEBUG [src.node.waku_node] Container stopped.
2025-02-06 03:06:36.513 DEBUG [src.node.waku_node] Stopping container with id 9814f7679cc8
2025-02-06 03:06:36.645 ERROR [src.node.docker_mananger] Max retries reached for container 6177361e5ce6. Exiting log stream.
2025-02-06 03:06:37.326 ERROR [src.node.docker_mananger] Max retries reached for container 207b184693b8. Exiting log stream.
2025-02-06 03:06:47.009 DEBUG [src.node.waku_node] Container stopped.
2025-02-06 03:06:47.010 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-06 03:06:47.020 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-06 03:06:47.030 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-06 03:06:47.034 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-06 03:06:47.036 DEBUG [tests.conftest] Running fixture teardown: attach_logs_on_fail
2025-02-06 03:06:47.036 DEBUG [tests.conftest] Test failed, attempting to attach logs to the allure reports
2025-02-06 03:06:47.037 DEBUG [src.libs.common] Attaching file ./log/docker/node2_2025-02-06_03-06-09__a176c372-6248-4418-b8cd-05c213c50d0d__wakuorg_go-waku:latest.log
2025-02-06 03:06:47.039 DEBUG [src.libs.common] Attaching file ./log/docker/node1_2025-02-06_03-06-09__a176c372-6248-4418-b8cd-05c213c50d0d__wakuorg_go-waku:latest.log
2025-02-06 03:06:47.041 DEBUG [src.libs.common] Attaching file ./log/docker/node2_2025-02-06_03-06-09__a176c372-6248-4418-b8cd-05c213c50d0d__wakuorg_nwaku:latest.log
