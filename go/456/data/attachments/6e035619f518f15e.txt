2025-02-06 03:05:40.755 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-06 03:05:40.756 DEBUG [tests.conftest] Running test: test_filter_unsubscribe_with_no_request_id with id: 2025-02-06_03-05-40__967baec4-486e-4297-af59-5c0bd5ccdf7a
2025-02-06 03:05:40.756 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-06 03:05:40.756 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2025-02-06 03:05:40.756 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2025-02-06 03:05:40.763 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-06 03:05:40.763 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-06_03-05-40__967baec4-486e-4297-af59-5c0bd5ccdf7a__wakuorg_nwaku:latest.log
2025-02-06 03:05:40.764 DEBUG [src.node.waku_node] Starting Node...
2025-02-06 03:05:40.764 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-06 03:05:40.765 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-06 03:05:40.765 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.90.228
2025-02-06 03:05:40.766 DEBUG [src.node.docker_mananger] Generated ports ['42468', '42469', '42470', '42471', '42472']
2025-02-06 03:05:40.766 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-06 03:05:40.766 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-06 03:05:40.766 DEBUG [src.node.waku_node] Using volumes []
2025-02-06 03:05:40.766 DEBUG [src.node.docker_mananger] docker run -i -t -p 42468:42468 -p 42469:42469 -p 42470:42470 -p 42471:42471 -p 42472:42472 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=42470 --rest-port=42468 --tcp-port=42469 --discv5-udp-port=42471 --rest-address=0.0.0.0 --nat=extip:172.18.90.228 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9e30bed9594b5d9b8e2b3f7c349af8bcd528ea50a0ac294aeabadf52ef42bbec --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=42472 --metrics-logging=true --relay=true --filter=true
2025-02-06 03:05:41.013 ERROR [src.node.docker_mananger] Max retries reached for container 5d6b6c773a35. Exiting log stream.
2025-02-06 03:05:41.026 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.90.228 waku 366e83c01825ac9d0dbfd63f28e489bcc98c61f71ba26f1c36bbe7961dfcc0c5
2025-02-06 03:05:41.083 DEBUG [src.node.docker_mananger] Container started with ID 366e83c01825. Setting up logs at ./log/docker/node1_2025-02-06_03-05-40__967baec4-486e-4297-af59-5c0bd5ccdf7a__wakuorg_nwaku:latest.log
2025-02-06 03:05:41.084 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 42468
2025-02-06 03:05:41.084 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-06 03:05:41.513 ERROR [src.node.docker_mananger] Max retries reached for container e02f47f693ab. Exiting log stream.
2025-02-06 03:05:42.084 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42468/health" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:05:42.087 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-06 03:05:42.088 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-06 03:05:42.088 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42468/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:05:42.090 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.90.228/tcp/42469/p2p/16Uiu2HAm6Bn8h2JcnwpeosZn9YT1u3AeqYR16Xn3hDtxDdQUn5Hj","/ip4/172.18.90.228/tcp/42470/ws/p2p/16Uiu2HAm6Bn8h2JcnwpeosZn9YT1u3AeqYR16Xn3hDtxDdQUn5Hj"],"enrUri":"enr:-L24QAzMNTZPKRutD4ti6RG2w0X-PhixY3UTL3Ums0aLaAXOQ9V0W4A0AaixlCrpMxPG0OstNggaY1DnYgDO0SEKhH4CgmlkgnY0gmlwhKwSWuSKbXVsdGlhZGRyc5YACASsElrkBqXlAAoErBJa5Aal5t0DgnJzhQADAQAAiXNlY3AyNTZrMaECn-Fh7fSD4mU3memNnvddTiqix2iJewJcEWOoGlRxt3KDdGNwgqXlg3VkcIKl54V3YWt1MgU"}'
2025-02-06 03:05:42.090 INFO [src.node.waku_node] REST service is ready !!
2025-02-06 03:05:42.091 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2025-02-06 03:05:42.096 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-06 03:05:42.097 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-06_03-05-40__967baec4-486e-4297-af59-5c0bd5ccdf7a__wakuorg_go-waku:latest.log
2025-02-06 03:05:42.097 DEBUG [src.node.waku_node] Starting Node...
2025-02-06 03:05:42.097 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-06 03:05:42.098 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-06 03:05:42.098 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.216.114
2025-02-06 03:05:42.098 DEBUG [src.node.docker_mananger] Generated ports ['57190', '57191', '57192', '57193', '57194']
2025-02-06 03:05:42.098 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-06 03:05:42.099 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-06 03:05:42.099 DEBUG [src.node.waku_node] Using volumes []
2025-02-06 03:05:42.099 DEBUG [src.node.docker_mananger] docker run -i -t -p 57190:57190 -p 57191:57191 -p 57192:57192 -p 57193:57193 -p 57194:57194 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=57192 --rest-port=57190 --tcp-port=57191 --discv5-udp-port=57193 --rest-address=0.0.0.0 --nat=extip:172.18.216.114 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5a6437838b8cddfd1a60773951aca16fcd7ce0d5c8133fa39a4bb60a6e62c5df --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QAzMNTZPKRutD4ti6RG2w0X-PhixY3UTL3Ums0aLaAXOQ9V0W4A0AaixlCrpMxPG0OstNggaY1DnYgDO0SEKhH4CgmlkgnY0gmlwhKwSWuSKbXVsdGlhZGRyc5YACASsElrkBqXlAAoErBJa5Aal5t0DgnJzhQADAQAAiXNlY3AyNTZrMaECn-Fh7fSD4mU3memNnvddTiqix2iJewJcEWOoGlRxt3KDdGNwgqXlg3VkcIKl54V3YWt1MgU --filternode=/ip4/172.18.90.228/tcp/42469/p2p/16Uiu2HAm6Bn8h2JcnwpeosZn9YT1u3AeqYR16Xn3hDtxDdQUn5Hj --pubsub-topic=/waku/2/rs/3/1
2025-02-06 03:05:42.293 DEBUG [src.node.waku_node] Starting Node...
2025-02-06 03:05:42.293 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-06 03:05:42.295 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-06 03:05:42.295 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.138.220
2025-02-06 03:05:42.295 DEBUG [src.node.docker_mananger] Generated ports ['1923', '1924', '1925', '1926', '1927']
2025-02-06 03:05:42.295 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-06 03:05:42.295 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-06 03:05:42.295 DEBUG [src.node.waku_node] Using volumes []
2025-02-06 03:05:42.296 DEBUG [src.node.docker_mananger] docker run -i -t -p 1923:1923 -p 1924:1924 -p 1925:1925 -p 1926:1926 -p 1927:1927 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=1925 --rest-port=1923 --tcp-port=1924 --discv5-udp-port=1926 --rest-address=0.0.0.0 --nat=extip:172.18.138.220 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e7cf3b5dbfce30e3b8aab7e86b4caf0f9c1afa40fa0f4f76baa93f30bdbce69e --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QAzMNTZPKRutD4ti6RG2w0X-PhixY3UTL3Ums0aLaAXOQ9V0W4A0AaixlCrpMxPG0OstNggaY1DnYgDO0SEKhH4CgmlkgnY0gmlwhKwSWuSKbXVsdGlhZGRyc5YACASsElrkBqXlAAoErBJa5Aal5t0DgnJzhQADAQAAiXNlY3AyNTZrMaECn-Fh7fSD4mU3memNnvddTiqix2iJewJcEWOoGlRxt3KDdGNwgqXlg3VkcIKl54V3YWt1MgU --filternode=/ip4/172.18.90.228/tcp/42469/p2p/16Uiu2HAm6Bn8h2JcnwpeosZn9YT1u3AeqYR16Xn3hDtxDdQUn5Hj --pubsub-topic=/waku/2/rs/3/1
2025-02-06 03:05:42.516 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.138.220 waku 1b3dafd6934f46da32d5a659146b74522cb9cbb25b5a518ea8ca0b334b6d0cd6
2025-02-06 03:05:42.567 DEBUG [src.node.docker_mananger] Container started with ID 1b3dafd6934f. Setting up logs at ./log/docker/node2_2025-02-06_03-05-40__967baec4-486e-4297-af59-5c0bd5ccdf7a__wakuorg_go-waku:latest.log
2025-02-06 03:05:42.569 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 1923
2025-02-06 03:05:42.569 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-06 03:05:43.570 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1923/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:05:43.572 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QAt3RCEMZEjYFZZkjPtIdDSz7F-kMBVn_gqQsQdb6d_MQ9mw3dQ7lSRxvOjbLaerEDq4P7s6THnR_kz9N4pNKg2GAZTZOHGjgmlkgnY0gmlwhKwRAAOCcnOFAAMBAAGJc2VjcDI1NmsxoQKAV148kS8fwGk3N2eQ1SUv55l6Mz0IOAH27c2ewft-a4N0Y3CCB4SDdWRwggeGhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/1924/p2p/16Uiu2HAm44fS8coCziLcgrmRtEwaZ5NMsK4qxEfN4hgr5cu4PdVc","/ip4/127.0.0.1/tcp/1925/ws/p2p/16Uiu2HAm44fS8coCziLcgrmRtEwaZ5NMsK4qxEfN4hgr5cu4PdVc","/ip4/172.17.0.3/tcp/1924/p2p/16Uiu2HAm44fS8coCziLcgrmRtEwaZ5NMsK4qxEfN4hgr5cu4PdVc","/ip4/172.17.0.3/tcp/1925/ws/p2p/16Uiu2HAm44fS8coCziLcgrmRtEwaZ5NMsK4qxEfN4hgr5cu4PdVc"]}'
2025-02-06 03:05:43.573 INFO [src.node.waku_node] REST service is ready !!
2025-02-06 03:05:43.573 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1923/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.90.228/tcp/42469/p2p/16Uiu2HAm6Bn8h2JcnwpeosZn9YT1u3AeqYR16Xn3hDtxDdQUn5Hj", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-06 03:05:43.575 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-06 03:05:43.575 DEBUG [src.steps.filter] Running fixture setup: subscribe_main_nodes
2025-02-06 03:05:43.575 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:42468/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-06 03:05:43.578 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 03:05:43.579 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1923/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "12425213-f3e9-4e79-a711-75914a2dc2ca", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2025-02-06 03:05:43.584 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"12425213-f3e9-4e79-a711-75914a2dc2ca","statusDesc":"OK"}'
2025-02-06 03:05:43.586 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:1923/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2025-02-06 03:05:43.587 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusDesc":"can\'t unsubscribe from 16Uiu2HAm6Bn8h2JcnwpeosZn9YT1u3AeqYR16Xn3hDtxDdQUn5Hj"}'
2025-02-06 03:05:43.590 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-06 03:05:43.590 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-06 03:05:43.590 DEBUG [src.node.waku_node] Stopping container with id 366e83c01825
2025-02-06 03:05:44.161 DEBUG [src.node.waku_node] Container stopped.
2025-02-06 03:05:44.161 DEBUG [src.node.waku_node] Stopping container with id 1b3dafd6934f
2025-02-06 03:05:44.973 ERROR [src.node.docker_mananger] Max retries reached for container 366e83c01825. Exiting log stream.
2025-02-06 03:05:45.066 DEBUG [src.node.waku_node] Container stopped.
2025-02-06 03:05:45.067 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-06 03:05:45.071 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-06 03:05:45.075 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
