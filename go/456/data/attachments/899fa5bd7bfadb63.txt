2025-02-06 03:06:06.619 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-06 03:06:06.619 DEBUG [tests.conftest] Running test: test_optional_nodes_not_subscribed_to_same_pubsub_topic with id: 2025-02-06_03-06-06__28953da0-413f-4153-b61b-505e1b7d909f
2025-02-06 03:06:06.621 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-06 03:06:06.621 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-06 03:06:06.621 DEBUG [src.steps.relay] Running fixture setup: setup_main_relay_nodes
2025-02-06 03:06:06.628 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-06 03:06:06.628 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-06_03-06-06__28953da0-413f-4153-b61b-505e1b7d909f__wakuorg_nwaku:latest.log
2025-02-06 03:06:06.628 DEBUG [src.node.waku_node] Starting Node...
2025-02-06 03:06:06.628 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-06 03:06:06.629 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-06 03:06:06.630 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.155.131
2025-02-06 03:06:06.630 DEBUG [src.node.docker_mananger] Generated ports ['17846', '17847', '17848', '17849', '17850']
2025-02-06 03:06:06.630 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-06 03:06:06.630 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-06 03:06:06.630 DEBUG [src.node.waku_node] Using volumes []
2025-02-06 03:06:06.630 DEBUG [src.node.docker_mananger] docker run -i -t -p 17846:17846 -p 17847:17847 -p 17848:17848 -p 17849:17849 -p 17850:17850 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=17848 --rest-port=17846 --tcp-port=17847 --discv5-udp-port=17849 --rest-address=0.0.0.0 --nat=extip:172.18.155.131 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=794a2c5ef5417538ad4bcab1280d5cabb2abe0a83eed8ea0bde78f93d34bfbaf --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=17850 --metrics-logging=true --relay=true
2025-02-06 03:06:06.854 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.155.131 waku df805e8862684f7b9321c26b2dfb2f6f94bd287edb1d5344c0dfacc903a0c82e
2025-02-06 03:06:06.905 DEBUG [src.node.docker_mananger] Container started with ID df805e886268. Setting up logs at ./log/docker/node1_2025-02-06_03-06-06__28953da0-413f-4153-b61b-505e1b7d909f__wakuorg_nwaku:latest.log
2025-02-06 03:06:06.905 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 17846
2025-02-06 03:06:06.905 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-06 03:06:06.926 ERROR [src.node.docker_mananger] Max retries reached for container 6a1d0b6fbfe0. Exiting log stream.
2025-02-06 03:06:07.432 ERROR [src.node.docker_mananger] Max retries reached for container 7d2006db1689. Exiting log stream.
2025-02-06 03:06:07.907 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17846/health" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:06:07.909 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-06 03:06:07.909 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-06 03:06:07.910 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17846/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:06:07.912 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.155.131/tcp/17847/p2p/16Uiu2HAm1btUarwgc1GkDFSWfX4teU9Kn3tVmAtzFx2gT27TUHVf","/ip4/172.18.155.131/tcp/17848/ws/p2p/16Uiu2HAm1btUarwgc1GkDFSWfX4teU9Kn3tVmAtzFx2gT27TUHVf"],"enrUri":"enr:-L24QFGB4YUocGzrA5krvQ3LaMD81sv8CpTx83CLPAYkomLZSX0KmqC3L6C9aaqJQJ0NGt2a3Yo_BYTHBsZD2fv6mJgCgmlkgnY0gmlwhKwSm4OKbXVsdGlhZGRyc5YACASsEpuDBkW3AAoErBKbgwZFuN0DgnJzhQADAQAAiXNlY3AyNTZrMaECW8QPMvskuHtemQ2Q-t6o1IsopnG_W0uCfcCRH4OupJaDdGNwgkW3g3VkcIJFuYV3YWt1MgE"}'
2025-02-06 03:06:07.912 INFO [src.node.waku_node] REST service is ready !!
2025-02-06 03:06:07.918 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-06 03:06:07.918 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-06_03-06-06__28953da0-413f-4153-b61b-505e1b7d909f__wakuorg_go-waku:latest.log
2025-02-06 03:06:07.918 DEBUG [src.node.waku_node] Starting Node...
2025-02-06 03:06:07.918 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-06 03:06:07.919 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-06 03:06:07.920 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.140.234
2025-02-06 03:06:07.920 DEBUG [src.node.docker_mananger] Generated ports ['44215', '44216', '44217', '44218', '44219']
2025-02-06 03:06:07.920 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-06 03:06:07.920 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-06 03:06:07.920 DEBUG [src.node.waku_node] Using volumes []
2025-02-06 03:06:07.920 DEBUG [src.node.docker_mananger] docker run -i -t -p 44215:44215 -p 44216:44216 -p 44217:44217 -p 44218:44218 -p 44219:44219 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=44217 --rest-port=44215 --tcp-port=44216 --discv5-udp-port=44218 --rest-address=0.0.0.0 --nat=extip:172.18.140.234 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f90c881cbc7ab03ed2d171074947ed4236f1c2b5fed66ecdc3cba59d4200dd4b --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-L24QFGB4YUocGzrA5krvQ3LaMD81sv8CpTx83CLPAYkomLZSX0KmqC3L6C9aaqJQJ0NGt2a3Yo_BYTHBsZD2fv6mJgCgmlkgnY0gmlwhKwSm4OKbXVsdGlhZGRyc5YACASsEpuDBkW3AAoErBKbgwZFuN0DgnJzhQADAQAAiXNlY3AyNTZrMaECW8QPMvskuHtemQ2Q-t6o1IsopnG_W0uCfcCRH4OupJaDdGNwgkW3g3VkcIJFuYV3YWt1MgE
2025-02-06 03:06:08.147 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.140.234 waku 22662ec2c3e0b1987d0ffda2ff97d4a6291898b123b6a453446f64f73f02849e
2025-02-06 03:06:08.211 DEBUG [src.node.docker_mananger] Container started with ID 22662ec2c3e0. Setting up logs at ./log/docker/node2_2025-02-06_03-06-06__28953da0-413f-4153-b61b-505e1b7d909f__wakuorg_go-waku:latest.log
2025-02-06 03:06:08.213 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 44215
2025-02-06 03:06:08.213 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-06 03:06:09.213 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44215/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:06:09.216 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QPKj6BTPy8hsSLdp3R1yWK8roVSebB3zBRTChz77OwR4bgdoMDsttho2uUp3cg-rSGkP9EuYBZjdZfrf8ANdkL-GAZTZONXAgmlkgnY0gmlwhKwRAAOCcnODAAMAiXNlY3AyNTZrMaECb3oOSVT8ertHirQnYmdRFqDjZhFkgyFA5gqiPtcHg56DdGNwgqy4g3VkcIKsuoV3YWt1MgE","listenAddresses":["/ip4/127.0.0.1/tcp/44216/p2p/16Uiu2HAm2vqBTu9hu1r6sF4mCixHKfLM7nMCn7ZdtAQzz3nux3dw","/ip4/127.0.0.1/tcp/44217/ws/p2p/16Uiu2HAm2vqBTu9hu1r6sF4mCixHKfLM7nMCn7ZdtAQzz3nux3dw","/ip4/172.17.0.3/tcp/44216/p2p/16Uiu2HAm2vqBTu9hu1r6sF4mCixHKfLM7nMCn7ZdtAQzz3nux3dw","/ip4/172.17.0.3/tcp/44217/ws/p2p/16Uiu2HAm2vqBTu9hu1r6sF4mCixHKfLM7nMCn7ZdtAQzz3nux3dw"]}'
2025-02-06 03:06:09.216 INFO [src.node.waku_node] REST service is ready !!
2025-02-06 03:06:09.217 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44215/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.155.131/tcp/17847/p2p/16Uiu2HAm1btUarwgc1GkDFSWfX4teU9Kn3tVmAtzFx2gT27TUHVf", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-06 03:06:09.233 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-06 03:06:09.235 DEBUG [src.steps.relay] Running fixture setup: setup_optional_relay_nodes
2025-02-06 03:06:09.242 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-06 03:06:09.242 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node3_2025-02-06_03-06-06__28953da0-413f-4153-b61b-505e1b7d909f__wakuorg_nwaku:latest.log
2025-02-06 03:06:09.242 DEBUG [src.node.waku_node] Starting Node...
2025-02-06 03:06:09.242 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-06 03:06:09.244 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-06 03:06:09.244 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.97.181
2025-02-06 03:06:09.244 DEBUG [src.node.docker_mananger] Generated ports ['44822', '44823', '44824', '44825', '44826']
2025-02-06 03:06:09.244 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-06 03:06:09.245 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-06 03:06:09.245 DEBUG [src.node.waku_node] Using volumes []
2025-02-06 03:06:09.245 DEBUG [src.node.docker_mananger] docker run -i -t -p 44822:44822 -p 44823:44823 -p 44824:44824 -p 44825:44825 -p 44826:44826 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=44824 --rest-port=44822 --tcp-port=44823 --discv5-udp-port=44825 --rest-address=0.0.0.0 --nat=extip:172.18.97.181 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6caa84fae9532c5d04c6ccd0d524dab4ffedaa1d76240dda7c04fddb44bd9fc1 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=44826 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QFGB4YUocGzrA5krvQ3LaMD81sv8CpTx83CLPAYkomLZSX0KmqC3L6C9aaqJQJ0NGt2a3Yo_BYTHBsZD2fv6mJgCgmlkgnY0gmlwhKwSm4OKbXVsdGlhZGRyc5YACASsEpuDBkW3AAoErBKbgwZFuN0DgnJzhQADAQAAiXNlY3AyNTZrMaECW8QPMvskuHtemQ2Q-t6o1IsopnG_W0uCfcCRH4OupJaDdGNwgkW3g3VkcIJFuYV3YWt1MgE
2025-02-06 03:06:09.525 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.97.181 waku 36aa40e7dd1b2d692d30af481b1f6f74ff149c0466de7e6c7f2e553c3b1c97cc
2025-02-06 03:06:09.585 DEBUG [src.node.docker_mananger] Container started with ID 36aa40e7dd1b. Setting up logs at ./log/docker/node3_2025-02-06_03-06-06__28953da0-413f-4153-b61b-505e1b7d909f__wakuorg_nwaku:latest.log
2025-02-06 03:06:09.586 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 44822
2025-02-06 03:06:09.586 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-06 03:06:10.587 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44822/health" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:06:10.596 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-06 03:06:10.596 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-06 03:06:10.596 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44822/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:06:10.598 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.97.181/tcp/44823/p2p/16Uiu2HAm1xErbJG5j9PahvgY54Mdr21AG221xGpSCaGKGVNwn6iX","/ip4/172.18.97.181/tcp/44824/ws/p2p/16Uiu2HAm1xErbJG5j9PahvgY54Mdr21AG221xGpSCaGKGVNwn6iX"],"enrUri":"enr:-L24QGRItIsYJ_loo-XEvvp4Vs5GyRCs2Xkjq831DvJ26OkGFG3a2xyajSC_WdRlqxfmc_HO4GQLwxKHOcTNyNHs57ACgmlkgnY0gmlwhKwSYbWKbXVsdGlhZGRyc5YACASsEmG1Bq8XAAoErBJhtQavGN0DgnJzhQADAQAAiXNlY3AyNTZrMaECYPq3-hJt_wx6MMM57n5y0boLfl4qgyuPyFLZDDqf3CSDdGNwgq8Xg3VkcIKvGYV3YWt1MgE"}'
2025-02-06 03:06:10.599 INFO [src.node.waku_node] REST service is ready !!
2025-02-06 03:06:10.599 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44822/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.155.131/tcp/17847/p2p/16Uiu2HAm1btUarwgc1GkDFSWfX4teU9Kn3tVmAtzFx2gT27TUHVf"]'
2025-02-06 03:06:10.602 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 03:06:10.609 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-06 03:06:10.609 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node4_2025-02-06_03-06-06__28953da0-413f-4153-b61b-505e1b7d909f__wakuorg_go-waku:latest.log
2025-02-06 03:06:10.609 DEBUG [src.node.waku_node] Starting Node...
2025-02-06 03:06:10.610 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-06 03:06:10.611 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-06 03:06:10.611 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.1.57
2025-02-06 03:06:10.611 DEBUG [src.node.docker_mananger] Generated ports ['58852', '58853', '58854', '58855', '58856']
2025-02-06 03:06:10.611 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-06 03:06:10.612 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-06 03:06:10.612 DEBUG [src.node.waku_node] Using volumes []
2025-02-06 03:06:10.612 DEBUG [src.node.docker_mananger] docker run -i -t -p 58852:58852 -p 58853:58853 -p 58854:58854 -p 58855:58855 -p 58856:58856 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=58854 --rest-port=58852 --tcp-port=58853 --discv5-udp-port=58855 --rest-address=0.0.0.0 --nat=extip:172.18.1.57 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e4b0c14d57dcfecbf7dacbff64e5cabf6abd698effb8bb8e1f82f42ea86f86bc --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-L24QFGB4YUocGzrA5krvQ3LaMD81sv8CpTx83CLPAYkomLZSX0KmqC3L6C9aaqJQJ0NGt2a3Yo_BYTHBsZD2fv6mJgCgmlkgnY0gmlwhKwSm4OKbXVsdGlhZGRyc5YACASsEpuDBkW3AAoErBKbgwZFuN0DgnJzhQADAQAAiXNlY3AyNTZrMaECW8QPMvskuHtemQ2Q-t6o1IsopnG_W0uCfcCRH4OupJaDdGNwgkW3g3VkcIJFuYV3YWt1MgE
2025-02-06 03:06:10.894 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.1.57 waku 1208d799f678e875aa94e199ae9d4d46ea5dd5bd20daee828909a9b508c8e282
2025-02-06 03:06:10.951 DEBUG [src.node.docker_mananger] Container started with ID 1208d799f678. Setting up logs at ./log/docker/node4_2025-02-06_03-06-06__28953da0-413f-4153-b61b-505e1b7d909f__wakuorg_go-waku:latest.log
2025-02-06 03:06:10.953 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 58852
2025-02-06 03:06:10.953 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-06 03:06:11.953 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58852/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:06:11.956 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QEWB92EHO6uufvJKiexToo9rMuyRnjSkc3_MpDYqiz87Bc3tydEsKLtT_BupDQAE_ThquRTgSD0gi9_8xG26ixiGAZTZOOCJgmlkgnY0gmlwhKwRAAWCcnODAAMAiXNlY3AyNTZrMaECegfIVYN_Os-PaBFDRlKJ5lXXnrW5mtswj2nDtcR-0lyDdGNwguXlg3VkcILl54V3YWt1MgE","listenAddresses":["/ip4/127.0.0.1/tcp/58853/p2p/16Uiu2HAm3e2bsabFPA6y1fwRid4PGEeR41pva48uoBJxv8kd5Mj9","/ip4/127.0.0.1/tcp/58854/ws/p2p/16Uiu2HAm3e2bsabFPA6y1fwRid4PGEeR41pva48uoBJxv8kd5Mj9","/ip4/172.17.0.5/tcp/58853/p2p/16Uiu2HAm3e2bsabFPA6y1fwRid4PGEeR41pva48uoBJxv8kd5Mj9","/ip4/172.17.0.5/tcp/58854/ws/p2p/16Uiu2HAm3e2bsabFPA6y1fwRid4PGEeR41pva48uoBJxv8kd5Mj9"]}'
2025-02-06 03:06:11.956 INFO [src.node.waku_node] REST service is ready !!
2025-02-06 03:06:11.957 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58852/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.155.131/tcp/17847/p2p/16Uiu2HAm1btUarwgc1GkDFSWfX4teU9Kn3tVmAtzFx2gT27TUHVf", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-06 03:06:11.975 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-06 03:06:11.985 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-06 03:06:11.985 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node5_2025-02-06_03-06-06__28953da0-413f-4153-b61b-505e1b7d909f__wakuorg_nwaku:latest.log
2025-02-06 03:06:11.985 DEBUG [src.node.waku_node] Starting Node...
2025-02-06 03:06:11.985 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-06 03:06:11.987 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-06 03:06:11.987 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.179.72
2025-02-06 03:06:11.987 DEBUG [src.node.docker_mananger] Generated ports ['63241', '63242', '63243', '63244', '63245']
2025-02-06 03:06:11.987 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-06 03:06:11.988 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-06 03:06:11.988 DEBUG [src.node.waku_node] Using volumes []
2025-02-06 03:06:11.988 DEBUG [src.node.docker_mananger] docker run -i -t -p 63241:63241 -p 63242:63242 -p 63243:63243 -p 63244:63244 -p 63245:63245 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=63243 --rest-port=63241 --tcp-port=63242 --discv5-udp-port=63244 --rest-address=0.0.0.0 --nat=extip:172.18.179.72 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d17c6af659e1fd3cfdf7ab9ddaeed4c638acc2dcb5893e71ac910a957094d1ce --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=63245 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QFGB4YUocGzrA5krvQ3LaMD81sv8CpTx83CLPAYkomLZSX0KmqC3L6C9aaqJQJ0NGt2a3Yo_BYTHBsZD2fv6mJgCgmlkgnY0gmlwhKwSm4OKbXVsdGlhZGRyc5YACASsEpuDBkW3AAoErBKbgwZFuN0DgnJzhQADAQAAiXNlY3AyNTZrMaECW8QPMvskuHtemQ2Q-t6o1IsopnG_W0uCfcCRH4OupJaDdGNwgkW3g3VkcIJFuYV3YWt1MgE
2025-02-06 03:06:12.284 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.179.72 waku 137e4ecc2b217912d24eae7c2d14ecbe8920038f813077011ab31f65bc4c5f55
2025-02-06 03:06:12.348 DEBUG [src.node.docker_mananger] Container started with ID 137e4ecc2b21. Setting up logs at ./log/docker/node5_2025-02-06_03-06-06__28953da0-413f-4153-b61b-505e1b7d909f__wakuorg_nwaku:latest.log
2025-02-06 03:06:12.349 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 63241
2025-02-06 03:06:12.349 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-06 03:06:13.349 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63241/health" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:06:13.359 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-06 03:06:13.360 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-06 03:06:13.360 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63241/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:06:13.364 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.179.72/tcp/63242/p2p/16Uiu2HAmJA2UeLbfJg2fAWhtLTyFREPFbU8VTaofDnufkqZmzkYu","/ip4/172.18.179.72/tcp/63243/ws/p2p/16Uiu2HAmJA2UeLbfJg2fAWhtLTyFREPFbU8VTaofDnufkqZmzkYu"],"enrUri":"enr:-L24QCaOFZBAoOwkCi9TW2YyGZmII00iv8oDjIbeFy4zv9-aSS32k1f5Jg8FCVbBohsUv1VY3XJYMaHGjixVyxMwTd0CgmlkgnY0gmlwhKwSs0iKbXVsdGlhZGRyc5YACASsErNIBvcKAAoErBKzSAb3C90DgnJzhQADAQAAiXNlY3AyNTZrMaEDUbqu0UyoZIhjYfDyCXp0Yf-uDNTfRk5DdBL7nBP6826DdGNwgvcKg3VkcIL3DIV3YWt1MgE"}'
2025-02-06 03:06:13.366 INFO [src.node.waku_node] REST service is ready !!
2025-02-06 03:06:13.366 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63241/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.155.131/tcp/17847/p2p/16Uiu2HAm1btUarwgc1GkDFSWfX4teU9Kn3tVmAtzFx2gT27TUHVf"]'
2025-02-06 03:06:13.370 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 03:06:13.371 DEBUG [src.steps.relay] Running fixture setup: subscribe_main_relay_nodes
2025-02-06 03:06:13.371 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17846/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-06 03:06:13.378 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 03:06:13.379 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44215/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-06 03:06:13.381 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-06 03:06:13.383 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17846/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 03:06:13.396 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 03:06:13.397 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 03:06:13.498 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 03:06:13.498 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17846/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:06:13.501 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738811173383457792,"ephemeral":false}]'
2025-02-06 03:06:13.503 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-06 03:06:13.503 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44215/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:06:13.505 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-06 03:06:14.506 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17846/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 03:06:14.511 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 03:06:14.512 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 03:06:14.612 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 03:06:14.612 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17846/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:06:14.615 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738811174506402816,"ephemeral":false}]'
2025-02-06 03:06:14.617 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-06 03:06:14.617 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44215/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:06:14.619 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738811174506402816,"ephemeral":false}]'
2025-02-06 03:06:14.621 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17846/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 03:06:14.626 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 03:06:14.626 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 03:06:14.726 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 03:06:14.726 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44822/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:06:14.729 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:44822/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1. Response content: b''
2025-02-06 03:06:14.733 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-06 03:06:14.734 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-06 03:06:14.734 DEBUG [src.node.waku_node] Stopping container with id df805e886268
2025-02-06 03:06:15.272 DEBUG [src.node.waku_node] Container stopped.
2025-02-06 03:06:15.272 DEBUG [src.node.waku_node] Stopping container with id 22662ec2c3e0
2025-02-06 03:06:15.782 DEBUG [src.node.waku_node] Container stopped.
2025-02-06 03:06:15.783 DEBUG [src.node.waku_node] Stopping container with id 36aa40e7dd1b
2025-02-06 03:06:16.084 ERROR [src.node.docker_mananger] Max retries reached for container df805e886268. Exiting log stream.
2025-02-06 03:06:16.595 ERROR [src.node.docker_mananger] Max retries reached for container 22662ec2c3e0. Exiting log stream.
2025-02-06 03:06:17.034 DEBUG [src.node.waku_node] Container stopped.
2025-02-06 03:06:17.035 DEBUG [src.node.waku_node] Stopping container with id 1208d799f678
2025-02-06 03:06:17.544 DEBUG [src.node.waku_node] Container stopped.
2025-02-06 03:06:17.544 DEBUG [src.node.waku_node] Stopping container with id 137e4ecc2b21
2025-02-06 03:06:17.846 ERROR [src.node.docker_mananger] Max retries reached for container 36aa40e7dd1b. Exiting log stream.
2025-02-06 03:06:18.355 ERROR [src.node.docker_mananger] Max retries reached for container 1208d799f678. Exiting log stream.
2025-02-06 03:06:19.023 DEBUG [src.node.waku_node] Container stopped.
2025-02-06 03:06:19.024 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-06 03:06:19.039 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-06 03:06:19.044 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-06 03:06:19.047 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-06 03:06:19.049 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-06 03:06:19.053 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
