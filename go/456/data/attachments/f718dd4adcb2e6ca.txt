2025-02-06 03:06:18.871 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-06 03:06:18.871 DEBUG [tests.conftest] Running test: test_subscribe_one_by_one_to_different_pubsub_topics_and_send_messages with id: 2025-02-06_03-06-18__ca6f8797-5965-4bc5-9e24-d0d3a7c9c661
2025-02-06 03:06:18.871 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-06 03:06:18.872 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-06 03:06:18.872 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-06 03:06:18.879 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-06 03:06:18.879 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-06_03-06-18__ca6f8797-5965-4bc5-9e24-d0d3a7c9c661__wakuorg_nwaku:latest.log
2025-02-06 03:06:18.879 DEBUG [src.node.waku_node] Starting Node...
2025-02-06 03:06:18.879 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-06 03:06:18.880 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-06 03:06:18.881 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.201.254
2025-02-06 03:06:18.881 DEBUG [src.node.docker_mananger] Generated ports ['25273', '25274', '25275', '25276', '25277']
2025-02-06 03:06:18.881 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-06 03:06:18.881 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-06 03:06:18.881 DEBUG [src.node.waku_node] Using volumes []
2025-02-06 03:06:18.881 DEBUG [src.node.docker_mananger] docker run -i -t -p 25273:25273 -p 25274:25274 -p 25275:25275 -p 25276:25276 -p 25277:25277 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=25275 --rest-port=25273 --tcp-port=25274 --discv5-udp-port=25276 --rest-address=0.0.0.0 --nat=extip:172.18.201.254 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=a9c521ea4752374dbb1eef57e6405ddd25ba08eaaacebaffcd7c90aaf5b968ac --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=25277 --metrics-logging=true --relay=true --filter=true --pubsub-topic=/waku/2/rs/2/0
2025-02-06 03:06:19.123 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.201.254 waku 6dabe93ece9eea3f4b96d4025f8af0c0c3ade9924d6a87c27b680f66f5662a98
2025-02-06 03:06:19.157 ERROR [src.node.docker_mananger] Max retries reached for container f17ddb6b1c1d. Exiting log stream.
2025-02-06 03:06:19.173 DEBUG [src.node.docker_mananger] Container started with ID 6dabe93ece9e. Setting up logs at ./log/docker/node1_2025-02-06_03-06-18__ca6f8797-5965-4bc5-9e24-d0d3a7c9c661__wakuorg_nwaku:latest.log
2025-02-06 03:06:19.173 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 25273
2025-02-06 03:06:19.174 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-06 03:06:19.674 ERROR [src.node.docker_mananger] Max retries reached for container 36c3af8fd744. Exiting log stream.
2025-02-06 03:06:20.174 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25273/health" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:06:20.177 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-06 03:06:20.177 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-06 03:06:20.178 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25273/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:06:20.180 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.201.254/tcp/25274/p2p/16Uiu2HAmGogc7AoftqcnJpP6vW6UcN9W3AAY76Be3qhwRk4imNR1","/ip4/172.18.201.254/tcp/25275/ws/p2p/16Uiu2HAmGogc7AoftqcnJpP6vW6UcN9W3AAY76Be3qhwRk4imNR1"],"enrUri":"enr:-L24QP_Qx0payEDRGh2naOBLBJlT71xavrg0GaUjRM108pMWHtQydWuMJHx6xE9vLPMKhHNROURKDtXiDULulYh6ySUCgmlkgnY0gmlwhKwSyf6KbXVsdGlhZGRyc5YACASsEsn-BmK6AAoErBLJ_gZiu90DgnJzhQACAQAAiXNlY3AyNTZrMaEDPajpQ1j4td2p2TyUFboPpMamguHV0bHLheuzwuasv3SDdGNwgmK6g3VkcIJivIV3YWt1MgU"}'
2025-02-06 03:06:20.180 INFO [src.node.waku_node] REST service is ready !!
2025-02-06 03:06:20.187 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-06 03:06:20.187 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-06_03-06-18__ca6f8797-5965-4bc5-9e24-d0d3a7c9c661__wakuorg_go-waku:latest.log
2025-02-06 03:06:20.187 DEBUG [src.node.waku_node] Starting Node...
2025-02-06 03:06:20.187 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-06 03:06:20.188 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-06 03:06:20.188 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.9.176
2025-02-06 03:06:20.189 DEBUG [src.node.docker_mananger] Generated ports ['2183', '2184', '2185', '2186', '2187']
2025-02-06 03:06:20.189 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-06 03:06:20.189 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-06 03:06:20.189 DEBUG [src.node.waku_node] Using volumes []
2025-02-06 03:06:20.189 DEBUG [src.node.docker_mananger] docker run -i -t -p 2183:2183 -p 2184:2184 -p 2185:2185 -p 2186:2186 -p 2187:2187 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=2185 --rest-port=2183 --tcp-port=2184 --discv5-udp-port=2186 --rest-address=0.0.0.0 --nat=extip:172.18.9.176 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=e1b31aaccf1f0d6de118abdecdeb5ad48a68bc9ed300fc1a2ae9aa1e2ecc4cdb --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-L24QP_Qx0payEDRGh2naOBLBJlT71xavrg0GaUjRM108pMWHtQydWuMJHx6xE9vLPMKhHNROURKDtXiDULulYh6ySUCgmlkgnY0gmlwhKwSyf6KbXVsdGlhZGRyc5YACASsEsn-BmK6AAoErBLJ_gZiu90DgnJzhQACAQAAiXNlY3AyNTZrMaEDPajpQ1j4td2p2TyUFboPpMamguHV0bHLheuzwuasv3SDdGNwgmK6g3VkcIJivIV3YWt1MgU --pubsub-topic=/waku/2/rs/2/0
2025-02-06 03:06:20.422 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.9.176 waku 31da28bd15707b8fb4f791b296598cc87c22a26b3825064258cbc279beff17cd
2025-02-06 03:06:20.471 DEBUG [src.node.docker_mananger] Container started with ID 31da28bd1570. Setting up logs at ./log/docker/node2_2025-02-06_03-06-18__ca6f8797-5965-4bc5-9e24-d0d3a7c9c661__wakuorg_go-waku:latest.log
2025-02-06 03:06:20.472 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 2183
2025-02-06 03:06:20.473 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-06 03:06:21.473 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2183/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:06:21.476 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QLTXZEQVTqyEy-4sP-O7brCqNRagisdcVuunnJOGfusqfZEw71HYPCDM7qpUKSgmXjVLH5PcqN1YNHdRfxL_2IeGAZTZOQW0gmlkgnY0gmlwhKwRAAOCcnOFAAIBAACJc2VjcDI1NmsxoQIhvQuylYOFWaIuYg0y1tE5ezW2p-rqlwi5VoHFBp8VVIN0Y3CCCIiDdWRwggiKhXdha3UyAQ","listenAddresses":["/ip4/127.0.0.1/tcp/2184/p2p/16Uiu2HAkwhNdKUL21rK9JxTHdQXy62AtjXy9oS7r4Ad4AUBTbcTM","/ip4/127.0.0.1/tcp/2185/ws/p2p/16Uiu2HAkwhNdKUL21rK9JxTHdQXy62AtjXy9oS7r4Ad4AUBTbcTM","/ip4/172.17.0.3/tcp/2184/p2p/16Uiu2HAkwhNdKUL21rK9JxTHdQXy62AtjXy9oS7r4Ad4AUBTbcTM","/ip4/172.17.0.3/tcp/2185/ws/p2p/16Uiu2HAkwhNdKUL21rK9JxTHdQXy62AtjXy9oS7r4Ad4AUBTbcTM"]}'
2025-02-06 03:06:21.476 INFO [src.node.waku_node] REST service is ready !!
2025-02-06 03:06:21.476 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2183/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.201.254/tcp/25274/p2p/16Uiu2HAmGogc7AoftqcnJpP6vW6UcN9W3AAY76Be3qhwRk4imNR1", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-06 03:06:21.478 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-06 03:06:21.479 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25273/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0"]'
2025-02-06 03:06:21.482 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 03:06:21.482 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2183/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0"]'
2025-02-06 03:06:21.484 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-06 03:06:21.484 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25273/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 03:06:21.489 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 03:06:21.489 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 03:06:21.589 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 03:06:21.590 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25273/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:06:21.592 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738811181484681216,"ephemeral":false}]'
2025-02-06 03:06:21.594 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-06 03:06:21.594 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2183/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:06:21.595 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738811181484681216,"ephemeral":false}]'
2025-02-06 03:06:21.597 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25273/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/1"]'
2025-02-06 03:06:21.600 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 03:06:21.601 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2183/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/1"]'
2025-02-06 03:06:21.603 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-06 03:06:21.604 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25273/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 03:06:21.610 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 03:06:21.610 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 03:06:21.710 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 03:06:21.711 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25273/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:06:21.713 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738811181604304640,"ephemeral":false}]'
2025-02-06 03:06:21.714 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-06 03:06:21.715 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2183/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:06:21.716 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738811181604304640,"ephemeral":false}]'
2025-02-06 03:06:21.718 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25273/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/2"]'
2025-02-06 03:06:21.721 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 03:06:21.722 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2183/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/2"]'
2025-02-06 03:06:21.724 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-06 03:06:21.725 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25273/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 03:06:21.731 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 03:06:21.731 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 03:06:21.831 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 03:06:21.831 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25273/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:06:21.834 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738811181725344768,"ephemeral":false}]'
2025-02-06 03:06:21.835 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-06 03:06:21.836 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2183/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:06:21.838 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738811181725344768,"ephemeral":false}]'
2025-02-06 03:06:21.839 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25273/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/3"]'
2025-02-06 03:06:21.843 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 03:06:21.843 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2183/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/3"]'
2025-02-06 03:06:21.845 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-06 03:06:21.847 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25273/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 03:06:21.852 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 03:06:21.852 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 03:06:21.953 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 03:06:21.953 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25273/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:06:21.956 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738811181847221248,"ephemeral":false}]'
2025-02-06 03:06:21.957 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-06 03:06:21.957 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2183/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:06:21.959 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738811181847221248,"ephemeral":false}]'
2025-02-06 03:06:21.961 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25273/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/4"]'
2025-02-06 03:06:21.965 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 03:06:21.965 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2183/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/4"]'
2025-02-06 03:06:21.967 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-06 03:06:21.969 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25273/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 03:06:21.974 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 03:06:21.974 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 03:06:22.074 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 03:06:22.075 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25273/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:06:22.078 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738811181968831232,"ephemeral":false}]'
2025-02-06 03:06:22.079 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-06 03:06:22.079 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2183/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:06:22.081 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738811181968831232,"ephemeral":false}]'
2025-02-06 03:06:22.083 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25273/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/5"]'
2025-02-06 03:06:22.086 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 03:06:22.086 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2183/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/5"]'
2025-02-06 03:06:22.088 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-06 03:06:22.089 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25273/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 03:06:22.095 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 03:06:22.096 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 03:06:22.196 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 03:06:22.196 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25273/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:06:22.199 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738811182089415936,"ephemeral":false}]'
2025-02-06 03:06:22.200 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-06 03:06:22.200 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2183/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:06:22.202 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738811182089415936,"ephemeral":false}]'
2025-02-06 03:06:22.204 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25273/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/6"]'
2025-02-06 03:06:22.207 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 03:06:22.208 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2183/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/6"]'
2025-02-06 03:06:22.210 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-06 03:06:22.212 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25273/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 03:06:22.217 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 03:06:22.217 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 03:06:22.317 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 03:06:22.318 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25273/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:06:22.320 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738811182212440064,"ephemeral":false}]'
2025-02-06 03:06:22.322 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-06 03:06:22.322 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2183/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:06:22.323 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738811182212440064,"ephemeral":false}]'
2025-02-06 03:06:22.325 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25273/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/7"]'
2025-02-06 03:06:22.328 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 03:06:22.329 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2183/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/7"]'
2025-02-06 03:06:22.331 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-06 03:06:22.333 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25273/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 03:06:22.337 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 03:06:22.338 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 03:06:22.438 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-06 03:06:22.438 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25273/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:06:22.441 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738811182332847872,"ephemeral":false}]'
2025-02-06 03:06:22.442 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-06 03:06:22.442 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2183/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:06:22.444 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738811182332847872,"ephemeral":false}]'
2025-02-06 03:06:22.446 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-06 03:06:22.447 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-06 03:06:22.448 DEBUG [src.node.waku_node] Stopping container with id 6dabe93ece9e
2025-02-06 03:06:23.003 DEBUG [src.node.waku_node] Container stopped.
2025-02-06 03:06:23.004 DEBUG [src.node.waku_node] Stopping container with id 31da28bd1570
2025-02-06 03:06:23.842 ERROR [src.node.docker_mananger] Max retries reached for container 6dabe93ece9e. Exiting log stream.
2025-02-06 03:06:33.543 DEBUG [src.node.waku_node] Container stopped.
2025-02-06 03:06:33.545 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-06 03:06:33.561 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-06 03:06:33.565 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
