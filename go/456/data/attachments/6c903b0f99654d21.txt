2025-02-06 03:13:35.255 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-06 03:13:35.256 DEBUG [tests.conftest] Running test: test_get_store_messages_with_different_content_topics with id: 2025-02-06_03-13-35__383d8d65-6fa0-4197-b739-582f1f3454b2
2025-02-06 03:13:35.256 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-06 03:13:35.256 DEBUG [src.steps.store] Running fixture setup: store_setup
2025-02-06 03:13:35.257 DEBUG [src.steps.store] Running fixture setup: node_setup
2025-02-06 03:13:35.266 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-06 03:13:35.266 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-06_03-13-35__383d8d65-6fa0-4197-b739-582f1f3454b2__wakuorg_nwaku:latest.log
2025-02-06 03:13:35.266 DEBUG [src.node.waku_node] Starting Node...
2025-02-06 03:13:35.266 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-06 03:13:35.268 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-06 03:13:35.268 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.247.200
2025-02-06 03:13:35.268 DEBUG [src.node.docker_mananger] Generated ports ['65174', '65175', '65176', '65177', '65178']
2025-02-06 03:13:35.268 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-06 03:13:35.268 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-06 03:13:35.269 DEBUG [src.node.waku_node] Using volumes []
2025-02-06 03:13:35.269 DEBUG [src.node.docker_mananger] docker run -i -t -p 65174:65174 -p 65175:65175 -p 65176:65176 -p 65177:65177 -p 65178:65178 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=65176 --rest-port=65174 --tcp-port=65175 --discv5-udp-port=65177 --rest-address=0.0.0.0 --nat=extip:172.18.247.200 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=aadcbc86391db6ba4ec653bbb4c740e2c0adb2dce2cbed5b3befab31eb8b91b7 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=65178 --metrics-logging=true --store=true --relay=true
2025-02-06 03:13:35.457 ERROR [src.node.docker_mananger] Max retries reached for container d2e7a0adff0f. Exiting log stream.
2025-02-06 03:13:35.515 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.247.200 waku 0cb276df880b31a841ce7f7b1e25ef073dd8baa71f7016927bbb65c0a8f7dfff
2025-02-06 03:13:35.563 DEBUG [src.node.docker_mananger] Container started with ID 0cb276df880b. Setting up logs at ./log/docker/publishing_node1_2025-02-06_03-13-35__383d8d65-6fa0-4197-b739-582f1f3454b2__wakuorg_nwaku:latest.log
2025-02-06 03:13:35.564 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 65174
2025-02-06 03:13:35.564 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-06 03:13:36.075 ERROR [src.node.docker_mananger] Max retries reached for container 9b99be689ca6. Exiting log stream.
2025-02-06 03:13:36.564 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65174/health" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:13:36.567 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-06 03:13:36.567 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-06 03:13:36.568 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65174/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:13:36.569 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.247.200/tcp/65175/p2p/16Uiu2HAmPd6Xrvi52PthAcyk5nsBMwXVkF8Tge7ugXbJsjAPJ9MU","/ip4/172.18.247.200/tcp/65176/ws/p2p/16Uiu2HAmPd6Xrvi52PthAcyk5nsBMwXVkF8Tge7ugXbJsjAPJ9MU"],"enrUri":"enr:-L24QETHGY87ltpIYLSzg9PmbLFXFNFGizxZGl3COcDn2oEmBRFTYNBg5aEZQER_AF5zcQhlCZ1XrsGgaU-FVQxg4CoCgmlkgnY0gmlwhKwS98iKbXVsdGlhZGRyc5YACASsEvfIBv6XAAoErBL3yAb-mN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDovRiiAdYxQaUUC1xjd3IT3lSDKf6Db2icpJD831pVOuDdGNwgv6Xg3VkcIL-mYV3YWt1MgM"}'
2025-02-06 03:13:36.570 INFO [src.node.waku_node] REST service is ready !!
2025-02-06 03:13:36.577 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-06 03:13:36.577 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-06_03-13-35__383d8d65-6fa0-4197-b739-582f1f3454b2__wakuorg_go-waku:latest.log
2025-02-06 03:13:36.577 DEBUG [src.node.waku_node] Starting Node...
2025-02-06 03:13:36.577 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-06 03:13:36.578 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-06 03:13:36.579 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.172.135
2025-02-06 03:13:36.579 DEBUG [src.node.docker_mananger] Generated ports ['16464', '16465', '16466', '16467', '16468']
2025-02-06 03:13:36.579 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-06 03:13:36.579 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-06 03:13:36.579 DEBUG [src.node.waku_node] Using volumes []
2025-02-06 03:13:36.579 DEBUG [src.node.docker_mananger] docker run -i -t -p 16464:16464 -p 16465:16465 -p 16466:16466 -p 16467:16467 -p 16468:16468 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=16466 --rest-port=16464 --tcp-port=16465 --discv5-udp-port=16467 --rest-address=0.0.0.0 --nat=extip:172.18.172.135 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6b8cdfccab6db2d7eaeb5be7db7ab2fabd2e59de305be7c2be99efb17abf63a0 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-L24QETHGY87ltpIYLSzg9PmbLFXFNFGizxZGl3COcDn2oEmBRFTYNBg5aEZQER_AF5zcQhlCZ1XrsGgaU-FVQxg4CoCgmlkgnY0gmlwhKwS98iKbXVsdGlhZGRyc5YACASsEvfIBv6XAAoErBL3yAb-mN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDovRiiAdYxQaUUC1xjd3IT3lSDKf6Db2icpJD831pVOuDdGNwgv6Xg3VkcIL-mYV3YWt1MgM --storenode=/ip4/172.18.247.200/tcp/65175/p2p/16Uiu2HAmPd6Xrvi52PthAcyk5nsBMwXVkF8Tge7ugXbJsjAPJ9MU --store=true --relay=true
2025-02-06 03:13:36.828 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.172.135 waku 52698b2b68fdd8fb50c8c4b3bebce08b213cdd7298729d75513068f1a401e9f3
2025-02-06 03:13:36.885 DEBUG [src.node.docker_mananger] Container started with ID 52698b2b68fd. Setting up logs at ./log/docker/store_node1_2025-02-06_03-13-35__383d8d65-6fa0-4197-b739-582f1f3454b2__wakuorg_go-waku:latest.log
2025-02-06 03:13:36.886 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 16464
2025-02-06 03:13:36.886 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-06 03:13:37.886 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16464/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:13:37.889 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QGzPcHZkx_WNnBmEpcX44eoXNbbzu0zAGx57rVRdKoI5E8VEHkRMlGGBl-JLP10hrxnrQSs7osUFapyIcS6GZgKGAZTZP651gmlkgnY0gmlwhKwRAAWCcnODAAMAiXNlY3AyNTZrMaEDMWHn9Ulz5AddCk336bWHYO00yigy-koxOnkjae8DpkuDdGNwgkBRg3VkcIJAU4V3YWt1MgM","listenAddresses":["/ip4/127.0.0.1/tcp/16465/p2p/16Uiu2HAmFykv7DXsjfqXbA1VPsFe7JrL6nPhVkvh8XG6ZiLPsr5p","/ip4/127.0.0.1/tcp/16466/ws/p2p/16Uiu2HAmFykv7DXsjfqXbA1VPsFe7JrL6nPhVkvh8XG6ZiLPsr5p","/ip4/172.17.0.5/tcp/16465/p2p/16Uiu2HAmFykv7DXsjfqXbA1VPsFe7JrL6nPhVkvh8XG6ZiLPsr5p","/ip4/172.17.0.5/tcp/16466/ws/p2p/16Uiu2HAmFykv7DXsjfqXbA1VPsFe7JrL6nPhVkvh8XG6ZiLPsr5p"]}'
2025-02-06 03:13:37.889 INFO [src.node.waku_node] REST service is ready !!
2025-02-06 03:13:37.890 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:16464/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.247.200/tcp/65175/p2p/16Uiu2HAmPd6Xrvi52PthAcyk5nsBMwXVkF8Tge7ugXbJsjAPJ9MU", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-06 03:13:37.908 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-06 03:13:37.909 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:65174/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-06 03:13:37.930 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 03:13:37.931 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:16464/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-06 03:13:37.933 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-06 03:13:37.936 DEBUG [tests.store.test_get_messages] Running test with content topic /myapp/1/latest/proto
2025-02-06 03:13:37.937 DEBUG [src.steps.store] Relaying message
2025-02-06 03:13:37.938 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:65174/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 03:13:37.953 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 03:13:37.953 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-06 03:13:38.154 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-06 03:13:38.155 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65174/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:13:38.158 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x3dc639172296eb37fd51c0cac5ed61e8bdf845c17e8fd481d2e0454d4e79adda"}]}'
2025-02-06 03:13:38.159 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-06 03:13:38.159 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16464/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:13:38.164 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"1807560f88bf7c1c14c4307f1f283e3bcb9203a10f9785a4e4b827392c59e23b","status_code":200,"status_desc":"OK","messages":[{"message_hash":"PcY5FyKW6zf9UcDKxe1h6L34RcF+j9SB0uBFTU55rdo="}]}'
2025-02-06 03:13:38.165 DEBUG [tests.store.test_get_messages] Running test with content topic /waku/2/content/test.js
2025-02-06 03:13:38.166 DEBUG [src.steps.store] Relaying message
2025-02-06 03:13:38.166 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:65174/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-06 03:13:38.172 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 03:13:38.172 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-06 03:13:38.373 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-06 03:13:38.373 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65174/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fwaku%2F2%2Fcontent%2Ftest.js&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:13:38.377 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x61cdd1b97c56a5de3ec85c0f495ec3b36f837ba642a68a4b409846d4182be36f"}]}'
2025-02-06 03:13:38.377 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-06 03:13:38.377 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16464/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fwaku%2F2%2Fcontent%2Ftest.js&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:13:38.382 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"bca1d6e177c99dcfd3e575b31d3a7581546a717ec4c84bbe8c2222e4a6ca3821","status_code":200,"status_desc":"OK","messages":[{"message_hash":"Yc3RuXxWpd4+yFwPSV7Ds2+De6ZCpopLQJhG1Bgr428="}]}'
2025-02-06 03:13:38.383 DEBUG [tests.store.test_get_messages] Running test with content topic /app/22/sometopic/someencoding
2025-02-06 03:13:38.384 DEBUG [src.steps.store] Relaying message
2025-02-06 03:13:38.384 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:65174/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-06 03:13:38.389 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 03:13:38.389 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-06 03:13:38.590 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-06 03:13:38.590 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65174/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F22%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:13:38.594 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x88d223d0de42ae099f8785fb01428a2b61cbc919a7d532669cc8fa2ccc7a1aef"}]}'
2025-02-06 03:13:38.594 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-06 03:13:38.594 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16464/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F22%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:13:38.599 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"d60ed5604c047ef7548c11118e3e2f4aa65498e79411718123942305139a8ea6","status_code":200,"status_desc":"OK","messages":[{"message_hash":"iNIj0N5Crgmfh4X7AUKKK2HLyRmn1TJmnMj6LMx6Gu8="}]}'
2025-02-06 03:13:38.599 DEBUG [tests.store.test_get_messages] Running test with content topic /toychat/2/huilong/proto
2025-02-06 03:13:38.600 DEBUG [src.steps.store] Relaying message
2025-02-06 03:13:38.600 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:65174/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 03:13:38.605 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 03:13:38.606 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-06 03:13:38.806 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-06 03:13:38.807 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65174/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Ftoychat%2F2%2Fhuilong%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:13:38.810 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x27f6f52087b12a405b554b42c68b7f4048b5df8164ec35b44c2809d01ef48ec2"}]}'
2025-02-06 03:13:38.810 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-06 03:13:38.811 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16464/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Ftoychat%2F2%2Fhuilong%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:13:38.815 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"61bd5eef341a9cad93d252a1bf9809e8118762ecd32c91149852a58732a7ee4b","status_code":200,"status_desc":"OK","messages":[{"message_hash":"J/b1IIexKkBbVUtCxot/QEi134Fk7DW0TCgJ0B70jsI="}]}'
2025-02-06 03:13:38.816 DEBUG [tests.store.test_get_messages] Running test with content topic /statusim/1/community/cbor
2025-02-06 03:13:38.817 DEBUG [src.steps.store] Relaying message
2025-02-06 03:13:38.817 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:65174/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-06 03:13:38.822 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 03:13:38.823 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-06 03:13:39.023 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-06 03:13:39.024 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65174/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fstatusim%2F1%2Fcommunity%2Fcbor&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:13:39.027 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x415594e39371743f235a7a6b747574675647ba1714d8990a83e5a0c67b673e39"}]}'
2025-02-06 03:13:39.027 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-06 03:13:39.028 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16464/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fstatusim%2F1%2Fcommunity%2Fcbor&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:13:39.033 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"4b0a4ee957175aa8be4625a1be3ca817c017d5d387b3f4b75c99bf486079e269","status_code":200,"status_desc":"OK","messages":[{"message_hash":"QVWU45NxdD8jWnprdHV0Z1ZHuhcU2JkKg+WgxntnPjk="}]}'
2025-02-06 03:13:39.033 DEBUG [tests.store.test_get_messages] Running test with content topic /app/27/sometopic/someencoding
2025-02-06 03:13:39.034 DEBUG [src.steps.store] Relaying message
2025-02-06 03:13:39.034 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:65174/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-06 03:13:39.039 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 03:13:39.040 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-06 03:13:39.240 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-06 03:13:39.241 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65174/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F27%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:13:39.244 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x29c8047282813c0caedc9fb75113bca166a403770f638be985edd227c3192c4b"}]}'
2025-02-06 03:13:39.244 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-06 03:13:39.245 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16464/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F27%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:13:39.249 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"0e0a44b0682c82890a4c5511dadae34ccfe267e2cf21656ba182c2d04db7b734","status_code":200,"status_desc":"OK","messages":[{"message_hash":"KcgEcoKBPAyu3J+3URO8oWakA3cPY4vphe3SJ8MZLEs="}]}'
2025-02-06 03:13:39.250 DEBUG [tests.store.test_get_messages] Running test with content topic /app/29/sometopic/someencoding
2025-02-06 03:13:39.251 DEBUG [src.steps.store] Relaying message
2025-02-06 03:13:39.251 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:65174/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-06 03:13:39.256 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 03:13:39.256 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-06 03:13:39.457 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-06 03:13:39.457 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65174/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F29%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:13:39.461 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xf33772d8b7448f652646a83f868d38b2e7cb5122b4281b845cc20387fb14864d"}]}'
2025-02-06 03:13:39.461 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-06 03:13:39.462 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16464/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F29%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:13:39.467 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"6e35607c06ebc17a1d18e146de6c68360ac1cef14c7cd117b093e2c268d1648a","status_code":200,"status_desc":"OK","messages":[{"message_hash":"8zdy2LdEj2UmRqg/ho04sufLUSK0KBuEXMIDh/sUhk0="}]}'
2025-02-06 03:13:39.468 DEBUG [tests.store.test_get_messages] Running test with content topic /app/20/sometopic/someencoding
2025-02-06 03:13:39.469 DEBUG [src.steps.store] Relaying message
2025-02-06 03:13:39.469 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:65174/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-06 03:13:39.475 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 03:13:39.475 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-06 03:13:39.675 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-06 03:13:39.676 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65174/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F20%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:13:39.679 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x3c5cd0342550dd8cf652d09f675a4b8c116eaee36dadda61745bc70e9ee3bb80"}]}'
2025-02-06 03:13:39.680 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-06 03:13:39.680 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16464/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F20%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:13:39.685 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"2a1873259fcaf14fab00f5245a7ca6a36f6f10bcf5e1be33dad9a662382b37c0","status_code":200,"status_desc":"OK","messages":[{"message_hash":"PFzQNCVQ3Yz2UtCfZ1pLjBFuruNtrdphdFvHDp7ju4A="}]}'
2025-02-06 03:13:39.688 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-06 03:13:39.690 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-06 03:13:39.690 DEBUG [src.node.waku_node] Stopping container with id 0cb276df880b
2025-02-06 03:13:41.113 DEBUG [src.node.waku_node] Container stopped.
2025-02-06 03:13:41.115 DEBUG [src.node.waku_node] Stopping container with id 52698b2b68fd
2025-02-06 03:13:41.646 DEBUG [src.node.waku_node] Container stopped.
2025-02-06 03:13:41.647 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-06 03:13:41.657 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-06 03:13:41.661 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
