2025-02-06 03:07:50.266 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-06 03:07:50.266 DEBUG [tests.conftest] Running test: test_time_filter_matches_no_message with id: 2025-02-06_03-07-50__145ed605-d439-4467-ae17-7b3eab333c39
2025-02-06 03:07:50.267 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-06 03:07:50.267 DEBUG [src.steps.store] Running fixture setup: store_setup
2025-02-06 03:07:50.267 DEBUG [src.steps.store] Running fixture setup: node_setup
2025-02-06 03:07:50.273 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-06 03:07:50.274 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-06_03-07-50__145ed605-d439-4467-ae17-7b3eab333c39__wakuorg_nwaku:latest.log
2025-02-06 03:07:50.274 DEBUG [src.node.waku_node] Starting Node...
2025-02-06 03:07:50.274 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-06 03:07:50.275 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-06 03:07:50.275 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.217.48
2025-02-06 03:07:50.276 DEBUG [src.node.docker_mananger] Generated ports ['14381', '14382', '14383', '14384', '14385']
2025-02-06 03:07:50.276 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-06 03:07:50.276 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-06 03:07:50.276 DEBUG [src.node.waku_node] Using volumes []
2025-02-06 03:07:50.276 DEBUG [src.node.docker_mananger] docker run -i -t -p 14381:14381 -p 14382:14382 -p 14383:14383 -p 14384:14384 -p 14385:14385 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=14383 --rest-port=14381 --tcp-port=14382 --discv5-udp-port=14384 --rest-address=0.0.0.0 --nat=extip:172.18.217.48 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=afdadd74f4fdbbdc818102e06fc3a1db7df76e1f020d44edc0ce32a1ec6b94f7 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=14385 --metrics-logging=true --store=true --relay=true
2025-02-06 03:07:50.512 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.217.48 waku d7b79648fd4ba5efe5dca0657509cbd79523fe6a302a43e1123df9858c41868e
2025-02-06 03:07:50.566 DEBUG [src.node.docker_mananger] Container started with ID d7b79648fd4b. Setting up logs at ./log/docker/publishing_node1_2025-02-06_03-07-50__145ed605-d439-4467-ae17-7b3eab333c39__wakuorg_nwaku:latest.log
2025-02-06 03:07:50.568 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 14381
2025-02-06 03:07:50.569 ERROR [src.node.docker_mananger] Max retries reached for container ce75b1450c3a. Exiting log stream.
2025-02-06 03:07:50.570 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-06 03:07:51.069 ERROR [src.node.docker_mananger] Max retries reached for container 51d34d3eebea. Exiting log stream.
2025-02-06 03:07:51.570 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:14381/health" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:07:51.573 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-06 03:07:51.573 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-06 03:07:51.573 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:14381/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:07:51.575 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.217.48/tcp/14382/p2p/16Uiu2HAkytPp8rREhKpPDJTcjjXym5BSqYFFuoajcAq6Rozdhdbk","/ip4/172.18.217.48/tcp/14383/ws/p2p/16Uiu2HAkytPp8rREhKpPDJTcjjXym5BSqYFFuoajcAq6Rozdhdbk"],"enrUri":"enr:-L24QOYRuChOa3zLtCRptLvz17gwnt4_1j2clqKAeC9WcPXgOaz5Jj1mucSckFMUJfdqHDlg9XzKcGXXfxnyohfwM7kCgmlkgnY0gmlwhKwS2TCKbXVsdGlhZGRyc5YACASsEtkwBjguAAoErBLZMAY4L90DgnJzhQADAQAAiXNlY3AyNTZrMaECQkcmZ_8H7jDkKtZ402B1sPJpeAADtSjiuROkQeMMGo-DdGNwgjgug3VkcII4MIV3YWt1MgM"}'
2025-02-06 03:07:51.576 INFO [src.node.waku_node] REST service is ready !!
2025-02-06 03:07:51.582 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-06 03:07:51.582 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-06_03-07-50__145ed605-d439-4467-ae17-7b3eab333c39__wakuorg_go-waku:latest.log
2025-02-06 03:07:51.582 DEBUG [src.node.waku_node] Starting Node...
2025-02-06 03:07:51.582 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-06 03:07:51.584 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-06 03:07:51.584 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.12.10
2025-02-06 03:07:51.584 DEBUG [src.node.docker_mananger] Generated ports ['56829', '56830', '56831', '56832', '56833']
2025-02-06 03:07:51.584 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-06 03:07:51.584 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-06 03:07:51.585 DEBUG [src.node.waku_node] Using volumes []
2025-02-06 03:07:51.585 DEBUG [src.node.docker_mananger] docker run -i -t -p 56829:56829 -p 56830:56830 -p 56831:56831 -p 56832:56832 -p 56833:56833 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=56831 --rest-port=56829 --tcp-port=56830 --discv5-udp-port=56832 --rest-address=0.0.0.0 --nat=extip:172.18.12.10 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7c5fc07b4f8abbcc9c079bdb6d722c98c03b44bf1f19d46bfcdc5dbf54bf48d9 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-L24QOYRuChOa3zLtCRptLvz17gwnt4_1j2clqKAeC9WcPXgOaz5Jj1mucSckFMUJfdqHDlg9XzKcGXXfxnyohfwM7kCgmlkgnY0gmlwhKwS2TCKbXVsdGlhZGRyc5YACASsEtkwBjguAAoErBLZMAY4L90DgnJzhQADAQAAiXNlY3AyNTZrMaECQkcmZ_8H7jDkKtZ402B1sPJpeAADtSjiuROkQeMMGo-DdGNwgjgug3VkcII4MIV3YWt1MgM --storenode=/ip4/172.18.217.48/tcp/14382/p2p/16Uiu2HAkytPp8rREhKpPDJTcjjXym5BSqYFFuoajcAq6Rozdhdbk --store=true --relay=true
2025-02-06 03:07:51.815 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.12.10 waku 71f969ec25a30f7284247c9dd806b5ba8e08a6eac6b312456992b2499f0eef0e
2025-02-06 03:07:51.865 DEBUG [src.node.docker_mananger] Container started with ID 71f969ec25a3. Setting up logs at ./log/docker/store_node1_2025-02-06_03-07-50__145ed605-d439-4467-ae17-7b3eab333c39__wakuorg_go-waku:latest.log
2025-02-06 03:07:51.866 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 56829
2025-02-06 03:07:51.867 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-06 03:07:52.867 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56829/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:07:52.870 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QEGtbmJnrSsvaxiuPvGclvF02bKhsZkzpuW_FgeRLWx_Gr-hJULrfflDhCGeAU_YkOQWbj4Kk2mcjyRfTJ67kxOGAZTZOmq9gmlkgnY0gmlwhKwRAAOCcnODAAMAiXNlY3AyNTZrMaECbEXsr4-7HM-5Pz-XtEGzjRvygWxSLM_gssj4WSxgqH-DdGNwgt3-g3VkcILeAIV3YWt1MgM","listenAddresses":["/ip4/127.0.0.1/tcp/56830/p2p/16Uiu2HAm2iKrRi6xNu4shmW4NfH5AHfFT9fcENmNv5Q9wyXfTBgJ","/ip4/127.0.0.1/tcp/56831/ws/p2p/16Uiu2HAm2iKrRi6xNu4shmW4NfH5AHfFT9fcENmNv5Q9wyXfTBgJ","/ip4/172.17.0.3/tcp/56830/p2p/16Uiu2HAm2iKrRi6xNu4shmW4NfH5AHfFT9fcENmNv5Q9wyXfTBgJ","/ip4/172.17.0.3/tcp/56831/ws/p2p/16Uiu2HAm2iKrRi6xNu4shmW4NfH5AHfFT9fcENmNv5Q9wyXfTBgJ"]}'
2025-02-06 03:07:52.871 INFO [src.node.waku_node] REST service is ready !!
2025-02-06 03:07:52.871 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56829/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.217.48/tcp/14382/p2p/16Uiu2HAkytPp8rREhKpPDJTcjjXym5BSqYFFuoajcAq6Rozdhdbk", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-06 03:07:52.887 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-06 03:07:52.888 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14381/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-06 03:07:52.910 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 03:07:52.911 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56829/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-06 03:07:52.913 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-06 03:07:52.915 DEBUG [src.steps.store] Relaying message
2025-02-06 03:07:52.915 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14381/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 03:07:52.928 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 03:07:52.928 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-06 03:07:53.129 DEBUG [src.steps.store] Relaying message
2025-02-06 03:07:53.129 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14381/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 03:07:53.136 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 03:07:53.137 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-06 03:07:53.337 DEBUG [src.steps.store] Relaying message
2025-02-06 03:07:53.337 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14381/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 03:07:53.343 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 03:07:53.343 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-06 03:07:53.544 DEBUG [src.steps.store] Relaying message
2025-02-06 03:07:53.544 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14381/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 03:07:53.550 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 03:07:53.550 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-06 03:07:53.751 DEBUG [src.steps.store] Relaying message
2025-02-06 03:07:53.751 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14381/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 03:07:53.757 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 03:07:53.758 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-06 03:07:53.958 DEBUG [src.steps.store] Relaying message
2025-02-06 03:07:53.958 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14381/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 03:07:53.964 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 03:07:53.964 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-06 03:07:54.165 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:14381/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1738811269914619232&endTime=1738811269914719132&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:07:54.168 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[]}'
2025-02-06 03:07:54.169 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56829/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&startTime=1738811269914619232&endTime=1738811269914719132&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-06 03:07:54.174 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"17363c891787ea0a08d9009b5f5d617739ed15c8a18d4272a617bf19bfd45028","status_code":200,"status_desc":"OK"}'
2025-02-06 03:07:54.176 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-06 03:07:54.177 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-06 03:07:54.177 DEBUG [src.node.waku_node] Stopping container with id d7b79648fd4b
2025-02-06 03:07:54.733 DEBUG [src.node.waku_node] Container stopped.
2025-02-06 03:07:54.734 DEBUG [src.node.waku_node] Stopping container with id 71f969ec25a3
2025-02-06 03:07:55.248 DEBUG [src.node.waku_node] Container stopped.
2025-02-06 03:07:55.260 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-06 03:07:55.267 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-06 03:07:55.270 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
