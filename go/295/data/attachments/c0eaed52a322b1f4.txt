[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_different_page_size[1] with id: 2024-09-30_03-34-08__c13430dd-fec5-43eb-b600-4af1a2ba245e
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-09-30_03-34-08__c13430dd-fec5-43eb-b600-4af1a2ba245e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.21.164
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['63374', '63375', '63376', '63377', '63378']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 63374:63374 -p 63375:63375 -p 63376:63376 -p 63377:63377 -p 63378:63378 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=63376 --rest-port=63374 --tcp-port=63375 --discv5-udp-port=63377 --rest-address=0.0.0.0 --nat=extip:172.18.21.164 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dc1a22bb8a47ec32cf211e190d1de6bdc20079454d65d0b0dffc9cd2a2dc59f4 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=63378 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.21.164 waku 27e9d9fa9659be1154da5586062768639ca94a1b39a0053687e6d26c241c250e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 27e9d9fa9659. Setting up logs at ./log/docker/publishing_node1_2024-09-30_03-34-08__c13430dd-fec5-43eb-b600-4af1a2ba245e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 63374
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63374/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63374/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.21.164/tcp/63375/p2p/16Uiu2HAmUifwpEPv7k9eqbZYpZtcRJpKeRJgpGjeUeRY3V8QuQ3V","/ip4/172.18.21.164/tcp/63376/ws/p2p/16Uiu2HAmUifwpEPv7k9eqbZYpZtcRJpKeRJgpGjeUeRY3V8QuQ3V"],"enrUri":"enr:-LO4QK037n4N0GIPILt-F6OCkbufeU5l623tLMfx_U6_g_vJInDmEl8ZZgSjgPTU4hWLoxfMUJ0aATiK2qVo7X6ZHwkBgmlkgnY0gmlwhKwSFaSKbXVsdGlhZGRyc4wACgSsEhWkBveQ3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPurID2IpNuudNA2NLU3DDtAbd4ufbu8XnMy83dtmoxvIN0Y3CC94-DdWRwgveRhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-09-30_03-34-08__c13430dd-fec5-43eb-b600-4af1a2ba245e__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.243.137
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['19706', '19707', '19708', '19709', '19710']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 19706:19706 -p 19707:19707 -p 19708:19708 -p 19709:19709 -p 19710:19710 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=19708 --rest-port=19706 --tcp-port=19707 --discv5-udp-port=19709 --rest-address=0.0.0.0 --nat=extip:172.18.243.137 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ea4bdd2d5da4efeeabbdab5d1e7b593eb530055e780a3851ca4ce77aa19ae0bf --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-LO4QK037n4N0GIPILt-F6OCkbufeU5l623tLMfx_U6_g_vJInDmEl8ZZgSjgPTU4hWLoxfMUJ0aATiK2qVo7X6ZHwkBgmlkgnY0gmlwhKwSFaSKbXVsdGlhZGRyc4wACgSsEhWkBveQ3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPurID2IpNuudNA2NLU3DDtAbd4ufbu8XnMy83dtmoxvIN0Y3CC94-DdWRwgveRhXdha3UyAw --storenode=/ip4/172.18.21.164/tcp/63375/p2p/16Uiu2HAmUifwpEPv7k9eqbZYpZtcRJpKeRJgpGjeUeRY3V8QuQ3V --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.243.137 waku 547242f617ff6a3eb761923bd3b6708b1f70d59c7de66740f3864e4632c34c92
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 547242f617ff. Setting up logs at ./log/docker/store_node1_2024-09-30_03-34-08__c13430dd-fec5-43eb-b600-4af1a2ba245e__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 19706
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19706/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QFNezbAitYrzE9WIBsPN9a4agr8ZzzAZKco1yGFx4z7STXHJ-DgQpT1jmf4BuD0JBsqDbq4ts96XqcZsYiwmV42GAZJA_ifRgmlkgnY0gmlwhKwRAAOJc2VjcDI1NmsxoQMsv6Jrvht0VCiTVEFxA5Tz_6wXT4JNDIRQkKk_yiNxnIN0Y3CCTPuDdWRwgkz9hXdha3UyAw","listenAddresses":["/ip4/127.0.0.1/tcp/19707/p2p/16Uiu2HAmFffmiduCp3kgijMv7PC2g3u3uQeVPSXQoJHbK22R2oCX","/ip4/127.0.0.1/tcp/19708/ws/p2p/16Uiu2HAmFffmiduCp3kgijMv7PC2g3u3uQeVPSXQoJHbK22R2oCX","/ip4/172.17.0.3/tcp/19707/p2p/16Uiu2HAmFffmiduCp3kgijMv7PC2g3u3uQeVPSXQoJHbK22R2oCX","/ip4/172.17.0.3/tcp/19708/ws/p2p/16Uiu2HAmFffmiduCp3kgijMv7PC2g3u3uQeVPSXQoJHbK22R2oCX"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19706/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.21.164/tcp/63375/p2p/16Uiu2HAmUifwpEPv7k9eqbZYpZtcRJpKeRJgpGjeUeRY3V8QuQ3V", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63374/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19706/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63374/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8w", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63374/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8x", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63374/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=1&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"jonPbXukb74WtpJqyh2CH8+xTITLhMT0sPHRgHvH4IU="}],"paginationCursor":"jonPbXukb74WtpJqyh2CH8+xTITLhMT0sPHRgHvH4IU="}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19706/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=1&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"1ecd889947edf1fcfa75603e41c92d22cfa15c6e40262528c1f17760276ccdbd","status_code":200,"status_desc":"OK","messages":[{"message_hash":"jonPbXukb74WtpJqyh2CH8+xTITLhMT0sPHRgHvH4IU="}],"pagination_cursor":"jonPbXukb74WtpJqyh2CH8+xTITLhMT0sPHRgHvH4IU="}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 27e9d9fa9659
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 547242f617ff
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.