[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_many_subscribed_nodes with id: 2024-11-06_08-44-47__0f9060f7-0cdf-4d52-a9be-d12c2c3be681
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-06_08-44-47__0f9060f7-0cdf-4d52-a9be-d12c2c3be681__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-06_08-44-47__0f9060f7-0cdf-4d52-a9be-d12c2c3be681__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-06_08-44-47__0f9060f7-0cdf-4d52-a9be-d12c2c3be681__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:266 Start 2 nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.138.75
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['64582', '64583', '64584', '64585', '64586']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:435 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:164 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:166 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 64582:64582 -p 64583:64583 -p 64584:64584 -p 64585:64585 -p 64586:64586 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=64584 --rest-port=64582 --tcp-port=64583 --discv5-udp-port=64585 --rest-address=0.0.0.0 --nat=extip:172.18.138.75 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7dd0063ce8f2a3a28ad18af1512ee46e4ffce58f9762ff55f0c9ffdaece5e33d --max-connections=1000 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --store=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.138.75 waku bdc40c28c9eb78834d1784e5ddc1b99493df23a1140ac8c2f4e712004e05121c
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container e92fd47d1fb2. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID bdc40c28c9eb. Setting up logs at ./log/docker/node1_2024-11-06_08-44-47__0f9060f7-0cdf-4d52-a9be-d12c2c3be681__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:178 Started container from image wakuorg/go-waku:latest. REST: 64582
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64582/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QK4ZE200kIGKvuI62Qps3Ch-71rDbu9MnUMlSzReiygwLviZzYYDBVI0EBYHs_C7B92rJ9ol9ABvnk0D-Irj0N-GAZMApdQdgmlkgnY0gmlwhKwRABaJc2VjcDI1NmsxoQLBgtFzp2c67xb0wu_-mkXpYo4Z4b9i4hptiPFcC4f5_YN0Y3CC_EeDdWRwgvxJhXdha3UyAw","listenAddresses":["/ip4/127.0.0.1/tcp/64583/p2p/16Uiu2HAm8T4Mwm7ef2Ws7xYV8QpcJzdBLxp5TqpMP1V6qrLhXGaQ","/ip4/127.0.0.1/tcp/64584/ws/p2p/16Uiu2HAm8T4Mwm7ef2Ws7xYV8QpcJzdBLxp5TqpMP1V6qrLhXGaQ","/ip4/172.17.0.22/tcp/64583/p2p/16Uiu2HAm8T4Mwm7ef2Ws7xYV8QpcJzdBLxp5TqpMP1V6qrLhXGaQ","/ip4/172.17.0.22/tcp/64584/ws/p2p/16Uiu2HAm8T4Mwm7ef2Ws7xYV8QpcJzdBLxp5TqpMP1V6qrLhXGaQ"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:283 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.217.32
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['16834', '16835', '16836', '16837', '16838']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:435 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:164 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:166 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 16834:16834 -p 16835:16835 -p 16836:16836 -p 16837:16837 -p 16838:16838 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=16836 --rest-port=16834 --tcp-port=16835 --discv5-udp-port=16837 --rest-address=0.0.0.0 --nat=extip:172.18.217.32 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d8d87f2bb6a852cfcfb5c8d00aafc0f0a6b4db22016feb8a8c43f8cecbbe7ffb --max-connections=1000 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=16838 --metrics-logging=true --relay=true --filter=true --store=false --discv5-bootstrap-node=enr:-Ji4QK4ZE200kIGKvuI62Qps3Ch-71rDbu9MnUMlSzReiygwLviZzYYDBVI0EBYHs_C7B92rJ9ol9ABvnk0D-Irj0N-GAZMApdQdgmlkgnY0gmlwhKwRABaJc2VjcDI1NmsxoQLBgtFzp2c67xb0wu_-mkXpYo4Z4b9i4hptiPFcC4f5_YN0Y3CC_EeDdWRwgvxJhXdha3UyAw
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.217.32 waku b7cf91ae80c07675b90f7eb28e9f96474cafffe2921d0d41bdbb4ea962f39aad
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID b7cf91ae80c0. Setting up logs at ./log/docker/node2_2024-11-06_08-44-47__0f9060f7-0cdf-4d52-a9be-d12c2c3be681__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:178 Started container from image wakuorg/nwaku:latest. REST: 16834
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16834/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:278 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16834/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.217.32/tcp/16835/p2p/16Uiu2HAm5J5rXBC27KCUnKvdaKYgQhpMdvdrDMLFzJFZYQosoLAZ","/ip4/172.18.217.32/tcp/16836/ws/p2p/16Uiu2HAm5J5rXBC27KCUnKvdaKYgQhpMdvdrDMLFzJFZYQosoLAZ"],"enrUri":"enr:-L24QH-YtvfIk026iARZUt_dUVWoPqibl4-jq7fOVSIDYCgPJtBE8oWNt7OWZuW8-1qcTWRfsAMuniWg73q_M3Uzr6ECgmlkgnY0gmlwhKwS2SCKbXVsdGlhZGRyc5YACASsEtkgBkHDAAoErBLZIAZBxN0DgnJzhQADAQAAiXNlY3AyNTZrMaECkqM3yHCCfdg-uXUeCrm2swvOvzv7Zk2i878Zk8GPzCaDdGNwgkHDg3VkcIJBxYV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:283 REST service is ready !!
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:270 Subscribe nodes to relay  pubsub topic /waku/2/rs/3/1
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:64582/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16834/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64582/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"id":"16Uiu2HAm5J5rXBC27KCUnKvdaKYgQhpMdvdrDMLFzJFZYQosoLAZ","multiaddrs":["/ip4/172.18.217.32/tcp/16835/p2p/16Uiu2HAm5J5rXBC27KCUnKvdaKYgQhpMdvdrDMLFzJFZYQosoLAZ","/ip4/172.18.217.32/tcp/16836/ws/p2p/16Uiu2HAm5J5rXBC27KCUnKvdaKYgQhpMdvdrDMLFzJFZYQosoLAZ"],"protocols":["/vac/waku/relay/2.0.0","/vac/waku/filter-subscribe/2.0.0-beta1"],"connected":false,"pubsubTopics":[]}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16834/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64582/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"id":"16Uiu2HAm5J5rXBC27KCUnKvdaKYgQhpMdvdrDMLFzJFZYQosoLAZ","multiaddrs":["/ip4/172.18.217.32/tcp/16835/p2p/16Uiu2HAm5J5rXBC27KCUnKvdaKYgQhpMdvdrDMLFzJFZYQosoLAZ","/ip4/172.18.217.32/tcp/16836/ws/p2p/16Uiu2HAm5J5rXBC27KCUnKvdaKYgQhpMdvdrDMLFzJFZYQosoLAZ"],"protocols":["/vac/waku/relay/2.0.0","/vac/waku/filter-subscribe/2.0.0-beta1"],"connected":false,"pubsubTopics":[]}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16834/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64582/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"id":"16Uiu2HAm5J5rXBC27KCUnKvdaKYgQhpMdvdrDMLFzJFZYQosoLAZ","multiaddrs":["/ip4/172.18.217.32/tcp/16836/ws/p2p/16Uiu2HAm5J5rXBC27KCUnKvdaKYgQhpMdvdrDMLFzJFZYQosoLAZ","/ip4/172.18.217.32/tcp/16835/p2p/16Uiu2HAm5J5rXBC27KCUnKvdaKYgQhpMdvdrDMLFzJFZYQosoLAZ"],"protocols":["/vac/waku/filter-subscribe/2.0.0-beta1","/vac/waku/relay/2.0.0"],"connected":false,"pubsubTopics":[]}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16834/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64582/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"id":"16Uiu2HAm5J5rXBC27KCUnKvdaKYgQhpMdvdrDMLFzJFZYQosoLAZ","multiaddrs":["/ip4/172.18.217.32/tcp/16835/p2p/16Uiu2HAm5J5rXBC27KCUnKvdaKYgQhpMdvdrDMLFzJFZYQosoLAZ","/ip4/172.18.217.32/tcp/16836/ws/p2p/16Uiu2HAm5J5rXBC27KCUnKvdaKYgQhpMdvdrDMLFzJFZYQosoLAZ"],"protocols":["/vac/waku/relay/2.0.0","/vac/waku/filter-subscribe/2.0.0-beta1"],"connected":true,"pubsubTopics":["/waku/2/rs/3/0","/waku/2/rs/3/1"]}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16834/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"multiaddr":"/ip4/172.17.0.22/tcp/64583/p2p/16Uiu2HAm8T4Mwm7ef2Ws7xYV8QpcJzdBLxp5TqpMP1V6qrLhXGaQ","protocols":[{"protocol":"/vac/waku/relay/2.0.0","connected":true},{"protocol":"/vac/waku/store-query/3.0.0","connected":true}],"origin":"Discv5"}]'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 30 seconds
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:276 30 Node start and making filter requests to node2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node0_2024-11-06_08-44-47__0f9060f7-0cdf-4d52-a9be-d12c2c3be681__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.157.138
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['35701', '35702', '35703', '35704', '35705']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:435 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:164 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:166 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 35701:35701 -p 35702:35702 -p 35703:35703 -p 35704:35704 -p 35705:35705 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=35703 --rest-port=35701 --tcp-port=35702 --discv5-udp-port=35704 --rest-address=0.0.0.0 --nat=extip:172.18.157.138 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cecebce6fdae1ce47f7bdaad9ba0e08eb19eaa4fea5b31d5badedcbd1f9edb3b --max-connections=1000 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --filter=true --filternode=/ip4/172.18.217.32/tcp/16835/p2p/16Uiu2HAm5J5rXBC27KCUnKvdaKYgQhpMdvdrDMLFzJFZYQosoLAZ --store=false
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.199.2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['55896', '55897', '55898', '55899', '55900']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:435 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:164 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:166 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 55896:55896 -p 55897:55897 -p 55898:55898 -p 55899:55899 -p 55900:55900 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=55898 --rest-port=55896 --tcp-port=55897 --discv5-udp-port=55899 --rest-address=0.0.0.0 --nat=extip:172.18.199.2 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e503c6c9bb1a9c8b73d0eff461d9cfcc38ae71796526fadaa48b53bbf3179c61 --max-connections=1000 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --filter=true --filternode=/ip4/172.18.217.32/tcp/16835/p2p/16Uiu2HAm5J5rXBC27KCUnKvdaKYgQhpMdvdrDMLFzJFZYQosoLAZ --store=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.199.2 waku ed4d32fda93000c4142728997f57a1b50bf49c8549a4aa0cbcf3cf4d921a94dd
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID ed4d32fda930. Setting up logs at ./log/docker/node0_2024-11-06_08-44-47__0f9060f7-0cdf-4d52-a9be-d12c2c3be681__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:178 Started container from image wakuorg/go-waku:latest. REST: 55896
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55896/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.waku_node:waku_node.py:184 REST service did not become ready in time: HTTPConnectionPool(host='127.0.0.1', port=55896): Max retries exceeded with url: /debug/v1/info (Caused by ConnectTimeoutError(<urllib3.connection.HTTPConnection object at 0x7fabbdb16ab0>, 'Connection to 127.0.0.1 timed out. (connect timeout=20)'))
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.129.243
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['16082', '16083', '16084', '16085', '16086']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:435 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:164 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:166 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 16082:16082 -p 16083:16083 -p 16084:16084 -p 16085:16085 -p 16086:16086 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=16084 --rest-port=16082 --tcp-port=16083 --discv5-udp-port=16085 --rest-address=0.0.0.0 --nat=extip:172.18.129.243 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6bc5d9a05e6b71dbe3eb91e6ce2904f9dcdcccfecdabbecfce0ae910e64bbbac --max-connections=1000 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --filter=true --filternode=/ip4/172.18.217.32/tcp/16835/p2p/16Uiu2HAm5J5rXBC27KCUnKvdaKYgQhpMdvdrDMLFzJFZYQosoLAZ --store=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.129.243 waku a426dde04c8d4ec8a643f785264865ce2aa3f8d74e1a6a99236105be66b3f3ba
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID a426dde04c8d. Setting up logs at ./log/docker/node0_2024-11-06_08-44-47__0f9060f7-0cdf-4d52-a9be-d12c2c3be681__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:178 Started container from image wakuorg/go-waku:latest. REST: 16082
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16082/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.waku_node:waku_node.py:184 REST service did not become ready in time: HTTPConnectionPool(host='127.0.0.1', port=16082): Max retries exceeded with url: /debug/v1/info (Caused by ConnectTimeoutError(<urllib3.connection.HTTPConnection object at 0x7fabbdb8cec0>, 'Connection to 127.0.0.1 timed out. (connect timeout=20)'))
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.135.133
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['8666', '8667', '8668', '8669', '8670']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:435 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:164 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:166 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 8666:8666 -p 8667:8667 -p 8668:8668 -p 8669:8669 -p 8670:8670 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=8668 --rest-port=8666 --tcp-port=8667 --discv5-udp-port=8669 --rest-address=0.0.0.0 --nat=extip:172.18.135.133 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f82b50aef47e0cfb156ae7aaae2c03d2ff02eefe97be77cfa5c8758b66f76a7c --max-connections=1000 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --filter=true --filternode=/ip4/172.18.217.32/tcp/16835/p2p/16Uiu2HAm5J5rXBC27KCUnKvdaKYgQhpMdvdrDMLFzJFZYQosoLAZ --store=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.135.133 waku e0c918e59586d865e9763da9b267ecda575de1855b5a28709bbe92792bf7d9e6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID e0c918e59586. Setting up logs at ./log/docker/node0_2024-11-06_08-44-47__0f9060f7-0cdf-4d52-a9be-d12c2c3be681__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:178 Started container from image wakuorg/go-waku:latest. REST: 8666
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8666/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QNZUCWRHkg4vzlUmhH5D49FPFfLK0v9grDstl8MU5fVoJ0QwFnQSGlDAk7Sdc-VNbursEtkdHcryMf-qj6DEWeuGAZMApw52gmlkgnY0gmlwhKwRACmJc2VjcDI1NmsxoQOiWcfWGA9BDb1qCj5mSS-RfRZ7D80UZ4sNmQmY4HQK2oN0Y3CCIduDdWRwgiHdhXdha3UyBA","listenAddresses":["/ip4/127.0.0.1/tcp/8667/p2p/16Uiu2HAmPajoMmJX34aJeoKMQnH2bTatXiycArFbNBwLpbmSNgTb","/ip4/127.0.0.1/tcp/8668/ws/p2p/16Uiu2HAmPajoMmJX34aJeoKMQnH2bTatXiycArFbNBwLpbmSNgTb","/ip4/172.17.0.41/tcp/8667/p2p/16Uiu2HAmPajoMmJX34aJeoKMQnH2bTatXiycArFbNBwLpbmSNgTb","/ip4/172.17.0.41/tcp/8668/ws/p2p/16Uiu2HAmPajoMmJX34aJeoKMQnH2bTatXiycArFbNBwLpbmSNgTb"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:283 REST service is ready !!
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8666/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:222 Stopping container with id bdc40c28c9eb
[35mDEBUG   [0m src.node.waku_node:waku_node.py:229 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:222 Stopping container with id b7cf91ae80c0
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container bdc40c28c9eb. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:229 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:222 Stopping container with id e0c918e59586
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container b7cf91ae80c0. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:229 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node2_2024-11-06_08-44-47__0f9060f7-0cdf-4d52-a9be-d12c2c3be681__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node0_2024-11-06_08-44-47__0f9060f7-0cdf-4d52-a9be-d12c2c3be681__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node1_2024-11-06_08-44-47__0f9060f7-0cdf-4d52-a9be-d12c2c3be681__wakuorg_go-waku:latest.log
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_many_subscribed_nodes with id: 2024-11-06_08-46-51__e81ab3a3-9715-434b-ab77-7ffb53e8d281
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-06_08-46-51__e81ab3a3-9715-434b-ab77-7ffb53e8d281__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-06_08-46-51__e81ab3a3-9715-434b-ab77-7ffb53e8d281__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-06_08-46-51__e81ab3a3-9715-434b-ab77-7ffb53e8d281__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:266 Start 2 nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.149.91
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['1092', '1093', '1094', '1095', '1096']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:435 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:164 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:166 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 1092:1092 -p 1093:1093 -p 1094:1094 -p 1095:1095 -p 1096:1096 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=1094 --rest-port=1092 --tcp-port=1093 --discv5-udp-port=1095 --rest-address=0.0.0.0 --nat=extip:172.18.149.91 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f493c728f0874eb3baecd53f5a0934079beabb6ed497a4865da7ddcd0a211a2b --max-connections=1000 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --store=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.149.91 waku 527b17fab3e7e32b2f89221b89e5a7c0ff3aeb3d9e1db52d0cbf60e068285e67
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 527b17fab3e7. Setting up logs at ./log/docker/node1_2024-11-06_08-46-51__e81ab3a3-9715-434b-ab77-7ffb53e8d281__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:178 Started container from image wakuorg/go-waku:latest. REST: 1092
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container e0c918e59586. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1092/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QGXjr4C2NsJLNq3erS2gGT1gO6Q5af7kpsF1bkOiiuQwdBLsxLwPo2-l1Q4zcVLQTGCpSSHV9cOk71CGkKPSG_eGAZMAp7j4gmlkgnY0gmlwhKwRACmJc2VjcDI1NmsxoQKKx__4mX9bG9-jWr05cYqMaZQw9gwhGOL1qJnl6jAXeoN0Y3CCBEWDdWRwggRHhXdha3UyAw","listenAddresses":["/ip4/127.0.0.1/tcp/1093/p2p/16Uiu2HAm4mR86iftxG4V3tJ8ifFBadgkrZuoBGs9GaxXpH8HjLiM","/ip4/127.0.0.1/tcp/1094/ws/p2p/16Uiu2HAm4mR86iftxG4V3tJ8ifFBadgkrZuoBGs9GaxXpH8HjLiM","/ip4/172.17.0.41/tcp/1093/p2p/16Uiu2HAm4mR86iftxG4V3tJ8ifFBadgkrZuoBGs9GaxXpH8HjLiM","/ip4/172.17.0.41/tcp/1094/ws/p2p/16Uiu2HAm4mR86iftxG4V3tJ8ifFBadgkrZuoBGs9GaxXpH8HjLiM"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:283 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.135.191
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['15810', '15811', '15812', '15813', '15814']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:435 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:164 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:166 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 15810:15810 -p 15811:15811 -p 15812:15812 -p 15813:15813 -p 15814:15814 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=15812 --rest-port=15810 --tcp-port=15811 --discv5-udp-port=15813 --rest-address=0.0.0.0 --nat=extip:172.18.135.191 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fccbce14bd72f0b1c75ab220e1f6df003b90c279bfb21bb0c876a3fa1c4321df --max-connections=1000 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=15814 --metrics-logging=true --relay=true --filter=true --store=false --discv5-bootstrap-node=enr:-Ji4QGXjr4C2NsJLNq3erS2gGT1gO6Q5af7kpsF1bkOiiuQwdBLsxLwPo2-l1Q4zcVLQTGCpSSHV9cOk71CGkKPSG_eGAZMAp7j4gmlkgnY0gmlwhKwRACmJc2VjcDI1NmsxoQKKx__4mX9bG9-jWr05cYqMaZQw9gwhGOL1qJnl6jAXeoN0Y3CCBEWDdWRwggRHhXdha3UyAw
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.135.191 waku 734c77789deb830e6cd4b1ed1095981e3e8723fe3ba44b93d78b9fb125c9c402
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 734c77789deb. Setting up logs at ./log/docker/node2_2024-11-06_08-46-51__e81ab3a3-9715-434b-ab77-7ffb53e8d281__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:178 Started container from image wakuorg/nwaku:latest. REST: 15810
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15810/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:278 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15810/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.135.191/tcp/15811/p2p/16Uiu2HAmNRGSa4aUTLD6BughhR9th8sTcdV3YEKMrmiWTVQ8fCun","/ip4/172.18.135.191/tcp/15812/ws/p2p/16Uiu2HAmNRGSa4aUTLD6BughhR9th8sTcdV3YEKMrmiWTVQ8fCun"],"enrUri":"enr:-L24QOTwLptiIS_SPbWtmb2HcktYQsjpuxiYXHgm-zxKgpWOB50BkV62McHJJiD0q4TMVptt9-lw4JFaNlQ78CyICGwCgmlkgnY0gmlwhKwSh7-KbXVsdGlhZGRyc5YACASsEoe_Bj3DAAoErBKHvwY9xN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDkRDuoR_TCqGBG6l-VM5dXDak08a_phXQ0-UG-tx_qkGDdGNwgj3Dg3VkcII9xYV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:283 REST service is ready !!
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:270 Subscribe nodes to relay  pubsub topic /waku/2/rs/3/1
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1092/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15810/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1092/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"id":"16Uiu2HAmNRGSa4aUTLD6BughhR9th8sTcdV3YEKMrmiWTVQ8fCun","multiaddrs":["/ip4/172.18.135.191/tcp/15812/ws/p2p/16Uiu2HAmNRGSa4aUTLD6BughhR9th8sTcdV3YEKMrmiWTVQ8fCun","/ip4/172.18.135.191/tcp/15811/p2p/16Uiu2HAmNRGSa4aUTLD6BughhR9th8sTcdV3YEKMrmiWTVQ8fCun"],"protocols":["/vac/waku/relay/2.0.0","/vac/waku/filter-subscribe/2.0.0-beta1"],"connected":false,"pubsubTopics":[]}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15810/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1092/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"id":"16Uiu2HAmNRGSa4aUTLD6BughhR9th8sTcdV3YEKMrmiWTVQ8fCun","multiaddrs":["/ip4/172.18.135.191/tcp/15811/p2p/16Uiu2HAmNRGSa4aUTLD6BughhR9th8sTcdV3YEKMrmiWTVQ8fCun","/ip4/172.18.135.191/tcp/15812/ws/p2p/16Uiu2HAmNRGSa4aUTLD6BughhR9th8sTcdV3YEKMrmiWTVQ8fCun"],"protocols":["/vac/waku/relay/2.0.0","/vac/waku/filter-subscribe/2.0.0-beta1"],"connected":false,"pubsubTopics":[]}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15810/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1092/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"id":"16Uiu2HAmNRGSa4aUTLD6BughhR9th8sTcdV3YEKMrmiWTVQ8fCun","multiaddrs":["/ip4/172.18.135.191/tcp/15811/p2p/16Uiu2HAmNRGSa4aUTLD6BughhR9th8sTcdV3YEKMrmiWTVQ8fCun","/ip4/172.18.135.191/tcp/15812/ws/p2p/16Uiu2HAmNRGSa4aUTLD6BughhR9th8sTcdV3YEKMrmiWTVQ8fCun"],"protocols":["/vac/waku/filter-subscribe/2.0.0-beta1","/vac/waku/relay/2.0.0"],"connected":false,"pubsubTopics":[]}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15810/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1092/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"id":"16Uiu2HAmNRGSa4aUTLD6BughhR9th8sTcdV3YEKMrmiWTVQ8fCun","multiaddrs":["/ip4/172.18.135.191/tcp/15811/p2p/16Uiu2HAmNRGSa4aUTLD6BughhR9th8sTcdV3YEKMrmiWTVQ8fCun","/ip4/172.18.135.191/tcp/15812/ws/p2p/16Uiu2HAmNRGSa4aUTLD6BughhR9th8sTcdV3YEKMrmiWTVQ8fCun"],"protocols":["/vac/waku/relay/2.0.0","/vac/waku/filter-subscribe/2.0.0-beta1"],"connected":false,"pubsubTopics":[]}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15810/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"multiaddr":"/ip4/172.17.0.41/tcp/1093/p2p/16Uiu2HAm4mR86iftxG4V3tJ8ifFBadgkrZuoBGs9GaxXpH8HjLiM","protocols":[{"protocol":"/vac/waku/relay/2.0.0","connected":false},{"protocol":"/vac/waku/store-query/3.0.0","connected":false}],"origin":"Discv5"}]'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 30 seconds
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:276 30 Node start and making filter requests to node2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node0_2024-11-06_08-46-51__e81ab3a3-9715-434b-ab77-7ffb53e8d281__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.61.99
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['3332', '3333', '3334', '3335', '3336']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:435 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:164 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:166 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 3332:3332 -p 3333:3333 -p 3334:3334 -p 3335:3335 -p 3336:3336 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=3334 --rest-port=3332 --tcp-port=3333 --discv5-udp-port=3335 --rest-address=0.0.0.0 --nat=extip:172.18.61.99 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f696b77e517adfcceb4193faea1bc8fe7bc8da94f9fac0ad1a7e2c168b5f38d4 --max-connections=1000 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --filter=true --filternode=/ip4/172.18.135.191/tcp/15811/p2p/16Uiu2HAmNRGSa4aUTLD6BughhR9th8sTcdV3YEKMrmiWTVQ8fCun --store=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.61.99 waku abb304a3e1c411a0f41cbca1eda9876c9280147c752fee90380cea1f9e52f221
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID abb304a3e1c4. Setting up logs at ./log/docker/node0_2024-11-06_08-46-51__e81ab3a3-9715-434b-ab77-7ffb53e8d281__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:178 Started container from image wakuorg/go-waku:latest. REST: 3332
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3332/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QMRCSWqQuePmMV3tTU1-rft5QCCKsbaHVbiMiJ4ozL4fXTWm2IurSN19Xt6pOTnYhyCO6Pr_DSAnHuuk-PmsIASGAZMAqFiRgmlkgnY0gmlwhKwRAA2Jc2VjcDI1NmsxoQPMRHMVrA8k7MMFshAgPSXgdRcSwSBdW0U5pAK8Vh4cUYN0Y3CCDQWDdWRwgg0HhXdha3UyBA","listenAddresses":["/ip4/127.0.0.1/tcp/3333/p2p/16Uiu2HAmSQN4Khdz2ZkUcDfeRZUcx7oqsPCjDWngT9QzXCpgQLLp","/ip4/127.0.0.1/tcp/3334/ws/p2p/16Uiu2HAmSQN4Khdz2ZkUcDfeRZUcx7oqsPCjDWngT9QzXCpgQLLp","/ip4/172.17.0.13/tcp/3333/p2p/16Uiu2HAmSQN4Khdz2ZkUcDfeRZUcx7oqsPCjDWngT9QzXCpgQLLp","/ip4/172.17.0.13/tcp/3334/ws/p2p/16Uiu2HAmSQN4Khdz2ZkUcDfeRZUcx7oqsPCjDWngT9QzXCpgQLLp"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:283 REST service is ready !!
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3332/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:222 Stopping container with id 527b17fab3e7
[35mDEBUG   [0m src.node.waku_node:waku_node.py:229 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:222 Stopping container with id 734c77789deb
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 527b17fab3e7. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:229 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:222 Stopping container with id abb304a3e1c4
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 734c77789deb. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:229 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node0_2024-11-06_08-46-51__e81ab3a3-9715-434b-ab77-7ffb53e8d281__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node2_2024-11-06_08-46-51__e81ab3a3-9715-434b-ab77-7ffb53e8d281__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node1_2024-11-06_08-46-51__e81ab3a3-9715-434b-ab77-7ffb53e8d281__wakuorg_go-waku:latest.log
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_many_subscribed_nodes with id: 2024-11-06_08-48-11__c534b234-353c-4972-ae21-ce15db231e45
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-06_08-48-11__c534b234-353c-4972-ae21-ce15db231e45__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-06_08-48-11__c534b234-353c-4972-ae21-ce15db231e45__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-06_08-48-11__c534b234-353c-4972-ae21-ce15db231e45__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:266 Start 2 nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.52.140
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['61454', '61455', '61456', '61457', '61458']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:435 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:164 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:166 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 61454:61454 -p 61455:61455 -p 61456:61456 -p 61457:61457 -p 61458:61458 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=61456 --rest-port=61454 --tcp-port=61455 --discv5-udp-port=61457 --rest-address=0.0.0.0 --nat=extip:172.18.52.140 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9bb4ceaafd941dfb7a2aa7dadc3d56c70ffa3cec4bd5e84cfbe149b8a1f40284 --max-connections=1000 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --store=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.52.140 waku 9104262015ddaa91a855e19c03780af186d60f70fec6ca0bea10688a6e8aa82c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 9104262015dd. Setting up logs at ./log/docker/node1_2024-11-06_08-48-11__c534b234-353c-4972-ae21-ce15db231e45__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:178 Started container from image wakuorg/go-waku:latest. REST: 61454
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container abb304a3e1c4. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61454/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QDEFSnDiTwiRzhoOplfajyzJK_ndLokBWjwMS7NwuvDga0SNxivoFjtTSuG4r-TuJ6l4AQTIoD86oyC8zfLJFwCGAZMAqPL6gmlkgnY0gmlwhKwRAAiJc2VjcDI1NmsxoQNk0yZUAetoKnvDmy9LU3zAiIoTB-QVqpfhydHz93PcCYN0Y3CC8A-DdWRwgvARhXdha3UyAw","listenAddresses":["/ip4/127.0.0.1/tcp/61455/p2p/16Uiu2HAmKSZrxz5KX2tvEyM2z5hLGRn6XSY8mBnYpcfqPvcLvuYU","/ip4/127.0.0.1/tcp/61456/ws/p2p/16Uiu2HAmKSZrxz5KX2tvEyM2z5hLGRn6XSY8mBnYpcfqPvcLvuYU","/ip4/172.17.0.8/tcp/61455/p2p/16Uiu2HAmKSZrxz5KX2tvEyM2z5hLGRn6XSY8mBnYpcfqPvcLvuYU","/ip4/172.17.0.8/tcp/61456/ws/p2p/16Uiu2HAmKSZrxz5KX2tvEyM2z5hLGRn6XSY8mBnYpcfqPvcLvuYU"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:283 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.243.146
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['13322', '13323', '13324', '13325', '13326']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:435 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:164 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:166 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 13322:13322 -p 13323:13323 -p 13324:13324 -p 13325:13325 -p 13326:13326 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=13324 --rest-port=13322 --tcp-port=13323 --discv5-udp-port=13325 --rest-address=0.0.0.0 --nat=extip:172.18.243.146 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=74fe2ad61ec8d06bca7e10cb17d1be0e38c5afa6dbe18ecb4fe8def524abd123 --max-connections=1000 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=13326 --metrics-logging=true --relay=true --filter=true --store=false --discv5-bootstrap-node=enr:-Ji4QDEFSnDiTwiRzhoOplfajyzJK_ndLokBWjwMS7NwuvDga0SNxivoFjtTSuG4r-TuJ6l4AQTIoD86oyC8zfLJFwCGAZMAqPL6gmlkgnY0gmlwhKwRAAiJc2VjcDI1NmsxoQNk0yZUAetoKnvDmy9LU3zAiIoTB-QVqpfhydHz93PcCYN0Y3CC8A-DdWRwgvARhXdha3UyAw
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.243.146 waku 3733c4fb0330d6ce57faad210bdaf80b66ce5b7cae74ed34e25d9cd123cdc128
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 3733c4fb0330. Setting up logs at ./log/docker/node2_2024-11-06_08-48-11__c534b234-353c-4972-ae21-ce15db231e45__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:178 Started container from image wakuorg/nwaku:latest. REST: 13322
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13322/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:278 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13322/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.243.146/tcp/13323/p2p/16Uiu2HAm84hRLhj6xwyJ7XAzqSDRZjbNSQqshJWawBdX9E8zGVTB","/ip4/172.18.243.146/tcp/13324/ws/p2p/16Uiu2HAm84hRLhj6xwyJ7XAzqSDRZjbNSQqshJWawBdX9E8zGVTB"],"enrUri":"enr:-L24QBP8M6OrXhy8GwwDaZzIRfhPc5hkO6bgmansO9yber5jNtMhi6Qlses8pMk22BqaCKIdzgY6X8QgbnySG6d3TPECgmlkgnY0gmlwhKwS85KKbXVsdGlhZGRyc5YACASsEvOSBjQLAAoErBLzkgY0DN0DgnJzhQADAQAAiXNlY3AyNTZrMaECu8hcnlx9A602gNLEcgpqIgqMKi3LtclnIwihHjgvsWaDdGNwgjQLg3VkcII0DYV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:283 REST service is ready !!
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:270 Subscribe nodes to relay  pubsub topic /waku/2/rs/3/1
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61454/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13322/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61454/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"id":"16Uiu2HAm84hRLhj6xwyJ7XAzqSDRZjbNSQqshJWawBdX9E8zGVTB","multiaddrs":["/ip4/172.18.243.146/tcp/13323/p2p/16Uiu2HAm84hRLhj6xwyJ7XAzqSDRZjbNSQqshJWawBdX9E8zGVTB","/ip4/172.18.243.146/tcp/13324/ws/p2p/16Uiu2HAm84hRLhj6xwyJ7XAzqSDRZjbNSQqshJWawBdX9E8zGVTB"],"protocols":["/vac/waku/relay/2.0.0","/vac/waku/filter-subscribe/2.0.0-beta1"],"connected":false,"pubsubTopics":[]}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13322/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61454/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"id":"16Uiu2HAm84hRLhj6xwyJ7XAzqSDRZjbNSQqshJWawBdX9E8zGVTB","multiaddrs":["/ip4/172.18.243.146/tcp/13323/p2p/16Uiu2HAm84hRLhj6xwyJ7XAzqSDRZjbNSQqshJWawBdX9E8zGVTB","/ip4/172.18.243.146/tcp/13324/ws/p2p/16Uiu2HAm84hRLhj6xwyJ7XAzqSDRZjbNSQqshJWawBdX9E8zGVTB"],"protocols":["/vac/waku/relay/2.0.0","/vac/waku/filter-subscribe/2.0.0-beta1"],"connected":false,"pubsubTopics":[]}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13322/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61454/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"id":"16Uiu2HAm84hRLhj6xwyJ7XAzqSDRZjbNSQqshJWawBdX9E8zGVTB","multiaddrs":["/ip4/172.18.243.146/tcp/13323/p2p/16Uiu2HAm84hRLhj6xwyJ7XAzqSDRZjbNSQqshJWawBdX9E8zGVTB","/ip4/172.18.243.146/tcp/13324/ws/p2p/16Uiu2HAm84hRLhj6xwyJ7XAzqSDRZjbNSQqshJWawBdX9E8zGVTB"],"protocols":["/vac/waku/relay/2.0.0","/vac/waku/filter-subscribe/2.0.0-beta1"],"connected":false,"pubsubTopics":[]}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13322/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61454/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"id":"16Uiu2HAm84hRLhj6xwyJ7XAzqSDRZjbNSQqshJWawBdX9E8zGVTB","multiaddrs":["/ip4/172.18.243.146/tcp/13323/p2p/16Uiu2HAm84hRLhj6xwyJ7XAzqSDRZjbNSQqshJWawBdX9E8zGVTB","/ip4/172.18.243.146/tcp/13324/ws/p2p/16Uiu2HAm84hRLhj6xwyJ7XAzqSDRZjbNSQqshJWawBdX9E8zGVTB"],"protocols":["/vac/waku/filter-subscribe/2.0.0-beta1","/vac/waku/relay/2.0.0"],"connected":false,"pubsubTopics":[]}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13322/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"multiaddr":"/ip4/172.17.0.8/tcp/61455/p2p/16Uiu2HAmKSZrxz5KX2tvEyM2z5hLGRn6XSY8mBnYpcfqPvcLvuYU","protocols":[{"protocol":"/vac/waku/relay/2.0.0","connected":false},{"protocol":"/vac/waku/store-query/3.0.0","connected":false}],"origin":"Discv5"}]'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 30 seconds
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:276 30 Node start and making filter requests to node2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node0_2024-11-06_08-48-11__c534b234-353c-4972-ae21-ce15db231e45__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.1.25
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['12978', '12979', '12980', '12981', '12982']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:435 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:164 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:166 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 12978:12978 -p 12979:12979 -p 12980:12980 -p 12981:12981 -p 12982:12982 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=12980 --rest-port=12978 --tcp-port=12979 --discv5-udp-port=12981 --rest-address=0.0.0.0 --nat=extip:172.18.1.25 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8babee5182d57cf82ee7b40a01dc8b5e458f1983bfde052befb0a163ba48029a --max-connections=1000 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --filter=true --filternode=/ip4/172.18.243.146/tcp/13323/p2p/16Uiu2HAm84hRLhj6xwyJ7XAzqSDRZjbNSQqshJWawBdX9E8zGVTB --store=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.1.25 waku f628b40a84cb026ebb4b4c64106d7abfb2e8e49555fb899d0831994288b55d23
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID f628b40a84cb. Setting up logs at ./log/docker/node0_2024-11-06_08-48-11__c534b234-353c-4972-ae21-ce15db231e45__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:178 Started container from image wakuorg/go-waku:latest. REST: 12978
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12978/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QMk0JQSPE_ziSmMD_Fnajh0YYpuO8D1-IuCib8LLpNlUbFdt0CRoSxu0lDsBkTM11T-qgVKL9RLMzqqZpLwnmwOGAZMAqYHjgmlkgnY0gmlwhKwRAASJc2VjcDI1NmsxoQMUMh7dy5eSy6LxdwWFiXP-RxeQSLK3lHQYxPNGcSIKdIN0Y3CCMrODdWRwgjK1hXdha3UyBA","listenAddresses":["/ip4/127.0.0.1/tcp/12979/p2p/16Uiu2HAmE1pqBKeDwHABemJBztqapFg7JhgjA2xzaAx7Y7QakFnb","/ip4/127.0.0.1/tcp/12980/ws/p2p/16Uiu2HAmE1pqBKeDwHABemJBztqapFg7JhgjA2xzaAx7Y7QakFnb","/ip4/172.17.0.4/tcp/12979/p2p/16Uiu2HAmE1pqBKeDwHABemJBztqapFg7JhgjA2xzaAx7Y7QakFnb","/ip4/172.17.0.4/tcp/12980/ws/p2p/16Uiu2HAmE1pqBKeDwHABemJBztqapFg7JhgjA2xzaAx7Y7QakFnb"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:283 REST service is ready !!
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12978/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:222 Stopping container with id 9104262015dd
[35mDEBUG   [0m src.node.waku_node:waku_node.py:229 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:222 Stopping container with id 3733c4fb0330
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 9104262015dd. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:229 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:222 Stopping container with id f628b40a84cb
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 3733c4fb0330. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:229 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node1_2024-11-06_08-48-11__c534b234-353c-4972-ae21-ce15db231e45__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node2_2024-11-06_08-48-11__c534b234-353c-4972-ae21-ce15db231e45__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node0_2024-11-06_08-48-11__c534b234-353c-4972-ae21-ce15db231e45__wakuorg_go-waku:latest.log