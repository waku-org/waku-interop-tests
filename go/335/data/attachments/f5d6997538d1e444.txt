[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_all_nodes_subscribed_to_the_topic with id: 2024-11-06_08-45-04__698ae965-5ed5-4139-af37-d0df51f3a11a
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-06_08-45-04__698ae965-5ed5-4139-af37-d0df51f3a11a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.117.34
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['24623', '24624', '24625', '24626', '24627']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:435 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:164 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:166 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 24623:24623 -p 24624:24624 -p 24625:24625 -p 24626:24626 -p 24627:24627 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=24625 --rest-port=24623 --tcp-port=24624 --discv5-udp-port=24626 --rest-address=0.0.0.0 --nat=extip:172.18.117.34 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8b6001eaae1a0fe0d023f47cbbac94cf8e269a6daf3aa7858afaf7361196c9e0 --max-connections=1000 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=24627 --metrics-logging=true --relay=true --filter=true
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container d338443b4da1. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.117.34 waku 71bea0fda450b746acf644fa0fc5199be4b5115349793140de11725dcbc7d0fd
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 71bea0fda450. Setting up logs at ./log/docker/node1_2024-11-06_08-45-04__698ae965-5ed5-4139-af37-d0df51f3a11a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:178 Started container from image wakuorg/nwaku:latest. REST: 24623
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24623/health" -H "Content-Type: application/json" -d 'None'
[31m[1mERROR   [0m src.node.waku_node:waku_node.py:184 REST service did not become ready in time: HTTPConnectionPool(host='127.0.0.1', port=24623): Max retries exceeded with url: /health (Caused by ConnectTimeoutError(<urllib3.connection.HTTPConnection object at 0x7f980f769460>, 'Connection to 127.0.0.1 timed out. (connect timeout=20)'))
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.73.21
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['46802', '46803', '46804', '46805', '46806']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:435 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:164 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:166 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 46802:46802 -p 46803:46803 -p 46804:46804 -p 46805:46805 -p 46806:46806 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=46804 --rest-port=46802 --tcp-port=46803 --discv5-udp-port=46805 --rest-address=0.0.0.0 --nat=extip:172.18.73.21 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cead34c0bf19ebca6fccdcbbbc8cd5cc8e5ce8a91d1e5ce8bfd8eaeb71dbbad5 --max-connections=1000 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=46806 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.73.21 waku 9640a39f7f73457a23e0d1a4367bda33b066f9a46d45478b113352e82dd345df
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 9640a39f7f73. Setting up logs at ./log/docker/node1_2024-11-06_08-45-04__698ae965-5ed5-4139-af37-d0df51f3a11a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:178 Started container from image wakuorg/nwaku:latest. REST: 46802
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46802/health" -H "Content-Type: application/json" -d 'None'
[31m[1mERROR   [0m src.node.waku_node:waku_node.py:184 REST service did not become ready in time: HTTPConnectionPool(host='127.0.0.1', port=46802): Read timed out. (read timeout=20)
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.49.117
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['32365', '32366', '32367', '32368', '32369']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:435 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:164 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:166 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 32365:32365 -p 32366:32366 -p 32367:32367 -p 32368:32368 -p 32369:32369 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=32367 --rest-port=32365 --tcp-port=32366 --discv5-udp-port=32368 --rest-address=0.0.0.0 --nat=extip:172.18.49.117 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ecbd1b299eb606d4ab4d32dd985055d97e912e25dc9614fb45090680fc1edf6f --max-connections=1000 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=32369 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.49.117 waku 65835484004ce61a337374f7ce1f12ac610af509e061b468faa759a9fc44cd4f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 65835484004c. Setting up logs at ./log/docker/node1_2024-11-06_08-45-04__698ae965-5ed5-4139-af37-d0df51f3a11a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:178 Started container from image wakuorg/nwaku:latest. REST: 32365
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32365/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:278 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32365/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.49.117/tcp/32366/p2p/16Uiu2HAmQ73rc6MxAbntEHsGtPU3uPtGbTdERv4YnG6ZaKPQXARQ","/ip4/172.18.49.117/tcp/32367/ws/p2p/16Uiu2HAmQ73rc6MxAbntEHsGtPU3uPtGbTdERv4YnG6ZaKPQXARQ"],"enrUri":"enr:-L24QKcd2-yPUbPUbykUZVKOJwpXr290VoyW4NtoOz-uwl5tWuUmyL-dGR6a5SUJWTVCENx4ut_6yXdfZgITli4hmvACgmlkgnY0gmlwhKwSMXWKbXVsdGlhZGRyc5YACASsEjF1Bn5uAAoErBIxdQZ-b90DgnJzhQADAQAAiXNlY3AyNTZrMaEDqh2e7-0hd-8SilBj0NF_AbNlOYmU1U4LMXCqBLZb1auDdGNwgn5ug3VkcIJ-cIV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:283 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-06_08-45-04__698ae965-5ed5-4139-af37-d0df51f3a11a__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.76.240
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['26963', '26964', '26965', '26966', '26967']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:435 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:164 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:166 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 26963:26963 -p 26964:26964 -p 26965:26965 -p 26966:26966 -p 26967:26967 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=26965 --rest-port=26963 --tcp-port=26964 --discv5-udp-port=26966 --rest-address=0.0.0.0 --nat=extip:172.18.76.240 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a433260e7f216b5733eeeee0e67df3b0721be9b32db685043a4deb8a0ca22d1c --max-connections=1000 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QKcd2-yPUbPUbykUZVKOJwpXr290VoyW4NtoOz-uwl5tWuUmyL-dGR6a5SUJWTVCENx4ut_6yXdfZgITli4hmvACgmlkgnY0gmlwhKwSMXWKbXVsdGlhZGRyc5YACASsEjF1Bn5uAAoErBIxdQZ-b90DgnJzhQADAQAAiXNlY3AyNTZrMaEDqh2e7-0hd-8SilBj0NF_AbNlOYmU1U4LMXCqBLZb1auDdGNwgn5ug3VkcIJ-cIV3YWt1MgU --filternode=/ip4/172.18.49.117/tcp/32366/p2p/16Uiu2HAmQ73rc6MxAbntEHsGtPU3uPtGbTdERv4YnG6ZaKPQXARQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.76.240 waku 846b4fdf01ce3e5bbcd9c811a0fd8fd431c96c6936928148723c411a34204e15
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 846b4fdf01ce. Setting up logs at ./log/docker/node2_2024-11-06_08-45-04__698ae965-5ed5-4139-af37-d0df51f3a11a__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:178 Started container from image wakuorg/go-waku:latest. REST: 26963
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26963/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QJehC8MQ3R5NAUt7yHSPO0CvyRNqdYZKXB5F-eK0g7_5Qy-Rijp7qFsEcncddqPrVu9lBgvJfvx-ip63PfjkoyCGAZMApynAgmlkgnY0gmlwhKwRADCJc2VjcDI1NmsxoQKJ4LfOcHlAK_JKnzMAgwkxqs5IrywYZaxaTs9ZRmbqV4N0Y3CCaVSDdWRwgmlWhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/26964/p2p/16Uiu2HAm4htaP22yha6bw53MQGpuVSpmzyGCH3vu7JpaB1FyU5QS","/ip4/127.0.0.1/tcp/26965/ws/p2p/16Uiu2HAm4htaP22yha6bw53MQGpuVSpmzyGCH3vu7JpaB1FyU5QS","/ip4/172.17.0.48/tcp/26964/p2p/16Uiu2HAm4htaP22yha6bw53MQGpuVSpmzyGCH3vu7JpaB1FyU5QS","/ip4/172.17.0.48/tcp/26965/ws/p2p/16Uiu2HAm4htaP22yha6bw53MQGpuVSpmzyGCH3vu7JpaB1FyU5QS"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:283 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26963/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.49.117/tcp/32366/p2p/16Uiu2HAmQ73rc6MxAbntEHsGtPU3uPtGbTdERv4YnG6ZaKPQXARQ", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-06_08-45-04__698ae965-5ed5-4139-af37-d0df51f3a11a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.130.98
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['41243', '41244', '41245', '41246', '41247']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:435 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:164 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:166 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 41243:41243 -p 41244:41244 -p 41245:41245 -p 41246:41246 -p 41247:41247 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=41245 --rest-port=41243 --tcp-port=41244 --discv5-udp-port=41246 --rest-address=0.0.0.0 --nat=extip:172.18.130.98 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1ebad42daf169767ebb5cacf6b9c9b5dba7acf4bcbd00cd339e1d0fcbb0eecdf --max-connections=1000 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=41247 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QKcd2-yPUbPUbykUZVKOJwpXr290VoyW4NtoOz-uwl5tWuUmyL-dGR6a5SUJWTVCENx4ut_6yXdfZgITli4hmvACgmlkgnY0gmlwhKwSMXWKbXVsdGlhZGRyc5YACASsEjF1Bn5uAAoErBIxdQZ-b90DgnJzhQADAQAAiXNlY3AyNTZrMaEDqh2e7-0hd-8SilBj0NF_AbNlOYmU1U4LMXCqBLZb1auDdGNwgn5ug3VkcIJ-cIV3YWt1MgU --filternode=/ip4/172.18.49.117/tcp/32366/p2p/16Uiu2HAmQ73rc6MxAbntEHsGtPU3uPtGbTdERv4YnG6ZaKPQXARQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.130.98 waku 5bc896d400a5d13bbba8d02434cd37c7b586fa181eb2d9a5e0dcf208b939c01d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 5bc896d400a5. Setting up logs at ./log/docker/node3_2024-11-06_08-45-04__698ae965-5ed5-4139-af37-d0df51f3a11a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:178 Started container from image wakuorg/nwaku:latest. REST: 41243
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41243/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41243/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:278 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41243/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.130.98/tcp/41244/p2p/16Uiu2HAmHNCpfvtbarhQRBRjn45FofZmiegQ1Qx8w3t1c1MRMSma","/ip4/172.18.130.98/tcp/41245/ws/p2p/16Uiu2HAmHNCpfvtbarhQRBRjn45FofZmiegQ1Qx8w3t1c1MRMSma"],"enrUri":"enr:-L24QFZdj3rgNO9amZ7t-EdJdx4xaFVLf_VRzHy-OuoYOcZiLd3VSy9cf56DTvxvq_fR_ybaNK6JDkaSI-cahPe9bAkCgmlkgnY0gmlwhKwSgmKKbXVsdGlhZGRyc5YACASsEoJiBqEcAAoErBKCYgahHd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDRf2pwwtihwM1S-T7HtFhmIN1UzsJmXZv5rR4KN6GLT2DdGNwgqEcg3VkcIKhHoV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:283 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41243/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.49.117/tcp/32366/p2p/16Uiu2HAmQ73rc6MxAbntEHsGtPU3uPtGbTdERv4YnG6ZaKPQXARQ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-06_08-45-04__698ae965-5ed5-4139-af37-d0df51f3a11a__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.134.253
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['33692', '33693', '33694', '33695', '33696']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:435 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:164 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:166 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 33692:33692 -p 33693:33693 -p 33694:33694 -p 33695:33695 -p 33696:33696 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=33694 --rest-port=33692 --tcp-port=33693 --discv5-udp-port=33695 --rest-address=0.0.0.0 --nat=extip:172.18.134.253 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f112e3cad724edfbb25aabeed7e4bbf6dde76ee1dabe6fb35588ac03faef8a33 --max-connections=1000 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QKcd2-yPUbPUbykUZVKOJwpXr290VoyW4NtoOz-uwl5tWuUmyL-dGR6a5SUJWTVCENx4ut_6yXdfZgITli4hmvACgmlkgnY0gmlwhKwSMXWKbXVsdGlhZGRyc5YACASsEjF1Bn5uAAoErBIxdQZ-b90DgnJzhQADAQAAiXNlY3AyNTZrMaEDqh2e7-0hd-8SilBj0NF_AbNlOYmU1U4LMXCqBLZb1auDdGNwgn5ug3VkcIJ-cIV3YWt1MgU --filternode=/ip4/172.18.49.117/tcp/32366/p2p/16Uiu2HAmQ73rc6MxAbntEHsGtPU3uPtGbTdERv4YnG6ZaKPQXARQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.134.253 waku af5f1cc7519f0477dd637529384c5ab9eeee271fbf116ac3031e9189d0f335b0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID af5f1cc7519f. Setting up logs at ./log/docker/node4_2024-11-06_08-45-04__698ae965-5ed5-4139-af37-d0df51f3a11a__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:178 Started container from image wakuorg/go-waku:latest. REST: 33692
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33692/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QGePzroiFdWuO1jxS723PexEaS2At4k5wXSgKSzlls9kPxltvL9plt23K0xfv0wAHnYQwOIord46eBoxqk9qk52GAZMAp1pMgmlkgnY0gmlwhKwRADKJc2VjcDI1NmsxoQO5XCsRx1NXenFCffabKh3FSegbTeFQRBCyjPj7pLHouIN0Y3CCg52DdWRwgoOfhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/33693/p2p/16Uiu2HAmR8ZHhgf3e4rdHmb6S9pFFVfxHFuJUMCDx8FoXRnuPpwH","/ip4/127.0.0.1/tcp/33694/ws/p2p/16Uiu2HAmR8ZHhgf3e4rdHmb6S9pFFVfxHFuJUMCDx8FoXRnuPpwH","/ip4/172.17.0.50/tcp/33693/p2p/16Uiu2HAmR8ZHhgf3e4rdHmb6S9pFFVfxHFuJUMCDx8FoXRnuPpwH","/ip4/172.17.0.50/tcp/33694/ws/p2p/16Uiu2HAmR8ZHhgf3e4rdHmb6S9pFFVfxHFuJUMCDx8FoXRnuPpwH"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:283 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33692/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.49.117/tcp/32366/p2p/16Uiu2HAmQ73rc6MxAbntEHsGtPU3uPtGbTdERv4YnG6ZaKPQXARQ", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-06_08-45-04__698ae965-5ed5-4139-af37-d0df51f3a11a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.119.102
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['28577', '28578', '28579', '28580', '28581']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:435 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:164 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:166 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 28577:28577 -p 28578:28578 -p 28579:28579 -p 28580:28580 -p 28581:28581 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=28579 --rest-port=28577 --tcp-port=28578 --discv5-udp-port=28580 --rest-address=0.0.0.0 --nat=extip:172.18.119.102 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7461bc16b6a076861c4d33365cbd146d2a24cd9aad6939b5fbeddadc2b33d2dc --max-connections=1000 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=28581 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QKcd2-yPUbPUbykUZVKOJwpXr290VoyW4NtoOz-uwl5tWuUmyL-dGR6a5SUJWTVCENx4ut_6yXdfZgITli4hmvACgmlkgnY0gmlwhKwSMXWKbXVsdGlhZGRyc5YACASsEjF1Bn5uAAoErBIxdQZ-b90DgnJzhQADAQAAiXNlY3AyNTZrMaEDqh2e7-0hd-8SilBj0NF_AbNlOYmU1U4LMXCqBLZb1auDdGNwgn5ug3VkcIJ-cIV3YWt1MgU --filternode=/ip4/172.18.49.117/tcp/32366/p2p/16Uiu2HAmQ73rc6MxAbntEHsGtPU3uPtGbTdERv4YnG6ZaKPQXARQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.119.102 waku 56744633c19deb55cca9f0d78f94e167787e6193477155db7d02b5485540c4dd
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 56744633c19d. Setting up logs at ./log/docker/node5_2024-11-06_08-45-04__698ae965-5ed5-4139-af37-d0df51f3a11a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:178 Started container from image wakuorg/nwaku:latest. REST: 28577
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28577/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:278 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28577/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.119.102/tcp/28578/p2p/16Uiu2HAkzFZa2zMmHSeGFd9to3AiwUzBtsHqnxKR1wCVmNjqfiEm","/ip4/172.18.119.102/tcp/28579/ws/p2p/16Uiu2HAkzFZa2zMmHSeGFd9to3AiwUzBtsHqnxKR1wCVmNjqfiEm"],"enrUri":"enr:-L24QMOZAF0rU_mz59eue5Rq13MCCoR-gq4pj_YG7OTrSx4nNn1guYovLrjw-6i6xWF2_SdmHwGMI-KE6A9YDf97fuQCgmlkgnY0gmlwhKwSd2aKbXVsdGlhZGRyc5YACASsEndmBm-iAAoErBJ3ZgZvo90DgnJzhQADAQAAiXNlY3AyNTZrMaECR7NhEBgPo6yZof95g8T_PycZw3MRWa8ZZxQTP9Y_YlKDdGNwgm-ig3VkcIJvpIV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:283 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28577/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.49.117/tcp/32366/p2p/16Uiu2HAmQ73rc6MxAbntEHsGtPU3uPtGbTdERv4YnG6ZaKPQXARQ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32365/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26963/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "ddc777ef-cbd4-41b8-ae75-8ba1338b76a2", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"ddc777ef-cbd4-41b8-ae75-8ba1338b76a2","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41243/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "26dad785-3a8d-4627-8732-384908e4432c", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"26dad785-3a8d-4627-8732-384908e4432c","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33692/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "407d1b45-11be-44c9-8a20-a1d01914f7b6", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"407d1b45-11be-44c9-8a20-a1d01914f7b6","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28577/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "d4c7113a-e6f2-49f6-9ba4-10615146af2d", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"d4c7113a-e6f2-49f6-9ba4-10615146af2d","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32365/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26963/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1730882793086098432,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41243/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1730882793086098432,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_4:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33692/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1730882793086098432,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28577/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1730882793086098432,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:222 Stopping container with id 65835484004c
[35mDEBUG   [0m src.node.waku_node:waku_node.py:229 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:222 Stopping container with id 846b4fdf01ce
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 65835484004c. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:229 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:222 Stopping container with id 5bc896d400a5
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 846b4fdf01ce. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:229 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:222 Stopping container with id af5f1cc7519f
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 5bc896d400a5. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:229 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:222 Stopping container with id 56744633c19d
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container af5f1cc7519f. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:229 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.