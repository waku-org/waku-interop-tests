[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_pubsub_topic with id: 2024-11-30_03-23-24__8184c591-5429-42b8-ac18-2346582d0190
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-30_03-23-24__8184c591-5429-42b8-ac18-2346582d0190__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.151.226
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['26280', '26281', '26282', '26283', '26284']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 26280:26280 -p 26281:26281 -p 26282:26282 -p 26283:26283 -p 26284:26284 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=26282 --rest-port=26280 --tcp-port=26281 --discv5-udp-port=26283 --rest-address=0.0.0.0 --nat=extip:172.18.151.226 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3d9e8dffa1e451d82ab45dfc06873763d90e27ffbbe5ed12d8edbca1dfb922f9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=26284 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.151.226 waku ed64b4be865c9a69010725653f951631d995ac2a57cc5dd78f4324897a50a507
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID ed64b4be865c. Setting up logs at ./log/docker/node1_2024-11-30_03-23-24__8184c591-5429-42b8-ac18-2346582d0190__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 26280
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 3b00bfe49a83. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26280/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26280/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.151.226/tcp/26281/p2p/16Uiu2HAmP6xc7auKdU3fU7k69jDSf6w2SxtctKu5CyAxSsGC2jBc","/ip4/172.18.151.226/tcp/26282/ws/p2p/16Uiu2HAmP6xc7auKdU3fU7k69jDSf6w2SxtctKu5CyAxSsGC2jBc"],"enrUri":"enr:-L24QD4fA8ocQdVMlPm_JQL0QkAdwMO2Z5PJDTZPRJnD_Ip4DM_BiyWvJS9neG84HcSdqsev8dBfdirBOWXr2FXKU_ACgmlkgnY0gmlwhKwSl-KKbXVsdGlhZGRyc5YACASsEpfiBmapAAoErBKX4gZmqt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDmzv_dfSSzO36EtG684ZZXBdnsqNK7kSfQqCdf7gSEIeDdGNwgmapg3VkcIJmq4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-30_03-23-24__8184c591-5429-42b8-ac18-2346582d0190__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.226.95
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['62989', '62990', '62991', '62992', '62993']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 62989:62989 -p 62990:62990 -p 62991:62991 -p 62992:62992 -p 62993:62993 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=62991 --rest-port=62989 --tcp-port=62990 --discv5-udp-port=62992 --rest-address=0.0.0.0 --nat=extip:172.18.226.95 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e238f3f824ba5923a9a4566ef36db4a9d5e6f3eb1d4cddfaafae9c0f0caeefc4 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-L24QD4fA8ocQdVMlPm_JQL0QkAdwMO2Z5PJDTZPRJnD_Ip4DM_BiyWvJS9neG84HcSdqsev8dBfdirBOWXr2FXKU_ACgmlkgnY0gmlwhKwSl-KKbXVsdGlhZGRyc5YACASsEpfiBmapAAoErBKX4gZmqt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDmzv_dfSSzO36EtG684ZZXBdnsqNK7kSfQqCdf7gSEIeDdGNwgmapg3VkcIJmq4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.226.95 waku 39b7c2270581efe3013765a206818a16918697af36c9a5b4322ea16e84f1c0d0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 39b7c2270581. Setting up logs at ./log/docker/node2_2024-11-30_03-23-24__8184c591-5429-42b8-ac18-2346582d0190__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 62989
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62989/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QOyfw1p6iqDee-nxOjGOKEyrX_49yIH-WzwDntEO27N0EFHHsWPgTQQs_BRA6dQ7bHUxUhntd9stFIKZhJX4LeOGAZN7GDwagmlkgnY0gmlwhKwRAASCcnODAAMAiXNlY3AyNTZrMaEDf0XGPCBYTaJHgdHRGZVsU65LQd249k_LPary9Xt0wU-DdGNwgvYOg3VkcIL2EIV3YWt1MgE","listenAddresses":["/ip4/127.0.0.1/tcp/62990/p2p/16Uiu2HAmMDoqW3cXms21nXo3co49mFwuAdZvmccXfCbMiPnEGLwY","/ip4/127.0.0.1/tcp/62991/ws/p2p/16Uiu2HAmMDoqW3cXms21nXo3co49mFwuAdZvmccXfCbMiPnEGLwY","/ip4/172.17.0.4/tcp/62990/p2p/16Uiu2HAmMDoqW3cXms21nXo3co49mFwuAdZvmccXfCbMiPnEGLwY","/ip4/172.17.0.4/tcp/62991/ws/p2p/16Uiu2HAmMDoqW3cXms21nXo3co49mFwuAdZvmccXfCbMiPnEGLwY"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62989/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.151.226/tcp/26281/p2p/16Uiu2HAmP6xc7auKdU3fU7k69jDSf6w2SxtctKu5CyAxSsGC2jBc", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-30_03-23-24__8184c591-5429-42b8-ac18-2346582d0190__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.109.22
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['53887', '53888', '53889', '53890', '53891']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 53887:53887 -p 53888:53888 -p 53889:53889 -p 53890:53890 -p 53891:53891 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=53889 --rest-port=53887 --tcp-port=53888 --discv5-udp-port=53890 --rest-address=0.0.0.0 --nat=extip:172.18.109.22 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d9322c84afa8b5cf2fcab93cbcf19e1fcf2bf44562b1bdeb776e8c24efb1dbec --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=53891 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QD4fA8ocQdVMlPm_JQL0QkAdwMO2Z5PJDTZPRJnD_Ip4DM_BiyWvJS9neG84HcSdqsev8dBfdirBOWXr2FXKU_ACgmlkgnY0gmlwhKwSl-KKbXVsdGlhZGRyc5YACASsEpfiBmapAAoErBKX4gZmqt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDmzv_dfSSzO36EtG684ZZXBdnsqNK7kSfQqCdf7gSEIeDdGNwgmapg3VkcIJmq4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.109.22 waku e1b7a441b5bbe4183a4b048fc967021c63c47a12f5e32d51cdf0dc88e4e4f0d4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID e1b7a441b5bb. Setting up logs at ./log/docker/node3_2024-11-30_03-23-24__8184c591-5429-42b8-ac18-2346582d0190__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 53887
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53887/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53887/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.109.22/tcp/53888/p2p/16Uiu2HAm1HCvXHM9kTtQrSsLzxzz6MF96EVVbWdVhakmhQMo1gKp","/ip4/172.18.109.22/tcp/53889/ws/p2p/16Uiu2HAm1HCvXHM9kTtQrSsLzxzz6MF96EVVbWdVhakmhQMo1gKp"],"enrUri":"enr:-L24QJiswPnDiucrklqppaw4FI4Nyy1c4pUM8tXW0Zjlt1ULK6nah1JTE_Xoq5KSxUvd_jc_fbOzbNlwKJno0j_8B64CgmlkgnY0gmlwhKwSbRaKbXVsdGlhZGRyc5YACASsEm0WBtKAAAoErBJtFgbSgd0DgnJzhQADAQAAiXNlY3AyNTZrMaECVvrh4ELgF16LWneh7q95ppmfWjMSm_2QF4udKle-b9-DdGNwgtKAg3VkcILSgoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53887/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.151.226/tcp/26281/p2p/16Uiu2HAmP6xc7auKdU3fU7k69jDSf6w2SxtctKu5CyAxSsGC2jBc"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-30_03-23-24__8184c591-5429-42b8-ac18-2346582d0190__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.56.163
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['40978', '40979', '40980', '40981', '40982']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 40978:40978 -p 40979:40979 -p 40980:40980 -p 40981:40981 -p 40982:40982 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=40980 --rest-port=40978 --tcp-port=40979 --discv5-udp-port=40981 --rest-address=0.0.0.0 --nat=extip:172.18.56.163 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b9bbfec02fba6cc9ccb87f811f497d5acc1935d527e6bc5851a81ce6b73d659a --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-L24QD4fA8ocQdVMlPm_JQL0QkAdwMO2Z5PJDTZPRJnD_Ip4DM_BiyWvJS9neG84HcSdqsev8dBfdirBOWXr2FXKU_ACgmlkgnY0gmlwhKwSl-KKbXVsdGlhZGRyc5YACASsEpfiBmapAAoErBKX4gZmqt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDmzv_dfSSzO36EtG684ZZXBdnsqNK7kSfQqCdf7gSEIeDdGNwgmapg3VkcIJmq4V3YWt1MgE
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.13.78
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['62007', '62008', '62009', '62010', '62011']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 62007:62007 -p 62008:62008 -p 62009:62009 -p 62010:62010 -p 62011:62011 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=62009 --rest-port=62007 --tcp-port=62008 --discv5-udp-port=62010 --rest-address=0.0.0.0 --nat=extip:172.18.13.78 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7c6e7afdbafba3c40fc8ccea8d15ff752bf2fd5bea53c0d202f14cdbb019183a --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-L24QD4fA8ocQdVMlPm_JQL0QkAdwMO2Z5PJDTZPRJnD_Ip4DM_BiyWvJS9neG84HcSdqsev8dBfdirBOWXr2FXKU_ACgmlkgnY0gmlwhKwSl-KKbXVsdGlhZGRyc5YACASsEpfiBmapAAoErBKX4gZmqt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDmzv_dfSSzO36EtG684ZZXBdnsqNK7kSfQqCdf7gSEIeDdGNwgmapg3VkcIJmq4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.13.78 waku 0a05d98f9bc808dcd3afaa030de73386995e6cc52b5418d02365054d3aa4a040
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 0a05d98f9bc8. Setting up logs at ./log/docker/node4_2024-11-30_03-23-24__8184c591-5429-42b8-ac18-2346582d0190__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 62007
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62007/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QIt9dYqLnYVgTT78iAZMOag2Dr4vrWUN2HDXr7DiDXljLWdgV1Wh8IcRLxXILMfyhnYtnf_jix4y8UGxybkU2n6GAZN7GE28gmlkgnY0gmlwhKwRAAiCcnODAAMAiXNlY3AyNTZrMaEDq5cFW-lYeEpNVPeCvfkfSK7L51LqXjaAV2QN8zj3JmODdGNwgvI4g3VkcILyOoV3YWt1MgE","listenAddresses":["/ip4/127.0.0.1/tcp/62008/p2p/16Uiu2HAmQCodXg5b9FCi3m4drnTDtqVtV5Dr94TnvZTkD4W7KKkE","/ip4/127.0.0.1/tcp/62009/ws/p2p/16Uiu2HAmQCodXg5b9FCi3m4drnTDtqVtV5Dr94TnvZTkD4W7KKkE","/ip4/172.17.0.8/tcp/62008/p2p/16Uiu2HAmQCodXg5b9FCi3m4drnTDtqVtV5Dr94TnvZTkD4W7KKkE","/ip4/172.17.0.8/tcp/62009/ws/p2p/16Uiu2HAmQCodXg5b9FCi3m4drnTDtqVtV5Dr94TnvZTkD4W7KKkE"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62007/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.151.226/tcp/26281/p2p/16Uiu2HAmP6xc7auKdU3fU7k69jDSf6w2SxtctKu5CyAxSsGC2jBc", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-30_03-23-24__8184c591-5429-42b8-ac18-2346582d0190__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.194.3
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['36566', '36567', '36568', '36569', '36570']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 36566:36566 -p 36567:36567 -p 36568:36568 -p 36569:36569 -p 36570:36570 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=36568 --rest-port=36566 --tcp-port=36567 --discv5-udp-port=36569 --rest-address=0.0.0.0 --nat=extip:172.18.194.3 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=95ef0d297ea2f3d0af04eaa48ebfe3c58f9ddde1e838c767a3b1d350f4edccc0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=36570 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QD4fA8ocQdVMlPm_JQL0QkAdwMO2Z5PJDTZPRJnD_Ip4DM_BiyWvJS9neG84HcSdqsev8dBfdirBOWXr2FXKU_ACgmlkgnY0gmlwhKwSl-KKbXVsdGlhZGRyc5YACASsEpfiBmapAAoErBKX4gZmqt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDmzv_dfSSzO36EtG684ZZXBdnsqNK7kSfQqCdf7gSEIeDdGNwgmapg3VkcIJmq4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.194.3 waku 9741e70bf11be0b957e581df91cf13843978930423efdda35d4bb67cf5d8a95f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 9741e70bf11b. Setting up logs at ./log/docker/node5_2024-11-30_03-23-24__8184c591-5429-42b8-ac18-2346582d0190__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 36566
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36566/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36566/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.194.3/tcp/36567/p2p/16Uiu2HAkwZoTC5k6q4SY4tM8TyscGQt8oww9S19hsvp4R4SdEqbL","/ip4/172.18.194.3/tcp/36568/ws/p2p/16Uiu2HAkwZoTC5k6q4SY4tM8TyscGQt8oww9S19hsvp4R4SdEqbL"],"enrUri":"enr:-L24QJ_cUPwFAu7qv-5VsRmQ2_w45FPXWOiuKhLDE7LVDH_xcvFn6YTxy3qMg0UQuHQ0GtPk6wUZ4vpRtvfXQHdRenICgmlkgnY0gmlwhKwSwgOKbXVsdGlhZGRyc5YACASsEsIDBo7XAAoErBLCAwaO2N0DgnJzhQADAQAAiXNlY3AyNTZrMaECH8x4KTK3e1yUyzG8BgQvXFbEhysSHeLDh8tjmHi3QS-DdGNwgo7Xg3VkcIKO2YV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36566/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.151.226/tcp/26281/p2p/16Uiu2HAmP6xc7auKdU3fU7k69jDSf6w2SxtctKu5CyAxSsGC2jBc"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26280/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62989/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26280/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26280/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732937014241577216,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62989/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732937014241577216,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26280/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53887/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:53887/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1. Response content: b''
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id ed64b4be865c
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 39b7c2270581
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container ed64b4be865c. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id e1b7a441b5bb
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 39b7c2270581. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 0a05d98f9bc8
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container e1b7a441b5bb. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 9741e70bf11b
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 0a05d98f9bc8. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.