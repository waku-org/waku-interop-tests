[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2024-12-18_03-22-57__ce77344f-6387-4102-8418-a572bc3f0be1
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-18_03-22-57__ce77344f-6387-4102-8418-a572bc3f0be1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.126.229
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['48318', '48319', '48320', '48321', '48322']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 48318:48318 -p 48319:48319 -p 48320:48320 -p 48321:48321 -p 48322:48322 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=48320 --rest-port=48318 --tcp-port=48319 --discv5-udp-port=48321 --rest-address=0.0.0.0 --nat=extip:172.18.126.229 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ebec7c5ba7c0d6912e75bf5cdb3ff21f396b4cbeaf9d6f0a36bdc238003f0587 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=48322 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.126.229 waku aea58fe2a1a0feb60c82c9f49cf67d7d953b0bb06e0f742871951a4734ab9130
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID aea58fe2a1a0. Setting up logs at ./log/docker/node1_2024-12-18_03-22-57__ce77344f-6387-4102-8418-a572bc3f0be1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 48318
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 7c94bb4817d0. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48318/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48318/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.126.229/tcp/48319/p2p/16Uiu2HAm8Yq2zezEm2cmm5bnzGw6JSeAjwB15KqpsTjGgkgKHZ2X","/ip4/172.18.126.229/tcp/48320/ws/p2p/16Uiu2HAm8Yq2zezEm2cmm5bnzGw6JSeAjwB15KqpsTjGgkgKHZ2X"],"enrUri":"enr:-L24QHXqXMNYRXsugD9NHUmoEhL_2qjm3fjJOVZwijlvF722KZogx0blj2GW0j50YV0tF_YRDcdcX6TixMby1Jep-rQCgmlkgnY0gmlwhKwSfuWKbXVsdGlhZGRyc5YACASsEn7lBry_AAoErBJ-5Qa8wN0DgnJzhQADAQAAiXNlY3AyNTZrMaECwv08BNFqE_kl9038uQJRLycQGn4UT7KKRwfIGSE9XxiDdGNwgry_g3VkcIK8wYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-18_03-22-57__ce77344f-6387-4102-8418-a572bc3f0be1__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.173.25
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['38123', '38124', '38125', '38126', '38127']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 38123:38123 -p 38124:38124 -p 38125:38125 -p 38126:38126 -p 38127:38127 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=38125 --rest-port=38123 --tcp-port=38124 --discv5-udp-port=38126 --rest-address=0.0.0.0 --nat=extip:172.18.173.25 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=86e1c4f9acc9ee62bae2beafde1d7765ae8daccda425c6ec2dbff5d24e600cac --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-L24QHXqXMNYRXsugD9NHUmoEhL_2qjm3fjJOVZwijlvF722KZogx0blj2GW0j50YV0tF_YRDcdcX6TixMby1Jep-rQCgmlkgnY0gmlwhKwSfuWKbXVsdGlhZGRyc5YACASsEn7lBry_AAoErBJ-5Qa8wN0DgnJzhQADAQAAiXNlY3AyNTZrMaECwv08BNFqE_kl9038uQJRLycQGn4UT7KKRwfIGSE9XxiDdGNwgry_g3VkcIK8wYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.173.25 waku 70ed2e899ba3e84df6c9e229d05cd0212d714a6116a33ad9c05aa33ddd0aa5e0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 70ed2e899ba3. Setting up logs at ./log/docker/node2_2024-12-18_03-22-57__ce77344f-6387-4102-8418-a572bc3f0be1__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 38123
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38123/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QPTugLwv3emcZTOHNM7-OBNhdYhU-_yVh7bScXgXAnVCSsUcJYBuw-W9IG3iKxE8pyKmblq1wC_WKSo6kOlQ39OGAZPXykrHgmlkgnY0gmlwhKwRAAKCcnODAAMAiXNlY3AyNTZrMaECMIlnqAQOhyFAfnKVDn0LHIm0F53Y0O-CU8ttdkjMFC2DdGNwgpTsg3VkcIKU7oV3YWt1MgE","listenAddresses":["/ip4/127.0.0.1/tcp/38124/p2p/16Uiu2HAkxh955QFgVHhan81koJu5Bgk91hawaWfBwRmu2i1sfFVE","/ip4/127.0.0.1/tcp/38125/ws/p2p/16Uiu2HAkxh955QFgVHhan81koJu5Bgk91hawaWfBwRmu2i1sfFVE","/ip4/172.17.0.2/tcp/38124/p2p/16Uiu2HAkxh955QFgVHhan81koJu5Bgk91hawaWfBwRmu2i1sfFVE","/ip4/172.17.0.2/tcp/38125/ws/p2p/16Uiu2HAkxh955QFgVHhan81koJu5Bgk91hawaWfBwRmu2i1sfFVE"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38123/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.126.229/tcp/48319/p2p/16Uiu2HAm8Yq2zezEm2cmm5bnzGw6JSeAjwB15KqpsTjGgkgKHZ2X", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-12-18_03-22-57__ce77344f-6387-4102-8418-a572bc3f0be1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.83.234
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['42058', '42059', '42060', '42061', '42062']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 42058:42058 -p 42059:42059 -p 42060:42060 -p 42061:42061 -p 42062:42062 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=42060 --rest-port=42058 --tcp-port=42059 --discv5-udp-port=42061 --rest-address=0.0.0.0 --nat=extip:172.18.83.234 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a92be7eba1ebdfc7acc6d655e09b03fb3ddcebc93e7d291ede7a3ced0c97afb6 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=42062 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QHXqXMNYRXsugD9NHUmoEhL_2qjm3fjJOVZwijlvF722KZogx0blj2GW0j50YV0tF_YRDcdcX6TixMby1Jep-rQCgmlkgnY0gmlwhKwSfuWKbXVsdGlhZGRyc5YACASsEn7lBry_AAoErBJ-5Qa8wN0DgnJzhQADAQAAiXNlY3AyNTZrMaECwv08BNFqE_kl9038uQJRLycQGn4UT7KKRwfIGSE9XxiDdGNwgry_g3VkcIK8wYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.83.234 waku 0ba67f50a70cb258b282bed34bff55745ee958550ebd6c752873f0f114dfc2db
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 0ba67f50a70c. Setting up logs at ./log/docker/node3_2024-12-18_03-22-57__ce77344f-6387-4102-8418-a572bc3f0be1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 42058
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42058/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42058/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.83.234/tcp/42059/p2p/16Uiu2HAmLkQWvpf2NLJZ4S9KVGRRCaEKcQaXJat9e4PDnp5RTmTK","/ip4/172.18.83.234/tcp/42060/ws/p2p/16Uiu2HAmLkQWvpf2NLJZ4S9KVGRRCaEKcQaXJat9e4PDnp5RTmTK"],"enrUri":"enr:-L24QD7rmWNnkO2u-i-hCf72lFHgkoZSiYERZqUs_-uBdWesfmZ9T1s7X_B6IMZkM8BvdAHJKynpxveXsdXAixXCXR4CgmlkgnY0gmlwhKwSU-qKbXVsdGlhZGRyc5YACASsElPqBqRLAAoErBJT6gakTN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDeEC5aJQwzasR-maJlF-kkc8WtXiq3tg7iUYvXJtVmnaDdGNwgqRLg3VkcIKkTYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42058/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.126.229/tcp/48319/p2p/16Uiu2HAm8Yq2zezEm2cmm5bnzGw6JSeAjwB15KqpsTjGgkgKHZ2X"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-12-18_03-22-57__ce77344f-6387-4102-8418-a572bc3f0be1__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.229.170
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['57239', '57240', '57241', '57242', '57243']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 57239:57239 -p 57240:57240 -p 57241:57241 -p 57242:57242 -p 57243:57243 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=57241 --rest-port=57239 --tcp-port=57240 --discv5-udp-port=57242 --rest-address=0.0.0.0 --nat=extip:172.18.229.170 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f9d4f5ec2f80ffbdee3acdb0ab32b7da9fbadc57abadf2afcddde1c27603d286 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-L24QHXqXMNYRXsugD9NHUmoEhL_2qjm3fjJOVZwijlvF722KZogx0blj2GW0j50YV0tF_YRDcdcX6TixMby1Jep-rQCgmlkgnY0gmlwhKwSfuWKbXVsdGlhZGRyc5YACASsEn7lBry_AAoErBJ-5Qa8wN0DgnJzhQADAQAAiXNlY3AyNTZrMaECwv08BNFqE_kl9038uQJRLycQGn4UT7KKRwfIGSE9XxiDdGNwgry_g3VkcIK8wYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.229.170 waku 274211773a68d8772919eb3939d2d79eab3276f305f5c1112b3780fde33e1a64
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 274211773a68. Setting up logs at ./log/docker/node4_2024-12-18_03-22-57__ce77344f-6387-4102-8418-a572bc3f0be1__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 57239
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57239/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QD-l1rukZb8KHOdW_nOk_O1dkRSU64PvGfEEMLnhjhF-Yjvf9kXAtvcVZsXd1PvOnpu5hIJ5M6QGIqvV3Z3RD3KGAZPXyldRgmlkgnY0gmlwhKwRAAWCcnODAAMAiXNlY3AyNTZrMaECMAkWoMWXymXiha-8giIESDC2icL9waOsaOmrbCyWA-SDdGNwgt-Yg3VkcILfmoV3YWt1MgE","listenAddresses":["/ip4/127.0.0.1/tcp/57240/p2p/16Uiu2HAkxfBb1yNgEsRDpHdnBGDH7gdWXbgzpLyMfXpAHedSqbUo","/ip4/127.0.0.1/tcp/57241/ws/p2p/16Uiu2HAkxfBb1yNgEsRDpHdnBGDH7gdWXbgzpLyMfXpAHedSqbUo","/ip4/172.17.0.5/tcp/57240/p2p/16Uiu2HAkxfBb1yNgEsRDpHdnBGDH7gdWXbgzpLyMfXpAHedSqbUo","/ip4/172.17.0.5/tcp/57241/ws/p2p/16Uiu2HAkxfBb1yNgEsRDpHdnBGDH7gdWXbgzpLyMfXpAHedSqbUo"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57239/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.126.229/tcp/48319/p2p/16Uiu2HAm8Yq2zezEm2cmm5bnzGw6JSeAjwB15KqpsTjGgkgKHZ2X", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-12-18_03-22-57__ce77344f-6387-4102-8418-a572bc3f0be1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.90.13
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['15959', '15960', '15961', '15962', '15963']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 15959:15959 -p 15960:15960 -p 15961:15961 -p 15962:15962 -p 15963:15963 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=15961 --rest-port=15959 --tcp-port=15960 --discv5-udp-port=15962 --rest-address=0.0.0.0 --nat=extip:172.18.90.13 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8ffca7ce3873afe9c199111bf6dd3bf710a4ca7d9cdc56fd3a4a567bc93fd000 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=15963 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QHXqXMNYRXsugD9NHUmoEhL_2qjm3fjJOVZwijlvF722KZogx0blj2GW0j50YV0tF_YRDcdcX6TixMby1Jep-rQCgmlkgnY0gmlwhKwSfuWKbXVsdGlhZGRyc5YACASsEn7lBry_AAoErBJ-5Qa8wN0DgnJzhQADAQAAiXNlY3AyNTZrMaECwv08BNFqE_kl9038uQJRLycQGn4UT7KKRwfIGSE9XxiDdGNwgry_g3VkcIK8wYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.90.13 waku 62c0a1beabe75a0d0e6c45eaccc58c0f7303da8f96205eabc0b54ef3ba2d3d3e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 62c0a1beabe7. Setting up logs at ./log/docker/node5_2024-12-18_03-22-57__ce77344f-6387-4102-8418-a572bc3f0be1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 15959
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15959/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15959/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.90.13/tcp/15960/p2p/16Uiu2HAm4qhtmb85GWQ2jhZB1hVBsVxLvKVzt8aicwt88YKPPc7o","/ip4/172.18.90.13/tcp/15961/ws/p2p/16Uiu2HAm4qhtmb85GWQ2jhZB1hVBsVxLvKVzt8aicwt88YKPPc7o"],"enrUri":"enr:-L24QNTGDx_FeFy_HS-Tn1XTlWgIEBvgVVlIHA1myZTSUouXW-EmohozDqaKOYQsd8OYl9JcNbLsbJIJWnJVQ2fsRUYCgmlkgnY0gmlwhKwSWg2KbXVsdGlhZGRyc5YACASsEloNBj5YAAoErBJaDQY-Wd0DgnJzhQADAQAAiXNlY3AyNTZrMaECi-FJBD_XnOs6Fr4_kfS8PGKC1097Lw5G7Tfiku8kccaDdGNwgj5Yg3VkcII-WoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15959/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.126.229/tcp/48319/p2p/16Uiu2HAm8Yq2zezEm2cmm5bnzGw6JSeAjwB15KqpsTjGgkgKHZ2X"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48318/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38123/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42058/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57239/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15959/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48318/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48318/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734492185163586304,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38123/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734492185163586304,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42058/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734492185163586304,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57239/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734492185163586304,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15959/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734492185163586304,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15959/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48318/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734492185301310464,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38123/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734492185301310464,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42058/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734492185301310464,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57239/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734492185301310464,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15959/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734492185301310464,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id aea58fe2a1a0
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 70ed2e899ba3
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container aea58fe2a1a0. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 0ba67f50a70c
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 70ed2e899ba3. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 274211773a68
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 0ba67f50a70c. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 62c0a1beabe7
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 274211773a68. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.