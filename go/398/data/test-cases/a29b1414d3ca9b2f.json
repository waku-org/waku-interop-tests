{"uid":"a29b1414d3ca9b2f","name":"test_filter_many_subscribed_nodes","fullName":"tests.e2e.test_e2e.TestE2E#test_filter_many_subscribed_nodes","historyId":"064222b27a3a4b564273441b19962051","time":{"start":1734491683241,"stop":1734491838661,"duration":155420},"status":"broken","statusMessage":"Exception: Error: 500 Server Error: Internal Server Error for url: http://127.0.0.1:36580/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1 with response: b''","statusTrace":"src/node/api_clients/base_client.py:14: in make_request\n    response.raise_for_status()\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/requests/models.py:1021: in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\nE   requests.exceptions.HTTPError: 500 Server Error: Internal Server Error for url: http://127.0.0.1:36580/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1\n\nDuring handling of the above exception, another exception occurred:\ntests/e2e/test_e2e.py:295: in test_filter_many_subscribed_nodes\n    self.publish_message(sender=self.node1, pubsub_topic=self.test_pubsub_topic, message=self.create_message())\nsrc/steps/store.py:133: in publish_message\n    sender.send_relay_message(self.message, pubsub_topic)\nsrc/node/waku_node.py:343: in send_relay_message\n    return self._api.send_relay_message(message, pubsub_topic)\nsrc/node/api_clients/rest.py:51: in send_relay_message\n    return self.rest_call(\"post\", f\"relay/v1/messages/{quote(pubsub_topic, safe='')}\", json.dumps(message))\nsrc/node/api_clients/rest.py:16: in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\nsrc/node/api_clients/base_client.py:17: in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\nE   Exception: Error: 500 Server Error: Internal Server Error for url: http://127.0.0.1:36580/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1 with response: b''","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"set_allure_env_variables","time":{"start":1734491535888,"stop":1734491535889,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail","time":{"start":1734491683219,"stop":1734491683220,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_id","time":{"start":1734491683220,"stop":1734491683220,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes","time":{"start":1734491683220,"stop":1734491683220,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_setup","time":{"start":1734491683220,"stop":1734491683221,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"check_waku_log_errors","time":{"start":1734491683220,"stop":1734491683220,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"nodes","time":{"start":1734491683221,"stop":1734491683240,"duration":19},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"common_setup","time":{"start":1734491683221,"stop":1734491683221,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"filter_setup","time":{"start":1734491683221,"stop":1734491683221,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"light_push_setup","time":{"start":1734491683221,"stop":1734491683221,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"relay_setup","time":{"start":1734491683241,"stop":1734491683241,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"store_setup","time":{"start":1734491683241,"stop":1734491683241,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"broken","statusMessage":"Exception: Error: 500 Server Error: Internal Server Error for url: http://127.0.0.1:36580/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1 with response: b''","statusTrace":"src/node/api_clients/base_client.py:14: in make_request\n    response.raise_for_status()\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/requests/models.py:1021: in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\nE   requests.exceptions.HTTPError: 500 Server Error: Internal Server Error for url: http://127.0.0.1:36580/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1\n\nDuring handling of the above exception, another exception occurred:\ntests/e2e/test_e2e.py:295: in test_filter_many_subscribed_nodes\n    self.publish_message(sender=self.node1, pubsub_topic=self.test_pubsub_topic, message=self.create_message())\nsrc/steps/store.py:133: in publish_message\n    sender.send_relay_message(self.message, pubsub_topic)\nsrc/node/waku_node.py:343: in send_relay_message\n    return self._api.send_relay_message(message, pubsub_topic)\nsrc/node/api_clients/rest.py:51: in send_relay_message\n    return self.rest_call(\"post\", f\"relay/v1/messages/{quote(pubsub_topic, safe='')}\", json.dumps(message))\nsrc/node/api_clients/rest.py:16: in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\nsrc/node/api_clients/base_client.py:17: in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\nE   Exception: Error: 500 Server Error: Internal Server Error for url: http://127.0.0.1:36580/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1 with response: b''","steps":[{"name":"wait_for_autoconnection","time":{"start":1734491738636,"stop":1734491838652,"duration":100016},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.e2e.test_e2e.TestE2E object at 0x7f7ee60ad3a0>, [<src.node.waku_node.WakuNode object at 0x7f7ee5cf49b0>, <src.node.waku_node.WakuNode object at 0x7f7ee5d64f80>])"},{"name":"hard_wait","value":"100"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"create_message","time":{"start":1734491838653,"stop":1734491838653,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"publish_message","time":{"start":1734491838653,"stop":1734491838659,"duration":6},"status":"broken","statusMessage":"Exception: Error: 500 Server Error: Internal Server Error for url: http://127.0.0.1:36580/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1 with response: b''\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/store.py\", line 133, in publish_message\n    sender.send_relay_message(self.message, pubsub_topic)\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/waku_node.py\", line 343, in send_relay_message\n    return self._api.send_relay_message(message, pubsub_topic)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 51, in send_relay_message\n    return self.rest_call(\"post\", f\"relay/v1/messages/{quote(pubsub_topic, safe='')}\", json.dumps(message))\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 16, in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/base_client.py\", line 17, in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\n","steps":[],"attachments":[],"parameters":[{"name":"via","value":"'relay'"},{"name":"pubsub_topic","value":"'/waku/2/rs/3/1'"},{"name":"message","value":"{'payload': 'RmlsdGVyIHdvcmtzISE=', 'contentTopic': '/test/1/waku-filter/proto', 'timestamp': 1734491838652937216}"},{"name":"message_propagation_delay","value":"0.2"},{"name":"sender","value":"<src.node.waku_node.WakuNode object at 0x7f7ee5cf49b0>"}],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"588d1de03a4bc5e4","name":"log","source":"588d1de03a4bc5e4.txt","type":"text/plain","size":89227}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":3,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"test_setup::0","time":{"start":1734491839077,"stop":1734491839080,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes::0","time":{"start":1734491839081,"stop":1734491867364,"duration":28283},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"check_waku_log_errors::0","time":{"start":1734491867364,"stop":1734491872927,"duration":5563},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail::0","time":{"start":1734491872927,"stop":1734491873094,"duration":167},"status":"passed","steps":[],"attachments":[{"uid":"fb3e4dbfcfeb4ca3","name":"node9_2024-12-18_03-14-43__e24db026-2f67-4dc1-ad64-60cc1b46e5bc__wakuorg_go-waku:latest.log","source":"fb3e4dbfcfeb4ca3.txt","type":"text/plain","size":3662684},{"uid":"4cf1ae9f86d5688c","name":"node5_2024-12-18_03-14-43__e24db026-2f67-4dc1-ad64-60cc1b46e5bc__wakuorg_go-waku:latest.log","source":"4cf1ae9f86d5688c.txt","type":"text/plain","size":3746978},{"uid":"99d56874ee7fa958","name":"node4_2024-12-18_03-14-43__e24db026-2f67-4dc1-ad64-60cc1b46e5bc__wakuorg_go-waku:latest.log","source":"99d56874ee7fa958.txt","type":"text/plain","size":1860688},{"uid":"f4b74ceb3c5c9a33","name":"node10_2024-12-18_03-14-43__e24db026-2f67-4dc1-ad64-60cc1b46e5bc__wakuorg_go-waku:latest.log","source":"f4b74ceb3c5c9a33.txt","type":"text/plain","size":1811908},{"uid":"3844fdccfdc5ec3a","name":"node8_2024-12-18_03-14-43__e24db026-2f67-4dc1-ad64-60cc1b46e5bc__wakuorg_go-waku:latest.log","source":"3844fdccfdc5ec3a.txt","type":"text/plain","size":3686008},{"uid":"34310f9a1accd13d","name":"node2_2024-12-18_03-14-43__e24db026-2f67-4dc1-ad64-60cc1b46e5bc__wakuorg_go-waku:latest.log","source":"34310f9a1accd13d.txt","type":"text/plain","size":1873528},{"uid":"99bc9672b53ae403","name":"node15_2024-12-18_03-14-43__e24db026-2f67-4dc1-ad64-60cc1b46e5bc__wakuorg_go-waku:latest.log","source":"99bc9672b53ae403.txt","type":"text/plain","size":3371824},{"uid":"8686395b2fc5b157","name":"node16_2024-12-18_03-14-43__e24db026-2f67-4dc1-ad64-60cc1b46e5bc__wakuorg_go-waku:latest.log","source":"8686395b2fc5b157.txt","type":"text/plain","size":1682573},{"uid":"94c31c867fc3206d","name":"node7_2024-12-18_03-14-43__e24db026-2f67-4dc1-ad64-60cc1b46e5bc__wakuorg_go-waku:latest.log","source":"94c31c867fc3206d.txt","type":"text/plain","size":3716860},{"uid":"3c4884917efe16e9","name":"node11_2024-12-18_03-14-43__e24db026-2f67-4dc1-ad64-60cc1b46e5bc__wakuorg_go-waku:latest.log","source":"3c4884917efe16e9.txt","type":"text/plain","size":1779158},{"uid":"4b73c0d0a3f88fe","name":"node6_2024-12-18_03-14-43__e24db026-2f67-4dc1-ad64-60cc1b46e5bc__wakuorg_go-waku:latest.log","source":"4b73c0d0a3f88fe.txt","type":"text/plain","size":3706124},{"uid":"cc5f0ed0879f74f0","name":"node14_2024-12-18_03-14-43__e24db026-2f67-4dc1-ad64-60cc1b46e5bc__wakuorg_go-waku:latest.log","source":"cc5f0ed0879f74f0.txt","type":"text/plain","size":1735266},{"uid":"628889b94c969e0a","name":"node1_2024-12-18_03-14-43__e24db026-2f67-4dc1-ad64-60cc1b46e5bc__wakuorg_go-waku:latest.log","source":"628889b94c969e0a.txt","type":"text/plain","size":103784036},{"uid":"f14f6b98b52ea9e6","name":"node3_2024-12-18_03-14-43__e24db026-2f67-4dc1-ad64-60cc1b46e5bc__wakuorg_go-waku:latest.log","source":"f14f6b98b52ea9e6.txt","type":"text/plain","size":1869691},{"uid":"7d3619d5c9c004c6","name":"node12_2024-12-18_03-14-43__e24db026-2f67-4dc1-ad64-60cc1b46e5bc__wakuorg_go-waku:latest.log","source":"7d3619d5c9c004c6.txt","type":"text/plain","size":3566950},{"uid":"532f9f00987ce82e","name":"node2_2024-12-18_03-14-43__e24db026-2f67-4dc1-ad64-60cc1b46e5bc__wakuorg_nwaku:latest.log","source":"532f9f00987ce82e.txt","type":"text/plain","size":3559878},{"uid":"db719ae7100c4284","name":"node13_2024-12-18_03-14-43__e24db026-2f67-4dc1-ad64-60cc1b46e5bc__wakuorg_go-waku:latest.log","source":"db719ae7100c4284.txt","type":"text/plain","size":3504838}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":17,"hasContent":true,"attachmentStep":false},{"name":"set_allure_env_variables::0","time":{"start":1734492659632,"stop":1734492659632,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"timeout(300)"},{"name":"parentSuite","value":"tests.e2e"},{"name":"suite","value":"test_e2e"},{"name":"subSuite","value":"TestE2E"},{"name":"host","value":"fv-az1928-60"},{"name":"thread","value":"2326-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.e2e.test_e2e"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["timeout(300)"]},"source":"a29b1414d3ca9b2f.json","parameterValues":[]}