[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_store_node_not_connected_directly_to_lightpushing_node with id: 2025-01-20_03-05-00__7d30e7cc-6753-4f51-8d85-e0f7873c2fe9
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:28 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-01-20_03-05-00__7d30e7cc-6753-4f51-8d85-e0f7873c2fe9__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-01-20_03-05-00__7d30e7cc-6753-4f51-8d85-e0f7873c2fe9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2025-01-20_03-05-00__7d30e7cc-6753-4f51-8d85-e0f7873c2fe9__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:33 Network waku created
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.106.139
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['14338', '14339', '14340', '14341', '14342']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 14338:14338 -p 14339:14339 -p 14340:14340 -p 14341:14341 -p 14342:14342 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=14340 --rest-port=14338 --tcp-port=14339 --discv5-udp-port=14341 --rest-address=0.0.0.0 --nat=extip:172.18.106.139 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0a9ccd3b673f4aa8c4eeecc9df1b7baf5a04572ebeab2d0eb9ba0248fee145bc --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --lightpush=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.106.139 waku f84b66474df53eb9d029b0e4608d27cbc2580217b8b4368ddb928598d8437220
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID f84b66474df5. Setting up logs at ./log/docker/node1_2025-01-20_03-05-00__7d30e7cc-6753-4f51-8d85-e0f7873c2fe9__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 14338
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14338/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QHFoz0cSdhNHGWo36T8LoitVx-usnP-kpgF4fWOwmqYhe3WmIBtEDvdqemVO0tOo5qwbFtPSwfeLcNbfTXiqAbKGAZSBq78wgmlkgnY0gmlwhKwRAAKCcnODAAMAiXNlY3AyNTZrMaEDrJf48CEhIGz9FhVvWnvw8053YSxgcYsW7OW0RP8muJqDdGNwgjgDg3VkcII4BYV3YWt1Mgk","listenAddresses":["/ip4/127.0.0.1/tcp/14339/p2p/16Uiu2HAmQGisyxPvdEzpYz2UA69HT3hEye8Kz6aHd14B3S5ebxiu","/ip4/127.0.0.1/tcp/14340/ws/p2p/16Uiu2HAmQGisyxPvdEzpYz2UA69HT3hEye8Kz6aHd14B3S5ebxiu","/ip4/172.17.0.2/tcp/14339/p2p/16Uiu2HAmQGisyxPvdEzpYz2UA69HT3hEye8Kz6aHd14B3S5ebxiu","/ip4/172.17.0.2/tcp/14340/ws/p2p/16Uiu2HAmQGisyxPvdEzpYz2UA69HT3hEye8Kz6aHd14B3S5ebxiu"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.68.124
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['46153', '46154', '46155', '46156', '46157']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 46153:46153 -p 46154:46154 -p 46155:46155 -p 46156:46156 -p 46157:46157 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=46155 --rest-port=46153 --tcp-port=46154 --discv5-udp-port=46156 --rest-address=0.0.0.0 --nat=extip:172.18.68.124 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d931178e94166f119da5dcfcdbe729e5d2c728b36eabf9cfdedc183da0de6012 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=46157 --metrics-logging=true --lightpush=true --store=true --relay=true --discv5-bootstrap-node=enr:-J-4QHFoz0cSdhNHGWo36T8LoitVx-usnP-kpgF4fWOwmqYhe3WmIBtEDvdqemVO0tOo5qwbFtPSwfeLcNbfTXiqAbKGAZSBq78wgmlkgnY0gmlwhKwRAAKCcnODAAMAiXNlY3AyNTZrMaEDrJf48CEhIGz9FhVvWnvw8053YSxgcYsW7OW0RP8muJqDdGNwgjgDg3VkcII4BYV3YWt1Mgk --lightpushnode=/ip4/172.18.106.139/tcp/14339/p2p/16Uiu2HAmQGisyxPvdEzpYz2UA69HT3hEye8Kz6aHd14B3S5ebxiu
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.68.124 waku 9e66f93b0b14290a585385b37e97fc91cbb97a522a1f89becd1a7098b2d207b4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 9e66f93b0b14. Setting up logs at ./log/docker/node2_2025-01-20_03-05-00__7d30e7cc-6753-4f51-8d85-e0f7873c2fe9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 46153
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46153/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46153/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.68.124/tcp/46154/p2p/16Uiu2HAmTvToNwqhPJNgv49FUiV5m5PShRnbEkFNHBbcGZTBBApD","/ip4/172.18.68.124/tcp/46155/ws/p2p/16Uiu2HAmTvToNwqhPJNgv49FUiV5m5PShRnbEkFNHBbcGZTBBApD"],"enrUri":"enr:-L24QN5iFQFExLsoWoh1VuQp5aJzwNdi86FhM_iI9L4zZT9zV_vomo8rDf-sKnemFUn-xiQWYdiauIVgqV59GOiVJp4CgmlkgnY0gmlwhKwSRHyKbXVsdGlhZGRyc5YACASsEkR8BrRKAAoErBJEfAa0S90DgnJzhQADAQAAiXNlY3AyNTZrMaED4tYNuydIDkU2dSINejdJSA0chJM_z7wZUnlZFWyOr-aDdGNwgrRKg3VkcIK0TIV3YWt1Mgs"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.211.88
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['60466', '60467', '60468', '60469', '60470']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 60466:60466 -p 60467:60467 -p 60468:60468 -p 60469:60469 -p 60470:60470 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=60468 --rest-port=60466 --tcp-port=60467 --discv5-udp-port=60469 --rest-address=0.0.0.0 --nat=extip:172.18.211.88 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e59aaf69df1b18a73b218d5f074cebbb7d02d07b3b2611eec6fddf07a10045e4 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --storenode=/ip4/172.18.68.124/tcp/46154/p2p/16Uiu2HAmTvToNwqhPJNgv49FUiV5m5PShRnbEkFNHBbcGZTBBApD --discv5-bootstrap-node=enr:-L24QN5iFQFExLsoWoh1VuQp5aJzwNdi86FhM_iI9L4zZT9zV_vomo8rDf-sKnemFUn-xiQWYdiauIVgqV59GOiVJp4CgmlkgnY0gmlwhKwSRHyKbXVsdGlhZGRyc5YACASsEkR8BrRKAAoErBJEfAa0S90DgnJzhQADAQAAiXNlY3AyNTZrMaED4tYNuydIDkU2dSINejdJSA0chJM_z7wZUnlZFWyOr-aDdGNwgrRKg3VkcIK0TIV3YWt1Mgs --pubsub-topic=/waku/2/rs/3/1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.211.88 waku 9d27b266fe46fe7462e748043c7b4a70e8bda3163f905c14d148ff33ff323533
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 9d27b266fe46. Setting up logs at ./log/docker/node3_2025-01-20_03-05-00__7d30e7cc-6753-4f51-8d85-e0f7873c2fe9__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 60466
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60466/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QMslbBoRsYLV_vniRGpYBz_Qbt-mwkQuE-8X5Qmpcg8AdteWhY718cdoQ4Ws0TaUQkiGasZzfF8pndkkjfmytRCGAZSBq8-QgmlkgnY0gmlwhKwRAASCcnOFAAMBAAGJc2VjcDI1NmsxoQIgrBQSFn5PKN66cHimO4QSYMcV8Z3LysTHF1m-SuQNQoN0Y3CC7DODdWRwguw1hXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/60467/p2p/16Uiu2HAkwdDDKvnzcp6KHXrwy5JY2LmPrBMZeVymQtXkYAZUZL65","/ip4/127.0.0.1/tcp/60468/ws/p2p/16Uiu2HAkwdDDKvnzcp6KHXrwy5JY2LmPrBMZeVymQtXkYAZUZL65","/ip4/172.17.0.4/tcp/60467/p2p/16Uiu2HAkwdDDKvnzcp6KHXrwy5JY2LmPrBMZeVymQtXkYAZUZL65","/ip4/172.17.0.4/tcp/60468/ws/p2p/16Uiu2HAkwdDDKvnzcp6KHXrwy5JY2LmPrBMZeVymQtXkYAZUZL65"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14338/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46153/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14338/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"id":"16Uiu2HAmTvToNwqhPJNgv49FUiV5m5PShRnbEkFNHBbcGZTBBApD","multiaddrs":["/ip4/172.18.68.124/tcp/46154/p2p/16Uiu2HAmTvToNwqhPJNgv49FUiV5m5PShRnbEkFNHBbcGZTBBApD","/ip4/172.18.68.124/tcp/46155/ws/p2p/16Uiu2HAmTvToNwqhPJNgv49FUiV5m5PShRnbEkFNHBbcGZTBBApD"],"protocols":null,"connected":false,"pubsubTopics":[]}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46153/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"multiaddr":"/ip4/172.17.0.4/tcp/60467/p2p/16Uiu2HAkwdDDKvnzcp6KHXrwy5JY2LmPrBMZeVymQtXkYAZUZL65","protocols":[{"protocol":"/vac/waku/peer-exchange/2.0.0-alpha1","connected":true}],"origin":"UnknownOrigin"}]'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 30 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14338/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/1", "message": {"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": 1737342339258699264}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60466/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F1&contentTopics=%2Ftest%2F1%2Fwaku-filter%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:60466/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F1&contentTopics=%2Ftest%2F1%2Fwaku-filter%2Fproto&pageSize=50&ascending=true. Response content: b'{"messages":null,"error_message":"context deadline exceeded"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id f84b66474df5
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 9e66f93b0b14
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container f84b66474df5. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 9d27b266fe46
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node1_2025-01-20_03-05-00__7d30e7cc-6753-4f51-8d85-e0f7873c2fe9__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node2_2025-01-20_03-05-00__7d30e7cc-6753-4f51-8d85-e0f7873c2fe9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node3_2025-01-20_03-05-00__7d30e7cc-6753-4f51-8d85-e0f7873c2fe9__wakuorg_go-waku:latest.log
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_store_node_not_connected_directly_to_lightpushing_node with id: 2025-01-20_03-06-00__bbacfacd-25c7-4a8d-9264-0f033e803d63
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:28 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-01-20_03-06-00__bbacfacd-25c7-4a8d-9264-0f033e803d63__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-01-20_03-06-00__bbacfacd-25c7-4a8d-9264-0f033e803d63__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2025-01-20_03-06-00__bbacfacd-25c7-4a8d-9264-0f033e803d63__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.249.158
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['27487', '27488', '27489', '27490', '27491']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 27487:27487 -p 27488:27488 -p 27489:27489 -p 27490:27490 -p 27491:27491 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=27489 --rest-port=27487 --tcp-port=27488 --discv5-udp-port=27490 --rest-address=0.0.0.0 --nat=extip:172.18.249.158 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=60cc0e9a055fee5d0bd7d888d363f8f349f46cdee8fcc2d006023d49ecb69a1b --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --lightpush=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.249.158 waku acc689ec95b0a1aa1dd5f238bc78a480572d40fa344238cd153ac7df8a800243
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 9e66f93b0b14. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID acc689ec95b0. Setting up logs at ./log/docker/node1_2025-01-20_03-06-00__bbacfacd-25c7-4a8d-9264-0f033e803d63__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 27487
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 9d27b266fe46. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27487/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QNhTpmONmEB4k2trclVbvYUIdCTJyvVORpzxmWD7ljaFam4_f8wXccNkyhxjtR2dlYlDaFYAI7daBCJOp-NyaEyGAZSBrJzigmlkgnY0gmlwhKwRAAKCcnODAAMAiXNlY3AyNTZrMaED_HRoNWcBOsucRMXtF2zaK7KrWYWJvBouBNOxX7idYPODdGNwgmtgg3VkcIJrYoV3YWt1Mgk","listenAddresses":["/ip4/127.0.0.1/tcp/27488/p2p/16Uiu2HAmVeU3MjRPC8DaiKd268GmrqGaisHHkpieXwd6iUMqucPk","/ip4/127.0.0.1/tcp/27489/ws/p2p/16Uiu2HAmVeU3MjRPC8DaiKd268GmrqGaisHHkpieXwd6iUMqucPk","/ip4/172.17.0.2/tcp/27488/p2p/16Uiu2HAmVeU3MjRPC8DaiKd268GmrqGaisHHkpieXwd6iUMqucPk","/ip4/172.17.0.2/tcp/27489/ws/p2p/16Uiu2HAmVeU3MjRPC8DaiKd268GmrqGaisHHkpieXwd6iUMqucPk"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.237.203
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['17274', '17275', '17276', '17277', '17278']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 17274:17274 -p 17275:17275 -p 17276:17276 -p 17277:17277 -p 17278:17278 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=17276 --rest-port=17274 --tcp-port=17275 --discv5-udp-port=17277 --rest-address=0.0.0.0 --nat=extip:172.18.237.203 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d2b85c0e57bd15f5c2181ec8b76ff08e92b3cd60dd6f8dadee35ca4d9e159def --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=17278 --metrics-logging=true --lightpush=true --store=true --relay=true --discv5-bootstrap-node=enr:-J-4QNhTpmONmEB4k2trclVbvYUIdCTJyvVORpzxmWD7ljaFam4_f8wXccNkyhxjtR2dlYlDaFYAI7daBCJOp-NyaEyGAZSBrJzigmlkgnY0gmlwhKwRAAKCcnODAAMAiXNlY3AyNTZrMaED_HRoNWcBOsucRMXtF2zaK7KrWYWJvBouBNOxX7idYPODdGNwgmtgg3VkcIJrYoV3YWt1Mgk --lightpushnode=/ip4/172.18.249.158/tcp/27488/p2p/16Uiu2HAmVeU3MjRPC8DaiKd268GmrqGaisHHkpieXwd6iUMqucPk
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.237.203 waku 40f752bcdc6d9da3cf84ec2dd8b537b037ffef91676d505d166fc7502b76efc2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 40f752bcdc6d. Setting up logs at ./log/docker/node2_2025-01-20_03-06-00__bbacfacd-25c7-4a8d-9264-0f033e803d63__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 17274
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17274/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17274/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.237.203/tcp/17275/p2p/16Uiu2HAmDhiPgEdrAGmNKw4qrDK32MdauK6KZ4793H1bGMLgQipf","/ip4/172.18.237.203/tcp/17276/ws/p2p/16Uiu2HAmDhiPgEdrAGmNKw4qrDK32MdauK6KZ4793H1bGMLgQipf"],"enrUri":"enr:-L24QKp-12ozQZpVJNAfg8ro53CphIUkil7qLovc3AZCaTFuAVTjZNiVwe1HkL3pljOqffI5gbMNuND9fpkIxthPP34CgmlkgnY0gmlwhKwS7cuKbXVsdGlhZGRyc5YACASsEu3LBkN7AAoErBLtywZDfN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDD45id6VEtzfutCH-9cQqGgzFMcERFWMnPqltHtAJ4_iDdGNwgkN7g3VkcIJDfYV3YWt1Mgs"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.159.141
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['64802', '64803', '64804', '64805', '64806']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 64802:64802 -p 64803:64803 -p 64804:64804 -p 64805:64805 -p 64806:64806 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=64804 --rest-port=64802 --tcp-port=64803 --discv5-udp-port=64805 --rest-address=0.0.0.0 --nat=extip:172.18.159.141 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=4eef27c66b5ccfd0ebfcc4dbbc09b899fdf1a9aaefbadfb4fd3ed26fb5ca5f23 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --storenode=/ip4/172.18.237.203/tcp/17275/p2p/16Uiu2HAmDhiPgEdrAGmNKw4qrDK32MdauK6KZ4793H1bGMLgQipf --discv5-bootstrap-node=enr:-L24QKp-12ozQZpVJNAfg8ro53CphIUkil7qLovc3AZCaTFuAVTjZNiVwe1HkL3pljOqffI5gbMNuND9fpkIxthPP34CgmlkgnY0gmlwhKwS7cuKbXVsdGlhZGRyc5YACASsEu3LBkN7AAoErBLtywZDfN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDD45id6VEtzfutCH-9cQqGgzFMcERFWMnPqltHtAJ4_iDdGNwgkN7g3VkcIJDfYV3YWt1Mgs --pubsub-topic=/waku/2/rs/3/1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.159.141 waku 61d47e222b2455811af6beb014d22047e9588c3665c0dab4bad6d53e1db716dd
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 61d47e222b24. Setting up logs at ./log/docker/node3_2025-01-20_03-06-00__bbacfacd-25c7-4a8d-9264-0f033e803d63__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 64802
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64802/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QIUkz25sAAMMU-n5_-a7p_GptSMOO-S_oT-Xw6N_K4w9KMoTfehEEP2iYU84d5nox3i9xcImP9j-QV6gYSrMtQWGAZSBrKcFgmlkgnY0gmlwhKwRAASCcnOFAAMBAAGJc2VjcDI1NmsxoQLAvjtEe3UwG7ILp7QAsQmc2KRPZ0Sj5b1gBXL9mU_EtYN0Y3CC_SODdWRwgv0lhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/64803/p2p/16Uiu2HAm8Q4VwCUKEarU6FuJdmnUS6NNeNzc3eN34KbTjEHsVmWt","/ip4/127.0.0.1/tcp/64804/ws/p2p/16Uiu2HAm8Q4VwCUKEarU6FuJdmnUS6NNeNzc3eN34KbTjEHsVmWt","/ip4/172.17.0.4/tcp/64803/p2p/16Uiu2HAm8Q4VwCUKEarU6FuJdmnUS6NNeNzc3eN34KbTjEHsVmWt","/ip4/172.17.0.4/tcp/64804/ws/p2p/16Uiu2HAm8Q4VwCUKEarU6FuJdmnUS6NNeNzc3eN34KbTjEHsVmWt"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27487/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17274/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27487/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"id":"16Uiu2HAmDhiPgEdrAGmNKw4qrDK32MdauK6KZ4793H1bGMLgQipf","multiaddrs":["/ip4/172.18.237.203/tcp/17275/p2p/16Uiu2HAmDhiPgEdrAGmNKw4qrDK32MdauK6KZ4793H1bGMLgQipf","/ip4/172.18.237.203/tcp/17276/ws/p2p/16Uiu2HAmDhiPgEdrAGmNKw4qrDK32MdauK6KZ4793H1bGMLgQipf"],"protocols":null,"connected":false,"pubsubTopics":[]}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17274/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"multiaddr":"/ip4/172.17.0.4/tcp/64803/p2p/16Uiu2HAm8Q4VwCUKEarU6FuJdmnUS6NNeNzc3eN34KbTjEHsVmWt","protocols":[{"protocol":"/vac/waku/peer-exchange/2.0.0-alpha1","connected":true}],"origin":"UnknownOrigin"}]'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 30 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27487/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/1", "message": {"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": 1737342394413981952}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64802/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F1&contentTopics=%2Ftest%2F1%2Fwaku-filter%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"c2cd98ea4ed1d92bf5921d7f3ae3aa3f0d9e06bab4aa34b7ac758211fda683a6","status_code":200,"status_desc":"OK"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id acc689ec95b0
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 40f752bcdc6d
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 61d47e222b24
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container acc689ec95b0. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node2_2025-01-20_03-06-00__bbacfacd-25c7-4a8d-9264-0f033e803d63__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node3_2025-01-20_03-06-00__bbacfacd-25c7-4a8d-9264-0f033e803d63__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node1_2025-01-20_03-06-00__bbacfacd-25c7-4a8d-9264-0f033e803d63__wakuorg_go-waku:latest.log
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_store_node_not_connected_directly_to_lightpushing_node with id: 2025-01-20_03-06-37__4c543453-17ce-4f93-a227-fd685d404522
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:28 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-01-20_03-06-37__4c543453-17ce-4f93-a227-fd685d404522__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-01-20_03-06-37__4c543453-17ce-4f93-a227-fd685d404522__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2025-01-20_03-06-37__4c543453-17ce-4f93-a227-fd685d404522__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.253.14
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['7009', '7010', '7011', '7012', '7013']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 7009:7009 -p 7010:7010 -p 7011:7011 -p 7012:7012 -p 7013:7013 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=7011 --rest-port=7009 --tcp-port=7010 --discv5-udp-port=7012 --rest-address=0.0.0.0 --nat=extip:172.18.253.14 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ad6cc09e467edf364f7bfbdbacdccb8313b8fd77ba9de1fedaf67cff60dbfc62 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --lightpush=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.253.14 waku 0e382322acd1406473b07a91b4d5b27fe0c6d8cda80b46f870b672643c2cdf14
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 0e382322acd1. Setting up logs at ./log/docker/node1_2025-01-20_03-06-37__4c543453-17ce-4f93-a227-fd685d404522__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 7009
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 40f752bcdc6d. Exiting log stream.
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 61d47e222b24. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7009/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QAtMBK8Ig-V-RYwjUzROARurZy2JiLFfhRz0Qip0911PHfWbwEJQy1MkNUuu4PawULFai6LdPRFeU01qNSY52VuGAZSBrSxrgmlkgnY0gmlwhKwRAAKCcnODAAMAiXNlY3AyNTZrMaEDVqsKt-8MvLOZzQCNGRUwO-pueSdszHMwQD5vfu5L2ZmDdGNwghtig3VkcIIbZIV3YWt1Mgk","listenAddresses":["/ip4/127.0.0.1/tcp/7010/p2p/16Uiu2HAmJVJgZdpA99R2QpSuxSAskRfX5NkB15CtU73qeMyQwydr","/ip4/127.0.0.1/tcp/7011/ws/p2p/16Uiu2HAmJVJgZdpA99R2QpSuxSAskRfX5NkB15CtU73qeMyQwydr","/ip4/172.17.0.2/tcp/7010/p2p/16Uiu2HAmJVJgZdpA99R2QpSuxSAskRfX5NkB15CtU73qeMyQwydr","/ip4/172.17.0.2/tcp/7011/ws/p2p/16Uiu2HAmJVJgZdpA99R2QpSuxSAskRfX5NkB15CtU73qeMyQwydr"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.14.14
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['3220', '3221', '3222', '3223', '3224']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 3220:3220 -p 3221:3221 -p 3222:3222 -p 3223:3223 -p 3224:3224 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=3222 --rest-port=3220 --tcp-port=3221 --discv5-udp-port=3223 --rest-address=0.0.0.0 --nat=extip:172.18.14.14 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=02dbce7d32afad950dbfa1f7eaccdf3217f82db33017da84ca883dc2cb0e1128 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=3224 --metrics-logging=true --lightpush=true --store=true --relay=true --discv5-bootstrap-node=enr:-J-4QAtMBK8Ig-V-RYwjUzROARurZy2JiLFfhRz0Qip0911PHfWbwEJQy1MkNUuu4PawULFai6LdPRFeU01qNSY52VuGAZSBrSxrgmlkgnY0gmlwhKwRAAKCcnODAAMAiXNlY3AyNTZrMaEDVqsKt-8MvLOZzQCNGRUwO-pueSdszHMwQD5vfu5L2ZmDdGNwghtig3VkcIIbZIV3YWt1Mgk --lightpushnode=/ip4/172.18.253.14/tcp/7010/p2p/16Uiu2HAmJVJgZdpA99R2QpSuxSAskRfX5NkB15CtU73qeMyQwydr
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.14.14 waku 8f8dd822cda57564046797d5edcf497507e92f12579077fce63dc51c280931a9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 8f8dd822cda5. Setting up logs at ./log/docker/node2_2025-01-20_03-06-37__4c543453-17ce-4f93-a227-fd685d404522__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 3220
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3220/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3220/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.14.14/tcp/3221/p2p/16Uiu2HAmGT6sQPsC8E92v2icL7zxRt2we86vyiYNAJGiRmwtXWyy","/ip4/172.18.14.14/tcp/3222/ws/p2p/16Uiu2HAmGT6sQPsC8E92v2icL7zxRt2we86vyiYNAJGiRmwtXWyy"],"enrUri":"enr:-L24QDOf3JCE5wocOY1tHEav-N0QIc2JenWbHGV1EMnfWKBQAe9BzN0NZI4ZDXlVyVWDWihpt3qBPx7N5olA3zgFnUsCgmlkgnY0gmlwhKwSDg6KbXVsdGlhZGRyc5YACASsEg4OBgyVAAoErBIODgYMlt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDOGMmOA73H47k1aQmFyUe5fswEABmQoHiO7u5on2EXpyDdGNwggyVg3VkcIIMl4V3YWt1Mgs"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.172.123
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['1813', '1814', '1815', '1816', '1817']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 1813:1813 -p 1814:1814 -p 1815:1815 -p 1816:1816 -p 1817:1817 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=1815 --rest-port=1813 --tcp-port=1814 --discv5-udp-port=1816 --rest-address=0.0.0.0 --nat=extip:172.18.172.123 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=682be3d6dca32268a31a9f6a6b5f10682a6439c6b3cdea7e54bdabdb117a13f4 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --storenode=/ip4/172.18.14.14/tcp/3221/p2p/16Uiu2HAmGT6sQPsC8E92v2icL7zxRt2we86vyiYNAJGiRmwtXWyy --discv5-bootstrap-node=enr:-L24QDOf3JCE5wocOY1tHEav-N0QIc2JenWbHGV1EMnfWKBQAe9BzN0NZI4ZDXlVyVWDWihpt3qBPx7N5olA3zgFnUsCgmlkgnY0gmlwhKwSDg6KbXVsdGlhZGRyc5YACASsEg4OBgyVAAoErBIODgYMlt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDOGMmOA73H47k1aQmFyUe5fswEABmQoHiO7u5on2EXpyDdGNwggyVg3VkcIIMl4V3YWt1Mgs --pubsub-topic=/waku/2/rs/3/1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.172.123 waku be8c1400c1ebf79ee350c2597d5020fa4ca879682485755f2841c2fedc1a2c63
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID be8c1400c1eb. Setting up logs at ./log/docker/node3_2025-01-20_03-06-37__4c543453-17ce-4f93-a227-fd685d404522__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 1813
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1813/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QKEtsmalgivoACTxNDLTLFNfDfAR62VclEJEnlNyRxCgDsjbJ7JJ0p4yKZEuT1sK7QoVgQz4y9Tc-NK-jsz4IA6GAZSBrTazgmlkgnY0gmlwhKwRAASCcnOFAAMBAAGJc2VjcDI1NmsxoQIGGSupIYntQOM9ZSxrrJyBZ2gAi-mGBXsna1gV-WwnC4N0Y3CCBxaDdWRwggcYhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/1814/p2p/16Uiu2HAkuqUgopjPyKcs62vH6hR4ZevfKSbw9Upio7jFk1Ykkodc","/ip4/127.0.0.1/tcp/1815/ws/p2p/16Uiu2HAkuqUgopjPyKcs62vH6hR4ZevfKSbw9Upio7jFk1Ykkodc","/ip4/172.17.0.4/tcp/1814/p2p/16Uiu2HAkuqUgopjPyKcs62vH6hR4ZevfKSbw9Upio7jFk1Ykkodc","/ip4/172.17.0.4/tcp/1815/ws/p2p/16Uiu2HAkuqUgopjPyKcs62vH6hR4ZevfKSbw9Upio7jFk1Ykkodc"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7009/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3220/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7009/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"id":"16Uiu2HAmGT6sQPsC8E92v2icL7zxRt2we86vyiYNAJGiRmwtXWyy","multiaddrs":["/ip4/172.18.14.14/tcp/3221/p2p/16Uiu2HAmGT6sQPsC8E92v2icL7zxRt2we86vyiYNAJGiRmwtXWyy","/ip4/172.18.14.14/tcp/3222/ws/p2p/16Uiu2HAmGT6sQPsC8E92v2icL7zxRt2we86vyiYNAJGiRmwtXWyy"],"protocols":null,"connected":false,"pubsubTopics":[]}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3220/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"multiaddr":"/ip4/172.17.0.4/tcp/1814/p2p/16Uiu2HAkuqUgopjPyKcs62vH6hR4ZevfKSbw9Upio7jFk1Ykkodc","protocols":[{"protocol":"/vac/waku/peer-exchange/2.0.0-alpha1","connected":true}],"origin":"UnknownOrigin"}]'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 30 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7009/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/1", "message": {"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": 1737342431202254848}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1813/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F1&contentTopics=%2Ftest%2F1%2Fwaku-filter%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"da4b9348e1d2231e740296e02aa104425cdee01a36d79a7aa648251b4a607f47","status_code":200,"status_desc":"OK"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 0e382322acd1
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 8f8dd822cda5
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id be8c1400c1eb
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 0e382322acd1. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node1_2025-01-20_03-06-37__4c543453-17ce-4f93-a227-fd685d404522__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node2_2025-01-20_03-06-37__4c543453-17ce-4f93-a227-fd685d404522__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node3_2025-01-20_03-06-37__4c543453-17ce-4f93-a227-fd685d404522__wakuorg_go-waku:latest.log