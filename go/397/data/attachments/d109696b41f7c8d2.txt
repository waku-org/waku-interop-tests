[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_relay_get_message_after_one_peer_was_stopped with id: 2024-12-17_03-25-29__1a4e9463-5990-4a77-902a-a74c18232768
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-17_03-25-29__1a4e9463-5990-4a77-902a-a74c18232768__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.131.242
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['49144', '49145', '49146', '49147', '49148']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 49144:49144 -p 49145:49145 -p 49146:49146 -p 49147:49147 -p 49148:49148 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=49146 --rest-port=49144 --tcp-port=49145 --discv5-udp-port=49147 --rest-address=0.0.0.0 --nat=extip:172.18.131.242 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=db5ba8f6f38bbaac42d6ce99b7da8d1026ab8fb7eb0fdef6bca9aedabcd2eda5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=49148 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.27.157
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['46850', '46851', '46852', '46853', '46854']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 46850:46850 -p 46851:46851 -p 46852:46852 -p 46853:46853 -p 46854:46854 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=46852 --rest-port=46850 --tcp-port=46851 --discv5-udp-port=46853 --rest-address=0.0.0.0 --nat=extip:172.18.27.157 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a7d85d4893571e5d98e6311dcefaac7ffa8f79dc46c58bd49db0f1a0f96cbbb5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=46854 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.27.157 waku 79d24be3a6526cdd482169766120e2d06bafc301a54641c1948901ccea37ab0c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 79d24be3a652. Setting up logs at ./log/docker/node1_2024-12-17_03-25-29__1a4e9463-5990-4a77-902a-a74c18232768__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 46850
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 5603f7f0795c. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46850/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46850/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.27.157/tcp/46851/p2p/16Uiu2HAm8SRv6G9XwQqPHLBaWefpHpNjYYqjjDbvrWgERvmrMRqd","/ip4/172.18.27.157/tcp/46852/ws/p2p/16Uiu2HAm8SRv6G9XwQqPHLBaWefpHpNjYYqjjDbvrWgERvmrMRqd"],"enrUri":"enr:-L24QAy5Wa4kHyjVyNLfe7NHe_oWYN5SPedWptSCUrDQ7v7OfuqXleketw5oqKrlcv4HOnNySlS8mxHvNOkfk1CAUJQCgmlkgnY0gmlwhKwSG52KbXVsdGlhZGRyc5YACASsEhudBrcDAAoErBIbnQa3BN0DgnJzhQADAQAAiXNlY3AyNTZrMaECwVmb3F3wlZTbgbgQJr0HQuXwvvzjZ2pbi86LTM0Vn1SDdGNwgrcDg3VkcIK3BYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-17_03-25-29__1a4e9463-5990-4a77-902a-a74c18232768__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.162.192
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['21936', '21937', '21938', '21939', '21940']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 21936:21936 -p 21937:21937 -p 21938:21938 -p 21939:21939 -p 21940:21940 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=21938 --rest-port=21936 --tcp-port=21937 --discv5-udp-port=21939 --rest-address=0.0.0.0 --nat=extip:172.18.162.192 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0384ec9c22e6bf0dd97b08103d450cebcecbfdd8b519da0b01ddf9aaca775ca8 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-L24QAy5Wa4kHyjVyNLfe7NHe_oWYN5SPedWptSCUrDQ7v7OfuqXleketw5oqKrlcv4HOnNySlS8mxHvNOkfk1CAUJQCgmlkgnY0gmlwhKwSG52KbXVsdGlhZGRyc5YACASsEhudBrcDAAoErBIbnQa3BN0DgnJzhQADAQAAiXNlY3AyNTZrMaECwVmb3F3wlZTbgbgQJr0HQuXwvvzjZ2pbi86LTM0Vn1SDdGNwgrcDg3VkcIK3BYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.162.192 waku 09e49ada401a628064458460b16b50122a3bd81ed2edee7ca0be39dc8bcfedc9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 09e49ada401a. Setting up logs at ./log/docker/node2_2024-12-17_03-25-29__1a4e9463-5990-4a77-902a-a74c18232768__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 21936
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21936/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QHCIm9CeRypZKKuk3jLkCwOrQUEGW4WelqghL2tg6a5HIIXHHFH66g6e2gRXGthfJRtSdf0qh_JSsbr5yUgpzv6GAZPSpkGygmlkgnY0gmlwhKwRAAuCcnODAAMAiXNlY3AyNTZrMaEC_t9VJQxgAqGSMFJTYtmr2nOoK4IZ_8qvlU8sqVQviy6DdGNwglWxg3VkcIJVs4V3YWt1MgE","listenAddresses":["/ip4/127.0.0.1/tcp/21937/p2p/16Uiu2HAmCab3xDW1DbJ13D4vRtW1WsyRuPTdf374yUVhWenQgDK3","/ip4/127.0.0.1/tcp/21938/ws/p2p/16Uiu2HAmCab3xDW1DbJ13D4vRtW1WsyRuPTdf374yUVhWenQgDK3","/ip4/172.17.0.11/tcp/21937/p2p/16Uiu2HAmCab3xDW1DbJ13D4vRtW1WsyRuPTdf374yUVhWenQgDK3","/ip4/172.17.0.11/tcp/21938/ws/p2p/16Uiu2HAmCab3xDW1DbJ13D4vRtW1WsyRuPTdf374yUVhWenQgDK3"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21936/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.27.157/tcp/46851/p2p/16Uiu2HAm8SRv6G9XwQqPHLBaWefpHpNjYYqjjDbvrWgERvmrMRqd", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-12-17_03-25-29__1a4e9463-5990-4a77-902a-a74c18232768__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.107.59
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['29027', '29028', '29029', '29030', '29031']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 29027:29027 -p 29028:29028 -p 29029:29029 -p 29030:29030 -p 29031:29031 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=29029 --rest-port=29027 --tcp-port=29028 --discv5-udp-port=29030 --rest-address=0.0.0.0 --nat=extip:172.18.107.59 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c4eef5bfccfa0f78261d87cec6ae497469b6668bdc2d1869ab90f28dc25fba13 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=29031 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QAy5Wa4kHyjVyNLfe7NHe_oWYN5SPedWptSCUrDQ7v7OfuqXleketw5oqKrlcv4HOnNySlS8mxHvNOkfk1CAUJQCgmlkgnY0gmlwhKwSG52KbXVsdGlhZGRyc5YACASsEhudBrcDAAoErBIbnQa3BN0DgnJzhQADAQAAiXNlY3AyNTZrMaECwVmb3F3wlZTbgbgQJr0HQuXwvvzjZ2pbi86LTM0Vn1SDdGNwgrcDg3VkcIK3BYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.107.59 waku 32eccae4438203f9cce609b5e2fba0d6ab08418cc1d358684acb474d911702fa
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 32eccae44382. Setting up logs at ./log/docker/node3_2024-12-17_03-25-29__1a4e9463-5990-4a77-902a-a74c18232768__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 29027
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29027/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29027/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.107.59/tcp/29028/p2p/16Uiu2HAm2LSXpe8hUxucokJmvQ73RbVfhcXSQ5t5V6LxwmtPgVtT","/ip4/172.18.107.59/tcp/29029/ws/p2p/16Uiu2HAm2LSXpe8hUxucokJmvQ73RbVfhcXSQ5t5V6LxwmtPgVtT"],"enrUri":"enr:-L24QIm2GJQxOk2nM9Xix-NBR4Ul8-ywMDdsRB94Dl5g_QhkIiH-kMJXg_wgxAZ_QzymG5YUbYDSktKoy0GQFBGWItwCgmlkgnY0gmlwhKwSazuKbXVsdGlhZGRyc5YACASsEms7BnFkAAoErBJrOwZxZd0DgnJzhQADAQAAiXNlY3AyNTZrMaECZqqy8KHhATyRbyBkTE5XH0YobEbNBzxZ1bnjufiBiPCDdGNwgnFkg3VkcIJxZoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29027/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.27.157/tcp/46851/p2p/16Uiu2HAm8SRv6G9XwQqPHLBaWefpHpNjYYqjjDbvrWgERvmrMRqd"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-12-17_03-25-29__1a4e9463-5990-4a77-902a-a74c18232768__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.223.232
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['28103', '28104', '28105', '28106', '28107']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 28103:28103 -p 28104:28104 -p 28105:28105 -p 28106:28106 -p 28107:28107 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=28105 --rest-port=28103 --tcp-port=28104 --discv5-udp-port=28106 --rest-address=0.0.0.0 --nat=extip:172.18.223.232 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c0fde4a3d77f21da98deb55fad1b4fdfcba64d964dc8126fcb602594c43bbf79 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-L24QAy5Wa4kHyjVyNLfe7NHe_oWYN5SPedWptSCUrDQ7v7OfuqXleketw5oqKrlcv4HOnNySlS8mxHvNOkfk1CAUJQCgmlkgnY0gmlwhKwSG52KbXVsdGlhZGRyc5YACASsEhudBrcDAAoErBIbnQa3BN0DgnJzhQADAQAAiXNlY3AyNTZrMaECwVmb3F3wlZTbgbgQJr0HQuXwvvzjZ2pbi86LTM0Vn1SDdGNwgrcDg3VkcIK3BYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.223.232 waku 5183e6219fac21b963c05ff6fc45f1f83aa778fa0542cdf5aa8eaa47e568dfc0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 5183e6219fac. Setting up logs at ./log/docker/node4_2024-12-17_03-25-29__1a4e9463-5990-4a77-902a-a74c18232768__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 28103
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28103/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QGIpW0AXTvoxWFpChbdSIoVkHLMCdm9vGAeuftKgHfrPS7NjqA0juDfVyv-MNJOjQBb-_tMqS28YpD0vX1ak-XCGAZPSpk3RgmlkgnY0gmlwhKwRABGCcnODAAMAiXNlY3AyNTZrMaEDY2xNUiRjJya1kYS6Y6ZOy58FuHJxgXsjLKD-n7yM5JuDdGNwgm3Ig3VkcIJtyoV3YWt1MgE","listenAddresses":["/ip4/127.0.0.1/tcp/28104/p2p/16Uiu2HAmKM6VhNG9XGfuZind8XfD4xTBNFGR4M5dYy4fwugJjPaA","/ip4/127.0.0.1/tcp/28105/ws/p2p/16Uiu2HAmKM6VhNG9XGfuZind8XfD4xTBNFGR4M5dYy4fwugJjPaA","/ip4/172.17.0.17/tcp/28104/p2p/16Uiu2HAmKM6VhNG9XGfuZind8XfD4xTBNFGR4M5dYy4fwugJjPaA","/ip4/172.17.0.17/tcp/28105/ws/p2p/16Uiu2HAmKM6VhNG9XGfuZind8XfD4xTBNFGR4M5dYy4fwugJjPaA"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28103/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.27.157/tcp/46851/p2p/16Uiu2HAm8SRv6G9XwQqPHLBaWefpHpNjYYqjjDbvrWgERvmrMRqd", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-12-17_03-25-29__1a4e9463-5990-4a77-902a-a74c18232768__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.12.39
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['57342', '57343', '57344', '57345', '57346']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 57342:57342 -p 57343:57343 -p 57344:57344 -p 57345:57345 -p 57346:57346 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=57344 --rest-port=57342 --tcp-port=57343 --discv5-udp-port=57345 --rest-address=0.0.0.0 --nat=extip:172.18.12.39 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cabe5d98abcbbbd7fc7c63799a77f457eb1cfc6d8ef7191b38016cde9f6cbafc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=57346 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QAy5Wa4kHyjVyNLfe7NHe_oWYN5SPedWptSCUrDQ7v7OfuqXleketw5oqKrlcv4HOnNySlS8mxHvNOkfk1CAUJQCgmlkgnY0gmlwhKwSG52KbXVsdGlhZGRyc5YACASsEhudBrcDAAoErBIbnQa3BN0DgnJzhQADAQAAiXNlY3AyNTZrMaECwVmb3F3wlZTbgbgQJr0HQuXwvvzjZ2pbi86LTM0Vn1SDdGNwgrcDg3VkcIK3BYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.12.39 waku 377e7d682022a9d706e6ee0dffb6073b1c8025868ce1189d6f1171c4b925941c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 377e7d682022. Setting up logs at ./log/docker/node5_2024-12-17_03-25-29__1a4e9463-5990-4a77-902a-a74c18232768__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 57342
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57342/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57342/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.12.39/tcp/57343/p2p/16Uiu2HAmHAmYDgRSjuBq1erFzVtaGhDbpNnZwHUBfvJCVt3VDpBn","/ip4/172.18.12.39/tcp/57344/ws/p2p/16Uiu2HAmHAmYDgRSjuBq1erFzVtaGhDbpNnZwHUBfvJCVt3VDpBn"],"enrUri":"enr:-L24QDiT1Akggbr7369j4YCXpylXoHZ5Feki76tMNHZGJKFmWS7dTBBUybbbYF128SaacI09sr7RcYLf5xL1geE5iJ8CgmlkgnY0gmlwhKwSDCeKbXVsdGlhZGRyc5YACASsEgwnBt__AAoErBIMJwbgAN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDQw-vlznp2yNQnNHi6qRLvnun_GB5PckZd56L5481LK2DdGNwgt__g3VkcILgAYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57342/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.27.157/tcp/46851/p2p/16Uiu2HAm8SRv6G9XwQqPHLBaWefpHpNjYYqjjDbvrWgERvmrMRqd"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46850/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21936/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29027/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28103/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57342/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46850/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46850/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734405937311975680,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21936/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734405937311975680,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29027/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734405937311975680,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28103/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734405937311975680,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57342/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734405937311975680,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46850/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46850/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734405937450589696,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21936/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734405937450589696,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29027/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734405937450589696,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28103/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734405937450589696,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57342/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734405937450589696,"ephemeral":false}]'
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 09e49ada401a
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46850/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29027/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734405938614018816,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28103/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734405938614018816,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57342/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734405938614018816,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 79d24be3a652
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 09e49ada401a. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 32eccae44382
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 79d24be3a652. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 5183e6219fac
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 377e7d682022
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 32eccae44382. Exiting log stream.
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 5183e6219fac. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.