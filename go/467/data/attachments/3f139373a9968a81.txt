2025-02-15 03:06:52.578 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-15 03:06:52.578 DEBUG [tests.conftest] Running test: test_multiple_pubsub_topics_same_cluster with id: 2025-02-15_03-06-52__5c7cb83b-0bca-46a4-82fb-7c6e9c187e16
2025-02-15 03:06:52.578 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-15 03:06:52.579 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-15 03:06:52.579 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-15 03:06:52.587 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-15 03:06:52.587 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-15_03-06-52__5c7cb83b-0bca-46a4-82fb-7c6e9c187e16__wakuorg_nwaku:latest.log
2025-02-15 03:06:52.587 DEBUG [src.node.waku_node] Starting Node...
2025-02-15 03:06:52.587 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-15 03:06:52.588 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-15 03:06:52.589 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.122.207
2025-02-15 03:06:52.589 DEBUG [src.node.docker_mananger] Generated ports ['45209', '45210', '45211', '45212', '45213']
2025-02-15 03:06:52.589 DEBUG [src.node.waku_node] Cluster id was resolved to: 2
2025-02-15 03:06:52.589 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-15 03:06:52.589 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-15 03:06:52.589 DEBUG [src.node.waku_node] Using volumes []
2025-02-15 03:06:52.590 DEBUG [src.node.docker_mananger] docker run -i -t -p 45209:45209 -p 45210:45210 -p 45211:45211 -p 45212:45212 -p 45213:45213 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=45211 --rest-port=45209 --tcp-port=45210 --discv5-udp-port=45212 --rest-address=0.0.0.0 --nat=extip:172.18.122.207 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=991907a7c2aebefdcbade72e495ebe3c6edda4eb3a572f0973cffe8b7fabfeef --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=45213 --metrics-logging=true --relay=true --filter=true --pubsub-topic=/waku/2/rs/2/0 --pubsub-topic=/waku/2/rs/2/1 --pubsub-topic=/waku/2/rs/2/2 --pubsub-topic=/waku/2/rs/2/3 --pubsub-topic=/waku/2/rs/2/4 --pubsub-topic=/waku/2/rs/2/5 --pubsub-topic=/waku/2/rs/2/6 --pubsub-topic=/waku/2/rs/2/7
2025-02-15 03:06:52.628 ERROR [src.node.docker_mananger] Max retries reached for container ab7ee5a6f944. Exiting log stream.
2025-02-15 03:06:52.806 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.122.207 waku c4c9714e1f6dbb7af137724efd62ae22124880ac928df018a3028a4bb084f93f
2025-02-15 03:06:52.857 DEBUG [src.node.docker_mananger] Container started with ID c4c9714e1f6d. Setting up logs at ./log/docker/node1_2025-02-15_03-06-52__5c7cb83b-0bca-46a4-82fb-7c6e9c187e16__wakuorg_nwaku:latest.log
2025-02-15 03:06:52.857 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 45209
2025-02-15 03:06:52.858 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-15 03:06:53.394 ERROR [src.node.docker_mananger] Max retries reached for container 6fba0bf4d7d3. Exiting log stream.
2025-02-15 03:06:53.859 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45209/health" -H "Content-Type: application/json" -d 'None'
2025-02-15 03:06:53.862 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-15 03:06:53.862 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-15 03:06:53.862 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45209/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-15 03:06:53.865 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.122.207/tcp/45210/p2p/16Uiu2HAmFAPH1KEdnNXYhGz3L6x7qmHL936DfatXyG1C5XewMRaT","/ip4/172.18.122.207/tcp/45211/ws/p2p/16Uiu2HAmFAPH1KEdnNXYhGz3L6x7qmHL936DfatXyG1C5XewMRaT"],"enrUri":"enr:-Mu4QN_gjBrIPoYicg4fI_zZY7E9PvTZfC9jrpqR9_QBW_HdQo7LXY3TpRFzBy70ZAm7kN2uyGlXmJLXO59mlL-w9tsCgmlkgnY0gmlwhKwSes-KbXVsdGlhZGRyc5YACASsEnrPBrCaAAoErBJ6zwawm90DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQMlPyPWXcYnz8j2v3y0tiT7FBch7tjwpz0fJAcuXrl8FIN0Y3CCsJqDdWRwgrCchXdha3UyBQ"}'
2025-02-15 03:06:53.865 INFO [src.node.waku_node] REST service is ready !!
2025-02-15 03:06:53.871 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-15 03:06:53.871 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-15_03-06-52__5c7cb83b-0bca-46a4-82fb-7c6e9c187e16__wakuorg_go-waku:latest.log
2025-02-15 03:06:53.872 DEBUG [src.node.waku_node] Starting Node...
2025-02-15 03:06:53.872 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-15 03:06:53.873 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-15 03:06:53.873 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.70.32
2025-02-15 03:06:53.873 DEBUG [src.node.docker_mananger] Generated ports ['36540', '36541', '36542', '36543', '36544']
2025-02-15 03:06:53.873 DEBUG [src.node.waku_node] Cluster id was resolved to: 2
2025-02-15 03:06:53.874 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-15 03:06:53.874 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-15 03:06:53.874 DEBUG [src.node.waku_node] Using volumes []
2025-02-15 03:06:53.874 DEBUG [src.node.docker_mananger] docker run -i -t -p 36540:36540 -p 36541:36541 -p 36542:36542 -p 36543:36543 -p 36544:36544 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=36542 --rest-port=36540 --tcp-port=36541 --discv5-udp-port=36543 --rest-address=0.0.0.0 --nat=extip:172.18.70.32 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=75cfd4cabde06f640876ddfaf22ff22fc51fd161a4be62cf8ffa5cbe30a43edb --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-Mu4QN_gjBrIPoYicg4fI_zZY7E9PvTZfC9jrpqR9_QBW_HdQo7LXY3TpRFzBy70ZAm7kN2uyGlXmJLXO59mlL-w9tsCgmlkgnY0gmlwhKwSes-KbXVsdGlhZGRyc5YACASsEnrPBrCaAAoErBJ6zwawm90DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQMlPyPWXcYnz8j2v3y0tiT7FBch7tjwpz0fJAcuXrl8FIN0Y3CCsJqDdWRwgrCchXdha3UyBQ --pubsub-topic=/waku/2/rs/2/0 --pubsub-topic=/waku/2/rs/2/1 --pubsub-topic=/waku/2/rs/2/2 --pubsub-topic=/waku/2/rs/2/3 --pubsub-topic=/waku/2/rs/2/4 --pubsub-topic=/waku/2/rs/2/5 --pubsub-topic=/waku/2/rs/2/6 --pubsub-topic=/waku/2/rs/2/7
2025-02-15 03:06:54.101 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.70.32 waku 2fdb4705791699c03f510bf667de2144acf1261c2fc1e0b24ff2e2d25abff894
2025-02-15 03:06:54.161 DEBUG [src.node.docker_mananger] Container started with ID 2fdb47057916. Setting up logs at ./log/docker/node2_2025-02-15_03-06-52__5c7cb83b-0bca-46a4-82fb-7c6e9c187e16__wakuorg_go-waku:latest.log
2025-02-15 03:06:54.162 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 36540
2025-02-15 03:06:54.163 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-15 03:06:55.163 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36540/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-15 03:06:55.165 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-K-4QPw752ZafGKpNPe8tX-AozdxAJDn3_Pvd8O_PEPtafY2denpZGhT1Wy1iKFGsXZ0cUGOqp7IwwFMVyd2RklNP1yGAZUHksVGgmlkgnY0gmlwhKwRAAOCcnOTAAIIAAMABAAFAAYABwAAAAEAAolzZWNwMjU2azGhA77SGKRx-0JbntyR6K_vVOllZ6xhmQvgvY7req_oFZvLg3RjcIKOvYN1ZHCCjr-Fd2FrdTIB","listenAddresses":["/ip4/127.0.0.1/tcp/36541/p2p/16Uiu2HAmRVsd7NN3Cpv9RdiVpfdR4AfeESBrzgXMi2SYnD4Yosht","/ip4/127.0.0.1/tcp/36542/ws/p2p/16Uiu2HAmRVsd7NN3Cpv9RdiVpfdR4AfeESBrzgXMi2SYnD4Yosht","/ip4/172.17.0.3/tcp/36541/p2p/16Uiu2HAmRVsd7NN3Cpv9RdiVpfdR4AfeESBrzgXMi2SYnD4Yosht","/ip4/172.17.0.3/tcp/36542/ws/p2p/16Uiu2HAmRVsd7NN3Cpv9RdiVpfdR4AfeESBrzgXMi2SYnD4Yosht"]}'
2025-02-15 03:06:55.166 INFO [src.node.waku_node] REST service is ready !!
2025-02-15 03:06:55.166 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:36540/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.122.207/tcp/45210/p2p/16Uiu2HAmFAPH1KEdnNXYhGz3L6x7qmHL936DfatXyG1C5XewMRaT", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-15 03:06:55.168 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-15 03:06:55.168 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45209/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2", "/waku/2/rs/2/3", "/waku/2/rs/2/4", "/waku/2/rs/2/5", "/waku/2/rs/2/6", "/waku/2/rs/2/7"]'
2025-02-15 03:06:55.171 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 03:06:55.171 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:36540/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2", "/waku/2/rs/2/3", "/waku/2/rs/2/4", "/waku/2/rs/2/5", "/waku/2/rs/2/6", "/waku/2/rs/2/7"]'
2025-02-15 03:06:55.173 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-15 03:06:55.174 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45209/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-15 03:06:55.178 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 03:06:55.178 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 03:06:55.279 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-15 03:06:55.279 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45209/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 03:06:55.282 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739588815174059264,"ephemeral":false}]'
2025-02-15 03:06:55.284 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-15 03:06:55.284 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36540/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 03:06:55.286 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739588815174059264,"ephemeral":false}]'
2025-02-15 03:06:55.288 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45209/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-15 03:06:55.292 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 03:06:55.292 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 03:06:55.392 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-15 03:06:55.393 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45209/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-15 03:06:55.395 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739588815287957504,"ephemeral":false}]'
2025-02-15 03:06:55.397 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-15 03:06:55.397 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36540/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-15 03:06:55.399 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739588815287957504,"ephemeral":false}]'
2025-02-15 03:06:55.400 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45209/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-15 03:06:55.405 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 03:06:55.405 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 03:06:55.505 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-15 03:06:55.505 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45209/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d 'None'
2025-02-15 03:06:55.508 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739588815400579584,"ephemeral":false}]'
2025-02-15 03:06:55.510 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-15 03:06:55.510 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36540/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d 'None'
2025-02-15 03:06:55.511 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739588815400579584,"ephemeral":false}]'
2025-02-15 03:06:55.513 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45209/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-15 03:06:55.517 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 03:06:55.518 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 03:06:55.618 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-15 03:06:55.618 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45209/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-15 03:06:55.620 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739588815513394432,"ephemeral":false}]'
2025-02-15 03:06:55.622 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-15 03:06:55.622 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36540/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-15 03:06:55.624 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739588815513394432,"ephemeral":false}]'
2025-02-15 03:06:55.625 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45209/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-15 03:06:55.630 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 03:06:55.630 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 03:06:55.730 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-15 03:06:55.730 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45209/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-15 03:06:55.733 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739588815625627392,"ephemeral":false}]'
2025-02-15 03:06:55.734 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-15 03:06:55.734 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36540/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-15 03:06:55.736 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739588815625627392,"ephemeral":false}]'
2025-02-15 03:06:55.737 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45209/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-15 03:06:55.741 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 03:06:55.742 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 03:06:55.842 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-15 03:06:55.842 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45209/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-15 03:06:55.845 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739588815737603840,"ephemeral":false}]'
2025-02-15 03:06:55.846 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-15 03:06:55.846 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36540/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-15 03:06:55.848 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739588815737603840,"ephemeral":false}]'
2025-02-15 03:06:55.850 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45209/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-15 03:06:55.854 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 03:06:55.854 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 03:06:55.954 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-15 03:06:55.955 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45209/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-15 03:06:55.957 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739588815849866240,"ephemeral":false}]'
2025-02-15 03:06:55.959 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-15 03:06:55.959 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36540/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-15 03:06:55.961 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739588815849866240,"ephemeral":false}]'
2025-02-15 03:06:55.963 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45209/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-15 03:06:55.968 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 03:06:55.969 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 03:06:56.069 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-15 03:06:56.069 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45209/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-15 03:06:56.072 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739588815963783680,"ephemeral":false}]'
2025-02-15 03:06:56.073 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-15 03:06:56.073 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36540/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-15 03:06:56.075 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739588815963783680,"ephemeral":false}]'
2025-02-15 03:06:56.078 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-15 03:06:56.078 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-15 03:06:56.079 DEBUG [src.node.waku_node] Stopping container with id c4c9714e1f6d
2025-02-15 03:06:56.701 DEBUG [src.node.waku_node] Container stopped.
2025-02-15 03:06:56.702 DEBUG [src.node.waku_node] Stopping container with id 2fdb47057916
2025-02-15 03:06:57.190 DEBUG [src.node.waku_node] Container stopped.
2025-02-15 03:06:57.192 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-15 03:06:57.202 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-15 03:06:57.209 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
