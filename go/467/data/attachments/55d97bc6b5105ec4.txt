2025-02-15 03:08:19.948 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-15 03:08:19.949 DEBUG [tests.conftest] Running test: test_messages_with_timestamps_close_to_now with id: 2025-02-15_03-08-19__42154435-3062-4c60-b36e-0c712c9b9ce9
2025-02-15 03:08:19.949 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-15 03:08:19.949 DEBUG [src.steps.store] Running fixture setup: store_setup
2025-02-15 03:08:19.949 DEBUG [src.steps.store] Running fixture setup: node_setup
2025-02-15 03:08:19.955 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-15 03:08:19.956 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-15_03-08-19__42154435-3062-4c60-b36e-0c712c9b9ce9__wakuorg_nwaku:latest.log
2025-02-15 03:08:19.956 DEBUG [src.node.waku_node] Starting Node...
2025-02-15 03:08:19.956 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-15 03:08:19.957 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-15 03:08:19.957 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.217.157
2025-02-15 03:08:19.957 DEBUG [src.node.docker_mananger] Generated ports ['29586', '29587', '29588', '29589', '29590']
2025-02-15 03:08:19.958 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-15 03:08:19.958 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-15 03:08:19.958 DEBUG [src.node.waku_node] Using volumes []
2025-02-15 03:08:19.958 DEBUG [src.node.docker_mananger] docker run -i -t -p 29586:29586 -p 29587:29587 -p 29588:29588 -p 29589:29589 -p 29590:29590 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=29588 --rest-port=29586 --tcp-port=29587 --discv5-udp-port=29589 --rest-address=0.0.0.0 --nat=extip:172.18.217.157 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9bafd0f0ad71bc316e10fcbcd66ca7badbc0c3edecd4b2d0ef739b083afdcc94 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=29590 --metrics-logging=true --store=true --relay=true
2025-02-15 03:08:20.148 ERROR [src.node.docker_mananger] Max retries reached for container 8523ff1e3dd3. Exiting log stream.
2025-02-15 03:08:20.187 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.217.157 waku d1518d14d0d58948ef4b1910fbb3a5574c4d8123311ad97f3173fc9376e1b24f
2025-02-15 03:08:20.236 DEBUG [src.node.docker_mananger] Container started with ID d1518d14d0d5. Setting up logs at ./log/docker/publishing_node1_2025-02-15_03-08-19__42154435-3062-4c60-b36e-0c712c9b9ce9__wakuorg_nwaku:latest.log
2025-02-15 03:08:20.238 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 29586
2025-02-15 03:08:20.238 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-15 03:08:20.737 ERROR [src.node.docker_mananger] Max retries reached for container 8fd29f173550. Exiting log stream.
2025-02-15 03:08:21.238 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29586/health" -H "Content-Type: application/json" -d 'None'
2025-02-15 03:08:21.241 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-15 03:08:21.241 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-15 03:08:21.241 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29586/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-15 03:08:21.243 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.217.157/tcp/29587/p2p/16Uiu2HAmMYyg4kyd4LsPcKfBT8fjnsKbVkdT3ZgEb6QQUgE7yeZ1","/ip4/172.18.217.157/tcp/29588/ws/p2p/16Uiu2HAmMYyg4kyd4LsPcKfBT8fjnsKbVkdT3ZgEb6QQUgE7yeZ1"],"enrUri":"enr:-L24QCy-pFpa7ZfkZlDSrEP6vMzvLHuueJ3MnZPQKONjLi79dejYPflRVuVqUm_KBL11qkiscTeJadW-jjuJEr6kkYUCgmlkgnY0gmlwhKwS2Z2KbXVsdGlhZGRyc5YACASsEtmdBnOTAAoErBLZnQZzlN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDhC7uzKOK8Zl7sgEtM05j0DV1n692pOwNfRqA_5ZDXfSDdGNwgnOTg3VkcIJzlYV3YWt1MgM"}'
2025-02-15 03:08:21.243 INFO [src.node.waku_node] REST service is ready !!
2025-02-15 03:08:21.250 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-15 03:08:21.250 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-15_03-08-19__42154435-3062-4c60-b36e-0c712c9b9ce9__wakuorg_go-waku:latest.log
2025-02-15 03:08:21.250 DEBUG [src.node.waku_node] Starting Node...
2025-02-15 03:08:21.250 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-15 03:08:21.252 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-15 03:08:21.252 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.31.238
2025-02-15 03:08:21.252 DEBUG [src.node.docker_mananger] Generated ports ['31175', '31176', '31177', '31178', '31179']
2025-02-15 03:08:21.252 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-15 03:08:21.252 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-15 03:08:21.252 DEBUG [src.node.waku_node] Using volumes []
2025-02-15 03:08:21.252 DEBUG [src.node.docker_mananger] docker run -i -t -p 31175:31175 -p 31176:31176 -p 31177:31177 -p 31178:31178 -p 31179:31179 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=31177 --rest-port=31175 --tcp-port=31176 --discv5-udp-port=31178 --rest-address=0.0.0.0 --nat=extip:172.18.31.238 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c8f8e1cbbeb51bb94bd4e0dc6de51cfad1afc7715fcc7bbfec65a83dad16da48 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-L24QCy-pFpa7ZfkZlDSrEP6vMzvLHuueJ3MnZPQKONjLi79dejYPflRVuVqUm_KBL11qkiscTeJadW-jjuJEr6kkYUCgmlkgnY0gmlwhKwS2Z2KbXVsdGlhZGRyc5YACASsEtmdBnOTAAoErBLZnQZzlN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDhC7uzKOK8Zl7sgEtM05j0DV1n692pOwNfRqA_5ZDXfSDdGNwgnOTg3VkcIJzlYV3YWt1MgM --storenode=/ip4/172.18.217.157/tcp/29587/p2p/16Uiu2HAmMYyg4kyd4LsPcKfBT8fjnsKbVkdT3ZgEb6QQUgE7yeZ1 --store=true --relay=true
2025-02-15 03:08:21.482 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.31.238 waku 7c3548ad1b88a085f786a0cd09445f6dbd0030446ccd14ebf121f63c0907a6c9
2025-02-15 03:08:21.531 DEBUG [src.node.docker_mananger] Container started with ID 7c3548ad1b88. Setting up logs at ./log/docker/store_node1_2025-02-15_03-08-19__42154435-3062-4c60-b36e-0c712c9b9ce9__wakuorg_go-waku:latest.log
2025-02-15 03:08:21.532 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 31175
2025-02-15 03:08:21.532 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-15 03:08:22.534 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31175/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-15 03:08:22.536 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QO4HoVB2jn0OViYZxTOEQqekLHwBq3EgWKekYhecDIspL6_LyvlQ0Gfvn-9c-6a_C9LFMfBhSlWlEvwidYg3ee-GAZUHlBqggmlkgnY0gmlwhKwRAAOCcnODAAMAiXNlY3AyNTZrMaECMIRvojHLAW3LnvZXvg9p93cOzlIR9PvFZVlXphP3S_iDdGNwgnnIg3VkcIJ5yoV3YWt1MgM","listenAddresses":["/ip4/127.0.0.1/tcp/31176/p2p/16Uiu2HAkxh4gCR9yP8AvjoPkiSuy8ymL9kxrJt6qjDGDqmJnxaFZ","/ip4/127.0.0.1/tcp/31177/ws/p2p/16Uiu2HAkxh4gCR9yP8AvjoPkiSuy8ymL9kxrJt6qjDGDqmJnxaFZ","/ip4/172.17.0.3/tcp/31176/p2p/16Uiu2HAkxh4gCR9yP8AvjoPkiSuy8ymL9kxrJt6qjDGDqmJnxaFZ","/ip4/172.17.0.3/tcp/31177/ws/p2p/16Uiu2HAkxh4gCR9yP8AvjoPkiSuy8ymL9kxrJt6qjDGDqmJnxaFZ"]}'
2025-02-15 03:08:22.537 INFO [src.node.waku_node] REST service is ready !!
2025-02-15 03:08:22.537 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:31175/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.217.157/tcp/29587/p2p/16Uiu2HAmMYyg4kyd4LsPcKfBT8fjnsKbVkdT3ZgEb6QQUgE7yeZ1", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-15 03:08:22.554 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-15 03:08:22.555 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29586/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-15 03:08:22.576 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 03:08:22.576 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:31175/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-15 03:08:22.578 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-15 03:08:22.580 DEBUG [tests.store.test_time_filter] Running test with payload 3 sec Past
2025-02-15 03:08:22.581 DEBUG [src.steps.store] Relaying message
2025-02-15 03:08:22.582 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29586/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-15 03:08:22.596 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 03:08:22.597 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-15 03:08:22.799 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-15 03:08:22.799 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29586/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-15 03:08:22.803 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xd617b89ddad93498f081381c0ceb424e31f730dd7bc6d95fc1dd6a402b38c4c6"}]}'
2025-02-15 03:08:22.803 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-15 03:08:22.803 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31175/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-15 03:08:22.808 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"1094555a1c4a9650d454327fcafe046005cd153c109b718b1c0a2a43897b36e8","status_code":200,"status_desc":"OK","messages":[{"message_hash":"1he4ndrZNJjwgTgcDOtCTjH3MN17xtlfwd1qQCs4xMY="}]}'
2025-02-15 03:08:22.809 DEBUG [tests.store.test_time_filter] Running test with payload 1 sec Past
2025-02-15 03:08:22.810 DEBUG [src.steps.store] Relaying message
2025-02-15 03:08:22.810 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29586/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-15 03:08:22.815 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 03:08:22.816 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-15 03:08:23.016 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-15 03:08:23.017 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29586/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-15 03:08:23.020 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xd617b89ddad93498f081381c0ceb424e31f730dd7bc6d95fc1dd6a402b38c4c6"},{"messageHash":"0xa81b5cdea383a4ec22b68654ac236b713aaf381f75610b42286c341f788a84c9"}]}'
2025-02-15 03:08:23.020 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-15 03:08:23.020 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31175/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-15 03:08:23.025 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"eb5046654c8cdbcdf654697db972321780d1a1d1e95deeb91918e9de5c8ee2bd","status_code":200,"status_desc":"OK","messages":[{"message_hash":"1he4ndrZNJjwgTgcDOtCTjH3MN17xtlfwd1qQCs4xMY="},{"message_hash":"qBtc3qODpOwitoZUrCNrcTqvOB91YQtCKGw0H3iKhMk="}]}'
2025-02-15 03:08:23.025 DEBUG [tests.store.test_time_filter] Running test with payload 0.1 sec Past
2025-02-15 03:08:23.026 DEBUG [src.steps.store] Relaying message
2025-02-15 03:08:23.026 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29586/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-15 03:08:23.031 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 03:08:23.031 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-15 03:08:23.232 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-15 03:08:23.232 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29586/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-15 03:08:23.236 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xd617b89ddad93498f081381c0ceb424e31f730dd7bc6d95fc1dd6a402b38c4c6"},{"messageHash":"0xa81b5cdea383a4ec22b68654ac236b713aaf381f75610b42286c341f788a84c9"},{"messageHash":"0xea68e5d83073c8f1fa917d94b82bc81b585cf5fd39906fbee5b18893e800bd24"}]}'
2025-02-15 03:08:23.236 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-15 03:08:23.236 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31175/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-15 03:08:23.241 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"9f2b021aac54c7d985ba2acee396a501bc82e9f07002a025ab8bd65dc1d7a691","status_code":200,"status_desc":"OK","messages":[{"message_hash":"1he4ndrZNJjwgTgcDOtCTjH3MN17xtlfwd1qQCs4xMY="},{"message_hash":"qBtc3qODpOwitoZUrCNrcTqvOB91YQtCKGw0H3iKhMk="},{"message_hash":"6mjl2DBzyPH6kX2UuCvIG1hc9f05kG++5bGIk+gAvSQ="}]}'
2025-02-15 03:08:23.242 DEBUG [tests.store.test_time_filter] Running test with payload 0.1 sec Future
2025-02-15 03:08:23.242 DEBUG [src.steps.store] Relaying message
2025-02-15 03:08:23.243 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29586/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-15 03:08:23.247 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 03:08:23.247 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-15 03:08:23.448 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-15 03:08:23.448 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29586/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-15 03:08:23.451 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xd617b89ddad93498f081381c0ceb424e31f730dd7bc6d95fc1dd6a402b38c4c6"},{"messageHash":"0xa81b5cdea383a4ec22b68654ac236b713aaf381f75610b42286c341f788a84c9"},{"messageHash":"0xea68e5d83073c8f1fa917d94b82bc81b585cf5fd39906fbee5b18893e800bd24"},{"messageHash":"0xf39d484d4c4c074035756695cde76b13d3d3501e13644713ab960c4621e36f36"}]}'
2025-02-15 03:08:23.452 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-15 03:08:23.452 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31175/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-15 03:08:23.456 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"d8483e216351f692070afcb1646a70696aff482765642ea2808288c24f7b8037","status_code":200,"status_desc":"OK","messages":[{"message_hash":"1he4ndrZNJjwgTgcDOtCTjH3MN17xtlfwd1qQCs4xMY="},{"message_hash":"qBtc3qODpOwitoZUrCNrcTqvOB91YQtCKGw0H3iKhMk="},{"message_hash":"6mjl2DBzyPH6kX2UuCvIG1hc9f05kG++5bGIk+gAvSQ="},{"message_hash":"851ITUxMB0A1dWaVzedrE9PTUB4TZEcTq5YMRiHjbzY="}]}'
2025-02-15 03:08:23.457 DEBUG [tests.store.test_time_filter] Running test with payload 2 sec Future
2025-02-15 03:08:23.457 DEBUG [src.steps.store] Relaying message
2025-02-15 03:08:23.458 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29586/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-15 03:08:23.463 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 03:08:23.463 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-15 03:08:23.663 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-15 03:08:23.664 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29586/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-15 03:08:23.667 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xd617b89ddad93498f081381c0ceb424e31f730dd7bc6d95fc1dd6a402b38c4c6"},{"messageHash":"0xa81b5cdea383a4ec22b68654ac236b713aaf381f75610b42286c341f788a84c9"},{"messageHash":"0xea68e5d83073c8f1fa917d94b82bc81b585cf5fd39906fbee5b18893e800bd24"},{"messageHash":"0xf39d484d4c4c074035756695cde76b13d3d3501e13644713ab960c4621e36f36"},{"messageHash":"0x45b494410839076100bc2b823a564851d2a4bb3465bad352ce64fe6ed801fa3b"}]}'
2025-02-15 03:08:23.667 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-15 03:08:23.668 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31175/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-15 03:08:23.672 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"936f96a474a2d3b30d8e4da23d9d6207843e547d0eaa46ee29b23e0b0b72b9ba","status_code":200,"status_desc":"OK","messages":[{"message_hash":"1he4ndrZNJjwgTgcDOtCTjH3MN17xtlfwd1qQCs4xMY="},{"message_hash":"qBtc3qODpOwitoZUrCNrcTqvOB91YQtCKGw0H3iKhMk="},{"message_hash":"6mjl2DBzyPH6kX2UuCvIG1hc9f05kG++5bGIk+gAvSQ="},{"message_hash":"851ITUxMB0A1dWaVzedrE9PTUB4TZEcTq5YMRiHjbzY="},{"message_hash":"RbSUQQg5B2EAvCuCOlZIUdKkuzRlutNSzmT+btgB+js="}]}'
2025-02-15 03:08:23.674 DEBUG [tests.store.test_time_filter] Running test with payload 10 sec Future
2025-02-15 03:08:23.674 DEBUG [src.steps.store] Relaying message
2025-02-15 03:08:23.674 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29586/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-15 03:08:23.679 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 03:08:23.679 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-15 03:08:23.879 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-15 03:08:23.880 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29586/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-15 03:08:23.883 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xd617b89ddad93498f081381c0ceb424e31f730dd7bc6d95fc1dd6a402b38c4c6"},{"messageHash":"0xa81b5cdea383a4ec22b68654ac236b713aaf381f75610b42286c341f788a84c9"},{"messageHash":"0xea68e5d83073c8f1fa917d94b82bc81b585cf5fd39906fbee5b18893e800bd24"},{"messageHash":"0xf39d484d4c4c074035756695cde76b13d3d3501e13644713ab960c4621e36f36"},{"messageHash":"0x45b494410839076100bc2b823a564851d2a4bb3465bad352ce64fe6ed801fa3b"},{"messageHash":"0x7a715d95cf4f5e3b1a2bd8bd5d0bd4ad05201371fcf9c5ac88cb0f992db63a37"}]}'
2025-02-15 03:08:23.883 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-15 03:08:23.884 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31175/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-15 03:08:23.888 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"1c028cd14640b829b7ca6d9096bbcd258620a7884c6cc41d6d8b396ed2d8ec69","status_code":200,"status_desc":"OK","messages":[{"message_hash":"1he4ndrZNJjwgTgcDOtCTjH3MN17xtlfwd1qQCs4xMY="},{"message_hash":"qBtc3qODpOwitoZUrCNrcTqvOB91YQtCKGw0H3iKhMk="},{"message_hash":"6mjl2DBzyPH6kX2UuCvIG1hc9f05kG++5bGIk+gAvSQ="},{"message_hash":"851ITUxMB0A1dWaVzedrE9PTUB4TZEcTq5YMRiHjbzY="},{"message_hash":"RbSUQQg5B2EAvCuCOlZIUdKkuzRlutNSzmT+btgB+js="},{"message_hash":"enFdlc9PXjsaK9i9XQvUrQUgE3H8+cWsiMsPmS22Ojc="}]}'
2025-02-15 03:08:23.891 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-15 03:08:23.892 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-15 03:08:23.892 DEBUG [src.node.waku_node] Stopping container with id d1518d14d0d5
2025-02-15 03:08:24.515 DEBUG [src.node.waku_node] Container stopped.
2025-02-15 03:08:24.515 DEBUG [src.node.waku_node] Stopping container with id 7c3548ad1b88
2025-02-15 03:08:25.010 DEBUG [src.node.waku_node] Container stopped.
2025-02-15 03:08:25.013 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-15 03:08:25.022 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-15 03:08:25.026 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
