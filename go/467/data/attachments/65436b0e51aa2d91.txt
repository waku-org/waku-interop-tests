2025-02-15 03:06:38.676 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-15 03:06:38.676 DEBUG [tests.conftest] Running test: test_message_light_pushed_on_different_pubsub_topic_is_not_retrieved with id: 2025-02-15_03-06-38__51caf6f3-c704-4b2b-82e2-d4c5cc6e8743
2025-02-15 03:06:38.677 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-15 03:06:38.677 DEBUG [src.steps.light_push] Running fixture setup: light_push_setup
2025-02-15 03:06:38.684 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-15 03:06:38.684 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node1_2025-02-15_03-06-38__51caf6f3-c704-4b2b-82e2-d4c5cc6e8743__wakuorg_nwaku:latest.log
2025-02-15 03:06:38.684 DEBUG [src.node.waku_node] Starting Node...
2025-02-15 03:06:38.685 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-15 03:06:38.686 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-15 03:06:38.686 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.15.135
2025-02-15 03:06:38.686 DEBUG [src.node.docker_mananger] Generated ports ['58255', '58256', '58257', '58258', '58259']
2025-02-15 03:06:38.686 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-15 03:06:38.687 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-15 03:06:38.687 DEBUG [src.node.waku_node] Using volumes []
2025-02-15 03:06:38.687 DEBUG [src.node.docker_mananger] docker run -i -t -p 58255:58255 -p 58256:58256 -p 58257:58257 -p 58258:58258 -p 58259:58259 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=58257 --rest-port=58255 --tcp-port=58256 --discv5-udp-port=58258 --rest-address=0.0.0.0 --nat=extip:172.18.15.135 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9ebcd450ec2351a2a797a6bdd32f56cecc84dfbefab7e3b812f6cb574ef9c66c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=58259 --metrics-logging=true --lightpush=true --relay=true
2025-02-15 03:06:38.934 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.15.135 waku 0eece947ad82934110b26dd19f2456b8cba73f00bb06915ba64ba411cf0b7579
2025-02-15 03:06:38.990 DEBUG [src.node.docker_mananger] Container started with ID 0eece947ad82. Setting up logs at ./log/docker/receiving_node1_2025-02-15_03-06-38__51caf6f3-c704-4b2b-82e2-d4c5cc6e8743__wakuorg_nwaku:latest.log
2025-02-15 03:06:38.991 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 58255
2025-02-15 03:06:38.991 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-15 03:06:39.484 ERROR [src.node.docker_mananger] Max retries reached for container b07dd832af26. Exiting log stream.
2025-02-15 03:06:39.992 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58255/health" -H "Content-Type: application/json" -d 'None'
2025-02-15 03:06:39.995 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-15 03:06:39.995 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-15 03:06:39.995 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58255/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-15 03:06:39.997 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.15.135/tcp/58256/p2p/16Uiu2HAm1LtqpjmDSW7mtUkjAU7ZaKVND8KUaLsJCnFeSDsEcirC","/ip4/172.18.15.135/tcp/58257/ws/p2p/16Uiu2HAm1LtqpjmDSW7mtUkjAU7ZaKVND8KUaLsJCnFeSDsEcirC"],"enrUri":"enr:-L24QBlcxgjmYu5C_pslDaX3sWN6PEvDoRynoTum_lsVSl2lKgJcisXBjMwLKiq3rbpleqCksQGog7pNWCMVu6n4vmgCgmlkgnY0gmlwhKwSD4eKbXVsdGlhZGRyc5YACASsEg-HBuOQAAoErBIPhwbjkd0DgnJzhQADAQAAiXNlY3AyNTZrMaECV-zC5AzUjI4HjhJcI7J6uJ0tmeWqkRMJB72VZCreGvGDdGNwguOQg3VkcILjkoV3YWt1Mgk"}'
2025-02-15 03:06:39.998 INFO [src.node.waku_node] REST service is ready !!
2025-02-15 03:06:40.005 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-15 03:06:40.005 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node2_2025-02-15_03-06-38__51caf6f3-c704-4b2b-82e2-d4c5cc6e8743__wakuorg_nwaku:latest.log
2025-02-15 03:06:40.005 DEBUG [src.node.waku_node] Starting Node...
2025-02-15 03:06:40.005 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-15 03:06:40.007 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-15 03:06:40.007 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.42.118
2025-02-15 03:06:40.007 DEBUG [src.node.docker_mananger] Generated ports ['60725', '60726', '60727', '60728', '60729']
2025-02-15 03:06:40.007 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-15 03:06:40.007 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-15 03:06:40.007 DEBUG [src.node.waku_node] Using volumes []
2025-02-15 03:06:40.007 DEBUG [src.node.docker_mananger] docker run -i -t -p 60725:60725 -p 60726:60726 -p 60727:60727 -p 60728:60728 -p 60729:60729 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=60727 --rest-port=60725 --tcp-port=60726 --discv5-udp-port=60728 --rest-address=0.0.0.0 --nat=extip:172.18.42.118 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c22e3b6322a01f3aba07aadebfbfaf5eae4db87e7b45da05c5aa16a4afcaf95e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=60729 --metrics-logging=true --lightpush=false --relay=true
2025-02-15 03:06:40.242 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.42.118 waku 790d3240ae2286d341be3f96b6b4cfc7b9a371f5aa8df6f79d65551bc21bf8e7
2025-02-15 03:06:40.293 DEBUG [src.node.docker_mananger] Container started with ID 790d3240ae22. Setting up logs at ./log/docker/receiving_node2_2025-02-15_03-06-38__51caf6f3-c704-4b2b-82e2-d4c5cc6e8743__wakuorg_nwaku:latest.log
2025-02-15 03:06:40.293 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 60725
2025-02-15 03:06:40.293 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-15 03:06:41.294 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60725/health" -H "Content-Type: application/json" -d 'None'
2025-02-15 03:06:41.297 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-15 03:06:41.297 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-15 03:06:41.297 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60725/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-15 03:06:41.299 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.42.118/tcp/60726/p2p/16Uiu2HAkxA9RrDfspcPCuioRBeLnr8tGi3pGcX6g4L9ktfKF91QD","/ip4/172.18.42.118/tcp/60727/ws/p2p/16Uiu2HAkxA9RrDfspcPCuioRBeLnr8tGi3pGcX6g4L9ktfKF91QD"],"enrUri":"enr:-L24QCi2wNg6ZF-iwvW38CjToVHQ9AInwXWFblrEoa4oVNxwSh0UjYPl-201qAPj7PiWNrhjQreFbtD5cTLFQGwWEtICgmlkgnY0gmlwhKwSKnaKbXVsdGlhZGRyc5YACASsEip2Bu02AAoErBIqdgbtN90DgnJzhQADAQAAiXNlY3AyNTZrMaECKJjOBpVTErd6iFJ7tGKWKepLQJrgBNOs9Ni8e5VFxqKDdGNwgu02g3VkcILtOIV3YWt1MgE"}'
2025-02-15 03:06:41.300 INFO [src.node.waku_node] REST service is ready !!
2025-02-15 03:06:41.300 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60725/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.15.135/tcp/58256/p2p/16Uiu2HAm1LtqpjmDSW7mtUkjAU7ZaKVND8KUaLsJCnFeSDsEcirC"]'
2025-02-15 03:06:41.340 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 03:06:41.350 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-15 03:06:41.350 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/lightpush_node1_2025-02-15_03-06-38__51caf6f3-c704-4b2b-82e2-d4c5cc6e8743__wakuorg_go-waku:latest.log
2025-02-15 03:06:41.350 DEBUG [src.node.waku_node] Starting Node...
2025-02-15 03:06:41.350 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-15 03:06:41.352 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-15 03:06:41.352 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.128.150
2025-02-15 03:06:41.352 DEBUG [src.node.docker_mananger] Generated ports ['26154', '26155', '26156', '26157', '26158']
2025-02-15 03:06:41.352 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-15 03:06:41.352 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-15 03:06:41.352 DEBUG [src.node.waku_node] Using volumes []
2025-02-15 03:06:41.353 DEBUG [src.node.docker_mananger] docker run -i -t -p 26154:26154 -p 26155:26155 -p 26156:26156 -p 26157:26157 -p 26158:26158 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=26156 --rest-port=26154 --tcp-port=26155 --discv5-udp-port=26157 --rest-address=0.0.0.0 --nat=extip:172.18.128.150 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7c9d9f2b2f3e250ed5ffbb2188763d4e91deebabaaa2aa8bf7be2cfb2bb7fa80 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-L24QBlcxgjmYu5C_pslDaX3sWN6PEvDoRynoTum_lsVSl2lKgJcisXBjMwLKiq3rbpleqCksQGog7pNWCMVu6n4vmgCgmlkgnY0gmlwhKwSD4eKbXVsdGlhZGRyc5YACASsEg-HBuOQAAoErBIPhwbjkd0DgnJzhQADAQAAiXNlY3AyNTZrMaECV-zC5AzUjI4HjhJcI7J6uJ0tmeWqkRMJB72VZCreGvGDdGNwguOQg3VkcILjkoV3YWt1Mgk --lightpushnode=/ip4/172.18.15.135/tcp/58256/p2p/16Uiu2HAm1LtqpjmDSW7mtUkjAU7ZaKVND8KUaLsJCnFeSDsEcirC --lightpush=true --relay=false --pubsub-topic=/waku/2/rs/3/1
2025-02-15 03:06:41.598 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.128.150 waku 707bb1b6bcd0350b723fc3971f1ea0e889e5833e9d8228b236079e0117be9300
2025-02-15 03:06:41.656 DEBUG [src.node.docker_mananger] Container started with ID 707bb1b6bcd0. Setting up logs at ./log/docker/lightpush_node1_2025-02-15_03-06-38__51caf6f3-c704-4b2b-82e2-d4c5cc6e8743__wakuorg_go-waku:latest.log
2025-02-15 03:06:41.657 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 26154
2025-02-15 03:06:41.658 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-15 03:06:42.658 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26154/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-15 03:06:42.661 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QKHySqyk0nxDNhGcdxTQegruAlaT9UOwQ4Fpf9LEDkQRN-8Mox5CuKpU00AT7PvUVxX9DpV5LefyoRa_EnFgjCWGAZUHkpRwgmlkgnY0gmlwhKwRAASCcnOFAAMBAAGJc2VjcDI1NmsxoQMPg_C0ENx0Gtdc2SXMKP7JCWCxEKqEgrJWeu54QN6GToN0Y3CCZiuDdWRwgmYthXdha3UyCA","listenAddresses":["/ip4/127.0.0.1/tcp/26155/p2p/16Uiu2HAmDhZ9vj3zLdmJo4DJ9Vp5Wv9UDW5uhRJsJXYxK3sqEYd3","/ip4/127.0.0.1/tcp/26156/ws/p2p/16Uiu2HAmDhZ9vj3zLdmJo4DJ9Vp5Wv9UDW5uhRJsJXYxK3sqEYd3","/ip4/172.17.0.4/tcp/26155/p2p/16Uiu2HAmDhZ9vj3zLdmJo4DJ9Vp5Wv9UDW5uhRJsJXYxK3sqEYd3","/ip4/172.17.0.4/tcp/26156/ws/p2p/16Uiu2HAmDhZ9vj3zLdmJo4DJ9Vp5Wv9UDW5uhRJsJXYxK3sqEYd3"]}'
2025-02-15 03:06:42.661 INFO [src.node.waku_node] REST service is ready !!
2025-02-15 03:06:42.662 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:26154/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.15.135/tcp/58256/p2p/16Uiu2HAm1LtqpjmDSW7mtUkjAU7ZaKVND8KUaLsJCnFeSDsEcirC", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-15 03:06:42.664 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-15 03:06:42.664 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:26154/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.42.118/tcp/60726/p2p/16Uiu2HAkxA9RrDfspcPCuioRBeLnr8tGi3pGcX6g4L9ktfKF91QD", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-15 03:06:42.680 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-15 03:06:42.681 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58255/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-15 03:06:42.686 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 03:06:42.688 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60725/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-15 03:06:42.692 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 03:06:42.693 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58255/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9", "/waku/2/rs/3/25", "/waku/2/rs/3/1000"]'
2025-02-15 03:06:42.701 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 03:06:42.702 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60725/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9", "/waku/2/rs/3/25", "/waku/2/rs/3/1000"]'
2025-02-15 03:06:42.716 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 03:06:42.717 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:26154/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739588802716972288}}'
2025-02-15 03:06:42.725 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-15 03:06:42.727 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 03:06:42.828 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58255/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-15 03:06:42.831 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[]'
2025-02-15 03:06:42.833 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-15 03:06:42.833 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-15 03:06:42.834 DEBUG [src.node.waku_node] Stopping container with id 0eece947ad82
2025-02-15 03:06:43.432 DEBUG [src.node.waku_node] Container stopped.
2025-02-15 03:06:43.433 DEBUG [src.node.waku_node] Stopping container with id 790d3240ae22
2025-02-15 03:06:44.246 ERROR [src.node.docker_mananger] Max retries reached for container 0eece947ad82. Exiting log stream.
2025-02-15 03:06:44.984 DEBUG [src.node.waku_node] Container stopped.
2025-02-15 03:06:44.985 DEBUG [src.node.waku_node] Stopping container with id 707bb1b6bcd0
2025-02-15 03:06:45.528 DEBUG [src.node.waku_node] Container stopped.
2025-02-15 03:06:45.531 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-15 03:06:45.540 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-15 03:06:45.549 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-15 03:06:45.553 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
