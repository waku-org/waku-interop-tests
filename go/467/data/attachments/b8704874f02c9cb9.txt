2025-02-15 03:06:32.140 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-15 03:06:32.140 DEBUG [tests.conftest] Running test: test_publish_on_multiple_pubsub_topics with id: 2025-02-15_03-06-32__838fb632-4b7f-4587-bbed-81ed31436739
2025-02-15 03:06:32.140 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-15 03:06:32.140 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-15 03:06:32.141 DEBUG [src.steps.relay] Running fixture setup: setup_main_relay_nodes
2025-02-15 03:06:32.147 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-15 03:06:32.147 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-15_03-06-32__838fb632-4b7f-4587-bbed-81ed31436739__wakuorg_nwaku:latest.log
2025-02-15 03:06:32.147 DEBUG [src.node.waku_node] Starting Node...
2025-02-15 03:06:32.147 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-15 03:06:32.148 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-15 03:06:32.148 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.8.106
2025-02-15 03:06:32.149 DEBUG [src.node.docker_mananger] Generated ports ['21307', '21308', '21309', '21310', '21311']
2025-02-15 03:06:32.149 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-15 03:06:32.149 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-15 03:06:32.149 DEBUG [src.node.waku_node] Using volumes []
2025-02-15 03:06:32.149 DEBUG [src.node.docker_mananger] docker run -i -t -p 21307:21307 -p 21308:21308 -p 21309:21309 -p 21310:21310 -p 21311:21311 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=21309 --rest-port=21307 --tcp-port=21308 --discv5-udp-port=21310 --rest-address=0.0.0.0 --nat=extip:172.18.8.106 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b3cae1ffc37cc4d1f61d5cc9a0ecb76460ffa08c630dfe19b29bb980540cfc31 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=21311 --metrics-logging=true --relay=true
2025-02-15 03:06:32.372 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.8.106 waku b97dd37404f7ad1b83d49996fa098ac24e46b73e8b269416c84f5a57d02b7f1d
2025-02-15 03:06:32.425 DEBUG [src.node.docker_mananger] Container started with ID b97dd37404f7. Setting up logs at ./log/docker/node1_2025-02-15_03-06-32__838fb632-4b7f-4587-bbed-81ed31436739__wakuorg_nwaku:latest.log
2025-02-15 03:06:32.425 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 21307
2025-02-15 03:06:32.425 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-15 03:06:32.445 ERROR [src.node.docker_mananger] Max retries reached for container c2c87ff83621. Exiting log stream.
2025-02-15 03:06:32.933 ERROR [src.node.docker_mananger] Max retries reached for container 61b0416be796. Exiting log stream.
2025-02-15 03:06:33.426 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21307/health" -H "Content-Type: application/json" -d 'None'
2025-02-15 03:06:33.429 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-15 03:06:33.429 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-15 03:06:33.429 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21307/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-15 03:06:33.431 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.8.106/tcp/21308/p2p/16Uiu2HAm7EstLYYDH7dbvMN7CrcUDktJuj43wvrZeiDS8ipjoTsg","/ip4/172.18.8.106/tcp/21309/ws/p2p/16Uiu2HAm7EstLYYDH7dbvMN7CrcUDktJuj43wvrZeiDS8ipjoTsg"],"enrUri":"enr:-L24QJs28k6P2ZYIBgz9pdwyyPil6AEyoXS-6tG-OnUt8L18f98C3y9ZMCGMwbZVo2y6NgcZKIk_4IIr6LLjbOzz5_kCgmlkgnY0gmlwhKwSCGqKbXVsdGlhZGRyc5YACASsEghqBlM8AAoErBIIagZTPd0DgnJzhQADAQAAiXNlY3AyNTZrMaECr4hQ-RPo5NoGNCe0bsvOnS3sKoXa4B5tabefzlkLuBODdGNwglM8g3VkcIJTPoV3YWt1MgE"}'
2025-02-15 03:06:33.431 INFO [src.node.waku_node] REST service is ready !!
2025-02-15 03:06:33.437 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-15 03:06:33.437 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-15_03-06-32__838fb632-4b7f-4587-bbed-81ed31436739__wakuorg_go-waku:latest.log
2025-02-15 03:06:33.438 DEBUG [src.node.waku_node] Starting Node...
2025-02-15 03:06:33.438 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-15 03:06:33.439 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-15 03:06:33.439 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.123.99
2025-02-15 03:06:33.439 DEBUG [src.node.docker_mananger] Generated ports ['10406', '10407', '10408', '10409', '10410']
2025-02-15 03:06:33.440 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-15 03:06:33.440 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-15 03:06:33.440 DEBUG [src.node.waku_node] Using volumes []
2025-02-15 03:06:33.440 DEBUG [src.node.docker_mananger] docker run -i -t -p 10406:10406 -p 10407:10407 -p 10408:10408 -p 10409:10409 -p 10410:10410 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=10408 --rest-port=10406 --tcp-port=10407 --discv5-udp-port=10409 --rest-address=0.0.0.0 --nat=extip:172.18.123.99 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=4afdcc5b63b39d2baecf50ed41a7d2474bfbbcf25db1ad2b3f88ae2f79c3b7de --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-L24QJs28k6P2ZYIBgz9pdwyyPil6AEyoXS-6tG-OnUt8L18f98C3y9ZMCGMwbZVo2y6NgcZKIk_4IIr6LLjbOzz5_kCgmlkgnY0gmlwhKwSCGqKbXVsdGlhZGRyc5YACASsEghqBlM8AAoErBIIagZTPd0DgnJzhQADAQAAiXNlY3AyNTZrMaECr4hQ-RPo5NoGNCe0bsvOnS3sKoXa4B5tabefzlkLuBODdGNwglM8g3VkcIJTPoV3YWt1MgE
2025-02-15 03:06:33.670 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.123.99 waku 2315eec1cd60a20cca7543656fe88014e6c767d2ff10bc2c1e116862c7fcb49c
2025-02-15 03:06:33.716 DEBUG [src.node.docker_mananger] Container started with ID 2315eec1cd60. Setting up logs at ./log/docker/node2_2025-02-15_03-06-32__838fb632-4b7f-4587-bbed-81ed31436739__wakuorg_go-waku:latest.log
2025-02-15 03:06:33.718 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 10406
2025-02-15 03:06:33.718 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-15 03:06:34.719 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10406/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-15 03:06:34.721 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QJPjYAg_hXDZDfH5LatLVTjKyT2zmRA3UT--yhSNGBJtFbUdfqNVFKU6d92e4IWCKZewubVAy8PJMbVacCRaCtCGAZUHknVzgmlkgnY0gmlwhKwRAAOCcnODAAMAiXNlY3AyNTZrMaECjb30vl1rtA1JnJikVE3mt15JKfvzEYkT2gUqF4Zb8sSDdGNwgiing3VkcIIoqYV3YWt1MgE","listenAddresses":["/ip4/127.0.0.1/tcp/10407/p2p/16Uiu2HAm4xyTqLVWm8cFcXhEzEzrT9JLfXmCxDzwMpXpoYamQKeb","/ip4/127.0.0.1/tcp/10408/ws/p2p/16Uiu2HAm4xyTqLVWm8cFcXhEzEzrT9JLfXmCxDzwMpXpoYamQKeb","/ip4/172.17.0.3/tcp/10407/p2p/16Uiu2HAm4xyTqLVWm8cFcXhEzEzrT9JLfXmCxDzwMpXpoYamQKeb","/ip4/172.17.0.3/tcp/10408/ws/p2p/16Uiu2HAm4xyTqLVWm8cFcXhEzEzrT9JLfXmCxDzwMpXpoYamQKeb"]}'
2025-02-15 03:06:34.722 INFO [src.node.waku_node] REST service is ready !!
2025-02-15 03:06:34.722 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10406/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.8.106/tcp/21308/p2p/16Uiu2HAm7EstLYYDH7dbvMN7CrcUDktJuj43wvrZeiDS8ipjoTsg", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-15 03:06:34.740 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-15 03:06:34.741 DEBUG [src.steps.relay] Running fixture setup: subscribe_main_relay_nodes
2025-02-15 03:06:34.742 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21307/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-15 03:06:34.765 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 03:06:34.765 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10406/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-15 03:06:34.767 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-15 03:06:34.769 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21307/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-15 03:06:34.777 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 03:06:34.778 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 03:06:34.878 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-15 03:06:34.878 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21307/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-15 03:06:34.881 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739588794769198336,"ephemeral":false}]'
2025-02-15 03:06:34.883 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-15 03:06:34.883 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10406/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-15 03:06:34.884 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-15 03:06:35.886 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21307/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-15 03:06:35.890 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 03:06:35.890 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 03:06:35.990 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-15 03:06:35.991 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21307/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-15 03:06:35.993 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739588795885788416,"ephemeral":false}]'
2025-02-15 03:06:35.995 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-15 03:06:35.995 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10406/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-15 03:06:35.996 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739588795885788416,"ephemeral":false}]'
2025-02-15 03:06:35.998 INFO [src.steps.relay] WARM UP successful!!
2025-02-15 03:06:35.999 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21307/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9", "/waku/2/rs/3/25", "/waku/2/rs/3/1000"]'
2025-02-15 03:06:36.004 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 03:06:36.004 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10406/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9", "/waku/2/rs/3/25", "/waku/2/rs/3/1000"]'
2025-02-15 03:06:36.007 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-15 03:06:36.008 DEBUG [tests.relay.test_publish] Running test with pubsub topic /waku/2/rs/3/0
2025-02-15 03:06:36.009 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21307/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-15 03:06:36.019 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 03:06:36.020 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 03:06:36.120 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-15 03:06:36.120 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21307/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 03:06:36.123 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739588796009131776,"ephemeral":false}]'
2025-02-15 03:06:36.124 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-15 03:06:36.124 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10406/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-15 03:06:36.126 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739588796009131776,"ephemeral":false}]'
2025-02-15 03:06:36.127 DEBUG [tests.relay.test_publish] Running test with pubsub topic /waku/2/rs/3/1
2025-02-15 03:06:36.127 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21307/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-15 03:06:36.132 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 03:06:36.132 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 03:06:36.232 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-15 03:06:36.232 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21307/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-15 03:06:36.235 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739588796127898624,"ephemeral":false}]'
2025-02-15 03:06:36.236 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-15 03:06:36.236 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10406/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-15 03:06:36.238 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739588796127898624,"ephemeral":false}]'
2025-02-15 03:06:36.239 DEBUG [tests.relay.test_publish] Running test with pubsub topic /waku/2/rs/3/9
2025-02-15 03:06:36.240 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21307/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F9" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-15 03:06:36.244 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 03:06:36.244 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 03:06:36.344 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-15 03:06:36.344 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21307/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F9" -H "Content-Type: application/json" -d 'None'
2025-02-15 03:06:36.347 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739588796240174080,"ephemeral":false}]'
2025-02-15 03:06:36.348 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-15 03:06:36.349 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10406/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F9" -H "Content-Type: application/json" -d 'None'
2025-02-15 03:06:36.350 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739588796240174080,"ephemeral":false}]'
2025-02-15 03:06:36.351 DEBUG [tests.relay.test_publish] Running test with pubsub topic /waku/2/rs/3/25
2025-02-15 03:06:36.352 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21307/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-15 03:06:36.356 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 03:06:36.356 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 03:06:36.457 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-15 03:06:36.457 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21307/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d 'None'
2025-02-15 03:06:36.459 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739588796352384000,"ephemeral":false}]'
2025-02-15 03:06:36.461 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-15 03:06:36.461 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10406/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d 'None'
2025-02-15 03:06:36.462 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739588796352384000,"ephemeral":false}]'
2025-02-15 03:06:36.464 DEBUG [tests.relay.test_publish] Running test with pubsub topic /waku/2/rs/3/1000
2025-02-15 03:06:36.464 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21307/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-15 03:06:36.468 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 03:06:36.468 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-15 03:06:36.569 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-15 03:06:36.569 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21307/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d 'None'
2025-02-15 03:06:36.571 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739588796464598528,"ephemeral":false}]'
2025-02-15 03:06:36.573 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-15 03:06:36.573 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10406/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d 'None'
2025-02-15 03:06:36.574 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739588796464598528,"ephemeral":false}]'
2025-02-15 03:06:36.578 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-15 03:06:36.579 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-15 03:06:36.579 DEBUG [src.node.waku_node] Stopping container with id b97dd37404f7
2025-02-15 03:06:37.883 DEBUG [src.node.waku_node] Container stopped.
2025-02-15 03:06:37.883 DEBUG [src.node.waku_node] Stopping container with id 2315eec1cd60
2025-02-15 03:06:38.381 DEBUG [src.node.waku_node] Container stopped.
2025-02-15 03:06:38.382 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-15 03:06:38.401 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-15 03:06:38.405 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
