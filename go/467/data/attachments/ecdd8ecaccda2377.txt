2025-02-15 03:08:19.664 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-15 03:08:19.664 DEBUG [tests.conftest] Running test: test_time_filter_start_time_equals_end_time with id: 2025-02-15_03-08-19__b0bf6746-5c87-49d2-8b6b-7617a15a0bc9
2025-02-15 03:08:19.664 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-15 03:08:19.664 DEBUG [src.steps.store] Running fixture setup: store_setup
2025-02-15 03:08:19.665 DEBUG [src.steps.store] Running fixture setup: node_setup
2025-02-15 03:08:19.671 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-15 03:08:19.671 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-15_03-08-19__b0bf6746-5c87-49d2-8b6b-7617a15a0bc9__wakuorg_nwaku:latest.log
2025-02-15 03:08:19.671 DEBUG [src.node.waku_node] Starting Node...
2025-02-15 03:08:19.671 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-15 03:08:19.672 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-15 03:08:19.673 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.108.210
2025-02-15 03:08:19.673 DEBUG [src.node.docker_mananger] Generated ports ['34635', '34636', '34637', '34638', '34639']
2025-02-15 03:08:19.673 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-15 03:08:19.673 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-15 03:08:19.673 DEBUG [src.node.waku_node] Using volumes []
2025-02-15 03:08:19.673 DEBUG [src.node.docker_mananger] docker run -i -t -p 34635:34635 -p 34636:34636 -p 34637:34637 -p 34638:34638 -p 34639:34639 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=34637 --rest-port=34635 --tcp-port=34636 --discv5-udp-port=34638 --rest-address=0.0.0.0 --nat=extip:172.18.108.210 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5e67ef8ad4e26fbb9c275ad8ccdffce8f829781baaf90ee9c941ee8889aa7e6e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=34639 --metrics-logging=true --store=true --relay=true
2025-02-15 03:08:19.896 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.108.210 waku 5628ce9ac9fcc2a5e0f9b6be3517ae458d6a32084e7c705fddf35e2daf5954b8
2025-02-15 03:08:19.946 DEBUG [src.node.docker_mananger] Container started with ID 5628ce9ac9fc. Setting up logs at ./log/docker/publishing_node1_2025-02-15_03-08-19__b0bf6746-5c87-49d2-8b6b-7617a15a0bc9__wakuorg_nwaku:latest.log
2025-02-15 03:08:19.947 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 34635
2025-02-15 03:08:19.948 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-15 03:08:19.971 ERROR [src.node.docker_mananger] Max retries reached for container c4076102b931. Exiting log stream.
2025-02-15 03:08:20.468 ERROR [src.node.docker_mananger] Max retries reached for container b70c665d2e0d. Exiting log stream.
2025-02-15 03:08:20.948 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:34635/health" -H "Content-Type: application/json" -d 'None'
2025-02-15 03:08:20.951 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-15 03:08:20.951 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-15 03:08:20.951 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:34635/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-15 03:08:20.953 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.108.210/tcp/34636/p2p/16Uiu2HAm25ftbosaYSEXL8YdDazjq5tMkU31CYKu7Mn6DFJ9judj","/ip4/172.18.108.210/tcp/34637/ws/p2p/16Uiu2HAm25ftbosaYSEXL8YdDazjq5tMkU31CYKu7Mn6DFJ9judj"],"enrUri":"enr:-L24QIkkoJG7UUJGV1GcBcnzVscOfYJeBFXbb1frc2FtZZwpXkVDJQ5L9IyL0w3q7sb5YFCQhrHEeXSig_V6SUPWOK8CgmlkgnY0gmlwhKwSbNKKbXVsdGlhZGRyc5YACASsEmzSBodMAAoErBJs0gaHTd0DgnJzhQADAQAAiXNlY3AyNTZrMaECYuIXUKnR5lxz1YEnEH3l_TOsV6kj1a6uzyzt09QZ4tKDdGNwgodMg3VkcIKHToV3YWt1MgM"}'
2025-02-15 03:08:20.954 INFO [src.node.waku_node] REST service is ready !!
2025-02-15 03:08:20.960 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-15 03:08:20.960 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-15_03-08-19__b0bf6746-5c87-49d2-8b6b-7617a15a0bc9__wakuorg_go-waku:latest.log
2025-02-15 03:08:20.960 DEBUG [src.node.waku_node] Starting Node...
2025-02-15 03:08:20.961 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-15 03:08:20.962 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-15 03:08:20.962 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.165.142
2025-02-15 03:08:20.962 DEBUG [src.node.docker_mananger] Generated ports ['41400', '41401', '41402', '41403', '41404']
2025-02-15 03:08:20.962 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-15 03:08:20.962 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-15 03:08:20.963 DEBUG [src.node.waku_node] Using volumes []
2025-02-15 03:08:20.963 DEBUG [src.node.docker_mananger] docker run -i -t -p 41400:41400 -p 41401:41401 -p 41402:41402 -p 41403:41403 -p 41404:41404 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=41402 --rest-port=41400 --tcp-port=41401 --discv5-udp-port=41403 --rest-address=0.0.0.0 --nat=extip:172.18.165.142 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9eb19c1877ebcb3efdaca1bd53b3b506caab964bc6c6b112faa36fc4fcc2f380 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-L24QIkkoJG7UUJGV1GcBcnzVscOfYJeBFXbb1frc2FtZZwpXkVDJQ5L9IyL0w3q7sb5YFCQhrHEeXSig_V6SUPWOK8CgmlkgnY0gmlwhKwSbNKKbXVsdGlhZGRyc5YACASsEmzSBodMAAoErBJs0gaHTd0DgnJzhQADAQAAiXNlY3AyNTZrMaECYuIXUKnR5lxz1YEnEH3l_TOsV6kj1a6uzyzt09QZ4tKDdGNwgodMg3VkcIKHToV3YWt1MgM --storenode=/ip4/172.18.108.210/tcp/34636/p2p/16Uiu2HAm25ftbosaYSEXL8YdDazjq5tMkU31CYKu7Mn6DFJ9judj --store=true --relay=true
2025-02-15 03:08:21.192 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.165.142 waku 75131333f396a10c1688317ecb8e4ad8341e904c1e55dbd761435d5c94154490
2025-02-15 03:08:21.245 DEBUG [src.node.docker_mananger] Container started with ID 75131333f396. Setting up logs at ./log/docker/store_node1_2025-02-15_03-08-19__b0bf6746-5c87-49d2-8b6b-7617a15a0bc9__wakuorg_go-waku:latest.log
2025-02-15 03:08:21.246 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 41400
2025-02-15 03:08:21.246 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-15 03:08:22.246 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41400/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-15 03:08:22.249 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QKnYcSnPpYO7sVBPMeGu97mkirKOidYaY6g-cEfnPEx-c6pF0bRGMYYD7-dLzAK_xUGW3Is9E2v743xEAk2Aqd6GAZUHlBl-gmlkgnY0gmlwhKwRAAOCcnODAAMAiXNlY3AyNTZrMaEDi1TG2upkHalnTKHXpGEI2WqT-CPs8a7aZrAgmgsRHWmDdGNwgqG5g3VkcIKhu4V3YWt1MgM","listenAddresses":["/ip4/127.0.0.1/tcp/41401/p2p/16Uiu2HAmN2szpH3aes2NbLdZ83kjo1UaCYZL79DEoruGX9SZu3we","/ip4/127.0.0.1/tcp/41402/ws/p2p/16Uiu2HAmN2szpH3aes2NbLdZ83kjo1UaCYZL79DEoruGX9SZu3we","/ip4/172.17.0.3/tcp/41401/p2p/16Uiu2HAmN2szpH3aes2NbLdZ83kjo1UaCYZL79DEoruGX9SZu3we","/ip4/172.17.0.3/tcp/41402/ws/p2p/16Uiu2HAmN2szpH3aes2NbLdZ83kjo1UaCYZL79DEoruGX9SZu3we"]}'
2025-02-15 03:08:22.249 INFO [src.node.waku_node] REST service is ready !!
2025-02-15 03:08:22.250 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41400/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.108.210/tcp/34636/p2p/16Uiu2HAm25ftbosaYSEXL8YdDazjq5tMkU31CYKu7Mn6DFJ9judj", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-15 03:08:22.268 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-15 03:08:22.269 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:34635/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-15 03:08:22.289 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 03:08:22.289 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41400/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-15 03:08:22.291 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-15 03:08:22.294 DEBUG [src.steps.store] Relaying message
2025-02-15 03:08:22.296 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:34635/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-15 03:08:22.309 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 03:08:22.309 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-15 03:08:22.510 DEBUG [src.steps.store] Relaying message
2025-02-15 03:08:22.510 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:34635/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-15 03:08:22.516 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 03:08:22.516 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-15 03:08:22.717 DEBUG [src.steps.store] Relaying message
2025-02-15 03:08:22.717 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:34635/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-15 03:08:22.723 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 03:08:22.723 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-15 03:08:22.924 DEBUG [src.steps.store] Relaying message
2025-02-15 03:08:22.924 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:34635/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-15 03:08:22.930 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 03:08:22.930 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-15 03:08:23.131 DEBUG [src.steps.store] Relaying message
2025-02-15 03:08:23.131 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:34635/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-15 03:08:23.137 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 03:08:23.137 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-15 03:08:23.338 DEBUG [src.steps.store] Relaying message
2025-02-15 03:08:23.338 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:34635/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-15 03:08:23.344 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-15 03:08:23.344 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-15 03:08:23.545 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:34635/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1739588899293755136&endTime=1739588899293755136&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-15 03:08:23.548 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xac76d89a49ba5613b276278851ce31a2703ad30783ae78767156b5fd07a65b13"}]}'
2025-02-15 03:08:23.548 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41400/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&startTime=1739588899293755136&endTime=1739588899293755136&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-15 03:08:23.554 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"82301a8d74ab944a3a8d4610a344a17a6e17d3b45f9617bd1382e1a4db7a65ad","status_code":200,"status_desc":"OK","messages":[{"message_hash":"rHbYmkm6VhOydieIUc4xonA60weDrnh2cVa1/QemWxM="}]}'
2025-02-15 03:08:23.556 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-15 03:08:23.557 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-15 03:08:23.557 DEBUG [src.node.waku_node] Stopping container with id 5628ce9ac9fc
2025-02-15 03:08:24.094 DEBUG [src.node.waku_node] Container stopped.
2025-02-15 03:08:24.095 DEBUG [src.node.waku_node] Stopping container with id 75131333f396
2025-02-15 03:08:24.616 DEBUG [src.node.waku_node] Container stopped.
2025-02-15 03:08:24.618 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-15 03:08:24.633 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-15 03:08:24.637 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
