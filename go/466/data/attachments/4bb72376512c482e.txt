2025-02-14 03:06:31.994 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-14 03:06:31.994 DEBUG [tests.conftest] Running test: test_filter_subscribe_with_no_content_topic with id: 2025-02-14_03-06-31__e02624b1-24d9-4f88-85e2-4e4908502172
2025-02-14 03:06:31.995 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-14 03:06:31.995 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2025-02-14 03:06:31.995 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2025-02-14 03:06:32.001 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-14 03:06:32.001 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-14_03-06-31__e02624b1-24d9-4f88-85e2-4e4908502172__wakuorg_nwaku:latest.log
2025-02-14 03:06:32.002 DEBUG [src.node.waku_node] Starting Node...
2025-02-14 03:06:32.002 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-14 03:06:32.003 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-14 03:06:32.003 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.31.85
2025-02-14 03:06:32.003 DEBUG [src.node.docker_mananger] Generated ports ['5601', '5602', '5603', '5604', '5605']
2025-02-14 03:06:32.003 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-14 03:06:32.004 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-14 03:06:32.004 DEBUG [src.node.waku_node] Using volumes []
2025-02-14 03:06:32.004 DEBUG [src.node.docker_mananger] docker run -i -t -p 5601:5601 -p 5602:5602 -p 5603:5603 -p 5604:5604 -p 5605:5605 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=5603 --rest-port=5601 --tcp-port=5602 --discv5-udp-port=5604 --rest-address=0.0.0.0 --nat=extip:172.18.31.85 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5bdc9cee49ecf1c7cc967f9d5dceb87aca6d7e03fbc4550d0eac08df5e3bfd8a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=5605 --metrics-logging=true --relay=true --filter=true
2025-02-14 03:06:32.228 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.31.85 waku b8a8c7f174429a0f0471be9d87616b594e31c624aed449d35c6e0a7e494cf2ff
2025-02-14 03:06:32.275 DEBUG [src.node.docker_mananger] Container started with ID b8a8c7f17442. Setting up logs at ./log/docker/node1_2025-02-14_03-06-31__e02624b1-24d9-4f88-85e2-4e4908502172__wakuorg_nwaku:latest.log
2025-02-14 03:06:32.276 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 5601
2025-02-14 03:06:32.277 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-14 03:06:32.801 ERROR [src.node.docker_mananger] Max retries reached for container 65807cf52735. Exiting log stream.
2025-02-14 03:06:33.277 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5601/health" -H "Content-Type: application/json" -d 'None'
2025-02-14 03:06:33.280 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-14 03:06:33.281 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-14 03:06:33.281 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5601/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-14 03:06:33.283 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.31.85/tcp/5602/p2p/16Uiu2HAkvCo8mcQskijV7yEojgUgqMyNvWziQkN4bNn87YERBxDd","/ip4/172.18.31.85/tcp/5603/ws/p2p/16Uiu2HAkvCo8mcQskijV7yEojgUgqMyNvWziQkN4bNn87YERBxDd"],"enrUri":"enr:-L24QMbPfeDQ6IRuulPLidkPMKy4meBsuX5r_ORd6V8hRBOsVR3LHfprURBjYFzpi7qdPeMbV3xIHABVsGGwGyP0aQYCgmlkgnY0gmlwhKwSH1WKbXVsdGlhZGRyc5YACASsEh9VBhXiAAoErBIfVQYV490DgnJzhQADAQAAiXNlY3AyNTZrMaECC4858KlF96S8CCBm37jF76AEdoseh_9TPibt9rUVW4iDdGNwghXig3VkcIIV5IV3YWt1MgU"}'
2025-02-14 03:06:33.283 INFO [src.node.waku_node] REST service is ready !!
2025-02-14 03:06:33.283 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2025-02-14 03:06:33.289 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-14 03:06:33.289 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-14_03-06-31__e02624b1-24d9-4f88-85e2-4e4908502172__wakuorg_go-waku:latest.log
2025-02-14 03:06:33.290 DEBUG [src.node.waku_node] Starting Node...
2025-02-14 03:06:33.290 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-14 03:06:33.291 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-14 03:06:33.291 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.72.109
2025-02-14 03:06:33.291 DEBUG [src.node.docker_mananger] Generated ports ['5396', '5397', '5398', '5399', '5400']
2025-02-14 03:06:33.292 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-14 03:06:33.292 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-14 03:06:33.292 DEBUG [src.node.waku_node] Using volumes []
2025-02-14 03:06:33.292 DEBUG [src.node.docker_mananger] docker run -i -t -p 5396:5396 -p 5397:5397 -p 5398:5398 -p 5399:5399 -p 5400:5400 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=5398 --rest-port=5396 --tcp-port=5397 --discv5-udp-port=5399 --rest-address=0.0.0.0 --nat=extip:172.18.72.109 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=da47c02441c134b0a583c84a554b2967cfb7fed5bbebcad82a6df5a1e7c7dd7b --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QMbPfeDQ6IRuulPLidkPMKy4meBsuX5r_ORd6V8hRBOsVR3LHfprURBjYFzpi7qdPeMbV3xIHABVsGGwGyP0aQYCgmlkgnY0gmlwhKwSH1WKbXVsdGlhZGRyc5YACASsEh9VBhXiAAoErBIfVQYV490DgnJzhQADAQAAiXNlY3AyNTZrMaECC4858KlF96S8CCBm37jF76AEdoseh_9TPibt9rUVW4iDdGNwghXig3VkcIIV5IV3YWt1MgU --filternode=/ip4/172.18.31.85/tcp/5602/p2p/16Uiu2HAkvCo8mcQskijV7yEojgUgqMyNvWziQkN4bNn87YERBxDd --pubsub-topic=/waku/2/rs/3/1
2025-02-14 03:06:33.522 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.72.109 waku e615c7d7e7ef05cf9337511291a9ad66c38fc59491a9a4b9b2d4db1083ff33a6
2025-02-14 03:06:33.576 DEBUG [src.node.docker_mananger] Container started with ID e615c7d7e7ef. Setting up logs at ./log/docker/node2_2025-02-14_03-06-31__e02624b1-24d9-4f88-85e2-4e4908502172__wakuorg_go-waku:latest.log
2025-02-14 03:06:33.577 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 5396
2025-02-14 03:06:33.577 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-14 03:06:34.579 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5396/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-14 03:06:34.581 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QHUyZcUUzS53l405LaEYljS-VaUHTPRQEKb6SgtrtE6jTm18k3eKjERcg1ODS48hrHEYoByiOMSMLjQr5UtL5kWGAZUCbBjjgmlkgnY0gmlwhKwRAAOCcnOFAAMBAAGJc2VjcDI1NmsxoQLxC3Kg41Xrev5llzPpsdlAnZ8a97uA-GXy9lunaUpKRoN0Y3CCFRWDdWRwghUXhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/5397/p2p/16Uiu2HAmBecMp2rFUMqYMBf6Zq8meuTk5T5vZ8V4pCWsJ59kQh4q","/ip4/127.0.0.1/tcp/5398/ws/p2p/16Uiu2HAmBecMp2rFUMqYMBf6Zq8meuTk5T5vZ8V4pCWsJ59kQh4q","/ip4/172.17.0.3/tcp/5397/p2p/16Uiu2HAmBecMp2rFUMqYMBf6Zq8meuTk5T5vZ8V4pCWsJ59kQh4q","/ip4/172.17.0.3/tcp/5398/ws/p2p/16Uiu2HAmBecMp2rFUMqYMBf6Zq8meuTk5T5vZ8V4pCWsJ59kQh4q"]}'
2025-02-14 03:06:34.582 INFO [src.node.waku_node] REST service is ready !!
2025-02-14 03:06:34.582 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5396/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.31.85/tcp/5602/p2p/16Uiu2HAkvCo8mcQskijV7yEojgUgqMyNvWziQkN4bNn87YERBxDd", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-14 03:06:34.584 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-14 03:06:34.584 DEBUG [src.steps.filter] Running fixture setup: subscribe_main_nodes
2025-02-14 03:06:34.585 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5601/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-14 03:06:34.587 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 03:06:34.588 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5396/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "ee292cae-88e5-42de-9df6-0ae13b38676c", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2025-02-14 03:06:34.594 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"ee292cae-88e5-42de-9df6-0ae13b38676c","statusDesc":"OK"}'
2025-02-14 03:06:34.595 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5396/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "pubsubTopic": "/waku/2/rs/3/1"}'
2025-02-14 03:06:34.597 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"1","statusDesc":"OK"}'
2025-02-14 03:06:34.599 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-14 03:06:34.600 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-14 03:06:34.600 DEBUG [src.node.waku_node] Stopping container with id b8a8c7f17442
2025-02-14 03:06:35.213 DEBUG [src.node.waku_node] Container stopped.
2025-02-14 03:06:35.214 DEBUG [src.node.waku_node] Stopping container with id e615c7d7e7ef
2025-02-14 03:06:36.026 ERROR [src.node.docker_mananger] Max retries reached for container b8a8c7f17442. Exiting log stream.
2025-02-14 03:06:36.114 DEBUG [src.node.waku_node] Container stopped.
2025-02-14 03:06:36.115 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-14 03:06:36.119 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-14 03:06:36.123 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
