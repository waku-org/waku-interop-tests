2025-02-14 03:07:03.787 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-14 03:07:03.788 DEBUG [tests.conftest] Running test: test_publish_on_multiple_pubsub_topics with id: 2025-02-14_03-07-03__cfaa7d33-3bf8-4d14-83c7-d209f8e2785f
2025-02-14 03:07:03.788 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-14 03:07:03.788 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-14 03:07:03.789 DEBUG [src.steps.relay] Running fixture setup: setup_main_relay_nodes
2025-02-14 03:07:03.794 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-14 03:07:03.794 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-14_03-07-03__cfaa7d33-3bf8-4d14-83c7-d209f8e2785f__wakuorg_nwaku:latest.log
2025-02-14 03:07:03.795 DEBUG [src.node.waku_node] Starting Node...
2025-02-14 03:07:03.795 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-14 03:07:03.796 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-14 03:07:03.796 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.74.90
2025-02-14 03:07:03.797 DEBUG [src.node.docker_mananger] Generated ports ['32629', '32630', '32631', '32632', '32633']
2025-02-14 03:07:03.797 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-14 03:07:03.797 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-14 03:07:03.797 DEBUG [src.node.waku_node] Using volumes []
2025-02-14 03:07:03.797 DEBUG [src.node.docker_mananger] docker run -i -t -p 32629:32629 -p 32630:32630 -p 32631:32631 -p 32632:32632 -p 32633:32633 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=32631 --rest-port=32629 --tcp-port=32630 --discv5-udp-port=32632 --rest-address=0.0.0.0 --nat=extip:172.18.74.90 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5162c884cf4e3b3be636ce3ddbbaecbe96075cbc38b8a147da2069cce49afaaa --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=32633 --metrics-logging=true --relay=true
2025-02-14 03:07:04.025 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.74.90 waku fda801de00a466f2bdb781fd40ebd27655916f21673a71847432a5106c8da6e5
2025-02-14 03:07:04.075 DEBUG [src.node.docker_mananger] Container started with ID fda801de00a4. Setting up logs at ./log/docker/node1_2025-02-14_03-07-03__cfaa7d33-3bf8-4d14-83c7-d209f8e2785f__wakuorg_nwaku:latest.log
2025-02-14 03:07:04.076 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 32629
2025-02-14 03:07:04.077 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-14 03:07:04.081 ERROR [src.node.docker_mananger] Max retries reached for container 3253f18c4df2. Exiting log stream.
2025-02-14 03:07:04.587 ERROR [src.node.docker_mananger] Max retries reached for container 56a07a7fdfbd. Exiting log stream.
2025-02-14 03:07:05.077 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32629/health" -H "Content-Type: application/json" -d 'None'
2025-02-14 03:07:05.080 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-14 03:07:05.080 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-14 03:07:05.081 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32629/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-14 03:07:05.083 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.74.90/tcp/32630/p2p/16Uiu2HAkyYQMejrxGhFoQyZz7rVBmi1EsM3wsRmQxhced7mWqSN7","/ip4/172.18.74.90/tcp/32631/ws/p2p/16Uiu2HAkyYQMejrxGhFoQyZz7rVBmi1EsM3wsRmQxhced7mWqSN7"],"enrUri":"enr:-L24QMlPF2cYXru1RjW2kdPT8A11LsAI4w9WU47ywgasifSCHvOCYU33-Xhe8kn2e5_vaRyeFZ_Z361C1XFwj83FhvQCgmlkgnY0gmlwhKwSSlqKbXVsdGlhZGRyc5YACASsEkpaBn92AAoErBJKWgZ_d90DgnJzhQADAQAAiXNlY3AyNTZrMaECPSgl8mbNbvljoRqqpgikeDgfZwmFfoJgn3TbKcdWAZyDdGNwgn92g3VkcIJ_eIV3YWt1MgE"}'
2025-02-14 03:07:05.083 INFO [src.node.waku_node] REST service is ready !!
2025-02-14 03:07:05.089 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-14 03:07:05.089 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-14_03-07-03__cfaa7d33-3bf8-4d14-83c7-d209f8e2785f__wakuorg_go-waku:latest.log
2025-02-14 03:07:05.089 DEBUG [src.node.waku_node] Starting Node...
2025-02-14 03:07:05.089 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-14 03:07:05.091 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-14 03:07:05.091 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.107.99
2025-02-14 03:07:05.091 DEBUG [src.node.docker_mananger] Generated ports ['39439', '39440', '39441', '39442', '39443']
2025-02-14 03:07:05.091 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-14 03:07:05.091 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-14 03:07:05.091 DEBUG [src.node.waku_node] Using volumes []
2025-02-14 03:07:05.091 DEBUG [src.node.docker_mananger] docker run -i -t -p 39439:39439 -p 39440:39440 -p 39441:39441 -p 39442:39442 -p 39443:39443 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=39441 --rest-port=39439 --tcp-port=39440 --discv5-udp-port=39442 --rest-address=0.0.0.0 --nat=extip:172.18.107.99 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5b6d50291c3270b0ec5af546fdba662dbfc6d66bd4f9c325eb0fc5b01cba0468 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-L24QMlPF2cYXru1RjW2kdPT8A11LsAI4w9WU47ywgasifSCHvOCYU33-Xhe8kn2e5_vaRyeFZ_Z361C1XFwj83FhvQCgmlkgnY0gmlwhKwSSlqKbXVsdGlhZGRyc5YACASsEkpaBn92AAoErBJKWgZ_d90DgnJzhQADAQAAiXNlY3AyNTZrMaECPSgl8mbNbvljoRqqpgikeDgfZwmFfoJgn3TbKcdWAZyDdGNwgn92g3VkcIJ_eIV3YWt1MgE
2025-02-14 03:07:05.325 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.107.99 waku 294545658a4f2e758ce1c646fa8c9025ea70f30b3ca63ba621ce36b20e49f094
2025-02-14 03:07:05.378 DEBUG [src.node.docker_mananger] Container started with ID 294545658a4f. Setting up logs at ./log/docker/node2_2025-02-14_03-07-03__cfaa7d33-3bf8-4d14-83c7-d209f8e2785f__wakuorg_go-waku:latest.log
2025-02-14 03:07:05.381 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 39439
2025-02-14 03:07:05.381 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-14 03:07:06.382 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39439/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-14 03:07:06.384 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QDu7bcbTaJf2K4-zcyGmSi4ws-VqSsByx3oPrMBJ7IShEZFigycp3iuq29aaFEe0y2Kb4h65wgZVYeGH2-7x3BeGAZUCbJUdgmlkgnY0gmlwhKwRAAOCcnODAAMAiXNlY3AyNTZrMaEDb1JkTrx0eCoqZi-_22aNI0NWe2X2Gzd0WGV2aYB83b6DdGNwgpoQg3VkcIKaEoV3YWt1MgE","listenAddresses":["/ip4/127.0.0.1/tcp/39440/p2p/16Uiu2HAmL9YUNrB1CY2r9uAEQXfzQzePYJz4W2w9VmGvsTF8N9p1","/ip4/127.0.0.1/tcp/39441/ws/p2p/16Uiu2HAmL9YUNrB1CY2r9uAEQXfzQzePYJz4W2w9VmGvsTF8N9p1","/ip4/172.17.0.3/tcp/39440/p2p/16Uiu2HAmL9YUNrB1CY2r9uAEQXfzQzePYJz4W2w9VmGvsTF8N9p1","/ip4/172.17.0.3/tcp/39441/ws/p2p/16Uiu2HAmL9YUNrB1CY2r9uAEQXfzQzePYJz4W2w9VmGvsTF8N9p1"]}'
2025-02-14 03:07:06.385 INFO [src.node.waku_node] REST service is ready !!
2025-02-14 03:07:06.385 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39439/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.74.90/tcp/32630/p2p/16Uiu2HAkyYQMejrxGhFoQyZz7rVBmi1EsM3wsRmQxhced7mWqSN7", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-14 03:07:06.404 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-14 03:07:06.405 DEBUG [src.steps.relay] Running fixture setup: subscribe_main_relay_nodes
2025-02-14 03:07:06.405 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:32629/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-14 03:07:06.426 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 03:07:06.426 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39439/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-14 03:07:06.429 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-14 03:07:06.431 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:32629/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 03:07:06.445 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 03:07:06.445 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 03:07:06.545 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 03:07:06.546 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32629/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 03:07:06.548 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739502426430939904,"ephemeral":false}]'
2025-02-14 03:07:06.550 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-14 03:07:06.550 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39439/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 03:07:06.552 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-14 03:07:07.553 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:32629/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 03:07:07.558 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 03:07:07.558 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 03:07:07.659 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 03:07:07.659 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32629/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 03:07:07.662 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739502427553274880,"ephemeral":false}]'
2025-02-14 03:07:07.663 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-14 03:07:07.663 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39439/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 03:07:07.665 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739502427553274880,"ephemeral":false}]'
2025-02-14 03:07:07.666 INFO [src.steps.relay] WARM UP successful!!
2025-02-14 03:07:07.667 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:32629/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9", "/waku/2/rs/3/25", "/waku/2/rs/3/1000"]'
2025-02-14 03:07:07.672 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 03:07:07.673 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39439/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9", "/waku/2/rs/3/25", "/waku/2/rs/3/1000"]'
2025-02-14 03:07:07.676 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-14 03:07:07.677 DEBUG [tests.relay.test_publish] Running test with pubsub topic /waku/2/rs/3/0
2025-02-14 03:07:07.677 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:32629/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 03:07:07.688 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 03:07:07.688 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 03:07:07.788 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 03:07:07.789 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32629/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-14 03:07:07.792 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739502427677798400,"ephemeral":false}]'
2025-02-14 03:07:07.793 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-14 03:07:07.793 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39439/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-14 03:07:07.795 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739502427677798400,"ephemeral":false}]'
2025-02-14 03:07:07.796 DEBUG [tests.relay.test_publish] Running test with pubsub topic /waku/2/rs/3/1
2025-02-14 03:07:07.797 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:32629/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 03:07:07.801 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 03:07:07.801 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 03:07:07.901 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 03:07:07.902 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32629/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 03:07:07.904 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739502427797202944,"ephemeral":false}]'
2025-02-14 03:07:07.906 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-14 03:07:07.906 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39439/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 03:07:07.908 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739502427797202944,"ephemeral":false}]'
2025-02-14 03:07:07.909 DEBUG [tests.relay.test_publish] Running test with pubsub topic /waku/2/rs/3/9
2025-02-14 03:07:07.910 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:32629/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F9" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 03:07:07.914 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 03:07:07.914 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 03:07:08.014 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 03:07:08.014 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32629/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F9" -H "Content-Type: application/json" -d 'None'
2025-02-14 03:07:08.017 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739502427910004224,"ephemeral":false}]'
2025-02-14 03:07:08.018 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-14 03:07:08.019 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39439/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F9" -H "Content-Type: application/json" -d 'None'
2025-02-14 03:07:08.020 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739502427910004224,"ephemeral":false}]'
2025-02-14 03:07:08.022 DEBUG [tests.relay.test_publish] Running test with pubsub topic /waku/2/rs/3/25
2025-02-14 03:07:08.022 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:32629/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 03:07:08.026 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 03:07:08.026 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 03:07:08.127 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 03:07:08.127 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32629/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d 'None'
2025-02-14 03:07:08.130 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739502428022446592,"ephemeral":false}]'
2025-02-14 03:07:08.131 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-14 03:07:08.131 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39439/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d 'None'
2025-02-14 03:07:08.133 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739502428022446592,"ephemeral":false}]'
2025-02-14 03:07:08.135 DEBUG [tests.relay.test_publish] Running test with pubsub topic /waku/2/rs/3/1000
2025-02-14 03:07:08.135 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:32629/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 03:07:08.140 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 03:07:08.140 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 03:07:08.240 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 03:07:08.240 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32629/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d 'None'
2025-02-14 03:07:08.243 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739502428135532800,"ephemeral":false}]'
2025-02-14 03:07:08.245 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-14 03:07:08.245 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39439/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d 'None'
2025-02-14 03:07:08.246 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739502428135532800,"ephemeral":false}]'
2025-02-14 03:07:08.250 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-14 03:07:08.251 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-14 03:07:08.251 DEBUG [src.node.waku_node] Stopping container with id fda801de00a4
2025-02-14 03:07:09.562 DEBUG [src.node.waku_node] Container stopped.
2025-02-14 03:07:09.563 DEBUG [src.node.waku_node] Stopping container with id 294545658a4f
2025-02-14 03:07:10.076 DEBUG [src.node.waku_node] Container stopped.
2025-02-14 03:07:10.078 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-14 03:07:10.096 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-14 03:07:10.100 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
