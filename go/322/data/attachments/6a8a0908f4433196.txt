[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_time_filter_zero_start_end_time with id: 2024-10-27_03-28-03__106213aa-d637-4f08-9788-b2fc42728747
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-10-27_03-28-03__106213aa-d637-4f08-9788-b2fc42728747__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.194.119
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['55859', '55860', '55861', '55862', '55863']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 55859:55859 -p 55860:55860 -p 55861:55861 -p 55862:55862 -p 55863:55863 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=55861 --rest-port=55859 --tcp-port=55860 --discv5-udp-port=55862 --rest-address=0.0.0.0 --nat=extip:172.18.194.119 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ffa4e8abf7de4ace2e9ac79993138dbf8dfecadb7f77867dc1f1ed52faea9fae --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=55863 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.194.119 waku 636d67047ae01732f207ca398b0567ee2eb0542fbc894ee1ff31f0ded8c332e0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 636d67047ae0. Setting up logs at ./log/docker/publishing_node1_2024-10-27_03-28-03__106213aa-d637-4f08-9788-b2fc42728747__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 55859
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 389f970670a1. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55859/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55859/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.194.119/tcp/55860/p2p/16Uiu2HAkxUShwTpi2erDX5RMCdxcwTuTTmxn4NbeEoz5mGM2dHVa","/ip4/172.18.194.119/tcp/55861/ws/p2p/16Uiu2HAkxUShwTpi2erDX5RMCdxcwTuTTmxn4NbeEoz5mGM2dHVa"],"enrUri":"enr:-LO4QCAzN7bVqMwN10-lM1d7NFFtELH20QRbyEglh8syknNBK37MI_VeWsBiqZBB137G87Y73fAWcfCkL1A1c2ZxwjkBgmlkgnY0gmlwhKwSwneKbXVsdGlhZGRyc4wACgSsEsJ3Bto13QOCcnOFAAMBAACJc2VjcDI1NmsxoQItSMuEsHkJVrdnUqBxagffIwJAlV35SQZ_tATox2btqYN0Y3CC2jSDdWRwgto2hXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-10-27_03-28-03__106213aa-d637-4f08-9788-b2fc42728747__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.188.123
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['19997', '19998', '19999', '20000', '20001']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 19997:19997 -p 19998:19998 -p 19999:19999 -p 20000:20000 -p 20001:20001 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=19999 --rest-port=19997 --tcp-port=19998 --discv5-udp-port=20000 --rest-address=0.0.0.0 --nat=extip:172.18.188.123 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=af43c0a7ac5d0d10dedf0cea509bafa4f1dfdfccfeea4fcccdca0b3e4f8bc3f8 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-LO4QCAzN7bVqMwN10-lM1d7NFFtELH20QRbyEglh8syknNBK37MI_VeWsBiqZBB137G87Y73fAWcfCkL1A1c2ZxwjkBgmlkgnY0gmlwhKwSwneKbXVsdGlhZGRyc4wACgSsEsJ3Bto13QOCcnOFAAMBAACJc2VjcDI1NmsxoQItSMuEsHkJVrdnUqBxagffIwJAlV35SQZ_tATox2btqYN0Y3CC2jSDdWRwgto2hXdha3UyAw --storenode=/ip4/172.18.194.119/tcp/55860/p2p/16Uiu2HAkxUShwTpi2erDX5RMCdxcwTuTTmxn4NbeEoz5mGM2dHVa --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.188.123 waku 5d88c19a5a126845406d8a59c4bd49ed5aff8c89f7c31e4e45c9ed7eb267eb79
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 5d88c19a5a12. Setting up logs at ./log/docker/store_node1_2024-10-27_03-28-03__106213aa-d637-4f08-9788-b2fc42728747__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 19997
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19997/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QHDKdFY1ZYGFo5d7g8jiuZHIyPv5u8hQ64lpCYRX35xTCr1LS1HD1S6Oj_SXeTSvkrhXaAD2Ha4mjYZgXn8co02GAZLMBEXCgmlkgnY0gmlwhKwRAAiJc2VjcDI1NmsxoQM7XfxfE4s5yM5HcIzX4pCCjhcpCsjvH3NGFIdj5MfFt4N0Y3CCTh6DdWRwgk4ghXdha3UyAw","listenAddresses":["/ip4/127.0.0.1/tcp/19998/p2p/16Uiu2HAmGejXUrGKHW7wDBYagTgDbJ4hJo31KHjnMdTKVz9qfoYA","/ip4/127.0.0.1/tcp/19999/ws/p2p/16Uiu2HAmGejXUrGKHW7wDBYagTgDbJ4hJo31KHjnMdTKVz9qfoYA","/ip4/172.17.0.8/tcp/19998/p2p/16Uiu2HAmGejXUrGKHW7wDBYagTgDbJ4hJo31KHjnMdTKVz9qfoYA","/ip4/172.17.0.8/tcp/19999/ws/p2p/16Uiu2HAmGejXUrGKHW7wDBYagTgDbJ4hJo31KHjnMdTKVz9qfoYA"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19997/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.194.119/tcp/55860/p2p/16Uiu2HAkxUShwTpi2erDX5RMCdxcwTuTTmxn4NbeEoz5mGM2dHVa", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55859/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19997/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55859/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55859/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55859/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55859/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55859/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55859/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:166 inquering stored messages with start time 0
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55859/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=0&endTime=0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"kVljwnW2X8qxVOnTYTkq3V1SP6+GmJfiZ9BDrdSNrZ8=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1729999680053785088,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"stTJwQUbYG8gjIvBn03KygqCf1GHqi0orRxd170H/MU=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1729999682053790976,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"LM7H9MOXGn7qEHSXWEnta/HElv9sWWl1xF5iftD9Dc4=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1729999682953793024,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"5EWxmoZb/3o2ppwnBMAkM7M020YHynBkiIeqtLYUq+A=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1729999683153795840,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"FpTar3kmEH5P57eeWG+UMNYeDKXfFdpGkQieqQH0Bls=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1729999685053797120,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"AIIJ6mXuvU3Ud683zPv8BFEiYltuTjH6kWTs1HCtgoE=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1729999693053798912,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"}]}'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:169 number of messages stored for  start time = 0 is  6
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19997/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&startTime=0&endTime=0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"d715d6041165007c59480d4c4a833049b71c5ac66cf406099487f22e4a002b2a","status_code":200,"status_desc":"OK"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 636d67047ae0
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 5d88c19a5a12
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 636d67047ae0. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/publishing_node1_2024-10-27_03-28-03__106213aa-d637-4f08-9788-b2fc42728747__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/store_node1_2024-10-27_03-28-03__106213aa-d637-4f08-9788-b2fc42728747__wakuorg_go-waku:latest.log
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_time_filter_zero_start_end_time with id: 2024-10-27_03-28-11__3b4b7de6-b51a-4080-995b-e765b2cf837a
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-10-27_03-28-11__3b4b7de6-b51a-4080-995b-e765b2cf837a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.238.67
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['61626', '61627', '61628', '61629', '61630']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 61626:61626 -p 61627:61627 -p 61628:61628 -p 61629:61629 -p 61630:61630 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=61628 --rest-port=61626 --tcp-port=61627 --discv5-udp-port=61629 --rest-address=0.0.0.0 --nat=extip:172.18.238.67 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=35d9dd5d41a1ca7e4fd170f23edad30ac7ffe901dc9b2aa0942e5bdc9168298e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=61630 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.238.67 waku 39c4bee82dd803e5abc72105a88ae6298924bacddf58e6988d355fbd64eb5750
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 39c4bee82dd8. Setting up logs at ./log/docker/publishing_node1_2024-10-27_03-28-11__3b4b7de6-b51a-4080-995b-e765b2cf837a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 61626
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 5d88c19a5a12. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61626/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61626/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.238.67/tcp/61627/p2p/16Uiu2HAmQBy1ieo4TF5kq2G8WwLDVj5Zi8Ypoi8HaN6iPyxG3adB","/ip4/172.18.238.67/tcp/61628/ws/p2p/16Uiu2HAmQBy1ieo4TF5kq2G8WwLDVj5Zi8Ypoi8HaN6iPyxG3adB"],"enrUri":"enr:-LO4QGgWOi3RfVF9XLpVi_qhrzhbvVrLfIy4uZ_J_IDXrAc7dMTcu-mXUFNNU_UvWzMdhCIEluGHqcxLHIYQ0UOtvo8BgmlkgnY0gmlwhKwS7kOKbXVsdGlhZGRyc4wACgSsEu5DBvC83QOCcnOFAAMBAACJc2VjcDI1NmsxoQOrYAyNhpFe34b-0ExTP_juI_SRez4l_9mWSr5gevjDdoN0Y3CC8LuDdWRwgvC9hXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-10-27_03-28-11__3b4b7de6-b51a-4080-995b-e765b2cf837a__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.76.203
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['40103', '40104', '40105', '40106', '40107']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 40103:40103 -p 40104:40104 -p 40105:40105 -p 40106:40106 -p 40107:40107 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=40105 --rest-port=40103 --tcp-port=40104 --discv5-udp-port=40106 --rest-address=0.0.0.0 --nat=extip:172.18.76.203 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=57bb1923e8bdc26bfaaa47d5cb73de7829ee5f67ecfaf570e32aed1f2e93f1bd --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-LO4QGgWOi3RfVF9XLpVi_qhrzhbvVrLfIy4uZ_J_IDXrAc7dMTcu-mXUFNNU_UvWzMdhCIEluGHqcxLHIYQ0UOtvo8BgmlkgnY0gmlwhKwS7kOKbXVsdGlhZGRyc4wACgSsEu5DBvC83QOCcnOFAAMBAACJc2VjcDI1NmsxoQOrYAyNhpFe34b-0ExTP_juI_SRez4l_9mWSr5gevjDdoN0Y3CC8LuDdWRwgvC9hXdha3UyAw --storenode=/ip4/172.18.238.67/tcp/61627/p2p/16Uiu2HAmQBy1ieo4TF5kq2G8WwLDVj5Zi8Ypoi8HaN6iPyxG3adB --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.76.203 waku 162097508da98cc5a710a15336749e0bc4800333fb5024e105b9da9c111e456b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 162097508da9. Setting up logs at ./log/docker/store_node1_2024-10-27_03-28-11__3b4b7de6-b51a-4080-995b-e765b2cf837a__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 40103
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40103/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QGNzeUVW9geGoSlgcU8qCHVYLbMmrdb83_2ddtg5dJ1HazU5WgMAhNRWySZwYYlfclVmtXQy7iL7AfjiI9GlqUWGAZLMBGhPgmlkgnY0gmlwhKwRAAiJc2VjcDI1NmsxoQINXSjKQzzDvI7TrlJjotzGCiq-us4B8diGfGKiylVy6IN0Y3CCnKiDdWRwgpyqhXdha3UyAw","listenAddresses":["/ip4/127.0.0.1/tcp/40104/p2p/16Uiu2HAkvKqfrMjQBYKTs2HQ2EwDcAGt1UZL7B4kQAyGcmcFDWCw","/ip4/127.0.0.1/tcp/40105/ws/p2p/16Uiu2HAkvKqfrMjQBYKTs2HQ2EwDcAGt1UZL7B4kQAyGcmcFDWCw","/ip4/172.17.0.8/tcp/40104/p2p/16Uiu2HAkvKqfrMjQBYKTs2HQ2EwDcAGt1UZL7B4kQAyGcmcFDWCw","/ip4/172.17.0.8/tcp/40105/ws/p2p/16Uiu2HAkvKqfrMjQBYKTs2HQ2EwDcAGt1UZL7B4kQAyGcmcFDWCw"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40103/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.238.67/tcp/61627/p2p/16Uiu2HAmQBy1ieo4TF5kq2G8WwLDVj5Zi8Ypoi8HaN6iPyxG3adB", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61626/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40103/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61626/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61626/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61626/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61626/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61626/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61626/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:166 inquering stored messages with start time 0
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61626/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=0&endTime=0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"br4cLCfVWQJo4e7OYRXmLu1+FAZDEaUKTS9/ByOU/xA=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1729999688688829952,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"OtxiVlKJzy8Cf9k1irYzJalCWzEj0/ceNwfEeounbgc=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1729999690688839936,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"lnTjwZje9RG7/aYUAE/xt8mbupcK06sf/9IbbVO4tMI=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1729999691588844032,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"9Mjh+bBKxGpTp5tJk8+RLidebE0rtJqW6sjlPdJvZLY=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1729999691788847872,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"mt+IjR1DoiiC6HxX8sTBhsVcw8+diRQdZPOKD1NrZ5k=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1729999693688851968,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"8jZg9rSmQq8f/d+URwKIhnAvAeVWn16kWesLXacX+UE=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1729999701688855040,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"}]}'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:169 number of messages stored for  start time = 0 is  6
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40103/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&startTime=0&endTime=0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"1e407b21be2affc0e01e220937fa24a5e30dda55a41ab20f317c4c266b568324","status_code":200,"status_desc":"OK"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 39c4bee82dd8
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 162097508da9
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 39c4bee82dd8. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/publishing_node1_2024-10-27_03-28-11__3b4b7de6-b51a-4080-995b-e765b2cf837a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/store_node1_2024-10-27_03-28-11__3b4b7de6-b51a-4080-995b-e765b2cf837a__wakuorg_go-waku:latest.log
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_time_filter_zero_start_end_time with id: 2024-10-27_03-28-19__e45190ed-a443-4e3b-8671-bb9a0b940025
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-10-27_03-28-19__e45190ed-a443-4e3b-8671-bb9a0b940025__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.74.55
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['23454', '23455', '23456', '23457', '23458']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 23454:23454 -p 23455:23455 -p 23456:23456 -p 23457:23457 -p 23458:23458 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=23456 --rest-port=23454 --tcp-port=23455 --discv5-udp-port=23457 --rest-address=0.0.0.0 --nat=extip:172.18.74.55 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bfdb8fdb5fab9fd9115aa1daa503f9af4eba5bf6dd9d9e1e4c3ddfcea9c3b14d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=23458 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.74.55 waku b193d3d2283c2b6ba1d4bb5ccf4f7fc24e95ea62fbff5f5cc65b24d201b716eb
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID b193d3d2283c. Setting up logs at ./log/docker/publishing_node1_2024-10-27_03-28-19__e45190ed-a443-4e3b-8671-bb9a0b940025__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 23454
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 162097508da9. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23454/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23454/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.74.55/tcp/23455/p2p/16Uiu2HAm1uExWz867tAdZYj1VErtjr9G4YMs9suuE4yX8eVWM3wK","/ip4/172.18.74.55/tcp/23456/ws/p2p/16Uiu2HAm1uExWz867tAdZYj1VErtjr9G4YMs9suuE4yX8eVWM3wK"],"enrUri":"enr:-LO4QBIpyQOxu2jK_bo1dIv0T6GiSf_VJ67cFRDZp1LEvQopaaYeD_17EouCXr-gJiysOpGtzifid62OEcgb58PUkH8BgmlkgnY0gmlwhKwSSjeKbXVsdGlhZGRyc4wACgSsEko3Blug3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJgNhd9EFbRJGsUPcQGSJsMpcp3l5vlzF5Oim68fOkcxoN0Y3CCW5-DdWRwgluhhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-10-27_03-28-19__e45190ed-a443-4e3b-8671-bb9a0b940025__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.173.152
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['9434', '9435', '9436', '9437', '9438']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 9434:9434 -p 9435:9435 -p 9436:9436 -p 9437:9437 -p 9438:9438 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=9436 --rest-port=9434 --tcp-port=9435 --discv5-udp-port=9437 --rest-address=0.0.0.0 --nat=extip:172.18.173.152 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bec5cfd689ebeda513f97bf29408bd7452d2dffc0bee2fd6c1f7faa1accfb7b0 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-LO4QBIpyQOxu2jK_bo1dIv0T6GiSf_VJ67cFRDZp1LEvQopaaYeD_17EouCXr-gJiysOpGtzifid62OEcgb58PUkH8BgmlkgnY0gmlwhKwSSjeKbXVsdGlhZGRyc4wACgSsEko3Blug3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJgNhd9EFbRJGsUPcQGSJsMpcp3l5vlzF5Oim68fOkcxoN0Y3CCW5-DdWRwgluhhXdha3UyAw --storenode=/ip4/172.18.74.55/tcp/23455/p2p/16Uiu2HAm1uExWz867tAdZYj1VErtjr9G4YMs9suuE4yX8eVWM3wK --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.173.152 waku 73dc5a72f9f2124985beef7e6d7f9b45ded975bec0b483b1a4e06df8419d98f9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 73dc5a72f9f2. Setting up logs at ./log/docker/store_node1_2024-10-27_03-28-19__e45190ed-a443-4e3b-8671-bb9a0b940025__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 9434
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9434/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QP2Z9oJ0tlfmNJhrNWGF3mPXEi3UyPnvI42rtNGKzeh8UJDelVeUhZAqdr3iNK86TWn0xl8W1Bs8ZIbsoUNp_1eGAZLMBIZ4gmlkgnY0gmlwhKwRAAmJc2VjcDI1NmsxoQNv8XQu5WRb4vY5AEzlZ-5em3O1bXGrZ2am3qgYJyPbgYN0Y3CCJNuDdWRwgiTdhXdha3UyAw","listenAddresses":["/ip4/127.0.0.1/tcp/9435/p2p/16Uiu2HAmLBy9YPsoU6u8qHT3HQofHpswzR87FrFdiJvGWBfGG22U","/ip4/127.0.0.1/tcp/9436/ws/p2p/16Uiu2HAmLBy9YPsoU6u8qHT3HQofHpswzR87FrFdiJvGWBfGG22U","/ip4/172.17.0.9/tcp/9435/p2p/16Uiu2HAmLBy9YPsoU6u8qHT3HQofHpswzR87FrFdiJvGWBfGG22U","/ip4/172.17.0.9/tcp/9436/ws/p2p/16Uiu2HAmLBy9YPsoU6u8qHT3HQofHpswzR87FrFdiJvGWBfGG22U"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9434/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.74.55/tcp/23455/p2p/16Uiu2HAm1uExWz867tAdZYj1VErtjr9G4YMs9suuE4yX8eVWM3wK", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23454/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9434/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23454/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23454/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23454/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23454/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23454/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23454/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:166 inquering stored messages with start time 0
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23454/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=0&endTime=0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"LFkezm0lXrtCJkAeFpSPg2n7ZecEK/FIvf8+EVUUh0Y=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1729999696507087104,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"vXRjBgenXnS4sWYOZyH9hbIpsYe3e1Xa2K7hSvjZF58=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1729999698507094016,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"mp20xuPdc0i5n1hBYoplAaO9FInSmusXFkoSaLHOaZM=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1729999699407095808,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"q8YSIWxSiNC1obHzoVd7wsq67mz8WO4SD9tRb5qIrBs=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1729999699607098112,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"GS4dQJb67xGVOljgEer2hglK0seQeql/E6gC+boDri4=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1729999701507100160,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"9UQiOD5/PCixo3M8ZrVv/H9FbBc6M1z4oOWBseUYXxw=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1729999709507101952,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"}]}'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:169 number of messages stored for  start time = 0 is  6
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9434/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&startTime=0&endTime=0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"7378635357a3ed73976ea81aaf4fb1fb232ef8142946e96b732f5532bc314014","status_code":200,"status_desc":"OK"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id b193d3d2283c
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 73dc5a72f9f2
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container b193d3d2283c. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/store_node1_2024-10-27_03-28-19__e45190ed-a443-4e3b-8671-bb9a0b940025__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/publishing_node1_2024-10-27_03-28-19__e45190ed-a443-4e3b-8671-bb9a0b940025__wakuorg_nwaku:latest.log