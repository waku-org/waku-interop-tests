[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-10-27_03-12-10__c2993357-89f7-4d45-9c6b-aa964dd9f707
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-10-27_03-12-10__c2993357-89f7-4d45-9c6b-aa964dd9f707__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.163.94
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['28545', '28546', '28547', '28548', '28549']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 28545:28545 -p 28546:28546 -p 28547:28547 -p 28548:28548 -p 28549:28549 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=28547 --rest-port=28545 --tcp-port=28546 --discv5-udp-port=28548 --rest-address=0.0.0.0 --nat=extip:172.18.163.94 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=36d4fcc0d6e5d49f6c5faa9262eca897dd162a745c2e2866525226dabc7ee3a8 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=28549 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.163.94 waku 94558146b43871f2efe8e8fdac41bf7a83c685e4d9e3ea31d16eff842efbb15a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 94558146b438. Setting up logs at ./log/docker/node1_2024-10-27_03-12-10__c2993357-89f7-4d45-9c6b-aa964dd9f707__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 28545
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 7840dec3919a. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28545/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28545/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.163.94/tcp/28546/p2p/16Uiu2HAmRXXZenAb1i4xmgGRPwbdJ9tq9kp5QyhD1NDQYBa18FrA","/ip4/172.18.163.94/tcp/28547/ws/p2p/16Uiu2HAmRXXZenAb1i4xmgGRPwbdJ9tq9kp5QyhD1NDQYBa18FrA"],"enrUri":"enr:-LO4QDzBBm7Q-c2RXUYcjJXLsgYdeTeo2uSY03i8EoZGlmUjZd0hEFenuVCl81c49vzxQ-NZYyHZiQphQf5UCTWYiuEBgmlkgnY0gmlwhKwSo16KbXVsdGlhZGRyc4wACgSsEqNeBm-D3QOCcnOFAAMBAACJc2VjcDI1NmsxoQO_PpON3ATWTOr0FUIm6-99AOa4CQW8WaRSNBi-TV-K04N0Y3CCb4KDdWRwgm-EhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-10-27_03-12-10__c2993357-89f7-4d45-9c6b-aa964dd9f707__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.61.72
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['44716', '44717', '44718', '44719', '44720']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 44716:44716 -p 44717:44717 -p 44718:44718 -p 44719:44719 -p 44720:44720 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=44718 --rest-port=44716 --tcp-port=44717 --discv5-udp-port=44719 --rest-address=0.0.0.0 --nat=extip:172.18.61.72 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=4c75130aff5d1b913fc0f10d5effa1be0343b7831f44e43972dc4cdcf6d402d6 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-LO4QDzBBm7Q-c2RXUYcjJXLsgYdeTeo2uSY03i8EoZGlmUjZd0hEFenuVCl81c49vzxQ-NZYyHZiQphQf5UCTWYiuEBgmlkgnY0gmlwhKwSo16KbXVsdGlhZGRyc4wACgSsEqNeBm-D3QOCcnOFAAMBAACJc2VjcDI1NmsxoQO_PpON3ATWTOr0FUIm6-99AOa4CQW8WaRSNBi-TV-K04N0Y3CCb4KDdWRwgm-EhXdha3UyBQ --filternode=/ip4/172.18.163.94/tcp/28546/p2p/16Uiu2HAmRXXZenAb1i4xmgGRPwbdJ9tq9kp5QyhD1NDQYBa18FrA
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.83.142
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['62239', '62240', '62241', '62242', '62243']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 62239:62239 -p 62240:62240 -p 62241:62241 -p 62242:62242 -p 62243:62243 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=62241 --rest-port=62239 --tcp-port=62240 --discv5-udp-port=62242 --rest-address=0.0.0.0 --nat=extip:172.18.83.142 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=acf3aec60f1afc1c471dc1cffaebdcaafcb314da09e7857fddd4ef7171b4964a --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-LO4QDzBBm7Q-c2RXUYcjJXLsgYdeTeo2uSY03i8EoZGlmUjZd0hEFenuVCl81c49vzxQ-NZYyHZiQphQf5UCTWYiuEBgmlkgnY0gmlwhKwSo16KbXVsdGlhZGRyc4wACgSsEqNeBm-D3QOCcnOFAAMBAACJc2VjcDI1NmsxoQO_PpON3ATWTOr0FUIm6-99AOa4CQW8WaRSNBi-TV-K04N0Y3CCb4KDdWRwgm-EhXdha3UyBQ --filternode=/ip4/172.18.163.94/tcp/28546/p2p/16Uiu2HAmRXXZenAb1i4xmgGRPwbdJ9tq9kp5QyhD1NDQYBa18FrA
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.83.142 waku 36c920772e3ebf82af34a92c229367c7c4478264832da04b7564a8e17321a02a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 36c920772e3e. Setting up logs at ./log/docker/node2_2024-10-27_03-12-10__c2993357-89f7-4d45-9c6b-aa964dd9f707__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 62239
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62239/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QPYe7bF2j1OledZOxeehgvWsd3kaqUJNWRG_adyHss-4NY1swkTToaF4cOStJ-duwye6qsvTcjvgzb378fLQe56GAZLL9cI8gmlkgnY0gmlwhKwRAAyJc2VjcDI1NmsxoQICFNt77TBzyacRJtaVpu6xNgz7452EO_YJ4EYnbAm2LIN0Y3CC8yCDdWRwgvMihXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/62240/p2p/16Uiu2HAkuZoEyWFQDyzfe2geJP2taSqwoWsirGNjFG8rJJRvtk1R","/ip4/127.0.0.1/tcp/62241/ws/p2p/16Uiu2HAkuZoEyWFQDyzfe2geJP2taSqwoWsirGNjFG8rJJRvtk1R","/ip4/172.17.0.12/tcp/62240/p2p/16Uiu2HAkuZoEyWFQDyzfe2geJP2taSqwoWsirGNjFG8rJJRvtk1R","/ip4/172.17.0.12/tcp/62241/ws/p2p/16Uiu2HAkuZoEyWFQDyzfe2geJP2taSqwoWsirGNjFG8rJJRvtk1R"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62239/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.163.94/tcp/28546/p2p/16Uiu2HAmRXXZenAb1i4xmgGRPwbdJ9tq9kp5QyhD1NDQYBa18FrA", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-10-27_03-12-10__c2993357-89f7-4d45-9c6b-aa964dd9f707__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.3.224
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['57531', '57532', '57533', '57534', '57535']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 57531:57531 -p 57532:57532 -p 57533:57533 -p 57534:57534 -p 57535:57535 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=57533 --rest-port=57531 --tcp-port=57532 --discv5-udp-port=57534 --rest-address=0.0.0.0 --nat=extip:172.18.3.224 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1aa66b55daedbef614c9eb244ceeeb2eacdddd23fe49ee247fdafbc0e2a66bbb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=57535 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QDzBBm7Q-c2RXUYcjJXLsgYdeTeo2uSY03i8EoZGlmUjZd0hEFenuVCl81c49vzxQ-NZYyHZiQphQf5UCTWYiuEBgmlkgnY0gmlwhKwSo16KbXVsdGlhZGRyc4wACgSsEqNeBm-D3QOCcnOFAAMBAACJc2VjcDI1NmsxoQO_PpON3ATWTOr0FUIm6-99AOa4CQW8WaRSNBi-TV-K04N0Y3CCb4KDdWRwgm-EhXdha3UyBQ --filternode=/ip4/172.18.163.94/tcp/28546/p2p/16Uiu2HAmRXXZenAb1i4xmgGRPwbdJ9tq9kp5QyhD1NDQYBa18FrA
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.3.224 waku ece7750c72b7115b51de7670a96d607ba8402aee7b16de0d946f204acdc73564
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID ece7750c72b7. Setting up logs at ./log/docker/node3_2024-10-27_03-12-10__c2993357-89f7-4d45-9c6b-aa964dd9f707__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 57531
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57531/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57531/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.3.224/tcp/57532/p2p/16Uiu2HAmAjdSnys1URBKJPV4RU7emUgXAbE1pjfTDu7ge9PqKAC1","/ip4/172.18.3.224/tcp/57533/ws/p2p/16Uiu2HAmAjdSnys1URBKJPV4RU7emUgXAbE1pjfTDu7ge9PqKAC1"],"enrUri":"enr:-LO4QECX_-T_PSW17emTNZWyJSDEyz1UhCqN3oGiQ7K6qcluE-3jmyzBnoqlfUag2g54Fd40MqSqnUW2RcmAto71NaEBgmlkgnY0gmlwhKwSA-CKbXVsdGlhZGRyc4wACgSsEgPgBuC93QOCcnOFAAMBAACJc2VjcDI1NmsxoQLjeOSItwXWxtgyYF8JO5Be2H8YANF8K58bAhArIAbn0oN0Y3CC4LyDdWRwguC-hXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57531/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.163.94/tcp/28546/p2p/16Uiu2HAmRXXZenAb1i4xmgGRPwbdJ9tq9kp5QyhD1NDQYBa18FrA"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-10-27_03-12-10__c2993357-89f7-4d45-9c6b-aa964dd9f707__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.153.6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['7251', '7252', '7253', '7254', '7255']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 7251:7251 -p 7252:7252 -p 7253:7253 -p 7254:7254 -p 7255:7255 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=7253 --rest-port=7251 --tcp-port=7252 --discv5-udp-port=7254 --rest-address=0.0.0.0 --nat=extip:172.18.153.6 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=255c023e82de44ae2dfe0edc83ea5ae30233ace4cfdecfedfbf9ce9b4f3fb0cf --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-LO4QDzBBm7Q-c2RXUYcjJXLsgYdeTeo2uSY03i8EoZGlmUjZd0hEFenuVCl81c49vzxQ-NZYyHZiQphQf5UCTWYiuEBgmlkgnY0gmlwhKwSo16KbXVsdGlhZGRyc4wACgSsEqNeBm-D3QOCcnOFAAMBAACJc2VjcDI1NmsxoQO_PpON3ATWTOr0FUIm6-99AOa4CQW8WaRSNBi-TV-K04N0Y3CCb4KDdWRwgm-EhXdha3UyBQ --filternode=/ip4/172.18.163.94/tcp/28546/p2p/16Uiu2HAmRXXZenAb1i4xmgGRPwbdJ9tq9kp5QyhD1NDQYBa18FrA
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.153.6 waku 3fd78620f692d511cd931e785a5002d14bd124c82f13e5593efc2451790af815
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 3fd78620f692. Setting up logs at ./log/docker/node4_2024-10-27_03-12-10__c2993357-89f7-4d45-9c6b-aa964dd9f707__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 7251
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7251/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QKjbEDv5knFp5KSWxfI-7X8S_rYagjHPEBTdH07hdJOXOdWInMfLfOkZF45aoeYJqKdQw8vRFt3Ed-fhA9TPzzSGAZLL9c8fgmlkgnY0gmlwhKwRAASJc2VjcDI1NmsxoQMUho5oScs43KCzaUOZ07u7EqqovvW7H9mZ_A3HF0wGUYN0Y3CCHFSDdWRwghxWhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/7252/p2p/16Uiu2HAmE37WMFuWSAA9hRvNHF4a1cqwqAVQQZh1F7v8FzRdSQMe","/ip4/127.0.0.1/tcp/7253/ws/p2p/16Uiu2HAmE37WMFuWSAA9hRvNHF4a1cqwqAVQQZh1F7v8FzRdSQMe","/ip4/172.17.0.4/tcp/7252/p2p/16Uiu2HAmE37WMFuWSAA9hRvNHF4a1cqwqAVQQZh1F7v8FzRdSQMe","/ip4/172.17.0.4/tcp/7253/ws/p2p/16Uiu2HAmE37WMFuWSAA9hRvNHF4a1cqwqAVQQZh1F7v8FzRdSQMe"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7251/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.163.94/tcp/28546/p2p/16Uiu2HAmRXXZenAb1i4xmgGRPwbdJ9tq9kp5QyhD1NDQYBa18FrA", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-10-27_03-12-10__c2993357-89f7-4d45-9c6b-aa964dd9f707__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.29.133
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['39947', '39948', '39949', '39950', '39951']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 39947:39947 -p 39948:39948 -p 39949:39949 -p 39950:39950 -p 39951:39951 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=39949 --rest-port=39947 --tcp-port=39948 --discv5-udp-port=39950 --rest-address=0.0.0.0 --nat=extip:172.18.29.133 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ea1b4ee1fa8d3d1926867ba5fb43aadf922d8eb9afa94a5115af5a4bfa3a7ffe --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=39951 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QDzBBm7Q-c2RXUYcjJXLsgYdeTeo2uSY03i8EoZGlmUjZd0hEFenuVCl81c49vzxQ-NZYyHZiQphQf5UCTWYiuEBgmlkgnY0gmlwhKwSo16KbXVsdGlhZGRyc4wACgSsEqNeBm-D3QOCcnOFAAMBAACJc2VjcDI1NmsxoQO_PpON3ATWTOr0FUIm6-99AOa4CQW8WaRSNBi-TV-K04N0Y3CCb4KDdWRwgm-EhXdha3UyBQ --filternode=/ip4/172.18.163.94/tcp/28546/p2p/16Uiu2HAmRXXZenAb1i4xmgGRPwbdJ9tq9kp5QyhD1NDQYBa18FrA
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.29.133 waku a9b6c1947293218cba8244f517bb3c55daf3dee748f3f53f566278370420d9e7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID a9b6c1947293. Setting up logs at ./log/docker/node5_2024-10-27_03-12-10__c2993357-89f7-4d45-9c6b-aa964dd9f707__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 39947
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39947/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39947/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.29.133/tcp/39948/p2p/16Uiu2HAkycUFuQpNWrWevvf1Nspyegz5ppcpaPTLzmFsx6FSmkuM","/ip4/172.18.29.133/tcp/39949/ws/p2p/16Uiu2HAkycUFuQpNWrWevvf1Nspyegz5ppcpaPTLzmFsx6FSmkuM"],"enrUri":"enr:-LO4QC77q9BHFfwZmC1rLIKPO-GMh8qRUGbRwQcHbEBezm4JHub4wAsb-iQakGlV_E5tyYfTlBXJ4jFWq7u1LTzAcRUBgmlkgnY0gmlwhKwSHYWKbXVsdGlhZGRyc4wACgSsEh2FBpwN3QOCcnOFAAMBAACJc2VjcDI1NmsxoQI-MuHaqgoAzxFy4vsok4rntDXB1dzNSgcA9FiL3RYb2IN0Y3CCnAyDdWRwgpwOhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39947/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.163.94/tcp/28546/p2p/16Uiu2HAmRXXZenAb1i4xmgGRPwbdJ9tq9kp5QyhD1NDQYBa18FrA"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28545/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62239/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "10efe72e-d8a9-49a6-957d-bb43f7ac285b", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"10efe72e-d8a9-49a6-957d-bb43f7ac285b","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57531/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "517d89cb-a276-4ffa-a001-f38717861b69", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"517d89cb-a276-4ffa-a001-f38717861b69","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7251/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "f698995f-f5b3-4343-afae-a2fcc676f283", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"f698995f-f5b3-4343-afae-a2fcc676f283","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39947/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "f275d37a-5e7e-4a99-84b0-90bd6ef0f737", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"f275d37a-5e7e-4a99-84b0-90bd6ef0f737","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28545/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62239/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1729998739765344000,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28545/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57531/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:57531/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 94558146b438
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 36c920772e3e
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 94558146b438. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id ece7750c72b7
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 36c920772e3e. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 3fd78620f692
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container ece7750c72b7. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id a9b6c1947293
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 3fd78620f692. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.