[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_time_filter_negative_end_time with id: 2024-10-27_03-28-38__86b4e47d-5f80-4e6c-92c0-0aafa1e1ed2f
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-10-27_03-28-38__86b4e47d-5f80-4e6c-92c0-0aafa1e1ed2f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.77.93
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['19158', '19159', '19160', '19161', '19162']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 19158:19158 -p 19159:19159 -p 19160:19160 -p 19161:19161 -p 19162:19162 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=19160 --rest-port=19158 --tcp-port=19159 --discv5-udp-port=19161 --rest-address=0.0.0.0 --nat=extip:172.18.77.93 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=add9db97e1eba363271732cebf9286db8fe9bffe43d3ad033eb8cb7d8345f40a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=19162 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.77.93 waku 92fad148d8e7831e779869c9eec063a58faa4c2045cbfbe10e1c4a2ed3be3d83
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 92fad148d8e7. Setting up logs at ./log/docker/publishing_node1_2024-10-27_03-28-38__86b4e47d-5f80-4e6c-92c0-0aafa1e1ed2f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 19158
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container a95f753803c0. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19158/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19158/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.77.93/tcp/19159/p2p/16Uiu2HAmPWceX1CuZcWCWhinf6pZft7mpLVVTFAUF78Xk3o3C1T9","/ip4/172.18.77.93/tcp/19160/ws/p2p/16Uiu2HAmPWceX1CuZcWCWhinf6pZft7mpLVVTFAUF78Xk3o3C1T9"],"enrUri":"enr:-LO4QGcxGHm0eWcW8FDQW7R1Oez9L9oX8yC0QlEaw7yW3bWPPGuHxnwGbGYqpVCztgwggrNaav9gCO7nsdVyggdAC2YBgmlkgnY0gmlwhKwSTV2KbXVsdGlhZGRyc4wACgSsEk1dBkrY3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOhS16-6soTpKOXH2MrfTEaiIuZ19tCF2hTUV8-Fcy-hIN0Y3CCSteDdWRwgkrZhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-10-27_03-28-38__86b4e47d-5f80-4e6c-92c0-0aafa1e1ed2f__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.236.12
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['48218', '48219', '48220', '48221', '48222']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 48218:48218 -p 48219:48219 -p 48220:48220 -p 48221:48221 -p 48222:48222 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=48220 --rest-port=48218 --tcp-port=48219 --discv5-udp-port=48221 --rest-address=0.0.0.0 --nat=extip:172.18.236.12 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fcea9db46eef62eb335ea99d3d8abb8d1ff2e78e5cbe99ae96ecfceced32fa8a --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-LO4QGcxGHm0eWcW8FDQW7R1Oez9L9oX8yC0QlEaw7yW3bWPPGuHxnwGbGYqpVCztgwggrNaav9gCO7nsdVyggdAC2YBgmlkgnY0gmlwhKwSTV2KbXVsdGlhZGRyc4wACgSsEk1dBkrY3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOhS16-6soTpKOXH2MrfTEaiIuZ19tCF2hTUV8-Fcy-hIN0Y3CCSteDdWRwgkrZhXdha3UyAw --storenode=/ip4/172.18.77.93/tcp/19159/p2p/16Uiu2HAmPWceX1CuZcWCWhinf6pZft7mpLVVTFAUF78Xk3o3C1T9 --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.236.12 waku 7719e945a0365e5969970bdf7c5318627ce168a57a974148fe1002c0b03eda53
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 7719e945a036. Setting up logs at ./log/docker/store_node1_2024-10-27_03-28-38__86b4e47d-5f80-4e6c-92c0-0aafa1e1ed2f__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 48218
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48218/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QCQtWN416KvSG95VPXvvKJ51falSJ8ucRxbTsE5Fkk7MJlEjb8r4yXM4SK7XYQKSYIhuP7SQhlN9nzjJuPgDz7GGAZLMBNCKgmlkgnY0gmlwhKwRAAmJc2VjcDI1NmsxoQPJxjcsjVR3hA7kaMy03RjfntQPwf6yB-zjg4_7E-7bCIN0Y3CCvFuDdWRwgrxdhXdha3UyAw","listenAddresses":["/ip4/127.0.0.1/tcp/48219/p2p/16Uiu2HAmSEdbnyrsqyZb3AvYW821z26fhduKv42sEGd1e9mSXGMd","/ip4/127.0.0.1/tcp/48220/ws/p2p/16Uiu2HAmSEdbnyrsqyZb3AvYW821z26fhduKv42sEGd1e9mSXGMd","/ip4/172.17.0.9/tcp/48219/p2p/16Uiu2HAmSEdbnyrsqyZb3AvYW821z26fhduKv42sEGd1e9mSXGMd","/ip4/172.17.0.9/tcp/48220/ws/p2p/16Uiu2HAmSEdbnyrsqyZb3AvYW821z26fhduKv42sEGd1e9mSXGMd"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48218/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.77.93/tcp/19159/p2p/16Uiu2HAmPWceX1CuZcWCWhinf6pZft7mpLVVTFAUF78Xk3o3C1T9", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19158/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48218/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19158/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19158/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19158/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19158/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19158/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19158/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:232 inquering stored messages with end time -10000
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19158/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&endTime=-10000&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"122JVmY5Y3K7x8xZRWO2dRBa92gqzRXPe+FkI37++v8=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1729999715754457856,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"oYlaZrTkljK0iRzaCcGfnhsZMHKGugBXsBljbiK0o7I=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1729999717754465024,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"xxd1BtOTafnWQn8D+cPGZYfp+ThILgMVJErjxFebEUI=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1729999718654467072,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"ADNezspRD9vNGs4lZ/vyYnCE3wKiM6j4AHuvWytd75E=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1729999718854469120,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"xdDVFeK8AkDLuvW0lebPsOzxEooOMh4Sk71KVpGX39Q=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1729999720754471168,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"HiL1hboSzXRYk8dIL3C20nAyBZPNcII//MuZw8b3OeQ=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1729999728754472960,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"}]}'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:235 number of messages stored for  end time = -10000 is  6
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48218/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&endTime=-10000&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"94c489a717fa0fe97a074ff3dfdaa08f6a36d6660123096b62274a0b97bcf895","status_code":200,"status_desc":"OK"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 92fad148d8e7
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 7719e945a036
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 92fad148d8e7. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/publishing_node1_2024-10-27_03-28-38__86b4e47d-5f80-4e6c-92c0-0aafa1e1ed2f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/store_node1_2024-10-27_03-28-38__86b4e47d-5f80-4e6c-92c0-0aafa1e1ed2f__wakuorg_go-waku:latest.log
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_time_filter_negative_end_time with id: 2024-10-27_03-28-46__29707b02-98e4-43f0-89ef-bf304033a67b
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-10-27_03-28-46__29707b02-98e4-43f0-89ef-bf304033a67b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.21.244
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['4398', '4399', '4400', '4401', '4402']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 4398:4398 -p 4399:4399 -p 4400:4400 -p 4401:4401 -p 4402:4402 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=4400 --rest-port=4398 --tcp-port=4399 --discv5-udp-port=4401 --rest-address=0.0.0.0 --nat=extip:172.18.21.244 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=219727ffc5f9cf726103e1fe89bad2e49fcbd90f5dce19c5a1ec0ed6acc9810e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=4402 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.21.244 waku d45037d75fd95720cfee91b7c996cfe3a845bc34c5f2ad3b132554176dd09b92
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID d45037d75fd9. Setting up logs at ./log/docker/publishing_node1_2024-10-27_03-28-46__29707b02-98e4-43f0-89ef-bf304033a67b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 4398
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 7719e945a036. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4398/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4398/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.21.244/tcp/4399/p2p/16Uiu2HAkwGzP9ySzEed6UhbQjmwmrfiSynMrMPLpMe3CTFdkXMH4","/ip4/172.18.21.244/tcp/4400/ws/p2p/16Uiu2HAkwGzP9ySzEed6UhbQjmwmrfiSynMrMPLpMe3CTFdkXMH4"],"enrUri":"enr:-LO4QNSMd10mZ2qOk7HfX8FSAPHMWoOBcfxwUl4GHrX3Q4V7bzElowcA98Ha2GFpXmpjGYjV9YBPyhILP2duooLXCJABgmlkgnY0gmlwhKwSFfSKbXVsdGlhZGRyc4wACgSsEhX0BhEw3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIbffRloPjwtCFuFG86hUnLVj-qhmv_6nEvEoDrDMFi04N0Y3CCES-DdWRwghExhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-10-27_03-28-46__29707b02-98e4-43f0-89ef-bf304033a67b__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.144.1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['4027', '4028', '4029', '4030', '4031']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 4027:4027 -p 4028:4028 -p 4029:4029 -p 4030:4030 -p 4031:4031 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=4029 --rest-port=4027 --tcp-port=4028 --discv5-udp-port=4030 --rest-address=0.0.0.0 --nat=extip:172.18.144.1 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=09ba3d6ecb49f65248df17a1c6d5eaa9eed09e6572d30dd212c1ab0ef71a6cc2 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-LO4QNSMd10mZ2qOk7HfX8FSAPHMWoOBcfxwUl4GHrX3Q4V7bzElowcA98Ha2GFpXmpjGYjV9YBPyhILP2duooLXCJABgmlkgnY0gmlwhKwSFfSKbXVsdGlhZGRyc4wACgSsEhX0BhEw3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIbffRloPjwtCFuFG86hUnLVj-qhmv_6nEvEoDrDMFi04N0Y3CCES-DdWRwghExhXdha3UyAw --storenode=/ip4/172.18.21.244/tcp/4399/p2p/16Uiu2HAkwGzP9ySzEed6UhbQjmwmrfiSynMrMPLpMe3CTFdkXMH4 --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.144.1 waku 416b213f2168d6e2023c8485779bc6463fe334c7cf22e3a6b2605f9add365824
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 416b213f2168. Setting up logs at ./log/docker/store_node1_2024-10-27_03-28-46__29707b02-98e4-43f0-89ef-bf304033a67b__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 4027
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4027/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QMJDBu3JiVgIIR23L1iq2QmJT-lXQ1fnEKTC5gsTo219RLv10aYmCOk3Qntlbc5Z6D4cqyHRHJ1TOUkgWONtn0uGAZLMBPCXgmlkgnY0gmlwhKwRAAmJc2VjcDI1NmsxoQN6AEYVi7KsJ5ygKuTrCnbLRfukdaYVoGJMgqhynol7VoN0Y3CCD7yDdWRwgg--hXdha3UyAw","listenAddresses":["/ip4/127.0.0.1/tcp/4028/p2p/16Uiu2HAmLsELCgVMhawTsscGrQhTUZyMXoUaLuihB7VBfcc5We8d","/ip4/127.0.0.1/tcp/4029/ws/p2p/16Uiu2HAmLsELCgVMhawTsscGrQhTUZyMXoUaLuihB7VBfcc5We8d","/ip4/172.17.0.9/tcp/4028/p2p/16Uiu2HAmLsELCgVMhawTsscGrQhTUZyMXoUaLuihB7VBfcc5We8d","/ip4/172.17.0.9/tcp/4029/ws/p2p/16Uiu2HAmLsELCgVMhawTsscGrQhTUZyMXoUaLuihB7VBfcc5We8d"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4027/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.21.244/tcp/4399/p2p/16Uiu2HAkwGzP9ySzEed6UhbQjmwmrfiSynMrMPLpMe3CTFdkXMH4", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4398/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4027/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4398/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4398/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4398/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4398/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4398/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4398/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:232 inquering stored messages with end time -10000
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4398/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&endTime=-10000&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"F0Sx6x3wn+5UEqp51aC99sL7SaEPNJ3wKRqWPwap9AI=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1729999723952243968,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"85rwb0wVmjrtxfAxGAEJ6hTRkgLXvo6Z7OvJ/j1IzU4=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1729999725952250880,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"CiEAooqXgSVWaFpASO5EVGv8xJWfprznV9sbMlErhOw=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1729999726852253952,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"5jDeCJs84iDhOQmbELRfEgIJoTxpZrusoNRPRRfiGLo=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1729999727052256000,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"tpyxlSKV3k67kwz+U/GVKyEEXdJ7Jqq9lUQWC2ttsj8=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1729999728952258048,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"iEo4jv/DQMO1YqN6kvRWVFxtgN1IC6g/pCOMsVYSf2o=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1729999736952260096,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"}]}'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:235 number of messages stored for  end time = -10000 is  6
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4027/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&endTime=-10000&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"bac0bea665cc95bdb4e7006ba44d4ffea71d1a20d2b31fd3d5ba1d3f8b73c11e","status_code":200,"status_desc":"OK"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id d45037d75fd9
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 416b213f2168
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container d45037d75fd9. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/store_node1_2024-10-27_03-28-46__29707b02-98e4-43f0-89ef-bf304033a67b__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/publishing_node1_2024-10-27_03-28-46__29707b02-98e4-43f0-89ef-bf304033a67b__wakuorg_nwaku:latest.log