[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_unsubscribe_with_pubsub_topic_string_instead_of_list with id: 2024-12-29_11-30-08__72691596-d276-45e4-9a61-ac72bea17539
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-29_11-30-08__72691596-d276-45e4-9a61-ac72bea17539__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.196.72
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['64239', '64240', '64241', '64242', '64243']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 64239:64239 -p 64240:64240 -p 64241:64241 -p 64242:64242 -p 64243:64243 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=64241 --rest-port=64239 --tcp-port=64240 --discv5-udp-port=64242 --rest-address=0.0.0.0 --nat=extip:172.18.196.72 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c61f3bae57a2261a76ebfe6fed3eea9ec20cb3fd82eedfdbdbcd8edf05b18cbe --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=64243 --metrics-logging=true --relay=true --filter=true
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 09aea1c7bab9. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.196.72 waku 7d652d0e0062e2cf23c2caa84f8c63e243f472472e758cfbe27e38f365375b37
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 7d652d0e0062. Setting up logs at ./log/docker/node1_2024-12-29_11-30-08__72691596-d276-45e4-9a61-ac72bea17539__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 64239
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container a3ec8bf596d0. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64239/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64239/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.196.72/tcp/64240/p2p/16Uiu2HAmURohGQbT9q7D9sjpm5sfsRJRTY67v15KPeAx6CpgrXDT","/ip4/172.18.196.72/tcp/64241/ws/p2p/16Uiu2HAmURohGQbT9q7D9sjpm5sfsRJRTY67v15KPeAx6CpgrXDT"],"enrUri":"enr:-L24QJJAKROsbPma9KfN6RCjb4crV4N35NAwVNS2JN_lmm0NPem3FzB2ZeHLHtXldxAF2-Nw0zwI5_1Irvp_h-gmL_8CgmlkgnY0gmlwhKwSxEiKbXVsdGlhZGRyc5YACASsEsRIBvrwAAoErBLESAb68d0DgnJzhQADAQAAiXNlY3AyNTZrMaED6lpkWnLEtOB6TMoApPJtJEQUkjJuoZaa5hD8P2WWwsKDdGNwgvrwg3VkcIL68oV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-29_11-30-08__72691596-d276-45e4-9a61-ac72bea17539__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.165.181
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['26997', '26998', '26999', '27000', '27001']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 26997:26997 -p 26998:26998 -p 26999:26999 -p 27000:27000 -p 27001:27001 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=26999 --rest-port=26997 --tcp-port=26998 --discv5-udp-port=27000 --rest-address=0.0.0.0 --nat=extip:172.18.165.181 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f4bb8d5dd57fd0d2e1fd9c87cec0fbd47de1a9a632cf1cbbb7e7d5b76b94c4f5 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QJJAKROsbPma9KfN6RCjb4crV4N35NAwVNS2JN_lmm0NPem3FzB2ZeHLHtXldxAF2-Nw0zwI5_1Irvp_h-gmL_8CgmlkgnY0gmlwhKwSxEiKbXVsdGlhZGRyc5YACASsEsRIBvrwAAoErBLESAb68d0DgnJzhQADAQAAiXNlY3AyNTZrMaED6lpkWnLEtOB6TMoApPJtJEQUkjJuoZaa5hD8P2WWwsKDdGNwgvrwg3VkcIL68oV3YWt1MgU --filternode=/ip4/172.18.196.72/tcp/64240/p2p/16Uiu2HAmURohGQbT9q7D9sjpm5sfsRJRTY67v15KPeAx6CpgrXDT --pubsub-topic=/waku/2/rs/3/1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.165.181 waku cf96fa27a085fe072ae5835b049c6f350965f0bb34a32020521c515048ba42cf
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID cf96fa27a085. Setting up logs at ./log/docker/node2_2024-12-29_11-30-08__72691596-d276-45e4-9a61-ac72bea17539__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 26997
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26997/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QKS9M8-9GOJJY8VutN8ofKz3gEL6YaWdqk7oj_ogkUYxcub5CrG2AyzPm6c29YkiXRBKAfL0w-2QFcShccGiyFqGAZQSLkWGgmlkgnY0gmlwhKwRAAOCcnOFAAMBAAGJc2VjcDI1NmsxoQKKO3uqx8BL2Rwbi4DCZkjatE8tv0ELePZH5whdvC9Tc4N0Y3CCaXaDdWRwgml4hXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/26998/p2p/16Uiu2HAm4jGrDifXsKB23ziJuJKZzGqLnp1kzNSH8eBPv1z169LW","/ip4/127.0.0.1/tcp/26999/ws/p2p/16Uiu2HAm4jGrDifXsKB23ziJuJKZzGqLnp1kzNSH8eBPv1z169LW","/ip4/172.17.0.3/tcp/26998/p2p/16Uiu2HAm4jGrDifXsKB23ziJuJKZzGqLnp1kzNSH8eBPv1z169LW","/ip4/172.17.0.3/tcp/26999/ws/p2p/16Uiu2HAm4jGrDifXsKB23ziJuJKZzGqLnp1kzNSH8eBPv1z169LW"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26997/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.196.72/tcp/64240/p2p/16Uiu2HAmURohGQbT9q7D9sjpm5sfsRJRTY67v15KPeAx6CpgrXDT", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:64239/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26997/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "e437c746-c3cb-43b1-9b44-faebeedf88fe", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"e437c746-c3cb-43b1-9b44-faebeedf88fe","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:26997/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": "/test/1/waku-filter/proto", "pubsubTopic": "/waku/2/rs/3/1"}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:26997/filter/v2/subscriptions. Response content: b''
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 7d652d0e0062
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id cf96fa27a085
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 7d652d0e0062. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.