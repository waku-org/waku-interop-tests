[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_messages_with_timestamps_close_to_now with id: 2025-02-04_03-07-48__6dd9d975-9f6f-47d0-a4a3-9c4ed7126ce2
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-04_03-07-48__6dd9d975-9f6f-47d0-a4a3-9c4ed7126ce2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.1.70
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['34251', '34252', '34253', '34254', '34255']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 34251:34251 -p 34252:34252 -p 34253:34253 -p 34254:34254 -p 34255:34255 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=34253 --rest-port=34251 --tcp-port=34252 --discv5-udp-port=34254 --rest-address=0.0.0.0 --nat=extip:172.18.1.70 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7b0faaada0e05cdfbbe9a422fb0a773595d63fbd6c8d29c4aa53d137d716ec3f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=34255 --metrics-logging=true --store=true --relay=true
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 0bd2b5b48fc2. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.1.70 waku 0534b410581bc4ad3e80772f54cc56d18465b407e936d4d139fd9050caabffd7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 0534b410581b. Setting up logs at ./log/docker/publishing_node1_2025-02-04_03-07-48__6dd9d975-9f6f-47d0-a4a3-9c4ed7126ce2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 34251
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 62e73dfd88b5. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34251/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34251/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.1.70/tcp/34252/p2p/16Uiu2HAkznwg2S8uDAGYP9m9j1BJa5eWwwEQozAs5q3DRNAo3h3Z","/ip4/172.18.1.70/tcp/34253/ws/p2p/16Uiu2HAkznwg2S8uDAGYP9m9j1BJa5eWwwEQozAs5q3DRNAo3h3Z"],"enrUri":"enr:-L24QIlw321R-4v2_Cxw0S0NnK4PzVuBehtA0I0k7AOPnoUuDOvTlnSMEatDlpiwmUXHtu_MTgaP2aXHgr1RXgr0_zECgmlkgnY0gmlwhKwSAUaKbXVsdGlhZGRyc5YACASsEgFGBoXMAAoErBIBRgaFzd0DgnJzhQADAQAAiXNlY3AyNTZrMaECT71gYfsBpJOMIlro38fPM1F-kKDlc8SCc2gmjezY_USDdGNwgoXMg3VkcIKFzoV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-04_03-07-48__6dd9d975-9f6f-47d0-a4a3-9c4ed7126ce2__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.131.223
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['60389', '60390', '60391', '60392', '60393']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 60389:60389 -p 60390:60390 -p 60391:60391 -p 60392:60392 -p 60393:60393 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=60391 --rest-port=60389 --tcp-port=60390 --discv5-udp-port=60392 --rest-address=0.0.0.0 --nat=extip:172.18.131.223 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ae0fe85e1ced6dcd873540e49df1ddff4ee0cb3eee4dafed519d16fa1daeed9b --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-L24QIlw321R-4v2_Cxw0S0NnK4PzVuBehtA0I0k7AOPnoUuDOvTlnSMEatDlpiwmUXHtu_MTgaP2aXHgr1RXgr0_zECgmlkgnY0gmlwhKwSAUaKbXVsdGlhZGRyc5YACASsEgFGBoXMAAoErBIBRgaFzd0DgnJzhQADAQAAiXNlY3AyNTZrMaECT71gYfsBpJOMIlro38fPM1F-kKDlc8SCc2gmjezY_USDdGNwgoXMg3VkcIKFzoV3YWt1MgM --storenode=/ip4/172.18.1.70/tcp/34252/p2p/16Uiu2HAkznwg2S8uDAGYP9m9j1BJa5eWwwEQozAs5q3DRNAo3h3Z --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.131.223 waku 1b180bd1def1dc491259c33e2d02a503ec61a37cc6009e5970c59aad772cf1a1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 1b180bd1def1. Setting up logs at ./log/docker/store_node1_2025-02-04_03-07-48__6dd9d975-9f6f-47d0-a4a3-9c4ed7126ce2__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 60389
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60389/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QNdRm69N32gUNxYIwm-ivpWg2fV_jo6FTIOGNxfJwMEsTzt-JBF2YgTFSi408C14s2b9K_aXbcOOrm0NX9HEP8WGAZTO7asmgmlkgnY0gmlwhKwRAAOCcnODAAMAiXNlY3AyNTZrMaECj1KpoM6zgn73yeNDHm86H4W8fCGMATpWhUSaWY4Rwh2DdGNwguvmg3VkcILr6IV3YWt1MgM","listenAddresses":["/ip4/127.0.0.1/tcp/60390/p2p/16Uiu2HAm559PTXXBKJhr5qiGvFXX71QTd1ipLdWttrFcXbua1DV6","/ip4/127.0.0.1/tcp/60391/ws/p2p/16Uiu2HAm559PTXXBKJhr5qiGvFXX71QTd1ipLdWttrFcXbua1DV6","/ip4/172.17.0.3/tcp/60390/p2p/16Uiu2HAm559PTXXBKJhr5qiGvFXX71QTd1ipLdWttrFcXbua1DV6","/ip4/172.17.0.3/tcp/60391/ws/p2p/16Uiu2HAm559PTXXBKJhr5qiGvFXX71QTd1ipLdWttrFcXbua1DV6"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60389/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.1.70/tcp/34252/p2p/16Uiu2HAkznwg2S8uDAGYP9m9j1BJa5eWwwEQozAs5q3DRNAo3h3Z", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34251/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60389/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:17 Running test with payload 3 sec Past
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34251/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34251/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xd07e0af1fcbe7a9ac030444f842825290b24edfdd3187f711b8b741ac4750467"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60389/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"ccdc9c95420d0bfdc95fd94f273262c2cd0a5b686972b5b89c9f5a771cf39441","status_code":200,"status_desc":"OK","messages":[{"message_hash":"0H4K8fy+eprAMERPhCglKQsk7f3TGH9xG4t0GsR1BGc="}]}'
[1m[31mERROR   [0m tests.store.test_time_filter:test_time_filter.py:23 Payload 3 sec Past failed: Message hash at index -1 returned by store doesn't match the computed message hash 0xd07e0af1fcbe7a9ac030444f842825290b24edfdd3187f711b8b741ac4750467. Actual hash: 0H4K8fy+eprAMERPhCglKQsk7f3TGH9xG4t0GsR1BGc=
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:17 Running test with payload 1 sec Past
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34251/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34251/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xd07e0af1fcbe7a9ac030444f842825290b24edfdd3187f711b8b741ac4750467"},{"messageHash":"0x487a57f42d5a3f964732c69d27192a7c3a7143255ed5350418e918773afde00b"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60389/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"f5b67f5cda27bda4730e3158248f46a7730ae2ca5f3e7dc6bb14439b81963a60","status_code":200,"status_desc":"OK","messages":[{"message_hash":"0H4K8fy+eprAMERPhCglKQsk7f3TGH9xG4t0GsR1BGc="},{"message_hash":"SHpX9C1aP5ZHMsadJxkqfDpxQyVe1TUEGOkYdzr94As="}]}'
[1m[31mERROR   [0m tests.store.test_time_filter:test_time_filter.py:23 Payload 1 sec Past failed: Message hash at index -1 returned by store doesn't match the computed message hash 0x487a57f42d5a3f964732c69d27192a7c3a7143255ed5350418e918773afde00b. Actual hash: SHpX9C1aP5ZHMsadJxkqfDpxQyVe1TUEGOkYdzr94As=
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:17 Running test with payload 0.1 sec Past
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34251/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34251/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xd07e0af1fcbe7a9ac030444f842825290b24edfdd3187f711b8b741ac4750467"},{"messageHash":"0x487a57f42d5a3f964732c69d27192a7c3a7143255ed5350418e918773afde00b"},{"messageHash":"0x990f6a19fc522f0af5b15ff44ba8bb6051559cdf6e39dd8d497c13e7f4bdfc62"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60389/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"f71427f9b6102ec24e945407793e9ad56971ef90a250f1cad12438ba541671a3","status_code":200,"status_desc":"OK","messages":[{"message_hash":"0H4K8fy+eprAMERPhCglKQsk7f3TGH9xG4t0GsR1BGc="},{"message_hash":"SHpX9C1aP5ZHMsadJxkqfDpxQyVe1TUEGOkYdzr94As="},{"message_hash":"mQ9qGfxSLwr1sV/0S6i7YFFVnN9uOd2NSXwT5/S9/GI="}]}'
[1m[31mERROR   [0m tests.store.test_time_filter:test_time_filter.py:23 Payload 0.1 sec Past failed: Message hash at index -1 returned by store doesn't match the computed message hash 0x990f6a19fc522f0af5b15ff44ba8bb6051559cdf6e39dd8d497c13e7f4bdfc62. Actual hash: mQ9qGfxSLwr1sV/0S6i7YFFVnN9uOd2NSXwT5/S9/GI=
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:17 Running test with payload 0.1 sec Future
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34251/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34251/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xd07e0af1fcbe7a9ac030444f842825290b24edfdd3187f711b8b741ac4750467"},{"messageHash":"0x487a57f42d5a3f964732c69d27192a7c3a7143255ed5350418e918773afde00b"},{"messageHash":"0x990f6a19fc522f0af5b15ff44ba8bb6051559cdf6e39dd8d497c13e7f4bdfc62"},{"messageHash":"0xa1044e06b10717966a8f00e209086c6f07a64924b6a0ae5ece9dac819d810a82"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60389/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"dca039b9e1f5609c548eb9b24fa828a937d029b496f0ddf6175382021424af19","status_code":200,"status_desc":"OK","messages":[{"message_hash":"0H4K8fy+eprAMERPhCglKQsk7f3TGH9xG4t0GsR1BGc="},{"message_hash":"SHpX9C1aP5ZHMsadJxkqfDpxQyVe1TUEGOkYdzr94As="},{"message_hash":"mQ9qGfxSLwr1sV/0S6i7YFFVnN9uOd2NSXwT5/S9/GI="},{"message_hash":"oQROBrEHF5ZqjwDiCQhsbwemSSS2oK5ezp2sgZ2BCoI="}]}'
[1m[31mERROR   [0m tests.store.test_time_filter:test_time_filter.py:23 Payload 0.1 sec Future failed: Message hash at index -1 returned by store doesn't match the computed message hash 0xa1044e06b10717966a8f00e209086c6f07a64924b6a0ae5ece9dac819d810a82. Actual hash: oQROBrEHF5ZqjwDiCQhsbwemSSS2oK5ezp2sgZ2BCoI=
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:17 Running test with payload 2 sec Future
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34251/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34251/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xd07e0af1fcbe7a9ac030444f842825290b24edfdd3187f711b8b741ac4750467"},{"messageHash":"0x487a57f42d5a3f964732c69d27192a7c3a7143255ed5350418e918773afde00b"},{"messageHash":"0x990f6a19fc522f0af5b15ff44ba8bb6051559cdf6e39dd8d497c13e7f4bdfc62"},{"messageHash":"0xa1044e06b10717966a8f00e209086c6f07a64924b6a0ae5ece9dac819d810a82"},{"messageHash":"0x1f47a6fa60827d57a18711b718f74efb6b998e3137e67131ed78a76b45403546"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60389/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"a77c9a6b0581744ebc702497525241b37ac41947a89a02738bc7f26825c368eb","status_code":200,"status_desc":"OK","messages":[{"message_hash":"0H4K8fy+eprAMERPhCglKQsk7f3TGH9xG4t0GsR1BGc="},{"message_hash":"SHpX9C1aP5ZHMsadJxkqfDpxQyVe1TUEGOkYdzr94As="},{"message_hash":"mQ9qGfxSLwr1sV/0S6i7YFFVnN9uOd2NSXwT5/S9/GI="},{"message_hash":"oQROBrEHF5ZqjwDiCQhsbwemSSS2oK5ezp2sgZ2BCoI="},{"message_hash":"H0em+mCCfVehhxG3GPdO+2uZjjE35nEx7Xina0VANUY="}]}'
[1m[31mERROR   [0m tests.store.test_time_filter:test_time_filter.py:23 Payload 2 sec Future failed: Message hash at index -1 returned by store doesn't match the computed message hash 0x1f47a6fa60827d57a18711b718f74efb6b998e3137e67131ed78a76b45403546. Actual hash: H0em+mCCfVehhxG3GPdO+2uZjjE35nEx7Xina0VANUY=
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:17 Running test with payload 10 sec Future
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34251/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34251/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xd07e0af1fcbe7a9ac030444f842825290b24edfdd3187f711b8b741ac4750467"},{"messageHash":"0x487a57f42d5a3f964732c69d27192a7c3a7143255ed5350418e918773afde00b"},{"messageHash":"0x990f6a19fc522f0af5b15ff44ba8bb6051559cdf6e39dd8d497c13e7f4bdfc62"},{"messageHash":"0xa1044e06b10717966a8f00e209086c6f07a64924b6a0ae5ece9dac819d810a82"},{"messageHash":"0x1f47a6fa60827d57a18711b718f74efb6b998e3137e67131ed78a76b45403546"},{"messageHash":"0x7c28e402656a4dfad743a95f18976c3bcab1df8f3772e86542e3802c6cc7b12e"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60389/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"b0d318948c0a66cafab1d166e9f089d146dcf349dd089757bac812da74563abf","status_code":200,"status_desc":"OK","messages":[{"message_hash":"0H4K8fy+eprAMERPhCglKQsk7f3TGH9xG4t0GsR1BGc="},{"message_hash":"SHpX9C1aP5ZHMsadJxkqfDpxQyVe1TUEGOkYdzr94As="},{"message_hash":"mQ9qGfxSLwr1sV/0S6i7YFFVnN9uOd2NSXwT5/S9/GI="},{"message_hash":"oQROBrEHF5ZqjwDiCQhsbwemSSS2oK5ezp2sgZ2BCoI="},{"message_hash":"H0em+mCCfVehhxG3GPdO+2uZjjE35nEx7Xina0VANUY="},{"message_hash":"fCjkAmVqTfrXQ6lfGJdsO8qx3483cuhlQuOALGzHsS4="}]}'
[1m[31mERROR   [0m tests.store.test_time_filter:test_time_filter.py:23 Payload 10 sec Future failed: Message hash at index -1 returned by store doesn't match the computed message hash 0x7c28e402656a4dfad743a95f18976c3bcab1df8f3772e86542e3802c6cc7b12e. Actual hash: fCjkAmVqTfrXQ6lfGJdsO8qx3483cuhlQuOALGzHsS4=
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 0534b410581b
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 1b180bd1def1
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:42 Attaching file ./log/docker/store_node1_2025-02-04_03-07-48__6dd9d975-9f6f-47d0-a4a3-9c4ed7126ce2__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:42 Attaching file ./log/docker/publishing_node1_2025-02-04_03-07-48__6dd9d975-9f6f-47d0-a4a3-9c4ed7126ce2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_messages_with_timestamps_close_to_now with id: 2025-02-04_03-07-53__ec572e79-b27f-4d45-9b17-5c9558bf0f32
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-04_03-07-53__ec572e79-b27f-4d45-9b17-5c9558bf0f32__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.76.58
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['43935', '43936', '43937', '43938', '43939']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 43935:43935 -p 43936:43936 -p 43937:43937 -p 43938:43938 -p 43939:43939 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=43937 --rest-port=43935 --tcp-port=43936 --discv5-udp-port=43938 --rest-address=0.0.0.0 --nat=extip:172.18.76.58 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=813ebff8476b49f52e3ecb7f7b293eeb70b7bfd54e722a9c4bccece39bbbefc9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=43939 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.76.58 waku c9d3dd61e3f76b9aaf4b6de788a84c2e1161df5e422165879acafdf212460ea0
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 0534b410581b. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID c9d3dd61e3f7. Setting up logs at ./log/docker/publishing_node1_2025-02-04_03-07-53__ec572e79-b27f-4d45-9b17-5c9558bf0f32__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 43935
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 1b180bd1def1. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43935/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43935/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.76.58/tcp/43936/p2p/16Uiu2HAkyRLTioDZ8spZzoDnAorgy9WUh8UaYD3cJ2CnycobHvMx","/ip4/172.18.76.58/tcp/43937/ws/p2p/16Uiu2HAkyRLTioDZ8spZzoDnAorgy9WUh8UaYD3cJ2CnycobHvMx"],"enrUri":"enr:-L24QDUiAFpu08xSuMghNrcHVXgeFsBzmEyzS9EZLynK2d8zV501MW88HA_R-YpI9HZ3Tmq8EeyWFAe5C9zhogr4W2ACgmlkgnY0gmlwhKwSTDqKbXVsdGlhZGRyc5YACASsEkw6BqugAAoErBJMOgarod0DgnJzhQADAQAAiXNlY3AyNTZrMaECO1itlv_XF38UtIFYSo9v7fp7vxOm8OyatA4GkERMTFODdGNwgqugg3VkcIKrooV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-04_03-07-53__ec572e79-b27f-4d45-9b17-5c9558bf0f32__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.65.69
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['29360', '29361', '29362', '29363', '29364']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 29360:29360 -p 29361:29361 -p 29362:29362 -p 29363:29363 -p 29364:29364 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=29362 --rest-port=29360 --tcp-port=29361 --discv5-udp-port=29363 --rest-address=0.0.0.0 --nat=extip:172.18.65.69 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b953fabce1e144fda7ddc373b6bd1bc5f4be8488f6b2384d6f0ed9e9f92e69ba --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-L24QDUiAFpu08xSuMghNrcHVXgeFsBzmEyzS9EZLynK2d8zV501MW88HA_R-YpI9HZ3Tmq8EeyWFAe5C9zhogr4W2ACgmlkgnY0gmlwhKwSTDqKbXVsdGlhZGRyc5YACASsEkw6BqugAAoErBJMOgarod0DgnJzhQADAQAAiXNlY3AyNTZrMaECO1itlv_XF38UtIFYSo9v7fp7vxOm8OyatA4GkERMTFODdGNwgqugg3VkcIKrooV3YWt1MgM --storenode=/ip4/172.18.76.58/tcp/43936/p2p/16Uiu2HAkyRLTioDZ8spZzoDnAorgy9WUh8UaYD3cJ2CnycobHvMx --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.65.69 waku b7daa4a4e066d1204cc194c1147f7792a684ed85d613b243bc0cf3e896212dc4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID b7daa4a4e066. Setting up logs at ./log/docker/store_node1_2025-02-04_03-07-53__ec572e79-b27f-4d45-9b17-5c9558bf0f32__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 29360
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29360/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QN2ANwugl3g0FHwvZQy3s5ZIb6cH5CCrpJ_jpNGB30ezdZmyxViS4PnE4xTVb3A1uW5yM96Zs1MbozXqi2DTWXuGAZTO7b7zgmlkgnY0gmlwhKwRAAOCcnODAAMAiXNlY3AyNTZrMaEC_XgJeUNYmTpHas4y95SmFS5O3ckD_Wg_rlEeypxAnT-DdGNwgnKxg3VkcIJys4V3YWt1MgM","listenAddresses":["/ip4/127.0.0.1/tcp/29361/p2p/16Uiu2HAmCV7Hi22k5kyjQho1UjTWbNXqHyZ381Ybxhr4aWZgPRw4","/ip4/127.0.0.1/tcp/29362/ws/p2p/16Uiu2HAmCV7Hi22k5kyjQho1UjTWbNXqHyZ381Ybxhr4aWZgPRw4","/ip4/172.17.0.3/tcp/29361/p2p/16Uiu2HAmCV7Hi22k5kyjQho1UjTWbNXqHyZ381Ybxhr4aWZgPRw4","/ip4/172.17.0.3/tcp/29362/ws/p2p/16Uiu2HAmCV7Hi22k5kyjQho1UjTWbNXqHyZ381Ybxhr4aWZgPRw4"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29360/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.76.58/tcp/43936/p2p/16Uiu2HAkyRLTioDZ8spZzoDnAorgy9WUh8UaYD3cJ2CnycobHvMx", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43935/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29360/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:17 Running test with payload 3 sec Past
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43935/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43935/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xf1353ee606d9004f375ab6555e21e59cba3b420fd4b54eee10bcb11df0841fe3"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29360/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"137afac57bdcfa343e30c0b07e270ca7a66e21c7be21795297cfde743a2f89d2","status_code":200,"status_desc":"OK","messages":[{"message_hash":"8TU+5gbZAE83WrZVXiHlnLo7Qg/UtU7uELyxHfCEH+M="}]}'
[1m[31mERROR   [0m tests.store.test_time_filter:test_time_filter.py:23 Payload 3 sec Past failed: Message hash at index -1 returned by store doesn't match the computed message hash 0xf1353ee606d9004f375ab6555e21e59cba3b420fd4b54eee10bcb11df0841fe3. Actual hash: 8TU+5gbZAE83WrZVXiHlnLo7Qg/UtU7uELyxHfCEH+M=
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:17 Running test with payload 1 sec Past
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43935/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43935/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xf1353ee606d9004f375ab6555e21e59cba3b420fd4b54eee10bcb11df0841fe3"},{"messageHash":"0xe9fefd7cdcc1907e36bf0dba96b58955d0f5c019a5f343e18c3d2ffefe512213"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29360/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"cf0fcdc965cb1d74c152eb914774c7fb31c96d5f0caf8f6ca8e5d1c5714767c0","status_code":200,"status_desc":"OK","messages":[{"message_hash":"8TU+5gbZAE83WrZVXiHlnLo7Qg/UtU7uELyxHfCEH+M="},{"message_hash":"6f79fNzBkH42vw26lrWJVdD1wBml80PhjD0v/v5RIhM="}]}'
[1m[31mERROR   [0m tests.store.test_time_filter:test_time_filter.py:23 Payload 1 sec Past failed: Message hash at index -1 returned by store doesn't match the computed message hash 0xe9fefd7cdcc1907e36bf0dba96b58955d0f5c019a5f343e18c3d2ffefe512213. Actual hash: 6f79fNzBkH42vw26lrWJVdD1wBml80PhjD0v/v5RIhM=
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:17 Running test with payload 0.1 sec Past
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43935/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43935/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xf1353ee606d9004f375ab6555e21e59cba3b420fd4b54eee10bcb11df0841fe3"},{"messageHash":"0xe9fefd7cdcc1907e36bf0dba96b58955d0f5c019a5f343e18c3d2ffefe512213"},{"messageHash":"0x78900736bbf0247e1a82ab2ff4cabfd910700be266b986db898db9048bcb8c77"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29360/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"c0f6b16d0d2ff9281a915087ac87e09be2ad30c54b13cf62922e6cce42a24615","status_code":200,"status_desc":"OK","messages":[{"message_hash":"8TU+5gbZAE83WrZVXiHlnLo7Qg/UtU7uELyxHfCEH+M="},{"message_hash":"6f79fNzBkH42vw26lrWJVdD1wBml80PhjD0v/v5RIhM="},{"message_hash":"eJAHNrvwJH4agqsv9Mq/2RBwC+JmuYbbiY25BIvLjHc="}]}'
[1m[31mERROR   [0m tests.store.test_time_filter:test_time_filter.py:23 Payload 0.1 sec Past failed: Message hash at index -1 returned by store doesn't match the computed message hash 0x78900736bbf0247e1a82ab2ff4cabfd910700be266b986db898db9048bcb8c77. Actual hash: eJAHNrvwJH4agqsv9Mq/2RBwC+JmuYbbiY25BIvLjHc=
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:17 Running test with payload 0.1 sec Future
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43935/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43935/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xf1353ee606d9004f375ab6555e21e59cba3b420fd4b54eee10bcb11df0841fe3"},{"messageHash":"0xe9fefd7cdcc1907e36bf0dba96b58955d0f5c019a5f343e18c3d2ffefe512213"},{"messageHash":"0x78900736bbf0247e1a82ab2ff4cabfd910700be266b986db898db9048bcb8c77"},{"messageHash":"0x6f5c3c053584bf63d4207672c02f060666c25845867c4095aa7009df64dc57cc"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29360/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"41cc1f187caabda73a3305bebd68a55d31f3d4d9963457d8eebecc8ef990f794","status_code":200,"status_desc":"OK","messages":[{"message_hash":"8TU+5gbZAE83WrZVXiHlnLo7Qg/UtU7uELyxHfCEH+M="},{"message_hash":"6f79fNzBkH42vw26lrWJVdD1wBml80PhjD0v/v5RIhM="},{"message_hash":"eJAHNrvwJH4agqsv9Mq/2RBwC+JmuYbbiY25BIvLjHc="},{"message_hash":"b1w8BTWEv2PUIHZywC8GBmbCWEWGfECVqnAJ32TcV8w="}]}'
[1m[31mERROR   [0m tests.store.test_time_filter:test_time_filter.py:23 Payload 0.1 sec Future failed: Message hash at index -1 returned by store doesn't match the computed message hash 0x6f5c3c053584bf63d4207672c02f060666c25845867c4095aa7009df64dc57cc. Actual hash: b1w8BTWEv2PUIHZywC8GBmbCWEWGfECVqnAJ32TcV8w=
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:17 Running test with payload 2 sec Future
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43935/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43935/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xf1353ee606d9004f375ab6555e21e59cba3b420fd4b54eee10bcb11df0841fe3"},{"messageHash":"0xe9fefd7cdcc1907e36bf0dba96b58955d0f5c019a5f343e18c3d2ffefe512213"},{"messageHash":"0x78900736bbf0247e1a82ab2ff4cabfd910700be266b986db898db9048bcb8c77"},{"messageHash":"0x6f5c3c053584bf63d4207672c02f060666c25845867c4095aa7009df64dc57cc"},{"messageHash":"0x1598f4c85b08cbbe9161c813ea00dd472bdcb292d85da6e839a94f99b17aa6be"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29360/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"99c30c01389b60d334f72cfb94faad0b4acc6ea25ff551bd25698e0b571ad7a7","status_code":200,"status_desc":"OK","messages":[{"message_hash":"8TU+5gbZAE83WrZVXiHlnLo7Qg/UtU7uELyxHfCEH+M="},{"message_hash":"6f79fNzBkH42vw26lrWJVdD1wBml80PhjD0v/v5RIhM="},{"message_hash":"eJAHNrvwJH4agqsv9Mq/2RBwC+JmuYbbiY25BIvLjHc="},{"message_hash":"b1w8BTWEv2PUIHZywC8GBmbCWEWGfECVqnAJ32TcV8w="},{"message_hash":"FZj0yFsIy76RYcgT6gDdRyvcspLYXaboOalPmbF6pr4="}]}'
[1m[31mERROR   [0m tests.store.test_time_filter:test_time_filter.py:23 Payload 2 sec Future failed: Message hash at index -1 returned by store doesn't match the computed message hash 0x1598f4c85b08cbbe9161c813ea00dd472bdcb292d85da6e839a94f99b17aa6be. Actual hash: FZj0yFsIy76RYcgT6gDdRyvcspLYXaboOalPmbF6pr4=
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:17 Running test with payload 10 sec Future
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43935/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43935/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xf1353ee606d9004f375ab6555e21e59cba3b420fd4b54eee10bcb11df0841fe3"},{"messageHash":"0xe9fefd7cdcc1907e36bf0dba96b58955d0f5c019a5f343e18c3d2ffefe512213"},{"messageHash":"0x78900736bbf0247e1a82ab2ff4cabfd910700be266b986db898db9048bcb8c77"},{"messageHash":"0x6f5c3c053584bf63d4207672c02f060666c25845867c4095aa7009df64dc57cc"},{"messageHash":"0x1598f4c85b08cbbe9161c813ea00dd472bdcb292d85da6e839a94f99b17aa6be"},{"messageHash":"0xc6029c36330bea64e49f502aae83dbff02108a888783007c10679a4c63bb70c2"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29360/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"f9d2a00fad694df255be51bdea36348441e97e9b66e66365f521d02e216fd5b2","status_code":200,"status_desc":"OK","messages":[{"message_hash":"8TU+5gbZAE83WrZVXiHlnLo7Qg/UtU7uELyxHfCEH+M="},{"message_hash":"6f79fNzBkH42vw26lrWJVdD1wBml80PhjD0v/v5RIhM="},{"message_hash":"eJAHNrvwJH4agqsv9Mq/2RBwC+JmuYbbiY25BIvLjHc="},{"message_hash":"b1w8BTWEv2PUIHZywC8GBmbCWEWGfECVqnAJ32TcV8w="},{"message_hash":"FZj0yFsIy76RYcgT6gDdRyvcspLYXaboOalPmbF6pr4="},{"message_hash":"xgKcNjML6mTkn1AqroPb/wIQioiHgwB8EGeaTGO7cMI="}]}'
[1m[31mERROR   [0m tests.store.test_time_filter:test_time_filter.py:23 Payload 10 sec Future failed: Message hash at index -1 returned by store doesn't match the computed message hash 0xc6029c36330bea64e49f502aae83dbff02108a888783007c10679a4c63bb70c2. Actual hash: xgKcNjML6mTkn1AqroPb/wIQioiHgwB8EGeaTGO7cMI=
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id c9d3dd61e3f7
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id b7daa4a4e066
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:42 Attaching file ./log/docker/store_node1_2025-02-04_03-07-53__ec572e79-b27f-4d45-9b17-5c9558bf0f32__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:42 Attaching file ./log/docker/publishing_node1_2025-02-04_03-07-53__ec572e79-b27f-4d45-9b17-5c9558bf0f32__wakuorg_nwaku:latest.log