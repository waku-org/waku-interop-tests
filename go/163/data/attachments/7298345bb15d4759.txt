[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_update_subscription_add_a_new_content_topic with id: 2024-06-14_03-13-23__7d0c924f-fe0f-4b8e-9fa7-195b2332d797
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node1_2024-06-14_03-13-23__7d0c924f-fe0f-4b8e-9fa7-195b2332d797__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.217.49
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['51462', '51463', '51464', '51465', '51466']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:373 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:120 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 51462:51462 -p 51463:51463 -p 51464:51464 -p 51465:51465 -p 51466:51466 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=51464 --rest-port=51462 --tcp-port=51463 --discv5-udp-port=51465 --rest-address=0.0.0.0 --nat=extip:172.18.217.49 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=51466 --metrics-logging=true --relay=true --filter=true --nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.217.49 waku 1f570b10c75ca7a08b69891e9e8f93e61beb31bfb5d03a99f6cecaf3bf26a109
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 1f570b10c75c. Setting up logs at ./log/docker/node1_2024-06-14_03-13-23__7d0c924f-fe0f-4b8e-9fa7-195b2332d797__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:134 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 51462
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51462/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:225 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51462/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.217.49/tcp/51463/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","/ip4/172.18.217.49/tcp/51464/ws/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"],"enrUri":"enr:-LO4QPkHOqF-zkzT5l9raO1EEnNHrNiSXJR9uyfXlnETdC9mJsheiJ-qYe0r94X-DEicryki3iCyE5-5v314DOqg1JMBgmlkgnY0gmlwhKwS2TGKbXVsdGlhZGRyc4wACgSsEtkxBskI3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCyQeDdWRwgskJhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:230 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node2_2024-06-14_03-13-23__7d0c924f-fe0f-4b8e-9fa7-195b2332d797__harbor.status.im_wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.51.179
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['21515', '21516', '21517', '21518', '21519']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:373 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:120 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 21515:21515 -p 21516:21516 -p 21517:21517 -p 21518:21518 -p 21519:21519 harbor.status.im/wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=21517 --rest-port=21515 --tcp-port=21516 --discv5-udp-port=21518 --rest-address=0.0.0.0 --nat=extip:172.18.51.179 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --relay=false --discv5-bootstrap-node=enr:-LO4QPkHOqF-zkzT5l9raO1EEnNHrNiSXJR9uyfXlnETdC9mJsheiJ-qYe0r94X-DEicryki3iCyE5-5v314DOqg1JMBgmlkgnY0gmlwhKwS2TGKbXVsdGlhZGRyc4wACgSsEtkxBskI3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCyQeDdWRwgskJhXdha3UyBQ --filternode=/ip4/172.18.217.49/tcp/51463/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.51.179 waku 9acf57add6c4fd78b0bbe58a7a903c1bdfa995f64c796fe16a8b39d1e85251a3
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 9acf57add6c4. Setting up logs at ./log/docker/node2_2024-06-14_03-13-23__7d0c924f-fe0f-4b8e-9fa7-195b2332d797__harbor.status.im_wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:134 Started container from image harbor.status.im/wakuorg/go-waku:latest. REST: 21515
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21515/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ly4QGoxUfWbpksDmi0LQsJjZgT8S2PM2SM1fB47JUrxjCt6Ay-xqOj9J0JDfxOojmDOOiV5SIBPBqyKGgmdjqNnk9qGAZAUvFbLgmlkgnY0gmlwhKwRAAaKbXVsdGlhZGRyc5gACgSsEQAGBlQN3QMACgR_AAABBlQN3QOJc2VjcDI1NmsxoQNpuUh6ktttPhNw1OTvuujhya2U1KbfLbHt1ZaHJ4FZpoN0Y3CCVAyDdWRwglQOhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/21516/p2p/16Uiu2HAmKmh2Mk2P3F9ZccfZjFw6s1nPPcqmfKSUuNEbRtZt6Er1","/ip4/127.0.0.1/tcp/21517/ws/p2p/16Uiu2HAmKmh2Mk2P3F9ZccfZjFw6s1nPPcqmfKSUuNEbRtZt6Er1","/ip4/172.17.0.6/tcp/21516/p2p/16Uiu2HAmKmh2Mk2P3F9ZccfZjFw6s1nPPcqmfKSUuNEbRtZt6Er1","/ip4/172.17.0.6/tcp/21517/ws/p2p/16Uiu2HAmKmh2Mk2P3F9ZccfZjFw6s1nPPcqmfKSUuNEbRtZt6Er1"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:230 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21515/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.217.49/tcp/51463/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51462/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/0/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21515/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "57aebb17-088a-4533-93ee-510e88caadfd", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"57aebb17-088a-4533-93ee-510e88caadfd","statusDesc":"OK"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:181 Stopping container with id 1f570b10c75c
[35mDEBUG   [0m src.node.waku_node:waku_node.py:188 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:181 Stopping container with id 9acf57add6c4
[35mDEBUG   [0m src.node.waku_node:waku_node.py:188 Container stopped.