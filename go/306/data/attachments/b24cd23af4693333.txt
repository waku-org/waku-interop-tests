[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_multiple_lightpush_nodes with id: 2024-10-11_03-21-48__a00e6301-08d1-47bb-b89a-5da1698e40d7
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-10-11_03-21-48__a00e6301-08d1-47bb-b89a-5da1698e40d7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.132.200
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['20964', '20965', '20966', '20967', '20968']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 20964:20964 -p 20965:20965 -p 20966:20966 -p 20967:20967 -p 20968:20968 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=20966 --rest-port=20964 --tcp-port=20965 --discv5-udp-port=20967 --rest-address=0.0.0.0 --nat=extip:172.18.132.200 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=beb18bff6a0ae5bff21e64e1eb5a2fafff5efbeeb5d1b8f9d44efca6faa7ec41 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=20968 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.132.200 waku 039aeb69909162c8e2622a3b593ac4adf8385aeaa394b3720affefc850136a8a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 039aeb699091. Setting up logs at ./log/docker/receiving_node1_2024-10-11_03-21-48__a00e6301-08d1-47bb-b89a-5da1698e40d7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 20964
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20964/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20964/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.132.200/tcp/20965/p2p/16Uiu2HAmL58Bx1N81TASYGspNS1kX5BEWdRmwZGEzoNSv8dk3F1B","/ip4/172.18.132.200/tcp/20966/ws/p2p/16Uiu2HAmL58Bx1N81TASYGspNS1kX5BEWdRmwZGEzoNSv8dk3F1B"],"enrUri":"enr:-LO4QNtkEEwPuJU3Eu3YVv9TGbPkFZYqCpOONCIlrFxxGxQmcQvttJL_WJ9CR3DoyUp42Hu22ftxic-Tr3AywpnOZKcBgmlkgnY0gmlwhKwShMiKbXVsdGlhZGRyc4wACgSsEoTIBlHm3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNuMJyHDD03yMQOYRqeZ2ABy_qKz4147q4vg3JVO2vrwoN0Y3CCUeWDdWRwglHnhXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-10-11_03-21-48__a00e6301-08d1-47bb-b89a-5da1698e40d7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.239.204
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['47771', '47772', '47773', '47774', '47775']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 47771:47771 -p 47772:47772 -p 47773:47773 -p 47774:47774 -p 47775:47775 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=47773 --rest-port=47771 --tcp-port=47772 --discv5-udp-port=47774 --rest-address=0.0.0.0 --nat=extip:172.18.239.204 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3f757eddaa90157efceffedb2b85fc82f8b30a5f2dfa2e9ccc6fbffcd6afe2cd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=47775 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.239.204 waku 7433f97ffaea6ecf41b6a440a2140aa56da1a073dd1604daaefd22f73e049dab
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 7433f97ffaea. Setting up logs at ./log/docker/receiving_node2_2024-10-11_03-21-48__a00e6301-08d1-47bb-b89a-5da1698e40d7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 47771
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47771/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47771/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.239.204/tcp/47772/p2p/16Uiu2HAmHevXd1E8yVUojwGnCJwUzuWZnx7ykEG62U73piERoTZ5","/ip4/172.18.239.204/tcp/47773/ws/p2p/16Uiu2HAmHevXd1E8yVUojwGnCJwUzuWZnx7ykEG62U73piERoTZ5"],"enrUri":"enr:-LO4QLbk7jItiHzA4wMMsfcGtF6EjwYDgX-L7Pm8UPfCBsqMdMNSTZTPmMOsHrk_NIuqcGtSA1-ni67ZZV7TDZP59wYBgmlkgnY0gmlwhKwS78yKbXVsdGlhZGRyc4wACgSsEu_MBrqd3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNKRhz80ISX3eQT0SqNZ0w8tNZga8FrPCLS9eezruGyfIN0Y3CCupyDdWRwgrqehXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47771/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.132.200/tcp/20965/p2p/16Uiu2HAmL58Bx1N81TASYGspNS1kX5BEWdRmwZGEzoNSv8dk3F1B"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-10-11_03-21-48__a00e6301-08d1-47bb-b89a-5da1698e40d7__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.204.245
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['37962', '37963', '37964', '37965', '37966']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 37962:37962 -p 37963:37963 -p 37964:37964 -p 37965:37965 -p 37966:37966 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=37964 --rest-port=37962 --tcp-port=37963 --discv5-udp-port=37965 --rest-address=0.0.0.0 --nat=extip:172.18.204.245 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=72b6dc700e23bb8c43f5a7a2fd21bff3fcb5ffe55e5e2de4e449e3d2f72ee895 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-LO4QNtkEEwPuJU3Eu3YVv9TGbPkFZYqCpOONCIlrFxxGxQmcQvttJL_WJ9CR3DoyUp42Hu22ftxic-Tr3AywpnOZKcBgmlkgnY0gmlwhKwShMiKbXVsdGlhZGRyc4wACgSsEoTIBlHm3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNuMJyHDD03yMQOYRqeZ2ABy_qKz4147q4vg3JVO2vrwoN0Y3CCUeWDdWRwglHnhXdha3UyCQ --lightpushnode=/ip4/172.18.132.200/tcp/20965/p2p/16Uiu2HAmL58Bx1N81TASYGspNS1kX5BEWdRmwZGEzoNSv8dk3F1B --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.204.245 waku aed435d1d8d24c48e0c4a2bfd8642feb15cf5e571b086d719c687850839067f2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID aed435d1d8d2. Setting up logs at ./log/docker/lightpush_node1_2024-10-11_03-21-48__a00e6301-08d1-47bb-b89a-5da1698e40d7__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 37962
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37962/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QE1oeJ6qhUnXFHb4hs9NEFXv-_20uYX7-o0pmELw4U9_FLrfiqVFZMUYjTseOeIvO41F85WhS5_Ts2etIGr13ByGAZJ5mNasgmlkgnY0gmlwhKwRAA-Jc2VjcDI1NmsxoQJJdkaFrsoNR0MDVCp9Y74xL-C7RLLb0vkDfd8Iwix4RYN0Y3CClEuDdWRwgpRNhXdha3UyCA","listenAddresses":["/ip4/127.0.0.1/tcp/37963/p2p/16Uiu2HAkzNSLz5PSXPABXJzWgstGjN9UarivhYwYpwsGQcJchL2G","/ip4/127.0.0.1/tcp/37964/ws/p2p/16Uiu2HAkzNSLz5PSXPABXJzWgstGjN9UarivhYwYpwsGQcJchL2G","/ip4/172.17.0.15/tcp/37963/p2p/16Uiu2HAkzNSLz5PSXPABXJzWgstGjN9UarivhYwYpwsGQcJchL2G","/ip4/172.17.0.15/tcp/37964/ws/p2p/16Uiu2HAkzNSLz5PSXPABXJzWgstGjN9UarivhYwYpwsGQcJchL2G"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:37962/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.132.200/tcp/20965/p2p/16Uiu2HAmL58Bx1N81TASYGspNS1kX5BEWdRmwZGEzoNSv8dk3F1B", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:37962/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.239.204/tcp/47772/p2p/16Uiu2HAmHevXd1E8yVUojwGnCJwUzuWZnx7ykEG62U73piERoTZ5", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node2_2024-10-11_03-21-48__a00e6301-08d1-47bb-b89a-5da1698e40d7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.29.68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['51299', '51300', '51301', '51302', '51303']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 51299:51299 -p 51300:51300 -p 51301:51301 -p 51302:51302 -p 51303:51303 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=51301 --rest-port=51299 --tcp-port=51300 --discv5-udp-port=51302 --rest-address=0.0.0.0 --nat=extip:172.18.29.68 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5212aa016239c49d4eeaac52c2bf11da81627ae20fbddda8e71afdea61bbc729 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=51303 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QNtkEEwPuJU3Eu3YVv9TGbPkFZYqCpOONCIlrFxxGxQmcQvttJL_WJ9CR3DoyUp42Hu22ftxic-Tr3AywpnOZKcBgmlkgnY0gmlwhKwShMiKbXVsdGlhZGRyc4wACgSsEoTIBlHm3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNuMJyHDD03yMQOYRqeZ2ABy_qKz4147q4vg3JVO2vrwoN0Y3CCUeWDdWRwglHnhXdha3UyCQ --lightpushnode=/ip4/172.18.132.200/tcp/20965/p2p/16Uiu2HAmL58Bx1N81TASYGspNS1kX5BEWdRmwZGEzoNSv8dk3F1B --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.29.68 waku a6b7f6d386ad0f6ae264c4de8a011ca08a4673eef7fe24a0991315e370ebb113
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID a6b7f6d386ad. Setting up logs at ./log/docker/lightpush_node2_2024-10-11_03-21-48__a00e6301-08d1-47bb-b89a-5da1698e40d7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 51299
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51299/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51299/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.29.68/tcp/51300/p2p/16Uiu2HAm5dCEeuoiDcv7ZerboV4MxhfEKDAwc3gTarzgxHy8GN6n","/ip4/172.18.29.68/tcp/51301/ws/p2p/16Uiu2HAm5dCEeuoiDcv7ZerboV4MxhfEKDAwc3gTarzgxHy8GN6n"],"enrUri":"enr:-LO4QCfNkSe8Qp62r9GhLxpPzJtm0lTANPgbxSNjbOE5S-OuOf4xaJpVPUFlW0yFjDs7dz3qGAttsdImqXk8i69KdAYBgmlkgnY0gmlwhKwSHUSKbXVsdGlhZGRyc4wACgSsEh1EBshl3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKXiHgPT8S_oACvcCER1tEPmV6eikJqPv8RcoZlSTh2i4N0Y3CCyGSDdWRwgshmhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51299/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.132.200/tcp/20965/p2p/16Uiu2HAmL58Bx1N81TASYGspNS1kX5BEWdRmwZGEzoNSv8dk3F1B"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51299/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.239.204/tcp/47772/p2p/16Uiu2HAmHevXd1E8yVUojwGnCJwUzuWZnx7ykEG62U73piERoTZ5"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node3_2024-10-11_03-21-48__a00e6301-08d1-47bb-b89a-5da1698e40d7__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.169.250
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['65322', '65323', '65324', '65325', '65326']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 65322:65322 -p 65323:65323 -p 65324:65324 -p 65325:65325 -p 65326:65326 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=65324 --rest-port=65322 --tcp-port=65323 --discv5-udp-port=65325 --rest-address=0.0.0.0 --nat=extip:172.18.169.250 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b9dbf4ff92bc42cec1cebbfd2c0fb8278b0bed25fcfa6cd9a8caf241ecffa20c --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-LO4QNtkEEwPuJU3Eu3YVv9TGbPkFZYqCpOONCIlrFxxGxQmcQvttJL_WJ9CR3DoyUp42Hu22ftxic-Tr3AywpnOZKcBgmlkgnY0gmlwhKwShMiKbXVsdGlhZGRyc4wACgSsEoTIBlHm3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNuMJyHDD03yMQOYRqeZ2ABy_qKz4147q4vg3JVO2vrwoN0Y3CCUeWDdWRwglHnhXdha3UyCQ --lightpushnode=/ip4/172.18.132.200/tcp/20965/p2p/16Uiu2HAmL58Bx1N81TASYGspNS1kX5BEWdRmwZGEzoNSv8dk3F1B --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.169.250 waku 6c2ae0613a4b122e9686ee3d75fe26649819884a7763e357db67e6dea9ce6bad
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 6c2ae0613a4b. Setting up logs at ./log/docker/lightpush_node3_2024-10-11_03-21-48__a00e6301-08d1-47bb-b89a-5da1698e40d7__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 65322
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:65322/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QC6AQV0rSS8ztEIG2mifhI71ldmZ5732eJ7P_k3U6SQqLENIl3Rz3HkVh6Wzla6EK81HTDyUL0sb1Ce7tL58kUOGAZJ5mOUWgmlkgnY0gmlwhKwRAASJc2VjcDI1NmsxoQIuonhNXTlqxOk0tLrLT_vfNHfU7QWGjor6StV6apCW6IN0Y3CC_yuDdWRwgv8thXdha3UyCA","listenAddresses":["/ip4/127.0.0.1/tcp/65323/p2p/16Uiu2HAkxZiRWL6RXouwgU8Y1cJ4mMybrWStbD7yAiyJRNWeF8mM","/ip4/127.0.0.1/tcp/65324/ws/p2p/16Uiu2HAkxZiRWL6RXouwgU8Y1cJ4mMybrWStbD7yAiyJRNWeF8mM","/ip4/172.17.0.4/tcp/65323/p2p/16Uiu2HAkxZiRWL6RXouwgU8Y1cJ4mMybrWStbD7yAiyJRNWeF8mM","/ip4/172.17.0.4/tcp/65324/ws/p2p/16Uiu2HAkxZiRWL6RXouwgU8Y1cJ4mMybrWStbD7yAiyJRNWeF8mM"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:65322/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.132.200/tcp/20965/p2p/16Uiu2HAmL58Bx1N81TASYGspNS1kX5BEWdRmwZGEzoNSv8dk3F1B", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:65322/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.239.204/tcp/47772/p2p/16Uiu2HAmHevXd1E8yVUojwGnCJwUzuWZnx7ykEG62U73piERoTZ5", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node4_2024-10-11_03-21-48__a00e6301-08d1-47bb-b89a-5da1698e40d7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.246.181
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['33705', '33706', '33707', '33708', '33709']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 33705:33705 -p 33706:33706 -p 33707:33707 -p 33708:33708 -p 33709:33709 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=33707 --rest-port=33705 --tcp-port=33706 --discv5-udp-port=33708 --rest-address=0.0.0.0 --nat=extip:172.18.246.181 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ed8741b33850bf2c4ef33ed5dcebfad3aeffd8b2e0ddae8ab3d02c8b8e0a1298 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=33709 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QNtkEEwPuJU3Eu3YVv9TGbPkFZYqCpOONCIlrFxxGxQmcQvttJL_WJ9CR3DoyUp42Hu22ftxic-Tr3AywpnOZKcBgmlkgnY0gmlwhKwShMiKbXVsdGlhZGRyc4wACgSsEoTIBlHm3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNuMJyHDD03yMQOYRqeZ2ABy_qKz4147q4vg3JVO2vrwoN0Y3CCUeWDdWRwglHnhXdha3UyCQ --lightpushnode=/ip4/172.18.132.200/tcp/20965/p2p/16Uiu2HAmL58Bx1N81TASYGspNS1kX5BEWdRmwZGEzoNSv8dk3F1B --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.246.181 waku ea4fd75bec39e30966720629c1aea56d6a054fe6b7937289d6dc7f767b1bcec8
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID ea4fd75bec39. Setting up logs at ./log/docker/lightpush_node4_2024-10-11_03-21-48__a00e6301-08d1-47bb-b89a-5da1698e40d7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 33705
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33705/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33705/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.246.181/tcp/33706/p2p/16Uiu2HAmENKtd4fi3u43zkfrQjiMTYpjZNFRFJnFxbJA41kv9qcG","/ip4/172.18.246.181/tcp/33707/ws/p2p/16Uiu2HAmENKtd4fi3u43zkfrQjiMTYpjZNFRFJnFxbJA41kv9qcG"],"enrUri":"enr:-LO4QBA59ofIo0DLehVnYuhToi54POF3VDUGVxNLx_UNdSE6UenhcAnKr8ldv0xnq2rZoQP4OBSJp5VhdAhuF39IBHgBgmlkgnY0gmlwhKwS9rWKbXVsdGlhZGRyc4wACgSsEva1BoOr3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMZcpgjtPmBLoh0N2KD7XycbOwH4DsJPxez86KrjbSIrYN0Y3CCg6qDdWRwgoOshXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33705/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.132.200/tcp/20965/p2p/16Uiu2HAmL58Bx1N81TASYGspNS1kX5BEWdRmwZGEzoNSv8dk3F1B"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33705/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.239.204/tcp/47772/p2p/16Uiu2HAmHevXd1E8yVUojwGnCJwUzuWZnx7ykEG62U73piERoTZ5"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20964/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47771/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:37962/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1728616919549605120}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20964/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1728616919549605120,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47771/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1728616919549605120,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51299/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1728616919666209792}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20964/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1728616919666209792,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47771/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1728616919666209792,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:65322/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1728616919781694208}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20964/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1728616919781694208,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47771/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1728616919781694208,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33705/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1728616919897637888}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20964/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1728616919897637888,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47771/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1728616919897637888,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 039aeb699091
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 7433f97ffaea
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id aed435d1d8d2
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id a6b7f6d386ad
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 6c2ae0613a4b
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id ea4fd75bec39
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.