[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_ping_on_subscribed_peer with id: 2024-10-11_03-18-14__98fc81cf-9df7-41d6-a75d-0b2f19f03920
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-10-11_03-18-14__98fc81cf-9df7-41d6-a75d-0b2f19f03920__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.143.225
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['61514', '61515', '61516', '61517', '61518']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 61514:61514 -p 61515:61515 -p 61516:61516 -p 61517:61517 -p 61518:61518 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=61516 --rest-port=61514 --tcp-port=61515 --discv5-udp-port=61517 --rest-address=0.0.0.0 --nat=extip:172.18.143.225 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=faa425aa09cfbc8d5d95fe907dfe7a07b49941b09ca4899eb5ef3928a26cacff --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=61518 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.143.225 waku 7dfced317436e5e7dae0a280abc9106dac8e11c58d66cf22600b0dfce95de9cb
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 7dfced317436. Setting up logs at ./log/docker/node1_2024-10-11_03-18-14__98fc81cf-9df7-41d6-a75d-0b2f19f03920__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 61514
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61514/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61514/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.143.225/tcp/61515/p2p/16Uiu2HAm47Bwf6Pa6krLjbJLYxMTAadAuERikPsjUSAbC2Y8FpcC","/ip4/172.18.143.225/tcp/61516/ws/p2p/16Uiu2HAm47Bwf6Pa6krLjbJLYxMTAadAuERikPsjUSAbC2Y8FpcC"],"enrUri":"enr:-LO4QPPJFskfRGvkm21M1ZY-aQC1mel9IGSIP_iD8aZ1YW6TOdynzQsy0aYLvDArUptC4hMYR6hc0oJsGVhkjgZKq48BgmlkgnY0gmlwhKwSj-GKbXVsdGlhZGRyc4wACgSsEo_hBvBM3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKA_QbEVDXGZzildWrby7gKvvhxUjgDyj0b2ignJ1ubVYN0Y3CC8EuDdWRwgvBNhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-10-11_03-18-14__98fc81cf-9df7-41d6-a75d-0b2f19f03920__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.177.69
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['30564', '30565', '30566', '30567', '30568']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 30564:30564 -p 30565:30565 -p 30566:30566 -p 30567:30567 -p 30568:30568 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=30566 --rest-port=30564 --tcp-port=30565 --discv5-udp-port=30567 --rest-address=0.0.0.0 --nat=extip:172.18.177.69 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=abb9cccff4af8baa1aec71d0dfddbabda6cf7ed680dbfb4afab5e856de9528b2 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-LO4QPPJFskfRGvkm21M1ZY-aQC1mel9IGSIP_iD8aZ1YW6TOdynzQsy0aYLvDArUptC4hMYR6hc0oJsGVhkjgZKq48BgmlkgnY0gmlwhKwSj-GKbXVsdGlhZGRyc4wACgSsEo_hBvBM3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKA_QbEVDXGZzildWrby7gKvvhxUjgDyj0b2ignJ1ubVYN0Y3CC8EuDdWRwgvBNhXdha3UyBQ --filternode=/ip4/172.18.143.225/tcp/61515/p2p/16Uiu2HAm47Bwf6Pa6krLjbJLYxMTAadAuERikPsjUSAbC2Y8FpcC
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.177.69 waku 5fde5a682062f91f2b37f66d6af8a61fe86b1bb827b5ba7ba6c51f60cd347950
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 5fde5a682062. Setting up logs at ./log/docker/node2_2024-10-11_03-18-14__98fc81cf-9df7-41d6-a75d-0b2f19f03920__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 30564
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30564/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QOwxnbLqUObe5A0G5SCrofChTinAV3kq_9RH3WtMmrKbFDivuRLyRjNrKy8bOhqEPWQ6SEZRQp0ZQJnIGjM4cq2GAZJ5lY7zgmlkgnY0gmlwhKwRAAmJc2VjcDI1NmsxoQIKq-g-MwHYV6S5-Ak9KafBSd8OO965GM_BcjOE9FNP-oN0Y3CCd2WDdWRwgndnhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/30565/p2p/16Uiu2HAkv9L6KgZemDxtu2g7dqDQMpwRTWtMPEoUCvgqy1Do2SDw","/ip4/127.0.0.1/tcp/30566/ws/p2p/16Uiu2HAkv9L6KgZemDxtu2g7dqDQMpwRTWtMPEoUCvgqy1Do2SDw","/ip4/172.17.0.9/tcp/30565/p2p/16Uiu2HAkv9L6KgZemDxtu2g7dqDQMpwRTWtMPEoUCvgqy1Do2SDw","/ip4/172.17.0.9/tcp/30566/ws/p2p/16Uiu2HAkv9L6KgZemDxtu2g7dqDQMpwRTWtMPEoUCvgqy1Do2SDw"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30564/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.143.225/tcp/61515/p2p/16Uiu2HAm47Bwf6Pa6krLjbJLYxMTAadAuERikPsjUSAbC2Y8FpcC", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:30564/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30564/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.143.225/tcp/61515/p2p/16Uiu2HAm47Bwf6Pa6krLjbJLYxMTAadAuERikPsjUSAbC2Y8FpcC", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:30564/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30564/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.143.225/tcp/61515/p2p/16Uiu2HAm47Bwf6Pa6krLjbJLYxMTAadAuERikPsjUSAbC2Y8FpcC", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:30564/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30564/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.143.225/tcp/61515/p2p/16Uiu2HAm47Bwf6Pa6krLjbJLYxMTAadAuERikPsjUSAbC2Y8FpcC", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:30564/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30564/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.143.225/tcp/61515/p2p/16Uiu2HAm47Bwf6Pa6krLjbJLYxMTAadAuERikPsjUSAbC2Y8FpcC", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:30564/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30564/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.143.225/tcp/61515/p2p/16Uiu2HAm47Bwf6Pa6krLjbJLYxMTAadAuERikPsjUSAbC2Y8FpcC", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:30564/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30564/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.143.225/tcp/61515/p2p/16Uiu2HAm47Bwf6Pa6krLjbJLYxMTAadAuERikPsjUSAbC2Y8FpcC", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:30564/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30564/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.143.225/tcp/61515/p2p/16Uiu2HAm47Bwf6Pa6krLjbJLYxMTAadAuERikPsjUSAbC2Y8FpcC", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:30564/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30564/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.143.225/tcp/61515/p2p/16Uiu2HAm47Bwf6Pa6krLjbJLYxMTAadAuERikPsjUSAbC2Y8FpcC", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:30564/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30564/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.143.225/tcp/61515/p2p/16Uiu2HAm47Bwf6Pa6krLjbJLYxMTAadAuERikPsjUSAbC2Y8FpcC", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:30564/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30564/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.143.225/tcp/61515/p2p/16Uiu2HAm47Bwf6Pa6krLjbJLYxMTAadAuERikPsjUSAbC2Y8FpcC", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61514/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30564/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "6be1b730-dc21-4954-9d90-1200e757a6e1", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"6be1b730-dc21-4954-9d90-1200e757a6e1","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30564/filter/v2/subscriptions/1958d7b3-9cb4-4ad1-8fb6-5b0246130ba9" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"1958d7b3-9cb4-4ad1-8fb6-5b0246130ba9","statusDesc":"OK"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 7dfced317436
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 5fde5a682062
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.