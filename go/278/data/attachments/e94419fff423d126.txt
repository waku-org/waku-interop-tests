[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_unsubscribe_from_non_existing_content_topic with id: 2024-09-13_03-17-00__2ba56523-7060-4ad4-b565-ae02e31aa0cb
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-09-13_03-17-00__2ba56523-7060-4ad4-b565-ae02e31aa0cb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.116.116
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['47052', '47053', '47054', '47055', '47056']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 47052:47052 -p 47053:47053 -p 47054:47054 -p 47055:47055 -p 47056:47056 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=47054 --rest-port=47052 --tcp-port=47053 --discv5-udp-port=47055 --rest-address=0.0.0.0 --nat=extip:172.18.116.116 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=90c3abbcd331ddeecd1d81be3d9bad8bac2de3daeda1bef8e8be58daf6c46f65 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=47056 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.116.116 waku 511373c48763e5848f64f7e466a8d27872f7dc131ca80f755534d1759b6fc173
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 511373c48763. Setting up logs at ./log/docker/node1_2024-09-13_03-17-00__2ba56523-7060-4ad4-b565-ae02e31aa0cb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 47052
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47052/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47052/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.116.116/tcp/47053/p2p/16Uiu2HAkuZ3SvNXf9ba2tGmvR3A6H5ysUabBXP7mh2ntzoWXEC2m","/ip4/172.18.116.116/tcp/47054/ws/p2p/16Uiu2HAkuZ3SvNXf9ba2tGmvR3A6H5ysUabBXP7mh2ntzoWXEC2m"],"enrUri":"enr:-LO4QGaNzSa0OJF45hDkEmTWkKsy9C3PqMUJVwfpT0Nli_dwXVLrzZZrVr0ycS1IdrYFomuzB9xWIZ_4MApevFn2vUABgmlkgnY0gmlwhKwSdHSKbXVsdGlhZGRyc4wACgSsEnR0BrfO3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIB41bbfiUT-j6y8OGSE76hNyCPlir5Xq9fZtkSAOne-oN0Y3CCt82DdWRwgrfPhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-09-13_03-17-00__2ba56523-7060-4ad4-b565-ae02e31aa0cb__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.79.250
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['31367', '31368', '31369', '31370', '31371']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 31367:31367 -p 31368:31368 -p 31369:31369 -p 31370:31370 -p 31371:31371 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=31369 --rest-port=31367 --tcp-port=31368 --discv5-udp-port=31370 --rest-address=0.0.0.0 --nat=extip:172.18.79.250 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=df25ddd50c0cf8f0d5da5a9e83258317b523a82ca5ddfe28e6b0ecf0aa825cb6 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-LO4QGaNzSa0OJF45hDkEmTWkKsy9C3PqMUJVwfpT0Nli_dwXVLrzZZrVr0ycS1IdrYFomuzB9xWIZ_4MApevFn2vUABgmlkgnY0gmlwhKwSdHSKbXVsdGlhZGRyc4wACgSsEnR0BrfO3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIB41bbfiUT-j6y8OGSE76hNyCPlir5Xq9fZtkSAOne-oN0Y3CCt82DdWRwgrfPhXdha3UyBQ --filternode=/ip4/172.18.116.116/tcp/47053/p2p/16Uiu2HAkuZ3SvNXf9ba2tGmvR3A6H5ysUabBXP7mh2ntzoWXEC2m
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.79.250 waku d3b8b5b78eed60bdd88bc194897539561a72359356b0604ff570132c6068b900
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID d3b8b5b78eed. Setting up logs at ./log/docker/node2_2024-09-13_03-17-00__2ba56523-7060-4ad4-b565-ae02e31aa0cb__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 31367
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31367/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QMG9-bgvlO9HKgIjg3N4Dr-qV6YSOj55u4THfDdJGvnYQgbWQSo6zWZ5ko-D8P0oy_GnTovAfej_RenpQ1XBR8WGAZHpYlr2gmlkgnY0gmlwhKwRAAeJc2VjcDI1NmsxoQK3MA72bW9HkY5iGDBi5YgEiZXJUMXC-yf6dsPCh2Iy9YN0Y3CCeoiDdWRwgnqKhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/31368/p2p/16Uiu2HAm7km6HA4LNRGmeK22r8UTooauwkVWyBHWzx5A94tE5gQt","/ip4/127.0.0.1/tcp/31369/ws/p2p/16Uiu2HAm7km6HA4LNRGmeK22r8UTooauwkVWyBHWzx5A94tE5gQt","/ip4/172.17.0.7/tcp/31368/p2p/16Uiu2HAm7km6HA4LNRGmeK22r8UTooauwkVWyBHWzx5A94tE5gQt","/ip4/172.17.0.7/tcp/31369/ws/p2p/16Uiu2HAm7km6HA4LNRGmeK22r8UTooauwkVWyBHWzx5A94tE5gQt"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31367/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.116.116/tcp/47053/p2p/16Uiu2HAkuZ3SvNXf9ba2tGmvR3A6H5ysUabBXP7mh2ntzoWXEC2m", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47052/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31367/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "30561edf-9695-40d5-a76d-c3e5b9b3f4d6", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"30561edf-9695-40d5-a76d-c3e5b9b3f4d6","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:31367/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"1","statusDesc":"can\'t unsubscribe from 16Uiu2HAkuZ3SvNXf9ba2tGmvR3A6H5ysUabBXP7mh2ntzoWXEC2m"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47052/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31367/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1726197423977161216,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 511373c48763
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id d3b8b5b78eed
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.