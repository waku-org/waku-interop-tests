[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-09-13_03-14-30__7e2a5afc-0f35-4c05-80c2-821c8d694c8b
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-09-13_03-14-30__7e2a5afc-0f35-4c05-80c2-821c8d694c8b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.213.185
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['8724', '8725', '8726', '8727', '8728']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 8724:8724 -p 8725:8725 -p 8726:8726 -p 8727:8727 -p 8728:8728 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=8726 --rest-port=8724 --tcp-port=8725 --discv5-udp-port=8727 --rest-address=0.0.0.0 --nat=extip:172.18.213.185 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f398e35d30dec2efebc2a6c1ed7e9fdae0e1db491fc9ceb13ca925a4cdc4a1cc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=8728 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.213.185 waku 217e2b9d4ada8e9a43391c2787c7f5c49cc85f9eaf600205b26a25bd2041672f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 217e2b9d4ada. Setting up logs at ./log/docker/node1_2024-09-13_03-14-30__7e2a5afc-0f35-4c05-80c2-821c8d694c8b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 8724
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8724/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8724/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.213.185/tcp/8725/p2p/16Uiu2HAmFrXhcHQhWg6bpzmGrw26dZkbFnr1xwMbHRbrww6jk8TU","/ip4/172.18.213.185/tcp/8726/ws/p2p/16Uiu2HAmFrXhcHQhWg6bpzmGrw26dZkbFnr1xwMbHRbrww6jk8TU"],"enrUri":"enr:-LO4QGXFspK77xdgkrNj8-Q3DfBkWhSsJZ-ZM37BLAQ9yofmei9O2Wd7pKDxfSHKDwz64R7wK39pwRCm9AxaQjmscnkBgmlkgnY0gmlwhKwS1bmKbXVsdGlhZGRyc4wACgSsEtW5BiIW3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMvh-XJ7pF2VmGoemLm10w8TdrMYOnmKnDPWje-Q0lk84N0Y3CCIhWDdWRwgiIXhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-09-13_03-14-30__7e2a5afc-0f35-4c05-80c2-821c8d694c8b__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.37.36
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['63084', '63085', '63086', '63087', '63088']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 63084:63084 -p 63085:63085 -p 63086:63086 -p 63087:63087 -p 63088:63088 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=63086 --rest-port=63084 --tcp-port=63085 --discv5-udp-port=63087 --rest-address=0.0.0.0 --nat=extip:172.18.37.36 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e8c27daeb500063d5d5ba8d56bcefdebe34acefc5aefcad4d3f0eb3d8aa15092 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-LO4QGXFspK77xdgkrNj8-Q3DfBkWhSsJZ-ZM37BLAQ9yofmei9O2Wd7pKDxfSHKDwz64R7wK39pwRCm9AxaQjmscnkBgmlkgnY0gmlwhKwS1bmKbXVsdGlhZGRyc4wACgSsEtW5BiIW3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMvh-XJ7pF2VmGoemLm10w8TdrMYOnmKnDPWje-Q0lk84N0Y3CCIhWDdWRwgiIXhXdha3UyBQ --filternode=/ip4/172.18.213.185/tcp/8725/p2p/16Uiu2HAmFrXhcHQhWg6bpzmGrw26dZkbFnr1xwMbHRbrww6jk8TU
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.37.36 waku b382d4ebba2c62088b8d89f577461e480bc39002738560fe593ddafcffea0b84
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID b382d4ebba2c. Setting up logs at ./log/docker/node2_2024-09-13_03-14-30__7e2a5afc-0f35-4c05-80c2-821c8d694c8b__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 63084
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63084/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QGh5QEqYFNdh_DGTamLAiF4Uqu_qFJ8Yf18Lz-ImV4yJBL6dqX89uLo4Yklft1pfTshKwOcAp7Y62SLgmhyF4v-GAZHpYBMXgmlkgnY0gmlwhKwRAAeJc2VjcDI1NmsxoQIMZP8OkxJr2efbnCIvIzaaKDCbAkPSw5KK84-7ImV3CIN0Y3CC9m2DdWRwgvZvhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/63085/p2p/16Uiu2HAkvG4CCxuRPc1xVKRtkQzofFqnqakiteScqu2nycoMzK99","/ip4/127.0.0.1/tcp/63086/ws/p2p/16Uiu2HAkvG4CCxuRPc1xVKRtkQzofFqnqakiteScqu2nycoMzK99","/ip4/172.17.0.7/tcp/63085/p2p/16Uiu2HAkvG4CCxuRPc1xVKRtkQzofFqnqakiteScqu2nycoMzK99","/ip4/172.17.0.7/tcp/63086/ws/p2p/16Uiu2HAkvG4CCxuRPc1xVKRtkQzofFqnqakiteScqu2nycoMzK99"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63084/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.213.185/tcp/8725/p2p/16Uiu2HAmFrXhcHQhWg6bpzmGrw26dZkbFnr1xwMbHRbrww6jk8TU", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-09-13_03-14-30__7e2a5afc-0f35-4c05-80c2-821c8d694c8b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.63.244
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['12234', '12235', '12236', '12237', '12238']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 12234:12234 -p 12235:12235 -p 12236:12236 -p 12237:12237 -p 12238:12238 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=12236 --rest-port=12234 --tcp-port=12235 --discv5-udp-port=12237 --rest-address=0.0.0.0 --nat=extip:172.18.63.244 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f1a344f1aacd3c6a90dad5a6525ce62ebcfad46a163e074bcdc7852ac4ecdf2f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=12238 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QGXFspK77xdgkrNj8-Q3DfBkWhSsJZ-ZM37BLAQ9yofmei9O2Wd7pKDxfSHKDwz64R7wK39pwRCm9AxaQjmscnkBgmlkgnY0gmlwhKwS1bmKbXVsdGlhZGRyc4wACgSsEtW5BiIW3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMvh-XJ7pF2VmGoemLm10w8TdrMYOnmKnDPWje-Q0lk84N0Y3CCIhWDdWRwgiIXhXdha3UyBQ --filternode=/ip4/172.18.213.185/tcp/8725/p2p/16Uiu2HAmFrXhcHQhWg6bpzmGrw26dZkbFnr1xwMbHRbrww6jk8TU
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.63.244 waku b334eff297724b6c11d978fc1b4bbb7732bc52e453dc74868759cea3bedc85c8
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID b334eff29772. Setting up logs at ./log/docker/node3_2024-09-13_03-14-30__7e2a5afc-0f35-4c05-80c2-821c8d694c8b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 12234
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12234/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12234/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.63.244/tcp/12235/p2p/16Uiu2HAkuVEUNsXqW68A8rTun7Wt2Hqpqu4zFfcjdmf4TVq4haEB","/ip4/172.18.63.244/tcp/12236/ws/p2p/16Uiu2HAkuVEUNsXqW68A8rTun7Wt2Hqpqu4zFfcjdmf4TVq4haEB"],"enrUri":"enr:-LO4QBt8vjw3yXx_yrUAeI5os2Xp72Nd1rkz3486AANsAO3aIcGh2Gw8qIK_ROZyTv5145gqtj-CgxzdA4NOjdm0N8kBgmlkgnY0gmlwhKwSP_SKbXVsdGlhZGRyc4wACgSsEj_0Bi_M3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIA6Xtw8QiT3T82xLBsAY-GchTchjDNOmh7fAurCn8vEIN0Y3CCL8uDdWRwgi_NhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12234/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.213.185/tcp/8725/p2p/16Uiu2HAmFrXhcHQhWg6bpzmGrw26dZkbFnr1xwMbHRbrww6jk8TU"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-09-13_03-14-30__7e2a5afc-0f35-4c05-80c2-821c8d694c8b__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.98.87
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['12950', '12951', '12952', '12953', '12954']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 12950:12950 -p 12951:12951 -p 12952:12952 -p 12953:12953 -p 12954:12954 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=12952 --rest-port=12950 --tcp-port=12951 --discv5-udp-port=12953 --rest-address=0.0.0.0 --nat=extip:172.18.98.87 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6e6e1badbf9e4a16104f2bf76f26aa4e31d5926e9aebeaed3c0a2b00d9fbeef5 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-LO4QGXFspK77xdgkrNj8-Q3DfBkWhSsJZ-ZM37BLAQ9yofmei9O2Wd7pKDxfSHKDwz64R7wK39pwRCm9AxaQjmscnkBgmlkgnY0gmlwhKwS1bmKbXVsdGlhZGRyc4wACgSsEtW5BiIW3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMvh-XJ7pF2VmGoemLm10w8TdrMYOnmKnDPWje-Q0lk84N0Y3CCIhWDdWRwgiIXhXdha3UyBQ --filternode=/ip4/172.18.213.185/tcp/8725/p2p/16Uiu2HAmFrXhcHQhWg6bpzmGrw26dZkbFnr1xwMbHRbrww6jk8TU
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.98.87 waku e87d63de7eb20948f4051044eac1b1dfe6c1972722b148bfaa886bad4d0089b4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID e87d63de7eb2. Setting up logs at ./log/docker/node4_2024-09-13_03-14-30__7e2a5afc-0f35-4c05-80c2-821c8d694c8b__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 12950
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12950/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QOy3UqkAqC-9jBxk5BQHiknaDQDQYPno7iMyHvjsLD08b3R9wccaw81aHnfBXyX3xe0ODkzsr2Msrdf1GKYxC6WGAZHpYCGEgmlkgnY0gmlwhKwRAAaJc2VjcDI1NmsxoQIXikpoe1SRmg3n_uKXfSOGYLQ2jyYUp3_YbTEr8X98TIN0Y3CCMpeDdWRwgjKZhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/12951/p2p/16Uiu2HAkw1ZfMFH6iaRNSbQRz4rTy18H7NJZxw8NPYoEkQrz8Zw9","/ip4/127.0.0.1/tcp/12952/ws/p2p/16Uiu2HAkw1ZfMFH6iaRNSbQRz4rTy18H7NJZxw8NPYoEkQrz8Zw9","/ip4/172.17.0.6/tcp/12951/p2p/16Uiu2HAkw1ZfMFH6iaRNSbQRz4rTy18H7NJZxw8NPYoEkQrz8Zw9","/ip4/172.17.0.6/tcp/12952/ws/p2p/16Uiu2HAkw1ZfMFH6iaRNSbQRz4rTy18H7NJZxw8NPYoEkQrz8Zw9"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12950/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.213.185/tcp/8725/p2p/16Uiu2HAmFrXhcHQhWg6bpzmGrw26dZkbFnr1xwMbHRbrww6jk8TU", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-09-13_03-14-30__7e2a5afc-0f35-4c05-80c2-821c8d694c8b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.206.149
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['27439', '27440', '27441', '27442', '27443']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 27439:27439 -p 27440:27440 -p 27441:27441 -p 27442:27442 -p 27443:27443 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=27441 --rest-port=27439 --tcp-port=27440 --discv5-udp-port=27442 --rest-address=0.0.0.0 --nat=extip:172.18.206.149 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dd443fdb15c94bfc6bab2dde0f62d329976ccabf20f23080c7b16eaabbaa2e2c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=27443 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QGXFspK77xdgkrNj8-Q3DfBkWhSsJZ-ZM37BLAQ9yofmei9O2Wd7pKDxfSHKDwz64R7wK39pwRCm9AxaQjmscnkBgmlkgnY0gmlwhKwS1bmKbXVsdGlhZGRyc4wACgSsEtW5BiIW3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMvh-XJ7pF2VmGoemLm10w8TdrMYOnmKnDPWje-Q0lk84N0Y3CCIhWDdWRwgiIXhXdha3UyBQ --filternode=/ip4/172.18.213.185/tcp/8725/p2p/16Uiu2HAmFrXhcHQhWg6bpzmGrw26dZkbFnr1xwMbHRbrww6jk8TU
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.206.149 waku 04fdef0306e6606336ac256d35b642e02406e65877270d5ab621218cfd59d746
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 04fdef0306e6. Setting up logs at ./log/docker/node5_2024-09-13_03-14-30__7e2a5afc-0f35-4c05-80c2-821c8d694c8b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 27439
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27439/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27439/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.206.149/tcp/27440/p2p/16Uiu2HAmN1nYSAHBjNEo2DV6AYxer2ciquBp9yMSHRqr2u2F5P2K","/ip4/172.18.206.149/tcp/27441/ws/p2p/16Uiu2HAmN1nYSAHBjNEo2DV6AYxer2ciquBp9yMSHRqr2u2F5P2K"],"enrUri":"enr:-LO4QJxZ5yF282IOhOdyKudaa3HbcBo5MZJLXgKMvfQMvcuVYV4Q7NWJ_mTBKrYLlc9WRm2Sdjsq3SjpCddORmQzvdMBgmlkgnY0gmlwhKwSzpWKbXVsdGlhZGRyc4wACgSsEs6VBmsx3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOLDQc009v_BVVlVyasS6n-ppHCRSsvN4dyuT8FYQ3HBIN0Y3CCazCDdWRwgmsyhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27439/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.213.185/tcp/8725/p2p/16Uiu2HAmFrXhcHQhWg6bpzmGrw26dZkbFnr1xwMbHRbrww6jk8TU"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8724/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63084/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "6dd713ad-16d6-4e03-aa59-01c2c26153b8", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"6dd713ad-16d6-4e03-aa59-01c2c26153b8","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12234/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "ed27440f-dc01-4b05-a94a-7bbc27d9da60", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"ed27440f-dc01-4b05-a94a-7bbc27d9da60","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12950/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1506356b-6fcf-460b-8932-eda420c448e4", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"1506356b-6fcf-460b-8932-eda420c448e4","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27439/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "89e283d9-0f5b-4e6a-b17c-c00c67e18c98", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"89e283d9-0f5b-4e6a-b17c-c00c67e18c98","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8724/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63084/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1726197279688634112,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8724/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12234/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:12234/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 217e2b9d4ada
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id b382d4ebba2c
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id b334eff29772
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id e87d63de7eb2
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 04fdef0306e6
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.