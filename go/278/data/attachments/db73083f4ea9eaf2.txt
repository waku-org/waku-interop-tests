[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_multiple_lightpush_nodes with id: 2024-09-13_03-17-59__ab17a81f-49b4-4316-84ca-71f2b81527c8
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-09-13_03-17-59__ab17a81f-49b4-4316-84ca-71f2b81527c8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.208.157
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['11659', '11660', '11661', '11662', '11663']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 11659:11659 -p 11660:11660 -p 11661:11661 -p 11662:11662 -p 11663:11663 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=11661 --rest-port=11659 --tcp-port=11660 --discv5-udp-port=11662 --rest-address=0.0.0.0 --nat=extip:172.18.208.157 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ddbbfc6fcfe3121c4b1fb35fceddddab1beffd3ae797ebdecaef6a3d187bab1b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=11663 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.208.157 waku 0cb7d52850a00c3cdbbd56d08f4eecfe49adeaf98b436e6d03cbfbafa1a8dc2f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 0cb7d52850a0. Setting up logs at ./log/docker/receiving_node1_2024-09-13_03-17-59__ab17a81f-49b4-4316-84ca-71f2b81527c8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 11659
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11659/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11659/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.208.157/tcp/11660/p2p/16Uiu2HAmTLokwN9QHnb2GLp1xyorqkG5M4twqB7AHeRTrctEXQLr","/ip4/172.18.208.157/tcp/11661/ws/p2p/16Uiu2HAmTLokwN9QHnb2GLp1xyorqkG5M4twqB7AHeRTrctEXQLr"],"enrUri":"enr:-LO4QKk72sSgPwHCxY00LsyJiKebS3bmplHSVd3GUyAZCtbkVRAUdGc-6-hssmn5vioWbHTwNz63QsKSxaXJa3qW0s8BgmlkgnY0gmlwhKwS0J2KbXVsdGlhZGRyc4wACgSsEtCdBi2N3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPaNt9jiJ20SU5cCG9agF3R8aM4W2hxwgUtpXLJLsenW4N0Y3CCLYyDdWRwgi2OhXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-09-13_03-17-59__ab17a81f-49b4-4316-84ca-71f2b81527c8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.108.111
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['15622', '15623', '15624', '15625', '15626']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 15622:15622 -p 15623:15623 -p 15624:15624 -p 15625:15625 -p 15626:15626 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=15624 --rest-port=15622 --tcp-port=15623 --discv5-udp-port=15625 --rest-address=0.0.0.0 --nat=extip:172.18.108.111 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=16e44be2f44ced9fb31f3be48bfda7a41e6d9de9940bec8abdf4d599de786bd0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=15626 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.108.111 waku 7179b216365bed9141c9c88d2c1923de3296f9e53acbf382dab3534be06c1c0e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 7179b216365b. Setting up logs at ./log/docker/receiving_node2_2024-09-13_03-17-59__ab17a81f-49b4-4316-84ca-71f2b81527c8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 15622
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15622/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15622/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.108.111/tcp/15623/p2p/16Uiu2HAmF5ASkQkrFgXej7VBW2hPdf8ZswtD24ZXisuNciCisqMX","/ip4/172.18.108.111/tcp/15624/ws/p2p/16Uiu2HAmF5ASkQkrFgXej7VBW2hPdf8ZswtD24ZXisuNciCisqMX"],"enrUri":"enr:-LO4QEoITJNQBoJ5C2a9ambRKrk4yBolVp3G25VwQHlsalgleNqGmz3TaCrSfh94BSQp_fbdD-Rk46Y8CnsdWgV9lJcBgmlkgnY0gmlwhKwSbG-KbXVsdGlhZGRyc4wACgSsEmxvBj0I3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMj6LoLaM6IvAsb99wyYjMza6AUAdKRRmh4and6JTxZZoN0Y3CCPQeDdWRwgj0JhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15622/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.208.157/tcp/11660/p2p/16Uiu2HAmTLokwN9QHnb2GLp1xyorqkG5M4twqB7AHeRTrctEXQLr"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-09-13_03-17-59__ab17a81f-49b4-4316-84ca-71f2b81527c8__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.215.153
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['43169', '43170', '43171', '43172', '43173']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 43169:43169 -p 43170:43170 -p 43171:43171 -p 43172:43172 -p 43173:43173 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=43171 --rest-port=43169 --tcp-port=43170 --discv5-udp-port=43172 --rest-address=0.0.0.0 --nat=extip:172.18.215.153 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=75edbdff5df29b2876b4e0ace0d87e4ec07d3187cb7f5ecca5202ad537335ba4 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-LO4QKk72sSgPwHCxY00LsyJiKebS3bmplHSVd3GUyAZCtbkVRAUdGc-6-hssmn5vioWbHTwNz63QsKSxaXJa3qW0s8BgmlkgnY0gmlwhKwS0J2KbXVsdGlhZGRyc4wACgSsEtCdBi2N3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPaNt9jiJ20SU5cCG9agF3R8aM4W2hxwgUtpXLJLsenW4N0Y3CCLYyDdWRwgi2OhXdha3UyCQ --lightpushnode=/ip4/172.18.208.157/tcp/11660/p2p/16Uiu2HAmTLokwN9QHnb2GLp1xyorqkG5M4twqB7AHeRTrctEXQLr --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.215.153 waku 3677e1a190ad3310c103e1ce56192b2cb5cec8059dca8108affe632cb2c54cfe
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 3677e1a190ad. Setting up logs at ./log/docker/lightpush_node1_2024-09-13_03-17-59__ab17a81f-49b4-4316-84ca-71f2b81527c8__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 43169
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43169/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QEyrX6ke67Q1_2wXF6CD-DdnD5UZXZyBzcZAZfrPmFHDPWpQ6Qi7uwMoJRJBb8QHGrjAVUoi5Y1EmVnJbU_39vWGAZHpY0wkgmlkgnY0gmlwhKwRAAeJc2VjcDI1NmsxoQOC3MPzlGMG7TyAVY7itcTI4CIGk_1V3qr88WLiG6pFkIN0Y3CCqKKDdWRwgqikhXdha3UyCA","listenAddresses":["/ip4/127.0.0.1/tcp/43170/p2p/16Uiu2HAmMTpbbvzLs2s22QHtSccW331uss1vcRmT1qrGLtQH6Sf9","/ip4/127.0.0.1/tcp/43171/ws/p2p/16Uiu2HAmMTpbbvzLs2s22QHtSccW331uss1vcRmT1qrGLtQH6Sf9","/ip4/172.17.0.7/tcp/43170/p2p/16Uiu2HAmMTpbbvzLs2s22QHtSccW331uss1vcRmT1qrGLtQH6Sf9","/ip4/172.17.0.7/tcp/43171/ws/p2p/16Uiu2HAmMTpbbvzLs2s22QHtSccW331uss1vcRmT1qrGLtQH6Sf9"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43169/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.208.157/tcp/11660/p2p/16Uiu2HAmTLokwN9QHnb2GLp1xyorqkG5M4twqB7AHeRTrctEXQLr", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43169/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.108.111/tcp/15623/p2p/16Uiu2HAmF5ASkQkrFgXej7VBW2hPdf8ZswtD24ZXisuNciCisqMX", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node2_2024-09-13_03-17-59__ab17a81f-49b4-4316-84ca-71f2b81527c8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.110.233
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['31684', '31685', '31686', '31687', '31688']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 31684:31684 -p 31685:31685 -p 31686:31686 -p 31687:31687 -p 31688:31688 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=31686 --rest-port=31684 --tcp-port=31685 --discv5-udp-port=31687 --rest-address=0.0.0.0 --nat=extip:172.18.110.233 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5a2dfd66c6e281e6daffac5eaeeb37bff5bdbd95ac3fef55a5b4aef5f532d6ea --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=31688 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QKk72sSgPwHCxY00LsyJiKebS3bmplHSVd3GUyAZCtbkVRAUdGc-6-hssmn5vioWbHTwNz63QsKSxaXJa3qW0s8BgmlkgnY0gmlwhKwS0J2KbXVsdGlhZGRyc4wACgSsEtCdBi2N3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPaNt9jiJ20SU5cCG9agF3R8aM4W2hxwgUtpXLJLsenW4N0Y3CCLYyDdWRwgi2OhXdha3UyCQ --lightpushnode=/ip4/172.18.208.157/tcp/11660/p2p/16Uiu2HAmTLokwN9QHnb2GLp1xyorqkG5M4twqB7AHeRTrctEXQLr --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.110.233 waku 18edeb3bebd75f2e0586d5a91c9a1d06fdd9f411404344c4ca3c12e5b32d7e66
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 18edeb3bebd7. Setting up logs at ./log/docker/lightpush_node2_2024-09-13_03-17-59__ab17a81f-49b4-4316-84ca-71f2b81527c8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 31684
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31684/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31684/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.110.233/tcp/31685/p2p/16Uiu2HAmJTekXn8oYUbpcRnBzzJTe7z3SiEn9kLsjzxzn3JWQE25","/ip4/172.18.110.233/tcp/31686/ws/p2p/16Uiu2HAmJTekXn8oYUbpcRnBzzJTe7z3SiEn9kLsjzxzn3JWQE25"],"enrUri":"enr:-LO4QF7wMHA4jFBq_BNM65VLqVSDcTkzkP2jTkggQzerm1lyQQWyQ-91_dzaXbW2hndEZb091GrAN0xgYkuG9RERj-UBgmlkgnY0gmlwhKwSbumKbXVsdGlhZGRyc4wACgSsEm7pBnvG3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNWPpJZh06PVwmLggn6N2BvUiCa57lzt-lYXepJ2ol3GoN0Y3CCe8WDdWRwgnvHhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31684/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.208.157/tcp/11660/p2p/16Uiu2HAmTLokwN9QHnb2GLp1xyorqkG5M4twqB7AHeRTrctEXQLr"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31684/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.108.111/tcp/15623/p2p/16Uiu2HAmF5ASkQkrFgXej7VBW2hPdf8ZswtD24ZXisuNciCisqMX"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node3_2024-09-13_03-17-59__ab17a81f-49b4-4316-84ca-71f2b81527c8__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.228.181
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['14403', '14404', '14405', '14406', '14407']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 14403:14403 -p 14404:14404 -p 14405:14405 -p 14406:14406 -p 14407:14407 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=14405 --rest-port=14403 --tcp-port=14404 --discv5-udp-port=14406 --rest-address=0.0.0.0 --nat=extip:172.18.228.181 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a3a19fc393a743cbead2750ffcf4f5d89ddebc6add3ed7508164df76c4a7aead --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-LO4QKk72sSgPwHCxY00LsyJiKebS3bmplHSVd3GUyAZCtbkVRAUdGc-6-hssmn5vioWbHTwNz63QsKSxaXJa3qW0s8BgmlkgnY0gmlwhKwS0J2KbXVsdGlhZGRyc4wACgSsEtCdBi2N3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPaNt9jiJ20SU5cCG9agF3R8aM4W2hxwgUtpXLJLsenW4N0Y3CCLYyDdWRwgi2OhXdha3UyCQ --lightpushnode=/ip4/172.18.208.157/tcp/11660/p2p/16Uiu2HAmTLokwN9QHnb2GLp1xyorqkG5M4twqB7AHeRTrctEXQLr --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.228.181 waku 2538873198d8c6bcf9e5b6853020eca2664675694b191a9f2cb3b2fb0db1bacc
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 2538873198d8. Setting up logs at ./log/docker/lightpush_node3_2024-09-13_03-17-59__ab17a81f-49b4-4316-84ca-71f2b81527c8__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 14403
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14403/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QMaALXOVZzgDXBJGNo_CMFIbw4BIRppgypA74R_5Szy0T3WBAKPkVQSqhWJagRmfYAv_WIwHJ02ZcPeTMmAeLvmGAZHpY1qmgmlkgnY0gmlwhKwRAAyJc2VjcDI1NmsxoQJyn4uBtdRlbN8C1ViPTuaPlHLFCWi4B_i5fdhnn-xL-IN0Y3CCOESDdWRwgjhGhXdha3UyCA","listenAddresses":["/ip4/127.0.0.1/tcp/14404/p2p/16Uiu2HAm397ZRnBPAeNov7zETVLtLRUCEekXuKyEcZSpgkTYAzPZ","/ip4/127.0.0.1/tcp/14405/ws/p2p/16Uiu2HAm397ZRnBPAeNov7zETVLtLRUCEekXuKyEcZSpgkTYAzPZ","/ip4/172.17.0.12/tcp/14404/p2p/16Uiu2HAm397ZRnBPAeNov7zETVLtLRUCEekXuKyEcZSpgkTYAzPZ","/ip4/172.17.0.12/tcp/14405/ws/p2p/16Uiu2HAm397ZRnBPAeNov7zETVLtLRUCEekXuKyEcZSpgkTYAzPZ"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14403/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.208.157/tcp/11660/p2p/16Uiu2HAmTLokwN9QHnb2GLp1xyorqkG5M4twqB7AHeRTrctEXQLr", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14403/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.108.111/tcp/15623/p2p/16Uiu2HAmF5ASkQkrFgXej7VBW2hPdf8ZswtD24ZXisuNciCisqMX", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node4_2024-09-13_03-17-59__ab17a81f-49b4-4316-84ca-71f2b81527c8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.13.189
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['22992', '22993', '22994', '22995', '22996']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 22992:22992 -p 22993:22993 -p 22994:22994 -p 22995:22995 -p 22996:22996 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=22994 --rest-port=22992 --tcp-port=22993 --discv5-udp-port=22995 --rest-address=0.0.0.0 --nat=extip:172.18.13.189 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=acffc9f35d2db2d2000d8c1bfbfed5672e1e21ed56de414b0f5b2ca2e72216c1 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=22996 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QKk72sSgPwHCxY00LsyJiKebS3bmplHSVd3GUyAZCtbkVRAUdGc-6-hssmn5vioWbHTwNz63QsKSxaXJa3qW0s8BgmlkgnY0gmlwhKwS0J2KbXVsdGlhZGRyc4wACgSsEtCdBi2N3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPaNt9jiJ20SU5cCG9agF3R8aM4W2hxwgUtpXLJLsenW4N0Y3CCLYyDdWRwgi2OhXdha3UyCQ --lightpushnode=/ip4/172.18.208.157/tcp/11660/p2p/16Uiu2HAmTLokwN9QHnb2GLp1xyorqkG5M4twqB7AHeRTrctEXQLr --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.13.189 waku a90e82ee1490d7e1903d6d7dbe4fd95c02dafa4141c70f61308090942980ee99
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID a90e82ee1490. Setting up logs at ./log/docker/lightpush_node4_2024-09-13_03-17-59__ab17a81f-49b4-4316-84ca-71f2b81527c8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 22992
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22992/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22992/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.13.189/tcp/22993/p2p/16Uiu2HAm2tvwKfRupv4z8QVLDU5bbDAvytPJEkLVnchRrmKayqFV","/ip4/172.18.13.189/tcp/22994/ws/p2p/16Uiu2HAm2tvwKfRupv4z8QVLDU5bbDAvytPJEkLVnchRrmKayqFV"],"enrUri":"enr:-LO4QDXv30-BbpPkUyLF1cDITjJbBN66IlO2l_8j2zIvwM3ubVg44N4m8M0fcE4fvtjiSuP4yGnouPzgToppd9reb_IBgmlkgnY0gmlwhKwSDb2KbXVsdGlhZGRyc4wACgSsEg29BlnS3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJu_WcYM0Fzb1K1lj1-xBatdwJM6Pnenz6xaq8cmDL4mIN0Y3CCWdGDdWRwglnThXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22992/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.208.157/tcp/11660/p2p/16Uiu2HAmTLokwN9QHnb2GLp1xyorqkG5M4twqB7AHeRTrctEXQLr"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22992/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.108.111/tcp/15623/p2p/16Uiu2HAmF5ASkQkrFgXej7VBW2hPdf8ZswtD24ZXisuNciCisqMX"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11659/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15622/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43169/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1726197490937073408}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11659/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726197490937073408,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15622/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726197490937073408,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31684/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1726197491051852032}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11659/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726197491051852032,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15622/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726197491051852032,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14403/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1726197491166332160}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11659/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726197491166332160,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15622/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726197491166332160,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22992/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1726197491280588032}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11659/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726197491280588032,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15622/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726197491280588032,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 0cb7d52850a0
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 7179b216365b
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 3677e1a190ad
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 18edeb3bebd7
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 2538873198d8
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id a90e82ee1490
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.