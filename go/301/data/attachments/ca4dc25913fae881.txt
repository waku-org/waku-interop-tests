[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_store_node_not_connected_directly_to_lightpushing_node with id: 2024-10-06_03-20-24__5cccd079-ea63-4f8c-855f-db7ec59900ff
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-10-06_03-20-24__5cccd079-ea63-4f8c-855f-db7ec59900ff__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-10-06_03-20-24__5cccd079-ea63-4f8c-855f-db7ec59900ff__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-10-06_03-20-24__5cccd079-ea63-4f8c-855f-db7ec59900ff__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.39.133
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['56743', '56744', '56745', '56746', '56747']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 56743:56743 -p 56744:56744 -p 56745:56745 -p 56746:56746 -p 56747:56747 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=56745 --rest-port=56743 --tcp-port=56744 --discv5-udp-port=56746 --rest-address=0.0.0.0 --nat=extip:172.18.39.133 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6287b9cbefccaffacfba55f8c1deb1ab9f652a99de0a3d59cd4cabd6ab47cd74 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --lightpush=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.39.133 waku 834c8a7f77aa7463f77899dc7a3c1c908ce6d3633e94b7cd434c0a1ec2d726b1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 834c8a7f77aa. Setting up logs at ./log/docker/node1_2024-10-06_03-20-24__5cccd079-ea63-4f8c-855f-db7ec59900ff__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 56743
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56743/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QIo2dJtwE_EOaPr0sDgdBeI3jXR-E2x2yOJ6diju0X7JTlhPQW1ZXxy_D_7_UaSP-OScWItiLqL0I-iMhsOwifqGAZJf17L5gmlkgnY0gmlwhKwRAAWJc2VjcDI1NmsxoQOWJmheRHhdE1BfPVGWP7DIfAEcpKlJVNNlHktKqzaTv4N0Y3CC3aiDdWRwgt2qhXdha3UyCQ","listenAddresses":["/ip4/127.0.0.1/tcp/56744/p2p/16Uiu2HAmNm7UQFjyLHWhpUVUQPP5FZDCSyA2sqH6FE8y8PCVC68W","/ip4/127.0.0.1/tcp/56745/ws/p2p/16Uiu2HAmNm7UQFjyLHWhpUVUQPP5FZDCSyA2sqH6FE8y8PCVC68W","/ip4/172.17.0.5/tcp/56744/p2p/16Uiu2HAmNm7UQFjyLHWhpUVUQPP5FZDCSyA2sqH6FE8y8PCVC68W","/ip4/172.17.0.5/tcp/56745/ws/p2p/16Uiu2HAmNm7UQFjyLHWhpUVUQPP5FZDCSyA2sqH6FE8y8PCVC68W"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.51.82
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['48352', '48353', '48354', '48355', '48356']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 48352:48352 -p 48353:48353 -p 48354:48354 -p 48355:48355 -p 48356:48356 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=48354 --rest-port=48352 --tcp-port=48353 --discv5-udp-port=48355 --rest-address=0.0.0.0 --nat=extip:172.18.51.82 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bbbdc3776fbf43beede3be33e14d791cef1b7c28caaaed7baa759a99c8c19f0f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=48356 --metrics-logging=true --lightpush=true --store=true --relay=true --discv5-bootstrap-node=enr:-Ji4QIo2dJtwE_EOaPr0sDgdBeI3jXR-E2x2yOJ6diju0X7JTlhPQW1ZXxy_D_7_UaSP-OScWItiLqL0I-iMhsOwifqGAZJf17L5gmlkgnY0gmlwhKwRAAWJc2VjcDI1NmsxoQOWJmheRHhdE1BfPVGWP7DIfAEcpKlJVNNlHktKqzaTv4N0Y3CC3aiDdWRwgt2qhXdha3UyCQ --lightpushnode=/ip4/172.18.39.133/tcp/56744/p2p/16Uiu2HAmNm7UQFjyLHWhpUVUQPP5FZDCSyA2sqH6FE8y8PCVC68W
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.51.82 waku 0eb4a074e086505294167f2154c5b391b91ab3fe7eb8a5cb94e75a32f9110391
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 0eb4a074e086. Setting up logs at ./log/docker/node2_2024-10-06_03-20-24__5cccd079-ea63-4f8c-855f-db7ec59900ff__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 48352
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48352/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48352/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.51.82/tcp/48353/p2p/16Uiu2HAmMQoEcrLgeDCTvKGRjcDue1qkj2dRCZyiHjfVeBapxze6","/ip4/172.18.51.82/tcp/48354/ws/p2p/16Uiu2HAmMQoEcrLgeDCTvKGRjcDue1qkj2dRCZyiHjfVeBapxze6"],"enrUri":"enr:-LO4QN8HzyVZyXXku2lyNtqpK6NI5bgG-nf5tcpZ8rrCiue5Qtwr9RG2HGJhP3iTYzlZMe_ZkR1JCHeKhYIaCpeP8ZUBgmlkgnY0gmlwhKwSM1KKbXVsdGlhZGRyc4wACgSsEjNSBrzi3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOCFnu0YXb0Ar6Xtssji6jeFlHS_y_sTa7nYYJsmR22k4N0Y3CCvOGDdWRwgrzjhXdha3UyCw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.145.122
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['16134', '16135', '16136', '16137', '16138']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 16134:16134 -p 16135:16135 -p 16136:16136 -p 16137:16137 -p 16138:16138 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=16136 --rest-port=16134 --tcp-port=16135 --discv5-udp-port=16137 --rest-address=0.0.0.0 --nat=extip:172.18.145.122 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7a1da3b77d3af749c9f50a9db0ff975d7dc8a5ddaadf9e59e82662f776afc656 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --storenode=/ip4/172.18.51.82/tcp/48353/p2p/16Uiu2HAmMQoEcrLgeDCTvKGRjcDue1qkj2dRCZyiHjfVeBapxze6 --discv5-bootstrap-node=enr:-LO4QN8HzyVZyXXku2lyNtqpK6NI5bgG-nf5tcpZ8rrCiue5Qtwr9RG2HGJhP3iTYzlZMe_ZkR1JCHeKhYIaCpeP8ZUBgmlkgnY0gmlwhKwSM1KKbXVsdGlhZGRyc4wACgSsEjNSBrzi3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOCFnu0YXb0Ar6Xtssji6jeFlHS_y_sTa7nYYJsmR22k4N0Y3CCvOGDdWRwgrzjhXdha3UyCw
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.145.122 waku 1bb25e9ee37356fa23f1f8cf6a1abcb782944005ef8d0b567346fbba2a3b7822
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 1bb25e9ee373. Setting up logs at ./log/docker/node3_2024-10-06_03-20-24__5cccd079-ea63-4f8c-855f-db7ec59900ff__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 16134
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16134/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QMiagLGaAh5o2mAeM4O6fdnU9JelNybzKLz1GtjDzVwAd13Nm7nI1HaGWbYbjDkJ9JOABc5bDEw4A_vA438yquaGAZJf171tgmlkgnY0gmlwhKwRAAOJc2VjcDI1NmsxoQJL_n8bxXWEtxiTnhR6ySV0MXLJh8l2kj4wEdG_cZLGxYN0Y3CCPweDdWRwgj8JhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/16135/p2p/16Uiu2HAkzYKdoYo73ATEFak2b22JF4XTLeyPgaCSxamqTLbh7WZ2","/ip4/127.0.0.1/tcp/16136/ws/p2p/16Uiu2HAkzYKdoYo73ATEFak2b22JF4XTLeyPgaCSxamqTLbh7WZ2","/ip4/172.17.0.3/tcp/16135/p2p/16Uiu2HAkzYKdoYo73ATEFak2b22JF4XTLeyPgaCSxamqTLbh7WZ2","/ip4/172.17.0.3/tcp/16136/ws/p2p/16Uiu2HAkzYKdoYo73ATEFak2b22JF4XTLeyPgaCSxamqTLbh7WZ2"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56743/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48352/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56743/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56743/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56743/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56743/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"id":"16Uiu2HAmMQoEcrLgeDCTvKGRjcDue1qkj2dRCZyiHjfVeBapxze6","multiaddrs":["/ip4/172.18.51.82/tcp/48353/p2p/16Uiu2HAmMQoEcrLgeDCTvKGRjcDue1qkj2dRCZyiHjfVeBapxze6","/ip4/172.18.51.82/tcp/48354/ws/p2p/16Uiu2HAmMQoEcrLgeDCTvKGRjcDue1qkj2dRCZyiHjfVeBapxze6"],"protocols":["/vac/waku/lightpush/2.0.0-beta1","/vac/waku/relay/2.0.0","/vac/waku/store/2.0.0-beta4","/vac/waku/store-query/3.0.0"],"connected":true,"pubsubTopics":["/waku/2/rs/3/0","/waku/2/rs/3/1"]}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48352/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"multiaddr":"/ip4/172.17.0.5/tcp/56744/p2p/16Uiu2HAmNm7UQFjyLHWhpUVUQPP5FZDCSyA2sqH6FE8y8PCVC68W","protocols":[{"protocol":"/vac/waku/relay/2.0.0","connected":true},{"protocol":"/vac/waku/lightpush/2.0.0-beta1","connected":true},{"protocol":"/vac/waku/peer-exchange/2.0.0-alpha1","connected":true}],"origin":"Discv5"},{"multiaddr":"/ip4/172.17.0.3/tcp/16135/p2p/16Uiu2HAkzYKdoYo73ATEFak2b22JF4XTLeyPgaCSxamqTLbh7WZ2","protocols":[{"protocol":"/vac/waku/peer-exchange/2.0.0-alpha1","connected":true}],"origin":"UnknownOrigin"}]'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 30 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56743/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/1", "message": {"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": 1728184861289702400}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16134/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F1&contentTopics=%2Ftest%2F1%2Fwaku-filter%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"148249ca996ee312bc1d80fea0ae2c1b9e6a0b922650c3b79531e76cabdc40dc","status_code":200,"status_desc":"OK","messages":[{"message_hash":"ani5fJGE4a6cYLwnzFG129vhaGAFOiamcxalPiEeAyo="}]}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 834c8a7f77aa
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 0eb4a074e086
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 1bb25e9ee373
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:114 Found matches for keyword 'stacktrace': ['FAT 2024-10-06 03:21:02.879+00:00 Shutting down after receiving SIGSEGV      topics="wakunode main" tid=1 file=wakunode2.nim:124 stacktrace="/app/vendor/nim-chronicles/chronicles.nim(170) _ZN9wakunode213handleSigsegvE5int32\\n"', '/app/vendor/nimbus-build-system/vendor/Nim/lib/system/excpt.nim(526) _ZN6system15writeStackTraceE', '/app/vendor/nimbus-build-system/vendor/Nim/lib/system/excpt.nim(330) _ZN6system18rawWriteStackTraceE3varI6stringE', '/app/vendor/nimbus-build-system/vendor/Nim/lib/system/stacktraces.nim(59) _ZN11stacktraces30auxWriteStackTraceWithOverrideE3varI6stringE']
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:114 Found matches for keyword 'SIGSEGV': ['FAT 2024-10-06 03:21:02.879+00:00 Shutting down after receiving SIGSEGV      topics="wakunode main" tid=1 file=wakunode2.nim:124 stacktrace="/app/vendor/nim-chronicles/chronicles.nim(170) _ZN9wakunode213handleSigsegvE5int32\\n"', '/app/apps/wakunode2/wakunode2.nim(127) _ZN9wakunode213handleSigsegvE5int32']
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_store_node_not_connected_directly_to_lightpushing_node with id: 2024-10-06_03-21-04__dc7b3461-8f61-496f-8fc0-d00dc150ac3c
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-10-06_03-21-04__dc7b3461-8f61-496f-8fc0-d00dc150ac3c__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-10-06_03-21-04__dc7b3461-8f61-496f-8fc0-d00dc150ac3c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-10-06_03-21-04__dc7b3461-8f61-496f-8fc0-d00dc150ac3c__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.72.21
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['62046', '62047', '62048', '62049', '62050']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 62046:62046 -p 62047:62047 -p 62048:62048 -p 62049:62049 -p 62050:62050 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=62048 --rest-port=62046 --tcp-port=62047 --discv5-udp-port=62049 --rest-address=0.0.0.0 --nat=extip:172.18.72.21 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9bb4b538dac9dd226db2ecfef3d6fde57c5c882048a75aabfc6cb3a41ae3a4cc --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --lightpush=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.72.21 waku bcca7e30c748035474e26a33607f50e942035f30f195e9ca9dc73c6fcfa2f0e7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID bcca7e30c748. Setting up logs at ./log/docker/node1_2024-10-06_03-21-04__dc7b3461-8f61-496f-8fc0-d00dc150ac3c__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 62046
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62046/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QBkC4Rhzn3cpBzRuJvXUm5yp4pQcvBDFgrN6sR5COZ0xMh03BtOIwWTbHxZQEtbGmHrabv2tfyh_92C_huXL3-WGAZJf2FG0gmlkgnY0gmlwhKwRAAOJc2VjcDI1NmsxoQN3x7F1v67YYZeg3xAvB4ldIPrjcn-e_V8MiJWsW1pED4N0Y3CC8l-DdWRwgvJhhXdha3UyCQ","listenAddresses":["/ip4/127.0.0.1/tcp/62047/p2p/16Uiu2HAmLiZUafpnhWuaT4FrLaNEjAwQbEK3PSwy3w4whLWSge6r","/ip4/127.0.0.1/tcp/62048/ws/p2p/16Uiu2HAmLiZUafpnhWuaT4FrLaNEjAwQbEK3PSwy3w4whLWSge6r","/ip4/172.17.0.3/tcp/62047/p2p/16Uiu2HAmLiZUafpnhWuaT4FrLaNEjAwQbEK3PSwy3w4whLWSge6r","/ip4/172.17.0.3/tcp/62048/ws/p2p/16Uiu2HAmLiZUafpnhWuaT4FrLaNEjAwQbEK3PSwy3w4whLWSge6r"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.17.90
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['42605', '42606', '42607', '42608', '42609']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 42605:42605 -p 42606:42606 -p 42607:42607 -p 42608:42608 -p 42609:42609 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=42607 --rest-port=42605 --tcp-port=42606 --discv5-udp-port=42608 --rest-address=0.0.0.0 --nat=extip:172.18.17.90 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e24644bd6fd94e7631e0f9d82dd8b8cd73bd9bdd946e45b29dfe7bcb03b17a1d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=42609 --metrics-logging=true --lightpush=true --store=true --relay=true --discv5-bootstrap-node=enr:-Ji4QBkC4Rhzn3cpBzRuJvXUm5yp4pQcvBDFgrN6sR5COZ0xMh03BtOIwWTbHxZQEtbGmHrabv2tfyh_92C_huXL3-WGAZJf2FG0gmlkgnY0gmlwhKwRAAOJc2VjcDI1NmsxoQN3x7F1v67YYZeg3xAvB4ldIPrjcn-e_V8MiJWsW1pED4N0Y3CC8l-DdWRwgvJhhXdha3UyCQ --lightpushnode=/ip4/172.18.72.21/tcp/62047/p2p/16Uiu2HAmLiZUafpnhWuaT4FrLaNEjAwQbEK3PSwy3w4whLWSge6r
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.17.90 waku cfdcfe45f0d5c980bd5442fb1b0d6b003aa1a72855a79d989e0f008b90a2a85d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID cfdcfe45f0d5. Setting up logs at ./log/docker/node2_2024-10-06_03-21-04__dc7b3461-8f61-496f-8fc0-d00dc150ac3c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 42605
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42605/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42605/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.17.90/tcp/42606/p2p/16Uiu2HAmHMNJDAPon4YtW6F2JcMgNCMxi2Y11rvG63E9bdqqFqJz","/ip4/172.18.17.90/tcp/42607/ws/p2p/16Uiu2HAmHMNJDAPon4YtW6F2JcMgNCMxi2Y11rvG63E9bdqqFqJz"],"enrUri":"enr:-LO4QMvz85BQ5te7ZTgPsen0Grsh930MtEIU22eIww0FCNv8RMRHlSgNvbP8N3m_au51wE4RtDE1JlVN4yAQ-FWqNs0BgmlkgnY0gmlwhKwSEVqKbXVsdGlhZGRyc4wACgSsEhFaBqZv3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNFxsum6xUa66vL1YswZo0wBHQA66LQMJN22g5ZfhlKA4N0Y3CCpm6DdWRwgqZwhXdha3UyCw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.153.93
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['33449', '33450', '33451', '33452', '33453']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 33449:33449 -p 33450:33450 -p 33451:33451 -p 33452:33452 -p 33453:33453 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=33451 --rest-port=33449 --tcp-port=33450 --discv5-udp-port=33452 --rest-address=0.0.0.0 --nat=extip:172.18.153.93 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=df99536b1b754cf52d09dedd3eccb7dbbe15f16cfe6aae0cd1348d6edeecaefd --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --storenode=/ip4/172.18.17.90/tcp/42606/p2p/16Uiu2HAmHMNJDAPon4YtW6F2JcMgNCMxi2Y11rvG63E9bdqqFqJz --discv5-bootstrap-node=enr:-LO4QMvz85BQ5te7ZTgPsen0Grsh930MtEIU22eIww0FCNv8RMRHlSgNvbP8N3m_au51wE4RtDE1JlVN4yAQ-FWqNs0BgmlkgnY0gmlwhKwSEVqKbXVsdGlhZGRyc4wACgSsEhFaBqZv3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNFxsum6xUa66vL1YswZo0wBHQA66LQMJN22g5ZfhlKA4N0Y3CCpm6DdWRwgqZwhXdha3UyCw
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.153.93 waku 823e985c9de52cf41b85c778071d26c966e1f1495c61804bb108720f4ff110ff
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 823e985c9de5. Setting up logs at ./log/docker/node3_2024-10-06_03-21-04__dc7b3461-8f61-496f-8fc0-d00dc150ac3c__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 33449
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33449/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QEsavnkVABtFuY3BvHQchGUr7a8lVxi-oeD4MX_aJ0bkcDoebM_YDVQzBkp2vjeqB3alU9R8edZ-j-5bY1R7i_OGAZJf2FyNgmlkgnY0gmlwhKwRAAeJc2VjcDI1NmsxoQMW0Bd3Oi19-e4dnHtQkSyVUL8TKIxfvZshAtWJsrHEGYN0Y3CCgqqDdWRwgoKshXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/33450/p2p/16Uiu2HAmEC3MgDGLH1Ms46QSvKWuPeSqQjTxuD1oswKq7xidUQJk","/ip4/127.0.0.1/tcp/33451/ws/p2p/16Uiu2HAmEC3MgDGLH1Ms46QSvKWuPeSqQjTxuD1oswKq7xidUQJk","/ip4/172.17.0.7/tcp/33450/p2p/16Uiu2HAmEC3MgDGLH1Ms46QSvKWuPeSqQjTxuD1oswKq7xidUQJk","/ip4/172.17.0.7/tcp/33451/ws/p2p/16Uiu2HAmEC3MgDGLH1Ms46QSvKWuPeSqQjTxuD1oswKq7xidUQJk"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62046/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42605/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62046/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"id":"16Uiu2HAmHMNJDAPon4YtW6F2JcMgNCMxi2Y11rvG63E9bdqqFqJz","multiaddrs":["/ip4/172.18.17.90/tcp/42606/p2p/16Uiu2HAmHMNJDAPon4YtW6F2JcMgNCMxi2Y11rvG63E9bdqqFqJz","/ip4/172.18.17.90/tcp/42607/ws/p2p/16Uiu2HAmHMNJDAPon4YtW6F2JcMgNCMxi2Y11rvG63E9bdqqFqJz"],"protocols":["/vac/waku/store/2.0.0-beta4","/vac/waku/store-query/3.0.0","/vac/waku/relay/2.0.0","/vac/waku/lightpush/2.0.0-beta1"],"connected":false,"pubsubTopics":["/waku/2/rs/3/0"]},{"id":"16Uiu2HAmEC3MgDGLH1Ms46QSvKWuPeSqQjTxuD1oswKq7xidUQJk","multiaddrs":["/ip4/172.17.0.7/tcp/33450/p2p/16Uiu2HAmEC3MgDGLH1Ms46QSvKWuPeSqQjTxuD1oswKq7xidUQJk","/ip4/172.17.0.7/tcp/33451/ws/p2p/16Uiu2HAmEC3MgDGLH1Ms46QSvKWuPeSqQjTxuD1oswKq7xidUQJk"],"protocols":null,"connected":false,"pubsubTopics":[]}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42605/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"multiaddr":"/ip4/172.17.0.7/tcp/33450/p2p/16Uiu2HAmEC3MgDGLH1Ms46QSvKWuPeSqQjTxuD1oswKq7xidUQJk","protocols":[{"protocol":"/vac/waku/peer-exchange/2.0.0-alpha1","connected":true}],"origin":"UnknownOrigin"}]'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 30 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62046/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/1", "message": {"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": 1728184899040777984}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33449/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F1&contentTopics=%2Ftest%2F1%2Fwaku-filter%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"fd1fea2d8c2441fa5ce3452015c706ce685105c648ac290d62d52f526a5f8b96","status_code":200,"status_desc":"OK","messages":[{"message_hash":"2LoJCE1y/aemWhJInfjcbAXPJAnMfKf43+csE1bB0Dg="}]}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id bcca7e30c748
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id cfdcfe45f0d5
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 823e985c9de5
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.