[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2024-10-06_03-26-29__3d444cf2-bfbc-479a-b2d7-4c95d8cdf376
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-10-06_03-26-29__3d444cf2-bfbc-479a-b2d7-4c95d8cdf376__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.225.156
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['26314', '26315', '26316', '26317', '26318']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 26314:26314 -p 26315:26315 -p 26316:26316 -p 26317:26317 -p 26318:26318 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=26316 --rest-port=26314 --tcp-port=26315 --discv5-udp-port=26317 --rest-address=0.0.0.0 --nat=extip:172.18.225.156 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e1abb3ab8f19b0cdce174ac488f3d4c7edee3ec788ddf95beebebcf29beabe7e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=26318 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.225.156 waku 72a0a1f4f81fcef4dc6058bafe0f4f282d6b330ca7f0dab438daac18fb52b893
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 72a0a1f4f81f. Setting up logs at ./log/docker/node1_2024-10-06_03-26-29__3d444cf2-bfbc-479a-b2d7-4c95d8cdf376__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 26314
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26314/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26314/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.225.156/tcp/26315/p2p/16Uiu2HAmCEHLceL8Cvf1uovSsiQUUBi86N27bHxUX1ydoqwXMb84","/ip4/172.18.225.156/tcp/26316/ws/p2p/16Uiu2HAmCEHLceL8Cvf1uovSsiQUUBi86N27bHxUX1ydoqwXMb84"],"enrUri":"enr:-LO4QFRMDk3E6Xv9pbVyGTNT5JVvgDCEyj3aOieqq9obVCGmGN-YcbpjuC6gO-hC8LLpKbWXGnV53aJi-Yd36S0p2q8BgmlkgnY0gmlwhKwS4ZyKbXVsdGlhZGRyc4wACgSsEuGcBmbM3QOCcnOFAAMBAACJc2VjcDI1NmsxoQL5q7BHGDoJ3YGpqrI5Av1FpAu5plo1BQbdHJ3M0onGIYN0Y3CCZsuDdWRwgmbNhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-10-06_03-26-29__3d444cf2-bfbc-479a-b2d7-4c95d8cdf376__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.188.104
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['33605', '33606', '33607', '33608', '33609']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 33605:33605 -p 33606:33606 -p 33607:33607 -p 33608:33608 -p 33609:33609 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=33607 --rest-port=33605 --tcp-port=33606 --discv5-udp-port=33608 --rest-address=0.0.0.0 --nat=extip:172.18.188.104 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ffcc550aac9f9de545bdfc53beb6c3d04fa12266bcca3aa3b0b8bd465e2ebbe0 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-LO4QFRMDk3E6Xv9pbVyGTNT5JVvgDCEyj3aOieqq9obVCGmGN-YcbpjuC6gO-hC8LLpKbWXGnV53aJi-Yd36S0p2q8BgmlkgnY0gmlwhKwS4ZyKbXVsdGlhZGRyc4wACgSsEuGcBmbM3QOCcnOFAAMBAACJc2VjcDI1NmsxoQL5q7BHGDoJ3YGpqrI5Av1FpAu5plo1BQbdHJ3M0onGIYN0Y3CCZsuDdWRwgmbNhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.188.104 waku d9835aba9ecfc5497da962a17b5b24d11c6c457d497e36f4771b074f7c4ad674
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID d9835aba9ecf. Setting up logs at ./log/docker/node2_2024-10-06_03-26-29__3d444cf2-bfbc-479a-b2d7-4c95d8cdf376__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 33605
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33605/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QIhhfDRs7R8jrVBa7Y0uCiS0v-PEPb2p6w9WKmI8oceTJkZZIlyOsjTVJuVihB8PkimWDZH_0JAomhCCEGHAnomGAZJf3U0YgmlkgnY0gmlwhKwRAAiJc2VjcDI1NmsxoQLxWWImNhluRuoPCfR8aLVN-YJ-A7gqlgVf-o2oDegdzYN0Y3CCg0aDdWRwgoNIhXdha3UyAQ","listenAddresses":["/ip4/127.0.0.1/tcp/33606/p2p/16Uiu2HAmBfoHZLEFQQY8fhvkiEPyi2g229o7zJbSJhRZrMAzwyX2","/ip4/127.0.0.1/tcp/33607/ws/p2p/16Uiu2HAmBfoHZLEFQQY8fhvkiEPyi2g229o7zJbSJhRZrMAzwyX2","/ip4/172.17.0.8/tcp/33606/p2p/16Uiu2HAmBfoHZLEFQQY8fhvkiEPyi2g229o7zJbSJhRZrMAzwyX2","/ip4/172.17.0.8/tcp/33607/ws/p2p/16Uiu2HAmBfoHZLEFQQY8fhvkiEPyi2g229o7zJbSJhRZrMAzwyX2"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33605/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.225.156/tcp/26315/p2p/16Uiu2HAmCEHLceL8Cvf1uovSsiQUUBi86N27bHxUX1ydoqwXMb84", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-10-06_03-26-29__3d444cf2-bfbc-479a-b2d7-4c95d8cdf376__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.10.255
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['50193', '50194', '50195', '50196', '50197']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 50193:50193 -p 50194:50194 -p 50195:50195 -p 50196:50196 -p 50197:50197 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=50195 --rest-port=50193 --tcp-port=50194 --discv5-udp-port=50196 --rest-address=0.0.0.0 --nat=extip:172.18.10.255 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c1157e1aaceffcff1abaea25dd92c0f9912dce1dfec4ff54b5e1bac76b9f78df --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=50197 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QFRMDk3E6Xv9pbVyGTNT5JVvgDCEyj3aOieqq9obVCGmGN-YcbpjuC6gO-hC8LLpKbWXGnV53aJi-Yd36S0p2q8BgmlkgnY0gmlwhKwS4ZyKbXVsdGlhZGRyc4wACgSsEuGcBmbM3QOCcnOFAAMBAACJc2VjcDI1NmsxoQL5q7BHGDoJ3YGpqrI5Av1FpAu5plo1BQbdHJ3M0onGIYN0Y3CCZsuDdWRwgmbNhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.10.255 waku 4cd6661cbe2dd0a711eef48637c14d52af31b2f5245d4205f02ed38f28b1e5f8
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 4cd6661cbe2d. Setting up logs at ./log/docker/node3_2024-10-06_03-26-29__3d444cf2-bfbc-479a-b2d7-4c95d8cdf376__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 50193
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50193/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50193/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.10.255/tcp/50194/p2p/16Uiu2HAmG5aij3g1LBStMqrQLRxfwWhnnR1gsd9SD6yedfSBn7Xw","/ip4/172.18.10.255/tcp/50195/ws/p2p/16Uiu2HAmG5aij3g1LBStMqrQLRxfwWhnnR1gsd9SD6yedfSBn7Xw"],"enrUri":"enr:-LO4QIJrjgSl6TD-OLBoFi-I3K-nvVjRybwri76pTx4XgthzEuv4akW5AFvUEGhpj6ND7iQJXmYbr-A0RHrZuwLItDEBgmlkgnY0gmlwhKwSCv-KbXVsdGlhZGRyc4wACgSsEgr_BsQT3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMy39yspc8iYPI6cm5R1ZLzFLhkAYVw1DP3OumUCH2OooN0Y3CCxBKDdWRwgsQUhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50193/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.225.156/tcp/26315/p2p/16Uiu2HAmCEHLceL8Cvf1uovSsiQUUBi86N27bHxUX1ydoqwXMb84"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-10-06_03-26-29__3d444cf2-bfbc-479a-b2d7-4c95d8cdf376__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.248.175
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['3219', '3220', '3221', '3222', '3223']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 3219:3219 -p 3220:3220 -p 3221:3221 -p 3222:3222 -p 3223:3223 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=3221 --rest-port=3219 --tcp-port=3220 --discv5-udp-port=3222 --rest-address=0.0.0.0 --nat=extip:172.18.248.175 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1411f85a6c0cbfe03b39b0e339ddca4ed1cbb6d807a03750d77eb6c3e1c08ba3 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-LO4QFRMDk3E6Xv9pbVyGTNT5JVvgDCEyj3aOieqq9obVCGmGN-YcbpjuC6gO-hC8LLpKbWXGnV53aJi-Yd36S0p2q8BgmlkgnY0gmlwhKwS4ZyKbXVsdGlhZGRyc4wACgSsEuGcBmbM3QOCcnOFAAMBAACJc2VjcDI1NmsxoQL5q7BHGDoJ3YGpqrI5Av1FpAu5plo1BQbdHJ3M0onGIYN0Y3CCZsuDdWRwgmbNhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.248.175 waku 060fb9a97d4b316cbf581c85eb3a7a867554fe8c60ae312215c905b7fd417a89
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 060fb9a97d4b. Setting up logs at ./log/docker/node4_2024-10-06_03-26-29__3d444cf2-bfbc-479a-b2d7-4c95d8cdf376__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 3219
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3219/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QPHthXBw3qQ6vaPnH84rHRKUuWCIeNYsyVGphXo66uYyOxQXcHaoiRwtyo_n6JZKRmBv8uksIR0K7jmcJ9G6Yp2GAZJf3VlvgmlkgnY0gmlwhKwRABGJc2VjcDI1NmsxoQLtkrvuV4je0FqQ03VAvGpZtTBJ-0UkPyPZrvXx-Tx1_IN0Y3CCDJSDdWRwggyWhXdha3UyAQ","listenAddresses":["/ip4/127.0.0.1/tcp/3220/p2p/16Uiu2HAmBR4NofYcwNz62kMQiy5C5g8CxNeWr3kqmZi3TkwQPScj","/ip4/127.0.0.1/tcp/3221/ws/p2p/16Uiu2HAmBR4NofYcwNz62kMQiy5C5g8CxNeWr3kqmZi3TkwQPScj","/ip4/172.17.0.17/tcp/3220/p2p/16Uiu2HAmBR4NofYcwNz62kMQiy5C5g8CxNeWr3kqmZi3TkwQPScj","/ip4/172.17.0.17/tcp/3221/ws/p2p/16Uiu2HAmBR4NofYcwNz62kMQiy5C5g8CxNeWr3kqmZi3TkwQPScj"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3219/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.225.156/tcp/26315/p2p/16Uiu2HAmCEHLceL8Cvf1uovSsiQUUBi86N27bHxUX1ydoqwXMb84", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-10-06_03-26-29__3d444cf2-bfbc-479a-b2d7-4c95d8cdf376__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.237.124
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['1833', '1834', '1835', '1836', '1837']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 1833:1833 -p 1834:1834 -p 1835:1835 -p 1836:1836 -p 1837:1837 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=1835 --rest-port=1833 --tcp-port=1834 --discv5-udp-port=1836 --rest-address=0.0.0.0 --nat=extip:172.18.237.124 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6baa85e68515bfdd8b1dce77f65fbdf8b9976fda44fcdcba2a6ea0ca29caf88e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=1837 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QFRMDk3E6Xv9pbVyGTNT5JVvgDCEyj3aOieqq9obVCGmGN-YcbpjuC6gO-hC8LLpKbWXGnV53aJi-Yd36S0p2q8BgmlkgnY0gmlwhKwS4ZyKbXVsdGlhZGRyc4wACgSsEuGcBmbM3QOCcnOFAAMBAACJc2VjcDI1NmsxoQL5q7BHGDoJ3YGpqrI5Av1FpAu5plo1BQbdHJ3M0onGIYN0Y3CCZsuDdWRwgmbNhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.237.124 waku 93cf88c2c3fe362ee9b8c949015d6e0715df351a20757a536cd0122707ed7c5a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 93cf88c2c3fe. Setting up logs at ./log/docker/node5_2024-10-06_03-26-29__3d444cf2-bfbc-479a-b2d7-4c95d8cdf376__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 1833
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1833/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1833/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.237.124/tcp/1834/p2p/16Uiu2HAkwpRR44nzXdYrLCEBPC7uWRDxMQzcG4t3tFG5xvs8x6mC","/ip4/172.18.237.124/tcp/1835/ws/p2p/16Uiu2HAkwpRR44nzXdYrLCEBPC7uWRDxMQzcG4t3tFG5xvs8x6mC"],"enrUri":"enr:-LO4QBU-4_K_zu6gGb-kk4wkSIlETJ-pB2IUyY6qxq0328r_Lvn1YGyFwtI8IZcK5ZunP-4zUu0bWDIb98rSbhkBRjYBgmlkgnY0gmlwhKwS7XyKbXVsdGlhZGRyc4wACgSsEu18Bgcr3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIji0OshX5Y5VriuXlDZ4ID7BtP_YEiZZP8KabqSO-lv4N0Y3CCByqDdWRwggcshXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1833/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.225.156/tcp/26315/p2p/16Uiu2HAmCEHLceL8Cvf1uovSsiQUUBi86N27bHxUX1ydoqwXMb84"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26314/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33605/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50193/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3219/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1833/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26314/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26314/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1728185197901125376,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33605/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1728185197901125376,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50193/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1728185197901125376,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3219/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1728185197901125376,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1833/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1728185197901125376,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1833/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26314/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1728185198033615616,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33605/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1728185198033615616,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50193/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1728185198033615616,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3219/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1728185198033615616,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1833/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1728185198033615616,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 72a0a1f4f81f
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id d9835aba9ecf
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 4cd6661cbe2d
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 060fb9a97d4b
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 93cf88c2c3fe
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.