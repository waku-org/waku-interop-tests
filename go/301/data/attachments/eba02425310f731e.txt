[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-10-06_03-21-08__7509e3d5-d2b4-4c39-8aeb-dbe49d1523d2
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-10-06_03-21-08__7509e3d5-d2b4-4c39-8aeb-dbe49d1523d2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.0.224
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['3214', '3215', '3216', '3217', '3218']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 3214:3214 -p 3215:3215 -p 3216:3216 -p 3217:3217 -p 3218:3218 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=3216 --rest-port=3214 --tcp-port=3215 --discv5-udp-port=3217 --rest-address=0.0.0.0 --nat=extip:172.18.0.224 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=059bbd3e4095c7b6aa0b1d34f62fcceb93326b08ddd9cbf1d730eaf2bcaf0f4d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=3218 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.0.224 waku 88bdc0573d28b56f8d5405971c9c4e05074f9c12c2b806da33ce2eb1b68cabdd
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 88bdc0573d28. Setting up logs at ./log/docker/node1_2024-10-06_03-21-08__7509e3d5-d2b4-4c39-8aeb-dbe49d1523d2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 3214
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3214/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3214/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.0.224/tcp/3215/p2p/16Uiu2HAm2SG4AYmPmAnYhZz3jjP1gjjyGi2JFTupTwdN9uFxWfhU","/ip4/172.18.0.224/tcp/3216/ws/p2p/16Uiu2HAm2SG4AYmPmAnYhZz3jjP1gjjyGi2JFTupTwdN9uFxWfhU"],"enrUri":"enr:-LO4QHzc0JXgjSSzF5ru0buZvm_QeNeBqdvvTqEmJWacyGa4Xd2ylwvZCUclROIviivnCtaoOtR9BGOfUKeOYiVW_fkBgmlkgnY0gmlwhKwSAOCKbXVsdGlhZGRyc4wACgSsEgDgBgyQ3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJoKFZvYTTb1_oy6MUNBojgZVJ2HJty5Ex0cAw8DDN-O4N0Y3CCDI-DdWRwggyRhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-10-06_03-21-08__7509e3d5-d2b4-4c39-8aeb-dbe49d1523d2__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.201.171
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['30765', '30766', '30767', '30768', '30769']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 30765:30765 -p 30766:30766 -p 30767:30767 -p 30768:30768 -p 30769:30769 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=30767 --rest-port=30765 --tcp-port=30766 --discv5-udp-port=30768 --rest-address=0.0.0.0 --nat=extip:172.18.201.171 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=faa10715ebb4edaeb9b51d2da8c1ac4a7176ff1a7b9b0afda1fc9bcaf1c3cb88 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-LO4QHzc0JXgjSSzF5ru0buZvm_QeNeBqdvvTqEmJWacyGa4Xd2ylwvZCUclROIviivnCtaoOtR9BGOfUKeOYiVW_fkBgmlkgnY0gmlwhKwSAOCKbXVsdGlhZGRyc4wACgSsEgDgBgyQ3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJoKFZvYTTb1_oy6MUNBojgZVJ2HJty5Ex0cAw8DDN-O4N0Y3CCDI-DdWRwggyRhXdha3UyBQ --filternode=/ip4/172.18.0.224/tcp/3215/p2p/16Uiu2HAm2SG4AYmPmAnYhZz3jjP1gjjyGi2JFTupTwdN9uFxWfhU
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.201.171 waku 30beb3a747a89f3ca79366dd00e4a62f2ea0fe7509b716cb4e0bd9c7f3ab977e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 30beb3a747a8. Setting up logs at ./log/docker/node2_2024-10-06_03-21-08__7509e3d5-d2b4-4c39-8aeb-dbe49d1523d2__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 30765
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30765/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QHsKHhO4F1wwXwB6Hz7M1VurWzIzV3j6Nbt8UlDJF_PqIbkflVPf4uIUX9E7Lgr9sMNUW2v46FXIqihMSDH-tzuGAZJf2GNugmlkgnY0gmlwhKwRAAqJc2VjcDI1NmsxoQKYvmNMHmIKrNlgUO3jOe0gDrhFg5J_I7kOK9jih1oQQoN0Y3CCeC6DdWRwgngwhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/30766/p2p/16Uiu2HAm5hvL6bkPvSFGHHXzZivKQoua9gjW5CoWQmpPz4dB21tm","/ip4/127.0.0.1/tcp/30767/ws/p2p/16Uiu2HAm5hvL6bkPvSFGHHXzZivKQoua9gjW5CoWQmpPz4dB21tm","/ip4/172.17.0.10/tcp/30766/p2p/16Uiu2HAm5hvL6bkPvSFGHHXzZivKQoua9gjW5CoWQmpPz4dB21tm","/ip4/172.17.0.10/tcp/30767/ws/p2p/16Uiu2HAm5hvL6bkPvSFGHHXzZivKQoua9gjW5CoWQmpPz4dB21tm"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30765/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.0.224/tcp/3215/p2p/16Uiu2HAm2SG4AYmPmAnYhZz3jjP1gjjyGi2JFTupTwdN9uFxWfhU", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-10-06_03-21-08__7509e3d5-d2b4-4c39-8aeb-dbe49d1523d2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.212.15
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['36979', '36980', '36981', '36982', '36983']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 36979:36979 -p 36980:36980 -p 36981:36981 -p 36982:36982 -p 36983:36983 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=36981 --rest-port=36979 --tcp-port=36980 --discv5-udp-port=36982 --rest-address=0.0.0.0 --nat=extip:172.18.212.15 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=4dd2e6d13eb2bddb1eb2bea6e95bfeefb52e04ddbcfd151f58f7bb6ae1b2a7f5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=36983 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QHzc0JXgjSSzF5ru0buZvm_QeNeBqdvvTqEmJWacyGa4Xd2ylwvZCUclROIviivnCtaoOtR9BGOfUKeOYiVW_fkBgmlkgnY0gmlwhKwSAOCKbXVsdGlhZGRyc4wACgSsEgDgBgyQ3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJoKFZvYTTb1_oy6MUNBojgZVJ2HJty5Ex0cAw8DDN-O4N0Y3CCDI-DdWRwggyRhXdha3UyBQ --filternode=/ip4/172.18.0.224/tcp/3215/p2p/16Uiu2HAm2SG4AYmPmAnYhZz3jjP1gjjyGi2JFTupTwdN9uFxWfhU
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.212.15 waku f46322d5a84f5617c0413b9a0f1cbb9254c36072046cab1b6e0162b13d0aa8ea
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID f46322d5a84f. Setting up logs at ./log/docker/node3_2024-10-06_03-21-08__7509e3d5-d2b4-4c39-8aeb-dbe49d1523d2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 36979
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36979/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36979/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.212.15/tcp/36980/p2p/16Uiu2HAmHfB3PJQNid5kmkfB9VRxTafwhUqYUJXXrvcj8ofosVMD","/ip4/172.18.212.15/tcp/36981/ws/p2p/16Uiu2HAmHfB3PJQNid5kmkfB9VRxTafwhUqYUJXXrvcj8ofosVMD"],"enrUri":"enr:-LO4QJ2hieC5_CcQyP4SvoqtqF_kNdnNuluMvjE4--wuecjLE5TgKs4RLctMuUvJO04oI8b8h1T3G-IeVzg_8VeZw8QBgmlkgnY0gmlwhKwS1A-KbXVsdGlhZGRyc4wACgSsEtQPBpB13QOCcnOFAAMBAACJc2VjcDI1NmsxoQNKVoX4imgNVSekliMZgzRGryIHcoGkIGYLYqMiQWL79IN0Y3CCkHSDdWRwgpB2hXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36979/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.0.224/tcp/3215/p2p/16Uiu2HAm2SG4AYmPmAnYhZz3jjP1gjjyGi2JFTupTwdN9uFxWfhU"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-10-06_03-21-08__7509e3d5-d2b4-4c39-8aeb-dbe49d1523d2__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.63.162
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['13454', '13455', '13456', '13457', '13458']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 13454:13454 -p 13455:13455 -p 13456:13456 -p 13457:13457 -p 13458:13458 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=13456 --rest-port=13454 --tcp-port=13455 --discv5-udp-port=13457 --rest-address=0.0.0.0 --nat=extip:172.18.63.162 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6833898dad64875eeab6fee448ec47ea3bea6fadf6aaaea53a70cf1fca27dfef --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-LO4QHzc0JXgjSSzF5ru0buZvm_QeNeBqdvvTqEmJWacyGa4Xd2ylwvZCUclROIviivnCtaoOtR9BGOfUKeOYiVW_fkBgmlkgnY0gmlwhKwSAOCKbXVsdGlhZGRyc4wACgSsEgDgBgyQ3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJoKFZvYTTb1_oy6MUNBojgZVJ2HJty5Ex0cAw8DDN-O4N0Y3CCDI-DdWRwggyRhXdha3UyBQ --filternode=/ip4/172.18.0.224/tcp/3215/p2p/16Uiu2HAm2SG4AYmPmAnYhZz3jjP1gjjyGi2JFTupTwdN9uFxWfhU
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.63.162 waku b0b783477fb27f73b114eb274db2d3ba6e925f767ed93f04e545ef9f2f9acbb6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID b0b783477fb2. Setting up logs at ./log/docker/node4_2024-10-06_03-21-08__7509e3d5-d2b4-4c39-8aeb-dbe49d1523d2__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 13454
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13454/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QIYwh6wDJkqMZL3a6eSM1goWTD0EgmGPM5jAhh4iEJiAODDlqoMvFbIBGhqqrpHo7alePK6btypREKly08efenGGAZJf2G4lgmlkgnY0gmlwhKwRABSJc2VjcDI1NmsxoQJ-TRQ78G_zbndmDA1cQlNcfRuvCp1jj18eAa7gi1UYjYN0Y3CCNI-DdWRwgjSRhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/13455/p2p/16Uiu2HAm3vhX4DDRbNrYDBg4Qk3MP5Cm8JzBTL17H7SigF7QPrqi","/ip4/127.0.0.1/tcp/13456/ws/p2p/16Uiu2HAm3vhX4DDRbNrYDBg4Qk3MP5Cm8JzBTL17H7SigF7QPrqi","/ip4/172.17.0.20/tcp/13455/p2p/16Uiu2HAm3vhX4DDRbNrYDBg4Qk3MP5Cm8JzBTL17H7SigF7QPrqi","/ip4/172.17.0.20/tcp/13456/ws/p2p/16Uiu2HAm3vhX4DDRbNrYDBg4Qk3MP5Cm8JzBTL17H7SigF7QPrqi"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13454/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.0.224/tcp/3215/p2p/16Uiu2HAm2SG4AYmPmAnYhZz3jjP1gjjyGi2JFTupTwdN9uFxWfhU", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-10-06_03-21-08__7509e3d5-d2b4-4c39-8aeb-dbe49d1523d2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.115.232
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['5637', '5638', '5639', '5640', '5641']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 5637:5637 -p 5638:5638 -p 5639:5639 -p 5640:5640 -p 5641:5641 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=5639 --rest-port=5637 --tcp-port=5638 --discv5-udp-port=5640 --rest-address=0.0.0.0 --nat=extip:172.18.115.232 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a38d6bda26ad01f6c7b79a9b2bdb2d2a0feaeac8fca1cec69bd65ced420ca89d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=5641 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QHzc0JXgjSSzF5ru0buZvm_QeNeBqdvvTqEmJWacyGa4Xd2ylwvZCUclROIviivnCtaoOtR9BGOfUKeOYiVW_fkBgmlkgnY0gmlwhKwSAOCKbXVsdGlhZGRyc4wACgSsEgDgBgyQ3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJoKFZvYTTb1_oy6MUNBojgZVJ2HJty5Ex0cAw8DDN-O4N0Y3CCDI-DdWRwggyRhXdha3UyBQ --filternode=/ip4/172.18.0.224/tcp/3215/p2p/16Uiu2HAm2SG4AYmPmAnYhZz3jjP1gjjyGi2JFTupTwdN9uFxWfhU
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.115.232 waku 6a7168d74b4a30882125cc540ebe98a205db512580181e9f7883a3f7f2dc8a11
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 6a7168d74b4a. Setting up logs at ./log/docker/node5_2024-10-06_03-21-08__7509e3d5-d2b4-4c39-8aeb-dbe49d1523d2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 5637
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5637/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5637/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.115.232/tcp/5638/p2p/16Uiu2HAmTLGsoiZExFnaaCH5aDu2TYJF5srfxJmVR9CAKmWWEGgr","/ip4/172.18.115.232/tcp/5639/ws/p2p/16Uiu2HAmTLGsoiZExFnaaCH5aDu2TYJF5srfxJmVR9CAKmWWEGgr"],"enrUri":"enr:-LO4QIEE52yNlBHSrULhGIkqyHi3DC0SmbI2ZnYv5R4XNiKNCpguLUM5OPt3XXLfZGR6jS0KfDODsmADYdSYs7IaaKkBgmlkgnY0gmlwhKwSc-iKbXVsdGlhZGRyc4wACgSsEnPoBhYH3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPaE_Rm2PgZHi5mjyUnqvL29djT6EpZMV0bMf2kBK2HG4N0Y3CCFgaDdWRwghYIhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5637/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.0.224/tcp/3215/p2p/16Uiu2HAm2SG4AYmPmAnYhZz3jjP1gjjyGi2JFTupTwdN9uFxWfhU"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3214/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30765/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "b04ecca1-977c-46ae-b40a-357371943eed", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"b04ecca1-977c-46ae-b40a-357371943eed","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36979/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "06458b20-b164-4b49-b994-d90ce92df3aa", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"06458b20-b164-4b49-b994-d90ce92df3aa","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13454/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "70371139-ec52-41fc-a46f-afeb0193d7f0", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"70371139-ec52-41fc-a46f-afeb0193d7f0","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5637/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "ea7350ed-20f3-45df-821b-a4ffc13cea56", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"ea7350ed-20f3-45df-821b-a4ffc13cea56","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3214/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30765/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1728184874897064448,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3214/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36979/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:36979/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 88bdc0573d28
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 30beb3a747a8
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id f46322d5a84f
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id b0b783477fb2
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 6a7168d74b4a
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.