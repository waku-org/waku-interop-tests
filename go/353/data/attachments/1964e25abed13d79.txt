[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_all_nodes_subscribed_to_the_topic with id: 2024-11-10_07-15-32__42616d4e-a370-471d-a19a-c0b8b512e1d6
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-10_07-15-32__42616d4e-a370-471d-a19a-c0b8b512e1d6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.111.106
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['2396', '2397', '2398', '2399', '2400']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 2396:2396 -p 2397:2397 -p 2398:2398 -p 2399:2399 -p 2400:2400 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=2398 --rest-port=2396 --tcp-port=2397 --discv5-udp-port=2399 --rest-address=0.0.0.0 --nat=extip:172.18.111.106 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d0deeafdbc07dde7dcbd64dc06a8d9ea346de7b11b70f91cf845bd51b0dd54f9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=2400 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.111.106 waku bba843cd959ab746c42e44a27c513d6e7b2dd55fe7b15ec83a22a8f8bd303b0d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID bba843cd959a. Setting up logs at ./log/docker/node1_2024-11-10_07-15-32__42616d4e-a370-471d-a19a-c0b8b512e1d6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 2396
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 138aae62e6f9. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2396/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2396/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.111.106/tcp/2397/p2p/16Uiu2HAmMNxSdNqKenCtFGMxrvm8aFaYsQQGbiWqotSBkbZB1gic","/ip4/172.18.111.106/tcp/2398/ws/p2p/16Uiu2HAmMNxSdNqKenCtFGMxrvm8aFaYsQQGbiWqotSBkbZB1gic"],"enrUri":"enr:-L24QNtSwcPegbomDgfzqQMjK6xd_VVQ56fwO-zHE1wtVDz8ONiYBVw_2RsCkr9IdmPuXUO54PhEwYhuAJnNpQb-i60CgmlkgnY0gmlwhKwSb2qKbXVsdGlhZGRyc5YACASsEm9qBgldAAoErBJvagYJXt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDgZ27Z67YBziZn6rswGG1cxIp087Vs4G6u3qN_A6KqImDdGNwggldg3VkcIIJX4V3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-10_07-15-32__42616d4e-a370-471d-a19a-c0b8b512e1d6__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.183.6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['12363', '12364', '12365', '12366', '12367']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 12363:12363 -p 12364:12364 -p 12365:12365 -p 12366:12366 -p 12367:12367 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=12365 --rest-port=12363 --tcp-port=12364 --discv5-udp-port=12366 --rest-address=0.0.0.0 --nat=extip:172.18.183.6 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d76fb1173ed330749f0ee3f6663d9b4cd0711abf0da6fe6710e3ac72444080b2 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QNtSwcPegbomDgfzqQMjK6xd_VVQ56fwO-zHE1wtVDz8ONiYBVw_2RsCkr9IdmPuXUO54PhEwYhuAJnNpQb-i60CgmlkgnY0gmlwhKwSb2qKbXVsdGlhZGRyc5YACASsEm9qBgldAAoErBJvagYJXt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDgZ27Z67YBziZn6rswGG1cxIp087Vs4G6u3qN_A6KqImDdGNwggldg3VkcIIJX4V3YWt1MgU --filternode=/ip4/172.18.111.106/tcp/2397/p2p/16Uiu2HAmMNxSdNqKenCtFGMxrvm8aFaYsQQGbiWqotSBkbZB1gic
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.183.6 waku 8bdd8dc7328595d6119aeed9110472a99fc28889ea8b8ffaf9cc5b448a4c1197
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 8bdd8dc73285. Setting up logs at ./log/docker/node2_2024-11-10_07-15-32__42616d4e-a370-471d-a19a-c0b8b512e1d6__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/go-waku:latest. REST: 12363
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12363/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QLhwoVIyiaqOXO55mt9XBnb7nPjnVRtSZIPBtfb7VcfOAFSjGHdZgJvnKHMf--4c7pRtG6u4FPLivn0vIs03uCiGAZMU7ZUfgmlkgnY0gmlwhKwRABiJc2VjcDI1NmsxoQKKrEUshwdlu9xWkiFgWJmtntsDacy3uDvIyWzomn1dbYN0Y3CCMEyDdWRwgjBOhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/12364/p2p/16Uiu2HAm4kzbh61ZY6etp9AyNhoGQR9HFegWEQ5JxtaJcWmne9R6","/ip4/127.0.0.1/tcp/12365/ws/p2p/16Uiu2HAm4kzbh61ZY6etp9AyNhoGQR9HFegWEQ5JxtaJcWmne9R6","/ip4/172.17.0.24/tcp/12364/p2p/16Uiu2HAm4kzbh61ZY6etp9AyNhoGQR9HFegWEQ5JxtaJcWmne9R6","/ip4/172.17.0.24/tcp/12365/ws/p2p/16Uiu2HAm4kzbh61ZY6etp9AyNhoGQR9HFegWEQ5JxtaJcWmne9R6"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12363/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.111.106/tcp/2397/p2p/16Uiu2HAmMNxSdNqKenCtFGMxrvm8aFaYsQQGbiWqotSBkbZB1gic", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-10_07-15-32__42616d4e-a370-471d-a19a-c0b8b512e1d6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.142.43
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['49553', '49554', '49555', '49556', '49557']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 49553:49553 -p 49554:49554 -p 49555:49555 -p 49556:49556 -p 49557:49557 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=49555 --rest-port=49553 --tcp-port=49554 --discv5-udp-port=49556 --rest-address=0.0.0.0 --nat=extip:172.18.142.43 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=caa0bbc5b9c746c7de97fcf1ebfb0c04b81e0ff1cfdffbbd3c4108f3bbf7bc19 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=49557 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QNtSwcPegbomDgfzqQMjK6xd_VVQ56fwO-zHE1wtVDz8ONiYBVw_2RsCkr9IdmPuXUO54PhEwYhuAJnNpQb-i60CgmlkgnY0gmlwhKwSb2qKbXVsdGlhZGRyc5YACASsEm9qBgldAAoErBJvagYJXt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDgZ27Z67YBziZn6rswGG1cxIp087Vs4G6u3qN_A6KqImDdGNwggldg3VkcIIJX4V3YWt1MgU --filternode=/ip4/172.18.111.106/tcp/2397/p2p/16Uiu2HAmMNxSdNqKenCtFGMxrvm8aFaYsQQGbiWqotSBkbZB1gic
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.142.43 waku 0b7803fcfb3078728e3c4a5b37e0772fcd54bd307e41c1beca89119aaf73bee9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 0b7803fcfb30. Setting up logs at ./log/docker/node3_2024-11-10_07-15-32__42616d4e-a370-471d-a19a-c0b8b512e1d6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 49553
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49553/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49553/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.142.43/tcp/49554/p2p/16Uiu2HAmJZdyqZF1vUcT56poD6XHGRJ3LkzaymZZzBWCjTPLk4qg","/ip4/172.18.142.43/tcp/49555/ws/p2p/16Uiu2HAmJZdyqZF1vUcT56poD6XHGRJ3LkzaymZZzBWCjTPLk4qg"],"enrUri":"enr:-L24QHK-cZq_90k8L6gxhnGaQMJxVYNrg6kd9dWElrn8OJ2mddx1uVihFUduuOd1beAU0XP7yVY5V_OEI7jSv-qlGi0CgmlkgnY0gmlwhKwSjiuKbXVsdGlhZGRyc5YACASsEo4rBsGSAAoErBKOKwbBk90DgnJzhQADAQAAiXNlY3AyNTZrMaEDV8cva8ksTEJIgbq67ZGZhpbhP3CDkJlU30VXWz_mk5uDdGNwgsGSg3VkcILBlIV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49553/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.111.106/tcp/2397/p2p/16Uiu2HAmMNxSdNqKenCtFGMxrvm8aFaYsQQGbiWqotSBkbZB1gic"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-10_07-15-32__42616d4e-a370-471d-a19a-c0b8b512e1d6__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.159.42
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['23867', '23868', '23869', '23870', '23871']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 23867:23867 -p 23868:23868 -p 23869:23869 -p 23870:23870 -p 23871:23871 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=23869 --rest-port=23867 --tcp-port=23868 --discv5-udp-port=23870 --rest-address=0.0.0.0 --nat=extip:172.18.159.42 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0ff27b4b836e4fbf2fa8b1af99cb9f4ee28e03fe9f271df36babe6eebea7053e --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QNtSwcPegbomDgfzqQMjK6xd_VVQ56fwO-zHE1wtVDz8ONiYBVw_2RsCkr9IdmPuXUO54PhEwYhuAJnNpQb-i60CgmlkgnY0gmlwhKwSb2qKbXVsdGlhZGRyc5YACASsEm9qBgldAAoErBJvagYJXt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDgZ27Z67YBziZn6rswGG1cxIp087Vs4G6u3qN_A6KqImDdGNwggldg3VkcIIJX4V3YWt1MgU --filternode=/ip4/172.18.111.106/tcp/2397/p2p/16Uiu2HAmMNxSdNqKenCtFGMxrvm8aFaYsQQGbiWqotSBkbZB1gic
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.159.42 waku ecafb3b9699fc542030e95ea3b1c867bd76e485c4f6fc3a8509346a59731ad11
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID ecafb3b9699f. Setting up logs at ./log/docker/node4_2024-11-10_07-15-32__42616d4e-a370-471d-a19a-c0b8b512e1d6__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/go-waku:latest. REST: 23867
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23867/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QLWUkmRLVKEfLNtr3OuWwTIP_yNQ2amHg02zKCHtHsBCY-NNtu3YNhGgWz_N8J6Uy44-UDUc1eO1o7OB0bp-BgSGAZMU7aF_gmlkgnY0gmlwhKwRACWJc2VjcDI1NmsxoQPow9Thjmy1ZNq674iFwpO2hSzuw_KlhDmHeLUHSswVAoN0Y3CCXTyDdWRwgl0-hXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/23868/p2p/16Uiu2HAmUKc8YjRr125FZJ5gYuMxuN4oKBrbX2ZTmpFqdHQ41itZ","/ip4/127.0.0.1/tcp/23869/ws/p2p/16Uiu2HAmUKc8YjRr125FZJ5gYuMxuN4oKBrbX2ZTmpFqdHQ41itZ","/ip4/172.17.0.37/tcp/23868/p2p/16Uiu2HAmUKc8YjRr125FZJ5gYuMxuN4oKBrbX2ZTmpFqdHQ41itZ","/ip4/172.17.0.37/tcp/23869/ws/p2p/16Uiu2HAmUKc8YjRr125FZJ5gYuMxuN4oKBrbX2ZTmpFqdHQ41itZ"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23867/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.111.106/tcp/2397/p2p/16Uiu2HAmMNxSdNqKenCtFGMxrvm8aFaYsQQGbiWqotSBkbZB1gic", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-10_07-15-32__42616d4e-a370-471d-a19a-c0b8b512e1d6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.146.245
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['35500', '35501', '35502', '35503', '35504']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 35500:35500 -p 35501:35501 -p 35502:35502 -p 35503:35503 -p 35504:35504 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=35502 --rest-port=35500 --tcp-port=35501 --discv5-udp-port=35503 --rest-address=0.0.0.0 --nat=extip:172.18.146.245 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d8c3e1aaf4dab43ffecb3dbefa05bf1bebf2b9ee6480e95dda19fac91ec169ac --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=35504 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QNtSwcPegbomDgfzqQMjK6xd_VVQ56fwO-zHE1wtVDz8ONiYBVw_2RsCkr9IdmPuXUO54PhEwYhuAJnNpQb-i60CgmlkgnY0gmlwhKwSb2qKbXVsdGlhZGRyc5YACASsEm9qBgldAAoErBJvagYJXt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDgZ27Z67YBziZn6rswGG1cxIp087Vs4G6u3qN_A6KqImDdGNwggldg3VkcIIJX4V3YWt1MgU --filternode=/ip4/172.18.111.106/tcp/2397/p2p/16Uiu2HAmMNxSdNqKenCtFGMxrvm8aFaYsQQGbiWqotSBkbZB1gic
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.146.245 waku 69b70e3aed856508d77a4957160c22a0589d8211182879a351c60e6c327b484e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 69b70e3aed85. Setting up logs at ./log/docker/node5_2024-11-10_07-15-32__42616d4e-a370-471d-a19a-c0b8b512e1d6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 35500
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35500/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35500/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.146.245/tcp/35501/p2p/16Uiu2HAkxd68A4ZC7boAsicNLppXDKKp2iFHWE7DKEb2rx4DWGa2","/ip4/172.18.146.245/tcp/35502/ws/p2p/16Uiu2HAkxd68A4ZC7boAsicNLppXDKKp2iFHWE7DKEb2rx4DWGa2"],"enrUri":"enr:-L24QCtz1IdFQVnoscVADS5QTwEV_ZVor4xtZYqHzHVwQeoJa-sOCLTpPLPXgn58bwhZr5HBAbxW0wQr9Fi3dHR3LLACgmlkgnY0gmlwhKwSkvWKbXVsdGlhZGRyc5YACASsEpL1BoqtAAoErBKS9QaKrt0DgnJzhQADAQAAiXNlY3AyNTZrMaECL3-_5olxWcSLCr54TdMB5mdVH3lpdqVK7OyAhxI-8_-DdGNwgoqtg3VkcIKKr4V3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35500/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.111.106/tcp/2397/p2p/16Uiu2HAmMNxSdNqKenCtFGMxrvm8aFaYsQQGbiWqotSBkbZB1gic"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2396/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12363/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "d9f7ffd4-3958-4caf-af43-58aa4b803638", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"d9f7ffd4-3958-4caf-af43-58aa4b803638","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49553/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "f75a1033-b219-4506-8af6-4e803ca531dc", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"f75a1033-b219-4506-8af6-4e803ca531dc","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23867/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "325a5192-b2bb-47b0-a989-c4d2831892b5", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"325a5192-b2bb-47b0-a989-c4d2831892b5","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35500/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "65062441-11fa-4de4-a11a-147420a38b88", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"65062441-11fa-4de4-a11a-147420a38b88","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2396/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12363/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1731222940952429056,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49553/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1731222940952429056,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_4:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23867/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1731222940952429056,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35500/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1731222940952429056,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id bba843cd959a
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 8bdd8dc73285
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container bba843cd959a. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 0b7803fcfb30
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 8bdd8dc73285. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id ecafb3b9699f
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 0b7803fcfb30. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 69b70e3aed85
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container ecafb3b9699f. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.