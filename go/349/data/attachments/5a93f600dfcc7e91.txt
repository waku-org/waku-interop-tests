[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_message_light_pushed_on_different_pubsub_topic_is_not_retrieved with id: 2024-11-07_14-50-10__37c74e7f-c6fe-4137-9e0c-fd17687b0cab
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:28 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-11-07_14-50-10__37c74e7f-c6fe-4137-9e0c-fd17687b0cab__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.99.82
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['20575', '20576', '20577', '20578', '20579']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 20575:20575 -p 20576:20576 -p 20577:20577 -p 20578:20578 -p 20579:20579 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=20577 --rest-port=20575 --tcp-port=20576 --discv5-udp-port=20578 --rest-address=0.0.0.0 --nat=extip:172.18.99.82 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=04cb5daab0b9b4d00bd34dd6d81d95bef498cac7d14ffc955818a8323ab5c4d6 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=20579 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.99.82 waku 9cc954315064991228932bbd143d4b8e15612a2006bb0456c7f7f92bfe8c54bf
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 9cc954315064. Setting up logs at ./log/docker/receiving_node1_2024-11-07_14-50-10__37c74e7f-c6fe-4137-9e0c-fd17687b0cab__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 20575
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 3b5b56d3b2c6. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20575/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20575/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.99.82/tcp/20576/p2p/16Uiu2HAmBDPcZU29PKuMaXnFn2dM2yQ7xGAbkcW2PTV4sCYqBPSF","/ip4/172.18.99.82/tcp/20577/ws/p2p/16Uiu2HAmBDPcZU29PKuMaXnFn2dM2yQ7xGAbkcW2PTV4sCYqBPSF"],"enrUri":"enr:-L24QMOy-guymBI51R13HFM46tcgiI2F6-4G1CkoeGJqWDVeUHDvjiYbfPPu-SwerRpZSJN3oimqvfUhNw6T7sr2H-8CgmlkgnY0gmlwhKwSY1KKbXVsdGlhZGRyc5YACASsEmNSBlBgAAoErBJjUgZQYd0DgnJzhQADAQAAiXNlY3AyNTZrMaEC6pWEE2iU1z0WcwNh8DpGZMkKv2zYKfuNDWwKRIEpkoCDdGNwglBgg3VkcIJQYoV3YWt1Mgk"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-11-07_14-50-10__37c74e7f-c6fe-4137-9e0c-fd17687b0cab__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.217.221
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['30880', '30881', '30882', '30883', '30884']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 30880:30880 -p 30881:30881 -p 30882:30882 -p 30883:30883 -p 30884:30884 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=30882 --rest-port=30880 --tcp-port=30881 --discv5-udp-port=30883 --rest-address=0.0.0.0 --nat=extip:172.18.217.221 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=35efc07af32cb6b5ec5bd9387efcaa0add711d9a4d431ab4efca563a3facabdf --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=30884 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.217.221 waku 572b79754ef75f274354445712c7e28c251b8e2a8e25d07659afe9dbbb15e425
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 572b79754ef7. Setting up logs at ./log/docker/receiving_node2_2024-11-07_14-50-10__37c74e7f-c6fe-4137-9e0c-fd17687b0cab__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 30880
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30880/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30880/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.217.221/tcp/30881/p2p/16Uiu2HAm3K37EVcEeyo4PEfvsXJ3FNDUKQHus32DtmZNZPShSTvK","/ip4/172.18.217.221/tcp/30882/ws/p2p/16Uiu2HAm3K37EVcEeyo4PEfvsXJ3FNDUKQHus32DtmZNZPShSTvK"],"enrUri":"enr:-L24QBnYnPI14DPPZbWAhHT6IpN6uIXs48GBjlubtTTQfCwEMFOk8zxuRoeYnABtho9yR4_hvFPuV2rvm8aeW1oOK1gCgmlkgnY0gmlwhKwS2d2KbXVsdGlhZGRyc5YACASsEtndBnihAAoErBLZ3QZ4ot0DgnJzhQADAQAAiXNlY3AyNTZrMaECdSpRzu9iXprWwlIgahpzN25hUxPxFbxcmCssWtOzLUSDdGNwgnihg3VkcIJ4o4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30880/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.99.82/tcp/20576/p2p/16Uiu2HAmBDPcZU29PKuMaXnFn2dM2yQ7xGAbkcW2PTV4sCYqBPSF"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-11-07_14-50-10__37c74e7f-c6fe-4137-9e0c-fd17687b0cab__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.17.5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['18803', '18804', '18805', '18806', '18807']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 18803:18803 -p 18804:18804 -p 18805:18805 -p 18806:18806 -p 18807:18807 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=18805 --rest-port=18803 --tcp-port=18804 --discv5-udp-port=18806 --rest-address=0.0.0.0 --nat=extip:172.18.17.5 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2f40b2353b5a18b098ce495516eeb0365cafcb2feb6cc9caf437ca6db7bc0860 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-L24QMOy-guymBI51R13HFM46tcgiI2F6-4G1CkoeGJqWDVeUHDvjiYbfPPu-SwerRpZSJN3oimqvfUhNw6T7sr2H-8CgmlkgnY0gmlwhKwSY1KKbXVsdGlhZGRyc5YACASsEmNSBlBgAAoErBJjUgZQYd0DgnJzhQADAQAAiXNlY3AyNTZrMaEC6pWEE2iU1z0WcwNh8DpGZMkKv2zYKfuNDWwKRIEpkoCDdGNwglBgg3VkcIJQYoV3YWt1Mgk --lightpushnode=/ip4/172.18.99.82/tcp/20576/p2p/16Uiu2HAmBDPcZU29PKuMaXnFn2dM2yQ7xGAbkcW2PTV4sCYqBPSF --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.17.5 waku 94cfc586d46bfb7e222b9204313c1e0347156cc06bf136073f149ca15a79452b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 94cfc586d46b. Setting up logs at ./log/docker/lightpush_node1_2024-11-07_14-50-10__37c74e7f-c6fe-4137-9e0c-fd17687b0cab__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 18803
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18803/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QKh8cL6YO0xx_Lm1KF66m8kkQ2WSj659RufUWhLmC3KAZpJBLd_X81-rkwoqZzryuq8AMVHB8l7IEsu_gJPFvZuGAZMHGsGqgmlkgnY0gmlwhKwRAA2Jc2VjcDI1NmsxoQNBl2C20AenYPIR-4RD-m11REl4nn7obL5BacEK4NaahoN0Y3CCSXSDdWRwgkl2hXdha3UyCA","listenAddresses":["/ip4/127.0.0.1/tcp/18804/p2p/16Uiu2HAmH52jJsWASES2JahgV8kRSvG3ye4E6VkEtNuJvjXDoCi1","/ip4/127.0.0.1/tcp/18805/ws/p2p/16Uiu2HAmH52jJsWASES2JahgV8kRSvG3ye4E6VkEtNuJvjXDoCi1","/ip4/172.17.0.13/tcp/18804/p2p/16Uiu2HAmH52jJsWASES2JahgV8kRSvG3ye4E6VkEtNuJvjXDoCi1","/ip4/172.17.0.13/tcp/18805/ws/p2p/16Uiu2HAmH52jJsWASES2JahgV8kRSvG3ye4E6VkEtNuJvjXDoCi1"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:18803/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.99.82/tcp/20576/p2p/16Uiu2HAmBDPcZU29PKuMaXnFn2dM2yQ7xGAbkcW2PTV4sCYqBPSF", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:18803/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.217.221/tcp/30881/p2p/16Uiu2HAm3K37EVcEeyo4PEfvsXJ3FNDUKQHus32DtmZNZPShSTvK", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20575/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30880/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20575/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9", "/waku/2/rs/3/25", "/waku/2/rs/3/1000"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30880/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9", "/waku/2/rs/3/25", "/waku/2/rs/3/1000"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:18803/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1730991015480307712}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20575/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 9cc954315064
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 572b79754ef7
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 9cc954315064. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 94cfc586d46b
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 572b79754ef7. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.