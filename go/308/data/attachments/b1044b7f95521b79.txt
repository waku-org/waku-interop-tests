[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_multiple_lightpush_nodes with id: 2024-10-13_03-24-49__a92b7ffc-4912-45be-a9b1-d80c08ca3b1a
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-10-13_03-24-49__a92b7ffc-4912-45be-a9b1-d80c08ca3b1a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.225.130
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['54200', '54201', '54202', '54203', '54204']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 54200:54200 -p 54201:54201 -p 54202:54202 -p 54203:54203 -p 54204:54204 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=54202 --rest-port=54200 --tcp-port=54201 --discv5-udp-port=54203 --rest-address=0.0.0.0 --nat=extip:172.18.225.130 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dc3aba7e1f15799a8ceebe2745ecc3bcef1e9d02ea54aa56bdf6d6aaa3ff1c4f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=54204 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.225.130 waku 8cd81fe9e4f49bb1a83e940767181d05a5a6399d54beb52813f02da65503a361
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 8cd81fe9e4f4. Setting up logs at ./log/docker/receiving_node1_2024-10-13_03-24-49__a92b7ffc-4912-45be-a9b1-d80c08ca3b1a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 54200
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54200/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54200/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.225.130/tcp/54201/p2p/16Uiu2HAmMvfM29chmEqSz5gjHXmCsxHV8xLtWrMdftucsV4ZfJKL","/ip4/172.18.225.130/tcp/54202/ws/p2p/16Uiu2HAmMvfM29chmEqSz5gjHXmCsxHV8xLtWrMdftucsV4ZfJKL"],"enrUri":"enr:-LO4QE5BFwTZOC_QPBIJsQeXt8ypSAToy14v-bAbA-0w8r1pH-S6T0_jiGUDm58LGvoaaGkaoNd8PWPfithe_GfedaoBgmlkgnY0gmlwhKwS4YKKbXVsdGlhZGRyc4wACgSsEuGCBtO63QOCcnOFAAMBAACJc2VjcDI1NmsxoQOJvPyWD4UDT-tITOkC_vtwcCt2gAPICUi0-EYHL-urW4N0Y3CC07mDdWRwgtO7hXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-10-13_03-24-49__a92b7ffc-4912-45be-a9b1-d80c08ca3b1a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.6.219
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['14584', '14585', '14586', '14587', '14588']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 14584:14584 -p 14585:14585 -p 14586:14586 -p 14587:14587 -p 14588:14588 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=14586 --rest-port=14584 --tcp-port=14585 --discv5-udp-port=14587 --rest-address=0.0.0.0 --nat=extip:172.18.6.219 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bcd8ee3dc8eaf1d7bfffff6c95ad8a5ef8f902e4ae0c6547f6fc58d64abd0edd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=14588 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.6.219 waku a7aa66f626654b0621343cd6fcb5aa399b7626de78431b7d56eec5ced595011a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID a7aa66f62665. Setting up logs at ./log/docker/receiving_node2_2024-10-13_03-24-49__a92b7ffc-4912-45be-a9b1-d80c08ca3b1a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 14584
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14584/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14584/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.6.219/tcp/14585/p2p/16Uiu2HAmSremAeouPdBQkbzD2WRxhVQuFLctojnV5o9oz6PGfXwQ","/ip4/172.18.6.219/tcp/14586/ws/p2p/16Uiu2HAmSremAeouPdBQkbzD2WRxhVQuFLctojnV5o9oz6PGfXwQ"],"enrUri":"enr:-LO4QCfJ69AtzKnnbxGsQ7wSjg_HH2qv0lqD_LDxfZ3g35sta_r5XNPpZynhCsEFoFS0DDg_2slk-FBErrdAQBgy3m4BgmlkgnY0gmlwhKwSBtuKbXVsdGlhZGRyc4wACgSsEgbbBjj63QOCcnOFAAMBAACJc2VjcDI1NmsxoQPTAHAmzYCStWfu2Oj4TqeR_enpPBgybPnpC2_4HaJj64N0Y3CCOPmDdWRwgjj7hXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14584/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.225.130/tcp/54201/p2p/16Uiu2HAmMvfM29chmEqSz5gjHXmCsxHV8xLtWrMdftucsV4ZfJKL"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-10-13_03-24-49__a92b7ffc-4912-45be-a9b1-d80c08ca3b1a__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.174.124
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['24727', '24728', '24729', '24730', '24731']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 24727:24727 -p 24728:24728 -p 24729:24729 -p 24730:24730 -p 24731:24731 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=24729 --rest-port=24727 --tcp-port=24728 --discv5-udp-port=24730 --rest-address=0.0.0.0 --nat=extip:172.18.174.124 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=974a5d9258f63a4c7da6e61cfd8afaf7dfebceebcb89dcba9abdaae80fcb8d12 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-LO4QE5BFwTZOC_QPBIJsQeXt8ypSAToy14v-bAbA-0w8r1pH-S6T0_jiGUDm58LGvoaaGkaoNd8PWPfithe_GfedaoBgmlkgnY0gmlwhKwS4YKKbXVsdGlhZGRyc4wACgSsEuGCBtO63QOCcnOFAAMBAACJc2VjcDI1NmsxoQOJvPyWD4UDT-tITOkC_vtwcCt2gAPICUi0-EYHL-urW4N0Y3CC07mDdWRwgtO7hXdha3UyCQ --lightpushnode=/ip4/172.18.225.130/tcp/54201/p2p/16Uiu2HAmMvfM29chmEqSz5gjHXmCsxHV8xLtWrMdftucsV4ZfJKL --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.174.124 waku 3b30c24718386f405b2f402bfcaaf329e26dd7078d320c426e6dbbcd59fd4849
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 3b30c2471838. Setting up logs at ./log/docker/lightpush_node1_2024-10-13_03-24-49__a92b7ffc-4912-45be-a9b1-d80c08ca3b1a__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 24727
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24727/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QF2Bz_IZpIfYliM_1r7IxtNNsdmr71KcAQqFpD8nZFqSXN0B9Q8m6loBf3NPVnC04z8vBnd-w8di2caplnvjuAaGAZKD6FNcgmlkgnY0gmlwhKwRAA2Jc2VjcDI1NmsxoQJ8IMFcnquATeOQerNe_FNbLdEABJjZrQvdUhc2bjnTh4N0Y3CCYJiDdWRwgmCahXdha3UyCA","listenAddresses":["/ip4/127.0.0.1/tcp/24728/p2p/16Uiu2HAm3nDWA1R7kJFMcW3PRKmuHdXwrT5XA18PU9LomXzLRQra","/ip4/127.0.0.1/tcp/24729/ws/p2p/16Uiu2HAm3nDWA1R7kJFMcW3PRKmuHdXwrT5XA18PU9LomXzLRQra","/ip4/172.17.0.13/tcp/24728/p2p/16Uiu2HAm3nDWA1R7kJFMcW3PRKmuHdXwrT5XA18PU9LomXzLRQra","/ip4/172.17.0.13/tcp/24729/ws/p2p/16Uiu2HAm3nDWA1R7kJFMcW3PRKmuHdXwrT5XA18PU9LomXzLRQra"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24727/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.225.130/tcp/54201/p2p/16Uiu2HAmMvfM29chmEqSz5gjHXmCsxHV8xLtWrMdftucsV4ZfJKL", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24727/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.6.219/tcp/14585/p2p/16Uiu2HAmSremAeouPdBQkbzD2WRxhVQuFLctojnV5o9oz6PGfXwQ", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node2_2024-10-13_03-24-49__a92b7ffc-4912-45be-a9b1-d80c08ca3b1a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.17.61
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['2453', '2454', '2455', '2456', '2457']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 2453:2453 -p 2454:2454 -p 2455:2455 -p 2456:2456 -p 2457:2457 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=2455 --rest-port=2453 --tcp-port=2454 --discv5-udp-port=2456 --rest-address=0.0.0.0 --nat=extip:172.18.17.61 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f1f91d8f43aabb4ccb7de1dc70e833ea1ceecca85d8c64da2004ed86bd48c7fa --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=2457 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QE5BFwTZOC_QPBIJsQeXt8ypSAToy14v-bAbA-0w8r1pH-S6T0_jiGUDm58LGvoaaGkaoNd8PWPfithe_GfedaoBgmlkgnY0gmlwhKwS4YKKbXVsdGlhZGRyc4wACgSsEuGCBtO63QOCcnOFAAMBAACJc2VjcDI1NmsxoQOJvPyWD4UDT-tITOkC_vtwcCt2gAPICUi0-EYHL-urW4N0Y3CC07mDdWRwgtO7hXdha3UyCQ --lightpushnode=/ip4/172.18.225.130/tcp/54201/p2p/16Uiu2HAmMvfM29chmEqSz5gjHXmCsxHV8xLtWrMdftucsV4ZfJKL --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.17.61 waku 1e5dda2e06e7f29b061c91dfe6a29514fbe5a4556075b25877d96f9096e3452e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 1e5dda2e06e7. Setting up logs at ./log/docker/lightpush_node2_2024-10-13_03-24-49__a92b7ffc-4912-45be-a9b1-d80c08ca3b1a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 2453
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2453/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2453/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.17.61/tcp/2454/p2p/16Uiu2HAmJZBVbPL9ide3vi1TwCYn883FyDk1TDShESFoW4Ujqr8L","/ip4/172.18.17.61/tcp/2455/ws/p2p/16Uiu2HAmJZBVbPL9ide3vi1TwCYn883FyDk1TDShESFoW4Ujqr8L"],"enrUri":"enr:-LO4QJr2LOZ0_jrapTXzFPJuX9-_oJ3mwcUBgYUePIZhXhNWTXDqg42roAP-1YiyghwKeoqgV-Lp-geZnnXsUW9Ik_0BgmlkgnY0gmlwhKwSET2KbXVsdGlhZGRyc4wACgSsEhE9BgmX3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNXqTx_xm8hr6u1pjMjBM5mi1ZKGBZUGsLVkhDH5u8CzYN0Y3CCCZaDdWRwggmYhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2453/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.225.130/tcp/54201/p2p/16Uiu2HAmMvfM29chmEqSz5gjHXmCsxHV8xLtWrMdftucsV4ZfJKL"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2453/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.6.219/tcp/14585/p2p/16Uiu2HAmSremAeouPdBQkbzD2WRxhVQuFLctojnV5o9oz6PGfXwQ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node3_2024-10-13_03-24-49__a92b7ffc-4912-45be-a9b1-d80c08ca3b1a__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.149.64
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['18030', '18031', '18032', '18033', '18034']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 18030:18030 -p 18031:18031 -p 18032:18032 -p 18033:18033 -p 18034:18034 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=18032 --rest-port=18030 --tcp-port=18031 --discv5-udp-port=18033 --rest-address=0.0.0.0 --nat=extip:172.18.149.64 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0593615baef0ab2da8b740afa8f0192dae4ffaac5e2fbd7e55dece6337512fe3 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-LO4QE5BFwTZOC_QPBIJsQeXt8ypSAToy14v-bAbA-0w8r1pH-S6T0_jiGUDm58LGvoaaGkaoNd8PWPfithe_GfedaoBgmlkgnY0gmlwhKwS4YKKbXVsdGlhZGRyc4wACgSsEuGCBtO63QOCcnOFAAMBAACJc2VjcDI1NmsxoQOJvPyWD4UDT-tITOkC_vtwcCt2gAPICUi0-EYHL-urW4N0Y3CC07mDdWRwgtO7hXdha3UyCQ --lightpushnode=/ip4/172.18.225.130/tcp/54201/p2p/16Uiu2HAmMvfM29chmEqSz5gjHXmCsxHV8xLtWrMdftucsV4ZfJKL --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.149.64 waku ebc58bc2917aa22dfbc4e5787695d2085913d5e033d0f9c3d07c1c76d115f0ef
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID ebc58bc2917a. Setting up logs at ./log/docker/lightpush_node3_2024-10-13_03-24-49__a92b7ffc-4912-45be-a9b1-d80c08ca3b1a__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 18030
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18030/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QMF3SXhl3KrsZe6Vvx7weTpYSGglzVqzS_4wzLTsOJCOAhrMyW_Jy6Y2MYmPhZh4lTdBgnL_C7OQwNIDue3vAMmGAZKD6GJEgmlkgnY0gmlwhKwRAAOJc2VjcDI1NmsxoQJGks2msh5oZrTBcjahZ3pVE8AxRJoV0Thk6zy5j3QVo4N0Y3CCRm-DdWRwgkZxhXdha3UyCA","listenAddresses":["/ip4/127.0.0.1/tcp/18031/p2p/16Uiu2HAkzBAMPtiK4ebyiYUeff1aQA93LTmZiF8FBX2cJWyFnawU","/ip4/127.0.0.1/tcp/18032/ws/p2p/16Uiu2HAkzBAMPtiK4ebyiYUeff1aQA93LTmZiF8FBX2cJWyFnawU","/ip4/172.17.0.3/tcp/18031/p2p/16Uiu2HAkzBAMPtiK4ebyiYUeff1aQA93LTmZiF8FBX2cJWyFnawU","/ip4/172.17.0.3/tcp/18032/ws/p2p/16Uiu2HAkzBAMPtiK4ebyiYUeff1aQA93LTmZiF8FBX2cJWyFnawU"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:18030/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.225.130/tcp/54201/p2p/16Uiu2HAmMvfM29chmEqSz5gjHXmCsxHV8xLtWrMdftucsV4ZfJKL", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:18030/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.6.219/tcp/14585/p2p/16Uiu2HAmSremAeouPdBQkbzD2WRxhVQuFLctojnV5o9oz6PGfXwQ", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node4_2024-10-13_03-24-49__a92b7ffc-4912-45be-a9b1-d80c08ca3b1a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.68.31
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['2943', '2944', '2945', '2946', '2947']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 2943:2943 -p 2944:2944 -p 2945:2945 -p 2946:2946 -p 2947:2947 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=2945 --rest-port=2943 --tcp-port=2944 --discv5-udp-port=2946 --rest-address=0.0.0.0 --nat=extip:172.18.68.31 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dfb26e6a8129e299bc922b2bf0cec9ffec1f02c3eedbe965fe0a192a04a1dba7 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=2947 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QE5BFwTZOC_QPBIJsQeXt8ypSAToy14v-bAbA-0w8r1pH-S6T0_jiGUDm58LGvoaaGkaoNd8PWPfithe_GfedaoBgmlkgnY0gmlwhKwS4YKKbXVsdGlhZGRyc4wACgSsEuGCBtO63QOCcnOFAAMBAACJc2VjcDI1NmsxoQOJvPyWD4UDT-tITOkC_vtwcCt2gAPICUi0-EYHL-urW4N0Y3CC07mDdWRwgtO7hXdha3UyCQ --lightpushnode=/ip4/172.18.225.130/tcp/54201/p2p/16Uiu2HAmMvfM29chmEqSz5gjHXmCsxHV8xLtWrMdftucsV4ZfJKL --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.68.31 waku e4646f170eee39554c4380d1cebe0893bb2d5f45fb1aba83215b35191b6d72b2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID e4646f170eee. Setting up logs at ./log/docker/lightpush_node4_2024-10-13_03-24-49__a92b7ffc-4912-45be-a9b1-d80c08ca3b1a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 2943
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2943/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2943/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.68.31/tcp/2944/p2p/16Uiu2HAmPoH11TC73o6dbw6jM9TMVd3nrk7LSsWAEJXtfwoX5GH8","/ip4/172.18.68.31/tcp/2945/ws/p2p/16Uiu2HAmPoH11TC73o6dbw6jM9TMVd3nrk7LSsWAEJXtfwoX5GH8"],"enrUri":"enr:-LO4QKm37GqXSLAohW_h6q9KyIwQPxRjS8BY7IBjZw9628ucdzJJznGzNcECF7UkySZWkCgpVKcfQAYLrrSfkVdxYcABgmlkgnY0gmlwhKwSRB-KbXVsdGlhZGRyc4wACgSsEkQfBguB3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOlkAd8cL6Zzf0nWGdCCAq82MPDGXXm0RZxk8VDO2n3g4N0Y3CCC4CDdWRwgguChXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2943/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.225.130/tcp/54201/p2p/16Uiu2HAmMvfM29chmEqSz5gjHXmCsxHV8xLtWrMdftucsV4ZfJKL"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2943/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.6.219/tcp/14585/p2p/16Uiu2HAmSremAeouPdBQkbzD2WRxhVQuFLctojnV5o9oz6PGfXwQ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54200/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14584/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24727/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1728789900503024896}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54200/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1728789900503024896,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14584/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1728789900503024896,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2453/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1728789900623480576}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54200/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1728789900623480576,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14584/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1728789900623480576,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:18030/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1728789900742074112}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54200/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1728789900742074112,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14584/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1728789900742074112,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2943/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1728789900858611200}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54200/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1728789900858611200,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14584/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1728789900858611200,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 8cd81fe9e4f4
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id a7aa66f62665
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 3b30c2471838
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 1e5dda2e06e7
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id ebc58bc2917a
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id e4646f170eee
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.