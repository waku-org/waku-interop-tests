[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_get_message_after_one_peer_was_stopped with id: 2024-10-13_03-21-30__df74046d-6961-4fe4-bb68-e74e3304247c
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-10-13_03-21-30__df74046d-6961-4fe4-bb68-e74e3304247c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.254.132
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['44780', '44781', '44782', '44783', '44784']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 44780:44780 -p 44781:44781 -p 44782:44782 -p 44783:44783 -p 44784:44784 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=44782 --rest-port=44780 --tcp-port=44781 --discv5-udp-port=44783 --rest-address=0.0.0.0 --nat=extip:172.18.254.132 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bdbfac651b9cf42c8e687acd8d0dbfbc96eafa9bdfcb7eb5adedccaba05a0cb2 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=44784 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.254.132 waku 664a425578848dd65ef6c7ab6bd6d2884690e19247fa7e9a0c78e012c2de50c3
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 664a42557884. Setting up logs at ./log/docker/node1_2024-10-13_03-21-30__df74046d-6961-4fe4-bb68-e74e3304247c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 44780
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44780/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44780/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.254.132/tcp/44781/p2p/16Uiu2HAm5pDi4pXrEpbQ7jpSvYRPJG9PrtU9VWCTj5M91NNJYDAU","/ip4/172.18.254.132/tcp/44782/ws/p2p/16Uiu2HAm5pDi4pXrEpbQ7jpSvYRPJG9PrtU9VWCTj5M91NNJYDAU"],"enrUri":"enr:-LO4QHlaRf-mnKBu2qJtcgbCDBYeXuidGJGk7KBG9sKV5041ZyhJddwF4KdtZPHHUuIJ2tMeZgjqIHgd-_9VJ9gKKFIBgmlkgnY0gmlwhKwS_oSKbXVsdGlhZGRyc4wACgSsEv6EBq7u3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKaW4XiXq6h_HkOSE6b77mwRF9BSbs4as3tup4CO4FiHYN0Y3CCru2DdWRwgq7vhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-10-13_03-21-30__df74046d-6961-4fe4-bb68-e74e3304247c__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.41.1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['22360', '22361', '22362', '22363', '22364']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 22360:22360 -p 22361:22361 -p 22362:22362 -p 22363:22363 -p 22364:22364 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=22362 --rest-port=22360 --tcp-port=22361 --discv5-udp-port=22363 --rest-address=0.0.0.0 --nat=extip:172.18.41.1 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1f4ef8e1647ee238e5fbb5bdf1389ba546758ad23664b1ebebeae0c830b13d5b --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-LO4QHlaRf-mnKBu2qJtcgbCDBYeXuidGJGk7KBG9sKV5041ZyhJddwF4KdtZPHHUuIJ2tMeZgjqIHgd-_9VJ9gKKFIBgmlkgnY0gmlwhKwS_oSKbXVsdGlhZGRyc4wACgSsEv6EBq7u3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKaW4XiXq6h_HkOSE6b77mwRF9BSbs4as3tup4CO4FiHYN0Y3CCru2DdWRwgq7vhXdha3UyBQ --filternode=/ip4/172.18.254.132/tcp/44781/p2p/16Uiu2HAm5pDi4pXrEpbQ7jpSvYRPJG9PrtU9VWCTj5M91NNJYDAU
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.41.1 waku 6247300324c507dc5fe95a7a91c8681df018ef301427f8acb5de5fc2a0b05928
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 6247300324c5. Setting up logs at ./log/docker/node2_2024-10-13_03-21-30__df74046d-6961-4fe4-bb68-e74e3304247c__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 22360
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22360/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QFGdAlwZ6-vDRapPfJchhw7lOecyqDYW6daU2Qbrrie4Z568ab_iGJ2hSCF5nKIGJKHnZuRu77UjOEPxeubheEuGAZKD5UEZgmlkgnY0gmlwhKwRAAKJc2VjcDI1NmsxoQK_ECPtxWip46U2RPB-SytnECulMD4BkvpNE9QkVEqkVYN0Y3CCV1mDdWRwgldbhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/22361/p2p/16Uiu2HAm8HW8CLt6ffPeEUaiwwjbvfJSekGRVaVtfFab8VmmFQPn","/ip4/127.0.0.1/tcp/22362/ws/p2p/16Uiu2HAm8HW8CLt6ffPeEUaiwwjbvfJSekGRVaVtfFab8VmmFQPn","/ip4/172.17.0.2/tcp/22361/p2p/16Uiu2HAm8HW8CLt6ffPeEUaiwwjbvfJSekGRVaVtfFab8VmmFQPn","/ip4/172.17.0.2/tcp/22362/ws/p2p/16Uiu2HAm8HW8CLt6ffPeEUaiwwjbvfJSekGRVaVtfFab8VmmFQPn"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22360/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.254.132/tcp/44781/p2p/16Uiu2HAm5pDi4pXrEpbQ7jpSvYRPJG9PrtU9VWCTj5M91NNJYDAU", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:22360/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22360/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.254.132/tcp/44781/p2p/16Uiu2HAm5pDi4pXrEpbQ7jpSvYRPJG9PrtU9VWCTj5M91NNJYDAU", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:22360/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22360/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.254.132/tcp/44781/p2p/16Uiu2HAm5pDi4pXrEpbQ7jpSvYRPJG9PrtU9VWCTj5M91NNJYDAU", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:22360/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22360/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.254.132/tcp/44781/p2p/16Uiu2HAm5pDi4pXrEpbQ7jpSvYRPJG9PrtU9VWCTj5M91NNJYDAU", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:22360/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22360/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.254.132/tcp/44781/p2p/16Uiu2HAm5pDi4pXrEpbQ7jpSvYRPJG9PrtU9VWCTj5M91NNJYDAU", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:22360/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22360/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.254.132/tcp/44781/p2p/16Uiu2HAm5pDi4pXrEpbQ7jpSvYRPJG9PrtU9VWCTj5M91NNJYDAU", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:22360/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22360/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.254.132/tcp/44781/p2p/16Uiu2HAm5pDi4pXrEpbQ7jpSvYRPJG9PrtU9VWCTj5M91NNJYDAU", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:22360/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22360/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.254.132/tcp/44781/p2p/16Uiu2HAm5pDi4pXrEpbQ7jpSvYRPJG9PrtU9VWCTj5M91NNJYDAU", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:22360/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22360/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.254.132/tcp/44781/p2p/16Uiu2HAm5pDi4pXrEpbQ7jpSvYRPJG9PrtU9VWCTj5M91NNJYDAU", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:22360/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22360/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.254.132/tcp/44781/p2p/16Uiu2HAm5pDi4pXrEpbQ7jpSvYRPJG9PrtU9VWCTj5M91NNJYDAU", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:22360/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22360/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.254.132/tcp/44781/p2p/16Uiu2HAm5pDi4pXrEpbQ7jpSvYRPJG9PrtU9VWCTj5M91NNJYDAU", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-10-13_03-21-30__df74046d-6961-4fe4-bb68-e74e3304247c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.19.213
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['63318', '63319', '63320', '63321', '63322']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 63318:63318 -p 63319:63319 -p 63320:63320 -p 63321:63321 -p 63322:63322 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=63320 --rest-port=63318 --tcp-port=63319 --discv5-udp-port=63321 --rest-address=0.0.0.0 --nat=extip:172.18.19.213 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d4cd94ba73a7adee8a83c823c7a39596dde3acfaeaedb67be4ee50c5aecff1be --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=63322 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QHlaRf-mnKBu2qJtcgbCDBYeXuidGJGk7KBG9sKV5041ZyhJddwF4KdtZPHHUuIJ2tMeZgjqIHgd-_9VJ9gKKFIBgmlkgnY0gmlwhKwS_oSKbXVsdGlhZGRyc4wACgSsEv6EBq7u3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKaW4XiXq6h_HkOSE6b77mwRF9BSbs4as3tup4CO4FiHYN0Y3CCru2DdWRwgq7vhXdha3UyBQ --filternode=/ip4/172.18.254.132/tcp/44781/p2p/16Uiu2HAm5pDi4pXrEpbQ7jpSvYRPJG9PrtU9VWCTj5M91NNJYDAU
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.19.213 waku 11f477f12de177bea1024654247c7c85c7d118e10e678f208d979b68bee27f22
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 11f477f12de1. Setting up logs at ./log/docker/node3_2024-10-13_03-21-30__df74046d-6961-4fe4-bb68-e74e3304247c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 63318
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63318/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63318/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.19.213/tcp/63319/p2p/16Uiu2HAm9a8EVL8tZio6FMsrVzkEErPGWLHwVEbdoXoCH9VCxFqf","/ip4/172.18.19.213/tcp/63320/ws/p2p/16Uiu2HAm9a8EVL8tZio6FMsrVzkEErPGWLHwVEbdoXoCH9VCxFqf"],"enrUri":"enr:-LO4QG24KyembumlEt_rkGGBcshaK26RDMXzUN-76rKqXFuSNZPU8OUm-UhTXlCGFY8opkX0SK4z4GkXSFTC83w1TR0BgmlkgnY0gmlwhKwSE9WKbXVsdGlhZGRyc4wACgSsEhPVBvdY3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLSLfK_BMh_ArDmtrUS6_SQLB5sK8JXv1YjOpBip4mnxoN0Y3CC91eDdWRwgvdZhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63318/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.254.132/tcp/44781/p2p/16Uiu2HAm5pDi4pXrEpbQ7jpSvYRPJG9PrtU9VWCTj5M91NNJYDAU"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-10-13_03-21-30__df74046d-6961-4fe4-bb68-e74e3304247c__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.47.17
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['1171', '1172', '1173', '1174', '1175']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 1171:1171 -p 1172:1172 -p 1173:1173 -p 1174:1174 -p 1175:1175 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=1173 --rest-port=1171 --tcp-port=1172 --discv5-udp-port=1174 --rest-address=0.0.0.0 --nat=extip:172.18.47.17 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7ba1aca5a45cd3cfda56c80a92192da5ffbcacf5d85c0bdfee07d9ef4dac6d4c --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-LO4QHlaRf-mnKBu2qJtcgbCDBYeXuidGJGk7KBG9sKV5041ZyhJddwF4KdtZPHHUuIJ2tMeZgjqIHgd-_9VJ9gKKFIBgmlkgnY0gmlwhKwS_oSKbXVsdGlhZGRyc4wACgSsEv6EBq7u3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKaW4XiXq6h_HkOSE6b77mwRF9BSbs4as3tup4CO4FiHYN0Y3CCru2DdWRwgq7vhXdha3UyBQ --filternode=/ip4/172.18.254.132/tcp/44781/p2p/16Uiu2HAm5pDi4pXrEpbQ7jpSvYRPJG9PrtU9VWCTj5M91NNJYDAU
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.47.17 waku d0b642910fc194ed92a98b5df9e8ecfcd7a107fc88c3375173d3e79ca3456808
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID d0b642910fc1. Setting up logs at ./log/docker/node4_2024-10-13_03-21-30__df74046d-6961-4fe4-bb68-e74e3304247c__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 1171
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1171/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QMMYwdc5xvkI_EvEuLaag6p4N2YzS2Het9oekLTGsEN_OkWMR1mrrxaZ6GQMp3VpFIugoGeQbqEWMIDFuLDvPiaGAZKD5XM5gmlkgnY0gmlwhKwRAAOJc2VjcDI1NmsxoQKPZ3z8zAsxHi74Hdnnp02XVclYsMuf_oxL9kk3ZU_0u4N0Y3CCBJSDdWRwggSWhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/1172/p2p/16Uiu2HAm55Toie9HwtQJK2rxYJ2oe4oMnyhYFKHvfjWysi8QJQWv","/ip4/127.0.0.1/tcp/1173/ws/p2p/16Uiu2HAm55Toie9HwtQJK2rxYJ2oe4oMnyhYFKHvfjWysi8QJQWv","/ip4/172.17.0.3/tcp/1172/p2p/16Uiu2HAm55Toie9HwtQJK2rxYJ2oe4oMnyhYFKHvfjWysi8QJQWv","/ip4/172.17.0.3/tcp/1173/ws/p2p/16Uiu2HAm55Toie9HwtQJK2rxYJ2oe4oMnyhYFKHvfjWysi8QJQWv"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1171/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.254.132/tcp/44781/p2p/16Uiu2HAm5pDi4pXrEpbQ7jpSvYRPJG9PrtU9VWCTj5M91NNJYDAU", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-10-13_03-21-30__df74046d-6961-4fe4-bb68-e74e3304247c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.241.123
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['13021', '13022', '13023', '13024', '13025']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 13021:13021 -p 13022:13022 -p 13023:13023 -p 13024:13024 -p 13025:13025 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=13023 --rest-port=13021 --tcp-port=13022 --discv5-udp-port=13024 --rest-address=0.0.0.0 --nat=extip:172.18.241.123 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d3dc2dcc21f341cf0f65e2ce5ba4450a5290fb8b04eaaa5ab15f6e5b71afb6d0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=13025 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QHlaRf-mnKBu2qJtcgbCDBYeXuidGJGk7KBG9sKV5041ZyhJddwF4KdtZPHHUuIJ2tMeZgjqIHgd-_9VJ9gKKFIBgmlkgnY0gmlwhKwS_oSKbXVsdGlhZGRyc4wACgSsEv6EBq7u3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKaW4XiXq6h_HkOSE6b77mwRF9BSbs4as3tup4CO4FiHYN0Y3CCru2DdWRwgq7vhXdha3UyBQ --filternode=/ip4/172.18.254.132/tcp/44781/p2p/16Uiu2HAm5pDi4pXrEpbQ7jpSvYRPJG9PrtU9VWCTj5M91NNJYDAU
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.241.123 waku 599a0b41b43ca76aab797ed152b385e8cde24a13a1bee5cbf31cb0b2cc896be9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 599a0b41b43c. Setting up logs at ./log/docker/node5_2024-10-13_03-21-30__df74046d-6961-4fe4-bb68-e74e3304247c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 13021
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13021/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13021/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.241.123/tcp/13022/p2p/16Uiu2HAmDwRzFfLA6oXby9e8jU4dX7MXrhgbb8N4Pp9aNoraGX8h","/ip4/172.18.241.123/tcp/13023/ws/p2p/16Uiu2HAmDwRzFfLA6oXby9e8jU4dX7MXrhgbb8N4Pp9aNoraGX8h"],"enrUri":"enr:-LO4QBXOXxRF-2wWBiDgXUh17i1Mn_L7Ke6D6Sg5Y2z3mtqtBIAzFIlDqK86tmuMzsrLSJhpsB3tvZG2MCDOqe89HHQBgmlkgnY0gmlwhKwS8XuKbXVsdGlhZGRyc4wACgSsEvF7BjLf3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMTEffTHvGqgyBfAtM6OKQPepU4yAEtAyOZlRYM7z3P_oN0Y3CCMt6DdWRwgjLghXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13021/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.254.132/tcp/44781/p2p/16Uiu2HAm5pDi4pXrEpbQ7jpSvYRPJG9PrtU9VWCTj5M91NNJYDAU"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44780/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22360/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "62e0fba8-e61e-4b66-aa12-169f89b9ee49", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"62e0fba8-e61e-4b66-aa12-169f89b9ee49","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63318/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "cd1b1ecd-6bdf-41a1-ad94-f8c09012a2b2", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"cd1b1ecd-6bdf-41a1-ad94-f8c09012a2b2","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1171/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "a434df5e-dd6b-45dd-b55c-6dea19dc17c5", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"a434df5e-dd6b-45dd-b55c-6dea19dc17c5","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13021/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "f83787fd-33ae-4fd5-b98d-939739b805cd", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"f83787fd-33ae-4fd5-b98d-939739b805cd","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44780/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22360/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1728789708607288320,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63318/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1728789708607288320,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_4:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1171/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1728789708607288320,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13021/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1728789708607288320,"ephemeral":false}]'
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 6247300324c5
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44780/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63318/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1728789710395724800,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_3:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1171/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1728789710395724800,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13021/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1728789710395724800,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 664a42557884
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 11f477f12de1
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id d0b642910fc1
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 599a0b41b43c
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.