[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-07-15_03-14-02__8ebb1cac-cfd6-4558-9e5b-a91a680355e9
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:81 WakuNode instance initialized with log path ./log/docker/node1_2024-07-15_03-14-02__8ebb1cac-cfd6-4558-9e5b-a91a680355e9__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.173.197
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['59952', '59953', '59954', '59955', '59956']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:428 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:157 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:159 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 59952:59952 -p 59953:59953 -p 59954:59954 -p 59955:59955 -p 59956:59956 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=59954 --rest-port=59952 --tcp-port=59953 --discv5-udp-port=59955 --rest-address=0.0.0.0 --nat=extip:172.18.173.197 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=59956 --metrics-logging=true --relay=true --filter=true --nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.173.197 waku 529247695ad618f5cd71173b61ab445985237a8279c1cd6eb7a0f0fbd8b9c63f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 529247695ad6. Setting up logs at ./log/docker/node1_2024-07-15_03-14-02__8ebb1cac-cfd6-4558-9e5b-a91a680355e9__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 59952
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59952/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:274 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59952/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.173.197/tcp/59953/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","/ip4/172.18.173.197/tcp/59954/ws/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"],"enrUri":"enr:-LO4QFFwBv6H2bULd_IZGgKWVlLsDHf5blVhdH37KqfTDYcVaWInKEkJ246Ta98GqHzstxGkd5MBHobX4LSBzjk3h-QBgmlkgnY0gmlwhKwSrcWKbXVsdGlhZGRyc4wACgSsEq3FBuoy3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CC6jGDdWRwguozhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:81 WakuNode instance initialized with log path ./log/docker/node2_2024-07-15_03-14-02__8ebb1cac-cfd6-4558-9e5b-a91a680355e9__harbor.status.im_wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.251.94
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['55207', '55208', '55209', '55210', '55211']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:428 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:157 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:159 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 55207:55207 -p 55208:55208 -p 55209:55209 -p 55210:55210 -p 55211:55211 harbor.status.im/wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=55209 --rest-port=55207 --tcp-port=55208 --discv5-udp-port=55210 --rest-address=0.0.0.0 --nat=extip:172.18.251.94 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-LO4QFFwBv6H2bULd_IZGgKWVlLsDHf5blVhdH37KqfTDYcVaWInKEkJ246Ta98GqHzstxGkd5MBHobX4LSBzjk3h-QBgmlkgnY0gmlwhKwSrcWKbXVsdGlhZGRyc4wACgSsEq3FBuoy3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CC6jGDdWRwguozhXdha3UyBQ --filternode=/ip4/172.18.173.197/tcp/59953/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.201.58
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['2792', '2793', '2794', '2795', '2796']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:428 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:157 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:159 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 2792:2792 -p 2793:2793 -p 2794:2794 -p 2795:2795 -p 2796:2796 harbor.status.im/wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=2794 --rest-port=2792 --tcp-port=2793 --discv5-udp-port=2795 --rest-address=0.0.0.0 --nat=extip:172.18.201.58 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-LO4QFFwBv6H2bULd_IZGgKWVlLsDHf5blVhdH37KqfTDYcVaWInKEkJ246Ta98GqHzstxGkd5MBHobX4LSBzjk3h-QBgmlkgnY0gmlwhKwSrcWKbXVsdGlhZGRyc4wACgSsEq3FBuoy3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CC6jGDdWRwguozhXdha3UyBQ --filternode=/ip4/172.18.173.197/tcp/59953/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.201.58 waku d821639274c813fbad7581bab3a34ea8c16cbdc3f2e73b57a51642f0a78192a1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID d821639274c8. Setting up logs at ./log/docker/node2_2024-07-15_03-14-02__8ebb1cac-cfd6-4558-9e5b-a91a680355e9__harbor.status.im_wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Started container from image harbor.status.im/wakuorg/go-waku:latest. REST: 2792
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2792/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QHPSlGN_vBCQvf0CRE4PPOjoXNoCgHmnFjGTXgYoQZ6yXKpy9nJZ250aDXt8zgrupN1mBEo3vcTR7oHtiGqkI4aGAZC0YhckgmlkgnY0gmlwhKwRAAKJc2VjcDI1NmsxoQIz50_no-ZrIEI24ut55bIOBgH6rE3JOYl3Ek0NggW-5YN0Y3CCCumDdWRwggrrhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/2793/p2p/16Uiu2HAkxvHM2taSJf8bWkVfGbjpVMn3CfD8Cbn4wn9fjDVr5bue","/ip4/127.0.0.1/tcp/2794/ws/p2p/16Uiu2HAkxvHM2taSJf8bWkVfGbjpVMn3CfD8Cbn4wn9fjDVr5bue","/ip4/172.17.0.2/tcp/2793/p2p/16Uiu2HAkxvHM2taSJf8bWkVfGbjpVMn3CfD8Cbn4wn9fjDVr5bue","/ip4/172.17.0.2/tcp/2794/ws/p2p/16Uiu2HAkxvHM2taSJf8bWkVfGbjpVMn3CfD8Cbn4wn9fjDVr5bue"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2792/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.173.197/tcp/59953/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:2792/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2792/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.173.197/tcp/59953/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:2792/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2792/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.173.197/tcp/59953/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:2792/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2792/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.173.197/tcp/59953/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:2792/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2792/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.173.197/tcp/59953/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:2792/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2792/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.173.197/tcp/59953/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:2792/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2792/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.173.197/tcp/59953/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:2792/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2792/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.173.197/tcp/59953/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:2792/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2792/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.173.197/tcp/59953/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:2792/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2792/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.173.197/tcp/59953/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:2792/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2792/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.173.197/tcp/59953/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:81 WakuNode instance initialized with log path ./log/docker/node3_2024-07-15_03-14-02__8ebb1cac-cfd6-4558-9e5b-a91a680355e9__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.135.142
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['29244', '29245', '29246', '29247', '29248']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:428 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:157 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:159 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 29244:29244 -p 29245:29245 -p 29246:29246 -p 29247:29247 -p 29248:29248 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=29246 --rest-port=29244 --tcp-port=29245 --discv5-udp-port=29247 --rest-address=0.0.0.0 --nat=extip:172.18.135.142 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=29248 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QFFwBv6H2bULd_IZGgKWVlLsDHf5blVhdH37KqfTDYcVaWInKEkJ246Ta98GqHzstxGkd5MBHobX4LSBzjk3h-QBgmlkgnY0gmlwhKwSrcWKbXVsdGlhZGRyc4wACgSsEq3FBuoy3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CC6jGDdWRwguozhXdha3UyBQ --filternode=/ip4/172.18.173.197/tcp/59953/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.135.142 waku 2cdac67d4f89f4d5d9e9ccf25ce8af8217e637c8da6133b46d980c4314b7a53f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 2cdac67d4f89. Setting up logs at ./log/docker/node3_2024-07-15_03-14-02__8ebb1cac-cfd6-4558-9e5b-a91a680355e9__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 29244
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29244/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:274 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29244/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.135.142/tcp/29245/p2p/16Uiu2HAkwH51otHMiA6E13SjWfWSaZkBrBhMH8NhnLZSqNpXa8wB","/ip4/172.18.135.142/tcp/29246/ws/p2p/16Uiu2HAkwH51otHMiA6E13SjWfWSaZkBrBhMH8NhnLZSqNpXa8wB"],"enrUri":"enr:-LO4QJ4u8m7BykBHMKOBIV3TPnssJRlTtBtzGX79mARxWOxLLkwdGiunOlEMbYWtfwsSZ1I2xv4y9sIRGfLkuF3_dcUBgmlkgnY0gmlwhKwSh46KbXVsdGlhZGRyc4wACgSsEoeOBnI-3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIbgzEqG36RUG98gUIMcLoZ16UY0YjttIjgL4i9jjNv6oN0Y3CCcj2DdWRwgnI_hXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29244/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.173.197/tcp/59953/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:81 WakuNode instance initialized with log path ./log/docker/node4_2024-07-15_03-14-02__8ebb1cac-cfd6-4558-9e5b-a91a680355e9__harbor.status.im_wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.120.115
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['53298', '53299', '53300', '53301', '53302']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:428 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:157 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:159 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 53298:53298 -p 53299:53299 -p 53300:53300 -p 53301:53301 -p 53302:53302 harbor.status.im/wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=53300 --rest-port=53298 --tcp-port=53299 --discv5-udp-port=53301 --rest-address=0.0.0.0 --nat=extip:172.18.120.115 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-LO4QFFwBv6H2bULd_IZGgKWVlLsDHf5blVhdH37KqfTDYcVaWInKEkJ246Ta98GqHzstxGkd5MBHobX4LSBzjk3h-QBgmlkgnY0gmlwhKwSrcWKbXVsdGlhZGRyc4wACgSsEq3FBuoy3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CC6jGDdWRwguozhXdha3UyBQ --filternode=/ip4/172.18.173.197/tcp/59953/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.120.115 waku 719d7a87138405c7a06047d47748a34d4f683ee51be51c0906e2269081c02ced
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 719d7a871384. Setting up logs at ./log/docker/node4_2024-07-15_03-14-02__8ebb1cac-cfd6-4558-9e5b-a91a680355e9__harbor.status.im_wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Started container from image harbor.status.im/wakuorg/go-waku:latest. REST: 53298
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53298/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QK41qIhhIFoGiTX25CTl8IImkxm9WnZChTUVfa4ebKV7fDHD01LYctqcY11cBwyrHCZYvAnxC1CvMuaJ24r_3VGGAZC0YkjtgmlkgnY0gmlwhKwRAAmJc2VjcDI1NmsxoQNvg-j_LiD1HzU7HHp860_X9Zi1nQ7Hgxl3SfEEPFUqM4N0Y3CC0DODdWRwgtA1hXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/53299/p2p/16Uiu2HAmLAJGSi3mHKzCz8m5kJ6CKwiGuY5R8bh7R2dNUVU4HXDt","/ip4/127.0.0.1/tcp/53300/ws/p2p/16Uiu2HAmLAJGSi3mHKzCz8m5kJ6CKwiGuY5R8bh7R2dNUVU4HXDt","/ip4/172.17.0.9/tcp/53299/p2p/16Uiu2HAmLAJGSi3mHKzCz8m5kJ6CKwiGuY5R8bh7R2dNUVU4HXDt","/ip4/172.17.0.9/tcp/53300/ws/p2p/16Uiu2HAmLAJGSi3mHKzCz8m5kJ6CKwiGuY5R8bh7R2dNUVU4HXDt"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53298/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.173.197/tcp/59953/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:81 WakuNode instance initialized with log path ./log/docker/node5_2024-07-15_03-14-02__8ebb1cac-cfd6-4558-9e5b-a91a680355e9__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.155.4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['4659', '4660', '4661', '4662', '4663']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:428 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:157 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:159 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 4659:4659 -p 4660:4660 -p 4661:4661 -p 4662:4662 -p 4663:4663 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=4661 --rest-port=4659 --tcp-port=4660 --discv5-udp-port=4662 --rest-address=0.0.0.0 --nat=extip:172.18.155.4 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=4663 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QFFwBv6H2bULd_IZGgKWVlLsDHf5blVhdH37KqfTDYcVaWInKEkJ246Ta98GqHzstxGkd5MBHobX4LSBzjk3h-QBgmlkgnY0gmlwhKwSrcWKbXVsdGlhZGRyc4wACgSsEq3FBuoy3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CC6jGDdWRwguozhXdha3UyBQ --filternode=/ip4/172.18.173.197/tcp/59953/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.155.4 waku 6cee647c185a20040becbbab54ad63204d28208e8c9426af9c12d24e89644e36
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 6cee647c185a. Setting up logs at ./log/docker/node5_2024-07-15_03-14-02__8ebb1cac-cfd6-4558-9e5b-a91a680355e9__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 4659
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4659/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:274 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4659/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.155.4/tcp/4660/p2p/16Uiu2HAmADWradFed9fJU7wffHQdFdWfmSax1K9SjcwbdKYEnJWN","/ip4/172.18.155.4/tcp/4661/ws/p2p/16Uiu2HAmADWradFed9fJU7wffHQdFdWfmSax1K9SjcwbdKYEnJWN"],"enrUri":"enr:-LO4QKnGZSq_eqEhDUiMw2iXAcsQ_rNvca6bHCcktPNXkDx9DGs-fmjxaEHXioA6hCu62R803SRfYDodw_fkzRfwRrcBgmlkgnY0gmlwhKwSmwSKbXVsdGlhZGRyc4wACgSsEpsEBhI13QOCcnOFAAMBAACJc2VjcDI1NmsxoQLbwgRpt4e24SgkzZAdldTPBIf_5m3uEqzcIKqCZ9v7w4N0Y3CCEjSDdWRwghI2hXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4659/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.173.197/tcp/59953/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59952/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2792/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "51ace059-4209-4434-b292-18da4e37b514", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"51ace059-4209-4434-b292-18da4e37b514","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29244/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "2b5e199e-65c4-47a8-9d7b-56c431ccb7e0", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"2b5e199e-65c4-47a8-9d7b-56c431ccb7e0","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53298/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "b2d0e92f-2f0d-4e03-bff2-007549664c8e", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"b2d0e92f-2f0d-4e03-bff2-007549664c8e","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4659/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "cb189a52-5ed9-4362-aa23-a04598b7bf2f", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"cb189a52-5ed9-4362-aa23-a04598b7bf2f","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59952/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_2:harbor.status.im/wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2792/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1721013261532233472,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59952/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_2:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29244/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:29244/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:218 Stopping container with id 529247695ad6
[35mDEBUG   [0m src.node.waku_node:waku_node.py:225 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:218 Stopping container with id d821639274c8
[35mDEBUG   [0m src.node.waku_node:waku_node.py:225 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:218 Stopping container with id 2cdac67d4f89
[35mDEBUG   [0m src.node.waku_node:waku_node.py:225 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:218 Stopping container with id 719d7a871384
[35mDEBUG   [0m src.node.waku_node:waku_node.py:225 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:218 Stopping container with id 6cee647c185a
[35mDEBUG   [0m src.node.waku_node:waku_node.py:225 Container stopped.