[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_update_subscription_with_invalid_content_topic_format with id: 2024-08-22_03-16-12__306a563d-cb84-46de-8ee9-d8600cdd90d5
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node1_2024-08-22_03-16-12__306a563d-cb84-46de-8ee9-d8600cdd90d5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.68.158
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['7384', '7385', '7386', '7387', '7388']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 7384:7384 -p 7385:7385 -p 7386:7386 -p 7387:7387 -p 7388:7388 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=7386 --rest-port=7384 --tcp-port=7385 --discv5-udp-port=7387 --rest-address=0.0.0.0 --nat=extip:172.18.68.158 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8f1dde2aefacf8d630eaaef282ae51bb1343ccfdb43cbcdbfa1d3a476d320c84 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=7388 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.68.158 waku 0930bdf5fa61fb53b9efc93d602b7ad5f5b289e64bbc84f0877e6fe77e811131
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 0930bdf5fa61. Setting up logs at ./log/docker/node1_2024-08-22_03-16-12__306a563d-cb84-46de-8ee9-d8600cdd90d5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 7384
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7384/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7384/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.68.158/tcp/7385/p2p/16Uiu2HAkyV3H1J2H5SFPw95rRuMF423zce6jDvxETexmRx62XJeZ","/ip4/172.18.68.158/tcp/7386/ws/p2p/16Uiu2HAkyV3H1J2H5SFPw95rRuMF423zce6jDvxETexmRx62XJeZ"],"enrUri":"enr:-LO4QMwmbsnjPavlNjLEvAMDK5C1ZlBrPYJSr1a-64tlF4xwbcesJCCOJV6-ZpKd5dDlVpubfO0jH4FwSoWTfdJSvhUBgmlkgnY0gmlwhKwSRJ6KbXVsdGlhZGRyc4wACgSsEkSeBhza3QOCcnOFAAMBAACJc2VjcDI1NmsxoQI8S5IJwdkKHinRUc2AWVDYzvLeCGDb8gluRe42Wb47hoN0Y3CCHNmDdWRwghzbhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node2_2024-08-22_03-16-12__306a563d-cb84-46de-8ee9-d8600cdd90d5__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.55.109
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['60353', '60354', '60355', '60356', '60357']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 60353:60353 -p 60354:60354 -p 60355:60355 -p 60356:60356 -p 60357:60357 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=60355 --rest-port=60353 --tcp-port=60354 --discv5-udp-port=60356 --rest-address=0.0.0.0 --nat=extip:172.18.55.109 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a9ac5d94f84baefdc5c902fecfeaba9d9cae31d6d65ab97995e6fb4cc4847408 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-LO4QMwmbsnjPavlNjLEvAMDK5C1ZlBrPYJSr1a-64tlF4xwbcesJCCOJV6-ZpKd5dDlVpubfO0jH4FwSoWTfdJSvhUBgmlkgnY0gmlwhKwSRJ6KbXVsdGlhZGRyc4wACgSsEkSeBhza3QOCcnOFAAMBAACJc2VjcDI1NmsxoQI8S5IJwdkKHinRUc2AWVDYzvLeCGDb8gluRe42Wb47hoN0Y3CCHNmDdWRwghzbhXdha3UyBQ --filternode=/ip4/172.18.68.158/tcp/7385/p2p/16Uiu2HAkyV3H1J2H5SFPw95rRuMF423zce6jDvxETexmRx62XJeZ
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.252.129
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['17214', '17215', '17216', '17217', '17218']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 17214:17214 -p 17215:17215 -p 17216:17216 -p 17217:17217 -p 17218:17218 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=17216 --rest-port=17214 --tcp-port=17215 --discv5-udp-port=17217 --rest-address=0.0.0.0 --nat=extip:172.18.252.129 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=84a4490efa2d6eb89431d7a4b66ffbbbcc7b7eeec4dda0ce74276ecb67befcce --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-LO4QMwmbsnjPavlNjLEvAMDK5C1ZlBrPYJSr1a-64tlF4xwbcesJCCOJV6-ZpKd5dDlVpubfO0jH4FwSoWTfdJSvhUBgmlkgnY0gmlwhKwSRJ6KbXVsdGlhZGRyc4wACgSsEkSeBhza3QOCcnOFAAMBAACJc2VjcDI1NmsxoQI8S5IJwdkKHinRUc2AWVDYzvLeCGDb8gluRe42Wb47hoN0Y3CCHNmDdWRwghzbhXdha3UyBQ --filternode=/ip4/172.18.68.158/tcp/7385/p2p/16Uiu2HAkyV3H1J2H5SFPw95rRuMF423zce6jDvxETexmRx62XJeZ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.252.129 waku 3140dc71de06c3e4bff2ddf506e880ccec56a56f496ce64f877f900bc6e4efee
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 3140dc71de06. Setting up logs at ./log/docker/node2_2024-08-22_03-16-12__306a563d-cb84-46de-8ee9-d8600cdd90d5__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/go-waku:latest. REST: 17214
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17214/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QGOs76mMZjDCEa00M-UNT9Gl0u-uWKENsN_qtzoKAX5zDrIcOzy7FfOL39ewYwn3yvBdS58T613bhgItzxa-3dqGAZF4FbezgmlkgnY0gmlwhKwRAASJc2VjcDI1NmsxoQP-pIifkAxr0QCCmmVsUBj9EiagCgcRVrtj5UfinrdocYN0Y3CCQz-DdWRwgkNBhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/17215/p2p/16Uiu2HAmVo1RL6AL5RtrfcboKUejfwS4QZZ3sTz4zdydVd15qj8t","/ip4/127.0.0.1/tcp/17216/ws/p2p/16Uiu2HAmVo1RL6AL5RtrfcboKUejfwS4QZZ3sTz4zdydVd15qj8t","/ip4/172.17.0.4/tcp/17215/p2p/16Uiu2HAmVo1RL6AL5RtrfcboKUejfwS4QZZ3sTz4zdydVd15qj8t","/ip4/172.17.0.4/tcp/17216/ws/p2p/16Uiu2HAmVo1RL6AL5RtrfcboKUejfwS4QZZ3sTz4zdydVd15qj8t"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17214/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.68.158/tcp/7385/p2p/16Uiu2HAkyV3H1J2H5SFPw95rRuMF423zce6jDvxETexmRx62XJeZ", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7384/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17214/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "a2d19a40-6670-47e7-bf8f-77485a17a50a", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"a2d19a40-6670-47e7-bf8f-77485a17a50a","statusDesc":"OK"}'
[35mDEBUG   [0m tests.filter.test_subscribe_update:test_subscribe_update.py:87 Running test with contetn topic Empty string
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 0930bdf5fa61
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 3140dc71de06
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.