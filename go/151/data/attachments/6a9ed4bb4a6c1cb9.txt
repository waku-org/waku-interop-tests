[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-06-02_03-11-46__4a339917-5247-48a2-b953-7746fcab21e6
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node1_2024-06-02_03-11-46__4a339917-5247-48a2-b953-7746fcab21e6__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.202.7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['24240', '24241', '24242', '24243', '24244']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:373 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:120 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 24240:24240 -p 24241:24241 -p 24242:24242 -p 24243:24243 -p 24244:24244 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=24242 --rest-port=24240 --tcp-port=24241 --discv5-udp-port=24243 --rest-address=0.0.0.0 --nat=extip:172.18.202.7 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=24244 --metrics-logging=true --relay=true --filter=true --nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.202.7 waku 06eae948dfa616f5231f507dfdf449f45fb1eb227a320093405c532c53cfda1c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 06eae948dfa6. Setting up logs at ./log/docker/node1_2024-06-02_03-11-46__4a339917-5247-48a2-b953-7746fcab21e6__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:134 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 24240
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24240/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:225 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24240/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.202.7/tcp/24241/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","/ip4/172.18.202.7/tcp/24242/ws/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"],"enrUri":"enr:-LO4QKJpPKTJrzLIG2M7lWa0-C9mXDAotUmBqbT8xa-4aIRJAwtM0XKufDrpus2FEydUFQmLqGO152g8CT2vlEwYk1wBgmlkgnY0gmlwhKwSygeKbXVsdGlhZGRyc4wACgSsEsoHBl6y3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCXrGDdWRwgl6zhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:230 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node2_2024-06-02_03-11-46__4a339917-5247-48a2-b953-7746fcab21e6__harbor.status.im_wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.159.67
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['39554', '39555', '39556', '39557', '39558']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:373 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:120 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 39554:39554 -p 39555:39555 -p 39556:39556 -p 39557:39557 -p 39558:39558 harbor.status.im/wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=39556 --rest-port=39554 --tcp-port=39555 --discv5-udp-port=39557 --rest-address=0.0.0.0 --nat=extip:172.18.159.67 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --relay=false --discv5-bootstrap-node=enr:-LO4QKJpPKTJrzLIG2M7lWa0-C9mXDAotUmBqbT8xa-4aIRJAwtM0XKufDrpus2FEydUFQmLqGO152g8CT2vlEwYk1wBgmlkgnY0gmlwhKwSygeKbXVsdGlhZGRyc4wACgSsEsoHBl6y3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCXrGDdWRwgl6zhXdha3UyBQ --filternode=/ip4/172.18.202.7/tcp/24241/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.159.67 waku 5596879fa6176e84ba200d7ac4d0b268add16f8994625c61303c685a9ffe7d93
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 5596879fa617. Setting up logs at ./log/docker/node2_2024-06-02_03-11-46__4a339917-5247-48a2-b953-7746fcab21e6__harbor.status.im_wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:134 Started container from image harbor.status.im/wakuorg/go-waku:latest. REST: 39554
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39554/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ly4QDOhOlwROIn96Ow0T_GuqcFtbdNPcooZLgq8ieB8nr67UEAkngiAb_7LT4CuxYE_HaTL1w92TNVU-cmFa6a0TuWGAY_W7o8VgmlkgnY0gmlwhKwRAAeKbXVsdGlhZGRyc5gACgR_AAABBpqE3QMACgSsEQAHBpqE3QOJc2VjcDI1NmsxoQK1mvbwA5ZsMJmEPpB3tpS-G3g7kpLMf5vsnZ2H2vIhfYN0Y3CCmoODdWRwgpqFhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/39555/p2p/16Uiu2HAm7eapnntPXMp7wD5qzozukDNvJegPXpKHymDPrfpsnaFe","/ip4/127.0.0.1/tcp/39556/ws/p2p/16Uiu2HAm7eapnntPXMp7wD5qzozukDNvJegPXpKHymDPrfpsnaFe","/ip4/172.17.0.7/tcp/39555/p2p/16Uiu2HAm7eapnntPXMp7wD5qzozukDNvJegPXpKHymDPrfpsnaFe","/ip4/172.17.0.7/tcp/39556/ws/p2p/16Uiu2HAm7eapnntPXMp7wD5qzozukDNvJegPXpKHymDPrfpsnaFe"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:230 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39554/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.202.7/tcp/24241/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:39554/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39554/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.202.7/tcp/24241/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:39554/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39554/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.202.7/tcp/24241/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:39554/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39554/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.202.7/tcp/24241/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:39554/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39554/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.202.7/tcp/24241/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:39554/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39554/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.202.7/tcp/24241/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:39554/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39554/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.202.7/tcp/24241/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:39554/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39554/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.202.7/tcp/24241/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:39554/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39554/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.202.7/tcp/24241/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:39554/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39554/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.202.7/tcp/24241/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:39554/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39554/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.202.7/tcp/24241/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node3_2024-06-02_03-11-46__4a339917-5247-48a2-b953-7746fcab21e6__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.66.62
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['43100', '43101', '43102', '43103', '43104']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:373 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:120 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 43100:43100 -p 43101:43101 -p 43102:43102 -p 43103:43103 -p 43104:43104 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=43102 --rest-port=43100 --tcp-port=43101 --discv5-udp-port=43103 --rest-address=0.0.0.0 --nat=extip:172.18.66.62 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=43104 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QKJpPKTJrzLIG2M7lWa0-C9mXDAotUmBqbT8xa-4aIRJAwtM0XKufDrpus2FEydUFQmLqGO152g8CT2vlEwYk1wBgmlkgnY0gmlwhKwSygeKbXVsdGlhZGRyc4wACgSsEsoHBl6y3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCXrGDdWRwgl6zhXdha3UyBQ --filternode=/ip4/172.18.202.7/tcp/24241/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.66.62 waku f069aaf9a56a71ea6013bb1db025af248478b43723fbb72b4d6a79b060a7a773
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID f069aaf9a56a. Setting up logs at ./log/docker/node3_2024-06-02_03-11-46__4a339917-5247-48a2-b953-7746fcab21e6__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:134 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 43100
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43100/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:225 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43100/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.66.62/tcp/43101/p2p/16Uiu2HAkz4VEvTp3PaZ6iHVxpzm3GRmsKVaM1Zr1Qwwfc28cFHm8","/ip4/172.18.66.62/tcp/43102/ws/p2p/16Uiu2HAkz4VEvTp3PaZ6iHVxpzm3GRmsKVaM1Zr1Qwwfc28cFHm8"],"enrUri":"enr:-LO4QL313HD1LbANO2LFn4FffuitjKVfcRyFkWfu3EqywM7oM23S-HrZCqloE9VNYW4yMIAOLdLO3kqsYk9y_N4ViaEBgmlkgnY0gmlwhKwSQj6KbXVsdGlhZGRyc4wACgSsEkI-Bqhe3QOCcnOFAAABAACJc2VjcDI1NmsxoQJE3RhHfukuTsezGN9v-uGG4U3dhlf0bX1Kn_LeLP6Sv4N0Y3CCqF2DdWRwgqhfhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:230 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43100/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.202.7/tcp/24241/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node4_2024-06-02_03-11-46__4a339917-5247-48a2-b953-7746fcab21e6__harbor.status.im_wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.68.64
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['58721', '58722', '58723', '58724', '58725']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:373 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:120 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 58721:58721 -p 58722:58722 -p 58723:58723 -p 58724:58724 -p 58725:58725 harbor.status.im/wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=58723 --rest-port=58721 --tcp-port=58722 --discv5-udp-port=58724 --rest-address=0.0.0.0 --nat=extip:172.18.68.64 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --relay=false --discv5-bootstrap-node=enr:-LO4QKJpPKTJrzLIG2M7lWa0-C9mXDAotUmBqbT8xa-4aIRJAwtM0XKufDrpus2FEydUFQmLqGO152g8CT2vlEwYk1wBgmlkgnY0gmlwhKwSygeKbXVsdGlhZGRyc4wACgSsEsoHBl6y3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCXrGDdWRwgl6zhXdha3UyBQ --filternode=/ip4/172.18.202.7/tcp/24241/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.68.64 waku 626f9d6d7e55827175ba5e903945df11ab9877069229a7e4f02f76c1095fd67f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 626f9d6d7e55. Setting up logs at ./log/docker/node4_2024-06-02_03-11-46__4a339917-5247-48a2-b953-7746fcab21e6__harbor.status.im_wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:134 Started container from image harbor.status.im/wakuorg/go-waku:latest. REST: 58721
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58721/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ly4QEMf454-OwqNn1x7L2lLE3oD4Zq2wdt3k5fhROsimNH_GrP1b3gim0qcQldbNc2J1-SmA7J4FQ-kSiCKuC1YmXSGAY_W7r8XgmlkgnY0gmlwhKwRAAOKbXVsdGlhZGRyc5gACgR_AAABBuVj3QMACgSsEQADBuVj3QOJc2VjcDI1NmsxoQM8AETqlbqbef3oY0TNiiECCPR4Q5PYH0RC-sUlez6jLYN0Y3CC5WKDdWRwguVkhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/58722/p2p/16Uiu2HAmGhD3tQLAFYgJxmwRBYPnueievfhda9uN4k6vNZFYUBnk","/ip4/127.0.0.1/tcp/58723/ws/p2p/16Uiu2HAmGhD3tQLAFYgJxmwRBYPnueievfhda9uN4k6vNZFYUBnk","/ip4/172.17.0.3/tcp/58722/p2p/16Uiu2HAmGhD3tQLAFYgJxmwRBYPnueievfhda9uN4k6vNZFYUBnk","/ip4/172.17.0.3/tcp/58723/ws/p2p/16Uiu2HAmGhD3tQLAFYgJxmwRBYPnueievfhda9uN4k6vNZFYUBnk"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:230 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58721/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.202.7/tcp/24241/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node5_2024-06-02_03-11-46__4a339917-5247-48a2-b953-7746fcab21e6__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.151.198
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['16165', '16166', '16167', '16168', '16169']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:373 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:120 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 16165:16165 -p 16166:16166 -p 16167:16167 -p 16168:16168 -p 16169:16169 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=16167 --rest-port=16165 --tcp-port=16166 --discv5-udp-port=16168 --rest-address=0.0.0.0 --nat=extip:172.18.151.198 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=16169 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QKJpPKTJrzLIG2M7lWa0-C9mXDAotUmBqbT8xa-4aIRJAwtM0XKufDrpus2FEydUFQmLqGO152g8CT2vlEwYk1wBgmlkgnY0gmlwhKwSygeKbXVsdGlhZGRyc4wACgSsEsoHBl6y3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCXrGDdWRwgl6zhXdha3UyBQ --filternode=/ip4/172.18.202.7/tcp/24241/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.151.198 waku 81db02729a4a1286e9cecfd97c23420e02bd2286f935ff5fa6dcf98051663720
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 81db02729a4a. Setting up logs at ./log/docker/node5_2024-06-02_03-11-46__4a339917-5247-48a2-b953-7746fcab21e6__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:134 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 16165
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16165/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:225 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16165/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.151.198/tcp/16166/p2p/16Uiu2HAkyAk5UyzE87GgnNqVP3RJoboBJv2QFVrG8qMEDRyxENKo","/ip4/172.18.151.198/tcp/16167/ws/p2p/16Uiu2HAkyAk5UyzE87GgnNqVP3RJoboBJv2QFVrG8qMEDRyxENKo"],"enrUri":"enr:-LO4QFv58MTUS9wxLUgdDTeJyGohASnpQIumhfwCgw8Y_Uk7OLvxdz73NXPtSeUwyaI9Cv5uNYFIDxbp5Q_NC7cYSSABgmlkgnY0gmlwhKwSl8aKbXVsdGlhZGRyc4wACgSsEpfGBj8n3QOCcnOFAAABAACJc2VjcDI1NmsxoQI3m6tXkJn4djyc7RjZvgxqRUUrYcROC6rzUOVdpO1mroN0Y3CCPyaDdWRwgj8ohXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:230 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16165/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.202.7/tcp/24241/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24240/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/0/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39554/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "54965c93-4b76-4146-8284-207076d6384d", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"54965c93-4b76-4146-8284-207076d6384d","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43100/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "05baa706-4fc4-4615-84ad-3c104ccdbea1", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"05baa706-4fc4-4615-84ad-3c104ccdbea1","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58721/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "14b2ccda-2fae-4c7f-bd51-e09dc0f7a040", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"14b2ccda-2fae-4c7f-bd51-e09dc0f7a040","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16165/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "5c34f9c3-b25d-4e23-9d54-27ca49b58c3a", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"5c34f9c3-b25d-4e23-9d54-27ca49b58c3a","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24240/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_2:harbor.status.im/wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39554/filter/v2/messages/%2Fwaku%2F2%2Frs%2F0%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1717297924681749248,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24240/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_2:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43100/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:43100/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:181 Stopping container with id 06eae948dfa6
[35mDEBUG   [0m src.node.waku_node:waku_node.py:188 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:181 Stopping container with id 5596879fa617
[35mDEBUG   [0m src.node.waku_node:waku_node.py:188 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:181 Stopping container with id f069aaf9a56a
[35mDEBUG   [0m src.node.waku_node:waku_node.py:188 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:181 Stopping container with id 626f9d6d7e55
[35mDEBUG   [0m src.node.waku_node:waku_node.py:188 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:181 Stopping container with id 81db02729a4a
[35mDEBUG   [0m src.node.waku_node:waku_node.py:188 Container stopped.