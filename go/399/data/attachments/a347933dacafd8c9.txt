[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_store_node_not_connected_directly_to_relaying_node with id: 2024-12-19_03-12-39__125b225e-ab49-4abf-a339-44aa5aca59ce
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:28 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-19_03-12-39__125b225e-ab49-4abf-a339-44aa5aca59ce__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-19_03-12-39__125b225e-ab49-4abf-a339-44aa5aca59ce__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-12-19_03-12-39__125b225e-ab49-4abf-a339-44aa5aca59ce__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.73.31
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['30235', '30236', '30237', '30238', '30239']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 30235:30235 -p 30236:30236 -p 30237:30237 -p 30238:30238 -p 30239:30239 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=30237 --rest-port=30235 --tcp-port=30236 --discv5-udp-port=30238 --rest-address=0.0.0.0 --nat=extip:172.18.73.31 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=4a0aedebabb6dfca9c63c97eb2310cc4cbccd61a7bd3c157ffeb8b1aacc91dde --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.73.31 waku 7fda259de54340e35343c7cbfdce03646db518dd5307095f048f9898f3d21029
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 7fda259de543. Setting up logs at ./log/docker/node1_2024-12-19_03-12-39__125b225e-ab49-4abf-a339-44aa5aca59ce__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 30235
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30235/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QKCL9eMTkZx1tI3ebs7caURs0NC1P4rNHQvVunfCWdFAXMO1Ws23BNYIpp2KwaTm1YfBDrL18TtaU9KHOGEZZ2WGAZPc50RqgmlkgnY0gmlwhKwRAAWCcnODAAMAiXNlY3AyNTZrMaECEQzwR4N08sCZ5ru5qLZiB22D1FspoaVA888dSb8Q0vaDdGNwgnYcg3VkcIJ2HoV3YWt1MgE","listenAddresses":["/ip4/127.0.0.1/tcp/30236/p2p/16Uiu2HAkvaEMUVwkbnajfNPVRexi7SyjQ97vZSLXkEYPxTYuphV7","/ip4/127.0.0.1/tcp/30237/ws/p2p/16Uiu2HAkvaEMUVwkbnajfNPVRexi7SyjQ97vZSLXkEYPxTYuphV7","/ip4/172.17.0.5/tcp/30236/p2p/16Uiu2HAkvaEMUVwkbnajfNPVRexi7SyjQ97vZSLXkEYPxTYuphV7","/ip4/172.17.0.5/tcp/30237/ws/p2p/16Uiu2HAkvaEMUVwkbnajfNPVRexi7SyjQ97vZSLXkEYPxTYuphV7"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.50.201
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['23447', '23448', '23449', '23450', '23451']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 23447:23447 -p 23448:23448 -p 23449:23449 -p 23450:23450 -p 23451:23451 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=23449 --rest-port=23447 --tcp-port=23448 --discv5-udp-port=23450 --rest-address=0.0.0.0 --nat=extip:172.18.50.201 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d7308a794dec7527bcfff87efdd9e2f1dd12105c2af6a3f58baba34bfc8054a0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=23451 --metrics-logging=true --store=true --relay=true --discv5-bootstrap-node=enr:-J-4QKCL9eMTkZx1tI3ebs7caURs0NC1P4rNHQvVunfCWdFAXMO1Ws23BNYIpp2KwaTm1YfBDrL18TtaU9KHOGEZZ2WGAZPc50RqgmlkgnY0gmlwhKwRAAWCcnODAAMAiXNlY3AyNTZrMaECEQzwR4N08sCZ5ru5qLZiB22D1FspoaVA888dSb8Q0vaDdGNwgnYcg3VkcIJ2HoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.50.201 waku 0e67ad08c0552a52876b46bb5276a76010776ce04f3ac241623f9e72b520170a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 0e67ad08c055. Setting up logs at ./log/docker/node2_2024-12-19_03-12-39__125b225e-ab49-4abf-a339-44aa5aca59ce__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 23447
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23447/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23447/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.50.201/tcp/23448/p2p/16Uiu2HAm63fwqyu7TY1QHE8y7uqsnRCtKuSDqmjEoK2wpyki4jDH","/ip4/172.18.50.201/tcp/23449/ws/p2p/16Uiu2HAm63fwqyu7TY1QHE8y7uqsnRCtKuSDqmjEoK2wpyki4jDH"],"enrUri":"enr:-L24QII8JaANIx4wUDzoiPJOBW_hw4s4O4Eg8xLetsC06J48IqWFbOmN9ULKhp0uob6yi762Gu0R00qeAastojlVnb0CgmlkgnY0gmlwhKwSMsmKbXVsdGlhZGRyc5YACASsEjLJBluYAAoErBIyyQZbmd0DgnJzhQADAQAAiXNlY3AyNTZrMaECnc29i4cN5rfV4FTiLF8_ngQ1v_DCKglIOOBkY59mthiDdGNwgluYg3VkcIJbmoV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.191.139
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['12668', '12669', '12670', '12671', '12672']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 12668:12668 -p 12669:12669 -p 12670:12670 -p 12671:12671 -p 12672:12672 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=12670 --rest-port=12668 --tcp-port=12669 --discv5-udp-port=12671 --rest-address=0.0.0.0 --nat=extip:172.18.191.139 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ee1a5010e5bca1ceaca7eac8bd4d50ce305e4d1f0be99afd9cfd38dee38eb593 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --storenode=/ip4/172.18.50.201/tcp/23448/p2p/16Uiu2HAm63fwqyu7TY1QHE8y7uqsnRCtKuSDqmjEoK2wpyki4jDH --discv5-bootstrap-node=enr:-L24QII8JaANIx4wUDzoiPJOBW_hw4s4O4Eg8xLetsC06J48IqWFbOmN9ULKhp0uob6yi762Gu0R00qeAastojlVnb0CgmlkgnY0gmlwhKwSMsmKbXVsdGlhZGRyc5YACASsEjLJBluYAAoErBIyyQZbmd0DgnJzhQADAQAAiXNlY3AyNTZrMaECnc29i4cN5rfV4FTiLF8_ngQ1v_DCKglIOOBkY59mthiDdGNwgluYg3VkcIJbmoV3YWt1MgM --pubsub-topic=/waku/2/rs/3/1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.191.139 waku 3f3e03c84257157daa5c57095aaf5456f4f521e623672e7088b3753e83d2316d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 3f3e03c84257. Setting up logs at ./log/docker/node3_2024-12-19_03-12-39__125b225e-ab49-4abf-a339-44aa5aca59ce__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 12668
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12668/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QNNPoQb59tFJSdvkbZShkYOxBgWI_ahqe4dF0n2pPzHfC_T2guqIeTLLjh9ZelgQux-mnaTSTexi2Ig2ntFxjmSGAZPc50_HgmlkgnY0gmlwhKwRAAqCcnOFAAMBAAGJc2VjcDI1NmsxoQNE0xeX8zjLmVoQ4n9HVHrqAUTOE9-TJ2KsMTFv2uJPp4N0Y3CCMX2DdWRwgjF_hXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/12669/p2p/16Uiu2HAmHHemKtvnjTwLiTHLsjBUmzpHF5P26CYvz4cYWuLe6oti","/ip4/127.0.0.1/tcp/12670/ws/p2p/16Uiu2HAmHHemKtvnjTwLiTHLsjBUmzpHF5P26CYvz4cYWuLe6oti","/ip4/172.17.0.10/tcp/12669/p2p/16Uiu2HAmHHemKtvnjTwLiTHLsjBUmzpHF5P26CYvz4cYWuLe6oti","/ip4/172.17.0.10/tcp/12670/ws/p2p/16Uiu2HAmHHemKtvnjTwLiTHLsjBUmzpHF5P26CYvz4cYWuLe6oti"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30235/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23447/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30235/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"id":"16Uiu2HAm63fwqyu7TY1QHE8y7uqsnRCtKuSDqmjEoK2wpyki4jDH","multiaddrs":["/ip4/172.18.50.201/tcp/23448/p2p/16Uiu2HAm63fwqyu7TY1QHE8y7uqsnRCtKuSDqmjEoK2wpyki4jDH","/ip4/172.18.50.201/tcp/23449/ws/p2p/16Uiu2HAm63fwqyu7TY1QHE8y7uqsnRCtKuSDqmjEoK2wpyki4jDH"],"protocols":null,"connected":false,"pubsubTopics":[]}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23447/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"multiaddr":"/ip4/172.17.0.10/tcp/12669/p2p/16Uiu2HAmHHemKtvnjTwLiTHLsjBUmzpHF5P26CYvz4cYWuLe6oti","protocols":[{"protocol":"/vac/waku/peer-exchange/2.0.0-alpha1","connected":true}],"origin":"UnknownOrigin"}]'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 30 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30235/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12668/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F1&contentTopics=%2Ftest%2F1%2Fwaku-filter%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"990ce8c22b7aaf37125d3162b225d80e9a41fa24b8302eda48701f5cc831506b","status_code":200,"status_desc":"OK","messages":[{"message_hash":"fI8a67/BmcQWGLuCcnrVukNsIf2RZPrmFdwl0Okjp3k="}]}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 7fda259de543
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 0e67ad08c055
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 3f3e03c84257
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 7fda259de543. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.