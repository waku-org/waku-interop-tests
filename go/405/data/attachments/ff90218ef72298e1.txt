[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2024-12-25_03-14-21__9ddd6d33-78dc-47fa-807e-862752248667
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-25_03-14-21__9ddd6d33-78dc-47fa-807e-862752248667__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.119.153
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['7794', '7795', '7796', '7797', '7798']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 7794:7794 -p 7795:7795 -p 7796:7796 -p 7797:7797 -p 7798:7798 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=7796 --rest-port=7794 --tcp-port=7795 --discv5-udp-port=7797 --rest-address=0.0.0.0 --nat=extip:172.18.119.153 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d7c422daef2ed4e3d63fbf31e2dbf7dfbdcb0f3edabf1f64f732cb21b2f94c1b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=7798 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.119.153 waku a0f736594521ea7d0ead547d5e14ca1e13cafd0b6d432c7773eafee398815ae6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID a0f736594521. Setting up logs at ./log/docker/node1_2024-12-25_03-14-21__9ddd6d33-78dc-47fa-807e-862752248667__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 7794
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container da3d8b51be8c. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7794/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7794/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.119.153/tcp/7795/p2p/16Uiu2HAm9VnEPVxtAv7vpvXvZYPhRHoiBKbpsR5YZx7n64SeJpVp","/ip4/172.18.119.153/tcp/7796/ws/p2p/16Uiu2HAm9VnEPVxtAv7vpvXvZYPhRHoiBKbpsR5YZx7n64SeJpVp"],"enrUri":"enr:-L24QJ0XgjJtLNIRarfSP5gSjG0gVqVmgSVbmfYHWp9HYn0qUsbz1-dPCP1FQ__GpNnWSFwvS0jzrTyQUNT1kXX6iRYCgmlkgnY0gmlwhKwSd5mKbXVsdGlhZGRyc5YACASsEneZBh5zAAoErBJ3mQYedN0DgnJzhQADAQAAiXNlY3AyNTZrMaEC0RECSyQMB-huK_PkI9z9KyJA1ko_r5y5aohhXXm16PuDdGNwgh5zg3VkcIIedYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-25_03-14-21__9ddd6d33-78dc-47fa-807e-862752248667__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.205.88
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['1330', '1331', '1332', '1333', '1334']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 1330:1330 -p 1331:1331 -p 1332:1332 -p 1333:1333 -p 1334:1334 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=1332 --rest-port=1330 --tcp-port=1331 --discv5-udp-port=1333 --rest-address=0.0.0.0 --nat=extip:172.18.205.88 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=42b51ed7b9cf9a37f86ddac9b9d915dbca02fbb4f6acbf1c54ddfc999fb9d3ad --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-L24QJ0XgjJtLNIRarfSP5gSjG0gVqVmgSVbmfYHWp9HYn0qUsbz1-dPCP1FQ__GpNnWSFwvS0jzrTyQUNT1kXX6iRYCgmlkgnY0gmlwhKwSd5mKbXVsdGlhZGRyc5YACASsEneZBh5zAAoErBJ3mQYedN0DgnJzhQADAQAAiXNlY3AyNTZrMaEC0RECSyQMB-huK_PkI9z9KyJA1ko_r5y5aohhXXm16PuDdGNwgh5zg3VkcIIedYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.205.88 waku 976da776f00d0216f91b6030db5f8a99c10e468bfc959197ab3311b8ac0f75c7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 976da776f00d. Setting up logs at ./log/docker/node2_2024-12-25_03-14-21__9ddd6d33-78dc-47fa-807e-862752248667__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 1330
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1330/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QDT-Vu4bZB9x9C0XcSpHFnC4ot-veE56Dp6buHnbOjtdJ8smQi8cOU9lTBIgP2lg-87NxjDNcoMVw_kBCJePKfCGAZP7zvF1gmlkgnY0gmlwhKwRAASCcnODAAMAiXNlY3AyNTZrMaECBQXLVQyx1c6XsWXOAPxbdRRU3ulZ3qIlOmhb8Pz-nHqDdGNwggUzg3VkcIIFNYV3YWt1MgE","listenAddresses":["/ip4/127.0.0.1/tcp/1331/p2p/16Uiu2HAkumH9FCZByftADJ4o4a1pptWNfK6XUHZMesN3pkqNvgEu","/ip4/127.0.0.1/tcp/1332/ws/p2p/16Uiu2HAkumH9FCZByftADJ4o4a1pptWNfK6XUHZMesN3pkqNvgEu","/ip4/172.17.0.4/tcp/1331/p2p/16Uiu2HAkumH9FCZByftADJ4o4a1pptWNfK6XUHZMesN3pkqNvgEu","/ip4/172.17.0.4/tcp/1332/ws/p2p/16Uiu2HAkumH9FCZByftADJ4o4a1pptWNfK6XUHZMesN3pkqNvgEu"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1330/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.119.153/tcp/7795/p2p/16Uiu2HAm9VnEPVxtAv7vpvXvZYPhRHoiBKbpsR5YZx7n64SeJpVp", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-12-25_03-14-21__9ddd6d33-78dc-47fa-807e-862752248667__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.55.189
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['3457', '3458', '3459', '3460', '3461']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 3457:3457 -p 3458:3458 -p 3459:3459 -p 3460:3460 -p 3461:3461 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=3459 --rest-port=3457 --tcp-port=3458 --discv5-udp-port=3460 --rest-address=0.0.0.0 --nat=extip:172.18.55.189 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6fac8ebd49edcccb642ef8ccbaea28d7b6ecdd2bd3ed308d8de07d203dfcdfc5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=3461 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QJ0XgjJtLNIRarfSP5gSjG0gVqVmgSVbmfYHWp9HYn0qUsbz1-dPCP1FQ__GpNnWSFwvS0jzrTyQUNT1kXX6iRYCgmlkgnY0gmlwhKwSd5mKbXVsdGlhZGRyc5YACASsEneZBh5zAAoErBJ3mQYedN0DgnJzhQADAQAAiXNlY3AyNTZrMaEC0RECSyQMB-huK_PkI9z9KyJA1ko_r5y5aohhXXm16PuDdGNwgh5zg3VkcIIedYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.55.189 waku fdb3e01b39c52d56a73f683518f149f311076aeb3879f5fea406b3ff8a803f17
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID fdb3e01b39c5. Setting up logs at ./log/docker/node3_2024-12-25_03-14-21__9ddd6d33-78dc-47fa-807e-862752248667__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 3457
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3457/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3457/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.55.189/tcp/3458/p2p/16Uiu2HAmEkra8uqfcwg96EdMVKQLkVvUHGndFBM2FeNYjsi7cp1c","/ip4/172.18.55.189/tcp/3459/ws/p2p/16Uiu2HAmEkra8uqfcwg96EdMVKQLkVvUHGndFBM2FeNYjsi7cp1c"],"enrUri":"enr:-L24QCD3XNHbLNN19rj61ieWRiUl0GLgj8OOIlTJ0ZrfQDHkIRzS9zjG7OawjlHgRBGMvGYwyGMpG5jrrVo1biH1SvYCgmlkgnY0gmlwhKwSN72KbXVsdGlhZGRyc5YACASsEje9Bg2CAAoErBI3vQYNg90DgnJzhQADAQAAiXNlY3AyNTZrMaEDHzgQQ-DUOgMfcGhWI-5w0kG628RHWvE_wVhA93nLKLeDdGNwgg2Cg3VkcIINhIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3457/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.119.153/tcp/7795/p2p/16Uiu2HAm9VnEPVxtAv7vpvXvZYPhRHoiBKbpsR5YZx7n64SeJpVp"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-12-25_03-14-21__9ddd6d33-78dc-47fa-807e-862752248667__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.77.74
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['58887', '58888', '58889', '58890', '58891']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 58887:58887 -p 58888:58888 -p 58889:58889 -p 58890:58890 -p 58891:58891 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=58889 --rest-port=58887 --tcp-port=58888 --discv5-udp-port=58890 --rest-address=0.0.0.0 --nat=extip:172.18.77.74 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ef00312e58cf9bd6a28bee62db48f96ed5ac29a82fb0d9bb79bf18fcdb70b234 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-L24QJ0XgjJtLNIRarfSP5gSjG0gVqVmgSVbmfYHWp9HYn0qUsbz1-dPCP1FQ__GpNnWSFwvS0jzrTyQUNT1kXX6iRYCgmlkgnY0gmlwhKwSd5mKbXVsdGlhZGRyc5YACASsEneZBh5zAAoErBJ3mQYedN0DgnJzhQADAQAAiXNlY3AyNTZrMaEC0RECSyQMB-huK_PkI9z9KyJA1ko_r5y5aohhXXm16PuDdGNwgh5zg3VkcIIedYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.77.74 waku b728c3e08cdc48516ddd3af47bc55244077bee5b3bdc15e428fe5d6af30bfef1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID b728c3e08cdc. Setting up logs at ./log/docker/node4_2024-12-25_03-14-21__9ddd6d33-78dc-47fa-807e-862752248667__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 58887
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58887/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QNePEAeLHGwxz4hQlwNqGvQPKXsTHuUFwHDOBXwMGlzEdTKKme6mT3ee6tIw6XIwnSQ96Tcy7qRaZaPs2a4xvG6GAZP7zv3SgmlkgnY0gmlwhKwRAAiCcnODAAMAiXNlY3AyNTZrMaEDFYEsEAfOsk3xW38jXfaZT11eSbkPxCU5SkPtuSG1YJaDdGNwguYIg3VkcILmCoV3YWt1MgE","listenAddresses":["/ip4/127.0.0.1/tcp/58888/p2p/16Uiu2HAmE6w9p8fLSwziFRb4xXTW76G9hMDgXM5RnDde57bDRfgh","/ip4/127.0.0.1/tcp/58889/ws/p2p/16Uiu2HAmE6w9p8fLSwziFRb4xXTW76G9hMDgXM5RnDde57bDRfgh","/ip4/172.17.0.8/tcp/58888/p2p/16Uiu2HAmE6w9p8fLSwziFRb4xXTW76G9hMDgXM5RnDde57bDRfgh","/ip4/172.17.0.8/tcp/58889/ws/p2p/16Uiu2HAmE6w9p8fLSwziFRb4xXTW76G9hMDgXM5RnDde57bDRfgh"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58887/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.119.153/tcp/7795/p2p/16Uiu2HAm9VnEPVxtAv7vpvXvZYPhRHoiBKbpsR5YZx7n64SeJpVp", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-12-25_03-14-21__9ddd6d33-78dc-47fa-807e-862752248667__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.24.89
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['54773', '54774', '54775', '54776', '54777']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 54773:54773 -p 54774:54774 -p 54775:54775 -p 54776:54776 -p 54777:54777 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=54775 --rest-port=54773 --tcp-port=54774 --discv5-udp-port=54776 --rest-address=0.0.0.0 --nat=extip:172.18.24.89 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9efb2de8afadeceebfe657faa14abb72b5ebbac2a3dff8f9ff6f5ef1fdd8ff86 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=54777 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QJ0XgjJtLNIRarfSP5gSjG0gVqVmgSVbmfYHWp9HYn0qUsbz1-dPCP1FQ__GpNnWSFwvS0jzrTyQUNT1kXX6iRYCgmlkgnY0gmlwhKwSd5mKbXVsdGlhZGRyc5YACASsEneZBh5zAAoErBJ3mQYedN0DgnJzhQADAQAAiXNlY3AyNTZrMaEC0RECSyQMB-huK_PkI9z9KyJA1ko_r5y5aohhXXm16PuDdGNwgh5zg3VkcIIedYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.24.89 waku 54c52cd6610ef57c0bd3ed1ad77a96a9258377cc3d8dce2584748fe513f20b38
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 54c52cd6610e. Setting up logs at ./log/docker/node5_2024-12-25_03-14-21__9ddd6d33-78dc-47fa-807e-862752248667__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 54773
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54773/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54773/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.24.89/tcp/54774/p2p/16Uiu2HAmFevPJtWeQgrazxVMYamf7Qtogy9Sy4sZpXoWzy8LanbY","/ip4/172.18.24.89/tcp/54775/ws/p2p/16Uiu2HAmFevPJtWeQgrazxVMYamf7Qtogy9Sy4sZpXoWzy8LanbY"],"enrUri":"enr:-L24QGXrNfbBEtMA7EEGi8ngWKI98TD1OxD0ri-eqXePdgHoeOIi98JF4CFtg4WZ-JzrCmnMkogpadh71g_CQpQs9pUCgmlkgnY0gmlwhKwSGFmKbXVsdGlhZGRyc5YACASsEhhZBtX2AAoErBIYWQbV990DgnJzhQADAQAAiXNlY3AyNTZrMaEDLI6TzAO9sMVLIlKQnggHMGYbet41ktEHphmmniZE81-DdGNwgtX2g3VkcILV-IV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54773/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.119.153/tcp/7795/p2p/16Uiu2HAm9VnEPVxtAv7vpvXvZYPhRHoiBKbpsR5YZx7n64SeJpVp"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7794/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1330/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3457/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58887/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54773/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7794/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7794/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735096469910822144,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1330/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735096469910822144,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3457/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735096469910822144,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58887/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735096469910822144,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54773/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735096469910822144,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54773/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7794/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735096470090324736,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1330/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735096470090324736,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3457/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735096470090324736,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58887/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735096470090324736,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54773/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1735096470090324736,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id a0f736594521
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 976da776f00d
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container a0f736594521. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id fdb3e01b39c5
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 976da776f00d. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id b728c3e08cdc
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container fdb3e01b39c5. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 54c52cd6610e
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container b728c3e08cdc. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.