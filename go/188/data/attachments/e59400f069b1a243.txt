[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-07-06_03-13-40__7766ce04-783c-47ba-9aa2-fd0f2d4b02a0
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:80 WakuNode instance initialized with log path ./log/docker/node1_2024-07-06_03-13-40__7766ce04-783c-47ba-9aa2-fd0f2d4b02a0__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.20.236
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['13749', '13750', '13751', '13752', '13753']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:427 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:156 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:158 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 13749:13749 -p 13750:13750 -p 13751:13751 -p 13752:13752 -p 13753:13753 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=13751 --rest-port=13749 --tcp-port=13750 --discv5-udp-port=13752 --rest-address=0.0.0.0 --nat=extip:172.18.20.236 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=13753 --metrics-logging=true --relay=true --filter=true --nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.20.236 waku 96b6b2a156bf954aba7f67a2a0ab385ae28b1fb9ac3c6f944525d7f6659ff9f5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 96b6b2a156bf. Setting up logs at ./log/docker/node1_2024-07-06_03-13-40__7766ce04-783c-47ba-9aa2-fd0f2d4b02a0__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 13749
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13749/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:273 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13749/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.20.236/tcp/13750/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","/ip4/172.18.20.236/tcp/13751/ws/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"],"enrUri":"enr:-LO4QMH3bQ9tm72lqzc9mm4bh1PX1W_aCU3L2PWM6Jf45cORNre4Ls6uC6lCqwNfLg3YZfR0AqIfiLL8ZdnoRN-eQN4BgmlkgnY0gmlwhKwSFOyKbXVsdGlhZGRyc4wACgSsEhTsBjW33QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCNbaDdWRwgjW4hXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:278 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:80 WakuNode instance initialized with log path ./log/docker/node2_2024-07-06_03-13-40__7766ce04-783c-47ba-9aa2-fd0f2d4b02a0__harbor.status.im_wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.58.181
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['57984', '57985', '57986', '57987', '57988']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:427 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:156 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:158 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 57984:57984 -p 57985:57985 -p 57986:57986 -p 57987:57987 -p 57988:57988 harbor.status.im/wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=57986 --rest-port=57984 --tcp-port=57985 --discv5-udp-port=57987 --rest-address=0.0.0.0 --nat=extip:172.18.58.181 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-LO4QMH3bQ9tm72lqzc9mm4bh1PX1W_aCU3L2PWM6Jf45cORNre4Ls6uC6lCqwNfLg3YZfR0AqIfiLL8ZdnoRN-eQN4BgmlkgnY0gmlwhKwSFOyKbXVsdGlhZGRyc4wACgSsEhTsBjW33QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCNbaDdWRwgjW4hXdha3UyBQ --filternode=/ip4/172.18.20.236/tcp/13750/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.58.181 waku 067ba26d7380acd16ba814407938f53ea5f486edce257d8a3a836b6742615cb9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 067ba26d7380. Setting up logs at ./log/docker/node2_2024-07-06_03-13-40__7766ce04-783c-47ba-9aa2-fd0f2d4b02a0__harbor.status.im_wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Started container from image harbor.status.im/wakuorg/go-waku:latest. REST: 57984
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57984/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QO-3sWwHknD9qkI-IdVLnQJ_XhdPJPI99Sbs3Hx3PGbmeE-thd0NCdJXHjSf6_rs-afnDYIz6ERRhNhOwAm6CNuGAZCGCH5qgmlkgnY0gmlwhKwRAA6Jc2VjcDI1NmsxoQJnhmF6sG4zmWJtDf5AMTbItRWULhqy9ASGFVMGx51Ia4N0Y3CC4oGDdWRwguKDhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/57985/p2p/16Uiu2HAm2PnpWSMrgBQn5JZJvfA6PzbSPG4Yk41C1eMwLSQ3zyLN","/ip4/127.0.0.1/tcp/57986/ws/p2p/16Uiu2HAm2PnpWSMrgBQn5JZJvfA6PzbSPG4Yk41C1eMwLSQ3zyLN","/ip4/172.17.0.14/tcp/57985/p2p/16Uiu2HAm2PnpWSMrgBQn5JZJvfA6PzbSPG4Yk41C1eMwLSQ3zyLN","/ip4/172.17.0.14/tcp/57986/ws/p2p/16Uiu2HAm2PnpWSMrgBQn5JZJvfA6PzbSPG4Yk41C1eMwLSQ3zyLN"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:278 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57984/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.20.236/tcp/13750/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:80 WakuNode instance initialized with log path ./log/docker/node3_2024-07-06_03-13-40__7766ce04-783c-47ba-9aa2-fd0f2d4b02a0__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.202.73
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['59045', '59046', '59047', '59048', '59049']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:427 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:156 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:158 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 59045:59045 -p 59046:59046 -p 59047:59047 -p 59048:59048 -p 59049:59049 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=59047 --rest-port=59045 --tcp-port=59046 --discv5-udp-port=59048 --rest-address=0.0.0.0 --nat=extip:172.18.202.73 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=59049 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QMH3bQ9tm72lqzc9mm4bh1PX1W_aCU3L2PWM6Jf45cORNre4Ls6uC6lCqwNfLg3YZfR0AqIfiLL8ZdnoRN-eQN4BgmlkgnY0gmlwhKwSFOyKbXVsdGlhZGRyc4wACgSsEhTsBjW33QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCNbaDdWRwgjW4hXdha3UyBQ --filternode=/ip4/172.18.20.236/tcp/13750/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.215.16
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['30816', '30817', '30818', '30819', '30820']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:427 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:156 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:158 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 30816:30816 -p 30817:30817 -p 30818:30818 -p 30819:30819 -p 30820:30820 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=30818 --rest-port=30816 --tcp-port=30817 --discv5-udp-port=30819 --rest-address=0.0.0.0 --nat=extip:172.18.215.16 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=30820 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QMH3bQ9tm72lqzc9mm4bh1PX1W_aCU3L2PWM6Jf45cORNre4Ls6uC6lCqwNfLg3YZfR0AqIfiLL8ZdnoRN-eQN4BgmlkgnY0gmlwhKwSFOyKbXVsdGlhZGRyc4wACgSsEhTsBjW33QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCNbaDdWRwgjW4hXdha3UyBQ --filternode=/ip4/172.18.20.236/tcp/13750/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.215.16 waku 22d861bb4ece8cce472619835935cbd09de437b434936c05121502c51bc7209d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 22d861bb4ece. Setting up logs at ./log/docker/node3_2024-07-06_03-13-40__7766ce04-783c-47ba-9aa2-fd0f2d4b02a0__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 30816
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30816/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:273 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30816/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.215.16/tcp/30817/p2p/16Uiu2HAmSaVcjuKgbCUNWY5MRrTBGjxsAbjZuT9V3zYXLyVS3Xop","/ip4/172.18.215.16/tcp/30818/ws/p2p/16Uiu2HAmSaVcjuKgbCUNWY5MRrTBGjxsAbjZuT9V3zYXLyVS3Xop"],"enrUri":"enr:-LO4QHoncHDoUtaU1htw_9Y7HOHe3Yt7i9nNiqPYvo-wjhCMBd__URfoh-K1wE7hqMwS2-_AmkC9nfkAYp8EcUYSjJgBgmlkgnY0gmlwhKwS1xCKbXVsdGlhZGRyc4wACgSsEtcQBnhi3QOCcnOFAAABAACJc2VjcDI1NmsxoQPO3M32GfXzxQueTX4TcUUeMU20S8M4e5grYHlRDyYKs4N0Y3CCeGGDdWRwgnhjhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:278 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30816/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.20.236/tcp/13750/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:80 WakuNode instance initialized with log path ./log/docker/node4_2024-07-06_03-13-40__7766ce04-783c-47ba-9aa2-fd0f2d4b02a0__harbor.status.im_wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.174.114
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['52468', '52469', '52470', '52471', '52472']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:427 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:156 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:158 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 52468:52468 -p 52469:52469 -p 52470:52470 -p 52471:52471 -p 52472:52472 harbor.status.im/wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=52470 --rest-port=52468 --tcp-port=52469 --discv5-udp-port=52471 --rest-address=0.0.0.0 --nat=extip:172.18.174.114 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-LO4QMH3bQ9tm72lqzc9mm4bh1PX1W_aCU3L2PWM6Jf45cORNre4Ls6uC6lCqwNfLg3YZfR0AqIfiLL8ZdnoRN-eQN4BgmlkgnY0gmlwhKwSFOyKbXVsdGlhZGRyc4wACgSsEhTsBjW33QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCNbaDdWRwgjW4hXdha3UyBQ --filternode=/ip4/172.18.20.236/tcp/13750/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.174.114 waku 11dd24033871c54e2a5a9f8af121cc7c5e947e151858ebfb2c22fc46e4174b87
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 11dd24033871. Setting up logs at ./log/docker/node4_2024-07-06_03-13-40__7766ce04-783c-47ba-9aa2-fd0f2d4b02a0__harbor.status.im_wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Started container from image harbor.status.im/wakuorg/go-waku:latest. REST: 52468
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52468/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QG8yZOunvWPuNM6scJhN23N2y5o-7CcWEJUS7YqCgF0NOktF-UCvImlP63DIdcRkBajL_NSTxhdjgiKacD35biCGAZCGCIz5gmlkgnY0gmlwhKwRAAmJc2VjcDI1NmsxoQOZcsyUIAF6OnblXzW8NJO_SGmnRp5A9mb5262inrhfhYN0Y3CCzPWDdWRwgsz3hXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/52469/p2p/16Uiu2HAmNyzFstPvv2viPpd8k2Lqy3KpwZtreur3idmm5MbxeyYg","/ip4/127.0.0.1/tcp/52470/ws/p2p/16Uiu2HAmNyzFstPvv2viPpd8k2Lqy3KpwZtreur3idmm5MbxeyYg","/ip4/172.17.0.9/tcp/52469/p2p/16Uiu2HAmNyzFstPvv2viPpd8k2Lqy3KpwZtreur3idmm5MbxeyYg","/ip4/172.17.0.9/tcp/52470/ws/p2p/16Uiu2HAmNyzFstPvv2viPpd8k2Lqy3KpwZtreur3idmm5MbxeyYg"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:278 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52468/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.20.236/tcp/13750/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:80 WakuNode instance initialized with log path ./log/docker/node5_2024-07-06_03-13-40__7766ce04-783c-47ba-9aa2-fd0f2d4b02a0__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.198.193
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['62439', '62440', '62441', '62442', '62443']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:427 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:156 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:158 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 62439:62439 -p 62440:62440 -p 62441:62441 -p 62442:62442 -p 62443:62443 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=62441 --rest-port=62439 --tcp-port=62440 --discv5-udp-port=62442 --rest-address=0.0.0.0 --nat=extip:172.18.198.193 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=62443 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QMH3bQ9tm72lqzc9mm4bh1PX1W_aCU3L2PWM6Jf45cORNre4Ls6uC6lCqwNfLg3YZfR0AqIfiLL8ZdnoRN-eQN4BgmlkgnY0gmlwhKwSFOyKbXVsdGlhZGRyc4wACgSsEhTsBjW33QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCNbaDdWRwgjW4hXdha3UyBQ --filternode=/ip4/172.18.20.236/tcp/13750/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.198.193 waku 34385ae5b0c24821f80c0e4ff0c8216aabe802ad2c00aa02bb22714bacf09bbf
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 34385ae5b0c2. Setting up logs at ./log/docker/node5_2024-07-06_03-13-40__7766ce04-783c-47ba-9aa2-fd0f2d4b02a0__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 62439
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62439/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:273 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62439/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.198.193/tcp/62440/p2p/16Uiu2HAm4Jg4GSc396FmrXcqT9cyKvMc2UwGZZtjTx8i7tL6RY5j","/ip4/172.18.198.193/tcp/62441/ws/p2p/16Uiu2HAm4Jg4GSc396FmrXcqT9cyKvMc2UwGZZtjTx8i7tL6RY5j"],"enrUri":"enr:-LO4QOl1T_-rK_a8gP4J3Eh7vCXk2WURMsO0PxLtIpoQlb-YPHoXCzXQgcqVt452bBPU9C8sDHMUdxHVpA4Sp0MM-sIBgmlkgnY0gmlwhKwSxsGKbXVsdGlhZGRyc4wACgSsEsbBBvPp3QOCcnOFAAABAACJc2VjcDI1NmsxoQKD7jQxyLmwK8Bq2PbqX-rNuuptW9b3mm0D2NohOQrxHoN0Y3CC8-iDdWRwgvPqhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:278 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62439/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.20.236/tcp/13750/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13749/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/0/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57984/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "3e2dced5-feef-4ae9-ae73-04aced152a86", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"3e2dced5-feef-4ae9-ae73-04aced152a86","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30816/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "5d54073a-2000-4cef-9497-aba077bc0e48", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"5d54073a-2000-4cef-9497-aba077bc0e48","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52468/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "6896320c-2046-47b6-80e9-3191f8d7b4d4", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"6896320c-2046-47b6-80e9-3191f8d7b4d4","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62439/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1df1476f-36ff-49b6-b407-c5c2386bb1cb", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"1df1476f-36ff-49b6-b407-c5c2386bb1cb","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13749/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_2:harbor.status.im/wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57984/filter/v2/messages/%2Fwaku%2F2%2Frs%2F0%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1720235628701897472,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13749/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_2:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30816/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:30816/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:217 Stopping container with id 96b6b2a156bf
[35mDEBUG   [0m src.node.waku_node:waku_node.py:224 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:217 Stopping container with id 067ba26d7380
[35mDEBUG   [0m src.node.waku_node:waku_node.py:224 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:217 Stopping container with id 22d861bb4ece
[35mDEBUG   [0m src.node.waku_node:waku_node.py:224 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:217 Stopping container with id 11dd24033871
[35mDEBUG   [0m src.node.waku_node:waku_node.py:224 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:217 Stopping container with id 34385ae5b0c2
[35mDEBUG   [0m src.node.waku_node:waku_node.py:224 Container stopped.