[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-06-13_03-11-56__d0c85053-c9c9-4a56-ac5a-cce80fd29db1
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node1_2024-06-13_03-11-56__d0c85053-c9c9-4a56-ac5a-cce80fd29db1__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.146.95
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['50507', '50508', '50509', '50510', '50511']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:373 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:120 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 50507:50507 -p 50508:50508 -p 50509:50509 -p 50510:50510 -p 50511:50511 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=50509 --rest-port=50507 --tcp-port=50508 --discv5-udp-port=50510 --rest-address=0.0.0.0 --nat=extip:172.18.146.95 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=50511 --metrics-logging=true --relay=true --filter=true --nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.146.95 waku 966c894aedea8a31dadeb2603c5e242e172b44501516da916783787d25e02678
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 966c894aedea. Setting up logs at ./log/docker/node1_2024-06-13_03-11-56__d0c85053-c9c9-4a56-ac5a-cce80fd29db1__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:134 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 50507
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50507/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:225 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50507/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.146.95/tcp/50508/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","/ip4/172.18.146.95/tcp/50509/ws/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"],"enrUri":"enr:-LO4QGwptrH1iiZcUSB4GCtoIHKi6WJKXWQrXTDBXw-ZLEFFLFt0Fm0S2rEn68dqZaJ8xL2P9cfoIPmiXnsTSKFTHeABgmlkgnY0gmlwhKwSkl-KbXVsdGlhZGRyc4wACgSsEpJfBsVN3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCxUyDdWRwgsVOhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:230 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node2_2024-06-13_03-11-56__d0c85053-c9c9-4a56-ac5a-cce80fd29db1__harbor.status.im_wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.91.196
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['11200', '11201', '11202', '11203', '11204']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:373 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:120 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 11200:11200 -p 11201:11201 -p 11202:11202 -p 11203:11203 -p 11204:11204 harbor.status.im/wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=11202 --rest-port=11200 --tcp-port=11201 --discv5-udp-port=11203 --rest-address=0.0.0.0 --nat=extip:172.18.91.196 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --relay=false --discv5-bootstrap-node=enr:-LO4QGwptrH1iiZcUSB4GCtoIHKi6WJKXWQrXTDBXw-ZLEFFLFt0Fm0S2rEn68dqZaJ8xL2P9cfoIPmiXnsTSKFTHeABgmlkgnY0gmlwhKwSkl-KbXVsdGlhZGRyc4wACgSsEpJfBsVN3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCxUyDdWRwgsVOhXdha3UyBQ --filternode=/ip4/172.18.146.95/tcp/50508/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.91.196 waku d23e9bf0b5cfa428e03ba93d7fac02621b98c5b5d01761bec7cbd6c5267fb985
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID d23e9bf0b5cf. Setting up logs at ./log/docker/node2_2024-06-13_03-11-56__d0c85053-c9c9-4a56-ac5a-cce80fd29db1__harbor.status.im_wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:134 Started container from image harbor.status.im/wakuorg/go-waku:latest. REST: 11200
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11200/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ly4QCp1jqmcqLsYDi2EL_IDDeC-2uaEeA99EdVM50QPxNz_O29CG1i4v73HiRPqh-GSSMRXs8ZPnbmIugONGUdHm9iGAZAPlKZugmlkgnY0gmlwhKwRAAOKbXVsdGlhZGRyc5gACgR_AAABBivC3QMACgSsEQADBivC3QOJc2VjcDI1NmsxoQNFkl7lLdGL6OgS-5L6MbTSBAz0dBcIYoAyI5f7PTkwDYN0Y3CCK8GDdWRwgivDhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/11201/p2p/16Uiu2HAmHLZw42ArQq7ZPBZu8XuNGsdmqy42Z1bDMUdFh1kMZTdW","/ip4/127.0.0.1/tcp/11202/ws/p2p/16Uiu2HAmHLZw42ArQq7ZPBZu8XuNGsdmqy42Z1bDMUdFh1kMZTdW","/ip4/172.17.0.3/tcp/11201/p2p/16Uiu2HAmHLZw42ArQq7ZPBZu8XuNGsdmqy42Z1bDMUdFh1kMZTdW","/ip4/172.17.0.3/tcp/11202/ws/p2p/16Uiu2HAmHLZw42ArQq7ZPBZu8XuNGsdmqy42Z1bDMUdFh1kMZTdW"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:230 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11200/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.146.95/tcp/50508/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node3_2024-06-13_03-11-56__d0c85053-c9c9-4a56-ac5a-cce80fd29db1__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.9.45
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['62231', '62232', '62233', '62234', '62235']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:373 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:120 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 62231:62231 -p 62232:62232 -p 62233:62233 -p 62234:62234 -p 62235:62235 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=62233 --rest-port=62231 --tcp-port=62232 --discv5-udp-port=62234 --rest-address=0.0.0.0 --nat=extip:172.18.9.45 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=62235 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QGwptrH1iiZcUSB4GCtoIHKi6WJKXWQrXTDBXw-ZLEFFLFt0Fm0S2rEn68dqZaJ8xL2P9cfoIPmiXnsTSKFTHeABgmlkgnY0gmlwhKwSkl-KbXVsdGlhZGRyc4wACgSsEpJfBsVN3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCxUyDdWRwgsVOhXdha3UyBQ --filternode=/ip4/172.18.146.95/tcp/50508/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.9.45 waku b9380cbdd9492d0b9982ea8054b5378641e367f6b78a98b7ff5cf006ca8460e9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID b9380cbdd949. Setting up logs at ./log/docker/node3_2024-06-13_03-11-56__d0c85053-c9c9-4a56-ac5a-cce80fd29db1__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:134 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 62231
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62231/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:225 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62231/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.9.45/tcp/62232/p2p/16Uiu2HAm9vxwbnKfAaJo2oQKx5KfthZnaTZpERfdq8XTe8wCm17B","/ip4/172.18.9.45/tcp/62233/ws/p2p/16Uiu2HAm9vxwbnKfAaJo2oQKx5KfthZnaTZpERfdq8XTe8wCm17B"],"enrUri":"enr:-LO4QOO56fPdT8DhYbedmaFcBjwLav7nLDthom7Uci-zxGOcJvBWwONM1e9dVFmPAB0n3OrRAp4faaijXzXrEnKNs2gBgmlkgnY0gmlwhKwSCS2KbXVsdGlhZGRyc4wACgSsEgktBvMZ3QOCcnOFAAABAACJc2VjcDI1NmsxoQLXhKO_feuLu0VX7Y2izfASnYcbcujHScKlS-QCOpSR9oN0Y3CC8xiDdWRwgvMahXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:230 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62231/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.146.95/tcp/50508/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node4_2024-06-13_03-11-56__d0c85053-c9c9-4a56-ac5a-cce80fd29db1__harbor.status.im_wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.68.142
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['33918', '33919', '33920', '33921', '33922']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:373 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:120 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 33918:33918 -p 33919:33919 -p 33920:33920 -p 33921:33921 -p 33922:33922 harbor.status.im/wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=33920 --rest-port=33918 --tcp-port=33919 --discv5-udp-port=33921 --rest-address=0.0.0.0 --nat=extip:172.18.68.142 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --relay=false --discv5-bootstrap-node=enr:-LO4QGwptrH1iiZcUSB4GCtoIHKi6WJKXWQrXTDBXw-ZLEFFLFt0Fm0S2rEn68dqZaJ8xL2P9cfoIPmiXnsTSKFTHeABgmlkgnY0gmlwhKwSkl-KbXVsdGlhZGRyc4wACgSsEpJfBsVN3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCxUyDdWRwgsVOhXdha3UyBQ --filternode=/ip4/172.18.146.95/tcp/50508/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.68.142 waku 1fdc70b429fdc1e82a48b6d13e4874afa87518da640df617d730f069f1929599
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 1fdc70b429fd. Setting up logs at ./log/docker/node4_2024-06-13_03-11-56__d0c85053-c9c9-4a56-ac5a-cce80fd29db1__harbor.status.im_wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:134 Started container from image harbor.status.im/wakuorg/go-waku:latest. REST: 33918
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33918/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ly4QAQhDhua1uOLtQ9y-PcZQeFDal8ARoWzcuGqrxZz6lskNbSlo4DEfI1sMghgJbXcn6IaD0586f30nYFf7BoahyeGAZAPlLIhgmlkgnY0gmlwhKwRAAqKbXVsdGlhZGRyc5gACgSsEQAKBoSA3QMACgR_AAABBoSA3QOJc2VjcDI1NmsxoQI4oynzJz38wPikYYLh_dvkeVgv0tQwgfRtVucIvqLRBYN0Y3CChH-DdWRwgoSBhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/33919/p2p/16Uiu2HAkyEm7ZqawxfgBGr1x2Aq4rYKMv3Cu121ZFexyt73VPrS8","/ip4/127.0.0.1/tcp/33920/ws/p2p/16Uiu2HAkyEm7ZqawxfgBGr1x2Aq4rYKMv3Cu121ZFexyt73VPrS8","/ip4/172.17.0.10/tcp/33919/p2p/16Uiu2HAkyEm7ZqawxfgBGr1x2Aq4rYKMv3Cu121ZFexyt73VPrS8","/ip4/172.17.0.10/tcp/33920/ws/p2p/16Uiu2HAkyEm7ZqawxfgBGr1x2Aq4rYKMv3Cu121ZFexyt73VPrS8"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:230 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33918/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.146.95/tcp/50508/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node5_2024-06-13_03-11-56__d0c85053-c9c9-4a56-ac5a-cce80fd29db1__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.98.172
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['61454', '61455', '61456', '61457', '61458']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:373 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:120 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 61454:61454 -p 61455:61455 -p 61456:61456 -p 61457:61457 -p 61458:61458 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=61456 --rest-port=61454 --tcp-port=61455 --discv5-udp-port=61457 --rest-address=0.0.0.0 --nat=extip:172.18.98.172 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=61458 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QGwptrH1iiZcUSB4GCtoIHKi6WJKXWQrXTDBXw-ZLEFFLFt0Fm0S2rEn68dqZaJ8xL2P9cfoIPmiXnsTSKFTHeABgmlkgnY0gmlwhKwSkl-KbXVsdGlhZGRyc4wACgSsEpJfBsVN3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCxUyDdWRwgsVOhXdha3UyBQ --filternode=/ip4/172.18.146.95/tcp/50508/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.98.172 waku 8d254eb1b04bd81ce38720755ba67c59b8fb1578bcef13a4ac9763b387611ebc
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 8d254eb1b04b. Setting up logs at ./log/docker/node5_2024-06-13_03-11-56__d0c85053-c9c9-4a56-ac5a-cce80fd29db1__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:134 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 61454
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61454/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:225 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61454/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.98.172/tcp/61455/p2p/16Uiu2HAm9MU8YK6ZTrCzReen92gfAr21qPNU6MSh42wqnKy4Bux6","/ip4/172.18.98.172/tcp/61456/ws/p2p/16Uiu2HAm9MU8YK6ZTrCzReen92gfAr21qPNU6MSh42wqnKy4Bux6"],"enrUri":"enr:-LO4QDOPwJZ-iIE_7fezrMyFW0dAN1SJAsSo19MVvnngsu-WTIOiuEInk8bWGRjTand6yTfEbKl7ynKBXILbXQpGid8BgmlkgnY0gmlwhKwSYqyKbXVsdGlhZGRyc4wACgSsEmKsBvAQ3QOCcnOFAAABAACJc2VjcDI1NmsxoQLO7-VUFmVSmalDvg3WHhnxHpNSsUCs6amRovkdXxmQi4N0Y3CC8A-DdWRwgvARhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:230 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61454/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.146.95/tcp/50508/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50507/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/0/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11200/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "a565910f-78d1-4b1c-9fe6-d2b88216068b", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"a565910f-78d1-4b1c-9fe6-d2b88216068b","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62231/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "114a9793-8d74-4f7a-9632-595e5be34545", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"114a9793-8d74-4f7a-9632-595e5be34545","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33918/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "e1ceb4ea-7fc8-4453-b9c6-4ede2bbdfbfa", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"e1ceb4ea-7fc8-4453-b9c6-4ede2bbdfbfa","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61454/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "ff9f9e8a-0092-46c5-8ea9-e3dc69e60dbe", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"ff9f9e8a-0092-46c5-8ea9-e3dc69e60dbe","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50507/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_2:harbor.status.im/wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11200/filter/v2/messages/%2Fwaku%2F2%2Frs%2F0%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1718248324385782272,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50507/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_2:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62231/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:62231/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:181 Stopping container with id 966c894aedea
[35mDEBUG   [0m src.node.waku_node:waku_node.py:188 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:181 Stopping container with id d23e9bf0b5cf
[35mDEBUG   [0m src.node.waku_node:waku_node.py:188 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:181 Stopping container with id b9380cbdd949
[35mDEBUG   [0m src.node.waku_node:waku_node.py:188 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:181 Stopping container with id 1fdc70b429fd
[35mDEBUG   [0m src.node.waku_node:waku_node.py:188 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:181 Stopping container with id 8d254eb1b04b
[35mDEBUG   [0m src.node.waku_node:waku_node.py:188 Container stopped.