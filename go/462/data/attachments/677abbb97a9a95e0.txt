2025-02-11 09:58:58.560 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-11 09:58:58.561 DEBUG [tests.conftest] Running test: test_relay_unsubscribe_from_some_pubsub_topics with id: 2025-02-11_09-58-58__a21fb0b8-4f2e-49ed-ae61-550f48d42010
2025-02-11 09:58:58.561 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-11 09:58:58.561 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-11 09:58:58.561 DEBUG [src.steps.relay] Running fixture setup: setup_main_relay_nodes
2025-02-11 09:58:58.567 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 09:58:58.567 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-11_09-58-58__a21fb0b8-4f2e-49ed-ae61-550f48d42010__wakuorg_nwaku:latest.log
2025-02-11 09:58:58.568 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 09:58:58.568 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 09:58:58.569 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 09:58:58.569 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.4.145
2025-02-11 09:58:58.569 DEBUG [src.node.docker_mananger] Generated ports ['40427', '40428', '40429', '40430', '40431']
2025-02-11 09:58:58.569 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 09:58:58.570 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 09:58:58.570 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 09:58:58.570 DEBUG [src.node.docker_mananger] docker run -i -t -p 40427:40427 -p 40428:40428 -p 40429:40429 -p 40430:40430 -p 40431:40431 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=40429 --rest-port=40427 --tcp-port=40428 --discv5-udp-port=40430 --rest-address=0.0.0.0 --nat=extip:172.18.4.145 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1ae6402e5fba96169ed4c9af136bd99dab5ca2440e54a514f2b4f6e55ff58f06 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=40431 --metrics-logging=true --relay=true
2025-02-11 09:58:58.800 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.4.145 waku 171177216be543a65827b5c85b0e8e0133f4d337341adb716de695d95ceac099
2025-02-11 09:58:58.848 DEBUG [src.node.docker_mananger] Container started with ID 171177216be5. Setting up logs at ./log/docker/node1_2025-02-11_09-58-58__a21fb0b8-4f2e-49ed-ae61-550f48d42010__wakuorg_nwaku:latest.log
2025-02-11 09:58:58.848 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 40427
2025-02-11 09:58:58.849 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 09:58:58.883 ERROR [src.node.docker_mananger] Max retries reached for container 6530be9b741c. Exiting log stream.
2025-02-11 09:58:59.353 ERROR [src.node.docker_mananger] Max retries reached for container f3ad91150439. Exiting log stream.
2025-02-11 09:58:59.850 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40427/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:58:59.853 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 09:58:59.853 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 09:58:59.853 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40427/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:58:59.855 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.4.145/tcp/40428/p2p/16Uiu2HAmTGU4bYcG4s6BEUfvwe2HSHdSKr8jh3srWJSdVFee95zt","/ip4/172.18.4.145/tcp/40429/ws/p2p/16Uiu2HAmTGU4bYcG4s6BEUfvwe2HSHdSKr8jh3srWJSdVFee95zt"],"enrUri":"enr:-L24QM2BeyEvN4iwHI5zTvCv6eR47dHk8NQOUJTSgmczk8fMHIffPJSOYLZrBQ5j_gC3jcbDPLC55OIkKyA9Z1hqs80CgmlkgnY0gmlwhKwSBJGKbXVsdGlhZGRyc5YACASsEgSRBp3sAAoErBIEkQad7d0DgnJzhQADAQAAiXNlY3AyNTZrMaED2RpHkJ1SAcSh5E5LZlvUlCY-qDOhHXQZUnxEfaLcXd2DdGNwgp3sg3VkcIKd7oV3YWt1MgE"}'
2025-02-11 09:58:59.855 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 09:58:59.861 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-11 09:58:59.862 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-11_09-58-58__a21fb0b8-4f2e-49ed-ae61-550f48d42010__wakuorg_go-waku:latest.log
2025-02-11 09:58:59.862 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 09:58:59.862 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 09:58:59.863 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 09:58:59.863 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.190.22
2025-02-11 09:58:59.863 DEBUG [src.node.docker_mananger] Generated ports ['51269', '51270', '51271', '51272', '51273']
2025-02-11 09:58:59.864 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 09:58:59.864 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 09:58:59.864 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 09:58:59.864 DEBUG [src.node.docker_mananger] docker run -i -t -p 51269:51269 -p 51270:51270 -p 51271:51271 -p 51272:51272 -p 51273:51273 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=51271 --rest-port=51269 --tcp-port=51270 --discv5-udp-port=51272 --rest-address=0.0.0.0 --nat=extip:172.18.190.22 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bcd162cd06c56245df9ccc378dd077e8dc361b739032abbdf9870f320bb9ca2d --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-L24QM2BeyEvN4iwHI5zTvCv6eR47dHk8NQOUJTSgmczk8fMHIffPJSOYLZrBQ5j_gC3jcbDPLC55OIkKyA9Z1hqs80CgmlkgnY0gmlwhKwSBJGKbXVsdGlhZGRyc5YACASsEgSRBp3sAAoErBIEkQad7d0DgnJzhQADAQAAiXNlY3AyNTZrMaED2RpHkJ1SAcSh5E5LZlvUlCY-qDOhHXQZUnxEfaLcXd2DdGNwgp3sg3VkcIKd7oV3YWt1MgE
2025-02-11 09:59:00.093 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.190.22 waku 0128f5e2f6031a4f851f6e5db102903113b9e7f1e4f621490278675677af3dab
2025-02-11 09:59:00.146 DEBUG [src.node.docker_mananger] Container started with ID 0128f5e2f603. Setting up logs at ./log/docker/node2_2025-02-11_09-58-58__a21fb0b8-4f2e-49ed-ae61-550f48d42010__wakuorg_go-waku:latest.log
2025-02-11 09:59:00.147 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 51269
2025-02-11 09:59:00.149 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 09:59:01.149 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:51269/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:59:01.152 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QLtYR_kQM1Sl7-J5ClZ1mw2fWK_T9RMOQCSdDNjT9LeTeAwjFyH4wTPmaHLqw6TN9d6jlg0Hvm3dhlM05Efw-xSGAZT0cp8tgmlkgnY0gmlwhKwRAAOCcnODAAMAiXNlY3AyNTZrMaEDXnv_1YOYZi-W0FqUirTASgIaxX10pE53KQoo3q1FnriDdGNwgshGg3VkcILISIV3YWt1MgE","listenAddresses":["/ip4/127.0.0.1/tcp/51270/p2p/16Uiu2HAmK1pLfavzXiLPXyUqxdAdWEfmNDBKFP9GYD3nN8VG7Afy","/ip4/127.0.0.1/tcp/51271/ws/p2p/16Uiu2HAmK1pLfavzXiLPXyUqxdAdWEfmNDBKFP9GYD3nN8VG7Afy","/ip4/172.17.0.3/tcp/51270/p2p/16Uiu2HAmK1pLfavzXiLPXyUqxdAdWEfmNDBKFP9GYD3nN8VG7Afy","/ip4/172.17.0.3/tcp/51271/ws/p2p/16Uiu2HAmK1pLfavzXiLPXyUqxdAdWEfmNDBKFP9GYD3nN8VG7Afy"]}'
2025-02-11 09:59:01.152 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 09:59:01.153 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:51269/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.4.145/tcp/40428/p2p/16Uiu2HAmTGU4bYcG4s6BEUfvwe2HSHdSKr8jh3srWJSdVFee95zt", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-11 09:59:01.169 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-11 09:59:01.172 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40427/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9", "/waku/2/rs/3/25", "/waku/2/rs/3/1000"]'
2025-02-11 09:59:01.196 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 09:59:01.197 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:51269/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9", "/waku/2/rs/3/25", "/waku/2/rs/3/1000"]'
2025-02-11 09:59:01.200 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 09:59:01.201 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40427/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 09:59:01.206 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 09:59:01.206 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:59:01.307 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 09:59:01.307 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40427/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:59:01.310 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739267941201047296,"ephemeral":false}]'
2025-02-11 09:59:01.311 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 09:59:01.312 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:51269/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:59:01.313 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-11 09:59:02.314 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40427/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 09:59:02.319 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 09:59:02.319 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:59:02.420 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 09:59:02.420 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40427/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:59:02.423 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739267942314457856,"ephemeral":false}]'
2025-02-11 09:59:02.424 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 09:59:02.424 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:51269/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:59:02.426 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739267942314457856,"ephemeral":false}]'
2025-02-11 09:59:02.428 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40427/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 09:59:02.432 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 09:59:02.432 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:59:02.532 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 09:59:02.533 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40427/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:59:02.536 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739267942427986688,"ephemeral":false}]'
2025-02-11 09:59:02.537 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 09:59:02.537 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:51269/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:59:02.539 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739267942427986688,"ephemeral":false}]'
2025-02-11 09:59:02.541 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40427/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F9" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 09:59:02.545 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 09:59:02.545 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:59:02.646 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 09:59:02.646 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40427/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F9" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:59:02.649 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739267942541054208,"ephemeral":false}]'
2025-02-11 09:59:02.650 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 09:59:02.650 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:51269/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F9" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:59:02.652 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739267942541054208,"ephemeral":false}]'
2025-02-11 09:59:02.654 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40427/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 09:59:02.658 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 09:59:02.658 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:59:02.758 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 09:59:02.759 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40427/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:59:02.761 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739267942653980160,"ephemeral":false}]'
2025-02-11 09:59:02.763 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 09:59:02.763 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:51269/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:59:02.765 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739267942653980160,"ephemeral":false}]'
2025-02-11 09:59:02.766 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40427/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 09:59:02.771 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 09:59:02.772 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:59:02.872 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 09:59:02.872 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40427/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:59:02.875 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739267942766705664,"ephemeral":false}]'
2025-02-11 09:59:02.876 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 09:59:02.877 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:51269/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:59:02.878 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739267942766705664,"ephemeral":false}]'
2025-02-11 09:59:02.880 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:40427/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9"]'
2025-02-11 09:59:02.887 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 09:59:02.887 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:51269/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9"]'
2025-02-11 09:59:02.889 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 09:59:02.890 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40427/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 09:59:02.894 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:40427/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/3/0'
2025-02-11 09:59:02.894 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40427/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 09:59:02.897 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:40427/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/3/1'
2025-02-11 09:59:02.897 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40427/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F9" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 09:59:02.899 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:40427/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F9. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/3/9'
2025-02-11 09:59:02.900 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40427/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 09:59:02.904 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 09:59:02.904 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:59:03.004 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 09:59:03.005 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40427/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:59:03.007 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739267942900126720,"ephemeral":false}]'
2025-02-11 09:59:03.009 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 09:59:03.009 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:51269/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:59:03.011 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739267942900126720,"ephemeral":false}]'
2025-02-11 09:59:03.013 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40427/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 09:59:03.017 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 09:59:03.017 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:59:03.117 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 09:59:03.118 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40427/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:59:03.120 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739267943012986880,"ephemeral":false}]'
2025-02-11 09:59:03.122 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 09:59:03.122 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:51269/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:59:03.124 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739267943012986880,"ephemeral":false}]'
2025-02-11 09:59:03.126 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-11 09:59:03.127 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-11 09:59:03.127 DEBUG [src.node.waku_node] Stopping container with id 171177216be5
2025-02-11 09:59:04.327 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 09:59:04.327 DEBUG [src.node.waku_node] Stopping container with id 0128f5e2f603
2025-02-11 09:59:04.859 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 09:59:04.860 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-11 09:59:04.876 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 09:59:04.879 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
