2025-02-11 09:56:20.054 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-11 09:56:20.054 DEBUG [tests.conftest] Running test: test_light_push_with_valid_content_topics with id: 2025-02-11_09-56-20__238d3989-eb11-48cd-8457-16dfab4e3c57
2025-02-11 09:56:20.055 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-11 09:56:20.055 DEBUG [src.steps.light_push] Running fixture setup: light_push_setup
2025-02-11 09:56:20.061 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 09:56:20.061 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node1_2025-02-11_09-56-20__238d3989-eb11-48cd-8457-16dfab4e3c57__wakuorg_nwaku:latest.log
2025-02-11 09:56:20.061 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 09:56:20.062 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 09:56:20.063 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 09:56:20.063 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.240.213
2025-02-11 09:56:20.063 DEBUG [src.node.docker_mananger] Generated ports ['17269', '17270', '17271', '17272', '17273']
2025-02-11 09:56:20.063 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 09:56:20.063 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 09:56:20.064 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 09:56:20.064 DEBUG [src.node.docker_mananger] docker run -i -t -p 17269:17269 -p 17270:17270 -p 17271:17271 -p 17272:17272 -p 17273:17273 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=17271 --rest-port=17269 --tcp-port=17270 --discv5-udp-port=17272 --rest-address=0.0.0.0 --nat=extip:172.18.240.213 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8cffa477ea24f7b583dbcbf4aadf9badb82b34cffef722b2bbd77ae792558feb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=17273 --metrics-logging=true --lightpush=true --relay=true
2025-02-11 09:56:20.290 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.240.213 waku da12ebcb2c5c1d57f10de963afa0440507866b1fe8239f39490de1179b6c86ea
2025-02-11 09:56:20.324 ERROR [src.node.docker_mananger] Max retries reached for container b46e672fb165. Exiting log stream.
2025-02-11 09:56:20.337 DEBUG [src.node.docker_mananger] Container started with ID da12ebcb2c5c. Setting up logs at ./log/docker/receiving_node1_2025-02-11_09-56-20__238d3989-eb11-48cd-8457-16dfab4e3c57__wakuorg_nwaku:latest.log
2025-02-11 09:56:20.338 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 17269
2025-02-11 09:56:20.338 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 09:56:20.848 ERROR [src.node.docker_mananger] Max retries reached for container d443d98e8af8. Exiting log stream.
2025-02-11 09:56:21.340 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17269/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:21.342 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 09:56:21.343 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 09:56:21.343 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17269/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:21.345 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.240.213/tcp/17270/p2p/16Uiu2HAmRpsc8Ng5GhHo6KV9UtTkfgRz9h9pdYPGW2kA8uMufJje","/ip4/172.18.240.213/tcp/17271/ws/p2p/16Uiu2HAmRpsc8Ng5GhHo6KV9UtTkfgRz9h9pdYPGW2kA8uMufJje"],"enrUri":"enr:-L24QJwrYr9JnyqWE10ZJviN4JolMBVuK1JfT1up5hfeYpa-SzLMKn1SLke8AuT1Rxl5v_n0dvyx0J82KcMdxOknpugCgmlkgnY0gmlwhKwS8NWKbXVsdGlhZGRyc5YACASsEvDVBkN2AAoErBLw1QZDd90DgnJzhQADAQAAiXNlY3AyNTZrMaEDw7AcyyQ0RbniB5yIsYMKIgdPy80VO7ByBOiuohZtlD2DdGNwgkN2g3VkcIJDeIV3YWt1Mgk"}'
2025-02-11 09:56:21.345 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 09:56:21.352 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 09:56:21.352 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node2_2025-02-11_09-56-20__238d3989-eb11-48cd-8457-16dfab4e3c57__wakuorg_nwaku:latest.log
2025-02-11 09:56:21.352 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 09:56:21.352 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 09:56:21.353 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 09:56:21.354 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.47.255
2025-02-11 09:56:21.354 DEBUG [src.node.docker_mananger] Generated ports ['45425', '45426', '45427', '45428', '45429']
2025-02-11 09:56:21.354 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 09:56:21.354 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 09:56:21.354 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 09:56:21.354 DEBUG [src.node.docker_mananger] docker run -i -t -p 45425:45425 -p 45426:45426 -p 45427:45427 -p 45428:45428 -p 45429:45429 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=45427 --rest-port=45425 --tcp-port=45426 --discv5-udp-port=45428 --rest-address=0.0.0.0 --nat=extip:172.18.47.255 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d6074323ac0ab69c3c5bcae9f2dca4c099327d9accf7a3dbc043a810e25eafbd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=45429 --metrics-logging=true --lightpush=false --relay=true
2025-02-11 09:56:21.588 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.47.255 waku e0a7a624d111f70359fbdec176790b24ecd8d06218d7ea7fdd91709e973df86c
2025-02-11 09:56:21.634 DEBUG [src.node.docker_mananger] Container started with ID e0a7a624d111. Setting up logs at ./log/docker/receiving_node2_2025-02-11_09-56-20__238d3989-eb11-48cd-8457-16dfab4e3c57__wakuorg_nwaku:latest.log
2025-02-11 09:56:21.634 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 45425
2025-02-11 09:56:21.635 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 09:56:22.635 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45425/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:22.638 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 09:56:22.638 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 09:56:22.638 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45425/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:22.640 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.47.255/tcp/45426/p2p/16Uiu2HAmSNWUAS3enR2184ss6JApduEzAgsz9M3KmXtccrpZcGw5","/ip4/172.18.47.255/tcp/45427/ws/p2p/16Uiu2HAmSNWUAS3enR2184ss6JApduEzAgsz9M3KmXtccrpZcGw5"],"enrUri":"enr:-L24QAwiwTAul1eqM6H2lxma7a-P1jeCBSS-J79yOImb1XjrC13EKW5GWAWsm0DQQBu5noEz-1aza6003iIYnEUKpa0CgmlkgnY0gmlwhKwSL_-KbXVsdGlhZGRyc5YACASsEi__BrFyAAoErBIv_waxc90DgnJzhQADAQAAiXNlY3AyNTZrMaEDy8rMXtWNt0_BGGyEo3a3dSQjltdZBAkgYHvbLTTC6fSDdGNwgrFyg3VkcIKxdIV3YWt1MgE"}'
2025-02-11 09:56:22.641 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 09:56:22.641 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45425/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.240.213/tcp/17270/p2p/16Uiu2HAmRpsc8Ng5GhHo6KV9UtTkfgRz9h9pdYPGW2kA8uMufJje"]'
2025-02-11 09:56:22.681 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 09:56:22.690 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-11 09:56:22.691 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/lightpush_node1_2025-02-11_09-56-20__238d3989-eb11-48cd-8457-16dfab4e3c57__wakuorg_go-waku:latest.log
2025-02-11 09:56:22.691 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 09:56:22.691 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 09:56:22.692 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 09:56:22.693 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.140.57
2025-02-11 09:56:22.693 DEBUG [src.node.docker_mananger] Generated ports ['51257', '51258', '51259', '51260', '51261']
2025-02-11 09:56:22.693 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 09:56:22.693 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 09:56:22.693 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 09:56:22.693 DEBUG [src.node.docker_mananger] docker run -i -t -p 51257:51257 -p 51258:51258 -p 51259:51259 -p 51260:51260 -p 51261:51261 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=51259 --rest-port=51257 --tcp-port=51258 --discv5-udp-port=51260 --rest-address=0.0.0.0 --nat=extip:172.18.140.57 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c1214f942a04abeab91f8f7bfea1abfb58cb86fa6ecbde3894ff6ad8b78e0e9f --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-L24QJwrYr9JnyqWE10ZJviN4JolMBVuK1JfT1up5hfeYpa-SzLMKn1SLke8AuT1Rxl5v_n0dvyx0J82KcMdxOknpugCgmlkgnY0gmlwhKwS8NWKbXVsdGlhZGRyc5YACASsEvDVBkN2AAoErBLw1QZDd90DgnJzhQADAQAAiXNlY3AyNTZrMaEDw7AcyyQ0RbniB5yIsYMKIgdPy80VO7ByBOiuohZtlD2DdGNwgkN2g3VkcIJDeIV3YWt1Mgk --lightpushnode=/ip4/172.18.240.213/tcp/17270/p2p/16Uiu2HAmRpsc8Ng5GhHo6KV9UtTkfgRz9h9pdYPGW2kA8uMufJje --lightpush=true --relay=false --pubsub-topic=/waku/2/rs/3/1
2025-02-11 09:56:22.939 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.140.57 waku 12c5ef63e9142930a6463497f0011208ed411bd77a6f0a7c21a37fd924fd895e
2025-02-11 09:56:22.997 DEBUG [src.node.docker_mananger] Container started with ID 12c5ef63e914. Setting up logs at ./log/docker/lightpush_node1_2025-02-11_09-56-20__238d3989-eb11-48cd-8457-16dfab4e3c57__wakuorg_go-waku:latest.log
2025-02-11 09:56:22.998 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 51257
2025-02-11 09:56:22.998 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 09:56:23.998 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:51257/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:24.001 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QPy2WaUsjV9tjjEzBcUpZpwvghY-8CoVhPDER8c4mCG7HSMKJ6lkXUppleDbWpKGWS8GyJ9l7JT8vY8SZMxXt--GAZT0cDlJgmlkgnY0gmlwhKwRAASCcnOFAAMBAAGJc2VjcDI1NmsxoQJKgZPWfG9024mUnnLN8YfixDE4X56udpIcmQALtU7rH4N0Y3CCyDqDdWRwgsg8hXdha3UyCA","listenAddresses":["/ip4/127.0.0.1/tcp/51258/p2p/16Uiu2HAkzSWkNdZ9CEUc3CpV9iMxTsPJBhbe4qmBN28aSjX3Bex6","/ip4/127.0.0.1/tcp/51259/ws/p2p/16Uiu2HAkzSWkNdZ9CEUc3CpV9iMxTsPJBhbe4qmBN28aSjX3Bex6","/ip4/172.17.0.4/tcp/51258/p2p/16Uiu2HAkzSWkNdZ9CEUc3CpV9iMxTsPJBhbe4qmBN28aSjX3Bex6","/ip4/172.17.0.4/tcp/51259/ws/p2p/16Uiu2HAkzSWkNdZ9CEUc3CpV9iMxTsPJBhbe4qmBN28aSjX3Bex6"]}'
2025-02-11 09:56:24.001 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 09:56:24.001 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:51257/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.240.213/tcp/17270/p2p/16Uiu2HAmRpsc8Ng5GhHo6KV9UtTkfgRz9h9pdYPGW2kA8uMufJje", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-11 09:56:24.003 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-11 09:56:24.004 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:51257/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.47.255/tcp/45426/p2p/16Uiu2HAmSNWUAS3enR2184ss6JApduEzAgsz9M3KmXtccrpZcGw5", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-11 09:56:24.019 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-11 09:56:24.020 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17269/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-11 09:56:24.026 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 09:56:24.026 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45425/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-11 09:56:24.031 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 09:56:24.032 DEBUG [tests.light_push.test_publish] Running test with content topic A simple string
2025-02-11 09:56:24.032 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 09:56:24.032 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:51257/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "Hello World!", "timestamp": 1739267784032438784}}'
2025-02-11 09:56:24.039 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 09:56:24.041 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:56:24.141 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:24.142 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17269/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:24.145 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Hello World!","version":0,"timestamp":1739267784032438784,"ephemeral":false}]'
2025-02-11 09:56:24.146 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:24.146 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45425/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:24.149 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Hello World!","version":0,"timestamp":1739267784032438784,"ephemeral":false}]'
2025-02-11 09:56:24.150 DEBUG [tests.light_push.test_publish] Running test with content topic An integer
2025-02-11 09:56:24.150 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 09:56:24.151 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:51257/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "1234567890", "timestamp": 1739267784150684160}}'
2025-02-11 09:56:24.156 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 09:56:24.157 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:56:24.257 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:24.258 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17269/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:24.260 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"1234567890","version":0,"timestamp":1739267784150684160,"ephemeral":false}]'
2025-02-11 09:56:24.262 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:24.262 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45425/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:24.264 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"1234567890","version":0,"timestamp":1739267784150684160,"ephemeral":false}]'
2025-02-11 09:56:24.265 DEBUG [tests.light_push.test_publish] Running test with content topic A dictionary
2025-02-11 09:56:24.266 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 09:56:24.266 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:51257/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "{\"key\": \"value\"}", "timestamp": 1739267784266202112}}'
2025-02-11 09:56:24.272 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 09:56:24.274 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:56:24.374 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:24.374 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17269/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:24.377 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"{\\"key\\": \\"value\\"}","version":0,"timestamp":1739267784266202112,"ephemeral":false}]'
2025-02-11 09:56:24.379 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:24.379 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45425/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:24.381 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"{\\"key\\": \\"value\\"}","version":0,"timestamp":1739267784266202112,"ephemeral":false}]'
2025-02-11 09:56:24.382 DEBUG [tests.light_push.test_publish] Running test with content topic Chinese characters
2025-02-11 09:56:24.383 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 09:56:24.383 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:51257/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "\u8fd9\u662f\u4e00\u4e9b\u4e2d\u6587", "timestamp": 1739267784382997248}}'
2025-02-11 09:56:24.389 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 09:56:24.390 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:56:24.491 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:24.491 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17269/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:24.494 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xe8\xbf\x99\xe6\x98\xaf\xe4\xb8\x80\xe4\xba\x9b\xe4\xb8\xad\xe6\x96\x87","version":0,"timestamp":1739267784382997248,"ephemeral":false}]'
2025-02-11 09:56:24.495 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:24.495 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45425/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:24.498 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xe8\xbf\x99\xe6\x98\xaf\xe4\xb8\x80\xe4\xba\x9b\xe4\xb8\xad\xe6\x96\x87","version":0,"timestamp":1739267784382997248,"ephemeral":false}]'
2025-02-11 09:56:24.499 DEBUG [tests.light_push.test_publish] Running test with content topic Emojis
2025-02-11 09:56:24.499 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 09:56:24.500 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:51257/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "\ud83d\ude80\ud83c\udf1f\u2728", "timestamp": 1739267784499659776}}'
2025-02-11 09:56:24.505 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 09:56:24.507 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:56:24.608 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:24.608 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17269/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:24.611 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xf0\x9f\x9a\x80\xf0\x9f\x8c\x9f\xe2\x9c\xa8","version":0,"timestamp":1739267784499659776,"ephemeral":false}]'
2025-02-11 09:56:24.613 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:24.613 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45425/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:24.615 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xf0\x9f\x9a\x80\xf0\x9f\x8c\x9f\xe2\x9c\xa8","version":0,"timestamp":1739267784499659776,"ephemeral":false}]'
2025-02-11 09:56:24.616 DEBUG [tests.light_push.test_publish] Running test with content topic Lorem ipsum text
2025-02-11 09:56:24.617 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 09:56:24.617 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:51257/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "Lorem ipsum dolor sit amet", "timestamp": 1739267784617096960}}'
2025-02-11 09:56:24.623 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 09:56:24.624 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:56:24.724 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:24.725 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17269/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:24.727 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Lorem ipsum dolor sit amet","version":0,"timestamp":1739267784617096960,"ephemeral":false}]'
2025-02-11 09:56:24.729 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:24.729 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45425/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:24.731 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Lorem ipsum dolor sit amet","version":0,"timestamp":1739267784617096960,"ephemeral":false}]'
2025-02-11 09:56:24.733 DEBUG [tests.light_push.test_publish] Running test with content topic HTML content
2025-02-11 09:56:24.733 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 09:56:24.733 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:51257/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "<html><body>Hello</body></html>", "timestamp": 1739267784733266432}}'
2025-02-11 09:56:24.740 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 09:56:24.742 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:56:24.842 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:24.843 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17269/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:24.845 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"<html><body>Hello</body></html>","version":0,"timestamp":1739267784733266432,"ephemeral":false}]'
2025-02-11 09:56:24.847 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:24.847 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45425/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:24.849 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"<html><body>Hello</body></html>","version":0,"timestamp":1739267784733266432,"ephemeral":false}]'
2025-02-11 09:56:24.850 DEBUG [tests.light_push.test_publish] Running test with content topic Cyrillic characters
2025-02-11 09:56:24.851 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 09:56:24.851 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:51257/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "\u041f\u0440\u0438\u0432\u0435\u0442", "timestamp": 1739267784851140352}}'
2025-02-11 09:56:24.857 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 09:56:24.858 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:56:24.959 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:24.959 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17269/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:24.962 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xd0\x9f\xd1\x80\xd0\xb8\xd0\xb2\xd0\xb5\xd1\x82","version":0,"timestamp":1739267784851140352,"ephemeral":false}]'
2025-02-11 09:56:24.963 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:24.963 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45425/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:24.966 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xd0\x9f\xd1\x80\xd0\xb8\xd0\xb2\xd0\xb5\xd1\x82","version":0,"timestamp":1739267784851140352,"ephemeral":false}]'
2025-02-11 09:56:24.967 DEBUG [tests.light_push.test_publish] Running test with content topic Base64 encoded string
2025-02-11 09:56:24.967 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 09:56:24.967 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:51257/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "Base64==dGVzdA==", "timestamp": 1739267784967636480}}'
2025-02-11 09:56:24.974 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 09:56:24.974 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:56:25.075 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:25.076 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17269/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:25.078 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Base64==dGVzdA==","version":0,"timestamp":1739267784967636480,"ephemeral":false}]'
2025-02-11 09:56:25.080 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:25.080 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45425/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:25.082 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Base64==dGVzdA==","version":0,"timestamp":1739267784967636480,"ephemeral":false}]'
2025-02-11 09:56:25.083 DEBUG [tests.light_push.test_publish] Running test with content topic Binary data
2025-02-11 09:56:25.084 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 09:56:25.084 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:51257/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "d29ya2luZyB3aXRoIGJpbmFyeSBkYXRh: PQ", "timestamp": 1739267785084205824}}'
2025-02-11 09:56:25.092 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 09:56:25.093 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:56:25.193 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:25.193 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17269/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:25.196 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"d29ya2luZyB3aXRoIGJpbmFyeSBkYXRh: PQ","version":0,"timestamp":1739267785084205824,"ephemeral":false}]'
2025-02-11 09:56:25.199 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:25.199 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45425/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:25.202 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"d29ya2luZyB3aXRoIGJpbmFyeSBkYXRh: PQ","version":0,"timestamp":1739267785084205824,"ephemeral":false}]'
2025-02-11 09:56:25.203 DEBUG [tests.light_push.test_publish] Running test with content topic Special characters with whitespace
2025-02-11 09:56:25.204 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 09:56:25.204 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:51257/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "\t\nSpecial\tCharacters\n", "timestamp": 1739267785204089600}}'
2025-02-11 09:56:25.211 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 09:56:25.213 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:56:25.313 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:25.314 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17269/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:25.316 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\\t\\nSpecial\\tCharacters\\n","version":0,"timestamp":1739267785204089600,"ephemeral":false}]'
2025-02-11 09:56:25.318 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:25.318 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45425/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:25.320 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\\t\\nSpecial\\tCharacters\\n","version":0,"timestamp":1739267785204089600,"ephemeral":false}]'
2025-02-11 09:56:25.322 DEBUG [tests.light_push.test_publish] Running test with content topic Boolean false as a string
2025-02-11 09:56:25.322 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 09:56:25.322 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:51257/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "False", "timestamp": 1739267785322446336}}'
2025-02-11 09:56:25.328 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 09:56:25.331 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:56:25.431 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:25.431 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17269/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:25.434 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"False","version":0,"timestamp":1739267785322446336,"ephemeral":false}]'
2025-02-11 09:56:25.436 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:25.436 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45425/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:25.438 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"False","version":0,"timestamp":1739267785322446336,"ephemeral":false}]'
2025-02-11 09:56:25.440 DEBUG [tests.light_push.test_publish] Running test with content topic A float number
2025-02-11 09:56:25.440 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 09:56:25.440 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:51257/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "3.1415926535", "timestamp": 1739267785440427776}}'
2025-02-11 09:56:25.446 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 09:56:25.448 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:56:25.549 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:25.549 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17269/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:25.552 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"3.1415926535","version":0,"timestamp":1739267785440427776,"ephemeral":false}]'
2025-02-11 09:56:25.554 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:25.554 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45425/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:25.556 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"3.1415926535","version":0,"timestamp":1739267785440427776,"ephemeral":false}]'
2025-02-11 09:56:25.557 DEBUG [tests.light_push.test_publish] Running test with content topic A list
2025-02-11 09:56:25.558 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 09:56:25.558 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:51257/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "[1, 2, 3, 4, 5]", "timestamp": 1739267785558206464}}'
2025-02-11 09:56:25.564 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 09:56:25.566 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:56:25.667 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:25.667 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17269/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:25.670 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"[1, 2, 3, 4, 5]","version":0,"timestamp":1739267785558206464,"ephemeral":false}]'
2025-02-11 09:56:25.671 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:25.671 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45425/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:25.673 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"[1, 2, 3, 4, 5]","version":0,"timestamp":1739267785558206464,"ephemeral":false}]'
2025-02-11 09:56:25.675 DEBUG [tests.light_push.test_publish] Running test with content topic Hexadecimal number as a string
2025-02-11 09:56:25.675 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 09:56:25.675 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:51257/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "0xDEADBEEF", "timestamp": 1739267785675354624}}'
2025-02-11 09:56:25.681 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 09:56:25.683 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:56:25.783 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:25.784 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17269/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:25.787 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"0xDEADBEEF","version":0,"timestamp":1739267785675354624,"ephemeral":false}]'
2025-02-11 09:56:25.788 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:25.788 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45425/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:25.791 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"0xDEADBEEF","version":0,"timestamp":1739267785675354624,"ephemeral":false}]'
2025-02-11 09:56:25.792 DEBUG [tests.light_push.test_publish] Running test with content topic Email format
2025-02-11 09:56:25.793 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 09:56:25.793 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:51257/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "user@example.com", "timestamp": 1739267785792880896}}'
2025-02-11 09:56:25.799 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 09:56:25.802 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:56:25.902 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:25.902 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17269/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:25.905 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"user@example.com","version":0,"timestamp":1739267785792880896,"ephemeral":false}]'
2025-02-11 09:56:25.907 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:25.907 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45425/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:25.909 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"user@example.com","version":0,"timestamp":1739267785792880896,"ephemeral":false}]'
2025-02-11 09:56:25.910 DEBUG [tests.light_push.test_publish] Running test with content topic URL format
2025-02-11 09:56:25.911 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 09:56:25.911 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:51257/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "http://example.com", "timestamp": 1739267785910961408}}'
2025-02-11 09:56:25.917 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 09:56:25.918 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:56:26.019 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:26.020 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17269/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:26.023 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"http://example.com","version":0,"timestamp":1739267785910961408,"ephemeral":false}]'
2025-02-11 09:56:26.024 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:26.024 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45425/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:26.026 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"http://example.com","version":0,"timestamp":1739267785910961408,"ephemeral":false}]'
2025-02-11 09:56:26.028 DEBUG [tests.light_push.test_publish] Running test with content topic Date and time in ISO format
2025-02-11 09:56:26.028 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 09:56:26.028 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:51257/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "2023-11-01T12:00:00Z", "timestamp": 1739267786028336384}}'
2025-02-11 09:56:26.034 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 09:56:26.035 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:56:26.135 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:26.136 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17269/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:26.138 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"2023-11-01T12:00:00Z","version":0,"timestamp":1739267786028336384,"ephemeral":false}]'
2025-02-11 09:56:26.140 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:26.140 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45425/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:26.143 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"2023-11-01T12:00:00Z","version":0,"timestamp":1739267786028336384,"ephemeral":false}]'
2025-02-11 09:56:26.144 DEBUG [tests.light_push.test_publish] Running test with content topic String with escaped quotes
2025-02-11 09:56:26.145 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 09:56:26.145 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:51257/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "\"Escaped\" \\\"quotes\\\"", "timestamp": 1739267786144739584}}'
2025-02-11 09:56:26.151 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 09:56:26.152 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:56:26.253 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:26.253 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17269/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:26.256 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\\"Escaped\\" \\\\\\"quotes\\\\\\"","version":0,"timestamp":1739267786144739584,"ephemeral":false}]'
2025-02-11 09:56:26.258 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:26.258 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45425/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:26.260 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\\"Escaped\\" \\\\\\"quotes\\\\\\"","version":0,"timestamp":1739267786144739584,"ephemeral":false}]'
2025-02-11 09:56:26.261 DEBUG [tests.light_push.test_publish] Running test with content topic A regular expression
2025-02-11 09:56:26.262 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 09:56:26.262 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:51257/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "Regular expression: ^[a-z0-9_-]{3,16}$", "timestamp": 1739267786262138880}}'
2025-02-11 09:56:26.268 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 09:56:26.271 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:56:26.371 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:26.371 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17269/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:26.374 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Regular expression: ^[a-z0-9_-]{3,16}$","version":0,"timestamp":1739267786262138880,"ephemeral":false}]'
2025-02-11 09:56:26.375 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:26.375 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45425/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:26.378 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Regular expression: ^[a-z0-9_-]{3,16}$","version":0,"timestamp":1739267786262138880,"ephemeral":false}]'
2025-02-11 09:56:26.379 DEBUG [tests.light_push.test_publish] Running test with content topic A very long string
2025-02-11 09:56:26.379 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 09:56:26.379 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:51257/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx", "timestamp": 1739267786379590656}}'
2025-02-11 09:56:26.386 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 09:56:26.387 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:56:26.488 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:26.488 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17269/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:26.491 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx","version":0,"timestamp":1739267786379590656,"ephemeral":false}]'
2025-02-11 09:56:26.493 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:26.493 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45425/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:26.496 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx","version":0,"timestamp":1739267786379590656,"ephemeral":false}]'
2025-02-11 09:56:26.497 DEBUG [tests.light_push.test_publish] Running test with content topic A JSON string
2025-02-11 09:56:26.497 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 09:56:26.498 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:51257/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "{\"name\": \"John\", \"age\": 30, \"city\": \"New York\"}", "timestamp": 1739267786497667072}}'
2025-02-11 09:56:26.504 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 09:56:26.505 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:56:26.605 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:26.606 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17269/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:26.608 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"{\\"name\\": \\"John\\", \\"age\\": 30, \\"city\\": \\"New York\\"}","version":0,"timestamp":1739267786497667072,"ephemeral":false}]'
2025-02-11 09:56:26.610 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:26.610 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45425/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:26.612 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"{\\"name\\": \\"John\\", \\"age\\": 30, \\"city\\": \\"New York\\"}","version":0,"timestamp":1739267786497667072,"ephemeral":false}]'
2025-02-11 09:56:26.613 DEBUG [tests.light_push.test_publish] Running test with content topic A Unix path
2025-02-11 09:56:26.614 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 09:56:26.614 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:51257/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/usr/local/bin", "timestamp": 1739267786614199808}}'
2025-02-11 09:56:26.620 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 09:56:26.622 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:56:26.723 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:26.723 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17269/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:26.726 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/usr/local/bin","version":0,"timestamp":1739267786614199808,"ephemeral":false}]'
2025-02-11 09:56:26.727 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:26.728 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45425/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:26.730 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/usr/local/bin","version":0,"timestamp":1739267786614199808,"ephemeral":false}]'
2025-02-11 09:56:26.731 DEBUG [tests.light_push.test_publish] Running test with content topic A Windows path
2025-02-11 09:56:26.732 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 09:56:26.732 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:51257/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "C:\\Windows\\System32", "timestamp": 1739267786732144896}}'
2025-02-11 09:56:26.738 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 09:56:26.739 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:56:26.839 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:26.840 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17269/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:26.842 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"C:\\\\Windows\\\\System32","version":0,"timestamp":1739267786732144896,"ephemeral":false}]'
2025-02-11 09:56:26.844 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:26.844 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45425/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:26.847 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"C:\\\\Windows\\\\System32","version":0,"timestamp":1739267786732144896,"ephemeral":false}]'
2025-02-11 09:56:26.848 DEBUG [tests.light_push.test_publish] Running test with content topic An SQL query
2025-02-11 09:56:26.848 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 09:56:26.848 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:51257/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "SELECT * FROM users WHERE id = 1;", "timestamp": 1739267786848474368}}'
2025-02-11 09:56:26.854 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 09:56:26.855 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:56:26.957 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:26.957 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17269/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:26.960 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"SELECT * FROM users WHERE id = 1;","version":0,"timestamp":1739267786848474368,"ephemeral":false}]'
2025-02-11 09:56:26.961 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:26.962 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45425/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:26.965 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"SELECT * FROM users WHERE id = 1;","version":0,"timestamp":1739267786848474368,"ephemeral":false}]'
2025-02-11 09:56:26.966 DEBUG [tests.light_push.test_publish] Running test with content topic JavaScript code snippet
2025-02-11 09:56:26.967 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 09:56:26.967 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:51257/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "function test() { console.log('Hello World'); }", "timestamp": 1739267786967133696}}'
2025-02-11 09:56:26.974 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 09:56:26.975 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:56:27.075 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:27.076 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17269/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:27.079 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"function test() { console.log(\'Hello World\'); }","version":0,"timestamp":1739267786967133696,"ephemeral":false}]'
2025-02-11 09:56:27.080 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:27.080 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45425/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:27.083 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"function test() { console.log(\'Hello World\'); }","version":0,"timestamp":1739267786967133696,"ephemeral":false}]'
2025-02-11 09:56:27.084 DEBUG [tests.light_push.test_publish] Running test with content topic A CSS snippet
2025-02-11 09:56:27.085 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 09:56:27.085 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:51257/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "body { background-color: #fff; }", "timestamp": 1739267787084895488}}'
2025-02-11 09:56:27.091 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 09:56:27.092 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:56:27.192 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:27.193 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17269/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:27.195 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"body { background-color: #fff; }","version":0,"timestamp":1739267787084895488,"ephemeral":false}]'
2025-02-11 09:56:27.197 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:27.197 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45425/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:27.199 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"body { background-color: #fff; }","version":0,"timestamp":1739267787084895488,"ephemeral":false}]'
2025-02-11 09:56:27.202 DEBUG [tests.light_push.test_publish] Running test with content topic A Python one-liner
2025-02-11 09:56:27.202 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 09:56:27.202 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:51257/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "print('Hello World')", "timestamp": 1739267787202280960}}'
2025-02-11 09:56:27.209 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 09:56:27.210 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:56:27.311 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:27.311 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17269/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:27.313 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"print(\'Hello World\')","version":0,"timestamp":1739267787202280960,"ephemeral":false}]'
2025-02-11 09:56:27.315 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:27.315 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45425/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:27.317 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"print(\'Hello World\')","version":0,"timestamp":1739267787202280960,"ephemeral":false}]'
2025-02-11 09:56:27.319 DEBUG [tests.light_push.test_publish] Running test with content topic An IP address
2025-02-11 09:56:27.319 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 09:56:27.320 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:51257/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "192.168.1.1", "timestamp": 1739267787319580672}}'
2025-02-11 09:56:27.325 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 09:56:27.326 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:56:27.426 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:27.427 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17269/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:27.429 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"192.168.1.1","version":0,"timestamp":1739267787319580672,"ephemeral":false}]'
2025-02-11 09:56:27.431 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:27.431 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45425/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:27.433 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"192.168.1.1","version":0,"timestamp":1739267787319580672,"ephemeral":false}]'
2025-02-11 09:56:27.434 DEBUG [tests.light_push.test_publish] Running test with content topic A domain name
2025-02-11 09:56:27.435 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 09:56:27.435 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:51257/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "www.example.com", "timestamp": 1739267787435108608}}'
2025-02-11 09:56:27.441 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 09:56:27.441 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:56:27.541 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:27.542 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17269/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:27.545 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"www.example.com","version":0,"timestamp":1739267787435108608,"ephemeral":false}]'
2025-02-11 09:56:27.546 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:27.546 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45425/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:27.549 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"www.example.com","version":0,"timestamp":1739267787435108608,"ephemeral":false}]'
2025-02-11 09:56:27.550 DEBUG [tests.light_push.test_publish] Running test with content topic A user agent string
2025-02-11 09:56:27.550 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 09:56:27.551 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:51257/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "Mozilla/5.0 (Windows NT 10.0; Win64; x64)", "timestamp": 1739267787550744320}}'
2025-02-11 09:56:27.556 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 09:56:27.558 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:56:27.659 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:27.659 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17269/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:27.662 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Mozilla/5.0 (Windows NT 10.0; Win64; x64)","version":0,"timestamp":1739267787550744320,"ephemeral":false}]'
2025-02-11 09:56:27.663 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:27.663 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45425/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:27.665 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Mozilla/5.0 (Windows NT 10.0; Win64; x64)","version":0,"timestamp":1739267787550744320,"ephemeral":false}]'
2025-02-11 09:56:27.667 DEBUG [tests.light_push.test_publish] Running test with content topic A credit card number
2025-02-11 09:56:27.667 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 09:56:27.668 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:51257/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "1234-5678-9012-3456", "timestamp": 1739267787667687680}}'
2025-02-11 09:56:27.674 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 09:56:27.676 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:56:27.776 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:27.776 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17269/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:27.779 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"1234-5678-9012-3456","version":0,"timestamp":1739267787667687680,"ephemeral":false}]'
2025-02-11 09:56:27.781 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:27.781 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45425/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:27.783 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"1234-5678-9012-3456","version":0,"timestamp":1739267787667687680,"ephemeral":false}]'
2025-02-11 09:56:27.785 DEBUG [tests.light_push.test_publish] Running test with content topic A phone number
2025-02-11 09:56:27.785 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 09:56:27.785 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:51257/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "+1234567890", "timestamp": 1739267787785444352}}'
2025-02-11 09:56:27.791 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 09:56:27.793 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:56:27.893 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:27.893 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17269/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:27.896 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"+1234567890","version":0,"timestamp":1739267787785444352,"ephemeral":false}]'
2025-02-11 09:56:27.897 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:27.898 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45425/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:27.900 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"+1234567890","version":0,"timestamp":1739267787785444352,"ephemeral":false}]'
2025-02-11 09:56:27.901 DEBUG [tests.light_push.test_publish] Running test with content topic A UUID
2025-02-11 09:56:27.902 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 09:56:27.902 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:51257/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "123e4567-e89b-12d3-a456-426614174000", "timestamp": 1739267787902079232}}'
2025-02-11 09:56:27.910 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 09:56:27.912 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:56:28.012 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:28.013 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17269/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:28.015 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"123e4567-e89b-12d3-a456-426614174000","version":0,"timestamp":1739267787902079232,"ephemeral":false}]'
2025-02-11 09:56:28.017 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:28.017 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45425/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:28.019 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"123e4567-e89b-12d3-a456-426614174000","version":0,"timestamp":1739267787902079232,"ephemeral":false}]'
2025-02-11 09:56:28.020 DEBUG [tests.light_push.test_publish] Running test with content topic A hashtag
2025-02-11 09:56:28.021 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 09:56:28.021 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:51257/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "#helloWorld", "timestamp": 1739267788021110784}}'
2025-02-11 09:56:28.027 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 09:56:28.030 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:56:28.130 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:28.130 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17269/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:28.133 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"#helloWorld","version":0,"timestamp":1739267788021110784,"ephemeral":false}]'
2025-02-11 09:56:28.135 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:28.135 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45425/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:28.137 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"#helloWorld","version":0,"timestamp":1739267788021110784,"ephemeral":false}]'
2025-02-11 09:56:28.138 DEBUG [tests.light_push.test_publish] Running test with content topic A Twitter handle
2025-02-11 09:56:28.139 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 09:56:28.139 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:51257/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "@username", "timestamp": 1739267788138871040}}'
2025-02-11 09:56:28.144 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 09:56:28.147 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:56:28.247 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:28.247 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17269/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:28.250 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"@username","version":0,"timestamp":1739267788138871040,"ephemeral":false}]'
2025-02-11 09:56:28.251 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:28.251 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45425/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:28.254 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"@username","version":0,"timestamp":1739267788138871040,"ephemeral":false}]'
2025-02-11 09:56:28.255 DEBUG [tests.light_push.test_publish] Running test with content topic A password
2025-02-11 09:56:28.255 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 09:56:28.256 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:51257/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "P@ssw0rd!", "timestamp": 1739267788255664384}}'
2025-02-11 09:56:28.261 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 09:56:28.262 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:56:28.364 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:28.364 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17269/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:28.367 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"P@ssw0rd!","version":0,"timestamp":1739267788255664384,"ephemeral":false}]'
2025-02-11 09:56:28.368 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:28.368 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45425/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:28.370 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"P@ssw0rd!","version":0,"timestamp":1739267788255664384,"ephemeral":false}]'
2025-02-11 09:56:28.372 DEBUG [tests.light_push.test_publish] Running test with content topic A date in common format
2025-02-11 09:56:28.372 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 09:56:28.372 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:51257/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "01/11/2023", "timestamp": 1739267788372397568}}'
2025-02-11 09:56:28.378 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 09:56:28.380 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:56:28.480 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:28.481 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17269/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:28.483 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"01/11/2023","version":0,"timestamp":1739267788372397568,"ephemeral":false}]'
2025-02-11 09:56:28.485 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:28.485 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45425/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:28.487 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"01/11/2023","version":0,"timestamp":1739267788372397568,"ephemeral":false}]'
2025-02-11 09:56:28.488 DEBUG [tests.light_push.test_publish] Running test with content topic A time string
2025-02-11 09:56:28.489 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 09:56:28.489 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:51257/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "12:00:00", "timestamp": 1739267788489194240}}'
2025-02-11 09:56:28.496 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 09:56:28.497 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:56:28.597 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:28.597 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17269/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:28.600 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"12:00:00","version":0,"timestamp":1739267788489194240,"ephemeral":false}]'
2025-02-11 09:56:28.602 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:28.602 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45425/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:28.604 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"12:00:00","version":0,"timestamp":1739267788489194240,"ephemeral":false}]'
2025-02-11 09:56:28.606 DEBUG [tests.light_push.test_publish] Running test with content topic A mathematical equation
2025-02-11 09:56:28.606 DEBUG [src.steps.light_push] Lightpushing message
2025-02-11 09:56:28.606 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:51257/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "E = mc^2", "timestamp": 1739267788606433280}}'
2025-02-11 09:56:28.613 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 09:56:28.614 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:56:28.714 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:28.714 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17269/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:28.717 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"E = mc^2","version":0,"timestamp":1739267788606433280,"ephemeral":false}]'
2025-02-11 09:56:28.718 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-11 09:56:28.718 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45425/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:56:28.720 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"E = mc^2","version":0,"timestamp":1739267788606433280,"ephemeral":false}]'
2025-02-11 09:56:28.723 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-11 09:56:28.724 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-11 09:56:28.725 DEBUG [src.node.waku_node] Stopping container with id da12ebcb2c5c
2025-02-11 09:56:29.346 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 09:56:29.346 DEBUG [src.node.waku_node] Stopping container with id e0a7a624d111
2025-02-11 09:56:30.159 ERROR [src.node.docker_mananger] Max retries reached for container da12ebcb2c5c. Exiting log stream.
2025-02-11 09:56:30.651 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 09:56:30.652 DEBUG [src.node.waku_node] Stopping container with id 12c5ef63e914
2025-02-11 09:56:31.154 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 09:56:31.156 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-11 09:56:31.176 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 09:56:31.201 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 09:56:31.205 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
