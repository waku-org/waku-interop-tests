2025-02-11 10:00:00.337 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-11 10:00:00.337 DEBUG [tests.conftest] Running test: test_time_filter_matches_no_message with id: 2025-02-11_10-00-00__e93362d2-919b-4353-820f-d4ae3420d86b
2025-02-11 10:00:00.337 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-11 10:00:00.338 DEBUG [src.steps.store] Running fixture setup: store_setup
2025-02-11 10:00:00.338 DEBUG [src.steps.store] Running fixture setup: node_setup
2025-02-11 10:00:00.347 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 10:00:00.347 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-11_10-00-00__e93362d2-919b-4353-820f-d4ae3420d86b__wakuorg_nwaku:latest.log
2025-02-11 10:00:00.347 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 10:00:00.347 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 10:00:00.349 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 10:00:00.349 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.193.99
2025-02-11 10:00:00.349 DEBUG [src.node.docker_mananger] Generated ports ['14410', '14411', '14412', '14413', '14414']
2025-02-11 10:00:00.350 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 10:00:00.350 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 10:00:00.350 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 10:00:00.350 DEBUG [src.node.docker_mananger] docker run -i -t -p 14410:14410 -p 14411:14411 -p 14412:14412 -p 14413:14413 -p 14414:14414 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=14412 --rest-port=14410 --tcp-port=14411 --discv5-udp-port=14413 --rest-address=0.0.0.0 --nat=extip:172.18.193.99 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e1b0daac7513feb0684f85fbf931b93870d2b13af24eaffca8f417aeb1dfb9ab --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=14414 --metrics-logging=true --store=true --relay=true
2025-02-11 10:00:00.584 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.193.99 waku c4cf3ffcad261302ef0f88d8f9d6c1871acc1d8fcbc827c957665fe786966def
2025-02-11 10:00:00.610 ERROR [src.node.docker_mananger] Max retries reached for container 0453267fb612. Exiting log stream.
2025-02-11 10:00:00.638 DEBUG [src.node.docker_mananger] Container started with ID c4cf3ffcad26. Setting up logs at ./log/docker/publishing_node1_2025-02-11_10-00-00__e93362d2-919b-4353-820f-d4ae3420d86b__wakuorg_nwaku:latest.log
2025-02-11 10:00:00.639 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 14410
2025-02-11 10:00:00.639 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 10:00:01.143 ERROR [src.node.docker_mananger] Max retries reached for container 49f51bcb92fc. Exiting log stream.
2025-02-11 10:00:01.639 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:14410/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:01.642 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 10:00:01.642 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 10:00:01.643 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:14410/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:01.645 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.193.99/tcp/14411/p2p/16Uiu2HAmPibDPEczpgEeXX8CfPgh1xg2h8tnGPtsakPx8SwhARdg","/ip4/172.18.193.99/tcp/14412/ws/p2p/16Uiu2HAmPibDPEczpgEeXX8CfPgh1xg2h8tnGPtsakPx8SwhARdg"],"enrUri":"enr:-L24QCUTR_OS25VY-_bj4j26lCFzTeJeURJNR4sfDZSaw8NvZT3DNu5ZqJnyW_PblXj38NQByQuFJymmznE6XizOLtcCgmlkgnY0gmlwhKwSwWOKbXVsdGlhZGRyc5YACASsEsFjBjhLAAoErBLBYwY4TN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDpFy4GGmwatGvd3XkxODVkn62PuPk43Wy6zEFk-PQlheDdGNwgjhLg3VkcII4TYV3YWt1MgM"}'
2025-02-11 10:00:01.645 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 10:00:01.652 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-11 10:00:01.652 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-11_10-00-00__e93362d2-919b-4353-820f-d4ae3420d86b__wakuorg_go-waku:latest.log
2025-02-11 10:00:01.652 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 10:00:01.652 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 10:00:01.654 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 10:00:01.654 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.101.164
2025-02-11 10:00:01.654 DEBUG [src.node.docker_mananger] Generated ports ['62091', '62092', '62093', '62094', '62095']
2025-02-11 10:00:01.654 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 10:00:01.654 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 10:00:01.654 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 10:00:01.654 DEBUG [src.node.docker_mananger] docker run -i -t -p 62091:62091 -p 62092:62092 -p 62093:62093 -p 62094:62094 -p 62095:62095 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=62093 --rest-port=62091 --tcp-port=62092 --discv5-udp-port=62094 --rest-address=0.0.0.0 --nat=extip:172.18.101.164 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8a63db7fcb8cecfb77dd0db9d52c9bbd53bccdad5cddfbeae748395b6dce3eff --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-L24QCUTR_OS25VY-_bj4j26lCFzTeJeURJNR4sfDZSaw8NvZT3DNu5ZqJnyW_PblXj38NQByQuFJymmznE6XizOLtcCgmlkgnY0gmlwhKwSwWOKbXVsdGlhZGRyc5YACASsEsFjBjhLAAoErBLBYwY4TN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDpFy4GGmwatGvd3XkxODVkn62PuPk43Wy6zEFk-PQlheDdGNwgjhLg3VkcII4TYV3YWt1MgM --storenode=/ip4/172.18.193.99/tcp/14411/p2p/16Uiu2HAmPibDPEczpgEeXX8CfPgh1xg2h8tnGPtsakPx8SwhARdg --store=true --relay=true
2025-02-11 10:00:01.896 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.101.164 waku 092e5bbb038c31ee075ef7432ebde990d3e64b0e791fd5277f48f2fe3858957e
2025-02-11 10:00:01.949 DEBUG [src.node.docker_mananger] Container started with ID 092e5bbb038c. Setting up logs at ./log/docker/store_node1_2025-02-11_10-00-00__e93362d2-919b-4353-820f-d4ae3420d86b__wakuorg_go-waku:latest.log
2025-02-11 10:00:01.950 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 62091
2025-02-11 10:00:01.950 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 10:00:02.952 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:62091/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:02.955 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QCsi4KnqVfXzYWEEG1xz26YRp1wSKOd5KsxrQ83QJjIObNB9S5vkjhfm4G8kGOeDYyea6RsDXh-UFVv3UTWHH9KGAZT0c5CjgmlkgnY0gmlwhKwRAAOCcnODAAMAiXNlY3AyNTZrMaEDyWcPFpWgJ-E5bbE7NAmNrRHy4xu5mcLeq3DG64BQnG6DdGNwgvKMg3VkcILyjoV3YWt1MgM","listenAddresses":["/ip4/127.0.0.1/tcp/62092/p2p/16Uiu2HAmSDBSgwqyfJ4G7TLiYR14m4Y9tKUsE1yDzweexmdjCMrm","/ip4/127.0.0.1/tcp/62093/ws/p2p/16Uiu2HAmSDBSgwqyfJ4G7TLiYR14m4Y9tKUsE1yDzweexmdjCMrm","/ip4/172.17.0.3/tcp/62092/p2p/16Uiu2HAmSDBSgwqyfJ4G7TLiYR14m4Y9tKUsE1yDzweexmdjCMrm","/ip4/172.17.0.3/tcp/62093/ws/p2p/16Uiu2HAmSDBSgwqyfJ4G7TLiYR14m4Y9tKUsE1yDzweexmdjCMrm"]}'
2025-02-11 10:00:02.955 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 10:00:02.956 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:62091/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.193.99/tcp/14411/p2p/16Uiu2HAmPibDPEczpgEeXX8CfPgh1xg2h8tnGPtsakPx8SwhARdg", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-11 10:00:02.973 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-11 10:00:02.975 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14410/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-11 10:00:02.999 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 10:00:03.000 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:62091/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-11 10:00:03.002 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 10:00:03.005 DEBUG [src.steps.store] Relaying message
2025-02-11 10:00:03.005 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14410/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 10:00:03.020 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 10:00:03.022 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 10:00:03.223 DEBUG [src.steps.store] Relaying message
2025-02-11 10:00:03.223 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14410/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 10:00:03.229 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 10:00:03.229 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 10:00:03.430 DEBUG [src.steps.store] Relaying message
2025-02-11 10:00:03.430 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14410/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 10:00:03.435 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 10:00:03.436 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 10:00:03.636 DEBUG [src.steps.store] Relaying message
2025-02-11 10:00:03.636 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14410/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 10:00:03.642 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 10:00:03.642 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 10:00:03.843 DEBUG [src.steps.store] Relaying message
2025-02-11 10:00:03.843 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14410/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 10:00:03.850 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 10:00:03.850 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 10:00:04.051 DEBUG [src.steps.store] Relaying message
2025-02-11 10:00:04.051 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14410/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 10:00:04.057 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 10:00:04.058 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 10:00:04.258 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:14410/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1739268000004723040&endTime=1739268000004822940&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:04.261 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[]}'
2025-02-11 10:00:04.262 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:62091/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&startTime=1739268000004723040&endTime=1739268000004822940&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:04.267 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"03b304746dbbd6bda50b364e590b1c452f5fa9f6fe5758bcadb08f9cbd8d8458","status_code":200,"status_desc":"OK"}'
2025-02-11 10:00:04.269 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-11 10:00:04.270 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-11 10:00:04.270 DEBUG [src.node.waku_node] Stopping container with id c4cf3ffcad26
2025-02-11 10:00:04.817 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 10:00:04.818 DEBUG [src.node.waku_node] Stopping container with id 092e5bbb038c
2025-02-11 10:00:05.319 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 10:00:05.320 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-11 10:00:05.328 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 10:00:05.332 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
