2025-02-11 10:00:22.678 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-11 10:00:22.679 DEBUG [tests.conftest] Running test: test_publish_with_valid_payloads with id: 2025-02-11_10-00-22__21df1e42-67e3-40fb-9c2d-a5900c58d6d8
2025-02-11 10:00:22.679 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-11 10:00:22.679 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-11 10:00:22.679 DEBUG [src.steps.relay] Running fixture setup: setup_main_relay_nodes
2025-02-11 10:00:22.685 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 10:00:22.685 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-11_10-00-22__21df1e42-67e3-40fb-9c2d-a5900c58d6d8__wakuorg_nwaku:latest.log
2025-02-11 10:00:22.685 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 10:00:22.686 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 10:00:22.687 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 10:00:22.687 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.127.161
2025-02-11 10:00:22.687 DEBUG [src.node.docker_mananger] Generated ports ['27237', '27238', '27239', '27240', '27241']
2025-02-11 10:00:22.687 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 10:00:22.687 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 10:00:22.687 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 10:00:22.688 DEBUG [src.node.docker_mananger] docker run -i -t -p 27237:27237 -p 27238:27238 -p 27239:27239 -p 27240:27240 -p 27241:27241 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=27239 --rest-port=27237 --tcp-port=27238 --discv5-udp-port=27240 --rest-address=0.0.0.0 --nat=extip:172.18.127.161 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f8e8fcfe00449b8fada9bdfddbd7def1cb4acafdbde6d15affb0e8c2f3720bd9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=27241 --metrics-logging=true --relay=true
2025-02-11 10:00:22.914 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.127.161 waku 88481f908ba9a5c19524d2df201bb1384f50ad8d4720709fd830e90ea33f5312
2025-02-11 10:00:22.955 ERROR [src.node.docker_mananger] Max retries reached for container e23250881313. Exiting log stream.
2025-02-11 10:00:22.962 DEBUG [src.node.docker_mananger] Container started with ID 88481f908ba9. Setting up logs at ./log/docker/node1_2025-02-11_10-00-22__21df1e42-67e3-40fb-9c2d-a5900c58d6d8__wakuorg_nwaku:latest.log
2025-02-11 10:00:22.962 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 27237
2025-02-11 10:00:22.963 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 10:00:23.473 ERROR [src.node.docker_mananger] Max retries reached for container f648e306ab54. Exiting log stream.
2025-02-11 10:00:23.963 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27237/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:23.966 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 10:00:23.966 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 10:00:23.966 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27237/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:23.968 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.127.161/tcp/27238/p2p/16Uiu2HAkzQ3FCprDwBSx1RttuG1c3g3bzx4bGdB35Q7P2vFCAc1H","/ip4/172.18.127.161/tcp/27239/ws/p2p/16Uiu2HAkzQ3FCprDwBSx1RttuG1c3g3bzx4bGdB35Q7P2vFCAc1H"],"enrUri":"enr:-L24QH1cz95JC5Kpjdlk-ytw7tGmeTfYQzRdkfBae4pp5oBvAfB2XeyTMnPtTOINDFcfFcfvhdX0YrlpiL9_NjkGIl8CgmlkgnY0gmlwhKwSf6GKbXVsdGlhZGRyc5YACASsEn-hBmpmAAoErBJ_oQZqZ90DgnJzhQADAQAAiXNlY3AyNTZrMaECSd9Rd2zVIO4FPIPNieiJjjexeAdf8pJJ6fG7QpD5eZSDdGNwgmpmg3VkcIJqaIV3YWt1MgE"}'
2025-02-11 10:00:23.968 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 10:00:23.975 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-11 10:00:23.975 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-11_10-00-22__21df1e42-67e3-40fb-9c2d-a5900c58d6d8__wakuorg_go-waku:latest.log
2025-02-11 10:00:23.975 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 10:00:23.976 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 10:00:23.977 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 10:00:23.977 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.210.200
2025-02-11 10:00:23.977 DEBUG [src.node.docker_mananger] Generated ports ['28130', '28131', '28132', '28133', '28134']
2025-02-11 10:00:23.977 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 10:00:23.978 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 10:00:23.978 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 10:00:23.978 DEBUG [src.node.docker_mananger] docker run -i -t -p 28130:28130 -p 28131:28131 -p 28132:28132 -p 28133:28133 -p 28134:28134 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=28132 --rest-port=28130 --tcp-port=28131 --discv5-udp-port=28133 --rest-address=0.0.0.0 --nat=extip:172.18.210.200 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=89b8c1eb3bec97eeb7a0ee133b57bc4eb7cb04fefef3af1daaf7fd37085ecbfb --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-L24QH1cz95JC5Kpjdlk-ytw7tGmeTfYQzRdkfBae4pp5oBvAfB2XeyTMnPtTOINDFcfFcfvhdX0YrlpiL9_NjkGIl8CgmlkgnY0gmlwhKwSf6GKbXVsdGlhZGRyc5YACASsEn-hBmpmAAoErBJ_oQZqZ90DgnJzhQADAQAAiXNlY3AyNTZrMaECSd9Rd2zVIO4FPIPNieiJjjexeAdf8pJJ6fG7QpD5eZSDdGNwgmpmg3VkcIJqaIV3YWt1MgE
2025-02-11 10:00:24.212 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.210.200 waku 602d8ed34f751f65054102224640ddb5a87c3fff9f3f6b6fcb92492939c7aba6
2025-02-11 10:00:24.270 DEBUG [src.node.docker_mananger] Container started with ID 602d8ed34f75. Setting up logs at ./log/docker/node2_2025-02-11_10-00-22__21df1e42-67e3-40fb-9c2d-a5900c58d6d8__wakuorg_go-waku:latest.log
2025-02-11 10:00:24.270 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 28130
2025-02-11 10:00:24.271 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 10:00:25.272 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28130/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:25.275 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QCF-hJeX2rOohPVkpfMCJqQJHStYcMd1caXk34Y9PdzYACLHz-nGxPa5qsO5e83bh30PaFpSi7gy_Ep3f0cGhRuGAZT0c-fCgmlkgnY0gmlwhKwRAAOCcnODAAMAiXNlY3AyNTZrMaECjUxKCueDkHsIqtYFzV-L1QnxRWhaMtObTXMqwKSsqjGDdGNwgm3jg3VkcIJt5YV3YWt1MgE","listenAddresses":["/ip4/127.0.0.1/tcp/28131/p2p/16Uiu2HAm4wEwEqufkmyEVJ84f3U6R3fEfduhwuahTSgywFrMG45e","/ip4/127.0.0.1/tcp/28132/ws/p2p/16Uiu2HAm4wEwEqufkmyEVJ84f3U6R3fEfduhwuahTSgywFrMG45e","/ip4/172.17.0.3/tcp/28131/p2p/16Uiu2HAm4wEwEqufkmyEVJ84f3U6R3fEfduhwuahTSgywFrMG45e","/ip4/172.17.0.3/tcp/28132/ws/p2p/16Uiu2HAm4wEwEqufkmyEVJ84f3U6R3fEfduhwuahTSgywFrMG45e"]}'
2025-02-11 10:00:25.275 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 10:00:25.276 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:28130/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.127.161/tcp/27238/p2p/16Uiu2HAkzQ3FCprDwBSx1RttuG1c3g3bzx4bGdB35Q7P2vFCAc1H", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-11 10:00:25.292 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-11 10:00:25.292 DEBUG [src.steps.relay] Running fixture setup: subscribe_main_relay_nodes
2025-02-11 10:00:25.293 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27237/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-11 10:00:25.314 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 10:00:25.315 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:28130/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-11 10:00:25.317 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 10:00:25.318 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 10:00:25.330 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 10:00:25.331 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 10:00:25.431 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 10:00:25.431 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:25.434 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268025318764544,"ephemeral":false}]'
2025-02-11 10:00:25.435 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 10:00:25.436 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28130/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:25.437 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-11 10:00:26.438 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 10:00:26.443 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 10:00:26.444 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 10:00:26.544 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 10:00:26.544 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:26.546 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268026438596096,"ephemeral":false}]'
2025-02-11 10:00:26.548 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 10:00:26.548 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28130/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:26.550 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268026438596096,"ephemeral":false}]'
2025-02-11 10:00:26.551 INFO [src.steps.relay] WARM UP successful!!
2025-02-11 10:00:26.552 DEBUG [tests.relay.test_publish] Running test with payload A simple string
2025-02-11 10:00:26.553 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "SGVsbG8gV29ybGQh", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 10:00:26.557 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 10:00:26.557 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 10:00:26.657 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 10:00:26.657 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:26.660 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"SGVsbG8gV29ybGQh","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268026552806912,"ephemeral":false}]'
2025-02-11 10:00:26.661 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 10:00:26.661 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28130/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:26.663 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"SGVsbG8gV29ybGQh","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268026552806912,"ephemeral":false}]'
2025-02-11 10:00:26.665 DEBUG [tests.relay.test_publish] Running test with payload An integer
2025-02-11 10:00:26.665 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "MTIzNDU2Nzg5MA==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 10:00:26.669 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 10:00:26.670 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 10:00:26.770 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 10:00:26.770 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:26.773 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTIzNDU2Nzg5MA==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268026665431296,"ephemeral":false}]'
2025-02-11 10:00:26.774 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 10:00:26.774 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28130/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:26.776 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTIzNDU2Nzg5MA==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268026665431296,"ephemeral":false}]'
2025-02-11 10:00:26.777 DEBUG [tests.relay.test_publish] Running test with payload A dictionary
2025-02-11 10:00:26.778 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "eyJrZXkiOiAidmFsdWUifQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 10:00:26.783 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 10:00:26.783 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 10:00:26.883 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 10:00:26.883 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:26.886 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"eyJrZXkiOiAidmFsdWUifQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268026778041344,"ephemeral":false}]'
2025-02-11 10:00:26.887 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 10:00:26.887 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28130/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:26.889 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"eyJrZXkiOiAidmFsdWUifQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268026778041344,"ephemeral":false}]'
2025-02-11 10:00:26.890 DEBUG [tests.relay.test_publish] Running test with payload Chinese characters
2025-02-11 10:00:26.891 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "6L+Z5piv5LiA5Lqb5Lit5paH", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 10:00:26.895 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 10:00:26.895 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 10:00:26.995 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 10:00:26.995 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:26.998 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"6L+Z5piv5LiA5Lqb5Lit5paH","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268026890944256,"ephemeral":false}]'
2025-02-11 10:00:26.999 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 10:00:26.999 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28130/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:27.001 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"6L+Z5piv5LiA5Lqb5Lit5paH","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268026890944256,"ephemeral":false}]'
2025-02-11 10:00:27.002 DEBUG [tests.relay.test_publish] Running test with payload Emojis
2025-02-11 10:00:27.003 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "8J+agPCfjJ/inKg=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 10:00:27.007 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 10:00:27.007 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 10:00:27.107 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 10:00:27.108 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:27.110 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"8J+agPCfjJ/inKg=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268027003109888,"ephemeral":false}]'
2025-02-11 10:00:27.112 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 10:00:27.112 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28130/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:27.114 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"8J+agPCfjJ/inKg=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268027003109888,"ephemeral":false}]'
2025-02-11 10:00:27.115 DEBUG [tests.relay.test_publish] Running test with payload Lorem ipsum text
2025-02-11 10:00:27.116 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "TG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQ=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 10:00:27.120 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 10:00:27.120 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 10:00:27.220 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 10:00:27.221 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:27.223 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQ=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268027116074496,"ephemeral":false}]'
2025-02-11 10:00:27.225 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 10:00:27.225 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28130/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:27.226 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQ=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268027116074496,"ephemeral":false}]'
2025-02-11 10:00:27.228 DEBUG [tests.relay.test_publish] Running test with payload HTML content
2025-02-11 10:00:27.228 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "PGh0bWw+PGJvZHk+SGVsbG88L2JvZHk+PC9odG1sPg==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 10:00:27.233 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 10:00:27.233 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 10:00:27.333 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 10:00:27.333 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:27.336 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"PGh0bWw+PGJvZHk+SGVsbG88L2JvZHk+PC9odG1sPg==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268027228603392,"ephemeral":false}]'
2025-02-11 10:00:27.337 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 10:00:27.337 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28130/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:27.339 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"PGh0bWw+PGJvZHk+SGVsbG88L2JvZHk+PC9odG1sPg==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268027228603392,"ephemeral":false}]'
2025-02-11 10:00:27.340 DEBUG [tests.relay.test_publish] Running test with payload Cyrillic characters
2025-02-11 10:00:27.341 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "0J/RgNC40LLQtdGC", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 10:00:27.345 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 10:00:27.345 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 10:00:27.445 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 10:00:27.445 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:27.448 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"0J/RgNC40LLQtdGC","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268027341082880,"ephemeral":false}]'
2025-02-11 10:00:27.449 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 10:00:27.449 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28130/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:27.451 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"0J/RgNC40LLQtdGC","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268027341082880,"ephemeral":false}]'
2025-02-11 10:00:27.452 DEBUG [tests.relay.test_publish] Running test with payload Base64 encoded string
2025-02-11 10:00:27.453 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "QmFzZTY0PT1kR1Z6ZEE9PQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 10:00:27.457 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 10:00:27.457 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 10:00:27.557 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 10:00:27.557 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:27.560 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"QmFzZTY0PT1kR1Z6ZEE9PQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268027452929536,"ephemeral":false}]'
2025-02-11 10:00:27.562 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 10:00:27.562 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28130/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:27.563 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"QmFzZTY0PT1kR1Z6ZEE9PQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268027452929536,"ephemeral":false}]'
2025-02-11 10:00:27.565 DEBUG [tests.relay.test_publish] Running test with payload Binary data
2025-02-11 10:00:27.565 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "ZDI5eWEybHVaeUIzYVhSb0lHSnBibUZ5ZVNCa1lYUmg6IFBR", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 10:00:27.570 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 10:00:27.570 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 10:00:27.670 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 10:00:27.670 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:27.673 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"ZDI5eWEybHVaeUIzYVhSb0lHSnBibUZ5ZVNCa1lYUmg6IFBR","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268027565480960,"ephemeral":false}]'
2025-02-11 10:00:27.675 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 10:00:27.675 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28130/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:27.676 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"ZDI5eWEybHVaeUIzYVhSb0lHSnBibUZ5ZVNCa1lYUmg6IFBR","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268027565480960,"ephemeral":false}]'
2025-02-11 10:00:27.678 DEBUG [tests.relay.test_publish] Running test with payload Special characters with whitespace
2025-02-11 10:00:27.678 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "CQpTcGVjaWFsCUNoYXJhY3RlcnMK", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 10:00:27.683 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 10:00:27.683 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 10:00:27.783 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 10:00:27.783 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:27.785 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"CQpTcGVjaWFsCUNoYXJhY3RlcnMK","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268027678762240,"ephemeral":false}]'
2025-02-11 10:00:27.786 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 10:00:27.787 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28130/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:27.788 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"CQpTcGVjaWFsCUNoYXJhY3RlcnMK","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268027678762240,"ephemeral":false}]'
2025-02-11 10:00:27.789 DEBUG [tests.relay.test_publish] Running test with payload Boolean false as a string
2025-02-11 10:00:27.790 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmFsc2U=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 10:00:27.794 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 10:00:27.794 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 10:00:27.894 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 10:00:27.894 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:27.897 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RmFsc2U=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268027790074880,"ephemeral":false}]'
2025-02-11 10:00:27.898 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 10:00:27.898 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28130/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:27.900 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RmFsc2U=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268027790074880,"ephemeral":false}]'
2025-02-11 10:00:27.901 DEBUG [tests.relay.test_publish] Running test with payload A float number
2025-02-11 10:00:27.901 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "My4xNDE1OTI2NTM1", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 10:00:27.905 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 10:00:27.906 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 10:00:28.006 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 10:00:28.006 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:28.008 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"My4xNDE1OTI2NTM1","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268027901860864,"ephemeral":false}]'
2025-02-11 10:00:28.010 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 10:00:28.010 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28130/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:28.011 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"My4xNDE1OTI2NTM1","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268027901860864,"ephemeral":false}]'
2025-02-11 10:00:28.013 DEBUG [tests.relay.test_publish] Running test with payload A list
2025-02-11 10:00:28.013 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "WzEsIDIsIDMsIDQsIDVd", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 10:00:28.017 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 10:00:28.017 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 10:00:28.117 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 10:00:28.118 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:28.120 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"WzEsIDIsIDMsIDQsIDVd","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268028013409792,"ephemeral":false}]'
2025-02-11 10:00:28.121 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 10:00:28.121 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28130/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:28.123 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"WzEsIDIsIDMsIDQsIDVd","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268028013409792,"ephemeral":false}]'
2025-02-11 10:00:28.124 DEBUG [tests.relay.test_publish] Running test with payload Hexadecimal number as a string
2025-02-11 10:00:28.125 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "MHhERUFEQkVFRg==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 10:00:28.129 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 10:00:28.129 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 10:00:28.229 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 10:00:28.230 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:28.232 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MHhERUFEQkVFRg==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268028125198080,"ephemeral":false}]'
2025-02-11 10:00:28.234 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 10:00:28.234 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28130/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:28.235 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MHhERUFEQkVFRg==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268028125198080,"ephemeral":false}]'
2025-02-11 10:00:28.237 DEBUG [tests.relay.test_publish] Running test with payload Email format
2025-02-11 10:00:28.237 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "dXNlckBleGFtcGxlLmNvbQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 10:00:28.241 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 10:00:28.242 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 10:00:28.342 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 10:00:28.342 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:28.344 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"dXNlckBleGFtcGxlLmNvbQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268028237453824,"ephemeral":false}]'
2025-02-11 10:00:28.346 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 10:00:28.346 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28130/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:28.348 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"dXNlckBleGFtcGxlLmNvbQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268028237453824,"ephemeral":false}]'
2025-02-11 10:00:28.349 DEBUG [tests.relay.test_publish] Running test with payload URL format
2025-02-11 10:00:28.349 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "aHR0cDovL2V4YW1wbGUuY29t", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 10:00:28.353 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 10:00:28.353 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 10:00:28.454 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 10:00:28.454 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:28.456 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"aHR0cDovL2V4YW1wbGUuY29t","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268028349643776,"ephemeral":false}]'
2025-02-11 10:00:28.457 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 10:00:28.458 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28130/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:28.459 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"aHR0cDovL2V4YW1wbGUuY29t","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268028349643776,"ephemeral":false}]'
2025-02-11 10:00:28.461 DEBUG [tests.relay.test_publish] Running test with payload Date and time in ISO format
2025-02-11 10:00:28.461 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "MjAyMy0xMS0wMVQxMjowMDowMFo=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 10:00:28.465 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 10:00:28.465 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 10:00:28.566 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 10:00:28.566 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:28.569 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MjAyMy0xMS0wMVQxMjowMDowMFo=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268028461307648,"ephemeral":false}]'
2025-02-11 10:00:28.570 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 10:00:28.570 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28130/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:28.572 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MjAyMy0xMS0wMVQxMjowMDowMFo=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268028461307648,"ephemeral":false}]'
2025-02-11 10:00:28.573 DEBUG [tests.relay.test_publish] Running test with payload String with escaped quotes
2025-02-11 10:00:28.574 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "IkVzY2FwZWQiIFwicXVvdGVzXCI=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 10:00:28.578 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 10:00:28.578 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 10:00:28.679 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 10:00:28.679 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:28.682 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"IkVzY2FwZWQiIFwicXVvdGVzXCI=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268028574108928,"ephemeral":false}]'
2025-02-11 10:00:28.683 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 10:00:28.683 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28130/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:28.685 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"IkVzY2FwZWQiIFwicXVvdGVzXCI=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268028574108928,"ephemeral":false}]'
2025-02-11 10:00:28.686 DEBUG [tests.relay.test_publish] Running test with payload A regular expression
2025-02-11 10:00:28.687 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVndWxhciBleHByZXNzaW9uOiBeW2EtejAtOV8tXXszLDE2fSQ=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 10:00:28.691 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 10:00:28.691 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 10:00:28.792 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 10:00:28.792 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:28.795 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVndWxhciBleHByZXNzaW9uOiBeW2EtejAtOV8tXXszLDE2fSQ=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268028687123968,"ephemeral":false}]'
2025-02-11 10:00:28.796 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 10:00:28.796 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28130/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:28.798 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVndWxhciBleHByZXNzaW9uOiBeW2EtejAtOV8tXXszLDE2fSQ=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268028687123968,"ephemeral":false}]'
2025-02-11 10:00:28.799 DEBUG [tests.relay.test_publish] Running test with payload A very long string
2025-02-11 10:00:28.800 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eA==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 10:00:28.805 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 10:00:28.806 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 10:00:28.906 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 10:00:28.906 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:28.909 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eA==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268028800015872,"ephemeral":false}]'
2025-02-11 10:00:28.911 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 10:00:28.911 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28130/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:28.913 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eA==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268028800015872,"ephemeral":false}]'
2025-02-11 10:00:28.915 DEBUG [tests.relay.test_publish] Running test with payload A JSON string
2025-02-11 10:00:28.915 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "eyJuYW1lIjogIkpvaG4iLCAiYWdlIjogMzAsICJjaXR5IjogIk5ldyBZb3JrIn0=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 10:00:28.920 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 10:00:28.920 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 10:00:29.021 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 10:00:29.021 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:29.023 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"eyJuYW1lIjogIkpvaG4iLCAiYWdlIjogMzAsICJjaXR5IjogIk5ldyBZb3JrIn0=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268028915617280,"ephemeral":false}]'
2025-02-11 10:00:29.025 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 10:00:29.025 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28130/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:29.027 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"eyJuYW1lIjogIkpvaG4iLCAiYWdlIjogMzAsICJjaXR5IjogIk5ldyBZb3JrIn0=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268028915617280,"ephemeral":false}]'
2025-02-11 10:00:29.028 DEBUG [tests.relay.test_publish] Running test with payload A Unix path
2025-02-11 10:00:29.029 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "L3Vzci9sb2NhbC9iaW4=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 10:00:29.033 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 10:00:29.033 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 10:00:29.133 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 10:00:29.133 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:29.136 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"L3Vzci9sb2NhbC9iaW4=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268029028986624,"ephemeral":false}]'
2025-02-11 10:00:29.138 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 10:00:29.138 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28130/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:29.140 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"L3Vzci9sb2NhbC9iaW4=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268029028986624,"ephemeral":false}]'
2025-02-11 10:00:29.141 DEBUG [tests.relay.test_publish] Running test with payload A Windows path
2025-02-11 10:00:29.142 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "QzpcV2luZG93c1xTeXN0ZW0zMg==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 10:00:29.146 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 10:00:29.147 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 10:00:29.247 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 10:00:29.247 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:29.250 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"QzpcV2luZG93c1xTeXN0ZW0zMg==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268029142094592,"ephemeral":false}]'
2025-02-11 10:00:29.251 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 10:00:29.252 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28130/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:29.253 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"QzpcV2luZG93c1xTeXN0ZW0zMg==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268029142094592,"ephemeral":false}]'
2025-02-11 10:00:29.255 DEBUG [tests.relay.test_publish] Running test with payload An SQL query
2025-02-11 10:00:29.255 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "U0VMRUNUICogRlJPTSB1c2VycyBXSEVSRSBpZCA9IDE7", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 10:00:29.259 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 10:00:29.259 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 10:00:29.360 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 10:00:29.360 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:29.363 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U0VMRUNUICogRlJPTSB1c2VycyBXSEVSRSBpZCA9IDE7","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268029255377152,"ephemeral":false}]'
2025-02-11 10:00:29.364 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 10:00:29.364 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28130/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:29.366 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U0VMRUNUICogRlJPTSB1c2VycyBXSEVSRSBpZCA9IDE7","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268029255377152,"ephemeral":false}]'
2025-02-11 10:00:29.368 DEBUG [tests.relay.test_publish] Running test with payload JavaScript code snippet
2025-02-11 10:00:29.368 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "ZnVuY3Rpb24gdGVzdCgpIHsgY29uc29sZS5sb2coJ0hlbGxvIFdvcmxkJyk7IH0=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 10:00:29.372 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 10:00:29.372 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 10:00:29.473 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 10:00:29.473 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:29.476 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"ZnVuY3Rpb24gdGVzdCgpIHsgY29uc29sZS5sb2coJ0hlbGxvIFdvcmxkJyk7IH0=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268029368344064,"ephemeral":false}]'
2025-02-11 10:00:29.477 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 10:00:29.477 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28130/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:29.479 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"ZnVuY3Rpb24gdGVzdCgpIHsgY29uc29sZS5sb2coJ0hlbGxvIFdvcmxkJyk7IH0=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268029368344064,"ephemeral":false}]'
2025-02-11 10:00:29.480 DEBUG [tests.relay.test_publish] Running test with payload A CSS snippet
2025-02-11 10:00:29.481 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "Ym9keSB7IGJhY2tncm91bmQtY29sb3I6ICNmZmY7IH0=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 10:00:29.485 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 10:00:29.485 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 10:00:29.585 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 10:00:29.586 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:29.588 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"Ym9keSB7IGJhY2tncm91bmQtY29sb3I6ICNmZmY7IH0=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268029481179136,"ephemeral":false}]'
2025-02-11 10:00:29.590 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 10:00:29.590 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28130/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:29.591 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"Ym9keSB7IGJhY2tncm91bmQtY29sb3I6ICNmZmY7IH0=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268029481179136,"ephemeral":false}]'
2025-02-11 10:00:29.593 DEBUG [tests.relay.test_publish] Running test with payload A Python one-liner
2025-02-11 10:00:29.593 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "cHJpbnQoJ0hlbGxvIFdvcmxkJyk=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 10:00:29.598 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 10:00:29.598 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 10:00:29.698 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 10:00:29.699 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:29.702 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"cHJpbnQoJ0hlbGxvIFdvcmxkJyk=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268029593783296,"ephemeral":false}]'
2025-02-11 10:00:29.704 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 10:00:29.704 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28130/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:29.706 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"cHJpbnQoJ0hlbGxvIFdvcmxkJyk=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268029593783296,"ephemeral":false}]'
2025-02-11 10:00:29.707 DEBUG [tests.relay.test_publish] Running test with payload An IP address
2025-02-11 10:00:29.708 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "MTkyLjE2OC4xLjE=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 10:00:29.712 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 10:00:29.712 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 10:00:29.813 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 10:00:29.813 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:29.816 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTkyLjE2OC4xLjE=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268029707942656,"ephemeral":false}]'
2025-02-11 10:00:29.817 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 10:00:29.817 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28130/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:29.819 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTkyLjE2OC4xLjE=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268029707942656,"ephemeral":false}]'
2025-02-11 10:00:29.820 DEBUG [tests.relay.test_publish] Running test with payload A domain name
2025-02-11 10:00:29.821 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "d3d3LmV4YW1wbGUuY29t", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 10:00:29.826 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 10:00:29.826 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 10:00:29.926 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 10:00:29.927 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:29.929 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"d3d3LmV4YW1wbGUuY29t","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268029821113856,"ephemeral":false}]'
2025-02-11 10:00:29.931 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 10:00:29.931 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28130/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:29.933 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"d3d3LmV4YW1wbGUuY29t","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268029821113856,"ephemeral":false}]'
2025-02-11 10:00:29.934 DEBUG [tests.relay.test_publish] Running test with payload A user agent string
2025-02-11 10:00:29.935 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCk=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 10:00:29.939 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 10:00:29.939 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 10:00:30.039 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 10:00:30.040 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:30.042 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCk=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268029934956800,"ephemeral":false}]'
2025-02-11 10:00:30.044 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 10:00:30.044 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28130/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:30.046 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCk=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268029934956800,"ephemeral":false}]'
2025-02-11 10:00:30.047 DEBUG [tests.relay.test_publish] Running test with payload A credit card number
2025-02-11 10:00:30.047 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "MTIzNC01Njc4LTkwMTItMzQ1Ng==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 10:00:30.052 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 10:00:30.052 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 10:00:30.152 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 10:00:30.152 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:30.155 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTIzNC01Njc4LTkwMTItMzQ1Ng==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268030047757056,"ephemeral":false}]'
2025-02-11 10:00:30.157 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 10:00:30.157 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28130/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:30.158 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTIzNC01Njc4LTkwMTItMzQ1Ng==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268030047757056,"ephemeral":false}]'
2025-02-11 10:00:30.160 DEBUG [tests.relay.test_publish] Running test with payload A phone number
2025-02-11 10:00:30.160 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "KzEyMzQ1Njc4OTA=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 10:00:30.165 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 10:00:30.165 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 10:00:30.265 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 10:00:30.265 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:30.268 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"KzEyMzQ1Njc4OTA=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268030160634112,"ephemeral":false}]'
2025-02-11 10:00:30.269 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 10:00:30.270 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28130/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:30.271 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"KzEyMzQ1Njc4OTA=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268030160634112,"ephemeral":false}]'
2025-02-11 10:00:30.273 DEBUG [tests.relay.test_publish] Running test with payload A UUID
2025-02-11 10:00:30.273 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "MTIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAw", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 10:00:30.277 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 10:00:30.278 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 10:00:30.378 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 10:00:30.378 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:30.381 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAw","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268030273312000,"ephemeral":false}]'
2025-02-11 10:00:30.382 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 10:00:30.383 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28130/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:30.384 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAw","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268030273312000,"ephemeral":false}]'
2025-02-11 10:00:30.386 DEBUG [tests.relay.test_publish] Running test with payload A hashtag
2025-02-11 10:00:30.386 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "I2hlbGxvV29ybGQ=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 10:00:30.390 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 10:00:30.391 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 10:00:30.491 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 10:00:30.491 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:30.494 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"I2hlbGxvV29ybGQ=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268030386850304,"ephemeral":false}]'
2025-02-11 10:00:30.495 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 10:00:30.495 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28130/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:30.497 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"I2hlbGxvV29ybGQ=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268030386850304,"ephemeral":false}]'
2025-02-11 10:00:30.498 DEBUG [tests.relay.test_publish] Running test with payload A Twitter handle
2025-02-11 10:00:30.499 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "QHVzZXJuYW1l", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 10:00:30.503 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 10:00:30.503 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 10:00:30.604 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 10:00:30.604 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:30.607 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"QHVzZXJuYW1l","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268030499111936,"ephemeral":false}]'
2025-02-11 10:00:30.608 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 10:00:30.608 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28130/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:30.610 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"QHVzZXJuYW1l","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268030499111936,"ephemeral":false}]'
2025-02-11 10:00:30.612 DEBUG [tests.relay.test_publish] Running test with payload A password
2025-02-11 10:00:30.612 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UEBzc3cwcmQh", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 10:00:30.617 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 10:00:30.617 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 10:00:30.717 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 10:00:30.718 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:30.721 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UEBzc3cwcmQh","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268030612441344,"ephemeral":false}]'
2025-02-11 10:00:30.722 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 10:00:30.722 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28130/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:30.724 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UEBzc3cwcmQh","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268030612441344,"ephemeral":false}]'
2025-02-11 10:00:30.726 DEBUG [tests.relay.test_publish] Running test with payload A date in common format
2025-02-11 10:00:30.726 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "MDEvMTEvMjAyMw==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 10:00:30.731 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 10:00:30.731 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 10:00:30.831 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 10:00:30.831 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:30.834 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MDEvMTEvMjAyMw==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268030726320640,"ephemeral":false}]'
2025-02-11 10:00:30.836 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 10:00:30.836 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28130/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:30.837 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MDEvMTEvMjAyMw==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268030726320640,"ephemeral":false}]'
2025-02-11 10:00:30.839 DEBUG [tests.relay.test_publish] Running test with payload A time string
2025-02-11 10:00:30.839 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "MTI6MDA6MDA=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 10:00:30.844 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 10:00:30.844 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 10:00:30.945 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 10:00:30.945 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:30.948 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTI6MDA6MDA=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268030839501056,"ephemeral":false}]'
2025-02-11 10:00:30.949 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 10:00:30.949 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28130/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:30.951 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTI6MDA6MDA=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268030839501056,"ephemeral":false}]'
2025-02-11 10:00:30.952 DEBUG [tests.relay.test_publish] Running test with payload A mathematical equation
2025-02-11 10:00:30.953 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RSA9IG1jXjI=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 10:00:30.957 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 10:00:30.957 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 10:00:31.057 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 10:00:31.057 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27237/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:31.060 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RSA9IG1jXjI=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268030952901888,"ephemeral":false}]'
2025-02-11 10:00:31.061 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 10:00:31.061 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28130/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:31.063 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RSA9IG1jXjI=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739268030952901888,"ephemeral":false}]'
2025-02-11 10:00:31.066 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-11 10:00:31.067 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-11 10:00:31.067 DEBUG [src.node.waku_node] Stopping container with id 88481f908ba9
2025-02-11 10:00:32.354 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 10:00:32.354 DEBUG [src.node.waku_node] Stopping container with id 602d8ed34f75
2025-02-11 10:00:32.857 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 10:00:32.857 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-11 10:00:32.871 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 10:00:32.877 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
