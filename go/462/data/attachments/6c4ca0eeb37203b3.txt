2025-02-11 09:59:06.757 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-11 09:59:06.757 DEBUG [tests.conftest] Running test: test_publish_with_valid_timestamps with id: 2025-02-11_09-59-06__4df3c3ca-f251-4d67-98fb-051c52698bfa
2025-02-11 09:59:06.758 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-11 09:59:06.758 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-11 09:59:06.758 DEBUG [src.steps.relay] Running fixture setup: setup_main_relay_nodes
2025-02-11 09:59:06.765 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 09:59:06.765 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-11_09-59-06__4df3c3ca-f251-4d67-98fb-051c52698bfa__wakuorg_nwaku:latest.log
2025-02-11 09:59:06.765 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 09:59:06.766 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 09:59:06.767 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 09:59:06.767 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.165.235
2025-02-11 09:59:06.767 DEBUG [src.node.docker_mananger] Generated ports ['7946', '7947', '7948', '7949', '7950']
2025-02-11 09:59:06.767 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 09:59:06.767 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 09:59:06.768 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 09:59:06.768 DEBUG [src.node.docker_mananger] docker run -i -t -p 7946:7946 -p 7947:7947 -p 7948:7948 -p 7949:7949 -p 7950:7950 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=7948 --rest-port=7946 --tcp-port=7947 --discv5-udp-port=7949 --rest-address=0.0.0.0 --nat=extip:172.18.165.235 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b02b06fbdcf08bc2eecf1a45807aa4e76cefc9911b3daeb0e9bf69a79becbfa2 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=7950 --metrics-logging=true --relay=true
2025-02-11 09:59:07.016 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.165.235 waku d623539a252d3934e83908a11f64c16c3715f0011eec7d4261f5d38c6421f058
2025-02-11 09:59:07.063 DEBUG [src.node.docker_mananger] Container started with ID d623539a252d. Setting up logs at ./log/docker/node1_2025-02-11_09-59-06__4df3c3ca-f251-4d67-98fb-051c52698bfa__wakuorg_nwaku:latest.log
2025-02-11 09:59:07.064 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 7946
2025-02-11 09:59:07.064 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 09:59:07.514 ERROR [src.node.docker_mananger] Max retries reached for container cab4d12f541a. Exiting log stream.
2025-02-11 09:59:08.065 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:7946/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:59:08.068 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 09:59:08.068 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 09:59:08.068 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:7946/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:59:08.070 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.165.235/tcp/7947/p2p/16Uiu2HAmKKx3NYPHfsbLQ9qAMvGedXQEV6uSwQWpGbQFjd6AD2m4","/ip4/172.18.165.235/tcp/7948/ws/p2p/16Uiu2HAmKKx3NYPHfsbLQ9qAMvGedXQEV6uSwQWpGbQFjd6AD2m4"],"enrUri":"enr:-L24QBSrSGRs8ANz62J2NItCHmwIEAFoYvmaD-OrJR0KpTATdTkXVsunFLiwKfIFM137R2pOE3BcGXQq_cuuW0uclvgCgmlkgnY0gmlwhKwSpeuKbXVsdGlhZGRyc5YACASsEqXrBh8LAAoErBKl6wYfDN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDYyEpky101FXoaP8J3GOSk3bR4UumW6D9zYE-cubdAK-DdGNwgh8Lg3VkcIIfDYV3YWt1MgE"}'
2025-02-11 09:59:08.071 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 09:59:08.077 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-11 09:59:08.077 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-11_09-59-06__4df3c3ca-f251-4d67-98fb-051c52698bfa__wakuorg_go-waku:latest.log
2025-02-11 09:59:08.077 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 09:59:08.078 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 09:59:08.079 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 09:59:08.079 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.234.175
2025-02-11 09:59:08.079 DEBUG [src.node.docker_mananger] Generated ports ['39659', '39660', '39661', '39662', '39663']
2025-02-11 09:59:08.079 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 09:59:08.079 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 09:59:08.080 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 09:59:08.080 DEBUG [src.node.docker_mananger] docker run -i -t -p 39659:39659 -p 39660:39660 -p 39661:39661 -p 39662:39662 -p 39663:39663 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=39661 --rest-port=39659 --tcp-port=39660 --discv5-udp-port=39662 --rest-address=0.0.0.0 --nat=extip:172.18.234.175 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=acaec4dc967fa14e2d88cbaacfcacf890c6e5399c6c8a759cdec80d1f1ea691a --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-L24QBSrSGRs8ANz62J2NItCHmwIEAFoYvmaD-OrJR0KpTATdTkXVsunFLiwKfIFM137R2pOE3BcGXQq_cuuW0uclvgCgmlkgnY0gmlwhKwSpeuKbXVsdGlhZGRyc5YACASsEqXrBh8LAAoErBKl6wYfDN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDYyEpky101FXoaP8J3GOSk3bR4UumW6D9zYE-cubdAK-DdGNwgh8Lg3VkcIIfDYV3YWt1MgE
2025-02-11 09:59:08.319 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.234.175 waku e6010762e8c30711485ebbe797c16b38f0de7ab0d140e77e71af64cdf451ab88
2025-02-11 09:59:08.373 DEBUG [src.node.docker_mananger] Container started with ID e6010762e8c3. Setting up logs at ./log/docker/node2_2025-02-11_09-59-06__4df3c3ca-f251-4d67-98fb-051c52698bfa__wakuorg_go-waku:latest.log
2025-02-11 09:59:08.373 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 39659
2025-02-11 09:59:08.374 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 09:59:09.375 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39659/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:59:09.378 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QI8g4Q1HOIv3ue_hfu_Ei5lyuz2VjMx83OasjlWh-Dx5TA0W6ZVOYIzJXIqSxHXFbqzyf59o5P8KdFIOW8xKaomGAZT0cr9NgmlkgnY0gmlwhKwRAAOCcnODAAMAiXNlY3AyNTZrMaEDi8VWScSIyactZTXzgcNgNq8n-XX7LY9swxdyaG9fO4mDdGNwgprsg3VkcIKa7oV3YWt1MgE","listenAddresses":["/ip4/127.0.0.1/tcp/39660/p2p/16Uiu2HAmN4bYejTXCbSxHrQ91s87hnCh41Q8gbu3WomDjDrq9wTn","/ip4/127.0.0.1/tcp/39661/ws/p2p/16Uiu2HAmN4bYejTXCbSxHrQ91s87hnCh41Q8gbu3WomDjDrq9wTn","/ip4/172.17.0.3/tcp/39660/p2p/16Uiu2HAmN4bYejTXCbSxHrQ91s87hnCh41Q8gbu3WomDjDrq9wTn","/ip4/172.17.0.3/tcp/39661/ws/p2p/16Uiu2HAmN4bYejTXCbSxHrQ91s87hnCh41Q8gbu3WomDjDrq9wTn"]}'
2025-02-11 09:59:09.378 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 09:59:09.379 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39659/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.165.235/tcp/7947/p2p/16Uiu2HAmKKx3NYPHfsbLQ9qAMvGedXQEV6uSwQWpGbQFjd6AD2m4", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-11 09:59:09.397 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-11 09:59:09.398 DEBUG [src.steps.relay] Running fixture setup: subscribe_main_relay_nodes
2025-02-11 09:59:09.398 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:7946/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-11 09:59:09.422 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 09:59:09.422 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39659/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-11 09:59:09.425 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 09:59:09.426 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:7946/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 09:59:09.440 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 09:59:09.440 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:59:09.540 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 09:59:09.540 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:7946/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:59:09.543 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739267949426759168,"ephemeral":false}]'
2025-02-11 09:59:09.545 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 09:59:09.545 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39659/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:59:09.546 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-11 09:59:10.548 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:7946/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 09:59:10.553 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 09:59:10.553 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:59:10.653 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 09:59:10.653 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:7946/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:59:10.656 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739267950547714816,"ephemeral":false}]'
2025-02-11 09:59:10.658 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 09:59:10.658 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39659/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:59:10.659 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739267950547714816,"ephemeral":false}]'
2025-02-11 09:59:10.661 INFO [src.steps.relay] WARM UP successful!!
2025-02-11 09:59:10.662 DEBUG [tests.relay.test_publish] Running test with timestamp Now
2025-02-11 09:59:10.662 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:7946/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 09:59:10.667 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 09:59:10.667 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:59:10.767 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 09:59:10.767 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:7946/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:59:10.770 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739267753929519360,"ephemeral":false}]'
2025-02-11 09:59:10.772 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 09:59:10.772 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39659/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:59:10.773 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739267753929519360,"ephemeral":false}]'
2025-02-11 09:59:10.775 DEBUG [tests.relay.test_publish] Running test with timestamp Far future
2025-02-11 09:59:10.775 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:7946/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 09:59:10.779 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 09:59:10.780 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:59:10.880 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 09:59:10.880 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:7946/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:59:10.883 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":2054627753929505024,"ephemeral":false}]'
2025-02-11 09:59:10.885 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 09:59:10.885 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39659/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:59:10.886 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":2054627753929505024,"ephemeral":false}]'
2025-02-11 09:59:10.888 DEBUG [tests.relay.test_publish] Running test with timestamp Recent past
2025-02-11 09:59:10.888 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:7946/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 09:59:10.893 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 09:59:10.893 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:59:10.993 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 09:59:10.993 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:7946/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:59:10.996 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739264153929505024,"ephemeral":false}]'
2025-02-11 09:59:10.997 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 09:59:10.997 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39659/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:59:10.999 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739264153929505024,"ephemeral":false}]'
2025-02-11 09:59:11.000 DEBUG [tests.relay.test_publish] Running test with timestamp Near future
2025-02-11 09:59:11.001 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:7946/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 09:59:11.006 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 09:59:11.006 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:59:11.106 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 09:59:11.107 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:7946/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:59:11.109 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739271353929505024,"ephemeral":false}]'
2025-02-11 09:59:11.111 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 09:59:11.111 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39659/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:59:11.112 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739271353929505024,"ephemeral":false}]'
2025-02-11 09:59:11.114 DEBUG [tests.relay.test_publish] Running test with timestamp Positive number
2025-02-11 09:59:11.114 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:7946/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 09:59:11.118 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 09:59:11.119 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:59:11.219 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 09:59:11.219 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:7946/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:59:11.222 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1,"ephemeral":false}]'
2025-02-11 09:59:11.223 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 09:59:11.224 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39659/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:59:11.225 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1,"ephemeral":false}]'
2025-02-11 09:59:11.227 DEBUG [tests.relay.test_publish] Running test with timestamp Negative number
2025-02-11 09:59:11.227 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:7946/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 09:59:11.231 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 09:59:11.231 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:59:11.332 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 09:59:11.332 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:7946/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:59:11.335 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":-1,"ephemeral":false}]'
2025-02-11 09:59:11.336 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 09:59:11.336 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39659/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:59:11.338 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":-1,"ephemeral":false}]'
2025-02-11 09:59:11.340 DEBUG [tests.relay.test_publish] Running test with timestamp DST change
2025-02-11 09:59:11.340 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:7946/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 09:59:11.344 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 09:59:11.345 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:59:11.445 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 09:59:11.445 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:7946/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:59:11.448 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1583632800000000000,"ephemeral":false}]'
2025-02-11 09:59:11.449 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 09:59:11.449 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39659/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:59:11.451 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1583632800000000000,"ephemeral":false}]'
2025-02-11 09:59:11.454 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-11 09:59:11.456 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-11 09:59:11.456 DEBUG [src.node.waku_node] Stopping container with id d623539a252d
2025-02-11 09:59:12.543 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 09:59:12.543 DEBUG [src.node.waku_node] Stopping container with id e6010762e8c3
2025-02-11 09:59:13.023 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 09:59:13.024 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-11 09:59:13.031 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 09:59:13.035 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
