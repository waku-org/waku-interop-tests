2025-02-11 09:58:43.575 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-11 09:58:43.575 DEBUG [tests.conftest] Running test: test_subscribe_one_by_one_to_different_pubsub_topics_and_send_messages with id: 2025-02-11_09-58-43__0c64444a-576d-4fc7-9a4a-a5f47d329d30
2025-02-11 09:58:43.575 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-11 09:58:43.576 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-11 09:58:43.576 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-11 09:58:43.583 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 09:58:43.583 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-11_09-58-43__0c64444a-576d-4fc7-9a4a-a5f47d329d30__wakuorg_nwaku:latest.log
2025-02-11 09:58:43.583 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 09:58:43.584 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 09:58:43.585 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 09:58:43.585 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.218.85
2025-02-11 09:58:43.585 DEBUG [src.node.docker_mananger] Generated ports ['57748', '57749', '57750', '57751', '57752']
2025-02-11 09:58:43.586 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 09:58:43.586 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 09:58:43.586 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 09:58:43.586 DEBUG [src.node.docker_mananger] docker run -i -t -p 57748:57748 -p 57749:57749 -p 57750:57750 -p 57751:57751 -p 57752:57752 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=57750 --rest-port=57748 --tcp-port=57749 --discv5-udp-port=57751 --rest-address=0.0.0.0 --nat=extip:172.18.218.85 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=cfcbfb33148b4f812e662a7d3e1e0f4da13a4ffd7faabdea8059a6b9bd7c401f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=57752 --metrics-logging=true --relay=true --filter=true --pubsub-topic=/waku/2/rs/2/0
2025-02-11 09:58:43.808 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.218.85 waku 1012533bdf47227d3aa7ac120fa97b01ffd8516f88181f7c108beb87687330f6
2025-02-11 09:58:43.854 DEBUG [src.node.docker_mananger] Container started with ID 1012533bdf47. Setting up logs at ./log/docker/node1_2025-02-11_09-58-43__0c64444a-576d-4fc7-9a4a-a5f47d329d30__wakuorg_nwaku:latest.log
2025-02-11 09:58:43.855 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 57748
2025-02-11 09:58:43.856 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 09:58:43.880 ERROR [src.node.docker_mananger] Max retries reached for container e847d26b62a5. Exiting log stream.
2025-02-11 09:58:44.378 ERROR [src.node.docker_mananger] Max retries reached for container 9159de19c47b. Exiting log stream.
2025-02-11 09:58:44.856 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57748/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:58:44.859 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 09:58:44.860 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 09:58:44.860 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57748/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:58:44.863 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.218.85/tcp/57749/p2p/16Uiu2HAmMxXpHAysHjseE1BkKApyYuG5wBehTfCQrxAqrwK7kirt","/ip4/172.18.218.85/tcp/57750/ws/p2p/16Uiu2HAmMxXpHAysHjseE1BkKApyYuG5wBehTfCQrxAqrwK7kirt"],"enrUri":"enr:-L24QJCNIo9ZXujwR0G4yJJDwwOnCvNUQFG6Op4Tk9vA3-mNBVjf_-dCQeIMV_ogbIHKrebrEYx0Ajp68LF9DttXhZ8CgmlkgnY0gmlwhKwS2lWKbXVsdGlhZGRyc5YACASsEtpVBuGVAAoErBLaVQbhlt0DgnJzhQACAQAAiXNlY3AyNTZrMaEDijeiUiJh_PxbtVJtVvP6ujxK0MlihhCd1pc4QZJq4GmDdGNwguGVg3VkcILhl4V3YWt1MgU"}'
2025-02-11 09:58:44.863 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 09:58:44.870 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-11 09:58:44.870 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-11_09-58-43__0c64444a-576d-4fc7-9a4a-a5f47d329d30__wakuorg_go-waku:latest.log
2025-02-11 09:58:44.870 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 09:58:44.870 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 09:58:44.871 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 09:58:44.872 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.78.11
2025-02-11 09:58:44.872 DEBUG [src.node.docker_mananger] Generated ports ['61322', '61323', '61324', '61325', '61326']
2025-02-11 09:58:44.872 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 09:58:44.872 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 09:58:44.872 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 09:58:44.872 DEBUG [src.node.docker_mananger] docker run -i -t -p 61322:61322 -p 61323:61323 -p 61324:61324 -p 61325:61325 -p 61326:61326 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=61324 --rest-port=61322 --tcp-port=61323 --discv5-udp-port=61325 --rest-address=0.0.0.0 --nat=extip:172.18.78.11 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=bfea761adff809afa1aa36db7e80bf8eb75ecb4d965ba0ce006fdaf9de927fe8 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-L24QJCNIo9ZXujwR0G4yJJDwwOnCvNUQFG6Op4Tk9vA3-mNBVjf_-dCQeIMV_ogbIHKrebrEYx0Ajp68LF9DttXhZ8CgmlkgnY0gmlwhKwS2lWKbXVsdGlhZGRyc5YACASsEtpVBuGVAAoErBLaVQbhlt0DgnJzhQACAQAAiXNlY3AyNTZrMaEDijeiUiJh_PxbtVJtVvP6ujxK0MlihhCd1pc4QZJq4GmDdGNwguGVg3VkcILhl4V3YWt1MgU --pubsub-topic=/waku/2/rs/2/0
2025-02-11 09:58:45.101 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.78.11 waku a57dc6a746af8299d007b874d6a757a55974e9668fc1dcd30f562e3cb436f219
2025-02-11 09:58:45.159 DEBUG [src.node.docker_mananger] Container started with ID a57dc6a746af. Setting up logs at ./log/docker/node2_2025-02-11_09-58-43__0c64444a-576d-4fc7-9a4a-a5f47d329d30__wakuorg_go-waku:latest.log
2025-02-11 09:58:45.160 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 61322
2025-02-11 09:58:45.160 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 09:58:46.160 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61322/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:58:46.163 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QIiE5xidZ7h8WWmvJI9uMX8ApnTmPx58BrOOyPhnur_YGeQFtPemHO6Om1k7ed7UJ_pOtYEYo-l-FzSNn-VH1WSGAZT0cmSbgmlkgnY0gmlwhKwRAAOCcnOFAAIBAACJc2VjcDI1NmsxoQP8GedMl-iXfcnzltEaJCu6RDvKMLcVmC0Nzpqt_J_pE4N0Y3CC74uDdWRwgu-NhXdha3UyAQ","listenAddresses":["/ip4/127.0.0.1/tcp/61323/p2p/16Uiu2HAmVd5zw7dv7Rev76HwzEbxAsHiLMsvzbRaqK2X9AEwL16z","/ip4/127.0.0.1/tcp/61324/ws/p2p/16Uiu2HAmVd5zw7dv7Rev76HwzEbxAsHiLMsvzbRaqK2X9AEwL16z","/ip4/172.17.0.3/tcp/61323/p2p/16Uiu2HAmVd5zw7dv7Rev76HwzEbxAsHiLMsvzbRaqK2X9AEwL16z","/ip4/172.17.0.3/tcp/61324/ws/p2p/16Uiu2HAmVd5zw7dv7Rev76HwzEbxAsHiLMsvzbRaqK2X9AEwL16z"]}'
2025-02-11 09:58:46.163 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 09:58:46.164 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:61322/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.218.85/tcp/57749/p2p/16Uiu2HAmMxXpHAysHjseE1BkKApyYuG5wBehTfCQrxAqrwK7kirt", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-11 09:58:46.165 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-11 09:58:46.166 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:57748/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0"]'
2025-02-11 09:58:46.169 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 09:58:46.169 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:61322/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0"]'
2025-02-11 09:58:46.171 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 09:58:46.171 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:57748/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 09:58:46.176 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 09:58:46.176 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:58:46.277 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 09:58:46.277 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57748/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:58:46.280 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739267926171826176,"ephemeral":false}]'
2025-02-11 09:58:46.282 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 09:58:46.282 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61322/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:58:46.284 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739267926171826176,"ephemeral":false}]'
2025-02-11 09:58:46.285 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:57748/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/1"]'
2025-02-11 09:58:46.289 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 09:58:46.289 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:61322/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/1"]'
2025-02-11 09:58:46.292 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 09:58:46.293 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:57748/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 09:58:46.298 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 09:58:46.298 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:58:46.399 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 09:58:46.399 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57748/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:58:46.402 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739267926292762368,"ephemeral":false}]'
2025-02-11 09:58:46.404 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 09:58:46.404 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61322/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:58:46.406 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739267926292762368,"ephemeral":false}]'
2025-02-11 09:58:46.407 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:57748/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/2"]'
2025-02-11 09:58:46.411 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 09:58:46.411 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:61322/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/2"]'
2025-02-11 09:58:46.413 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 09:58:46.417 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:57748/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 09:58:46.421 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 09:58:46.422 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:58:46.522 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 09:58:46.522 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57748/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:58:46.525 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739267926416952832,"ephemeral":false}]'
2025-02-11 09:58:46.526 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 09:58:46.527 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61322/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:58:46.528 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739267926416952832,"ephemeral":false}]'
2025-02-11 09:58:46.530 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:57748/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/3"]'
2025-02-11 09:58:46.533 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 09:58:46.533 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:61322/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/3"]'
2025-02-11 09:58:46.535 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 09:58:46.537 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:57748/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 09:58:46.542 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 09:58:46.542 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:58:46.643 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 09:58:46.643 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57748/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:58:46.646 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739267926536847616,"ephemeral":false}]'
2025-02-11 09:58:46.647 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 09:58:46.648 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61322/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:58:46.649 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739267926536847616,"ephemeral":false}]'
2025-02-11 09:58:46.651 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:57748/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/4"]'
2025-02-11 09:58:46.655 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 09:58:46.655 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:61322/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/4"]'
2025-02-11 09:58:46.657 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 09:58:46.659 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:57748/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 09:58:46.665 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 09:58:46.666 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:58:46.766 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 09:58:46.766 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57748/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:58:46.769 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739267926658874112,"ephemeral":false}]'
2025-02-11 09:58:46.772 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 09:58:46.772 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61322/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:58:46.774 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739267926658874112,"ephemeral":false}]'
2025-02-11 09:58:46.776 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:57748/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/5"]'
2025-02-11 09:58:46.780 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 09:58:46.780 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:61322/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/5"]'
2025-02-11 09:58:46.783 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 09:58:46.784 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:57748/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 09:58:46.790 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 09:58:46.791 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:58:46.891 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 09:58:46.891 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57748/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:58:46.894 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739267926784437248,"ephemeral":false}]'
2025-02-11 09:58:46.896 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 09:58:46.896 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61322/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:58:46.898 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739267926784437248,"ephemeral":false}]'
2025-02-11 09:58:46.900 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:57748/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/6"]'
2025-02-11 09:58:46.903 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 09:58:46.903 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:61322/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/6"]'
2025-02-11 09:58:46.905 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 09:58:46.907 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:57748/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 09:58:46.913 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 09:58:46.913 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:58:47.013 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 09:58:47.014 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57748/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:58:47.017 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739267926907133696,"ephemeral":false}]'
2025-02-11 09:58:47.018 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 09:58:47.018 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61322/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:58:47.020 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739267926907133696,"ephemeral":false}]'
2025-02-11 09:58:47.022 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:57748/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/7"]'
2025-02-11 09:58:47.025 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 09:58:47.026 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:61322/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/7"]'
2025-02-11 09:58:47.028 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 09:58:47.029 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:57748/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 09:58:47.035 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 09:58:47.036 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 09:58:47.136 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 09:58:47.136 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57748/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:58:47.139 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739267927029669120,"ephemeral":false}]'
2025-02-11 09:58:47.141 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 09:58:47.141 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61322/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:58:47.142 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739267927029669120,"ephemeral":false}]'
2025-02-11 09:58:47.145 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-11 09:58:47.146 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-11 09:58:47.146 DEBUG [src.node.waku_node] Stopping container with id 1012533bdf47
2025-02-11 09:58:47.724 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 09:58:47.725 DEBUG [src.node.waku_node] Stopping container with id a57dc6a746af
2025-02-11 09:58:48.538 ERROR [src.node.docker_mananger] Max retries reached for container 1012533bdf47. Exiting log stream.
2025-02-11 09:58:58.230 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 09:58:58.233 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-11 09:58:58.241 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 09:58:58.244 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
