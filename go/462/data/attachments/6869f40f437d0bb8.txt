2025-02-11 10:00:06.230 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-11 10:00:06.231 DEBUG [tests.conftest] Running test: test_filter_update_subscription_with_no_content_topic with id: 2025-02-11_10-00-06__2ae39b65-f850-46bb-8beb-f8e6222437f0
2025-02-11 10:00:06.232 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-11 10:00:06.232 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2025-02-11 10:00:06.232 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2025-02-11 10:00:06.241 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 10:00:06.241 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-11_10-00-06__2ae39b65-f850-46bb-8beb-f8e6222437f0__wakuorg_nwaku:latest.log
2025-02-11 10:00:06.241 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 10:00:06.241 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 10:00:06.243 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 10:00:06.243 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.16.111
2025-02-11 10:00:06.243 DEBUG [src.node.docker_mananger] Generated ports ['33059', '33060', '33061', '33062', '33063']
2025-02-11 10:00:06.243 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 10:00:06.243 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 10:00:06.243 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 10:00:06.243 DEBUG [src.node.docker_mananger] docker run -i -t -p 33059:33059 -p 33060:33060 -p 33061:33061 -p 33062:33062 -p 33063:33063 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=33061 --rest-port=33059 --tcp-port=33060 --discv5-udp-port=33062 --rest-address=0.0.0.0 --nat=extip:172.18.16.111 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=eca92054a5fabdb9c0ec6d6fa22c78aca21e8dc106d470ebc68d69ccdc78fbce --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=33063 --metrics-logging=true --relay=true --filter=true
2025-02-11 10:00:06.400 ERROR [src.node.docker_mananger] Max retries reached for container f9cbfc95f83a. Exiting log stream.
2025-02-11 10:00:06.472 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.16.111 waku 317f00107c37a8cc947a16669b8345e6e65f61a2306febaca9b7b5b1f4f876da
2025-02-11 10:00:06.519 DEBUG [src.node.docker_mananger] Container started with ID 317f00107c37. Setting up logs at ./log/docker/node1_2025-02-11_10-00-06__2ae39b65-f850-46bb-8beb-f8e6222437f0__wakuorg_nwaku:latest.log
2025-02-11 10:00:06.520 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 33059
2025-02-11 10:00:06.520 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 10:00:07.044 ERROR [src.node.docker_mananger] Max retries reached for container 2924bd5b5995. Exiting log stream.
2025-02-11 10:00:07.520 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33059/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:07.523 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 10:00:07.523 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 10:00:07.524 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33059/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:07.526 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.16.111/tcp/33060/p2p/16Uiu2HAmSkXSj9CQhUK6YjPdBS1bs3MBmLExADsdfzCb4eN79GWG","/ip4/172.18.16.111/tcp/33061/ws/p2p/16Uiu2HAmSkXSj9CQhUK6YjPdBS1bs3MBmLExADsdfzCb4eN79GWG"],"enrUri":"enr:-L24QKS_X5k2HaRw7AwBYvSNli5o8UtoNqWRfJlCPR3hD6KdGFMUrZ4ReBIA7Br4Q2fVTrqEvnsY5q2zpHcebByFdToCgmlkgnY0gmlwhKwSEG-KbXVsdGlhZGRyc5YACASsEhBvBoEkAAoErBIQbwaBJd0DgnJzhQADAQAAiXNlY3AyNTZrMaED0W6tx8pTTKiUTRxgUgPa5rMwNeu9POJxwF5qq3BdrD2DdGNwgoEkg3VkcIKBJoV3YWt1MgU"}'
2025-02-11 10:00:07.526 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 10:00:07.526 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2025-02-11 10:00:07.532 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-11 10:00:07.532 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-11_10-00-06__2ae39b65-f850-46bb-8beb-f8e6222437f0__wakuorg_go-waku:latest.log
2025-02-11 10:00:07.533 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 10:00:07.533 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 10:00:07.534 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 10:00:07.534 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.243.203
2025-02-11 10:00:07.534 DEBUG [src.node.docker_mananger] Generated ports ['61621', '61622', '61623', '61624', '61625']
2025-02-11 10:00:07.534 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 10:00:07.535 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 10:00:07.535 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 10:00:07.535 DEBUG [src.node.docker_mananger] docker run -i -t -p 61621:61621 -p 61622:61622 -p 61623:61623 -p 61624:61624 -p 61625:61625 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=61623 --rest-port=61621 --tcp-port=61622 --discv5-udp-port=61624 --rest-address=0.0.0.0 --nat=extip:172.18.243.203 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=4fcdfaaa53baeffbaa99b01b2b2ffdefd8a288ffcaa9002dd0074ee8882ef8b0 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QKS_X5k2HaRw7AwBYvSNli5o8UtoNqWRfJlCPR3hD6KdGFMUrZ4ReBIA7Br4Q2fVTrqEvnsY5q2zpHcebByFdToCgmlkgnY0gmlwhKwSEG-KbXVsdGlhZGRyc5YACASsEhBvBoEkAAoErBIQbwaBJd0DgnJzhQADAQAAiXNlY3AyNTZrMaED0W6tx8pTTKiUTRxgUgPa5rMwNeu9POJxwF5qq3BdrD2DdGNwgoEkg3VkcIKBJoV3YWt1MgU --filternode=/ip4/172.18.16.111/tcp/33060/p2p/16Uiu2HAmSkXSj9CQhUK6YjPdBS1bs3MBmLExADsdfzCb4eN79GWG --pubsub-topic=/waku/2/rs/3/1
2025-02-11 10:00:07.756 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.243.203 waku d31a113dd215014475edd4119dcd5a8f47f307b5f7f586b504e8d294e46336b4
2025-02-11 10:00:07.812 DEBUG [src.node.docker_mananger] Container started with ID d31a113dd215. Setting up logs at ./log/docker/node2_2025-02-11_10-00-06__2ae39b65-f850-46bb-8beb-f8e6222437f0__wakuorg_go-waku:latest.log
2025-02-11 10:00:07.813 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 61621
2025-02-11 10:00:07.813 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 10:00:08.814 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61621/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 10:00:08.816 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QOkIahe7w542yiUR_H7fX7O0nDg-M-cMMB4I5KbE4yJpa1lOKxfHsA2oAGZXJSmFS9hLSzbPudym6xD9jyXIfqeGAZT0c6d7gmlkgnY0gmlwhKwRAAOCcnOFAAMBAAGJc2VjcDI1NmsxoQP3sVx2apbDVt8zXKoe2n-y5G7cKK3zq9OBRdeJJOIsRoN0Y3CC8LaDdWRwgvC4hXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/61622/p2p/16Uiu2HAmVKsuoCsfXuaVeVtQ1YH7eX56thqaDSpzMZA7eWfNw8mK","/ip4/127.0.0.1/tcp/61623/ws/p2p/16Uiu2HAmVKsuoCsfXuaVeVtQ1YH7eX56thqaDSpzMZA7eWfNw8mK","/ip4/172.17.0.3/tcp/61622/p2p/16Uiu2HAmVKsuoCsfXuaVeVtQ1YH7eX56thqaDSpzMZA7eWfNw8mK","/ip4/172.17.0.3/tcp/61623/ws/p2p/16Uiu2HAmVKsuoCsfXuaVeVtQ1YH7eX56thqaDSpzMZA7eWfNw8mK"]}'
2025-02-11 10:00:08.816 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 10:00:08.817 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:61621/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.16.111/tcp/33060/p2p/16Uiu2HAmSkXSj9CQhUK6YjPdBS1bs3MBmLExADsdfzCb4eN79GWG", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-11 10:00:08.819 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-11 10:00:08.819 DEBUG [src.steps.filter] Running fixture setup: subscribe_main_nodes
2025-02-11 10:00:08.820 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:33059/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-11 10:00:08.822 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 10:00:08.823 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:61621/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "9a58969a-5d89-44b3-bf61-9d66a79eb41e", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2025-02-11 10:00:08.828 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"9a58969a-5d89-44b3-bf61-9d66a79eb41e","statusDesc":"OK"}'
2025-02-11 10:00:08.832 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-11 10:00:08.833 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-11 10:00:08.833 DEBUG [src.node.waku_node] Stopping container with id 317f00107c37
2025-02-11 10:00:09.421 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 10:00:09.422 DEBUG [src.node.waku_node] Stopping container with id d31a113dd215
2025-02-11 10:00:10.234 ERROR [src.node.docker_mananger] Max retries reached for container 317f00107c37. Exiting log stream.
2025-02-11 10:00:10.293 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 10:00:10.295 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-11 10:00:10.299 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 10:00:10.301 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
