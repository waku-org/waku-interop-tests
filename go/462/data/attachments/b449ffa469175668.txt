2025-02-11 09:57:00.199 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-11 09:57:00.199 DEBUG [tests.conftest] Running test: test_filter_unsubscribe_with_invalid_request_id with id: 2025-02-11_09-57-00__46c00ded-cb40-4c32-8283-cfbb2d461740
2025-02-11 09:57:00.199 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-11 09:57:00.200 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2025-02-11 09:57:00.200 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2025-02-11 09:57:00.207 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 09:57:00.207 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-11_09-57-00__46c00ded-cb40-4c32-8283-cfbb2d461740__wakuorg_nwaku:latest.log
2025-02-11 09:57:00.207 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 09:57:00.207 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 09:57:00.209 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 09:57:00.209 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.119.0
2025-02-11 09:57:00.209 DEBUG [src.node.docker_mananger] Generated ports ['44037', '44038', '44039', '44040', '44041']
2025-02-11 09:57:00.209 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 09:57:00.209 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 09:57:00.209 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 09:57:00.209 DEBUG [src.node.docker_mananger] docker run -i -t -p 44037:44037 -p 44038:44038 -p 44039:44039 -p 44040:44040 -p 44041:44041 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=44039 --rest-port=44037 --tcp-port=44038 --discv5-udp-port=44040 --rest-address=0.0.0.0 --nat=extip:172.18.119.0 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dee837bdba8d7e8656fb89fabd2576fcddb6aa99287eff20001e509afe33c96c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=44041 --metrics-logging=true --relay=true --filter=true
2025-02-11 09:57:00.315 ERROR [src.node.docker_mananger] Max retries reached for container df4cc20b5fa6. Exiting log stream.
2025-02-11 09:57:00.456 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.119.0 waku cac3fd5f4a9d2bafa16eb5f5b3022b7e8bd1b87e1048b03cdfe3ae94e15d85e0
2025-02-11 09:57:00.509 DEBUG [src.node.docker_mananger] Container started with ID cac3fd5f4a9d. Setting up logs at ./log/docker/node1_2025-02-11_09-57-00__46c00ded-cb40-4c32-8283-cfbb2d461740__wakuorg_nwaku:latest.log
2025-02-11 09:57:00.510 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 44037
2025-02-11 09:57:00.510 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 09:57:01.000 ERROR [src.node.docker_mananger] Max retries reached for container 9cedc2f1a68d. Exiting log stream.
2025-02-11 09:57:01.511 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44037/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:57:01.514 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 09:57:01.515 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 09:57:01.515 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44037/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:57:01.517 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.119.0/tcp/44038/p2p/16Uiu2HAmDNoATD6nooUC9Kog8Vqa8URJ52c2r2xMmZLmzXwE1fzv","/ip4/172.18.119.0/tcp/44039/ws/p2p/16Uiu2HAmDNoATD6nooUC9Kog8Vqa8URJ52c2r2xMmZLmzXwE1fzv"],"enrUri":"enr:-L24QCIsyiOCLZvElTS_8P_dCucMRkLYzUpG8mOQHJxXiWDKJxSYOYu2tkbz5PssA5DkayB2kswih5lTYwgurnmoOaYCgmlkgnY0gmlwhKwSdwCKbXVsdGlhZGRyc5YACASsEncABqwGAAoErBJ3AAasB90DgnJzhQADAQAAiXNlY3AyNTZrMaEDCrW-tne4G-2NGOkT0qn94GVfoKTXZnQ1mqjiuJytBgeDdGNwgqwGg3VkcIKsCIV3YWt1MgU"}'
2025-02-11 09:57:01.518 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 09:57:01.518 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2025-02-11 09:57:01.525 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-11 09:57:01.525 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-11_09-57-00__46c00ded-cb40-4c32-8283-cfbb2d461740__wakuorg_go-waku:latest.log
2025-02-11 09:57:01.525 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 09:57:01.526 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 09:57:01.527 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 09:57:01.527 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.5.193
2025-02-11 09:57:01.527 DEBUG [src.node.docker_mananger] Generated ports ['21612', '21613', '21614', '21615', '21616']
2025-02-11 09:57:01.527 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 09:57:01.528 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 09:57:01.528 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 09:57:01.528 DEBUG [src.node.docker_mananger] docker run -i -t -p 21612:21612 -p 21613:21613 -p 21614:21614 -p 21615:21615 -p 21616:21616 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=21614 --rest-port=21612 --tcp-port=21613 --discv5-udp-port=21615 --rest-address=0.0.0.0 --nat=extip:172.18.5.193 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=4fb03ff4caedc9f84ceeedd2470ad0a3c509cfddefe14efa2eb19ad09df32fee --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QCIsyiOCLZvElTS_8P_dCucMRkLYzUpG8mOQHJxXiWDKJxSYOYu2tkbz5PssA5DkayB2kswih5lTYwgurnmoOaYCgmlkgnY0gmlwhKwSdwCKbXVsdGlhZGRyc5YACASsEncABqwGAAoErBJ3AAasB90DgnJzhQADAQAAiXNlY3AyNTZrMaEDCrW-tne4G-2NGOkT0qn94GVfoKTXZnQ1mqjiuJytBgeDdGNwgqwGg3VkcIKsCIV3YWt1MgU --filternode=/ip4/172.18.119.0/tcp/44038/p2p/16Uiu2HAmDNoATD6nooUC9Kog8Vqa8URJ52c2r2xMmZLmzXwE1fzv --pubsub-topic=/waku/2/rs/3/1
2025-02-11 09:57:01.763 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.5.193 waku 365e33a40af917545b85e0ef7be8fe05788f905b43f553bd4c95675ab215e6b3
2025-02-11 09:57:01.824 DEBUG [src.node.docker_mananger] Container started with ID 365e33a40af9. Setting up logs at ./log/docker/node2_2025-02-11_09-57-00__46c00ded-cb40-4c32-8283-cfbb2d461740__wakuorg_go-waku:latest.log
2025-02-11 09:57:01.826 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 21612
2025-02-11 09:57:01.826 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 09:57:02.826 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21612/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 09:57:02.829 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QFx5M3vK5GT29BpCwKXuLSGYtdcgqwQRDjboRH-zwCu_VPKR8n6oB05BEs8hv8K0ignz4561XrQULlJp64OtASaGAZT0cNDzgmlkgnY0gmlwhKwRAAOCcnOFAAMBAAGJc2VjcDI1NmsxoQIF3_JwUJzu2Q0UlWui1pU10jOjTkdpqelN_ElqZTeNX4N0Y3CCVG2DdWRwglRvhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/21613/p2p/16Uiu2HAkupc5VucqsSHVefLhSWyvF9YZFrVC9evCknN4ppsfDcjp","/ip4/127.0.0.1/tcp/21614/ws/p2p/16Uiu2HAkupc5VucqsSHVefLhSWyvF9YZFrVC9evCknN4ppsfDcjp","/ip4/172.17.0.3/tcp/21613/p2p/16Uiu2HAkupc5VucqsSHVefLhSWyvF9YZFrVC9evCknN4ppsfDcjp","/ip4/172.17.0.3/tcp/21614/ws/p2p/16Uiu2HAkupc5VucqsSHVefLhSWyvF9YZFrVC9evCknN4ppsfDcjp"]}'
2025-02-11 09:57:02.829 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 09:57:02.830 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21612/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.119.0/tcp/44038/p2p/16Uiu2HAmDNoATD6nooUC9Kog8Vqa8URJ52c2r2xMmZLmzXwE1fzv", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-11 09:57:02.832 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-11 09:57:02.832 DEBUG [src.steps.filter] Running fixture setup: subscribe_main_nodes
2025-02-11 09:57:02.833 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44037/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-11 09:57:02.836 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 09:57:02.836 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21612/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "918f0b4a-8669-4a16-844b-3fb166530bf7", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2025-02-11 09:57:02.842 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"918f0b4a-8669-4a16-844b-3fb166530bf7","statusDesc":"OK"}'
2025-02-11 09:57:02.844 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:21612/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": 1, "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2025-02-11 09:57:02.846 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:21612/filter/v2/subscriptions. Response content: b''
2025-02-11 09:57:02.848 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-11 09:57:02.849 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-11 09:57:02.849 DEBUG [src.node.waku_node] Stopping container with id cac3fd5f4a9d
2025-02-11 09:57:03.447 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 09:57:03.447 DEBUG [src.node.waku_node] Stopping container with id 365e33a40af9
2025-02-11 09:57:04.279 ERROR [src.node.docker_mananger] Max retries reached for container cac3fd5f4a9d. Exiting log stream.
2025-02-11 09:57:04.334 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 09:57:04.335 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-11 09:57:04.343 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 09:57:04.346 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
