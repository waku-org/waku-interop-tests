[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_multiple_lightpush_nodes with id: 2024-08-27_03-17-04__84cbaad3-d02b-4ed7-bdb0-51eebb6b9727
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-08-27_03-17-04__84cbaad3-d02b-4ed7-bdb0-51eebb6b9727__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.89.13
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['47867', '47868', '47869', '47870', '47871']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 47867:47867 -p 47868:47868 -p 47869:47869 -p 47870:47870 -p 47871:47871 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=47869 --rest-port=47867 --tcp-port=47868 --discv5-udp-port=47870 --rest-address=0.0.0.0 --nat=extip:172.18.89.13 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a7ffea0af0ba00c180cb31f2bff3d6acde82bcf1b439f5d7bb706a6fe3cced1d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=47871 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.89.13 waku a7e83873a8945b52bd9f002f0e5ec1b88b82c516a2873eb5eebb444385b8bfe9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID a7e83873a894. Setting up logs at ./log/docker/receiving_node1_2024-08-27_03-17-04__84cbaad3-d02b-4ed7-bdb0-51eebb6b9727__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 47867
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47867/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47867/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.89.13/tcp/47868/p2p/16Uiu2HAm8XuuxfL8pWTtvtH7zQrDPzb4CnRYA3RB2CLVEj8uak4i","/ip4/172.18.89.13/tcp/47869/ws/p2p/16Uiu2HAm8XuuxfL8pWTtvtH7zQrDPzb4CnRYA3RB2CLVEj8uak4i"],"enrUri":"enr:-LO4QJmo8JR2FvmMVftAYId6m9tlK9_Ig-fCOqjtCfNth1zjVSS1nNlHj7Hh2ts9u_oLrmJWBNQwhrlqNi-WCkoE4eQBgmlkgnY0gmlwhKwSWQ2KbXVsdGlhZGRyc4wACgSsElkNBrr93QOCcnOFAAMBAACJc2VjcDI1NmsxoQLCwSuGoGYe2PyBCOHUZ89tIQnYieO0MLFNkWmdl0qAq4N0Y3CCuvyDdWRwgrr-hXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-08-27_03-17-04__84cbaad3-d02b-4ed7-bdb0-51eebb6b9727__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.246.191
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['46162', '46163', '46164', '46165', '46166']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 46162:46162 -p 46163:46163 -p 46164:46164 -p 46165:46165 -p 46166:46166 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=46164 --rest-port=46162 --tcp-port=46163 --discv5-udp-port=46165 --rest-address=0.0.0.0 --nat=extip:172.18.246.191 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ffb95be3a2efdafef21e3e34234dddadbb35c015dc3b4dbf3cb54af97a0eeefc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=46166 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.246.191 waku 1fcf9bc464fb5ff471dce0fd83892119d8b8be83887978837dbd0e572685fe20
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 1fcf9bc464fb. Setting up logs at ./log/docker/receiving_node2_2024-08-27_03-17-04__84cbaad3-d02b-4ed7-bdb0-51eebb6b9727__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 46162
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46162/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46162/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.246.191/tcp/46163/p2p/16Uiu2HAmLZfGdvw4SFYEg8Bb6FS5nHBtNVx7dXspPHCUhoemfBZB","/ip4/172.18.246.191/tcp/46164/ws/p2p/16Uiu2HAmLZfGdvw4SFYEg8Bb6FS5nHBtNVx7dXspPHCUhoemfBZB"],"enrUri":"enr:-LO4QC-8Sylt6z8q0F94P-oSvUq_BrN9WcQjMVJErEmP3VK4M9hYYm53CQe-PEdyoGVdjNsZ0_VbZY9fXE_sJCOfUOkBgmlkgnY0gmlwhKwS9r-KbXVsdGlhZGRyc4wACgSsEva_BrRU3QOCcnOFAAMBAACJc2VjcDI1NmsxoQN1gARtyC-Izky9Q_QMG8yuO4aw3MlhgGbXDUyfeDZIAoN0Y3CCtFODdWRwgrRVhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46162/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.89.13/tcp/47868/p2p/16Uiu2HAm8XuuxfL8pWTtvtH7zQrDPzb4CnRYA3RB2CLVEj8uak4i"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-08-27_03-17-04__84cbaad3-d02b-4ed7-bdb0-51eebb6b9727__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.135.215
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['31142', '31143', '31144', '31145', '31146']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 31142:31142 -p 31143:31143 -p 31144:31144 -p 31145:31145 -p 31146:31146 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=31144 --rest-port=31142 --tcp-port=31143 --discv5-udp-port=31145 --rest-address=0.0.0.0 --nat=extip:172.18.135.215 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a4deee483f8e0f68e67ef3aaeb284cb5cafbf9ddada151fefe957bf3ddfcf5cb --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-LO4QJmo8JR2FvmMVftAYId6m9tlK9_Ig-fCOqjtCfNth1zjVSS1nNlHj7Hh2ts9u_oLrmJWBNQwhrlqNi-WCkoE4eQBgmlkgnY0gmlwhKwSWQ2KbXVsdGlhZGRyc4wACgSsElkNBrr93QOCcnOFAAMBAACJc2VjcDI1NmsxoQLCwSuGoGYe2PyBCOHUZ89tIQnYieO0MLFNkWmdl0qAq4N0Y3CCuvyDdWRwgrr-hXdha3UyCQ --lightpushnode=/ip4/172.18.89.13/tcp/47868/p2p/16Uiu2HAm8XuuxfL8pWTtvtH7zQrDPzb4CnRYA3RB2CLVEj8uak4i --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.135.215 waku eb5fcbd3f3cb60f542f5af9944238659acce0f61d29d039b273924dc77ac43bb
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID eb5fcbd3f3cb. Setting up logs at ./log/docker/lightpush_node1_2024-08-27_03-17-04__84cbaad3-d02b-4ed7-bdb0-51eebb6b9727__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/go-waku:latest. REST: 31142
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31142/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QMeX-6lbKwm4mFctfb1qWF0go4pLChAHRKrOqlsbhJBJOLrPAD99KGDAQxQB5pEefHULKc10iyVqXP5CwL-gFwyGAZGR1lUhgmlkgnY0gmlwhKwRAAWJc2VjcDI1NmsxoQP5Aya8qiX6afYvILRqfw7UO5FHiqfdjyMvl4quE47KToN0Y3CCeaeDdWRwgnmphXdha3UyCA","listenAddresses":["/ip4/127.0.0.1/tcp/31143/p2p/16Uiu2HAmVR2euh3DpYYRDphvdNn2Qc4NTYWGkuAnuzM1Kv1aEFqX","/ip4/127.0.0.1/tcp/31144/ws/p2p/16Uiu2HAmVR2euh3DpYYRDphvdNn2Qc4NTYWGkuAnuzM1Kv1aEFqX","/ip4/172.17.0.5/tcp/31143/p2p/16Uiu2HAmVR2euh3DpYYRDphvdNn2Qc4NTYWGkuAnuzM1Kv1aEFqX","/ip4/172.17.0.5/tcp/31144/ws/p2p/16Uiu2HAmVR2euh3DpYYRDphvdNn2Qc4NTYWGkuAnuzM1Kv1aEFqX"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31142/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.89.13/tcp/47868/p2p/16Uiu2HAm8XuuxfL8pWTtvtH7zQrDPzb4CnRYA3RB2CLVEj8uak4i", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31142/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.246.191/tcp/46163/p2p/16Uiu2HAmLZfGdvw4SFYEg8Bb6FS5nHBtNVx7dXspPHCUhoemfBZB", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/lightpush_node2_2024-08-27_03-17-04__84cbaad3-d02b-4ed7-bdb0-51eebb6b9727__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.221.58
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['64997', '64998', '64999', '65000', '65001']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 64997:64997 -p 64998:64998 -p 64999:64999 -p 65000:65000 -p 65001:65001 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=64999 --rest-port=64997 --tcp-port=64998 --discv5-udp-port=65000 --rest-address=0.0.0.0 --nat=extip:172.18.221.58 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d7d5ea42fda93aba981c5c1663c0217d8c3cef17eec96cad7bc9c7aa168f36ee --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=65001 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QJmo8JR2FvmMVftAYId6m9tlK9_Ig-fCOqjtCfNth1zjVSS1nNlHj7Hh2ts9u_oLrmJWBNQwhrlqNi-WCkoE4eQBgmlkgnY0gmlwhKwSWQ2KbXVsdGlhZGRyc4wACgSsElkNBrr93QOCcnOFAAMBAACJc2VjcDI1NmsxoQLCwSuGoGYe2PyBCOHUZ89tIQnYieO0MLFNkWmdl0qAq4N0Y3CCuvyDdWRwgrr-hXdha3UyCQ --lightpushnode=/ip4/172.18.89.13/tcp/47868/p2p/16Uiu2HAm8XuuxfL8pWTtvtH7zQrDPzb4CnRYA3RB2CLVEj8uak4i --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.221.58 waku bd1ae1f45624fa0d20ccfb5fc65b9d0f9aa29b5562ca70078e2002b5f020ff45
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID bd1ae1f45624. Setting up logs at ./log/docker/lightpush_node2_2024-08-27_03-17-04__84cbaad3-d02b-4ed7-bdb0-51eebb6b9727__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 64997
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64997/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64997/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.221.58/tcp/64998/p2p/16Uiu2HAkuvUGxTzk6YSRbUELWZKN3DUssg6djzegyT7pxh4CxyN2","/ip4/172.18.221.58/tcp/64999/ws/p2p/16Uiu2HAkuvUGxTzk6YSRbUELWZKN3DUssg6djzegyT7pxh4CxyN2"],"enrUri":"enr:-LO4QBTgnt4avGBoLwhms3HZnq30qFhTKnvlgQchpATs8BmRGghLikFC0hDUuR44-f2K1Z7T94KLttZjK4UISwucg-MBgmlkgnY0gmlwhKwS3TqKbXVsdGlhZGRyc4wACgSsEt06Bv3n3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIHYJwQNtsAvEpD7AeoKMFOzK5_88FNOBeXj3n45t7yS4N0Y3CC_eaDdWRwgv3ohXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:64997/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.89.13/tcp/47868/p2p/16Uiu2HAm8XuuxfL8pWTtvtH7zQrDPzb4CnRYA3RB2CLVEj8uak4i"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:64997/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.246.191/tcp/46163/p2p/16Uiu2HAmLZfGdvw4SFYEg8Bb6FS5nHBtNVx7dXspPHCUhoemfBZB"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/lightpush_node3_2024-08-27_03-17-04__84cbaad3-d02b-4ed7-bdb0-51eebb6b9727__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.1.213
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['14522', '14523', '14524', '14525', '14526']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 14522:14522 -p 14523:14523 -p 14524:14524 -p 14525:14525 -p 14526:14526 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=14524 --rest-port=14522 --tcp-port=14523 --discv5-udp-port=14525 --rest-address=0.0.0.0 --nat=extip:172.18.1.213 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7dd2ffbd5076bbb080106dcc86e4e500acc59d8dfcfed996aab757f200a1a8cd --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-LO4QJmo8JR2FvmMVftAYId6m9tlK9_Ig-fCOqjtCfNth1zjVSS1nNlHj7Hh2ts9u_oLrmJWBNQwhrlqNi-WCkoE4eQBgmlkgnY0gmlwhKwSWQ2KbXVsdGlhZGRyc4wACgSsElkNBrr93QOCcnOFAAMBAACJc2VjcDI1NmsxoQLCwSuGoGYe2PyBCOHUZ89tIQnYieO0MLFNkWmdl0qAq4N0Y3CCuvyDdWRwgrr-hXdha3UyCQ --lightpushnode=/ip4/172.18.89.13/tcp/47868/p2p/16Uiu2HAm8XuuxfL8pWTtvtH7zQrDPzb4CnRYA3RB2CLVEj8uak4i --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.1.213 waku 9c78130564b21cc9b20b4cd68c42fc8eade168703d96ab36b57265728eca39cb
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 9c78130564b2. Setting up logs at ./log/docker/lightpush_node3_2024-08-27_03-17-04__84cbaad3-d02b-4ed7-bdb0-51eebb6b9727__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/go-waku:latest. REST: 14522
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14522/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QHJPZ67JcAYDGi4HQ_BF9L1NABuP3FK8UcGMmAFh8u_GSg-oe73vvqZxib7sR3KAxhVBZQy1c6Sbfsf7aUIg1emGAZGR1mKKgmlkgnY0gmlwhKwRAAKJc2VjcDI1NmsxoQL4DPgP2BxzmSakPcu_HIAorFPujwARIaovqIQ4q5ImbYN0Y3CCOLuDdWRwgji9hXdha3UyCA","listenAddresses":["/ip4/127.0.0.1/tcp/14523/p2p/16Uiu2HAmC7xZNMR86gqMHRXWJYhST5MBphYEGfeddRKeiatP5kMz","/ip4/127.0.0.1/tcp/14524/ws/p2p/16Uiu2HAmC7xZNMR86gqMHRXWJYhST5MBphYEGfeddRKeiatP5kMz","/ip4/172.17.0.2/tcp/14523/p2p/16Uiu2HAmC7xZNMR86gqMHRXWJYhST5MBphYEGfeddRKeiatP5kMz","/ip4/172.17.0.2/tcp/14524/ws/p2p/16Uiu2HAmC7xZNMR86gqMHRXWJYhST5MBphYEGfeddRKeiatP5kMz"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14522/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.89.13/tcp/47868/p2p/16Uiu2HAm8XuuxfL8pWTtvtH7zQrDPzb4CnRYA3RB2CLVEj8uak4i", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14522/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.246.191/tcp/46163/p2p/16Uiu2HAmLZfGdvw4SFYEg8Bb6FS5nHBtNVx7dXspPHCUhoemfBZB", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/lightpush_node4_2024-08-27_03-17-04__84cbaad3-d02b-4ed7-bdb0-51eebb6b9727__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.121.126
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['32345', '32346', '32347', '32348', '32349']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 32345:32345 -p 32346:32346 -p 32347:32347 -p 32348:32348 -p 32349:32349 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=32347 --rest-port=32345 --tcp-port=32346 --discv5-udp-port=32348 --rest-address=0.0.0.0 --nat=extip:172.18.121.126 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3af52414c4b48a17d5f79bedbdaa4fc18d753a86f3ff6beb30e4319fbf0c362b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=32349 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QJmo8JR2FvmMVftAYId6m9tlK9_Ig-fCOqjtCfNth1zjVSS1nNlHj7Hh2ts9u_oLrmJWBNQwhrlqNi-WCkoE4eQBgmlkgnY0gmlwhKwSWQ2KbXVsdGlhZGRyc4wACgSsElkNBrr93QOCcnOFAAMBAACJc2VjcDI1NmsxoQLCwSuGoGYe2PyBCOHUZ89tIQnYieO0MLFNkWmdl0qAq4N0Y3CCuvyDdWRwgrr-hXdha3UyCQ --lightpushnode=/ip4/172.18.89.13/tcp/47868/p2p/16Uiu2HAm8XuuxfL8pWTtvtH7zQrDPzb4CnRYA3RB2CLVEj8uak4i --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.121.126 waku e9de57a87f3ebc6fca9d70036f8c3d0318352beb8eb16b014044f106c271f707
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID e9de57a87f3e. Setting up logs at ./log/docker/lightpush_node4_2024-08-27_03-17-04__84cbaad3-d02b-4ed7-bdb0-51eebb6b9727__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 32345
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32345/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32345/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.121.126/tcp/32346/p2p/16Uiu2HAmCjL5RJysQHLwhKQi2jwLNiRyx5AGYuoYoR6ZZ8KwG5sh","/ip4/172.18.121.126/tcp/32347/ws/p2p/16Uiu2HAmCjL5RJysQHLwhKQi2jwLNiRyx5AGYuoYoR6ZZ8KwG5sh"],"enrUri":"enr:-LO4QNNG20fWBPn5J-AfT-1HcfNsfvU6ZUyeHAZWt3Zv72iVPNRlI5Jm_dP8lwJZro7LZgZbgnLSJp4kbNvy-gnRs9UBgmlkgnY0gmlwhKwSeX6KbXVsdGlhZGRyc4wACgSsEnl-Bn5b3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMBHKC_wol9Tx37ZJXVK5kbinmmWTIodQZn3SggcA_MxIN0Y3CCflqDdWRwgn5chXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32345/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.89.13/tcp/47868/p2p/16Uiu2HAm8XuuxfL8pWTtvtH7zQrDPzb4CnRYA3RB2CLVEj8uak4i"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32345/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.246.191/tcp/46163/p2p/16Uiu2HAmLZfGdvw4SFYEg8Bb6FS5nHBtNVx7dXspPHCUhoemfBZB"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47867/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46162/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31142/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1724728634601433344}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47867/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724728634601433344,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46162/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724728634601433344,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:64997/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1724728634721225216}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47867/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724728634721225216,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46162/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724728634721225216,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14522/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1724728634836169984}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47867/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724728634836169984,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46162/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724728634836169984,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32345/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1724728634952829184}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47867/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724728634952829184,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46162/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724728634952829184,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id a7e83873a894
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 1fcf9bc464fb
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id eb5fcbd3f3cb
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id bd1ae1f45624
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 9c78130564b2
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id e9de57a87f3e
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.