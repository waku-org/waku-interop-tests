[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_multiple_lightpush_nodes with id: 2024-09-26_03-21-44__ac031636-8d0d-452a-8cf3-b3f86a9b1bda
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-09-26_03-21-44__ac031636-8d0d-452a-8cf3-b3f86a9b1bda__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.189.88
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['24796', '24797', '24798', '24799', '24800']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 24796:24796 -p 24797:24797 -p 24798:24798 -p 24799:24799 -p 24800:24800 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=24798 --rest-port=24796 --tcp-port=24797 --discv5-udp-port=24799 --rest-address=0.0.0.0 --nat=extip:172.18.189.88 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8f9d0419b8ed6a77c5cbcce7a14bd5a8b8902fca2caa0d4c50ade6e249e2a4fe --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=24800 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.189.88 waku 2b11bed0e9ff41e9e821554793a41dc9d4dbae40a08472a9e663fbd5a8a51d7a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 2b11bed0e9ff. Setting up logs at ./log/docker/receiving_node1_2024-09-26_03-21-44__ac031636-8d0d-452a-8cf3-b3f86a9b1bda__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 24796
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24796/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24796/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.189.88/tcp/24797/p2p/16Uiu2HAmB7fsbvG2z5B1QqPwgqA14AKPxrHBdgHko4Q5CPFCSDAn","/ip4/172.18.189.88/tcp/24798/ws/p2p/16Uiu2HAmB7fsbvG2z5B1QqPwgqA14AKPxrHBdgHko4Q5CPFCSDAn"],"enrUri":"enr:-LO4QHWRz_7pY5bT1mOkRHme-_Hnzgqt6aIcXAhFALv4uz75TlPKL6ekNB_HZtd94FDT4JsgyNuh1dSu3NJ2c4GVy5IBgmlkgnY0gmlwhKwSvViKbXVsdGlhZGRyc4wACgSsEr1YBmDe3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLpHmpi7ZGb5LN6hUwB_-621fhiGv4krNbDDhP1p9UPP4N0Y3CCYN2DdWRwgmDfhXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-09-26_03-21-44__ac031636-8d0d-452a-8cf3-b3f86a9b1bda__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.209.102
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['9298', '9299', '9300', '9301', '9302']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 9298:9298 -p 9299:9299 -p 9300:9300 -p 9301:9301 -p 9302:9302 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=9300 --rest-port=9298 --tcp-port=9299 --discv5-udp-port=9301 --rest-address=0.0.0.0 --nat=extip:172.18.209.102 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=edf3cbf28d6227b6a027ecebd4bc8dcdeb373d8fba7ea15efb21e3a1daf356af --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=9302 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.209.102 waku 78b57d1c035036e1281b93a759b36fb46b10f599efa6bf2658f3eb89f4f4656f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 78b57d1c0350. Setting up logs at ./log/docker/receiving_node2_2024-09-26_03-21-44__ac031636-8d0d-452a-8cf3-b3f86a9b1bda__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 9298
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9298/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9298/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.209.102/tcp/9299/p2p/16Uiu2HAkxeLTeQWEf4QB7LManjbS9GPy69G2Ep2vNnEiVKkNoqP9","/ip4/172.18.209.102/tcp/9300/ws/p2p/16Uiu2HAkxeLTeQWEf4QB7LManjbS9GPy69G2Ep2vNnEiVKkNoqP9"],"enrUri":"enr:-LO4QGufU9BB07OgRLjio3IPb0lCOldwMnucuXb9nBIjV6ose35GtD3BGETDW16RdylbmjNXv74rX6W96dMVvReFcekBgmlkgnY0gmlwhKwS0WaKbXVsdGlhZGRyc4wACgSsEtFmBiRU3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIv0YpKmj3CD2iaN4woRKk5TAY-_KZ38dXzhfnuZJ5ApIN0Y3CCJFODdWRwgiRVhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9298/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.189.88/tcp/24797/p2p/16Uiu2HAmB7fsbvG2z5B1QqPwgqA14AKPxrHBdgHko4Q5CPFCSDAn"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-09-26_03-21-44__ac031636-8d0d-452a-8cf3-b3f86a9b1bda__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.14.34
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['45043', '45044', '45045', '45046', '45047']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 45043:45043 -p 45044:45044 -p 45045:45045 -p 45046:45046 -p 45047:45047 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=45045 --rest-port=45043 --tcp-port=45044 --discv5-udp-port=45046 --rest-address=0.0.0.0 --nat=extip:172.18.14.34 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e3ffaad77794b2ce1cd52c7fc33bcc03af1f21eaae6adc4eeedfd7bafbaaedcd --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-LO4QHWRz_7pY5bT1mOkRHme-_Hnzgqt6aIcXAhFALv4uz75TlPKL6ekNB_HZtd94FDT4JsgyNuh1dSu3NJ2c4GVy5IBgmlkgnY0gmlwhKwSvViKbXVsdGlhZGRyc4wACgSsEr1YBmDe3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLpHmpi7ZGb5LN6hUwB_-621fhiGv4krNbDDhP1p9UPP4N0Y3CCYN2DdWRwgmDfhXdha3UyCQ --lightpushnode=/ip4/172.18.189.88/tcp/24797/p2p/16Uiu2HAmB7fsbvG2z5B1QqPwgqA14AKPxrHBdgHko4Q5CPFCSDAn --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.14.34 waku e7b5cde88b95b896653951e50a3c21abf55aed695bde69658e24a5a947df2fa2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID e7b5cde88b95. Setting up logs at ./log/docker/lightpush_node1_2024-09-26_03-21-44__ac031636-8d0d-452a-8cf3-b3f86a9b1bda__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 45043
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45043/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QFfC3Wj21ri-V_A6GbtDRoNwWj5lrN3ydkzSeT7isow6Gwe6bcnzB6wft3br9gATY3kzi_JCf9RsU8mcPt2Xd0-GAZIsWWOlgmlkgnY0gmlwhKwRAAOJc2VjcDI1NmsxoQLkQTxkRBKhDiE-xELbowLD98MeTT7qQeh6Bw9g5tltmoN0Y3CCr_SDdWRwgq_2hXdha3UyCA","listenAddresses":["/ip4/127.0.0.1/tcp/45044/p2p/16Uiu2HAmAngdVm6e51D52fD9e5Bamqp5YaEyLxT5f44zATRaMwDT","/ip4/127.0.0.1/tcp/45045/ws/p2p/16Uiu2HAmAngdVm6e51D52fD9e5Bamqp5YaEyLxT5f44zATRaMwDT","/ip4/172.17.0.3/tcp/45044/p2p/16Uiu2HAmAngdVm6e51D52fD9e5Bamqp5YaEyLxT5f44zATRaMwDT","/ip4/172.17.0.3/tcp/45045/ws/p2p/16Uiu2HAmAngdVm6e51D52fD9e5Bamqp5YaEyLxT5f44zATRaMwDT"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45043/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.189.88/tcp/24797/p2p/16Uiu2HAmB7fsbvG2z5B1QqPwgqA14AKPxrHBdgHko4Q5CPFCSDAn", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45043/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.209.102/tcp/9299/p2p/16Uiu2HAkxeLTeQWEf4QB7LManjbS9GPy69G2Ep2vNnEiVKkNoqP9", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node2_2024-09-26_03-21-44__ac031636-8d0d-452a-8cf3-b3f86a9b1bda__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.60.90
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['41074', '41075', '41076', '41077', '41078']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 41074:41074 -p 41075:41075 -p 41076:41076 -p 41077:41077 -p 41078:41078 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=41076 --rest-port=41074 --tcp-port=41075 --discv5-udp-port=41077 --rest-address=0.0.0.0 --nat=extip:172.18.60.90 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f6c2cb4b7c01e47cecc7cc1bafb7f7655fde299e5d7f42cf79f5ee6cb10fbd4d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=41078 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QHWRz_7pY5bT1mOkRHme-_Hnzgqt6aIcXAhFALv4uz75TlPKL6ekNB_HZtd94FDT4JsgyNuh1dSu3NJ2c4GVy5IBgmlkgnY0gmlwhKwSvViKbXVsdGlhZGRyc4wACgSsEr1YBmDe3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLpHmpi7ZGb5LN6hUwB_-621fhiGv4krNbDDhP1p9UPP4N0Y3CCYN2DdWRwgmDfhXdha3UyCQ --lightpushnode=/ip4/172.18.189.88/tcp/24797/p2p/16Uiu2HAmB7fsbvG2z5B1QqPwgqA14AKPxrHBdgHko4Q5CPFCSDAn --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.60.90 waku 1003042c7adf51386ba42bfb9ad49652da4c9605ae04522a41e68629471ac6fb
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 1003042c7adf. Setting up logs at ./log/docker/lightpush_node2_2024-09-26_03-21-44__ac031636-8d0d-452a-8cf3-b3f86a9b1bda__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 41074
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41074/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41074/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.60.90/tcp/41075/p2p/16Uiu2HAm54hWCmtizFn6xbAEnfKxwjCPyTazmz3RPZw5vFAnwa5u","/ip4/172.18.60.90/tcp/41076/ws/p2p/16Uiu2HAm54hWCmtizFn6xbAEnfKxwjCPyTazmz3RPZw5vFAnwa5u"],"enrUri":"enr:-LO4QMswkZ1mu3U1-dh7NR-NtoCpBQF29fnj6NVUnm-7uJFRCYSdNzcYqza8CFm0T9BZdERF3O8t4EPuepAEH65fQSIBgmlkgnY0gmlwhKwSPFqKbXVsdGlhZGRyc4wACgSsEjxaBqB03QOCcnOFAAMBAACJc2VjcDI1NmsxoQKPNWVUlu693N7af-bRgNzUDxedDYMY-JoZSjKnc2NZoIN0Y3CCoHODdWRwgqB1hXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41074/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.189.88/tcp/24797/p2p/16Uiu2HAmB7fsbvG2z5B1QqPwgqA14AKPxrHBdgHko4Q5CPFCSDAn"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41074/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.209.102/tcp/9299/p2p/16Uiu2HAkxeLTeQWEf4QB7LManjbS9GPy69G2Ep2vNnEiVKkNoqP9"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node3_2024-09-26_03-21-44__ac031636-8d0d-452a-8cf3-b3f86a9b1bda__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.48.34
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['4674', '4675', '4676', '4677', '4678']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 4674:4674 -p 4675:4675 -p 4676:4676 -p 4677:4677 -p 4678:4678 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=4676 --rest-port=4674 --tcp-port=4675 --discv5-udp-port=4677 --rest-address=0.0.0.0 --nat=extip:172.18.48.34 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=88acafab95be7aaf706a6fef5ebfaee4fadfc58ffef961528d2e33e2f301a2ce --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-LO4QHWRz_7pY5bT1mOkRHme-_Hnzgqt6aIcXAhFALv4uz75TlPKL6ekNB_HZtd94FDT4JsgyNuh1dSu3NJ2c4GVy5IBgmlkgnY0gmlwhKwSvViKbXVsdGlhZGRyc4wACgSsEr1YBmDe3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLpHmpi7ZGb5LN6hUwB_-621fhiGv4krNbDDhP1p9UPP4N0Y3CCYN2DdWRwgmDfhXdha3UyCQ --lightpushnode=/ip4/172.18.189.88/tcp/24797/p2p/16Uiu2HAmB7fsbvG2z5B1QqPwgqA14AKPxrHBdgHko4Q5CPFCSDAn --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.48.34 waku 4dc28328603089212daa5c7f445aa2053a14e97440c4859d3f7693b2d7f7d2f1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 4dc283286030. Setting up logs at ./log/docker/lightpush_node3_2024-09-26_03-21-44__ac031636-8d0d-452a-8cf3-b3f86a9b1bda__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 4674
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4674/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QNS-YtmJ-cWmwm9Ze9IeucxX2L6J7Y8ow-kBOMBnJKuCF92PF1e0nizueHIdZbFoZyIspuHud8iPfgkl_n7oFfGGAZIsWXHjgmlkgnY0gmlwhKwRAA6Jc2VjcDI1NmsxoQNe8hWkPomxo47b_KXIn_3OKq_xth6FgbuaHmsXlorehoN0Y3CCEkODdWRwghJFhXdha3UyCA","listenAddresses":["/ip4/127.0.0.1/tcp/4675/p2p/16Uiu2HAmK3cmuPMU2n1K4q4g13yNWk3ggUm1eGc2fkJH19zWFCwX","/ip4/127.0.0.1/tcp/4676/ws/p2p/16Uiu2HAmK3cmuPMU2n1K4q4g13yNWk3ggUm1eGc2fkJH19zWFCwX","/ip4/172.17.0.14/tcp/4675/p2p/16Uiu2HAmK3cmuPMU2n1K4q4g13yNWk3ggUm1eGc2fkJH19zWFCwX","/ip4/172.17.0.14/tcp/4676/ws/p2p/16Uiu2HAmK3cmuPMU2n1K4q4g13yNWk3ggUm1eGc2fkJH19zWFCwX"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4674/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.189.88/tcp/24797/p2p/16Uiu2HAmB7fsbvG2z5B1QqPwgqA14AKPxrHBdgHko4Q5CPFCSDAn", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4674/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.209.102/tcp/9299/p2p/16Uiu2HAkxeLTeQWEf4QB7LManjbS9GPy69G2Ep2vNnEiVKkNoqP9", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node4_2024-09-26_03-21-44__ac031636-8d0d-452a-8cf3-b3f86a9b1bda__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.4.67
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['3242', '3243', '3244', '3245', '3246']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 3242:3242 -p 3243:3243 -p 3244:3244 -p 3245:3245 -p 3246:3246 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=3244 --rest-port=3242 --tcp-port=3243 --discv5-udp-port=3245 --rest-address=0.0.0.0 --nat=extip:172.18.4.67 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a2f5c1562fd56bdbe2cbf9b9784280e1cc0a3ecf2c02fa319e2efafe97bb9b2e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=3246 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QHWRz_7pY5bT1mOkRHme-_Hnzgqt6aIcXAhFALv4uz75TlPKL6ekNB_HZtd94FDT4JsgyNuh1dSu3NJ2c4GVy5IBgmlkgnY0gmlwhKwSvViKbXVsdGlhZGRyc4wACgSsEr1YBmDe3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLpHmpi7ZGb5LN6hUwB_-621fhiGv4krNbDDhP1p9UPP4N0Y3CCYN2DdWRwgmDfhXdha3UyCQ --lightpushnode=/ip4/172.18.189.88/tcp/24797/p2p/16Uiu2HAmB7fsbvG2z5B1QqPwgqA14AKPxrHBdgHko4Q5CPFCSDAn --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.4.67 waku 7dab137411c59d163eee59226c5677650bb095f5a2b130b6ea5695191ba85950
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 7dab137411c5. Setting up logs at ./log/docker/lightpush_node4_2024-09-26_03-21-44__ac031636-8d0d-452a-8cf3-b3f86a9b1bda__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 3242
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3242/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3242/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.4.67/tcp/3243/p2p/16Uiu2HAmEH9UtBjSuXVpHrzH6Kch1D85RP7BeXiwhg6PS5Uf47LK","/ip4/172.18.4.67/tcp/3244/ws/p2p/16Uiu2HAmEH9UtBjSuXVpHrzH6Kch1D85RP7BeXiwhg6PS5Uf47LK"],"enrUri":"enr:-LO4QBRio38QSSPeh22z879y2LshJ69mm9ZDr6ihDwYkbW6fepcTbFo2a-mbKSGgvFL9Tsm_bnZ7401Mp8uqZwPuIakBgmlkgnY0gmlwhKwSBEOKbXVsdGlhZGRyc4wACgSsEgRDBgys3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMYHuugkNhh0rV0IOKAuP-eGi9zbzApUDNvQTRAHclNcIN0Y3CCDKuDdWRwggythXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3242/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.189.88/tcp/24797/p2p/16Uiu2HAmB7fsbvG2z5B1QqPwgqA14AKPxrHBdgHko4Q5CPFCSDAn"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3242/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.209.102/tcp/9299/p2p/16Uiu2HAkxeLTeQWEf4QB7LManjbS9GPy69G2Ep2vNnEiVKkNoqP9"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24796/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9298/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45043/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1727320915049608192}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24796/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1727320915049608192,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9298/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1727320915049608192,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41074/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1727320915164376832}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24796/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1727320915164376832,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9298/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1727320915164376832,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4674/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1727320915279800064}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24796/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1727320915279800064,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9298/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1727320915279800064,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3242/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1727320915393044736}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24796/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1727320915393044736,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9298/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1727320915393044736,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 2b11bed0e9ff
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 78b57d1c0350
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id e7b5cde88b95
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 1003042c7adf
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 4dc283286030
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 7dab137411c5
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.