[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_light_push_with_missing_pubsub_topics with id: 2024-09-26_03-22-16__74c25a7a-214d-405d-a705-69e2aa3bf972
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-09-26_03-22-16__74c25a7a-214d-405d-a705-69e2aa3bf972__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.128.186
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['15659', '15660', '15661', '15662', '15663']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 15659:15659 -p 15660:15660 -p 15661:15661 -p 15662:15662 -p 15663:15663 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=15661 --rest-port=15659 --tcp-port=15660 --discv5-udp-port=15662 --rest-address=0.0.0.0 --nat=extip:172.18.128.186 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=43fba44bcec143fd4d429cec9badcbbb1afca04dbff9bb5e7cf9425b5c8d8bb2 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=15663 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.128.186 waku 6aa95fe8b35520ea111a485ad3814a1d2fbd378df1964bf0935c1ffda45406b8
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 6aa95fe8b355. Setting up logs at ./log/docker/receiving_node1_2024-09-26_03-22-16__74c25a7a-214d-405d-a705-69e2aa3bf972__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 15659
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15659/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15659/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.128.186/tcp/15660/p2p/16Uiu2HAm1bhRKndJTvPqJEF3otmNUx8Qs47h9YMyPEDoF4bvB47t","/ip4/172.18.128.186/tcp/15661/ws/p2p/16Uiu2HAm1bhRKndJTvPqJEF3otmNUx8Qs47h9YMyPEDoF4bvB47t"],"enrUri":"enr:-LO4QFBsgeyniKaK7yH4AStbnQjB3yV_wxmvedzdJczmxFaPZrxPK0IddbvkzCkfwmqCHLj5-HyCdY0bX7vHrg1TEPEBgmlkgnY0gmlwhKwSgLqKbXVsdGlhZGRyc4wACgSsEoC6Bj0t3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJbt47eXbykbj0YrqLTUDF5Fpr51rrghwStNJUfpEfR24N0Y3CCPSyDdWRwgj0uhXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-09-26_03-22-16__74c25a7a-214d-405d-a705-69e2aa3bf972__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.61.251
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['50519', '50520', '50521', '50522', '50523']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 50519:50519 -p 50520:50520 -p 50521:50521 -p 50522:50522 -p 50523:50523 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=50521 --rest-port=50519 --tcp-port=50520 --discv5-udp-port=50522 --rest-address=0.0.0.0 --nat=extip:172.18.61.251 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0a14cb2bcddaaab05bdffb3a39e6db6de91ac2f5af2b5c8c0bec2fcdc40fbe37 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=50523 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.61.251 waku 12461d566b3daaa5c2af674c33076b63d6c37909595d6e53aa5248086efe88a2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 12461d566b3d. Setting up logs at ./log/docker/receiving_node2_2024-09-26_03-22-16__74c25a7a-214d-405d-a705-69e2aa3bf972__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 50519
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50519/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50519/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.61.251/tcp/50520/p2p/16Uiu2HAmQJn69L2KArKUzrVRbBs9cRqF6egz6rTZ6MKQfAkzSpbu","/ip4/172.18.61.251/tcp/50521/ws/p2p/16Uiu2HAmQJn69L2KArKUzrVRbBs9cRqF6egz6rTZ6MKQfAkzSpbu"],"enrUri":"enr:-LO4QC0L3xJSK1902yt6_q6-RJMfgv7TZWbHh7zt4lcCa5eeW0UuD12tuseRaHFOul8ZC-YXZZtKL9NmvdoTjGryR3UBgmlkgnY0gmlwhKwSPfuKbXVsdGlhZGRyc4wACgSsEj37BsVZ3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOtHsNjLkZOoGEjdcHs7qip47PGkPsW75Gq1ZxH9im0HIN0Y3CCxViDdWRwgsVahXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50519/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.128.186/tcp/15660/p2p/16Uiu2HAm1bhRKndJTvPqJEF3otmNUx8Qs47h9YMyPEDoF4bvB47t"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-09-26_03-22-16__74c25a7a-214d-405d-a705-69e2aa3bf972__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.196.20
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['48356', '48357', '48358', '48359', '48360']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 48356:48356 -p 48357:48357 -p 48358:48358 -p 48359:48359 -p 48360:48360 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=48358 --rest-port=48356 --tcp-port=48357 --discv5-udp-port=48359 --rest-address=0.0.0.0 --nat=extip:172.18.196.20 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5d8bcfe2fda5d8d6aaef3b698666d51faed1da2f4617f350aca2257852ebcb57 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-LO4QFBsgeyniKaK7yH4AStbnQjB3yV_wxmvedzdJczmxFaPZrxPK0IddbvkzCkfwmqCHLj5-HyCdY0bX7vHrg1TEPEBgmlkgnY0gmlwhKwSgLqKbXVsdGlhZGRyc4wACgSsEoC6Bj0t3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJbt47eXbykbj0YrqLTUDF5Fpr51rrghwStNJUfpEfR24N0Y3CCPSyDdWRwgj0uhXdha3UyCQ --lightpushnode=/ip4/172.18.128.186/tcp/15660/p2p/16Uiu2HAm1bhRKndJTvPqJEF3otmNUx8Qs47h9YMyPEDoF4bvB47t --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.196.20 waku d5390590f8f19e1131df6927b7789e88aa34a829ce1cd62d490eb71e819ac1a4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID d5390590f8f1. Setting up logs at ./log/docker/lightpush_node1_2024-09-26_03-22-16__74c25a7a-214d-405d-a705-69e2aa3bf972__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 48356
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48356/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QMqYRG3D2eqzrQPQhRskurQP0L0_aQSgWlz_pAINxRCrVS82vIoeVZ6KhUmsfHA2hCrNfaclUe_uSBaV54qoKi2GAZIsWd-2gmlkgnY0gmlwhKwRAAOJc2VjcDI1NmsxoQLREs2H7u3Rhz3iTLxJNPZq-EmY9LvGmGhOuBRUJwgu2YN0Y3CCvOWDdWRwgrznhXdha3UyCA","listenAddresses":["/ip4/127.0.0.1/tcp/48357/p2p/16Uiu2HAm9VopQbD6HrqQQrkANtyzRZEEYXjkW9FbuDoqXFPjTUPa","/ip4/127.0.0.1/tcp/48358/ws/p2p/16Uiu2HAm9VopQbD6HrqQQrkANtyzRZEEYXjkW9FbuDoqXFPjTUPa","/ip4/172.17.0.3/tcp/48357/p2p/16Uiu2HAm9VopQbD6HrqQQrkANtyzRZEEYXjkW9FbuDoqXFPjTUPa","/ip4/172.17.0.3/tcp/48358/ws/p2p/16Uiu2HAm9VopQbD6HrqQQrkANtyzRZEEYXjkW9FbuDoqXFPjTUPa"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48356/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.128.186/tcp/15660/p2p/16Uiu2HAm1bhRKndJTvPqJEF3otmNUx8Qs47h9YMyPEDoF4bvB47t", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48356/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.61.251/tcp/50520/p2p/16Uiu2HAmQJn69L2KArKUzrVRbBs9cRqF6egz6rTZ6MKQfAkzSpbu", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15659/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50519/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48356/lightpush/v1/message" -H "Content-Type: application/json" -d '{"message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1727320941566217728}}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 6aa95fe8b355
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 12461d566b3d
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id d5390590f8f1
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:114 Found matches for keyword 'unhandled': ['Error: unhandled exception: Asynchronous task [relayConnectivityLoop() at peer_manager.nim:950] finished with an exception "MetricsError"!']
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:114 Found matches for keyword 'stacktrace': ['FAT 2024-09-26 03:22:41.622+00:00 Shutting down after receiving SIGSEGV      topics="wakunode main" tid=1 file=wakunode2.nim:124 stacktrace="/app/vendor/nim-chronicles/chronicles.nim(170) _ZN9wakunode213handleSigsegvE5int32\\n"', '/app/vendor/nimbus-build-system/vendor/Nim/lib/system/excpt.nim(526) _ZN6system15writeStackTraceE', '/app/vendor/nimbus-build-system/vendor/Nim/lib/system/excpt.nim(330) _ZN6system18rawWriteStackTraceE3varI6stringE', '/app/vendor/nimbus-build-system/vendor/Nim/lib/system/stacktraces.nim(59) _ZN11stacktraces30auxWriteStackTraceWithOverrideE3varI6stringE', '/app/vendor/nimbus-build-system/vendor/Nim/lib/system/excpt.nim(345) _ZN6system18rawWriteStackTraceE3varI3seqIN6system15StackTraceEntryEEE', '/app/vendor/nimbus-build-system/vendor/Nim/lib/system/stacktraces.nim(62) _ZN11stacktraces30auxWriteStackTraceWithOverrideE3varI3seqIN6system15StackTraceEntryEEE', '/app/vendor/nimbus-build-system/vendor/Nim/lib/system/excpt.nim(345) _ZN6system18rawWriteStackTraceE3varI3seqIN6system15StackTraceEntryEEE', '/app/vendor/nimbus-build-system/vendor/Nim/lib/system/stacktraces.nim(62) _ZN11stacktraces30auxWriteStackTraceWithOverrideE3varI3seqIN6system15StackTraceEntryEEE', '/app/vendor/nimbus-build-system/vendor/Nim/lib/system/stacktraces.nim(62) _ZN11stacktraces30auxWriteStackTraceWithOverrideE3varI3seqIN6system15StackTraceEntryEEE', '/app/vendor/nimbus-build-system/vendor/Nim/lib/system/stacktraces.nim(62) _ZN11stacktraces30auxWriteStackTraceWithOverrideE3varI3seqIN6system15StackTraceEntryEEE', '/app/vendor/nimbus-build-system/vendor/Nim/lib/system/stacktraces.nim(62) _ZN11stacktraces30auxWriteStackTraceWithOverrideE3varI3seqIN6system15StackTraceEntryEEE', '/app/vendor/nimbus-build-system/vendor/Nim/lib/system/stacktraces.nim(62) _ZN11stacktraces30auxWriteStackTraceWithOverrideE3varI3seqIN6system15StackTraceEntryEEE']
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:114 Found matches for keyword 'SIGSEGV': ['FAT 2024-09-26 03:22:41.622+00:00 Shutting down after receiving SIGSEGV      topics="wakunode main" tid=1 file=wakunode2.nim:124 stacktrace="/app/vendor/nim-chronicles/chronicles.nim(170) _ZN9wakunode213handleSigsegvE5int32\\n"', '/app/apps/wakunode2/wakunode2.nim(127) _ZN9wakunode213handleSigsegvE5int32', 'Stack trace: /app/apps/wakunode2/wakunode2.nim(129) _ZN9wakunode213handleSigsegvE5int32', '/app/apps/wakunode2/wakunode2.nim(129) _ZN9wakunode213handleSigsegvE5int32', '/app/apps/wakunode2/wakunode2.nim(129) _ZN9wakunode213handleSigsegvE5int32', '/app/apps/wakunode2/wakunode2.nim(129) _ZN9wakunode213handleSigsegvE5int32']