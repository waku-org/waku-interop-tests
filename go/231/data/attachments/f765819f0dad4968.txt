[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_get_peers_for_blank_node with id: 2024-08-05_12-12-27__a8ac4b7f-58c7-44b3-8d7e-0ecbe6f28e3d
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:29 Running fixture setup: relay_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:81 WakuNode instance initialized with log path ./log/docker/node1_2024-08-05_12-12-27__a8ac4b7f-58c7-44b3-8d7e-0ecbe6f28e3d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.77.72
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['38168', '38169', '38170', '38171', '38172']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:428 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:157 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:159 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 38168:38168 -p 38169:38169 -p 38170:38170 -p 38171:38171 -p 38172:38172 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=38170 --rest-port=38168 --tcp-port=38169 --discv5-udp-port=38171 --rest-address=0.0.0.0 --nat=extip:172.18.77.72 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=38172 --metrics-logging=true --relay=true --nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68 --relay-peer-exchange=true
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.39.50
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['31583', '31584', '31585', '31586', '31587']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:428 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:157 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:159 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 31583:31583 -p 31584:31584 -p 31585:31585 -p 31586:31586 -p 31587:31587 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=31585 --rest-port=31583 --tcp-port=31584 --discv5-udp-port=31586 --rest-address=0.0.0.0 --nat=extip:172.18.39.50 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=31587 --metrics-logging=true --relay=true --nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68 --relay-peer-exchange=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.39.50 waku c1a34f67ee5cf311a53a2b1a1ab841f69b2553f3cfd3a360054424fa05d92e9c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID c1a34f67ee5c. Setting up logs at ./log/docker/node1_2024-08-05_12-12-27__a8ac4b7f-58c7-44b3-8d7e-0ecbe6f28e3d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Started container from image wakuorg/nwaku:latest. REST: 31583
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31583/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:274 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31583/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.39.50/tcp/31584/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","/ip4/172.18.39.50/tcp/31585/ws/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"],"enrUri":"enr:-LO4QCcqm2Pw4nnLHIYjNoWO1B2L_A3nJpcdsbEicTx4ATx8IpUoUS4BANBsgJwBR3UmeQhaR6jW14J7PoeR9deADesBgmlkgnY0gmlwhKwSJzKKbXVsdGlhZGRyc4wACgSsEicyBnth3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCe2CDdWRwgntihXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:81 WakuNode instance initialized with log path ./log/docker/node2_2024-08-05_12-12-27__a8ac4b7f-58c7-44b3-8d7e-0ecbe6f28e3d__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.242.28
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['50171', '50172', '50173', '50174', '50175']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:428 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:157 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:159 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 50171:50171 -p 50172:50172 -p 50173:50173 -p 50174:50174 -p 50175:50175 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=50173 --rest-port=50171 --tcp-port=50172 --discv5-udp-port=50174 --rest-address=0.0.0.0 --nat=extip:172.18.242.28 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-LO4QCcqm2Pw4nnLHIYjNoWO1B2L_A3nJpcdsbEicTx4ATx8IpUoUS4BANBsgJwBR3UmeQhaR6jW14J7PoeR9deADesBgmlkgnY0gmlwhKwSJzKKbXVsdGlhZGRyc4wACgSsEicyBnth3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCe2CDdWRwgntihXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.242.28 waku 61369110d0a58e1b619e0c362dcbe04ee4f4f500d042bb1d1c2c8db3b4329d79
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 61369110d0a5. Setting up logs at ./log/docker/node2_2024-08-05_12-12-27__a8ac4b7f-58c7-44b3-8d7e-0ecbe6f28e3d__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Started container from image wakuorg/go-waku:latest. REST: 50171
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50171/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QFX23uUm3aVrgDVsDLacFQC4YhQcH-JnebUlLraXj7WUZYlPgZFHWg9blgQrjPk4QZpgFRRzCXznwjNnQYTNRqOGAZEidI2zgmlkgnY0gmlwhKwRAAKJc2VjcDI1NmsxoQM6zQoNTHbcb3ZmfKU1DP8yW-inEHcnq6SvkoHZ0sTwPIN0Y3CCw_yDdWRwgsP-hXdha3UyAQ","listenAddresses":["/ip4/127.0.0.1/tcp/50172/p2p/16Uiu2HAmGcXLNjdnNVKBodZZCX9opmDBh96dRysYKnz3hsip1kAP","/ip4/127.0.0.1/tcp/50173/ws/p2p/16Uiu2HAmGcXLNjdnNVKBodZZCX9opmDBh96dRysYKnz3hsip1kAP","/ip4/172.17.0.2/tcp/50172/p2p/16Uiu2HAmGcXLNjdnNVKBodZZCX9opmDBh96dRysYKnz3hsip1kAP","/ip4/172.17.0.2/tcp/50173/ws/p2p/16Uiu2HAmGcXLNjdnNVKBodZZCX9opmDBh96dRysYKnz3hsip1kAP"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50171/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.39.50/tcp/31584/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31583/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9", "/waku/2/rs/3/25", "/waku/2/rs/3/1000"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50171/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9", "/waku/2/rs/3/25", "/waku/2/rs/3/1000"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31583/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"multiaddr":"/ip4/172.17.0.2/tcp/50172/p2p/16Uiu2HAmGcXLNjdnNVKBodZZCX9opmDBh96dRysYKnz3hsip1kAP","protocols":[{"protocol":"/vac/waku/relay/2.0.0","connected":true},{"protocol":"/vac/waku/peer-exchange/2.0.0-alpha1","connected":true}],"origin":"UnknownOrigin"}]'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:81 WakuNode instance initialized with log path ./log/docker/node3_2024-08-05_12-12-27__a8ac4b7f-58c7-44b3-8d7e-0ecbe6f28e3d__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.223.165
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['46768', '46769', '46770', '46771', '46772']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:428 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:157 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:159 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 46768:46768 -p 46769:46769 -p 46770:46770 -p 46771:46771 -p 46772:46772 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=46770 --rest-port=46768 --tcp-port=46769 --discv5-udp-port=46771 --rest-address=0.0.0.0 --nat=extip:172.18.223.165 --peer-exchange=true --discv5-discovery=false --cluster-id=3 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --peer-exchange-node=/ip4/172.17.0.2/tcp/50172/p2p/16Uiu2HAmGcXLNjdnNVKBodZZCX9opmDBh96dRysYKnz3hsip1kAP
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.223.165 waku badb962b2aaa391083426ee22175f38ea4c032befc09dc205f41a4c6a74595d9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID badb962b2aaa. Setting up logs at ./log/docker/node3_2024-08-05_12-12-27__a8ac4b7f-58c7-44b3-8d7e-0ecbe6f28e3d__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Started container from image wakuorg/go-waku:latest. REST: 46768
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46768/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-JG4QCQ-yD6UdM9WTxAwxNk5K4qMJieeuMAhzUgGsg9zC-pbdkR9MVCM_iVMupy269skKyt3PD_DEvnvI060qVbIBUaGAZEidJfbgmlkgnY0gmlwhKwRAA2Jc2VjcDI1NmsxoQNNNnSdfUY-Muga9zNrwyWzuYEyKYB8-z_jOE_r_KgZ34N0Y3CCtrGFd2FrdTKA","listenAddresses":["/ip4/127.0.0.1/tcp/46769/p2p/16Uiu2HAmHrPuPeZqQmsRJMVUd8wc863aMRZr8HxveD6VWVKsGacN","/ip4/127.0.0.1/tcp/46770/ws/p2p/16Uiu2HAmHrPuPeZqQmsRJMVUd8wc863aMRZr8HxveD6VWVKsGacN","/ip4/172.17.0.13/tcp/46769/p2p/16Uiu2HAmHrPuPeZqQmsRJMVUd8wc863aMRZr8HxveD6VWVKsGacN","/ip4/172.17.0.13/tcp/46770/ws/p2p/16Uiu2HAmHrPuPeZqQmsRJMVUd8wc863aMRZr8HxveD6VWVKsGacN"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46768/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.39.50/tcp/31584/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46768/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"id":"16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","multiaddrs":["/ip4/172.18.39.50/tcp/31584/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","/ip4/172.18.39.50/tcp/31585/ws/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"],"protocols":["/vac/waku/relay/2.0.0"],"connected":true,"pubsubTopics":["/waku/2/rs/3/2","/waku/2/rs/3/3","/waku/2/rs/3/7","/waku/2/rs/3/8","/waku/2/rs/3/0","/waku/2/rs/3/4","/waku/2/rs/3/5","/waku/2/rs/3/6","/waku/2/rs/3/1"]},{"id":"16Uiu2HAmGcXLNjdnNVKBodZZCX9opmDBh96dRysYKnz3hsip1kAP","multiaddrs":["/ip4/172.17.0.2/tcp/50172/p2p/16Uiu2HAmGcXLNjdnNVKBodZZCX9opmDBh96dRysYKnz3hsip1kAP","/ip4/172.17.0.2/tcp/50173/ws/p2p/16Uiu2HAmGcXLNjdnNVKBodZZCX9opmDBh96dRysYKnz3hsip1kAP"],"protocols":["/vac/waku/filter-push/2.0.0-beta1","/vac/waku/relay/2.0.0"],"connected":true,"pubsubTopics":["/waku/2/default-waku/proto"]}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:218 Stopping container with id c1a34f67ee5c
[35mDEBUG   [0m src.node.waku_node:waku_node.py:225 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:218 Stopping container with id 61369110d0a5
[35mDEBUG   [0m src.node.waku_node:waku_node.py:225 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:218 Stopping container with id badb962b2aaa
[35mDEBUG   [0m src.node.waku_node:waku_node.py:225 Container stopped.