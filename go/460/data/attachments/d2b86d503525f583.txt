2025-02-10 03:09:37.808 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-10 03:09:37.808 DEBUG [tests.conftest] Running test: test_get_store_messages_with_different_pubsub_topics with id: 2025-02-10_03-09-37__c33fb858-7bfe-466d-869e-47c64ac45a94
2025-02-10 03:09:37.808 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-10 03:09:37.808 DEBUG [src.steps.store] Running fixture setup: store_setup
2025-02-10 03:09:37.809 DEBUG [src.steps.store] Running fixture setup: node_setup
2025-02-10 03:09:37.815 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-10 03:09:37.815 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-10_03-09-37__c33fb858-7bfe-466d-869e-47c64ac45a94__wakuorg_nwaku:latest.log
2025-02-10 03:09:37.815 DEBUG [src.node.waku_node] Starting Node...
2025-02-10 03:09:37.815 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-10 03:09:37.817 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-10 03:09:37.817 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.54.183
2025-02-10 03:09:37.817 DEBUG [src.node.docker_mananger] Generated ports ['52535', '52536', '52537', '52538', '52539']
2025-02-10 03:09:37.817 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-10 03:09:37.817 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-10 03:09:37.817 DEBUG [src.node.waku_node] Using volumes []
2025-02-10 03:09:37.817 DEBUG [src.node.docker_mananger] docker run -i -t -p 52535:52535 -p 52536:52536 -p 52537:52537 -p 52538:52538 -p 52539:52539 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=52537 --rest-port=52535 --tcp-port=52536 --discv5-udp-port=52538 --rest-address=0.0.0.0 --nat=extip:172.18.54.183 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d97c0eb2baa4e8f9dee23dc538deab5f39a03235fb11b56a8a74ddf6c4102ce1 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=52539 --metrics-logging=true --store=true --relay=true
2025-02-10 03:09:38.051 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.54.183 waku 28b8c8aba17fdd404bffe12d43a0e78a5a83a581ccc6f49af1342f4733e2b953
2025-02-10 03:09:38.104 DEBUG [src.node.docker_mananger] Container started with ID 28b8c8aba17f. Setting up logs at ./log/docker/publishing_node1_2025-02-10_03-09-37__c33fb858-7bfe-466d-869e-47c64ac45a94__wakuorg_nwaku:latest.log
2025-02-10 03:09:38.106 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 52535
2025-02-10 03:09:38.106 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-10 03:09:38.123 ERROR [src.node.docker_mananger] Max retries reached for container 760d3ef5d5e3. Exiting log stream.
2025-02-10 03:09:38.597 ERROR [src.node.docker_mananger] Max retries reached for container 13dd9290d7b8. Exiting log stream.
2025-02-10 03:09:39.108 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52535/health" -H "Content-Type: application/json" -d 'None'
2025-02-10 03:09:39.110 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-10 03:09:39.111 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-10 03:09:39.111 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52535/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-10 03:09:39.113 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.54.183/tcp/52536/p2p/16Uiu2HAm6x6zhhnkze7ysc99nC4GxkHo5L2FZz2d8JRdvB6wKWsx","/ip4/172.18.54.183/tcp/52537/ws/p2p/16Uiu2HAm6x6zhhnkze7ysc99nC4GxkHo5L2FZz2d8JRdvB6wKWsx"],"enrUri":"enr:-L24QG3x1HhCMGObBzB8vo7xcFvuPMU7CqnMYjJVg8BOS2DUbG41YsoD98RU85XF7CqT17SMLhSQ0PtV2t0zEfaW_5YCgmlkgnY0gmlwhKwSNreKbXVsdGlhZGRyc5YACASsEja3Bs04AAoErBI2twbNOd0DgnJzhQADAQAAiXNlY3AyNTZrMaECqzxECc7G1LHloiDgidCjrrDCDL31E5S2iF7UXqLyp--DdGNwgs04g3VkcILNOoV3YWt1MgM"}'
2025-02-10 03:09:39.113 INFO [src.node.waku_node] REST service is ready !!
2025-02-10 03:09:39.120 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-10 03:09:39.120 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-10_03-09-37__c33fb858-7bfe-466d-869e-47c64ac45a94__wakuorg_go-waku:latest.log
2025-02-10 03:09:39.120 DEBUG [src.node.waku_node] Starting Node...
2025-02-10 03:09:39.120 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-10 03:09:39.122 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-10 03:09:39.122 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.193.93
2025-02-10 03:09:39.122 DEBUG [src.node.docker_mananger] Generated ports ['29152', '29153', '29154', '29155', '29156']
2025-02-10 03:09:39.122 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-10 03:09:39.122 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-10 03:09:39.123 DEBUG [src.node.waku_node] Using volumes []
2025-02-10 03:09:39.123 DEBUG [src.node.docker_mananger] docker run -i -t -p 29152:29152 -p 29153:29153 -p 29154:29154 -p 29155:29155 -p 29156:29156 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=29154 --rest-port=29152 --tcp-port=29153 --discv5-udp-port=29155 --rest-address=0.0.0.0 --nat=extip:172.18.193.93 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2da43d8f0af04b38232d0d29fbcfba3fb6bbdeab8ed4d1a57e28e180fe2fb028 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-L24QG3x1HhCMGObBzB8vo7xcFvuPMU7CqnMYjJVg8BOS2DUbG41YsoD98RU85XF7CqT17SMLhSQ0PtV2t0zEfaW_5YCgmlkgnY0gmlwhKwSNreKbXVsdGlhZGRyc5YACASsEja3Bs04AAoErBI2twbNOd0DgnJzhQADAQAAiXNlY3AyNTZrMaECqzxECc7G1LHloiDgidCjrrDCDL31E5S2iF7UXqLyp--DdGNwgs04g3VkcILNOoV3YWt1MgM --storenode=/ip4/172.18.54.183/tcp/52536/p2p/16Uiu2HAm6x6zhhnkze7ysc99nC4GxkHo5L2FZz2d8JRdvB6wKWsx --store=true --relay=true
2025-02-10 03:09:39.355 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.193.93 waku 54b3b5a4ef64bff6491193f685afa44714e7ff4e7e7ab89eed9ecaa552f20960
2025-02-10 03:09:39.410 DEBUG [src.node.docker_mananger] Container started with ID 54b3b5a4ef64. Setting up logs at ./log/docker/store_node1_2025-02-10_03-09-37__c33fb858-7bfe-466d-869e-47c64ac45a94__wakuorg_go-waku:latest.log
2025-02-10 03:09:39.411 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 29152
2025-02-10 03:09:39.411 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-10 03:09:40.412 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29152/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-10 03:09:40.415 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QMXLA7LkjoHKSfVzBlIWfd4PJnX1tHt0top2Yhyunko-VEBJpbkIgXlvBKDE4Im_DcG6Uvp9IrU6LV8lAaxYHWKGAZTt1X7OgmlkgnY0gmlwhKwRAAOCcnODAAMAiXNlY3AyNTZrMaECCiNqAAyZeYJGeLOFia75OTAJFQGaKPnSIPNv_dmgiSODdGNwgnHhg3VkcIJx44V3YWt1MgM","listenAddresses":["/ip4/127.0.0.1/tcp/29153/p2p/16Uiu2HAkv7FNqgK3LdP6jwK9TEub9QZwftHfpgZpLgPyyxYAepca","/ip4/127.0.0.1/tcp/29154/ws/p2p/16Uiu2HAkv7FNqgK3LdP6jwK9TEub9QZwftHfpgZpLgPyyxYAepca","/ip4/172.17.0.3/tcp/29153/p2p/16Uiu2HAkv7FNqgK3LdP6jwK9TEub9QZwftHfpgZpLgPyyxYAepca","/ip4/172.17.0.3/tcp/29154/ws/p2p/16Uiu2HAkv7FNqgK3LdP6jwK9TEub9QZwftHfpgZpLgPyyxYAepca"]}'
2025-02-10 03:09:40.415 INFO [src.node.waku_node] REST service is ready !!
2025-02-10 03:09:40.416 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29152/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.54.183/tcp/52536/p2p/16Uiu2HAm6x6zhhnkze7ysc99nC4GxkHo5L2FZz2d8JRdvB6wKWsx", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-10 03:09:40.432 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-10 03:09:40.434 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52535/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-10 03:09:40.452 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 03:09:40.452 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29152/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-10 03:09:40.455 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-10 03:09:40.459 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52535/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/2", "/waku/2/rs/3/3", "/waku/2/rs/3/4", "/waku/2/rs/3/5", "/waku/2/rs/3/6", "/waku/2/rs/3/7", "/waku/2/rs/3/8"]'
2025-02-10 03:09:40.477 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 03:09:40.478 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29152/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/2", "/waku/2/rs/3/3", "/waku/2/rs/3/4", "/waku/2/rs/3/5", "/waku/2/rs/3/6", "/waku/2/rs/3/7", "/waku/2/rs/3/8"]'
2025-02-10 03:09:40.482 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-10 03:09:40.482 DEBUG [tests.store.test_get_messages] Running test with pubsub topic /waku/2/rs/3/0
2025-02-10 03:09:40.483 DEBUG [src.steps.store] Relaying message
2025-02-10 03:09:40.485 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52535/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 03:09:40.509 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 03:09:40.509 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-10 03:09:40.709 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-10 03:09:40.710 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52535/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-10 03:09:40.713 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x3b5836adf23d8955f29108de4f2076253b0add1fda1628ad63c47c8112533516"}]}'
2025-02-10 03:09:40.713 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-10 03:09:40.713 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29152/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-10 03:09:40.718 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"e91a066fc6d7928d75fc1784fbbd7f23c263db377d4cd89ee999d779bbcbd191","status_code":200,"status_desc":"OK","messages":[{"message_hash":"O1g2rfI9iVXykQjeTyB2JTsK3R/aFiitY8R8gRJTNRY="}]}'
2025-02-10 03:09:40.719 DEBUG [tests.store.test_get_messages] Running test with pubsub topic /waku/2/rs/3/1
2025-02-10 03:09:40.720 DEBUG [src.steps.store] Relaying message
2025-02-10 03:09:40.720 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52535/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 03:09:40.725 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 03:09:40.726 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-10 03:09:40.926 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-10 03:09:40.927 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52535/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F1&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-10 03:09:40.930 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x719cb6e06055d0f45928311bd6e234fac1fb4249a58d6641e4971f9f1da62938"}]}'
2025-02-10 03:09:40.930 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-10 03:09:40.930 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29152/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F1&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-10 03:09:48.695 ERROR [src.node.api_clients.base_client] HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:29152/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F1&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true. Response content: b'{"messages":null,"error_message":"context deadline exceeded"}'
2025-02-10 03:09:48.696 ERROR [tests.store.test_get_messages] PubsubTopic pubsub_topic failed: Error: 500 Server Error: Internal Server Error for url: http://127.0.0.1:29152/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F1&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true with response: b'{"messages":null,"error_message":"context deadline exceeded"}'
2025-02-10 03:09:48.697 DEBUG [tests.store.test_get_messages] Running test with pubsub topic /waku/2/rs/3/2
2025-02-10 03:09:48.697 DEBUG [src.steps.store] Relaying message
2025-02-10 03:09:48.697 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52535/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F2" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 03:09:48.703 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 03:09:48.703 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-10 03:09:48.903 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-10 03:09:48.904 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52535/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F2&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-10 03:09:48.907 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x05676f3f079e1b3903b3ce8fb61fbdec62ded8bf1410d7308ac6e959b00f7eeb"}]}'
2025-02-10 03:09:48.907 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-10 03:09:48.908 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29152/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F2&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-10 03:09:48.913 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"103791af5ed88a3ad956a19adaa0860b49d37c825a39dcd97a0d13152b5b118a","status_code":200,"status_desc":"OK","messages":[{"message_hash":"BWdvPweeGzkDs86Pth+97GLe2L8UENcwisbpWbAPfus="}]}'
2025-02-10 03:09:48.913 DEBUG [tests.store.test_get_messages] Running test with pubsub topic /waku/2/rs/3/3
2025-02-10 03:09:48.914 DEBUG [src.steps.store] Relaying message
2025-02-10 03:09:48.914 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52535/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F3" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 03:09:48.919 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 03:09:48.919 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-10 03:09:49.120 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-10 03:09:49.120 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52535/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F3&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-10 03:09:49.123 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x00cd234c3516ec7ce37da475b0d8075db088793a3b0311453e2191d2e839b1e1"}]}'
2025-02-10 03:09:49.124 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-10 03:09:49.124 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29152/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F3&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-10 03:09:49.129 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"ed4f0ef03d60b9175cc4f16b247e8bcedc018dc33c9e9e6e461415d759b53d13","status_code":200,"status_desc":"OK","messages":[{"message_hash":"AM0jTDUW7HzjfaR1sNgHXbCIeTo7AxFFPiGR0ug5seE="}]}'
2025-02-10 03:09:49.130 DEBUG [tests.store.test_get_messages] Running test with pubsub topic /waku/2/rs/3/4
2025-02-10 03:09:49.130 DEBUG [src.steps.store] Relaying message
2025-02-10 03:09:49.130 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52535/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F4" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 03:09:49.136 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 03:09:49.136 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-10 03:09:49.337 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-10 03:09:49.337 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52535/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F4&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-10 03:09:49.341 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x6c16d7874519cba57cd075f13948c3c1a600f8f9488a7b87014461252e7f5535"}]}'
2025-02-10 03:09:49.341 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-10 03:09:49.342 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29152/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F4&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-10 03:09:49.346 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"6bf284cc32bdbfcef02555639f4fe8b399cd6900cd04cc788ad0e0e2a275f2b8","status_code":200,"status_desc":"OK","messages":[{"message_hash":"bBbXh0UZy6V80HXxOUjDwaYA+PlIinuHAURhJS5/VTU="}]}'
2025-02-10 03:09:49.347 DEBUG [tests.store.test_get_messages] Running test with pubsub topic /waku/2/rs/3/5
2025-02-10 03:09:49.347 DEBUG [src.steps.store] Relaying message
2025-02-10 03:09:49.348 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52535/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F5" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 03:09:49.353 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 03:09:49.353 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-10 03:09:49.554 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-10 03:09:49.554 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52535/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F5&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-10 03:09:49.557 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x34c494c43c1b6858d03085182e71e3a0d089103fe5dd5c4fe04e9dc656acbf89"}]}'
2025-02-10 03:09:49.558 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-10 03:09:49.558 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29152/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F5&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-10 03:09:49.563 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"ea60f20e400651fbd5ad6bc3de95282f528c2f199d4faa04e5a8c1d665a76fa0","status_code":200,"status_desc":"OK","messages":[{"message_hash":"NMSUxDwbaFjQMIUYLnHjoNCJED/l3VxP4E6dxlasv4k="}]}'
2025-02-10 03:09:49.563 DEBUG [tests.store.test_get_messages] Running test with pubsub topic /waku/2/rs/3/6
2025-02-10 03:09:49.564 DEBUG [src.steps.store] Relaying message
2025-02-10 03:09:49.564 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52535/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F6" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 03:09:49.571 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 03:09:49.571 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-10 03:09:49.771 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-10 03:09:49.772 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52535/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F6&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-10 03:09:49.775 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xf839eb38fa1f8d2fd40109da6366a1908499445691aae7325627810836c429ca"}]}'
2025-02-10 03:09:49.776 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-10 03:09:49.776 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29152/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F6&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-10 03:09:49.782 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"0090947c6037f13270896aa3f295430f7eee1d057a76f75859e43a7e42514b89","status_code":200,"status_desc":"OK","messages":[{"message_hash":"+DnrOPofjS/UAQnaY2ahkISZRFaRqucyVieBCDbEKco="}]}'
2025-02-10 03:09:49.782 DEBUG [tests.store.test_get_messages] Running test with pubsub topic /waku/2/rs/3/7
2025-02-10 03:09:49.783 DEBUG [src.steps.store] Relaying message
2025-02-10 03:09:49.783 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52535/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F7" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 03:09:49.789 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 03:09:49.789 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-10 03:09:49.990 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-10 03:09:49.990 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52535/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F7&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-10 03:09:49.994 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x1a66881b6f1c6b3e72f59c249067e59bbb82e55373ba405b3868e3a81f184e1e"}]}'
2025-02-10 03:09:49.994 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-10 03:09:49.994 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29152/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F7&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-10 03:09:49.999 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"b102311ef7a8722982f150138ea9681f2331731825facdf88a81e8f96d694122","status_code":200,"status_desc":"OK","messages":[{"message_hash":"GmaIG28caz5y9ZwkkGflm7uC5VNzukBbOGjjqB8YTh4="}]}'
2025-02-10 03:09:50.000 DEBUG [tests.store.test_get_messages] Running test with pubsub topic /waku/2/rs/3/8
2025-02-10 03:09:50.000 DEBUG [src.steps.store] Relaying message
2025-02-10 03:09:50.000 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52535/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F8" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 03:09:50.006 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 03:09:50.006 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-10 03:09:50.206 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-10 03:09:50.207 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52535/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F8&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-10 03:09:50.210 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xb700d99c27ef2f63bfe4bfab61c66d08ae139b53312e4e9ab91145a47cb5b8f0"}]}'
2025-02-10 03:09:50.211 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-10 03:09:50.211 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29152/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F8&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-10 03:09:50.216 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"dbc3b8e96ec0f86ba4466cb7f647a9de76b58ec1c60c33d7859e210163e03068","status_code":200,"status_desc":"OK","messages":[{"message_hash":"twDZnCfvL2O/5L+rYcZtCK4Tm1MxLk6auRFFpHy1uPA="}]}'
2025-02-10 03:09:50.221 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-10 03:09:50.223 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-10 03:09:50.223 DEBUG [src.node.waku_node] Stopping container with id 28b8c8aba17f
2025-02-10 03:09:51.523 DEBUG [src.node.waku_node] Container stopped.
2025-02-10 03:09:51.523 DEBUG [src.node.waku_node] Stopping container with id 54b3b5a4ef64
2025-02-10 03:09:52.337 ERROR [src.node.docker_mananger] Max retries reached for container 28b8c8aba17f. Exiting log stream.
2025-02-10 03:10:02.035 DEBUG [src.node.waku_node] Container stopped.
2025-02-10 03:10:02.038 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-10 03:10:02.053 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-10 03:10:02.056 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-10 03:10:02.057 DEBUG [tests.conftest] Running fixture teardown: attach_logs_on_fail
2025-02-10 03:10:02.057 DEBUG [tests.conftest] Test failed, attempting to attach logs to the allure reports
2025-02-10 03:10:02.058 DEBUG [src.libs.common] Attaching file ./log/docker/publishing_node1_2025-02-10_03-09-37__c33fb858-7bfe-466d-869e-47c64ac45a94__wakuorg_nwaku:latest.log
2025-02-10 03:10:02.058 DEBUG [src.libs.common] Attaching file ./log/docker/store_node1_2025-02-10_03-09-37__c33fb858-7bfe-466d-869e-47c64ac45a94__wakuorg_go-waku:latest.log
