2025-02-10 03:08:34.208 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-10 03:08:34.209 DEBUG [tests.conftest] Running test: test_filter_unsubscribe_all_with_invalid_request_id with id: 2025-02-10_03-08-34__8b0184cd-7839-4c93-915f-6f4600af6fcc
2025-02-10 03:08:34.209 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-10 03:08:34.209 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2025-02-10 03:08:34.210 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2025-02-10 03:08:34.216 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-10 03:08:34.216 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-10_03-08-34__8b0184cd-7839-4c93-915f-6f4600af6fcc__wakuorg_nwaku:latest.log
2025-02-10 03:08:34.216 DEBUG [src.node.waku_node] Starting Node...
2025-02-10 03:08:34.216 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-10 03:08:34.218 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-10 03:08:34.218 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.86.242
2025-02-10 03:08:34.218 DEBUG [src.node.docker_mananger] Generated ports ['23818', '23819', '23820', '23821', '23822']
2025-02-10 03:08:34.218 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-10 03:08:34.218 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-10 03:08:34.218 DEBUG [src.node.waku_node] Using volumes []
2025-02-10 03:08:34.218 DEBUG [src.node.docker_mananger] docker run -i -t -p 23818:23818 -p 23819:23819 -p 23820:23820 -p 23821:23821 -p 23822:23822 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=23820 --rest-port=23818 --tcp-port=23819 --discv5-udp-port=23821 --rest-address=0.0.0.0 --nat=extip:172.18.86.242 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e52a5e4271d238a90dcc5a29fe6dee8e152ff46746dc9e0cfb3c792a2647b73d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=23822 --metrics-logging=true --relay=true --filter=true
2025-02-10 03:08:34.442 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.86.242 waku 4806e0f7c223fb83a0772b36d62721b96e4ecbe696afdde8bc5b6085d3a5bc4c
2025-02-10 03:08:34.493 DEBUG [src.node.docker_mananger] Container started with ID 4806e0f7c223. Setting up logs at ./log/docker/node1_2025-02-10_03-08-34__8b0184cd-7839-4c93-915f-6f4600af6fcc__wakuorg_nwaku:latest.log
2025-02-10 03:08:34.494 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 23818
2025-02-10 03:08:34.494 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-10 03:08:35.009 ERROR [src.node.docker_mananger] Max retries reached for container 7d1e7b938bbd. Exiting log stream.
2025-02-10 03:08:35.494 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23818/health" -H "Content-Type: application/json" -d 'None'
2025-02-10 03:08:35.497 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-10 03:08:35.498 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-10 03:08:35.498 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23818/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-10 03:08:35.500 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.86.242/tcp/23819/p2p/16Uiu2HAmSDuqAFQ845e4jzVwRqcJphcMr1Ft2GDoF5XU43rvLhhE","/ip4/172.18.86.242/tcp/23820/ws/p2p/16Uiu2HAmSDuqAFQ845e4jzVwRqcJphcMr1Ft2GDoF5XU43rvLhhE"],"enrUri":"enr:-L24QI_sNbojf7G18BJtAIgjyMTkmpg0RYqKuw6pIT7NkTz8DaMttxtyK-HYcK0fovNjvcXreMIVF9F9yaxulU1iXCwCgmlkgnY0gmlwhKwSVvKKbXVsdGlhZGRyc5YACASsElbyBl0LAAoErBJW8gZdDN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDyZb8jtIc_K_mVWS4UmFFu8QP0MC6s39idsIZvkIhsqWDdGNwgl0Lg3VkcIJdDYV3YWt1MgU"}'
2025-02-10 03:08:35.500 INFO [src.node.waku_node] REST service is ready !!
2025-02-10 03:08:35.501 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2025-02-10 03:08:35.507 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-10 03:08:35.507 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-10_03-08-34__8b0184cd-7839-4c93-915f-6f4600af6fcc__wakuorg_go-waku:latest.log
2025-02-10 03:08:35.507 DEBUG [src.node.waku_node] Starting Node...
2025-02-10 03:08:35.507 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-10 03:08:35.509 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-10 03:08:35.509 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.127.138
2025-02-10 03:08:35.509 DEBUG [src.node.docker_mananger] Generated ports ['48966', '48967', '48968', '48969', '48970']
2025-02-10 03:08:35.509 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-10 03:08:35.509 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-10 03:08:35.509 DEBUG [src.node.waku_node] Using volumes []
2025-02-10 03:08:35.509 DEBUG [src.node.docker_mananger] docker run -i -t -p 48966:48966 -p 48967:48967 -p 48968:48968 -p 48969:48969 -p 48970:48970 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=48968 --rest-port=48966 --tcp-port=48967 --discv5-udp-port=48969 --rest-address=0.0.0.0 --nat=extip:172.18.127.138 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b05d2444d7b86dcdafecdf4e6fd82eaaadb4a1e03ebbccea8ec0afcdaa226b90 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QI_sNbojf7G18BJtAIgjyMTkmpg0RYqKuw6pIT7NkTz8DaMttxtyK-HYcK0fovNjvcXreMIVF9F9yaxulU1iXCwCgmlkgnY0gmlwhKwSVvKKbXVsdGlhZGRyc5YACASsElbyBl0LAAoErBJW8gZdDN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDyZb8jtIc_K_mVWS4UmFFu8QP0MC6s39idsIZvkIhsqWDdGNwgl0Lg3VkcIJdDYV3YWt1MgU --filternode=/ip4/172.18.86.242/tcp/23819/p2p/16Uiu2HAmSDuqAFQ845e4jzVwRqcJphcMr1Ft2GDoF5XU43rvLhhE --pubsub-topic=/waku/2/rs/3/1
2025-02-10 03:08:35.716 DEBUG [src.node.waku_node] Starting Node...
2025-02-10 03:08:35.716 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-10 03:08:35.718 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-10 03:08:35.718 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.176.213
2025-02-10 03:08:35.719 DEBUG [src.node.docker_mananger] Generated ports ['29985', '29986', '29987', '29988', '29989']
2025-02-10 03:08:35.719 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-10 03:08:35.719 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-10 03:08:35.719 DEBUG [src.node.waku_node] Using volumes []
2025-02-10 03:08:35.719 DEBUG [src.node.docker_mananger] docker run -i -t -p 29985:29985 -p 29986:29986 -p 29987:29987 -p 29988:29988 -p 29989:29989 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=29987 --rest-port=29985 --tcp-port=29986 --discv5-udp-port=29988 --rest-address=0.0.0.0 --nat=extip:172.18.176.213 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b4b8697fda1cddcf0abf1ee3b4caf73aacace46f2494d65e6cfcd196bdc9a065 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QI_sNbojf7G18BJtAIgjyMTkmpg0RYqKuw6pIT7NkTz8DaMttxtyK-HYcK0fovNjvcXreMIVF9F9yaxulU1iXCwCgmlkgnY0gmlwhKwSVvKKbXVsdGlhZGRyc5YACASsElbyBl0LAAoErBJW8gZdDN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDyZb8jtIc_K_mVWS4UmFFu8QP0MC6s39idsIZvkIhsqWDdGNwgl0Lg3VkcIJdDYV3YWt1MgU --filternode=/ip4/172.18.86.242/tcp/23819/p2p/16Uiu2HAmSDuqAFQ845e4jzVwRqcJphcMr1Ft2GDoF5XU43rvLhhE --pubsub-topic=/waku/2/rs/3/1
2025-02-10 03:08:35.946 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.176.213 waku b6970d4b18f242035fa473dc62e3e08b4b8edbe6701f0fd8be1d447a981efd67
2025-02-10 03:08:36.000 DEBUG [src.node.docker_mananger] Container started with ID b6970d4b18f2. Setting up logs at ./log/docker/node2_2025-02-10_03-08-34__8b0184cd-7839-4c93-915f-6f4600af6fcc__wakuorg_go-waku:latest.log
2025-02-10 03:08:36.000 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 29985
2025-02-10 03:08:36.000 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-10 03:08:37.001 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:29985/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-10 03:08:37.004 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QHLTpyT_yptLkkB2chCfckvGPET2_wqfcXe4x4Q68PVBZoI4Vdvf6pslIHQWrbe9bYNDH_Z35Vz_qH8vbpli3_6GAZTt1IcYgmlkgnY0gmlwhKwRAAOCcnOFAAMBAAGJc2VjcDI1NmsxoQK7NXiy668w4lTjDCBzoKUYtyrcRk1scDpFoEEPiq81loN0Y3CCdSKDdWRwgnUkhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/29986/p2p/16Uiu2HAm82TWXfEhkKD9T1qSPdVyHz1QLw9gnj6FeY3542ySVKiM","/ip4/127.0.0.1/tcp/29987/ws/p2p/16Uiu2HAm82TWXfEhkKD9T1qSPdVyHz1QLw9gnj6FeY3542ySVKiM","/ip4/172.17.0.3/tcp/29986/p2p/16Uiu2HAm82TWXfEhkKD9T1qSPdVyHz1QLw9gnj6FeY3542ySVKiM","/ip4/172.17.0.3/tcp/29987/ws/p2p/16Uiu2HAm82TWXfEhkKD9T1qSPdVyHz1QLw9gnj6FeY3542ySVKiM"]}'
2025-02-10 03:08:37.004 INFO [src.node.waku_node] REST service is ready !!
2025-02-10 03:08:37.005 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29985/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.86.242/tcp/23819/p2p/16Uiu2HAmSDuqAFQ845e4jzVwRqcJphcMr1Ft2GDoF5XU43rvLhhE", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-10 03:08:37.007 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-10 03:08:37.007 DEBUG [src.steps.filter] Running fixture setup: subscribe_main_nodes
2025-02-10 03:08:37.007 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23818/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-10 03:08:37.010 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 03:08:37.011 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:29985/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "5d4c5cf0-dc94-44c9-be5f-1d5a652de810", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2025-02-10 03:08:37.016 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"5d4c5cf0-dc94-44c9-be5f-1d5a652de810","statusDesc":"OK"}'
2025-02-10 03:08:37.018 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:29985/filter/v2/subscriptions/all" -H "Content-Type: application/json" -d '{"requestId": 1}'
2025-02-10 03:08:37.019 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:29985/filter/v2/subscriptions/all. Response content: b''
2025-02-10 03:08:37.022 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-10 03:08:37.022 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-10 03:08:37.023 DEBUG [src.node.waku_node] Stopping container with id 4806e0f7c223
2025-02-10 03:08:37.633 DEBUG [src.node.waku_node] Container stopped.
2025-02-10 03:08:37.633 DEBUG [src.node.waku_node] Stopping container with id b6970d4b18f2
2025-02-10 03:08:38.447 ERROR [src.node.docker_mananger] Max retries reached for container 4806e0f7c223. Exiting log stream.
2025-02-10 03:08:38.514 DEBUG [src.node.waku_node] Container stopped.
2025-02-10 03:08:38.516 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-10 03:08:38.520 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-10 03:08:38.522 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
