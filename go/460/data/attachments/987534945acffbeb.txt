2025-02-10 03:08:30.125 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-10 03:08:30.125 DEBUG [tests.conftest] Running test: test_filter_update_subscription_with_invalid_content_topic_format with id: 2025-02-10_03-08-30__c877d821-d903-4473-8f75-9f510e22b204
2025-02-10 03:08:30.126 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-10 03:08:30.126 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2025-02-10 03:08:30.126 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2025-02-10 03:08:30.132 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-10 03:08:30.132 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-10_03-08-30__c877d821-d903-4473-8f75-9f510e22b204__wakuorg_nwaku:latest.log
2025-02-10 03:08:30.132 DEBUG [src.node.waku_node] Starting Node...
2025-02-10 03:08:30.132 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-10 03:08:30.134 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-10 03:08:30.134 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.18.76
2025-02-10 03:08:30.134 DEBUG [src.node.docker_mananger] Generated ports ['11968', '11969', '11970', '11971', '11972']
2025-02-10 03:08:30.134 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-10 03:08:30.134 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-10 03:08:30.134 DEBUG [src.node.waku_node] Using volumes []
2025-02-10 03:08:30.134 DEBUG [src.node.docker_mananger] docker run -i -t -p 11968:11968 -p 11969:11969 -p 11970:11970 -p 11971:11971 -p 11972:11972 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=11970 --rest-port=11968 --tcp-port=11969 --discv5-udp-port=11971 --rest-address=0.0.0.0 --nat=extip:172.18.18.76 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=32a9be8bf3b5a718febaadeab5fb1eebea74ccee285a241f7578f3c3bd3ced30 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=11972 --metrics-logging=true --relay=true --filter=true
2025-02-10 03:08:30.361 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.18.76 waku 5d8517b837f8dbea070f0605122d6ac1c580fd0db0f7a38b52b513e36094f0d7
2025-02-10 03:08:30.409 DEBUG [src.node.docker_mananger] Container started with ID 5d8517b837f8. Setting up logs at ./log/docker/node1_2025-02-10_03-08-30__c877d821-d903-4473-8f75-9f510e22b204__wakuorg_nwaku:latest.log
2025-02-10 03:08:30.409 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 11968
2025-02-10 03:08:30.409 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-10 03:08:30.933 ERROR [src.node.docker_mananger] Max retries reached for container bd19e6e68506. Exiting log stream.
2025-02-10 03:08:31.410 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:11968/health" -H "Content-Type: application/json" -d 'None'
2025-02-10 03:08:31.413 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-10 03:08:31.413 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-10 03:08:31.414 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:11968/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-10 03:08:31.416 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.18.76/tcp/11969/p2p/16Uiu2HAm55MSRrLrPR3ZFhyTnRy2D4LK3yCJLQn93nR6Dyb1ZQxq","/ip4/172.18.18.76/tcp/11970/ws/p2p/16Uiu2HAm55MSRrLrPR3ZFhyTnRy2D4LK3yCJLQn93nR6Dyb1ZQxq"],"enrUri":"enr:-L24QCTdhVRijL6Inooh48lh9ShXpzL3EP5v3nUZxf2xU-d8ZNkxdj_1g5cBuhYYyqjQV8Cgsv8TuagkpKafeUi9aEACgmlkgnY0gmlwhKwSEkyKbXVsdGlhZGRyc5YACASsEhJMBi7BAAoErBISTAYuwt0DgnJzhQADAQAAiXNlY3AyNTZrMaECj2BJ-j-nBkLGB6ark5Yhh9TdQ_pSG58l7a9yAG2UlCKDdGNwgi7Bg3VkcIIuw4V3YWt1MgU"}'
2025-02-10 03:08:31.416 INFO [src.node.waku_node] REST service is ready !!
2025-02-10 03:08:31.416 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2025-02-10 03:08:31.423 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-10 03:08:31.423 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-10_03-08-30__c877d821-d903-4473-8f75-9f510e22b204__wakuorg_go-waku:latest.log
2025-02-10 03:08:31.423 DEBUG [src.node.waku_node] Starting Node...
2025-02-10 03:08:31.423 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-10 03:08:31.424 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-10 03:08:31.424 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.199.111
2025-02-10 03:08:31.425 DEBUG [src.node.docker_mananger] Generated ports ['57739', '57740', '57741', '57742', '57743']
2025-02-10 03:08:31.425 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-10 03:08:31.425 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-10 03:08:31.425 DEBUG [src.node.waku_node] Using volumes []
2025-02-10 03:08:31.425 DEBUG [src.node.docker_mananger] docker run -i -t -p 57739:57739 -p 57740:57740 -p 57741:57741 -p 57742:57742 -p 57743:57743 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=57741 --rest-port=57739 --tcp-port=57740 --discv5-udp-port=57742 --rest-address=0.0.0.0 --nat=extip:172.18.199.111 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=019bdfd1fefb7db27caffdca4dba1a29622fd2beba48dde7c1cde2adb4cef745 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QCTdhVRijL6Inooh48lh9ShXpzL3EP5v3nUZxf2xU-d8ZNkxdj_1g5cBuhYYyqjQV8Cgsv8TuagkpKafeUi9aEACgmlkgnY0gmlwhKwSEkyKbXVsdGlhZGRyc5YACASsEhJMBi7BAAoErBISTAYuwt0DgnJzhQADAQAAiXNlY3AyNTZrMaECj2BJ-j-nBkLGB6ark5Yhh9TdQ_pSG58l7a9yAG2UlCKDdGNwgi7Bg3VkcIIuw4V3YWt1MgU --filternode=/ip4/172.18.18.76/tcp/11969/p2p/16Uiu2HAm55MSRrLrPR3ZFhyTnRy2D4LK3yCJLQn93nR6Dyb1ZQxq --pubsub-topic=/waku/2/rs/3/1
2025-02-10 03:08:31.647 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.199.111 waku 7d1e7b938bbd02a3eea014ab3e45c86c1992ffeebd4d52d4feebbf15bddd1bd4
2025-02-10 03:08:31.697 DEBUG [src.node.docker_mananger] Container started with ID 7d1e7b938bbd. Setting up logs at ./log/docker/node2_2025-02-10_03-08-30__c877d821-d903-4473-8f75-9f510e22b204__wakuorg_go-waku:latest.log
2025-02-10 03:08:31.698 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 57739
2025-02-10 03:08:31.699 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-10 03:08:32.699 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57739/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-10 03:08:32.702 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QDkZG1ofSGc4t0swPMjELV9ZT41gUF9sJB6VK83Za_Dodb06rEF4Ou1dfYmKkjQ6VHWkfxfO-8GsQRnpUhaWkWCGAZTt1HZOgmlkgnY0gmlwhKwRAAOCcnOFAAMBAAGJc2VjcDI1NmsxoQPWly8C8uZOED3aNI2ADzkjs5Z83neoC_U0FYeBR1F0NYN0Y3CC4YyDdWRwguGOhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/57740/p2p/16Uiu2HAmT6fJg3LrGawrWFqQ7ta8CYUHKiB9GKn5oUZWzE82TDhv","/ip4/127.0.0.1/tcp/57741/ws/p2p/16Uiu2HAmT6fJg3LrGawrWFqQ7ta8CYUHKiB9GKn5oUZWzE82TDhv","/ip4/172.17.0.3/tcp/57740/p2p/16Uiu2HAmT6fJg3LrGawrWFqQ7ta8CYUHKiB9GKn5oUZWzE82TDhv","/ip4/172.17.0.3/tcp/57741/ws/p2p/16Uiu2HAmT6fJg3LrGawrWFqQ7ta8CYUHKiB9GKn5oUZWzE82TDhv"]}'
2025-02-10 03:08:32.702 INFO [src.node.waku_node] REST service is ready !!
2025-02-10 03:08:32.703 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:57739/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.18.76/tcp/11969/p2p/16Uiu2HAm55MSRrLrPR3ZFhyTnRy2D4LK3yCJLQn93nR6Dyb1ZQxq", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-10 03:08:32.704 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-10 03:08:32.705 DEBUG [src.steps.filter] Running fixture setup: subscribe_main_nodes
2025-02-10 03:08:32.705 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:11968/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-10 03:08:32.708 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 03:08:32.709 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:57739/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "a520f270-7399-4608-94e6-171ce281a762", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2025-02-10 03:08:32.714 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"a520f270-7399-4608-94e6-171ce281a762","statusDesc":"OK"}'
2025-02-10 03:08:32.716 DEBUG [tests.filter.test_subscribe_update] Running test with contetn topic Empty string
2025-02-10 03:08:32.718 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-10 03:08:32.719 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-10 03:08:32.719 DEBUG [src.node.waku_node] Stopping container with id 5d8517b837f8
2025-02-10 03:08:33.321 DEBUG [src.node.waku_node] Container stopped.
2025-02-10 03:08:33.321 DEBUG [src.node.waku_node] Stopping container with id 7d1e7b938bbd
2025-02-10 03:08:34.136 ERROR [src.node.docker_mananger] Max retries reached for container 5d8517b837f8. Exiting log stream.
2025-02-10 03:08:34.197 DEBUG [src.node.waku_node] Container stopped.
2025-02-10 03:08:34.199 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-10 03:08:34.203 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-10 03:08:34.205 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
