2025-02-10 03:08:22.773 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-10 03:08:22.774 DEBUG [tests.conftest] Running test: test_message_light_pushed_on_different_pubsub_topic_is_not_retrieved with id: 2025-02-10_03-08-22__29ebda29-e16b-4274-9f2c-6a848d370132
2025-02-10 03:08:22.775 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-10 03:08:22.775 DEBUG [src.steps.light_push] Running fixture setup: light_push_setup
2025-02-10 03:08:22.782 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-10 03:08:22.782 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node1_2025-02-10_03-08-22__29ebda29-e16b-4274-9f2c-6a848d370132__wakuorg_nwaku:latest.log
2025-02-10 03:08:22.783 DEBUG [src.node.waku_node] Starting Node...
2025-02-10 03:08:22.783 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-10 03:08:22.784 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-10 03:08:22.784 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.141.208
2025-02-10 03:08:22.784 DEBUG [src.node.docker_mananger] Generated ports ['43940', '43941', '43942', '43943', '43944']
2025-02-10 03:08:22.784 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-10 03:08:22.785 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-10 03:08:22.785 DEBUG [src.node.waku_node] Using volumes []
2025-02-10 03:08:22.785 DEBUG [src.node.docker_mananger] docker run -i -t -p 43940:43940 -p 43941:43941 -p 43942:43942 -p 43943:43943 -p 43944:43944 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=43942 --rest-port=43940 --tcp-port=43941 --discv5-udp-port=43943 --rest-address=0.0.0.0 --nat=extip:172.18.141.208 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=acacbb7d58aae8dafeedcd6678361f169f4d6f6ab24a2c46c38dc1e4a2625c1d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=43944 --metrics-logging=true --lightpush=true --relay=true
2025-02-10 03:08:23.020 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.141.208 waku ed3d7091931697d7940deef1d5c16237466e3d96e16be8ea67ea878c3530a43d
2025-02-10 03:08:23.078 DEBUG [src.node.docker_mananger] Container started with ID ed3d70919316. Setting up logs at ./log/docker/receiving_node1_2025-02-10_03-08-22__29ebda29-e16b-4274-9f2c-6a848d370132__wakuorg_nwaku:latest.log
2025-02-10 03:08:23.078 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 43940
2025-02-10 03:08:23.079 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-10 03:08:23.591 ERROR [src.node.docker_mananger] Max retries reached for container 65d14eece224. Exiting log stream.
2025-02-10 03:08:24.080 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43940/health" -H "Content-Type: application/json" -d 'None'
2025-02-10 03:08:24.083 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-10 03:08:24.083 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-10 03:08:24.084 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43940/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-10 03:08:24.086 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.141.208/tcp/43941/p2p/16Uiu2HAmTDVeoXy5iEqwRDBM6KFNaZRXqgyvgNSLURcjxwmc17DS","/ip4/172.18.141.208/tcp/43942/ws/p2p/16Uiu2HAmTDVeoXy5iEqwRDBM6KFNaZRXqgyvgNSLURcjxwmc17DS"],"enrUri":"enr:-L24QNBVPQNzN2ceR1VRJTWpA8p__Rt4G1eZd_-BrIUekQndYAS90LhyzrWs1-VwGMSNVJU-LS4w2lZYdqeeIuAfx-wCgmlkgnY0gmlwhKwSjdCKbXVsdGlhZGRyc5YACASsEo3QBqulAAoErBKN0Aarpt0DgnJzhQADAQAAiXNlY3AyNTZrMaED2FdVrcSFO9gpEWp8LxDL8rI_j_hoJMzRljF1K31WJVmDdGNwgqulg3VkcIKrp4V3YWt1Mgk"}'
2025-02-10 03:08:24.086 INFO [src.node.waku_node] REST service is ready !!
2025-02-10 03:08:24.093 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-10 03:08:24.093 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node2_2025-02-10_03-08-22__29ebda29-e16b-4274-9f2c-6a848d370132__wakuorg_nwaku:latest.log
2025-02-10 03:08:24.093 DEBUG [src.node.waku_node] Starting Node...
2025-02-10 03:08:24.093 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-10 03:08:24.095 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-10 03:08:24.095 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.12.103
2025-02-10 03:08:24.095 DEBUG [src.node.docker_mananger] Generated ports ['46896', '46897', '46898', '46899', '46900']
2025-02-10 03:08:24.095 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-10 03:08:24.095 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-10 03:08:24.095 DEBUG [src.node.waku_node] Using volumes []
2025-02-10 03:08:24.095 DEBUG [src.node.docker_mananger] docker run -i -t -p 46896:46896 -p 46897:46897 -p 46898:46898 -p 46899:46899 -p 46900:46900 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=46898 --rest-port=46896 --tcp-port=46897 --discv5-udp-port=46899 --rest-address=0.0.0.0 --nat=extip:172.18.12.103 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a0554505e46dbe7dd46a92ca8cde73f2af0f43fbc98af2b1affbf6dd244a9ba4 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=46900 --metrics-logging=true --lightpush=false --relay=true
2025-02-10 03:08:24.330 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.12.103 waku 41ed94bf15ebc9a753f3c33b3ff549fa155624397980df96015311d227fe81a9
2025-02-10 03:08:24.383 DEBUG [src.node.docker_mananger] Container started with ID 41ed94bf15eb. Setting up logs at ./log/docker/receiving_node2_2025-02-10_03-08-22__29ebda29-e16b-4274-9f2c-6a848d370132__wakuorg_nwaku:latest.log
2025-02-10 03:08:24.384 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 46896
2025-02-10 03:08:24.384 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-10 03:08:25.384 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46896/health" -H "Content-Type: application/json" -d 'None'
2025-02-10 03:08:25.387 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-10 03:08:25.387 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-10 03:08:25.387 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46896/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-10 03:08:25.390 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.12.103/tcp/46897/p2p/16Uiu2HAmMDYVQgPqHBHn5h17GeAJQZu9pJv4YX6Qwf7mqCy6fUtB","/ip4/172.18.12.103/tcp/46898/ws/p2p/16Uiu2HAmMDYVQgPqHBHn5h17GeAJQZu9pJv4YX6Qwf7mqCy6fUtB"],"enrUri":"enr:-L24QD8weMxM8Vrp-TsU0Trj3tNWqXCihXFiG0Pdx26GjWsuC-GbjNopSl2FmttMEsVjTAG0ZjQPfilkyw48VY6z2WgCgmlkgnY0gmlwhKwSDGeKbXVsdGlhZGRyc5YACASsEgxnBrcxAAoErBIMZwa3Mt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDfzRsDrb2kRcdCLkqBWA1nflI8TIG84dwuYhzN1zNKWSDdGNwgrcxg3VkcIK3M4V3YWt1MgE"}'
2025-02-10 03:08:25.390 INFO [src.node.waku_node] REST service is ready !!
2025-02-10 03:08:25.390 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46896/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.141.208/tcp/43941/p2p/16Uiu2HAmTDVeoXy5iEqwRDBM6KFNaZRXqgyvgNSLURcjxwmc17DS"]'
2025-02-10 03:08:25.434 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 03:08:25.441 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-10 03:08:25.441 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/lightpush_node1_2025-02-10_03-08-22__29ebda29-e16b-4274-9f2c-6a848d370132__wakuorg_go-waku:latest.log
2025-02-10 03:08:25.442 DEBUG [src.node.waku_node] Starting Node...
2025-02-10 03:08:25.442 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-10 03:08:25.443 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-10 03:08:25.444 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.3.22
2025-02-10 03:08:25.444 DEBUG [src.node.docker_mananger] Generated ports ['22876', '22877', '22878', '22879', '22880']
2025-02-10 03:08:25.444 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-10 03:08:25.444 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-10 03:08:25.444 DEBUG [src.node.waku_node] Using volumes []
2025-02-10 03:08:25.444 DEBUG [src.node.docker_mananger] docker run -i -t -p 22876:22876 -p 22877:22877 -p 22878:22878 -p 22879:22879 -p 22880:22880 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=22878 --rest-port=22876 --tcp-port=22877 --discv5-udp-port=22879 --rest-address=0.0.0.0 --nat=extip:172.18.3.22 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=68f615bd7fe1c73bde5e2a62fe66353c34fcad9f66c33c82ba301bb114ec8b26 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-L24QNBVPQNzN2ceR1VRJTWpA8p__Rt4G1eZd_-BrIUekQndYAS90LhyzrWs1-VwGMSNVJU-LS4w2lZYdqeeIuAfx-wCgmlkgnY0gmlwhKwSjdCKbXVsdGlhZGRyc5YACASsEo3QBqulAAoErBKN0Aarpt0DgnJzhQADAQAAiXNlY3AyNTZrMaED2FdVrcSFO9gpEWp8LxDL8rI_j_hoJMzRljF1K31WJVmDdGNwgqulg3VkcIKrp4V3YWt1Mgk --lightpushnode=/ip4/172.18.141.208/tcp/43941/p2p/16Uiu2HAmTDVeoXy5iEqwRDBM6KFNaZRXqgyvgNSLURcjxwmc17DS --lightpush=true --relay=false --pubsub-topic=/waku/2/rs/3/1
2025-02-10 03:08:25.683 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.3.22 waku bf929ec86c76c42a7c3f8f2b338be99ab5d16cc64f06c547932744828cc1c949
2025-02-10 03:08:25.745 DEBUG [src.node.docker_mananger] Container started with ID bf929ec86c76. Setting up logs at ./log/docker/lightpush_node1_2025-02-10_03-08-22__29ebda29-e16b-4274-9f2c-6a848d370132__wakuorg_go-waku:latest.log
2025-02-10 03:08:25.746 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 22876
2025-02-10 03:08:25.746 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-10 03:08:26.746 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22876/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-10 03:08:26.749 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QFuSBSqE7pLdnJsJ0KZDWRoOZ-tieeHB5zHjZKUteGdrG3uN9MdjjGM0RIoasRgsH_8y1zFw1z1VYSyyPS8ZzqGGAZTt1F8BgmlkgnY0gmlwhKwRAASCcnOFAAMBAAGJc2VjcDI1NmsxoQMM4MQ9E_dWYy8KXmpiJXNyzE4kN1HZWo-T_ELdeDNXjIN0Y3CCWV2DdWRwgllfhXdha3UyCA","listenAddresses":["/ip4/127.0.0.1/tcp/22877/p2p/16Uiu2HAmDXG2ZP4T1em3tXC4zh4tDNpqFGE3PP3qPWeiDBG5yNWf","/ip4/127.0.0.1/tcp/22878/ws/p2p/16Uiu2HAmDXG2ZP4T1em3tXC4zh4tDNpqFGE3PP3qPWeiDBG5yNWf","/ip4/172.17.0.4/tcp/22877/p2p/16Uiu2HAmDXG2ZP4T1em3tXC4zh4tDNpqFGE3PP3qPWeiDBG5yNWf","/ip4/172.17.0.4/tcp/22878/ws/p2p/16Uiu2HAmDXG2ZP4T1em3tXC4zh4tDNpqFGE3PP3qPWeiDBG5yNWf"]}'
2025-02-10 03:08:26.749 INFO [src.node.waku_node] REST service is ready !!
2025-02-10 03:08:26.750 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:22876/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.141.208/tcp/43941/p2p/16Uiu2HAmTDVeoXy5iEqwRDBM6KFNaZRXqgyvgNSLURcjxwmc17DS", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-10 03:08:26.751 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-10 03:08:26.752 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:22876/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.12.103/tcp/46897/p2p/16Uiu2HAmMDYVQgPqHBHn5h17GeAJQZu9pJv4YX6Qwf7mqCy6fUtB", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-10 03:08:26.767 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-10 03:08:26.768 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43940/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-10 03:08:26.774 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 03:08:26.775 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46896/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-10 03:08:26.778 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 03:08:26.779 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43940/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9", "/waku/2/rs/3/25", "/waku/2/rs/3/1000"]'
2025-02-10 03:08:26.787 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 03:08:26.787 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46896/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9", "/waku/2/rs/3/25", "/waku/2/rs/3/1000"]'
2025-02-10 03:08:26.800 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 03:08:26.801 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:22876/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739156906801456128}}'
2025-02-10 03:08:26.809 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-10 03:08:26.812 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-10 03:08:26.912 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43940/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-10 03:08:26.915 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[]'
2025-02-10 03:08:26.917 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-10 03:08:26.918 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-10 03:08:26.918 DEBUG [src.node.waku_node] Stopping container with id ed3d70919316
2025-02-10 03:08:27.479 DEBUG [src.node.waku_node] Container stopped.
2025-02-10 03:08:27.480 DEBUG [src.node.waku_node] Stopping container with id 41ed94bf15eb
2025-02-10 03:08:28.294 ERROR [src.node.docker_mananger] Max retries reached for container ed3d70919316. Exiting log stream.
2025-02-10 03:08:28.980 DEBUG [src.node.waku_node] Container stopped.
2025-02-10 03:08:28.980 DEBUG [src.node.waku_node] Stopping container with id bf929ec86c76
2025-02-10 03:08:29.485 DEBUG [src.node.waku_node] Container stopped.
2025-02-10 03:08:29.488 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-10 03:08:29.496 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-10 03:08:29.503 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-10 03:08:29.506 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
