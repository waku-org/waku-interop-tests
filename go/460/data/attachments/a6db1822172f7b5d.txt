2025-02-10 03:11:10.942 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-10 03:11:10.943 DEBUG [tests.conftest] Running test: test_get_store_messages_with_different_content_topics with id: 2025-02-10_03-11-10__5be70957-a4ae-445c-8318-9946491b8c03
2025-02-10 03:11:10.943 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-10 03:11:10.943 DEBUG [src.steps.store] Running fixture setup: store_setup
2025-02-10 03:11:10.943 DEBUG [src.steps.store] Running fixture setup: node_setup
2025-02-10 03:11:10.951 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-10 03:11:10.951 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-10_03-11-10__5be70957-a4ae-445c-8318-9946491b8c03__wakuorg_nwaku:latest.log
2025-02-10 03:11:10.951 DEBUG [src.node.waku_node] Starting Node...
2025-02-10 03:11:10.951 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-10 03:11:10.953 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-10 03:11:10.953 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.5.250
2025-02-10 03:11:10.953 DEBUG [src.node.docker_mananger] Generated ports ['11488', '11489', '11490', '11491', '11492']
2025-02-10 03:11:10.953 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-10 03:11:10.953 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-10 03:11:10.953 DEBUG [src.node.waku_node] Using volumes []
2025-02-10 03:11:10.953 DEBUG [src.node.docker_mananger] docker run -i -t -p 11488:11488 -p 11489:11489 -p 11490:11490 -p 11491:11491 -p 11492:11492 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=11490 --rest-port=11488 --tcp-port=11489 --discv5-udp-port=11491 --rest-address=0.0.0.0 --nat=extip:172.18.5.250 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5f9bceabce46d1bfc8e443c706ead9e4771c51a3bbdb3db3e8a55df2fa858bc7 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=11492 --metrics-logging=true --store=true --relay=true
2025-02-10 03:11:11.196 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.5.250 waku 2f9d0351495eef1c45471b74fe38c23e146377babcdcc4609537d5ca71436806
2025-02-10 03:11:11.240 ERROR [src.node.docker_mananger] Max retries reached for container 4645983cf768. Exiting log stream.
2025-02-10 03:11:11.250 DEBUG [src.node.docker_mananger] Container started with ID 2f9d0351495e. Setting up logs at ./log/docker/publishing_node1_2025-02-10_03-11-10__5be70957-a4ae-445c-8318-9946491b8c03__wakuorg_nwaku:latest.log
2025-02-10 03:11:11.250 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 11488
2025-02-10 03:11:11.250 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-10 03:11:11.729 ERROR [src.node.docker_mananger] Max retries reached for container 62e1069336c2. Exiting log stream.
2025-02-10 03:11:12.251 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:11488/health" -H "Content-Type: application/json" -d 'None'
2025-02-10 03:11:12.254 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-10 03:11:12.254 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-10 03:11:12.254 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:11488/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-10 03:11:12.256 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.5.250/tcp/11489/p2p/16Uiu2HAmUNeuBfn6pmXHHHJrFy65Di6xkdVT24DntVVbK3jBqVoy","/ip4/172.18.5.250/tcp/11490/ws/p2p/16Uiu2HAmUNeuBfn6pmXHHHJrFy65Di6xkdVT24DntVVbK3jBqVoy"],"enrUri":"enr:-L24QL-s6K64Knqjjd3fs3cPUA0ZVdbS2-hHOe89UCa0nUTOWcXzWSt-ymUD_ZA2ec0sbIooA0ge-LajVZrDexMo-UgCgmlkgnY0gmlwhKwSBfqKbXVsdGlhZGRyc5YACASsEgX6BizhAAoErBIF-gYs4t0DgnJzhQADAQAAiXNlY3AyNTZrMaED6Yu0oaWkzU0twV3Xe19SECnSKJtO7WP40i7K1eosbHSDdGNwgizhg3VkcIIs44V3YWt1MgM"}'
2025-02-10 03:11:12.257 INFO [src.node.waku_node] REST service is ready !!
2025-02-10 03:11:12.263 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-10 03:11:12.264 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-10_03-11-10__5be70957-a4ae-445c-8318-9946491b8c03__wakuorg_go-waku:latest.log
2025-02-10 03:11:12.264 DEBUG [src.node.waku_node] Starting Node...
2025-02-10 03:11:12.264 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-10 03:11:12.265 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-10 03:11:12.265 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.254.230
2025-02-10 03:11:12.266 DEBUG [src.node.docker_mananger] Generated ports ['16386', '16387', '16388', '16389', '16390']
2025-02-10 03:11:12.266 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-10 03:11:12.266 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-10 03:11:12.266 DEBUG [src.node.waku_node] Using volumes []
2025-02-10 03:11:12.266 DEBUG [src.node.docker_mananger] docker run -i -t -p 16386:16386 -p 16387:16387 -p 16388:16388 -p 16389:16389 -p 16390:16390 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=16388 --rest-port=16386 --tcp-port=16387 --discv5-udp-port=16389 --rest-address=0.0.0.0 --nat=extip:172.18.254.230 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=eeed25eaa3dba3625584e3aabbafcdc701c9181f596a201ade0eed5c8d33f4ba --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-L24QL-s6K64Knqjjd3fs3cPUA0ZVdbS2-hHOe89UCa0nUTOWcXzWSt-ymUD_ZA2ec0sbIooA0ge-LajVZrDexMo-UgCgmlkgnY0gmlwhKwSBfqKbXVsdGlhZGRyc5YACASsEgX6BizhAAoErBIF-gYs4t0DgnJzhQADAQAAiXNlY3AyNTZrMaED6Yu0oaWkzU0twV3Xe19SECnSKJtO7WP40i7K1eosbHSDdGNwgizhg3VkcIIs44V3YWt1MgM --storenode=/ip4/172.18.5.250/tcp/11489/p2p/16Uiu2HAmUNeuBfn6pmXHHHJrFy65Di6xkdVT24DntVVbK3jBqVoy --store=true --relay=true
2025-02-10 03:11:12.501 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.254.230 waku f9cd2d9ce251dcf21b190c11d64704878ae7e0d8dfda0fbcb6ca98620f7ebcf6
2025-02-10 03:11:12.553 DEBUG [src.node.docker_mananger] Container started with ID f9cd2d9ce251. Setting up logs at ./log/docker/store_node1_2025-02-10_03-11-10__5be70957-a4ae-445c-8318-9946491b8c03__wakuorg_go-waku:latest.log
2025-02-10 03:11:12.554 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 16386
2025-02-10 03:11:12.554 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-10 03:11:13.555 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16386/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-10 03:11:13.558 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QFF-8waMeO3bmW4wXnDAOfRtLYt7cMLkZEeXj31MBmeNG3KP0IJGH5LyF2c746zGkBVenHgbwyvha-hSFRVeu1iGAZTt1uqrgmlkgnY0gmlwhKwRAAOCcnODAAMAiXNlY3AyNTZrMaECFWNDV7UohHynE4LBNrUt8Ij2se_xzAEBhtChQq44bYaDdGNwgkADg3VkcIJABYV3YWt1MgM","listenAddresses":["/ip4/127.0.0.1/tcp/16387/p2p/16Uiu2HAkvsAL7jeDtLqARKiQUej2dfC1XLjQhjnHXtoEjFeFoNkd","/ip4/127.0.0.1/tcp/16388/ws/p2p/16Uiu2HAkvsAL7jeDtLqARKiQUej2dfC1XLjQhjnHXtoEjFeFoNkd","/ip4/172.17.0.3/tcp/16387/p2p/16Uiu2HAkvsAL7jeDtLqARKiQUej2dfC1XLjQhjnHXtoEjFeFoNkd","/ip4/172.17.0.3/tcp/16388/ws/p2p/16Uiu2HAkvsAL7jeDtLqARKiQUej2dfC1XLjQhjnHXtoEjFeFoNkd"]}'
2025-02-10 03:11:13.558 INFO [src.node.waku_node] REST service is ready !!
2025-02-10 03:11:13.559 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:16386/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.5.250/tcp/11489/p2p/16Uiu2HAmUNeuBfn6pmXHHHJrFy65Di6xkdVT24DntVVbK3jBqVoy", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-10 03:11:13.576 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-10 03:11:13.577 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:11488/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-10 03:11:13.600 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 03:11:13.601 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:16386/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-10 03:11:13.603 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-10 03:11:13.605 DEBUG [tests.store.test_get_messages] Running test with content topic /myapp/1/latest/proto
2025-02-10 03:11:13.605 DEBUG [src.steps.store] Relaying message
2025-02-10 03:11:13.606 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:11488/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 03:11:13.620 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 03:11:13.621 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-10 03:11:13.821 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-10 03:11:13.822 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:11488/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-10 03:11:13.826 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x750253c5657c0f12853dcd73955e1527b89f1c3d31a3063c988fa47b2e941be6"}]}'
2025-02-10 03:11:13.826 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-10 03:11:13.827 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16386/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-10 03:11:13.832 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"009dc06052c3bba34448803ea273c83dbffa3cc0b623391ade9a9569a2b4fc9b","status_code":200,"status_desc":"OK","messages":[{"message_hash":"dQJTxWV8DxKFPc1zlV4VJ7ifHD0xowY8mI+key6UG+Y="}]}'
2025-02-10 03:11:13.833 DEBUG [tests.store.test_get_messages] Running test with content topic /waku/2/content/test.js
2025-02-10 03:11:13.833 DEBUG [src.steps.store] Relaying message
2025-02-10 03:11:13.833 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:11488/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-10 03:11:13.838 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 03:11:13.838 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-10 03:11:14.039 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-10 03:11:14.039 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:11488/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fwaku%2F2%2Fcontent%2Ftest.js&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-10 03:11:14.043 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x26282bcd6799aa8dd97f5a675baff4229a54ec9091dbc3b149edc5227b2d1d1b"}]}'
2025-02-10 03:11:14.043 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-10 03:11:14.043 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16386/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fwaku%2F2%2Fcontent%2Ftest.js&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-10 03:11:14.048 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"99ca6f3f26d66e0ccdc3401976f943018735789bda859123e9f8379896f1e42e","status_code":200,"status_desc":"OK","messages":[{"message_hash":"JigrzWeZqo3Zf1pnW6/0IppU7JCR28OxSe3FInstHRs="}]}'
2025-02-10 03:11:14.049 DEBUG [tests.store.test_get_messages] Running test with content topic /app/22/sometopic/someencoding
2025-02-10 03:11:14.050 DEBUG [src.steps.store] Relaying message
2025-02-10 03:11:14.050 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:11488/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-10 03:11:14.055 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 03:11:14.055 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-10 03:11:14.256 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-10 03:11:14.256 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:11488/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F22%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-10 03:11:14.259 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x75219c834843f19f49d97a631b720137e82de30937c66f0031eb8793437d848f"}]}'
2025-02-10 03:11:14.260 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-10 03:11:14.260 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16386/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F22%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-10 03:11:14.265 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"af24050267195230ceae9a0d27cde37ba12b44f9cd7886757b2d7f1c72890894","status_code":200,"status_desc":"OK","messages":[{"message_hash":"dSGcg0hD8Z9J2XpjG3IBN+gt4wk3xm8AMeuHk0N9hI8="}]}'
2025-02-10 03:11:14.266 DEBUG [tests.store.test_get_messages] Running test with content topic /toychat/2/huilong/proto
2025-02-10 03:11:14.266 DEBUG [src.steps.store] Relaying message
2025-02-10 03:11:14.267 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:11488/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-10 03:11:14.272 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 03:11:14.272 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-10 03:11:14.472 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-10 03:11:14.473 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:11488/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Ftoychat%2F2%2Fhuilong%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-10 03:11:14.477 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xe18f7f669aeccc55e9f60bdd6b11cd4a9aaeb1b0dbaf5c574d4c0b3b81e85415"}]}'
2025-02-10 03:11:14.477 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-10 03:11:14.477 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16386/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Ftoychat%2F2%2Fhuilong%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-10 03:11:14.482 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"4cc1a0b0789a4f2165c913b61fee3dd4a273a92f9927a9847d82e4e5329dda99","status_code":200,"status_desc":"OK","messages":[{"message_hash":"4Y9/ZprszFXp9gvdaxHNSpqusbDbr1xXTUwLO4HoVBU="}]}'
2025-02-10 03:11:14.483 DEBUG [tests.store.test_get_messages] Running test with content topic /statusim/1/community/cbor
2025-02-10 03:11:14.484 DEBUG [src.steps.store] Relaying message
2025-02-10 03:11:14.484 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:11488/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-10 03:11:14.488 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 03:11:14.489 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-10 03:11:14.689 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-10 03:11:14.690 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:11488/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fstatusim%2F1%2Fcommunity%2Fcbor&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-10 03:11:14.693 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x7eda35eab8bcf6b308ef6b8f37a760053f128821a5d1c22534dce7634de5f088"}]}'
2025-02-10 03:11:14.694 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-10 03:11:14.694 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16386/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fstatusim%2F1%2Fcommunity%2Fcbor&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-10 03:11:14.699 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"6bef4074d978d3f58509e2ca2cffc2513f632f8c70857f54be16621f2d1d2ab1","status_code":200,"status_desc":"OK","messages":[{"message_hash":"fto16ri89rMI72uPN6dgBT8SiCGl0cIlNNznY03l8Ig="}]}'
2025-02-10 03:11:14.700 DEBUG [tests.store.test_get_messages] Running test with content topic /app/27/sometopic/someencoding
2025-02-10 03:11:14.700 DEBUG [src.steps.store] Relaying message
2025-02-10 03:11:14.701 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:11488/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-10 03:11:14.705 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 03:11:14.706 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-10 03:11:14.906 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-10 03:11:14.907 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:11488/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F27%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-10 03:11:14.910 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x32eab7ca37fac35d73e5d469fa7d6a483c03a0426a0758ae475ccd5c6c8d91c2"}]}'
2025-02-10 03:11:14.911 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-10 03:11:14.911 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16386/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F27%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-10 03:11:14.917 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"f8628aa94a2c8ce0328c095039c1ebd8e28df1d0a8794f0417aa564743a8c6df","status_code":200,"status_desc":"OK","messages":[{"message_hash":"Muq3yjf6w11z5dRp+n1qSDwDoEJqB1iuR1zNXGyNkcI="}]}'
2025-02-10 03:11:14.917 DEBUG [tests.store.test_get_messages] Running test with content topic /app/29/sometopic/someencoding
2025-02-10 03:11:14.918 DEBUG [src.steps.store] Relaying message
2025-02-10 03:11:14.918 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:11488/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-10 03:11:14.923 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 03:11:14.924 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-10 03:11:15.124 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-10 03:11:15.125 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:11488/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F29%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-10 03:11:15.129 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x7e7821392c8fe8b98bde491501f9e80d330c9ebbd0921d4bf2e05f5bf246e95a"}]}'
2025-02-10 03:11:15.129 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-10 03:11:15.129 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16386/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F29%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-10 03:11:15.134 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"800d6449ca39cb10ee9cab680dae1b8960c7a1ee00d58034e064672040d1fd3e","status_code":200,"status_desc":"OK","messages":[{"message_hash":"fnghOSyP6LmL3kkVAfnoDTMMnrvQkh1L8uBfW/JG6Vo="}]}'
2025-02-10 03:11:15.135 DEBUG [tests.store.test_get_messages] Running test with content topic /app/20/sometopic/someencoding
2025-02-10 03:11:15.136 DEBUG [src.steps.store] Relaying message
2025-02-10 03:11:15.136 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:11488/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-10 03:11:15.141 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-10 03:11:15.141 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-10 03:11:15.342 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-10 03:11:15.342 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:11488/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F20%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-10 03:11:15.346 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xdb9594e1f75c4cecc6b1f5d2389ae5d65299a3ecf4e8aaf9f0443a542746eea2"}]}'
2025-02-10 03:11:15.346 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-10 03:11:15.347 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16386/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F20%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-10 03:11:15.351 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"60e6ecb7ea6afec24a6dc31c38f9bdbc4e981d8952a0deecdbbe4cb1f188a3e0","status_code":200,"status_desc":"OK","messages":[{"message_hash":"25WU4fdcTOzGsfXSOJrl1lKZo+z06Kr58EQ6VCdG7qI="}]}'
2025-02-10 03:11:15.354 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-10 03:11:15.355 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-10 03:11:15.355 DEBUG [src.node.waku_node] Stopping container with id 2f9d0351495e
2025-02-10 03:11:16.591 DEBUG [src.node.waku_node] Container stopped.
2025-02-10 03:11:16.592 DEBUG [src.node.waku_node] Stopping container with id f9cd2d9ce251
2025-02-10 03:11:17.076 DEBUG [src.node.waku_node] Container stopped.
2025-02-10 03:11:17.078 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-10 03:11:17.088 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-10 03:11:17.091 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
