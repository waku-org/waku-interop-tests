[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2024-11-10_03-17-45__cd981aee-60af-4d2f-8288-a21bf589a442
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-10_03-17-45__cd981aee-60af-4d2f-8288-a21bf589a442__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.5.186
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['61771', '61772', '61773', '61774', '61775']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 61771:61771 -p 61772:61772 -p 61773:61773 -p 61774:61774 -p 61775:61775 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=61773 --rest-port=61771 --tcp-port=61772 --discv5-udp-port=61774 --rest-address=0.0.0.0 --nat=extip:172.18.5.186 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dfdf3ea07187c2dc9a49b9eaacda8fbc7feb8a772e7d5306695cbdd16d6bcc5c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=61775 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.5.186 waku cc10aa087fac1ffb64f7f1c8898c447fc883e616347e82ee29e0443628f000a6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID cc10aa087fac. Setting up logs at ./log/docker/node1_2024-11-10_03-17-45__cd981aee-60af-4d2f-8288-a21bf589a442__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 61771
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 4b7c0a3ce4f1. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61771/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61771/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.5.186/tcp/61772/p2p/16Uiu2HAmNTk4XoexLYseVvMcfLoWPbkY1EBVZam3dq2hDpuEkjiD","/ip4/172.18.5.186/tcp/61773/ws/p2p/16Uiu2HAmNTk4XoexLYseVvMcfLoWPbkY1EBVZam3dq2hDpuEkjiD"],"enrUri":"enr:-L24QKZpe1Z43dJ7BC4BJJEjaEvroAJx2thsf8IJLLOnSuwjDr9LGEXV38iivNHlgg4--4aIm0fT8_Md1SqT9EuBbjkCgmlkgnY0gmlwhKwSBbqKbXVsdGlhZGRyc5YACASsEgW6BvFMAAoErBIFugbxTd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDkbNS5crZQZYCSgQ8ybOtALhicBWM2nD62yC4HFnkygaDdGNwgvFMg3VkcILxToV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-10_03-17-45__cd981aee-60af-4d2f-8288-a21bf589a442__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.120.12
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['29280', '29281', '29282', '29283', '29284']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 29280:29280 -p 29281:29281 -p 29282:29282 -p 29283:29283 -p 29284:29284 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=29282 --rest-port=29280 --tcp-port=29281 --discv5-udp-port=29283 --rest-address=0.0.0.0 --nat=extip:172.18.120.12 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f0efeaccd3aa2f1fdd8eecbbf76b5b2aacafb72d43e8cabcbae7dddde42753e5 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-L24QKZpe1Z43dJ7BC4BJJEjaEvroAJx2thsf8IJLLOnSuwjDr9LGEXV38iivNHlgg4--4aIm0fT8_Md1SqT9EuBbjkCgmlkgnY0gmlwhKwSBbqKbXVsdGlhZGRyc5YACASsEgW6BvFMAAoErBIFugbxTd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDkbNS5crZQZYCSgQ8ybOtALhicBWM2nD62yC4HFnkygaDdGNwgvFMg3VkcILxToV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.120.12 waku 22ebdd4887b8e0fdd023dd34725fe48c24788e6462b00ccdec34b3620e96add9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 22ebdd4887b8. Setting up logs at ./log/docker/node2_2024-11-10_03-17-45__cd981aee-60af-4d2f-8288-a21bf589a442__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 29280
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29280/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QOAgZuojDrleDlPaMc9ICuK4vX8fBtkjX2_yqalxT5OFFuzEDLpjW05mx98s_S-y28VSRu-OU59xp59rTmbWEyuGAZMUE-LIgmlkgnY0gmlwhKwRAAuJc2VjcDI1NmsxoQIchUqyhWk6H35eUo4IkhS7c93XlWpvJjgk1tK6LD4YNYN0Y3CCcmGDdWRwgnJjhXdha3UyAQ","listenAddresses":["/ip4/127.0.0.1/tcp/29281/p2p/16Uiu2HAkwM1HAPeLRJ2ne59iUbR52VeU2WFLX97m5QGoW39EJA7W","/ip4/127.0.0.1/tcp/29282/ws/p2p/16Uiu2HAkwM1HAPeLRJ2ne59iUbR52VeU2WFLX97m5QGoW39EJA7W","/ip4/172.17.0.11/tcp/29281/p2p/16Uiu2HAkwM1HAPeLRJ2ne59iUbR52VeU2WFLX97m5QGoW39EJA7W","/ip4/172.17.0.11/tcp/29282/ws/p2p/16Uiu2HAkwM1HAPeLRJ2ne59iUbR52VeU2WFLX97m5QGoW39EJA7W"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29280/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.5.186/tcp/61772/p2p/16Uiu2HAmNTk4XoexLYseVvMcfLoWPbkY1EBVZam3dq2hDpuEkjiD", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-10_03-17-45__cd981aee-60af-4d2f-8288-a21bf589a442__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.119.215
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['25499', '25500', '25501', '25502', '25503']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 25499:25499 -p 25500:25500 -p 25501:25501 -p 25502:25502 -p 25503:25503 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=25501 --rest-port=25499 --tcp-port=25500 --discv5-udp-port=25502 --rest-address=0.0.0.0 --nat=extip:172.18.119.215 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1e09f24fdc91b3cadcb6540c2eeb9f1d6c6c1dafead8e903b59ae8c4bb0cda21 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=25503 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QKZpe1Z43dJ7BC4BJJEjaEvroAJx2thsf8IJLLOnSuwjDr9LGEXV38iivNHlgg4--4aIm0fT8_Md1SqT9EuBbjkCgmlkgnY0gmlwhKwSBbqKbXVsdGlhZGRyc5YACASsEgW6BvFMAAoErBIFugbxTd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDkbNS5crZQZYCSgQ8ybOtALhicBWM2nD62yC4HFnkygaDdGNwgvFMg3VkcILxToV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.119.215 waku 29b337c57ba31a19df0cc980bdc166bb6821566ed52f574f4c765f7e6196636b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 29b337c57ba3. Setting up logs at ./log/docker/node3_2024-11-10_03-17-45__cd981aee-60af-4d2f-8288-a21bf589a442__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 25499
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25499/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25499/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.119.215/tcp/25500/p2p/16Uiu2HAmEs3j42vXeXZcTurJdV5DZdGYiUE87Px6kAE5Pg7GSegk","/ip4/172.18.119.215/tcp/25501/ws/p2p/16Uiu2HAmEs3j42vXeXZcTurJdV5DZdGYiUE87Px6kAE5Pg7GSegk"],"enrUri":"enr:-L24QE4eTiYchNEVGmMgXSXlNJhEk4K4KFrCDN5qHIOmudk2Fk05TyGY8eA-PsHNWmf_5iWWU7QESezuUSotxFd2OK8CgmlkgnY0gmlwhKwSd9eKbXVsdGlhZGRyc5YACASsEnfXBmOcAAoErBJ31wZjnd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDIM4o8hwy3l8croVcJX5d1eeTYARta4_R6Voi15C7n42DdGNwgmOcg3VkcIJjnoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:25499/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.5.186/tcp/61772/p2p/16Uiu2HAmNTk4XoexLYseVvMcfLoWPbkY1EBVZam3dq2hDpuEkjiD"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-10_03-17-45__cd981aee-60af-4d2f-8288-a21bf589a442__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.219.180
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['52358', '52359', '52360', '52361', '52362']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 52358:52358 -p 52359:52359 -p 52360:52360 -p 52361:52361 -p 52362:52362 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=52360 --rest-port=52358 --tcp-port=52359 --discv5-udp-port=52361 --rest-address=0.0.0.0 --nat=extip:172.18.219.180 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2e7ffe7e47d499f1b58f0d34bd2d94330ee8be558dcef615f581bd3ae0d22914 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-L24QKZpe1Z43dJ7BC4BJJEjaEvroAJx2thsf8IJLLOnSuwjDr9LGEXV38iivNHlgg4--4aIm0fT8_Md1SqT9EuBbjkCgmlkgnY0gmlwhKwSBbqKbXVsdGlhZGRyc5YACASsEgW6BvFMAAoErBIFugbxTd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDkbNS5crZQZYCSgQ8ybOtALhicBWM2nD62yC4HFnkygaDdGNwgvFMg3VkcILxToV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.219.180 waku 29adf7e431163402df9fa936f3e783bf6b621497de3cf3e90a6ee616d97bfa0d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 29adf7e43116. Setting up logs at ./log/docker/node4_2024-11-10_03-17-45__cd981aee-60af-4d2f-8288-a21bf589a442__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 52358
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52358/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QMVDTuW3jDkY3_A2ZLnq_8O58tJOJ4d4RS5GIHYTjNncDraaXZPDH4mfgSgo7a-XTcBCJQcvy6cv1_v3UeBpIwSGAZMUE-_BgmlkgnY0gmlwhKwRAA6Jc2VjcDI1NmsxoQMM5o_8EfKNZcWPK4oFOd-MvJM9SjUt3bA4WBfWxM1JfIN0Y3CCzIeDdWRwgsyJhXdha3UyAQ","listenAddresses":["/ip4/127.0.0.1/tcp/52359/p2p/16Uiu2HAmDXM9rwHtBC6h6BioukrEREoTyw61QwQJPAeZiNEFSH7y","/ip4/127.0.0.1/tcp/52360/ws/p2p/16Uiu2HAmDXM9rwHtBC6h6BioukrEREoTyw61QwQJPAeZiNEFSH7y","/ip4/172.17.0.14/tcp/52359/p2p/16Uiu2HAmDXM9rwHtBC6h6BioukrEREoTyw61QwQJPAeZiNEFSH7y","/ip4/172.17.0.14/tcp/52360/ws/p2p/16Uiu2HAmDXM9rwHtBC6h6BioukrEREoTyw61QwQJPAeZiNEFSH7y"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52358/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.5.186/tcp/61772/p2p/16Uiu2HAmNTk4XoexLYseVvMcfLoWPbkY1EBVZam3dq2hDpuEkjiD", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-10_03-17-45__cd981aee-60af-4d2f-8288-a21bf589a442__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.107.169
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['15171', '15172', '15173', '15174', '15175']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 15171:15171 -p 15172:15172 -p 15173:15173 -p 15174:15174 -p 15175:15175 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=15173 --rest-port=15171 --tcp-port=15172 --discv5-udp-port=15174 --rest-address=0.0.0.0 --nat=extip:172.18.107.169 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ccc036e9d1f7c689cc5cce7f7ae3d61fe13538cab57828752fda3b5c8b51ecb5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=15175 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QKZpe1Z43dJ7BC4BJJEjaEvroAJx2thsf8IJLLOnSuwjDr9LGEXV38iivNHlgg4--4aIm0fT8_Md1SqT9EuBbjkCgmlkgnY0gmlwhKwSBbqKbXVsdGlhZGRyc5YACASsEgW6BvFMAAoErBIFugbxTd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDkbNS5crZQZYCSgQ8ybOtALhicBWM2nD62yC4HFnkygaDdGNwgvFMg3VkcILxToV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.107.169 waku 36d1ad4ffa21bcf7526a96aa345bf67697ec46618bacda0f2c6c96382373ab84
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 36d1ad4ffa21. Setting up logs at ./log/docker/node5_2024-11-10_03-17-45__cd981aee-60af-4d2f-8288-a21bf589a442__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 15171
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15171/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15171/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.107.169/tcp/15172/p2p/16Uiu2HAm83xviwK8uYwpLHPMxURrF6d3nkmG7FiZkJjEkB21L6CG","/ip4/172.18.107.169/tcp/15173/ws/p2p/16Uiu2HAm83xviwK8uYwpLHPMxURrF6d3nkmG7FiZkJjEkB21L6CG"],"enrUri":"enr:-L24QA7k8BfXOfXvE2VVEXzn44oH6PMojQHXdsPTrParmVY7WbrZDBOaQub16APVLQ8IGyByd43dX3MF6PCx877U7HQCgmlkgnY0gmlwhKwSa6mKbXVsdGlhZGRyc5YACASsEmupBjtEAAoErBJrqQY7Rd0DgnJzhQADAQAAiXNlY3AyNTZrMaECu5hQef-jU4yXNhbuyYgEzY5VOFOepj4KhjoIiFu8GdmDdGNwgjtEg3VkcII7RoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15171/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.5.186/tcp/61772/p2p/16Uiu2HAmNTk4XoexLYseVvMcfLoWPbkY1EBVZam3dq2hDpuEkjiD"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61771/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29280/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:25499/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52358/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15171/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61771/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61771/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731208673796203264,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29280/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731208673796203264,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25499/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731208673796203264,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52358/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731208673796203264,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15171/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731208673796203264,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15171/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61771/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731208673929000448,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29280/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731208673929000448,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25499/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731208673929000448,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52358/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731208673929000448,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15171/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731208673929000448,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id cc10aa087fac
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 22ebdd4887b8
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container cc10aa087fac. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 29b337c57ba3
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 22ebdd4887b8. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 29adf7e43116
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 29b337c57ba3. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 36d1ad4ffa21
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 29adf7e43116. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.