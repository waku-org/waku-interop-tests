2025-02-08 03:04:28.464 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-08 03:04:28.465 DEBUG [tests.conftest] Running test: test_light_push_with_valid_content_topics with id: 2025-02-08_03-04-28__9c7f12b3-82f2-46e6-a3e1-3c97327d0bb7
2025-02-08 03:04:28.465 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-08 03:04:28.465 DEBUG [src.steps.light_push] Running fixture setup: light_push_setup
2025-02-08 03:04:28.471 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-08 03:04:28.471 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node1_2025-02-08_03-04-28__9c7f12b3-82f2-46e6-a3e1-3c97327d0bb7__wakuorg_nwaku:latest.log
2025-02-08 03:04:28.471 DEBUG [src.node.waku_node] Starting Node...
2025-02-08 03:04:28.471 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-08 03:04:28.473 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-08 03:04:28.473 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.137.186
2025-02-08 03:04:28.473 DEBUG [src.node.docker_mananger] Generated ports ['42851', '42852', '42853', '42854', '42855']
2025-02-08 03:04:28.473 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-08 03:04:28.473 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-08 03:04:28.474 DEBUG [src.node.waku_node] Using volumes []
2025-02-08 03:04:28.474 DEBUG [src.node.docker_mananger] docker run -i -t -p 42851:42851 -p 42852:42852 -p 42853:42853 -p 42854:42854 -p 42855:42855 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=42853 --rest-port=42851 --tcp-port=42852 --discv5-udp-port=42854 --rest-address=0.0.0.0 --nat=extip:172.18.137.186 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9e71ccf8aabf8c30df5ffaf8512b36f4ea9bd4c520ac8cfec05bdfd8ee805d9d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=42855 --metrics-logging=true --lightpush=true --relay=true
2025-02-08 03:04:28.687 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.137.186 waku a0dc1bdf7e385931e00fa2469497b3591d8a7de66b21a6e7cd3b32514ebb3f8c
2025-02-08 03:04:28.738 DEBUG [src.node.docker_mananger] Container started with ID a0dc1bdf7e38. Setting up logs at ./log/docker/receiving_node1_2025-02-08_03-04-28__9c7f12b3-82f2-46e6-a3e1-3c97327d0bb7__wakuorg_nwaku:latest.log
2025-02-08 03:04:28.740 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 42851
2025-02-08 03:04:28.740 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-08 03:04:28.768 ERROR [src.node.docker_mananger] Max retries reached for container e4b03afe4044. Exiting log stream.
2025-02-08 03:04:29.265 ERROR [src.node.docker_mananger] Max retries reached for container 396f4905ec89. Exiting log stream.
2025-02-08 03:04:29.741 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42851/health" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:29.743 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-08 03:04:29.744 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-08 03:04:29.744 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42851/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:29.746 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.137.186/tcp/42852/p2p/16Uiu2HAm27odbuKmS97pduLfJqU3ei7rxsjewwvgpYXtcbw8CCqs","/ip4/172.18.137.186/tcp/42853/ws/p2p/16Uiu2HAm27odbuKmS97pduLfJqU3ei7rxsjewwvgpYXtcbw8CCqs"],"enrUri":"enr:-L24QHBJiiLA-fS_cSFsH0qb2Cb48Kou7TsWMM9MKCt0lagjfmr52xLatNLvfnzO61b9ps8lM4UfFjyaaKEgXUz3Fq0CgmlkgnY0gmlwhKwSibqKbXVsdGlhZGRyc5YACASsEom6BqdkAAoErBKJuganZd0DgnJzhQADAQAAiXNlY3AyNTZrMaECY24BhJ2x15aGrqYozrMDh9eFyFI4SCUccIQNT2g8bYaDdGNwgqdkg3VkcIKnZoV3YWt1Mgk"}'
2025-02-08 03:04:29.746 INFO [src.node.waku_node] REST service is ready !!
2025-02-08 03:04:29.752 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-08 03:04:29.752 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node2_2025-02-08_03-04-28__9c7f12b3-82f2-46e6-a3e1-3c97327d0bb7__wakuorg_nwaku:latest.log
2025-02-08 03:04:29.753 DEBUG [src.node.waku_node] Starting Node...
2025-02-08 03:04:29.753 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-08 03:04:29.754 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-08 03:04:29.754 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.5.253
2025-02-08 03:04:29.754 DEBUG [src.node.docker_mananger] Generated ports ['42622', '42623', '42624', '42625', '42626']
2025-02-08 03:04:29.754 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-08 03:04:29.754 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-08 03:04:29.754 DEBUG [src.node.waku_node] Using volumes []
2025-02-08 03:04:29.755 DEBUG [src.node.docker_mananger] docker run -i -t -p 42622:42622 -p 42623:42623 -p 42624:42624 -p 42625:42625 -p 42626:42626 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=42624 --rest-port=42622 --tcp-port=42623 --discv5-udp-port=42625 --rest-address=0.0.0.0 --nat=extip:172.18.5.253 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c0e0c4e2cfd7f4a42e52ad0aece2a1d5caadebbdf153713fa3bf5cb4f7ac7798 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=42626 --metrics-logging=true --lightpush=false --relay=true
2025-02-08 03:04:29.979 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.5.253 waku 51a5892ba28acb0d5ab05fcae79fdbbfd894fb4b3e620550fc00424397cc8207
2025-02-08 03:04:30.031 DEBUG [src.node.docker_mananger] Container started with ID 51a5892ba28a. Setting up logs at ./log/docker/receiving_node2_2025-02-08_03-04-28__9c7f12b3-82f2-46e6-a3e1-3c97327d0bb7__wakuorg_nwaku:latest.log
2025-02-08 03:04:30.032 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 42622
2025-02-08 03:04:30.032 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-08 03:04:31.032 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42622/health" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:31.035 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-08 03:04:31.035 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-08 03:04:31.035 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42622/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:31.037 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.5.253/tcp/42623/p2p/16Uiu2HAmVcWV5RTnTWcW2Scho3Ydc7ZFt3cjvFW5d6eVkkNNBq4T","/ip4/172.18.5.253/tcp/42624/ws/p2p/16Uiu2HAmVcWV5RTnTWcW2Scho3Ydc7ZFt3cjvFW5d6eVkkNNBq4T"],"enrUri":"enr:-L24QEawae0p2Jh4UfXXeKtOm5HK5Ww8Zkm6ByYf17y3P-1QZNarrOPkLc_TY0FmzLnpqHp1BSFRSCl9FLp5CGmljsICgmlkgnY0gmlwhKwSBf2KbXVsdGlhZGRyc5YACASsEgX9BqZ_AAoErBIF_QamgN0DgnJzhQADAQAAiXNlY3AyNTZrMaED-_QCG_S7lxsXIyXQGbCG8zHnjVsINESh6TU_rW4tV8iDdGNwgqZ_g3VkcIKmgYV3YWt1MgE"}'
2025-02-08 03:04:31.037 INFO [src.node.waku_node] REST service is ready !!
2025-02-08 03:04:31.038 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:42622/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.137.186/tcp/42852/p2p/16Uiu2HAm27odbuKmS97pduLfJqU3ei7rxsjewwvgpYXtcbw8CCqs"]'
2025-02-08 03:04:31.078 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 03:04:31.085 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-08 03:04:31.085 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/lightpush_node1_2025-02-08_03-04-28__9c7f12b3-82f2-46e6-a3e1-3c97327d0bb7__wakuorg_go-waku:latest.log
2025-02-08 03:04:31.086 DEBUG [src.node.waku_node] Starting Node...
2025-02-08 03:04:31.086 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-08 03:04:31.087 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-08 03:04:31.087 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.118.61
2025-02-08 03:04:31.087 DEBUG [src.node.docker_mananger] Generated ports ['45605', '45606', '45607', '45608', '45609']
2025-02-08 03:04:31.088 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-08 03:04:31.088 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-08 03:04:31.088 DEBUG [src.node.waku_node] Using volumes []
2025-02-08 03:04:31.088 DEBUG [src.node.docker_mananger] docker run -i -t -p 45605:45605 -p 45606:45606 -p 45607:45607 -p 45608:45608 -p 45609:45609 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=45607 --rest-port=45605 --tcp-port=45606 --discv5-udp-port=45608 --rest-address=0.0.0.0 --nat=extip:172.18.118.61 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0260e3c7daee6bc59da5ddacaf0ce14c1dacffee88fe7920dc1e1fb02fe82dba --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-L24QHBJiiLA-fS_cSFsH0qb2Cb48Kou7TsWMM9MKCt0lagjfmr52xLatNLvfnzO61b9ps8lM4UfFjyaaKEgXUz3Fq0CgmlkgnY0gmlwhKwSibqKbXVsdGlhZGRyc5YACASsEom6BqdkAAoErBKJuganZd0DgnJzhQADAQAAiXNlY3AyNTZrMaECY24BhJ2x15aGrqYozrMDh9eFyFI4SCUccIQNT2g8bYaDdGNwgqdkg3VkcIKnZoV3YWt1Mgk --lightpushnode=/ip4/172.18.137.186/tcp/42852/p2p/16Uiu2HAm27odbuKmS97pduLfJqU3ei7rxsjewwvgpYXtcbw8CCqs --lightpush=true --relay=false --pubsub-topic=/waku/2/rs/3/1
2025-02-08 03:04:31.326 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.118.61 waku 63a21eec19e6b414fa2e0c4f8eb682418ee2c247fa1362947922206324caacaa
2025-02-08 03:04:31.382 DEBUG [src.node.docker_mananger] Container started with ID 63a21eec19e6. Setting up logs at ./log/docker/lightpush_node1_2025-02-08_03-04-28__9c7f12b3-82f2-46e6-a3e1-3c97327d0bb7__wakuorg_go-waku:latest.log
2025-02-08 03:04:31.383 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 45605
2025-02-08 03:04:31.383 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-08 03:04:32.384 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45605/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:32.386 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QMwHaMbngyTqCTa1jYxDFk71Og3nzEHLBLn_eLTbbdaqBiQhbeDE0gMkN_4jhgbtHEy5lMQ_m9r_nlIEggJmS4KGAZTjhBOOgmlkgnY0gmlwhKwRAASCcnOFAAMBAAGJc2VjcDI1NmsxoQNda74dvjgR91QQHbMQF3zXF3JE28wC2LfXGq6P4g_v24N0Y3CCsiaDdWRwgrIohXdha3UyCA","listenAddresses":["/ip4/127.0.0.1/tcp/45606/p2p/16Uiu2HAmJwfZ886YozgJq7FShRsFENamp8wRFvXMQMxz2rtYTjdk","/ip4/127.0.0.1/tcp/45607/ws/p2p/16Uiu2HAmJwfZ886YozgJq7FShRsFENamp8wRFvXMQMxz2rtYTjdk","/ip4/172.17.0.4/tcp/45606/p2p/16Uiu2HAmJwfZ886YozgJq7FShRsFENamp8wRFvXMQMxz2rtYTjdk","/ip4/172.17.0.4/tcp/45607/ws/p2p/16Uiu2HAmJwfZ886YozgJq7FShRsFENamp8wRFvXMQMxz2rtYTjdk"]}'
2025-02-08 03:04:32.386 INFO [src.node.waku_node] REST service is ready !!
2025-02-08 03:04:32.386 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45605/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.137.186/tcp/42852/p2p/16Uiu2HAm27odbuKmS97pduLfJqU3ei7rxsjewwvgpYXtcbw8CCqs", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-08 03:04:32.388 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-08 03:04:32.389 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45605/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.5.253/tcp/42623/p2p/16Uiu2HAmVcWV5RTnTWcW2Scho3Ydc7ZFt3cjvFW5d6eVkkNNBq4T", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-08 03:04:32.404 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-08 03:04:32.405 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:42851/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-08 03:04:32.411 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 03:04:32.411 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:42622/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-08 03:04:32.416 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 03:04:32.418 DEBUG [tests.light_push.test_publish] Running test with content topic A simple string
2025-02-08 03:04:32.418 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 03:04:32.418 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45605/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "Hello World!", "timestamp": 1738983872418514944}}'
2025-02-08 03:04:32.424 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-08 03:04:32.425 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 03:04:32.525 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:32.526 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42851/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:32.528 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Hello World!","version":0,"timestamp":1738983872418514944,"ephemeral":false}]'
2025-02-08 03:04:32.529 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:32.529 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42622/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:32.532 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Hello World!","version":0,"timestamp":1738983872418514944,"ephemeral":false}]'
2025-02-08 03:04:32.533 DEBUG [tests.light_push.test_publish] Running test with content topic An integer
2025-02-08 03:04:32.533 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 03:04:32.534 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45605/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "1234567890", "timestamp": 1738983872533672960}}'
2025-02-08 03:04:32.540 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-08 03:04:32.541 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 03:04:32.641 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:32.641 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42851/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:32.644 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"1234567890","version":0,"timestamp":1738983872533672960,"ephemeral":false}]'
2025-02-08 03:04:32.645 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:32.645 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42622/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:32.647 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"1234567890","version":0,"timestamp":1738983872533672960,"ephemeral":false}]'
2025-02-08 03:04:32.649 DEBUG [tests.light_push.test_publish] Running test with content topic A dictionary
2025-02-08 03:04:32.649 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 03:04:32.649 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45605/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "{\"key\": \"value\"}", "timestamp": 1738983872649420544}}'
2025-02-08 03:04:32.655 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-08 03:04:32.657 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 03:04:32.757 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:32.757 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42851/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:32.760 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"{\\"key\\": \\"value\\"}","version":0,"timestamp":1738983872649420544,"ephemeral":false}]'
2025-02-08 03:04:32.761 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:32.761 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42622/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:32.763 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"{\\"key\\": \\"value\\"}","version":0,"timestamp":1738983872649420544,"ephemeral":false}]'
2025-02-08 03:04:32.765 DEBUG [tests.light_push.test_publish] Running test with content topic Chinese characters
2025-02-08 03:04:32.765 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 03:04:32.765 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45605/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "\u8fd9\u662f\u4e00\u4e9b\u4e2d\u6587", "timestamp": 1738983872765247744}}'
2025-02-08 03:04:32.771 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-08 03:04:32.773 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 03:04:32.873 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:32.874 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42851/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:32.876 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xe8\xbf\x99\xe6\x98\xaf\xe4\xb8\x80\xe4\xba\x9b\xe4\xb8\xad\xe6\x96\x87","version":0,"timestamp":1738983872765247744,"ephemeral":false}]'
2025-02-08 03:04:32.877 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:32.877 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42622/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:32.879 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xe8\xbf\x99\xe6\x98\xaf\xe4\xb8\x80\xe4\xba\x9b\xe4\xb8\xad\xe6\x96\x87","version":0,"timestamp":1738983872765247744,"ephemeral":false}]'
2025-02-08 03:04:32.881 DEBUG [tests.light_push.test_publish] Running test with content topic Emojis
2025-02-08 03:04:32.881 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 03:04:32.881 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45605/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "\ud83d\ude80\ud83c\udf1f\u2728", "timestamp": 1738983872881409024}}'
2025-02-08 03:04:32.888 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-08 03:04:32.888 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 03:04:32.989 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:32.990 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42851/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:32.992 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xf0\x9f\x9a\x80\xf0\x9f\x8c\x9f\xe2\x9c\xa8","version":0,"timestamp":1738983872881409024,"ephemeral":false}]'
2025-02-08 03:04:32.994 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:32.994 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42622/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:32.996 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xf0\x9f\x9a\x80\xf0\x9f\x8c\x9f\xe2\x9c\xa8","version":0,"timestamp":1738983872881409024,"ephemeral":false}]'
2025-02-08 03:04:32.997 DEBUG [tests.light_push.test_publish] Running test with content topic Lorem ipsum text
2025-02-08 03:04:32.998 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 03:04:32.998 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45605/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "Lorem ipsum dolor sit amet", "timestamp": 1738983872997787648}}'
2025-02-08 03:04:33.003 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-08 03:04:33.004 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 03:04:33.105 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:33.105 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42851/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:33.107 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Lorem ipsum dolor sit amet","version":0,"timestamp":1738983872997787648,"ephemeral":false}]'
2025-02-08 03:04:33.109 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:33.109 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42622/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:33.111 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Lorem ipsum dolor sit amet","version":0,"timestamp":1738983872997787648,"ephemeral":false}]'
2025-02-08 03:04:33.112 DEBUG [tests.light_push.test_publish] Running test with content topic HTML content
2025-02-08 03:04:33.113 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 03:04:33.113 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45605/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "<html><body>Hello</body></html>", "timestamp": 1738983873112893440}}'
2025-02-08 03:04:33.119 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-08 03:04:33.120 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 03:04:33.221 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:33.221 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42851/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:33.223 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"<html><body>Hello</body></html>","version":0,"timestamp":1738983873112893440,"ephemeral":false}]'
2025-02-08 03:04:33.225 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:33.225 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42622/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:33.227 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"<html><body>Hello</body></html>","version":0,"timestamp":1738983873112893440,"ephemeral":false}]'
2025-02-08 03:04:33.228 DEBUG [tests.light_push.test_publish] Running test with content topic Cyrillic characters
2025-02-08 03:04:33.228 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 03:04:33.228 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45605/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "\u041f\u0440\u0438\u0432\u0435\u0442", "timestamp": 1738983873228623360}}'
2025-02-08 03:04:33.233 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-08 03:04:33.235 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 03:04:33.336 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:33.337 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42851/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:33.339 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xd0\x9f\xd1\x80\xd0\xb8\xd0\xb2\xd0\xb5\xd1\x82","version":0,"timestamp":1738983873228623360,"ephemeral":false}]'
2025-02-08 03:04:33.340 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:33.341 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42622/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:33.343 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xd0\x9f\xd1\x80\xd0\xb8\xd0\xb2\xd0\xb5\xd1\x82","version":0,"timestamp":1738983873228623360,"ephemeral":false}]'
2025-02-08 03:04:33.344 DEBUG [tests.light_push.test_publish] Running test with content topic Base64 encoded string
2025-02-08 03:04:33.344 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 03:04:33.345 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45605/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "Base64==dGVzdA==", "timestamp": 1738983873344722944}}'
2025-02-08 03:04:33.350 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-08 03:04:33.352 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 03:04:33.452 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:33.453 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42851/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:33.455 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Base64==dGVzdA==","version":0,"timestamp":1738983873344722944,"ephemeral":false}]'
2025-02-08 03:04:33.456 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:33.456 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42622/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:33.458 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Base64==dGVzdA==","version":0,"timestamp":1738983873344722944,"ephemeral":false}]'
2025-02-08 03:04:33.460 DEBUG [tests.light_push.test_publish] Running test with content topic Binary data
2025-02-08 03:04:33.460 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 03:04:33.460 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45605/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "d29ya2luZyB3aXRoIGJpbmFyeSBkYXRh: PQ", "timestamp": 1738983873460338944}}'
2025-02-08 03:04:33.469 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-08 03:04:33.469 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 03:04:33.569 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:33.570 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42851/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:33.572 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"d29ya2luZyB3aXRoIGJpbmFyeSBkYXRh: PQ","version":0,"timestamp":1738983873460338944,"ephemeral":false}]'
2025-02-08 03:04:33.574 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:33.574 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42622/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:33.576 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"d29ya2luZyB3aXRoIGJpbmFyeSBkYXRh: PQ","version":0,"timestamp":1738983873460338944,"ephemeral":false}]'
2025-02-08 03:04:33.578 DEBUG [tests.light_push.test_publish] Running test with content topic Special characters with whitespace
2025-02-08 03:04:33.578 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 03:04:33.578 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45605/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "\t\nSpecial\tCharacters\n", "timestamp": 1738983873578333184}}'
2025-02-08 03:04:33.584 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-08 03:04:33.586 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 03:04:33.686 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:33.686 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42851/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:33.688 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\\t\\nSpecial\\tCharacters\\n","version":0,"timestamp":1738983873578333184,"ephemeral":false}]'
2025-02-08 03:04:33.690 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:33.690 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42622/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:33.692 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\\t\\nSpecial\\tCharacters\\n","version":0,"timestamp":1738983873578333184,"ephemeral":false}]'
2025-02-08 03:04:33.693 DEBUG [tests.light_push.test_publish] Running test with content topic Boolean false as a string
2025-02-08 03:04:33.694 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 03:04:33.694 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45605/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "False", "timestamp": 1738983873693981440}}'
2025-02-08 03:04:33.700 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-08 03:04:33.701 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 03:04:33.802 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:33.802 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42851/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:33.804 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"False","version":0,"timestamp":1738983873693981440,"ephemeral":false}]'
2025-02-08 03:04:33.806 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:33.806 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42622/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:33.808 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"False","version":0,"timestamp":1738983873693981440,"ephemeral":false}]'
2025-02-08 03:04:33.809 DEBUG [tests.light_push.test_publish] Running test with content topic A float number
2025-02-08 03:04:33.809 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 03:04:33.810 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45605/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "3.1415926535", "timestamp": 1738983873809728768}}'
2025-02-08 03:04:33.816 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-08 03:04:33.817 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 03:04:33.917 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:33.917 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42851/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:33.920 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"3.1415926535","version":0,"timestamp":1738983873809728768,"ephemeral":false}]'
2025-02-08 03:04:33.921 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:33.921 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42622/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:33.923 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"3.1415926535","version":0,"timestamp":1738983873809728768,"ephemeral":false}]'
2025-02-08 03:04:33.925 DEBUG [tests.light_push.test_publish] Running test with content topic A list
2025-02-08 03:04:33.925 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 03:04:33.925 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45605/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "[1, 2, 3, 4, 5]", "timestamp": 1738983873925469184}}'
2025-02-08 03:04:33.932 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-08 03:04:33.932 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 03:04:34.033 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:34.033 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42851/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:34.035 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"[1, 2, 3, 4, 5]","version":0,"timestamp":1738983873925469184,"ephemeral":false}]'
2025-02-08 03:04:34.037 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:34.037 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42622/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:34.039 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"[1, 2, 3, 4, 5]","version":0,"timestamp":1738983873925469184,"ephemeral":false}]'
2025-02-08 03:04:34.040 DEBUG [tests.light_push.test_publish] Running test with content topic Hexadecimal number as a string
2025-02-08 03:04:34.041 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 03:04:34.041 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45605/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "0xDEADBEEF", "timestamp": 1738983874041194752}}'
2025-02-08 03:04:34.047 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-08 03:04:34.047 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 03:04:34.148 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:34.148 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42851/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:34.150 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"0xDEADBEEF","version":0,"timestamp":1738983874041194752,"ephemeral":false}]'
2025-02-08 03:04:34.152 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:34.152 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42622/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:34.154 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"0xDEADBEEF","version":0,"timestamp":1738983874041194752,"ephemeral":false}]'
2025-02-08 03:04:34.155 DEBUG [tests.light_push.test_publish] Running test with content topic Email format
2025-02-08 03:04:34.156 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 03:04:34.156 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45605/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "user@example.com", "timestamp": 1738983874155864832}}'
2025-02-08 03:04:34.162 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-08 03:04:34.163 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 03:04:34.263 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:34.263 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42851/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:34.266 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"user@example.com","version":0,"timestamp":1738983874155864832,"ephemeral":false}]'
2025-02-08 03:04:34.267 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:34.267 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42622/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:34.269 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"user@example.com","version":0,"timestamp":1738983874155864832,"ephemeral":false}]'
2025-02-08 03:04:34.271 DEBUG [tests.light_push.test_publish] Running test with content topic URL format
2025-02-08 03:04:34.271 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 03:04:34.271 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45605/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "http://example.com", "timestamp": 1738983874271241984}}'
2025-02-08 03:04:34.277 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-08 03:04:34.278 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 03:04:34.378 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:34.379 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42851/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:34.381 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"http://example.com","version":0,"timestamp":1738983874271241984,"ephemeral":false}]'
2025-02-08 03:04:34.382 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:34.382 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42622/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:34.385 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"http://example.com","version":0,"timestamp":1738983874271241984,"ephemeral":false}]'
2025-02-08 03:04:34.386 DEBUG [tests.light_push.test_publish] Running test with content topic Date and time in ISO format
2025-02-08 03:04:34.386 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 03:04:34.386 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45605/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "2023-11-01T12:00:00Z", "timestamp": 1738983874386524672}}'
2025-02-08 03:04:34.392 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-08 03:04:34.394 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 03:04:34.495 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:34.495 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42851/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:34.497 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"2023-11-01T12:00:00Z","version":0,"timestamp":1738983874386524672,"ephemeral":false}]'
2025-02-08 03:04:34.498 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:34.498 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42622/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:34.501 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"2023-11-01T12:00:00Z","version":0,"timestamp":1738983874386524672,"ephemeral":false}]'
2025-02-08 03:04:34.502 DEBUG [tests.light_push.test_publish] Running test with content topic String with escaped quotes
2025-02-08 03:04:34.502 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 03:04:34.502 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45605/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "\"Escaped\" \\\"quotes\\\"", "timestamp": 1738983874502583808}}'
2025-02-08 03:04:34.508 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-08 03:04:34.509 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 03:04:34.610 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:34.610 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42851/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:34.613 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\\"Escaped\\" \\\\\\"quotes\\\\\\"","version":0,"timestamp":1738983874502583808,"ephemeral":false}]'
2025-02-08 03:04:34.614 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:34.614 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42622/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:34.616 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\\"Escaped\\" \\\\\\"quotes\\\\\\"","version":0,"timestamp":1738983874502583808,"ephemeral":false}]'
2025-02-08 03:04:34.617 DEBUG [tests.light_push.test_publish] Running test with content topic A regular expression
2025-02-08 03:04:34.618 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 03:04:34.618 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45605/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "Regular expression: ^[a-z0-9_-]{3,16}$", "timestamp": 1738983874618131968}}'
2025-02-08 03:04:34.626 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-08 03:04:34.626 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 03:04:34.727 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:34.727 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42851/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:34.729 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Regular expression: ^[a-z0-9_-]{3,16}$","version":0,"timestamp":1738983874618131968,"ephemeral":false}]'
2025-02-08 03:04:34.731 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:34.731 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42622/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:34.733 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Regular expression: ^[a-z0-9_-]{3,16}$","version":0,"timestamp":1738983874618131968,"ephemeral":false}]'
2025-02-08 03:04:34.734 DEBUG [tests.light_push.test_publish] Running test with content topic A very long string
2025-02-08 03:04:34.735 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 03:04:34.735 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45605/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx", "timestamp": 1738983874734935040}}'
2025-02-08 03:04:34.742 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-08 03:04:34.743 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 03:04:34.844 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:34.844 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42851/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:34.846 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx","version":0,"timestamp":1738983874734935040,"ephemeral":false}]'
2025-02-08 03:04:34.848 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:34.848 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42622/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:34.851 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx","version":0,"timestamp":1738983874734935040,"ephemeral":false}]'
2025-02-08 03:04:34.852 DEBUG [tests.light_push.test_publish] Running test with content topic A JSON string
2025-02-08 03:04:34.852 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 03:04:34.852 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45605/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "{\"name\": \"John\", \"age\": 30, \"city\": \"New York\"}", "timestamp": 1738983874852539648}}'
2025-02-08 03:04:34.859 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-08 03:04:34.861 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 03:04:34.961 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:34.961 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42851/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:34.964 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"{\\"name\\": \\"John\\", \\"age\\": 30, \\"city\\": \\"New York\\"}","version":0,"timestamp":1738983874852539648,"ephemeral":false}]'
2025-02-08 03:04:34.965 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:34.965 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42622/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:34.967 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"{\\"name\\": \\"John\\", \\"age\\": 30, \\"city\\": \\"New York\\"}","version":0,"timestamp":1738983874852539648,"ephemeral":false}]'
2025-02-08 03:04:34.969 DEBUG [tests.light_push.test_publish] Running test with content topic A Unix path
2025-02-08 03:04:34.969 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 03:04:34.969 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45605/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/usr/local/bin", "timestamp": 1738983874969465088}}'
2025-02-08 03:04:34.976 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-08 03:04:34.976 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 03:04:35.077 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:35.077 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42851/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:35.079 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/usr/local/bin","version":0,"timestamp":1738983874969465088,"ephemeral":false}]'
2025-02-08 03:04:35.081 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:35.081 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42622/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:35.083 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/usr/local/bin","version":0,"timestamp":1738983874969465088,"ephemeral":false}]'
2025-02-08 03:04:35.084 DEBUG [tests.light_push.test_publish] Running test with content topic A Windows path
2025-02-08 03:04:35.085 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 03:04:35.085 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45605/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "C:\\Windows\\System32", "timestamp": 1738983875085047040}}'
2025-02-08 03:04:35.091 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-08 03:04:35.091 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 03:04:35.192 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:35.192 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42851/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:35.194 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"C:\\\\Windows\\\\System32","version":0,"timestamp":1738983875085047040,"ephemeral":false}]'
2025-02-08 03:04:35.196 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:35.196 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42622/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:35.198 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"C:\\\\Windows\\\\System32","version":0,"timestamp":1738983875085047040,"ephemeral":false}]'
2025-02-08 03:04:35.200 DEBUG [tests.light_push.test_publish] Running test with content topic An SQL query
2025-02-08 03:04:35.200 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 03:04:35.200 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45605/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "SELECT * FROM users WHERE id = 1;", "timestamp": 1738983875200479232}}'
2025-02-08 03:04:35.208 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-08 03:04:35.209 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 03:04:35.309 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:35.309 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42851/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:35.311 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"SELECT * FROM users WHERE id = 1;","version":0,"timestamp":1738983875200479232,"ephemeral":false}]'
2025-02-08 03:04:35.313 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:35.313 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42622/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:35.316 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"SELECT * FROM users WHERE id = 1;","version":0,"timestamp":1738983875200479232,"ephemeral":false}]'
2025-02-08 03:04:35.317 DEBUG [tests.light_push.test_publish] Running test with content topic JavaScript code snippet
2025-02-08 03:04:35.318 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 03:04:35.318 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45605/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "function test() { console.log('Hello World'); }", "timestamp": 1738983875317830144}}'
2025-02-08 03:04:35.323 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-08 03:04:35.324 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 03:04:35.424 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:35.425 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42851/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:35.427 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"function test() { console.log(\'Hello World\'); }","version":0,"timestamp":1738983875317830144,"ephemeral":false}]'
2025-02-08 03:04:35.428 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:35.428 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42622/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:35.430 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"function test() { console.log(\'Hello World\'); }","version":0,"timestamp":1738983875317830144,"ephemeral":false}]'
2025-02-08 03:04:35.432 DEBUG [tests.light_push.test_publish] Running test with content topic A CSS snippet
2025-02-08 03:04:35.432 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 03:04:35.432 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45605/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "body { background-color: #fff; }", "timestamp": 1738983875432556032}}'
2025-02-08 03:04:35.439 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-08 03:04:35.439 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 03:04:35.540 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:35.540 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42851/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:35.542 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"body { background-color: #fff; }","version":0,"timestamp":1738983875432556032,"ephemeral":false}]'
2025-02-08 03:04:35.544 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:35.544 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42622/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:35.546 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"body { background-color: #fff; }","version":0,"timestamp":1738983875432556032,"ephemeral":false}]'
2025-02-08 03:04:35.548 DEBUG [tests.light_push.test_publish] Running test with content topic A Python one-liner
2025-02-08 03:04:35.548 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 03:04:35.549 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45605/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "print('Hello World')", "timestamp": 1738983875548606720}}'
2025-02-08 03:04:35.555 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-08 03:04:35.556 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 03:04:35.656 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:35.657 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42851/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:35.659 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"print(\'Hello World\')","version":0,"timestamp":1738983875548606720,"ephemeral":false}]'
2025-02-08 03:04:35.660 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:35.660 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42622/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:35.663 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"print(\'Hello World\')","version":0,"timestamp":1738983875548606720,"ephemeral":false}]'
2025-02-08 03:04:35.664 DEBUG [tests.light_push.test_publish] Running test with content topic An IP address
2025-02-08 03:04:35.664 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 03:04:35.665 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45605/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "192.168.1.1", "timestamp": 1738983875664679680}}'
2025-02-08 03:04:35.670 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-08 03:04:35.672 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 03:04:35.772 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:35.772 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42851/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:35.775 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"192.168.1.1","version":0,"timestamp":1738983875664679680,"ephemeral":false}]'
2025-02-08 03:04:35.776 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:35.776 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42622/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:35.778 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"192.168.1.1","version":0,"timestamp":1738983875664679680,"ephemeral":false}]'
2025-02-08 03:04:35.779 DEBUG [tests.light_push.test_publish] Running test with content topic A domain name
2025-02-08 03:04:35.780 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 03:04:35.780 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45605/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "www.example.com", "timestamp": 1738983875779896576}}'
2025-02-08 03:04:35.786 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-08 03:04:35.786 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 03:04:35.887 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:35.887 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42851/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:35.889 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"www.example.com","version":0,"timestamp":1738983875779896576,"ephemeral":false}]'
2025-02-08 03:04:35.890 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:35.891 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42622/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:35.893 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"www.example.com","version":0,"timestamp":1738983875779896576,"ephemeral":false}]'
2025-02-08 03:04:35.894 DEBUG [tests.light_push.test_publish] Running test with content topic A user agent string
2025-02-08 03:04:35.894 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 03:04:35.895 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45605/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "Mozilla/5.0 (Windows NT 10.0; Win64; x64)", "timestamp": 1738983875894719232}}'
2025-02-08 03:04:35.900 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-08 03:04:35.901 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 03:04:36.001 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:36.002 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42851/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:36.004 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Mozilla/5.0 (Windows NT 10.0; Win64; x64)","version":0,"timestamp":1738983875894719232,"ephemeral":false}]'
2025-02-08 03:04:36.005 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:36.005 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42622/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:36.007 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Mozilla/5.0 (Windows NT 10.0; Win64; x64)","version":0,"timestamp":1738983875894719232,"ephemeral":false}]'
2025-02-08 03:04:36.009 DEBUG [tests.light_push.test_publish] Running test with content topic A credit card number
2025-02-08 03:04:36.009 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 03:04:36.009 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45605/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "1234-5678-9012-3456", "timestamp": 1738983876009468416}}'
2025-02-08 03:04:36.015 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-08 03:04:36.016 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 03:04:36.117 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:36.117 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42851/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:36.119 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"1234-5678-9012-3456","version":0,"timestamp":1738983876009468416,"ephemeral":false}]'
2025-02-08 03:04:36.121 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:36.121 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42622/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:36.123 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"1234-5678-9012-3456","version":0,"timestamp":1738983876009468416,"ephemeral":false}]'
2025-02-08 03:04:36.124 DEBUG [tests.light_push.test_publish] Running test with content topic A phone number
2025-02-08 03:04:36.124 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 03:04:36.125 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45605/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "+1234567890", "timestamp": 1738983876124668928}}'
2025-02-08 03:04:36.133 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-08 03:04:36.134 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 03:04:36.235 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:36.235 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42851/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:36.237 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"+1234567890","version":0,"timestamp":1738983876124668928,"ephemeral":false}]'
2025-02-08 03:04:36.238 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:36.238 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42622/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:36.241 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"+1234567890","version":0,"timestamp":1738983876124668928,"ephemeral":false}]'
2025-02-08 03:04:36.242 DEBUG [tests.light_push.test_publish] Running test with content topic A UUID
2025-02-08 03:04:36.242 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 03:04:36.242 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45605/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "123e4567-e89b-12d3-a456-426614174000", "timestamp": 1738983876242547712}}'
2025-02-08 03:04:36.249 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-08 03:04:36.250 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 03:04:36.351 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:36.351 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42851/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:36.353 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"123e4567-e89b-12d3-a456-426614174000","version":0,"timestamp":1738983876242547712,"ephemeral":false}]'
2025-02-08 03:04:36.354 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:36.355 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42622/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:36.357 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"123e4567-e89b-12d3-a456-426614174000","version":0,"timestamp":1738983876242547712,"ephemeral":false}]'
2025-02-08 03:04:36.358 DEBUG [tests.light_push.test_publish] Running test with content topic A hashtag
2025-02-08 03:04:36.358 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 03:04:36.359 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45605/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "#helloWorld", "timestamp": 1738983876358705664}}'
2025-02-08 03:04:36.364 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-08 03:04:36.365 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 03:04:36.466 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:36.467 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42851/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:36.469 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"#helloWorld","version":0,"timestamp":1738983876358705664,"ephemeral":false}]'
2025-02-08 03:04:36.471 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:36.471 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42622/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:36.473 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"#helloWorld","version":0,"timestamp":1738983876358705664,"ephemeral":false}]'
2025-02-08 03:04:36.474 DEBUG [tests.light_push.test_publish] Running test with content topic A Twitter handle
2025-02-08 03:04:36.474 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 03:04:36.475 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45605/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "@username", "timestamp": 1738983876474780672}}'
2025-02-08 03:04:36.480 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-08 03:04:36.481 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 03:04:36.582 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:36.582 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42851/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:36.585 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"@username","version":0,"timestamp":1738983876474780672,"ephemeral":false}]'
2025-02-08 03:04:36.587 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:36.587 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42622/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:36.589 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"@username","version":0,"timestamp":1738983876474780672,"ephemeral":false}]'
2025-02-08 03:04:36.592 DEBUG [tests.light_push.test_publish] Running test with content topic A password
2025-02-08 03:04:36.592 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 03:04:36.592 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45605/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "P@ssw0rd!", "timestamp": 1738983876592360704}}'
2025-02-08 03:04:36.600 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-08 03:04:36.601 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 03:04:36.701 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:36.701 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42851/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:36.704 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"P@ssw0rd!","version":0,"timestamp":1738983876592360704,"ephemeral":false}]'
2025-02-08 03:04:36.705 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:36.705 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42622/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:36.707 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"P@ssw0rd!","version":0,"timestamp":1738983876592360704,"ephemeral":false}]'
2025-02-08 03:04:36.709 DEBUG [tests.light_push.test_publish] Running test with content topic A date in common format
2025-02-08 03:04:36.709 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 03:04:36.709 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45605/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "01/11/2023", "timestamp": 1738983876709274880}}'
2025-02-08 03:04:36.715 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-08 03:04:36.716 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 03:04:36.816 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:36.816 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42851/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:36.818 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"01/11/2023","version":0,"timestamp":1738983876709274880,"ephemeral":false}]'
2025-02-08 03:04:36.820 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:36.820 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42622/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:36.822 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"01/11/2023","version":0,"timestamp":1738983876709274880,"ephemeral":false}]'
2025-02-08 03:04:36.823 DEBUG [tests.light_push.test_publish] Running test with content topic A time string
2025-02-08 03:04:36.824 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 03:04:36.824 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45605/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "12:00:00", "timestamp": 1738983876823867904}}'
2025-02-08 03:04:36.829 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-08 03:04:36.830 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 03:04:36.931 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:36.931 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42851/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:36.933 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"12:00:00","version":0,"timestamp":1738983876823867904,"ephemeral":false}]'
2025-02-08 03:04:36.934 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:36.934 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42622/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:36.936 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"12:00:00","version":0,"timestamp":1738983876823867904,"ephemeral":false}]'
2025-02-08 03:04:36.938 DEBUG [tests.light_push.test_publish] Running test with content topic A mathematical equation
2025-02-08 03:04:36.938 DEBUG [src.steps.light_push] Lightpushing message
2025-02-08 03:04:36.938 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45605/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "E = mc^2", "timestamp": 1738983876938302464}}'
2025-02-08 03:04:36.943 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-08 03:04:36.944 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 03:04:37.046 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:37.046 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42851/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:37.048 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"E = mc^2","version":0,"timestamp":1738983876938302464,"ephemeral":false}]'
2025-02-08 03:04:37.050 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-08 03:04:37.050 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42622/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:04:37.052 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"E = mc^2","version":0,"timestamp":1738983876938302464,"ephemeral":false}]'
2025-02-08 03:04:37.055 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-08 03:04:37.056 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-08 03:04:37.056 DEBUG [src.node.waku_node] Stopping container with id a0dc1bdf7e38
2025-02-08 03:04:37.598 DEBUG [src.node.waku_node] Container stopped.
2025-02-08 03:04:37.598 DEBUG [src.node.waku_node] Stopping container with id 51a5892ba28a
2025-02-08 03:04:38.409 ERROR [src.node.docker_mananger] Max retries reached for container a0dc1bdf7e38. Exiting log stream.
2025-02-08 03:04:39.004 DEBUG [src.node.waku_node] Container stopped.
2025-02-08 03:04:39.004 DEBUG [src.node.waku_node] Stopping container with id 63a21eec19e6
2025-02-08 03:04:39.504 DEBUG [src.node.waku_node] Container stopped.
2025-02-08 03:04:39.505 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-08 03:04:39.527 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-08 03:04:39.539 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-08 03:04:39.543 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
