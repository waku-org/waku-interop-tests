2025-02-08 03:08:28.595 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-08 03:08:28.595 DEBUG [tests.conftest] Running test: test_filter_update_subscription_with_no_content_topic with id: 2025-02-08_03-08-28__89d6db72-f8dd-4530-b817-c037908cca0b
2025-02-08 03:08:28.595 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-08 03:08:28.595 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2025-02-08 03:08:28.596 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2025-02-08 03:08:28.602 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-08 03:08:28.602 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-08_03-08-28__89d6db72-f8dd-4530-b817-c037908cca0b__wakuorg_nwaku:latest.log
2025-02-08 03:08:28.602 DEBUG [src.node.waku_node] Starting Node...
2025-02-08 03:08:28.603 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-08 03:08:28.604 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-08 03:08:28.604 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.10.223
2025-02-08 03:08:28.604 DEBUG [src.node.docker_mananger] Generated ports ['40411', '40412', '40413', '40414', '40415']
2025-02-08 03:08:28.605 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-08 03:08:28.605 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-08 03:08:28.605 DEBUG [src.node.waku_node] Using volumes []
2025-02-08 03:08:28.605 DEBUG [src.node.docker_mananger] docker run -i -t -p 40411:40411 -p 40412:40412 -p 40413:40413 -p 40414:40414 -p 40415:40415 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=40413 --rest-port=40411 --tcp-port=40412 --discv5-udp-port=40414 --rest-address=0.0.0.0 --nat=extip:172.18.10.223 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f99cc51cd2d3f33aebf5adfa5914ffdedc9fd4dc2e3bfef4c1ee8f96aa539c3c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=40415 --metrics-logging=true --relay=true --filter=true
2025-02-08 03:08:28.717 ERROR [src.node.docker_mananger] Max retries reached for container d7cbeef33d8f. Exiting log stream.
2025-02-08 03:08:28.848 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.10.223 waku b50f24149826d4b71322b55db2feda27f29dd92b27be8cb9eb86c023aa613939
2025-02-08 03:08:28.906 DEBUG [src.node.docker_mananger] Container started with ID b50f24149826. Setting up logs at ./log/docker/node1_2025-02-08_03-08-28__89d6db72-f8dd-4530-b817-c037908cca0b__wakuorg_nwaku:latest.log
2025-02-08 03:08:28.906 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 40411
2025-02-08 03:08:28.907 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-08 03:08:29.394 ERROR [src.node.docker_mananger] Max retries reached for container 22042f6952ec. Exiting log stream.
2025-02-08 03:08:29.908 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40411/health" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:08:29.911 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-08 03:08:29.911 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-08 03:08:29.911 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40411/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:08:29.914 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.10.223/tcp/40412/p2p/16Uiu2HAm6FV9EeUNSC2iH2XdGYjHfb1B8XNsfmVDiPaMN3knXiYh","/ip4/172.18.10.223/tcp/40413/ws/p2p/16Uiu2HAm6FV9EeUNSC2iH2XdGYjHfb1B8XNsfmVDiPaMN3knXiYh"],"enrUri":"enr:-L24QC5M0Q0khDVz7SnJ7-2r0S_78-mfWtafp_C_Ba_NYRjACgX4Hdp3Lma1lhyOXmcieHx9uDfL4vx1RQbW4XvpH7cCgmlkgnY0gmlwhKwSCt-KbXVsdGlhZGRyc5YACASsEgrfBp3cAAoErBIK3wad3d0DgnJzhQADAQAAiXNlY3AyNTZrMaECoNR-k7covFDHZgVeH0kYPzThG4WNIXE_cwZ_We-gN1KDdGNwgp3cg3VkcIKd3oV3YWt1MgU"}'
2025-02-08 03:08:29.914 INFO [src.node.waku_node] REST service is ready !!
2025-02-08 03:08:29.914 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2025-02-08 03:08:29.921 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-08 03:08:29.921 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-08_03-08-28__89d6db72-f8dd-4530-b817-c037908cca0b__wakuorg_go-waku:latest.log
2025-02-08 03:08:29.921 DEBUG [src.node.waku_node] Starting Node...
2025-02-08 03:08:29.921 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-08 03:08:29.922 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-08 03:08:29.923 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.117.214
2025-02-08 03:08:29.923 DEBUG [src.node.docker_mananger] Generated ports ['12391', '12392', '12393', '12394', '12395']
2025-02-08 03:08:29.923 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-08 03:08:29.923 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-08 03:08:29.923 DEBUG [src.node.waku_node] Using volumes []
2025-02-08 03:08:29.923 DEBUG [src.node.docker_mananger] docker run -i -t -p 12391:12391 -p 12392:12392 -p 12393:12393 -p 12394:12394 -p 12395:12395 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=12393 --rest-port=12391 --tcp-port=12392 --discv5-udp-port=12394 --rest-address=0.0.0.0 --nat=extip:172.18.117.214 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9a742094004f14ab544716fabbab0eded3a4e1fe634787ec5e2eebb26db4ecb2 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QC5M0Q0khDVz7SnJ7-2r0S_78-mfWtafp_C_Ba_NYRjACgX4Hdp3Lma1lhyOXmcieHx9uDfL4vx1RQbW4XvpH7cCgmlkgnY0gmlwhKwSCt-KbXVsdGlhZGRyc5YACASsEgrfBp3cAAoErBIK3wad3d0DgnJzhQADAQAAiXNlY3AyNTZrMaECoNR-k7covFDHZgVeH0kYPzThG4WNIXE_cwZ_We-gN1KDdGNwgp3cg3VkcIKd3oV3YWt1MgU --filternode=/ip4/172.18.10.223/tcp/40412/p2p/16Uiu2HAm6FV9EeUNSC2iH2XdGYjHfb1B8XNsfmVDiPaMN3knXiYh --pubsub-topic=/waku/2/rs/3/1
2025-02-08 03:08:30.178 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.117.214 waku 2568c81451576300efbe4f1406e017747e55babc4898636e1a1fa04566c60110
2025-02-08 03:08:30.231 DEBUG [src.node.docker_mananger] Container started with ID 2568c8145157. Setting up logs at ./log/docker/node2_2025-02-08_03-08-28__89d6db72-f8dd-4530-b817-c037908cca0b__wakuorg_go-waku:latest.log
2025-02-08 03:08:30.231 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 12391
2025-02-08 03:08:30.232 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-08 03:08:31.233 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12391/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:08:31.235 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QIlHh2EFx02-Ar3gRpTIAdz6-zcTsBddrv9V4_ZcKVTeVq-bXyVJRNoPQU5xl2OL0mEOlxcTgj_LkoKintozu2OGAZTjh7iggmlkgnY0gmlwhKwRAAOCcnOFAAMBAAGJc2VjcDI1NmsxoQLeW4RB-WEzt7-mN5CPSRitDjcGfRjux_zWX88CFcaRLoN0Y3CCMGiDdWRwgjBqhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/12392/p2p/16Uiu2HAmAPfRhbVV9CRZtmR7d3qD1zsEUM3iP6THNgqGNMYX7y89","/ip4/127.0.0.1/tcp/12393/ws/p2p/16Uiu2HAmAPfRhbVV9CRZtmR7d3qD1zsEUM3iP6THNgqGNMYX7y89","/ip4/172.17.0.3/tcp/12392/p2p/16Uiu2HAmAPfRhbVV9CRZtmR7d3qD1zsEUM3iP6THNgqGNMYX7y89","/ip4/172.17.0.3/tcp/12393/ws/p2p/16Uiu2HAmAPfRhbVV9CRZtmR7d3qD1zsEUM3iP6THNgqGNMYX7y89"]}'
2025-02-08 03:08:31.235 INFO [src.node.waku_node] REST service is ready !!
2025-02-08 03:08:31.236 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12391/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.10.223/tcp/40412/p2p/16Uiu2HAm6FV9EeUNSC2iH2XdGYjHfb1B8XNsfmVDiPaMN3knXiYh", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-08 03:08:31.238 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-08 03:08:31.239 DEBUG [src.steps.filter] Running fixture setup: subscribe_main_nodes
2025-02-08 03:08:31.239 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40411/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-08 03:08:31.242 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 03:08:31.243 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12391/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "edd18be0-f6cb-49ea-b51a-33038bfe8669", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2025-02-08 03:08:31.247 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"edd18be0-f6cb-49ea-b51a-33038bfe8669","statusDesc":"OK"}'
2025-02-08 03:08:31.252 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-08 03:08:31.253 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-08 03:08:31.253 DEBUG [src.node.waku_node] Stopping container with id b50f24149826
2025-02-08 03:08:31.822 DEBUG [src.node.waku_node] Container stopped.
2025-02-08 03:08:31.823 DEBUG [src.node.waku_node] Stopping container with id 2568c8145157
2025-02-08 03:08:32.636 ERROR [src.node.docker_mananger] Max retries reached for container b50f24149826. Exiting log stream.
2025-02-08 03:08:32.793 DEBUG [src.node.waku_node] Container stopped.
2025-02-08 03:08:32.794 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-08 03:08:32.798 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-08 03:08:32.802 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
