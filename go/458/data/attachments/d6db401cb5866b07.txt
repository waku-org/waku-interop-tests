2025-02-08 03:09:00.782 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-08 03:09:00.782 DEBUG [tests.conftest] Running test: test_unsubscribe_from_some_pubsub_topics with id: 2025-02-08_03-09-00__0b9ee0f9-971f-42d1-ac95-cb153dd2b2ea
2025-02-08 03:09:00.782 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-08 03:09:00.783 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-08 03:09:00.783 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-08 03:09:00.789 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-08 03:09:00.789 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-08_03-09-00__0b9ee0f9-971f-42d1-ac95-cb153dd2b2ea__wakuorg_nwaku:latest.log
2025-02-08 03:09:00.790 DEBUG [src.node.waku_node] Starting Node...
2025-02-08 03:09:00.790 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-08 03:09:00.791 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-08 03:09:00.791 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.254.46
2025-02-08 03:09:00.791 DEBUG [src.node.docker_mananger] Generated ports ['27620', '27621', '27622', '27623', '27624']
2025-02-08 03:09:00.792 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-08 03:09:00.792 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-08 03:09:00.792 DEBUG [src.node.waku_node] Using volumes []
2025-02-08 03:09:00.792 DEBUG [src.node.docker_mananger] docker run -i -t -p 27620:27620 -p 27621:27621 -p 27622:27622 -p 27623:27623 -p 27624:27624 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=27622 --rest-port=27620 --tcp-port=27621 --discv5-udp-port=27623 --rest-address=0.0.0.0 --nat=extip:172.18.254.46 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=ab382ab3e8fe7f7db4d8bdb0ddfa0c8c58c516bbfa057d8c1202fea8df0bbbe2 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=27624 --metrics-logging=true --relay=true --filter=true --pubsub-topic=/waku/2/rs/2/0 --pubsub-topic=/waku/2/rs/2/1 --pubsub-topic=/waku/2/rs/2/2 --pubsub-topic=/waku/2/rs/2/3 --pubsub-topic=/waku/2/rs/2/4 --pubsub-topic=/waku/2/rs/2/5 --pubsub-topic=/waku/2/rs/2/6 --pubsub-topic=/waku/2/rs/2/7
2025-02-08 03:09:01.018 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.254.46 waku f51d49bca95fe2c6cdd8386ff4389b66cd7b34c51153c3a5840f712914f7ea9d
2025-02-08 03:09:01.068 DEBUG [src.node.docker_mananger] Container started with ID f51d49bca95f. Setting up logs at ./log/docker/node1_2025-02-08_03-09-00__0b9ee0f9-971f-42d1-ac95-cb153dd2b2ea__wakuorg_nwaku:latest.log
2025-02-08 03:09:01.069 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 27620
2025-02-08 03:09:01.069 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-08 03:09:01.587 ERROR [src.node.docker_mananger] Max retries reached for container 8ec9e4953aea. Exiting log stream.
2025-02-08 03:09:02.069 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27620/health" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:09:02.073 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-08 03:09:02.073 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-08 03:09:02.073 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27620/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:09:02.075 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.254.46/tcp/27621/p2p/16Uiu2HAkvzCa6wFoGh6dH3n9LBr8GNshqVtz3i4zerDMgVKwbxJ3","/ip4/172.18.254.46/tcp/27622/ws/p2p/16Uiu2HAkvzCa6wFoGh6dH3n9LBr8GNshqVtz3i4zerDMgVKwbxJ3"],"enrUri":"enr:-Mu4QAskzZIewvWVCv3GDke0ADWx-Cyhbda7JJmJtnO84n9VbZ82WLcZPt95yAEaYdKHe53UtLAJwVU5Zp0gT6icJIQCgmlkgnY0gmlwhKwS_i6KbXVsdGlhZGRyc5YACASsEv4uBmvlAAoErBL-LgZr5t0DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQIXMNzfoy1Yrxi1Bs9sM1pu2ZatwyZ33kZbKOBc2w2nCIN0Y3CCa-WDdWRwgmvnhXdha3UyBQ"}'
2025-02-08 03:09:02.075 INFO [src.node.waku_node] REST service is ready !!
2025-02-08 03:09:02.082 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-08 03:09:02.082 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-08_03-09-00__0b9ee0f9-971f-42d1-ac95-cb153dd2b2ea__wakuorg_go-waku:latest.log
2025-02-08 03:09:02.082 DEBUG [src.node.waku_node] Starting Node...
2025-02-08 03:09:02.082 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-08 03:09:02.084 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-08 03:09:02.084 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.17.128
2025-02-08 03:09:02.084 DEBUG [src.node.docker_mananger] Generated ports ['27761', '27762', '27763', '27764', '27765']
2025-02-08 03:09:02.084 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-08 03:09:02.084 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-08 03:09:02.085 DEBUG [src.node.waku_node] Using volumes []
2025-02-08 03:09:02.085 DEBUG [src.node.docker_mananger] docker run -i -t -p 27761:27761 -p 27762:27762 -p 27763:27763 -p 27764:27764 -p 27765:27765 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=27763 --rest-port=27761 --tcp-port=27762 --discv5-udp-port=27764 --rest-address=0.0.0.0 --nat=extip:172.18.17.128 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=e37fd7f2f921ebf7d0f2a56075ed4e7fd2eacffed0eafd1d9682bfbcbcdde2ff --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-Mu4QAskzZIewvWVCv3GDke0ADWx-Cyhbda7JJmJtnO84n9VbZ82WLcZPt95yAEaYdKHe53UtLAJwVU5Zp0gT6icJIQCgmlkgnY0gmlwhKwS_i6KbXVsdGlhZGRyc5YACASsEv4uBmvlAAoErBL-LgZr5t0DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQIXMNzfoy1Yrxi1Bs9sM1pu2ZatwyZ33kZbKOBc2w2nCIN0Y3CCa-WDdWRwgmvnhXdha3UyBQ --pubsub-topic=/waku/2/rs/2/0 --pubsub-topic=/waku/2/rs/2/1 --pubsub-topic=/waku/2/rs/2/2 --pubsub-topic=/waku/2/rs/2/3 --pubsub-topic=/waku/2/rs/2/4 --pubsub-topic=/waku/2/rs/2/5 --pubsub-topic=/waku/2/rs/2/6 --pubsub-topic=/waku/2/rs/2/7
2025-02-08 03:09:02.315 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.17.128 waku 965ec7d3511060ea40975006b9a1b870a38e879208f484b4afffc143d039feac
2025-02-08 03:09:02.365 DEBUG [src.node.docker_mananger] Container started with ID 965ec7d35110. Setting up logs at ./log/docker/node2_2025-02-08_03-09-00__0b9ee0f9-971f-42d1-ac95-cb153dd2b2ea__wakuorg_go-waku:latest.log
2025-02-08 03:09:02.367 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 27761
2025-02-08 03:09:02.367 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-08 03:09:03.367 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27761/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:09:03.370 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-K-4QFQQWHICAG5B2I4bYYuyGSuxgmJItZcWUhfexyMPnvkzKelMFA0Q_FykxaNK152I8UBdu-RSLmcOb5KKFjvfBxyGAZTjiDYfgmlkgnY0gmlwhKwRAAOCcnOTAAIIAAQABQAGAAcAAAABAAIAA4lzZWNwMjU2azGhAlzh2ZT1QclSFf-zi8Vpw-s3L2SqvyNjEONAwo23ZnwNg3RjcIJscoN1ZHCCbHSFd2FrdTIB","listenAddresses":["/ip4/127.0.0.1/tcp/27762/p2p/16Uiu2HAm1gFEMPwVDRdNiZdQrkRzUx7fVBGt6gYVK9qGMJnSfBbJ","/ip4/127.0.0.1/tcp/27763/ws/p2p/16Uiu2HAm1gFEMPwVDRdNiZdQrkRzUx7fVBGt6gYVK9qGMJnSfBbJ","/ip4/172.17.0.3/tcp/27762/p2p/16Uiu2HAm1gFEMPwVDRdNiZdQrkRzUx7fVBGt6gYVK9qGMJnSfBbJ","/ip4/172.17.0.3/tcp/27763/ws/p2p/16Uiu2HAm1gFEMPwVDRdNiZdQrkRzUx7fVBGt6gYVK9qGMJnSfBbJ"]}'
2025-02-08 03:09:03.370 INFO [src.node.waku_node] REST service is ready !!
2025-02-08 03:09:03.370 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27761/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.254.46/tcp/27621/p2p/16Uiu2HAkvzCa6wFoGh6dH3n9LBr8GNshqVtz3i4zerDMgVKwbxJ3", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-08 03:09:03.372 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-08 03:09:03.373 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27620/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2", "/waku/2/rs/2/3", "/waku/2/rs/2/4", "/waku/2/rs/2/5", "/waku/2/rs/2/6", "/waku/2/rs/2/7"]'
2025-02-08 03:09:03.375 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 03:09:03.375 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27761/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2", "/waku/2/rs/2/3", "/waku/2/rs/2/4", "/waku/2/rs/2/5", "/waku/2/rs/2/6", "/waku/2/rs/2/7"]'
2025-02-08 03:09:03.377 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-08 03:09:03.378 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27620/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-08 03:09:03.382 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 03:09:03.383 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 03:09:03.483 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 03:09:03.483 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27620/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:09:03.486 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738984143378326528,"ephemeral":false}]'
2025-02-08 03:09:03.487 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-08 03:09:03.487 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27761/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:09:03.489 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738984143378326528,"ephemeral":false}]'
2025-02-08 03:09:03.491 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27620/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-08 03:09:03.495 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 03:09:03.495 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 03:09:03.596 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 03:09:03.596 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27620/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:09:03.598 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738984143490953984,"ephemeral":false}]'
2025-02-08 03:09:03.600 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-08 03:09:03.600 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27761/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:09:03.601 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738984143490953984,"ephemeral":false}]'
2025-02-08 03:09:03.603 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27620/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-08 03:09:03.608 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 03:09:03.608 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 03:09:03.708 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 03:09:03.708 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27620/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:09:03.711 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738984143603464192,"ephemeral":false}]'
2025-02-08 03:09:03.712 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-08 03:09:03.712 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27761/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:09:03.714 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738984143603464192,"ephemeral":false}]'
2025-02-08 03:09:03.716 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27620/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-08 03:09:03.720 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 03:09:03.721 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 03:09:03.821 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 03:09:03.821 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27620/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:09:03.823 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738984143716023040,"ephemeral":false}]'
2025-02-08 03:09:03.825 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-08 03:09:03.825 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27761/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:09:03.826 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738984143716023040,"ephemeral":false}]'
2025-02-08 03:09:03.828 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27620/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-08 03:09:03.832 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 03:09:03.833 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 03:09:03.933 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 03:09:03.933 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27620/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:09:03.935 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738984143828347392,"ephemeral":false}]'
2025-02-08 03:09:03.937 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-08 03:09:03.937 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27761/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:09:03.938 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738984143828347392,"ephemeral":false}]'
2025-02-08 03:09:03.940 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27620/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-08 03:09:03.945 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 03:09:03.945 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 03:09:04.045 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 03:09:04.046 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27620/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:09:04.048 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738984143940547840,"ephemeral":false}]'
2025-02-08 03:09:04.049 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-08 03:09:04.049 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27761/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:09:04.051 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738984143940547840,"ephemeral":false}]'
2025-02-08 03:09:04.052 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27620/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-08 03:09:04.057 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 03:09:04.057 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 03:09:04.158 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 03:09:04.158 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27620/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:09:04.160 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738984144052870144,"ephemeral":false}]'
2025-02-08 03:09:04.161 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-08 03:09:04.162 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27761/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:09:04.163 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738984144052870144,"ephemeral":false}]'
2025-02-08 03:09:04.165 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27620/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-08 03:09:04.170 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 03:09:04.170 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 03:09:04.270 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 03:09:04.270 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27620/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:09:04.272 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738984144165165824,"ephemeral":false}]'
2025-02-08 03:09:04.274 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-08 03:09:04.274 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27761/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:09:04.276 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738984144165165824,"ephemeral":false}]'
2025-02-08 03:09:04.277 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:27620/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2"]'
2025-02-08 03:09:04.284 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 03:09:04.284 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:27761/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2"]'
2025-02-08 03:09:04.286 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-08 03:09:04.287 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27620/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-08 03:09:04.291 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:27620/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/2/0'
2025-02-08 03:09:04.293 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27620/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-08 03:09:04.295 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:27620/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/2/1'
2025-02-08 03:09:04.296 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27620/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-08 03:09:04.299 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:27620/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/2/2'
2025-02-08 03:09:04.300 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27620/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-08 03:09:04.304 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 03:09:04.305 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 03:09:04.405 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 03:09:04.405 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27620/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:09:04.408 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738984144300342784,"ephemeral":false}]'
2025-02-08 03:09:04.409 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-08 03:09:04.409 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27761/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:09:04.411 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738984144300342784,"ephemeral":false}]'
2025-02-08 03:09:04.412 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27620/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-08 03:09:04.417 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 03:09:04.417 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 03:09:04.517 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 03:09:04.517 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27620/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:09:04.520 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738984144412674304,"ephemeral":false}]'
2025-02-08 03:09:04.521 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-08 03:09:04.521 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27761/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:09:04.523 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738984144412674304,"ephemeral":false}]'
2025-02-08 03:09:04.525 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27620/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-08 03:09:04.529 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 03:09:04.529 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 03:09:04.629 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 03:09:04.629 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27620/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:09:04.632 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738984144524903680,"ephemeral":false}]'
2025-02-08 03:09:04.633 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-08 03:09:04.633 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27761/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:09:04.635 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738984144524903680,"ephemeral":false}]'
2025-02-08 03:09:04.636 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27620/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-08 03:09:04.640 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 03:09:04.641 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 03:09:04.741 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 03:09:04.741 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27620/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:09:04.743 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738984144636692480,"ephemeral":false}]'
2025-02-08 03:09:04.745 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-08 03:09:04.745 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27761/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:09:04.746 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738984144636692480,"ephemeral":false}]'
2025-02-08 03:09:04.748 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27620/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-08 03:09:04.752 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-08 03:09:04.752 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-08 03:09:04.853 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-08 03:09:04.853 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27620/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:09:04.855 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738984144748427520,"ephemeral":false}]'
2025-02-08 03:09:04.857 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-08 03:09:04.857 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27761/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-08 03:09:04.858 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738984144748427520,"ephemeral":false}]'
2025-02-08 03:09:04.862 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-08 03:09:04.863 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-08 03:09:04.863 DEBUG [src.node.waku_node] Stopping container with id f51d49bca95f
2025-02-08 03:09:05.544 DEBUG [src.node.waku_node] Container stopped.
2025-02-08 03:09:05.545 DEBUG [src.node.waku_node] Stopping container with id 965ec7d35110
2025-02-08 03:09:06.357 ERROR [src.node.docker_mananger] Max retries reached for container f51d49bca95f. Exiting log stream.
2025-02-08 03:09:16.062 DEBUG [src.node.waku_node] Container stopped.
2025-02-08 03:09:16.064 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-08 03:09:16.073 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-08 03:09:16.076 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
