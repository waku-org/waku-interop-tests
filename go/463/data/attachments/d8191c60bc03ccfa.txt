2025-02-11 14:55:35.062 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-11 14:55:35.063 DEBUG [tests.conftest] Running test: test_publish_with_valid_content_topics with id: 2025-02-11_14-55-35__a622148f-bbec-4e88-9657-0e4c6824a0c3
2025-02-11 14:55:35.063 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-11 14:55:35.063 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-11 14:55:35.063 DEBUG [src.steps.relay] Running fixture setup: setup_main_relay_nodes
2025-02-11 14:55:35.070 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 14:55:35.070 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-11_14-55-35__a622148f-bbec-4e88-9657-0e4c6824a0c3__wakuorg_nwaku:latest.log
2025-02-11 14:55:35.070 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 14:55:35.071 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 14:55:35.072 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 14:55:35.072 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.174.5
2025-02-11 14:55:35.072 DEBUG [src.node.docker_mananger] Generated ports ['23194', '23195', '23196', '23197', '23198']
2025-02-11 14:55:35.072 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 14:55:35.073 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 14:55:35.073 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 14:55:35.073 DEBUG [src.node.docker_mananger] docker run -i -t -p 23194:23194 -p 23195:23195 -p 23196:23196 -p 23197:23197 -p 23198:23198 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=23196 --rest-port=23194 --tcp-port=23195 --discv5-udp-port=23197 --rest-address=0.0.0.0 --nat=extip:172.18.174.5 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=38c747ab5bbfb0fb95bbcd0fca0ee153a8d09c42cedacbcb751c6a4fbe66acad --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=23198 --metrics-logging=true --relay=true
2025-02-11 14:55:35.300 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.174.5 waku 4c733c872a11a7c48103fe72d691af38f8c2db72cab50754292f83f2cbb02751
2025-02-11 14:55:35.344 DEBUG [src.node.docker_mananger] Container started with ID 4c733c872a11. Setting up logs at ./log/docker/node1_2025-02-11_14-55-35__a622148f-bbec-4e88-9657-0e4c6824a0c3__wakuorg_nwaku:latest.log
2025-02-11 14:55:35.344 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 23194
2025-02-11 14:55:35.345 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 14:55:35.366 ERROR [src.node.docker_mananger] Max retries reached for container 2aed4ef1044c. Exiting log stream.
2025-02-11 14:55:35.864 ERROR [src.node.docker_mananger] Max retries reached for container a0180d751f37. Exiting log stream.
2025-02-11 14:55:36.346 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23194/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:36.348 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 14:55:36.349 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 14:55:36.349 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23194/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:36.351 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.174.5/tcp/23195/p2p/16Uiu2HAmTkCMDc8vPqPmbAa41SUhZEzycU2AGRr5tvyViNJVftFv","/ip4/172.18.174.5/tcp/23196/ws/p2p/16Uiu2HAmTkCMDc8vPqPmbAa41SUhZEzycU2AGRr5tvyViNJVftFv"],"enrUri":"enr:-L24QIlRTRD0cDVPz4tKagjo_YfZKOab_IRY2fQCqMoi2ez_alHDQR7NYY4c3ImJNHeV6xIhBaodqaVJmfc6Ju5QyW8CgmlkgnY0gmlwhKwSrgWKbXVsdGlhZGRyc5YACASsEq4FBlqbAAoErBKuBQZanN0DgnJzhQADAQAAiXNlY3AyNTZrMaED4DTGZXfP_IAKW8Y1ByKs7_VHAhJ-pcJvhy-mZ4c6Sp2DdGNwglqbg3VkcIJanYV3YWt1MgE"}'
2025-02-11 14:55:36.351 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 14:55:36.358 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-11 14:55:36.358 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-11_14-55-35__a622148f-bbec-4e88-9657-0e4c6824a0c3__wakuorg_go-waku:latest.log
2025-02-11 14:55:36.358 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 14:55:36.358 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 14:55:36.360 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 14:55:36.360 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.155.102
2025-02-11 14:55:36.360 DEBUG [src.node.docker_mananger] Generated ports ['44133', '44134', '44135', '44136', '44137']
2025-02-11 14:55:36.360 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 14:55:36.360 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 14:55:36.360 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 14:55:36.361 DEBUG [src.node.docker_mananger] docker run -i -t -p 44133:44133 -p 44134:44134 -p 44135:44135 -p 44136:44136 -p 44137:44137 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=44135 --rest-port=44133 --tcp-port=44134 --discv5-udp-port=44136 --rest-address=0.0.0.0 --nat=extip:172.18.155.102 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c950f8c328ae29ddebbcee6e8701b90c248beda0d3a4ea8525ac7192eba1fee7 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-L24QIlRTRD0cDVPz4tKagjo_YfZKOab_IRY2fQCqMoi2ez_alHDQR7NYY4c3ImJNHeV6xIhBaodqaVJmfc6Ju5QyW8CgmlkgnY0gmlwhKwSrgWKbXVsdGlhZGRyc5YACASsEq4FBlqbAAoErBKuBQZanN0DgnJzhQADAQAAiXNlY3AyNTZrMaED4DTGZXfP_IAKW8Y1ByKs7_VHAhJ-pcJvhy-mZ4c6Sp2DdGNwglqbg3VkcIJanYV3YWt1MgE
2025-02-11 14:55:36.587 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.155.102 waku 1fe7dcc32b771190ad5e8b1a11943d68dab58acd5dc907ac11fc3bc61913f815
2025-02-11 14:55:36.640 DEBUG [src.node.docker_mananger] Container started with ID 1fe7dcc32b77. Setting up logs at ./log/docker/node2_2025-02-11_14-55-35__a622148f-bbec-4e88-9657-0e4c6824a0c3__wakuorg_go-waku:latest.log
2025-02-11 14:55:36.641 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 44133
2025-02-11 14:55:36.642 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 14:55:37.642 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44133/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:37.645 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QGWTUQrT424_Yx_JTOZwOe5AmhEPCUjdqliV_Hn1OpENA5G0-yDegoie_A4VImnjD6YRg2jxYockH4rXG2dFh_CGAZT1giy7gmlkgnY0gmlwhKwRAAOCcnODAAMAiXNlY3AyNTZrMaECfz51wV78HQ2idjnkMGOSiXvOBdVFgJjGgPOCZ6PiUimDdGNwgqxmg3VkcIKsaIV3YWt1MgE","listenAddresses":["/ip4/127.0.0.1/tcp/44134/p2p/16Uiu2HAm3zNzoyxmR5JKX9myAfGLZRDCcyN8XYnrGkUCnww3m1Be","/ip4/127.0.0.1/tcp/44135/ws/p2p/16Uiu2HAm3zNzoyxmR5JKX9myAfGLZRDCcyN8XYnrGkUCnww3m1Be","/ip4/172.17.0.3/tcp/44134/p2p/16Uiu2HAm3zNzoyxmR5JKX9myAfGLZRDCcyN8XYnrGkUCnww3m1Be","/ip4/172.17.0.3/tcp/44135/ws/p2p/16Uiu2HAm3zNzoyxmR5JKX9myAfGLZRDCcyN8XYnrGkUCnww3m1Be"]}'
2025-02-11 14:55:37.645 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 14:55:37.645 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44133/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.174.5/tcp/23195/p2p/16Uiu2HAmTkCMDc8vPqPmbAa41SUhZEzycU2AGRr5tvyViNJVftFv", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-11 14:55:37.663 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-11 14:55:37.664 DEBUG [src.steps.relay] Running fixture setup: subscribe_main_relay_nodes
2025-02-11 14:55:37.664 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23194/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-11 14:55:37.687 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:55:37.688 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44133/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-11 14:55:37.691 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 14:55:37.693 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:55:37.706 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:55:37.707 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:55:37.807 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:55:37.807 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:37.810 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739285737693062400,"ephemeral":false}]'
2025-02-11 14:55:37.812 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:55:37.812 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44133/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:37.813 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-11 14:55:38.814 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:55:38.819 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:55:38.819 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:55:38.920 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:55:38.920 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:38.923 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739285738814545664,"ephemeral":false}]'
2025-02-11 14:55:38.924 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:55:38.924 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44133/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:38.926 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739285738814545664,"ephemeral":false}]'
2025-02-11 14:55:38.927 INFO [src.steps.relay] WARM UP successful!!
2025-02-11 14:55:38.928 DEBUG [tests.relay.test_publish] Running test with content topic A simple string
2025-02-11 14:55:38.929 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "Hello World!", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:55:38.933 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:55:38.933 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:55:39.034 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:55:39.034 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:39.037 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"Hello World!","version":0,"timestamp":1739285738929043712,"ephemeral":false}]'
2025-02-11 14:55:39.038 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:55:39.038 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44133/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:39.040 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"Hello World!","version":0,"timestamp":1739285738929043712,"ephemeral":false}]'
2025-02-11 14:55:39.042 DEBUG [tests.relay.test_publish] Running test with content topic An integer
2025-02-11 14:55:39.042 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "1234567890", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:55:39.046 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:55:39.047 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:55:39.147 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:55:39.147 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:39.150 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"1234567890","version":0,"timestamp":1739285739042424832,"ephemeral":false}]'
2025-02-11 14:55:39.151 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:55:39.152 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44133/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:39.153 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"1234567890","version":0,"timestamp":1739285739042424832,"ephemeral":false}]'
2025-02-11 14:55:39.155 DEBUG [tests.relay.test_publish] Running test with content topic A dictionary
2025-02-11 14:55:39.155 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "{\"key\": \"value\"}", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:55:39.160 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:55:39.160 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:55:39.260 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:55:39.260 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:39.263 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"{\\"key\\": \\"value\\"}","version":0,"timestamp":1739285739155607296,"ephemeral":false}]'
2025-02-11 14:55:39.265 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:55:39.265 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44133/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:39.267 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"{\\"key\\": \\"value\\"}","version":0,"timestamp":1739285739155607296,"ephemeral":false}]'
2025-02-11 14:55:39.268 DEBUG [tests.relay.test_publish] Running test with content topic Chinese characters
2025-02-11 14:55:39.269 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "\u8fd9\u662f\u4e00\u4e9b\u4e2d\u6587", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:55:39.273 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:55:39.273 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:55:39.374 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:55:39.374 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:39.377 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"\xe8\xbf\x99\xe6\x98\xaf\xe4\xb8\x80\xe4\xba\x9b\xe4\xb8\xad\xe6\x96\x87","version":0,"timestamp":1739285739269060864,"ephemeral":false}]'
2025-02-11 14:55:39.378 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:55:39.378 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44133/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:39.380 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"\xe8\xbf\x99\xe6\x98\xaf\xe4\xb8\x80\xe4\xba\x9b\xe4\xb8\xad\xe6\x96\x87","version":0,"timestamp":1739285739269060864,"ephemeral":false}]'
2025-02-11 14:55:39.381 DEBUG [tests.relay.test_publish] Running test with content topic Emojis
2025-02-11 14:55:39.382 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "\ud83d\ude80\ud83c\udf1f\u2728", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:55:39.386 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:55:39.386 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:55:39.487 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:55:39.487 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:39.490 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"\xf0\x9f\x9a\x80\xf0\x9f\x8c\x9f\xe2\x9c\xa8","version":0,"timestamp":1739285739382076672,"ephemeral":false}]'
2025-02-11 14:55:39.491 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:55:39.491 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44133/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:39.493 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"\xf0\x9f\x9a\x80\xf0\x9f\x8c\x9f\xe2\x9c\xa8","version":0,"timestamp":1739285739382076672,"ephemeral":false}]'
2025-02-11 14:55:39.495 DEBUG [tests.relay.test_publish] Running test with content topic Lorem ipsum text
2025-02-11 14:55:39.495 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "Lorem ipsum dolor sit amet", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:55:39.499 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:55:39.500 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:55:39.600 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:55:39.600 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:39.603 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"Lorem ipsum dolor sit amet","version":0,"timestamp":1739285739495316736,"ephemeral":false}]'
2025-02-11 14:55:39.605 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:55:39.605 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44133/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:39.606 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"Lorem ipsum dolor sit amet","version":0,"timestamp":1739285739495316736,"ephemeral":false}]'
2025-02-11 14:55:39.608 DEBUG [tests.relay.test_publish] Running test with content topic HTML content
2025-02-11 14:55:39.608 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "<html><body>Hello</body></html>", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:55:39.613 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:55:39.613 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:55:39.713 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:55:39.714 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:39.717 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"<html><body>Hello</body></html>","version":0,"timestamp":1739285739608796928,"ephemeral":false}]'
2025-02-11 14:55:39.718 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:55:39.718 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44133/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:39.720 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"\\u003chtml\\u003e\\u003cbody\\u003eHello\\u003c/body\\u003e\\u003c/html\\u003e","version":0,"timestamp":1739285739608796928,"ephemeral":false}]'
2025-02-11 14:55:39.723 DEBUG [tests.relay.test_publish] Running test with content topic Cyrillic characters
2025-02-11 14:55:39.723 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "\u041f\u0440\u0438\u0432\u0435\u0442", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:55:39.727 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:55:39.728 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:55:39.828 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:55:39.828 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:39.831 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"\xd0\x9f\xd1\x80\xd0\xb8\xd0\xb2\xd0\xb5\xd1\x82","version":0,"timestamp":1739285739723416064,"ephemeral":false}]'
2025-02-11 14:55:39.833 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:55:39.833 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44133/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:39.835 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"\xd0\x9f\xd1\x80\xd0\xb8\xd0\xb2\xd0\xb5\xd1\x82","version":0,"timestamp":1739285739723416064,"ephemeral":false}]'
2025-02-11 14:55:39.836 DEBUG [tests.relay.test_publish] Running test with content topic Base64 encoded string
2025-02-11 14:55:39.837 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "Base64==dGVzdA==", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:55:39.841 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:55:39.841 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:55:39.942 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:55:39.942 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:39.945 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"Base64==dGVzdA==","version":0,"timestamp":1739285739836995840,"ephemeral":false}]'
2025-02-11 14:55:39.946 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:55:39.946 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44133/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:39.948 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"Base64==dGVzdA==","version":0,"timestamp":1739285739836995840,"ephemeral":false}]'
2025-02-11 14:55:39.950 DEBUG [tests.relay.test_publish] Running test with content topic Binary data
2025-02-11 14:55:39.950 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "d29ya2luZyB3aXRoIGJpbmFyeSBkYXRh: PQ", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:55:39.954 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:55:39.955 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:55:40.055 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:55:40.055 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:40.058 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"d29ya2luZyB3aXRoIGJpbmFyeSBkYXRh: PQ","version":0,"timestamp":1739285739950367488,"ephemeral":false}]'
2025-02-11 14:55:40.060 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:55:40.060 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44133/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:40.061 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"d29ya2luZyB3aXRoIGJpbmFyeSBkYXRh: PQ","version":0,"timestamp":1739285739950367488,"ephemeral":false}]'
2025-02-11 14:55:40.063 DEBUG [tests.relay.test_publish] Running test with content topic Special characters with whitespace
2025-02-11 14:55:40.063 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "\t\nSpecial\tCharacters\n", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:55:40.067 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:55:40.068 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:55:40.168 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:55:40.168 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:40.171 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"\\t\\nSpecial\\tCharacters\\n","version":0,"timestamp":1739285740063526144,"ephemeral":false}]'
2025-02-11 14:55:40.172 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:55:40.172 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44133/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:40.174 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"\\t\\nSpecial\\tCharacters\\n","version":0,"timestamp":1739285740063526144,"ephemeral":false}]'
2025-02-11 14:55:40.175 DEBUG [tests.relay.test_publish] Running test with content topic Boolean false as a string
2025-02-11 14:55:40.176 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "False", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:55:40.180 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:55:40.180 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:55:40.281 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:55:40.281 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:40.283 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"False","version":0,"timestamp":1739285740176173056,"ephemeral":false}]'
2025-02-11 14:55:40.285 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:55:40.285 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44133/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:40.287 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"False","version":0,"timestamp":1739285740176173056,"ephemeral":false}]'
2025-02-11 14:55:40.288 DEBUG [tests.relay.test_publish] Running test with content topic A float number
2025-02-11 14:55:40.289 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "3.1415926535", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:55:40.293 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:55:40.293 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:55:40.393 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:55:40.394 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:40.396 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"3.1415926535","version":0,"timestamp":1739285740288952320,"ephemeral":false}]'
2025-02-11 14:55:40.398 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:55:40.398 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44133/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:40.400 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"3.1415926535","version":0,"timestamp":1739285740288952320,"ephemeral":false}]'
2025-02-11 14:55:40.401 DEBUG [tests.relay.test_publish] Running test with content topic A list
2025-02-11 14:55:40.402 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "[1, 2, 3, 4, 5]", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:55:40.406 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:55:40.406 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:55:40.506 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:55:40.507 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:40.510 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"[1, 2, 3, 4, 5]","version":0,"timestamp":1739285740402023168,"ephemeral":false}]'
2025-02-11 14:55:40.511 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:55:40.511 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44133/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:40.513 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"[1, 2, 3, 4, 5]","version":0,"timestamp":1739285740402023168,"ephemeral":false}]'
2025-02-11 14:55:40.514 DEBUG [tests.relay.test_publish] Running test with content topic Hexadecimal number as a string
2025-02-11 14:55:40.515 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "0xDEADBEEF", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:55:40.519 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:55:40.519 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:55:40.620 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:55:40.620 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:40.623 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"0xDEADBEEF","version":0,"timestamp":1739285740515194880,"ephemeral":false}]'
2025-02-11 14:55:40.624 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:55:40.624 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44133/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:40.626 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"0xDEADBEEF","version":0,"timestamp":1739285740515194880,"ephemeral":false}]'
2025-02-11 14:55:40.627 DEBUG [tests.relay.test_publish] Running test with content topic Email format
2025-02-11 14:55:40.628 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "user@example.com", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:55:40.632 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:55:40.632 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:55:40.732 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:55:40.733 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:40.735 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"user@example.com","version":0,"timestamp":1739285740627934464,"ephemeral":false}]'
2025-02-11 14:55:40.737 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:55:40.737 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44133/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:40.739 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"user@example.com","version":0,"timestamp":1739285740627934464,"ephemeral":false}]'
2025-02-11 14:55:40.740 DEBUG [tests.relay.test_publish] Running test with content topic URL format
2025-02-11 14:55:40.740 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "http://example.com", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:55:40.745 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:55:40.745 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:55:40.845 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:55:40.846 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:40.848 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"http://example.com","version":0,"timestamp":1739285740740850944,"ephemeral":false}]'
2025-02-11 14:55:40.850 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:55:40.850 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44133/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:40.852 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"http://example.com","version":0,"timestamp":1739285740740850944,"ephemeral":false}]'
2025-02-11 14:55:40.853 DEBUG [tests.relay.test_publish] Running test with content topic Date and time in ISO format
2025-02-11 14:55:40.854 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "2023-11-01T12:00:00Z", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:55:40.858 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:55:40.858 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:55:40.958 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:55:40.958 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:40.961 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"2023-11-01T12:00:00Z","version":0,"timestamp":1739285740853890304,"ephemeral":false}]'
2025-02-11 14:55:40.962 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:55:40.963 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44133/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:40.964 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"2023-11-01T12:00:00Z","version":0,"timestamp":1739285740853890304,"ephemeral":false}]'
2025-02-11 14:55:40.966 DEBUG [tests.relay.test_publish] Running test with content topic String with escaped quotes
2025-02-11 14:55:40.966 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "\"Escaped\" \\\"quotes\\\"", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:55:40.970 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:55:40.971 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:55:41.071 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:55:41.071 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:41.074 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"\\"Escaped\\" \\\\\\"quotes\\\\\\"","version":0,"timestamp":1739285740966303744,"ephemeral":false}]'
2025-02-11 14:55:41.075 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:55:41.075 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44133/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:41.077 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"\\"Escaped\\" \\\\\\"quotes\\\\\\"","version":0,"timestamp":1739285740966303744,"ephemeral":false}]'
2025-02-11 14:55:41.078 DEBUG [tests.relay.test_publish] Running test with content topic A regular expression
2025-02-11 14:55:41.079 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "Regular expression: ^[a-z0-9_-]{3,16}$", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:55:41.083 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:55:41.083 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:55:41.183 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:55:41.184 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:41.186 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"Regular expression: ^[a-z0-9_-]{3,16}$","version":0,"timestamp":1739285741079127808,"ephemeral":false}]'
2025-02-11 14:55:41.188 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:55:41.188 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44133/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:41.190 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"Regular expression: ^[a-z0-9_-]{3,16}$","version":0,"timestamp":1739285741079127808,"ephemeral":false}]'
2025-02-11 14:55:41.191 DEBUG [tests.relay.test_publish] Running test with content topic A very long string
2025-02-11 14:55:41.192 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:55:41.197 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:55:41.197 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:55:41.297 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:55:41.298 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:41.300 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx","version":0,"timestamp":1739285741192142336,"ephemeral":false}]'
2025-02-11 14:55:41.302 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:55:41.302 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44133/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:41.304 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx","version":0,"timestamp":1739285741192142336,"ephemeral":false}]'
2025-02-11 14:55:41.305 DEBUG [tests.relay.test_publish] Running test with content topic A JSON string
2025-02-11 14:55:41.306 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "{\"name\": \"John\", \"age\": 30, \"city\": \"New York\"}", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:55:41.312 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:55:41.312 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:55:41.413 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:55:41.413 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:41.416 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"{\\"name\\": \\"John\\", \\"age\\": 30, \\"city\\": \\"New York\\"}","version":0,"timestamp":1739285741305886976,"ephemeral":false}]'
2025-02-11 14:55:41.417 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:55:41.417 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44133/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:41.419 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"{\\"name\\": \\"John\\", \\"age\\": 30, \\"city\\": \\"New York\\"}","version":0,"timestamp":1739285741305886976,"ephemeral":false}]'
2025-02-11 14:55:41.421 DEBUG [tests.relay.test_publish] Running test with content topic A Unix path
2025-02-11 14:55:41.421 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/usr/local/bin", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:55:41.426 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:55:41.426 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:55:41.526 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:55:41.527 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:41.530 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/usr/local/bin","version":0,"timestamp":1739285741421544960,"ephemeral":false}]'
2025-02-11 14:55:41.531 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:55:41.531 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44133/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:41.533 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/usr/local/bin","version":0,"timestamp":1739285741421544960,"ephemeral":false}]'
2025-02-11 14:55:41.534 DEBUG [tests.relay.test_publish] Running test with content topic A Windows path
2025-02-11 14:55:41.535 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "C:\\Windows\\System32", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:55:41.539 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:55:41.539 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:55:41.640 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:55:41.640 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:41.643 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"C:\\\\Windows\\\\System32","version":0,"timestamp":1739285741535183104,"ephemeral":false}]'
2025-02-11 14:55:41.645 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:55:41.645 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44133/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:41.647 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"C:\\\\Windows\\\\System32","version":0,"timestamp":1739285741535183104,"ephemeral":false}]'
2025-02-11 14:55:41.649 DEBUG [tests.relay.test_publish] Running test with content topic An SQL query
2025-02-11 14:55:41.649 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "SELECT * FROM users WHERE id = 1;", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:55:41.654 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:55:41.654 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:55:41.754 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:55:41.755 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:41.757 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"SELECT * FROM users WHERE id = 1;","version":0,"timestamp":1739285741649627904,"ephemeral":false}]'
2025-02-11 14:55:41.759 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:55:41.759 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44133/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:41.760 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"SELECT * FROM users WHERE id = 1;","version":0,"timestamp":1739285741649627904,"ephemeral":false}]'
2025-02-11 14:55:41.762 DEBUG [tests.relay.test_publish] Running test with content topic JavaScript code snippet
2025-02-11 14:55:41.762 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "function test() { console.log('Hello World'); }", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:55:41.767 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:55:41.767 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:55:41.867 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:55:41.868 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:41.870 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"function test() { console.log(\'Hello World\'); }","version":0,"timestamp":1739285741762713856,"ephemeral":false}]'
2025-02-11 14:55:41.872 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:55:41.872 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44133/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:41.874 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"function test() { console.log(\'Hello World\'); }","version":0,"timestamp":1739285741762713856,"ephemeral":false}]'
2025-02-11 14:55:41.875 DEBUG [tests.relay.test_publish] Running test with content topic A CSS snippet
2025-02-11 14:55:41.875 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "body { background-color: #fff; }", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:55:41.880 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:55:41.880 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:55:41.980 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:55:41.981 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:41.983 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"body { background-color: #fff; }","version":0,"timestamp":1739285741875784192,"ephemeral":false}]'
2025-02-11 14:55:41.985 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:55:41.985 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44133/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:41.986 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"body { background-color: #fff; }","version":0,"timestamp":1739285741875784192,"ephemeral":false}]'
2025-02-11 14:55:41.988 DEBUG [tests.relay.test_publish] Running test with content topic A Python one-liner
2025-02-11 14:55:41.988 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "print('Hello World')", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:55:41.993 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:55:41.993 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:55:42.093 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:55:42.094 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:42.096 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"print(\'Hello World\')","version":0,"timestamp":1739285741988705792,"ephemeral":false}]'
2025-02-11 14:55:42.097 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:55:42.098 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44133/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:42.099 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"print(\'Hello World\')","version":0,"timestamp":1739285741988705792,"ephemeral":false}]'
2025-02-11 14:55:42.101 DEBUG [tests.relay.test_publish] Running test with content topic An IP address
2025-02-11 14:55:42.101 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "192.168.1.1", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:55:42.105 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:55:42.106 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:55:42.206 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:55:42.206 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:42.209 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"192.168.1.1","version":0,"timestamp":1739285742101443328,"ephemeral":false}]'
2025-02-11 14:55:42.211 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:55:42.211 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44133/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:42.212 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"192.168.1.1","version":0,"timestamp":1739285742101443328,"ephemeral":false}]'
2025-02-11 14:55:42.214 DEBUG [tests.relay.test_publish] Running test with content topic A domain name
2025-02-11 14:55:42.214 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "www.example.com", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:55:42.219 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:55:42.219 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:55:42.319 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:55:42.319 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:42.322 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"www.example.com","version":0,"timestamp":1739285742214684928,"ephemeral":false}]'
2025-02-11 14:55:42.324 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:55:42.324 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44133/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:42.325 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"www.example.com","version":0,"timestamp":1739285742214684928,"ephemeral":false}]'
2025-02-11 14:55:42.327 DEBUG [tests.relay.test_publish] Running test with content topic A user agent string
2025-02-11 14:55:42.327 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "Mozilla/5.0 (Windows NT 10.0; Win64; x64)", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:55:42.331 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:55:42.332 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:55:42.432 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:55:42.432 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:42.435 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"Mozilla/5.0 (Windows NT 10.0; Win64; x64)","version":0,"timestamp":1739285742327609856,"ephemeral":false}]'
2025-02-11 14:55:42.437 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:55:42.437 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44133/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:42.438 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"Mozilla/5.0 (Windows NT 10.0; Win64; x64)","version":0,"timestamp":1739285742327609856,"ephemeral":false}]'
2025-02-11 14:55:42.440 DEBUG [tests.relay.test_publish] Running test with content topic A credit card number
2025-02-11 14:55:42.440 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "1234-5678-9012-3456", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:55:42.445 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:55:42.445 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:55:42.545 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:55:42.546 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:42.548 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"1234-5678-9012-3456","version":0,"timestamp":1739285742440770816,"ephemeral":false}]'
2025-02-11 14:55:42.550 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:55:42.550 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44133/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:42.552 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"1234-5678-9012-3456","version":0,"timestamp":1739285742440770816,"ephemeral":false}]'
2025-02-11 14:55:42.553 DEBUG [tests.relay.test_publish] Running test with content topic A phone number
2025-02-11 14:55:42.553 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "+1234567890", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:55:42.558 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:55:42.558 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:55:42.658 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:55:42.659 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:42.661 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"+1234567890","version":0,"timestamp":1739285742553815040,"ephemeral":false}]'
2025-02-11 14:55:42.663 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:55:42.663 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44133/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:42.665 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"+1234567890","version":0,"timestamp":1739285742553815040,"ephemeral":false}]'
2025-02-11 14:55:42.666 DEBUG [tests.relay.test_publish] Running test with content topic A UUID
2025-02-11 14:55:42.666 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "123e4567-e89b-12d3-a456-426614174000", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:55:42.671 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:55:42.671 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:55:42.771 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:55:42.771 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:42.774 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"123e4567-e89b-12d3-a456-426614174000","version":0,"timestamp":1739285742666840576,"ephemeral":false}]'
2025-02-11 14:55:42.775 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:55:42.775 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44133/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:42.777 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"123e4567-e89b-12d3-a456-426614174000","version":0,"timestamp":1739285742666840576,"ephemeral":false}]'
2025-02-11 14:55:42.779 DEBUG [tests.relay.test_publish] Running test with content topic A hashtag
2025-02-11 14:55:42.779 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "#helloWorld", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:55:42.783 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:55:42.783 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:55:42.883 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:55:42.884 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:42.886 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"#helloWorld","version":0,"timestamp":1739285742779238144,"ephemeral":false}]'
2025-02-11 14:55:42.888 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:55:42.888 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44133/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:42.890 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"#helloWorld","version":0,"timestamp":1739285742779238144,"ephemeral":false}]'
2025-02-11 14:55:42.891 DEBUG [tests.relay.test_publish] Running test with content topic A Twitter handle
2025-02-11 14:55:42.891 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "@username", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:55:42.896 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:55:42.896 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:55:42.996 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:55:42.996 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:42.999 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"@username","version":0,"timestamp":1739285742891692800,"ephemeral":false}]'
2025-02-11 14:55:43.000 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:55:43.001 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44133/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:43.002 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"@username","version":0,"timestamp":1739285742891692800,"ephemeral":false}]'
2025-02-11 14:55:43.004 DEBUG [tests.relay.test_publish] Running test with content topic A password
2025-02-11 14:55:43.004 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "P@ssw0rd!", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:55:43.008 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:55:43.009 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:55:43.109 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:55:43.109 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:43.112 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"P@ssw0rd!","version":0,"timestamp":1739285743004428544,"ephemeral":false}]'
2025-02-11 14:55:43.113 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:55:43.113 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44133/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:43.115 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"P@ssw0rd!","version":0,"timestamp":1739285743004428544,"ephemeral":false}]'
2025-02-11 14:55:43.116 DEBUG [tests.relay.test_publish] Running test with content topic A date in common format
2025-02-11 14:55:43.117 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "01/11/2023", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:55:43.121 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:55:43.121 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:55:43.221 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:55:43.222 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:43.225 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"01/11/2023","version":0,"timestamp":1739285743117191936,"ephemeral":false}]'
2025-02-11 14:55:43.226 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:55:43.227 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44133/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:43.228 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"01/11/2023","version":0,"timestamp":1739285743117191936,"ephemeral":false}]'
2025-02-11 14:55:43.230 DEBUG [tests.relay.test_publish] Running test with content topic A time string
2025-02-11 14:55:43.230 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "12:00:00", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:55:43.234 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:55:43.235 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:55:43.335 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:55:43.335 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:43.338 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"12:00:00","version":0,"timestamp":1739285743230499328,"ephemeral":false}]'
2025-02-11 14:55:43.339 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:55:43.339 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44133/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:43.341 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"12:00:00","version":0,"timestamp":1739285743230499328,"ephemeral":false}]'
2025-02-11 14:55:43.343 DEBUG [tests.relay.test_publish] Running test with content topic A mathematical equation
2025-02-11 14:55:43.343 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "E = mc^2", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:55:43.347 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:55:43.347 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:55:43.448 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:55:43.448 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23194/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:43.451 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"E = mc^2","version":0,"timestamp":1739285743343372544,"ephemeral":false}]'
2025-02-11 14:55:43.452 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:55:43.452 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44133/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:55:43.454 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"E = mc^2","version":0,"timestamp":1739285743343372544,"ephemeral":false}]'
2025-02-11 14:55:43.457 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-11 14:55:43.459 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-11 14:55:43.459 DEBUG [src.node.waku_node] Stopping container with id 4c733c872a11
2025-02-11 14:55:44.724 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 14:55:44.724 DEBUG [src.node.waku_node] Stopping container with id 1fe7dcc32b77
2025-02-11 14:55:45.247 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 14:55:45.250 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-11 14:55:45.262 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 14:55:45.267 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
