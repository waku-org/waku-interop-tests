2025-02-11 14:59:10.639 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-11 14:59:10.640 DEBUG [tests.conftest] Running test: test_unsubscribe_from_some_pubsub_topics with id: 2025-02-11_14-59-10__b9a10abf-317b-422d-bccc-2152b7082612
2025-02-11 14:59:10.640 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-11 14:59:10.640 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-11 14:59:10.640 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-11 14:59:10.648 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 14:59:10.648 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-11_14-59-10__b9a10abf-317b-422d-bccc-2152b7082612__wakuorg_nwaku:latest.log
2025-02-11 14:59:10.648 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 14:59:10.648 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 14:59:10.650 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 14:59:10.650 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.24.123
2025-02-11 14:59:10.650 DEBUG [src.node.docker_mananger] Generated ports ['63031', '63032', '63033', '63034', '63035']
2025-02-11 14:59:10.651 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 14:59:10.651 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 14:59:10.651 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 14:59:10.651 DEBUG [src.node.docker_mananger] docker run -i -t -p 63031:63031 -p 63032:63032 -p 63033:63033 -p 63034:63034 -p 63035:63035 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=63033 --rest-port=63031 --tcp-port=63032 --discv5-udp-port=63034 --rest-address=0.0.0.0 --nat=extip:172.18.24.123 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=bb967aae6ffbc10faabb49dff6506c00d8a12cbcd329addd51f9cbaffd19afcf --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=63035 --metrics-logging=true --relay=true --filter=true --pubsub-topic=/waku/2/rs/2/0 --pubsub-topic=/waku/2/rs/2/1 --pubsub-topic=/waku/2/rs/2/2 --pubsub-topic=/waku/2/rs/2/3 --pubsub-topic=/waku/2/rs/2/4 --pubsub-topic=/waku/2/rs/2/5 --pubsub-topic=/waku/2/rs/2/6 --pubsub-topic=/waku/2/rs/2/7
2025-02-11 14:59:10.888 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.24.123 waku c31604a87072b5cb2b177d2d6ccb6415274f2ef1abfeb541bb6956cff16082a6
2025-02-11 14:59:10.945 DEBUG [src.node.docker_mananger] Container started with ID c31604a87072. Setting up logs at ./log/docker/node1_2025-02-11_14-59-10__b9a10abf-317b-422d-bccc-2152b7082612__wakuorg_nwaku:latest.log
2025-02-11 14:59:10.945 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 63031
2025-02-11 14:59:10.946 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 14:59:11.436 ERROR [src.node.docker_mananger] Max retries reached for container 31c8b2932f84. Exiting log stream.
2025-02-11 14:59:11.946 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63031/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:11.949 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 14:59:11.949 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 14:59:11.950 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63031/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:11.952 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.24.123/tcp/63032/p2p/16Uiu2HAmQQFWGsVDbTT9bqHTrdfEm5oWN5Q6qYyq5ddgmu2uqUXd","/ip4/172.18.24.123/tcp/63033/ws/p2p/16Uiu2HAmQQFWGsVDbTT9bqHTrdfEm5oWN5Q6qYyq5ddgmu2uqUXd"],"enrUri":"enr:-Mu4QD1Ivx5g5ThSbSAKUqp5HGXcbT6JqMYEMT9xSg1z7pyXZeZl-T1sDbmdD7dPk931qDYwSYAfaDBIhpITr0xtTGQCgmlkgnY0gmlwhKwSGHuKbXVsdGlhZGRyc5YACASsEhh7BvY4AAoErBIYewb2Od0DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQOuhaqsBcCXJ6KqlXaJhK2CMk9yV3xZYGetnrXc2W3gHIN0Y3CC9jiDdWRwgvY6hXdha3UyBQ"}'
2025-02-11 14:59:11.952 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 14:59:11.959 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-11 14:59:11.959 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-11_14-59-10__b9a10abf-317b-422d-bccc-2152b7082612__wakuorg_go-waku:latest.log
2025-02-11 14:59:11.959 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 14:59:11.959 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 14:59:11.960 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 14:59:11.961 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.174.242
2025-02-11 14:59:11.961 DEBUG [src.node.docker_mananger] Generated ports ['43328', '43329', '43330', '43331', '43332']
2025-02-11 14:59:11.961 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 14:59:11.961 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 14:59:11.961 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 14:59:11.961 DEBUG [src.node.docker_mananger] docker run -i -t -p 43328:43328 -p 43329:43329 -p 43330:43330 -p 43331:43331 -p 43332:43332 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=43330 --rest-port=43328 --tcp-port=43329 --discv5-udp-port=43331 --rest-address=0.0.0.0 --nat=extip:172.18.174.242 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=74cfd2bb4e92acdecec4ebdfbbb5e4a2a44b5903fd73aade74ea4ddad912d687 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-Mu4QD1Ivx5g5ThSbSAKUqp5HGXcbT6JqMYEMT9xSg1z7pyXZeZl-T1sDbmdD7dPk931qDYwSYAfaDBIhpITr0xtTGQCgmlkgnY0gmlwhKwSGHuKbXVsdGlhZGRyc5YACASsEhh7BvY4AAoErBIYewb2Od0DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQOuhaqsBcCXJ6KqlXaJhK2CMk9yV3xZYGetnrXc2W3gHIN0Y3CC9jiDdWRwgvY6hXdha3UyBQ --pubsub-topic=/waku/2/rs/2/0 --pubsub-topic=/waku/2/rs/2/1 --pubsub-topic=/waku/2/rs/2/2 --pubsub-topic=/waku/2/rs/2/3 --pubsub-topic=/waku/2/rs/2/4 --pubsub-topic=/waku/2/rs/2/5 --pubsub-topic=/waku/2/rs/2/6 --pubsub-topic=/waku/2/rs/2/7
2025-02-11 14:59:12.202 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.174.242 waku 325162e9594884cc39c0f13ca624d1a4d6d53cde5138cb25de7aec6046088f33
2025-02-11 14:59:12.256 DEBUG [src.node.docker_mananger] Container started with ID 325162e95948. Setting up logs at ./log/docker/node2_2025-02-11_14-59-10__b9a10abf-317b-422d-bccc-2152b7082612__wakuorg_go-waku:latest.log
2025-02-11 14:59:12.257 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 43328
2025-02-11 14:59:12.261 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 14:59:13.261 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43328/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:13.264 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-K-4QDnGGLg414fSpXgvTLxdD4btUWcSw3-h371JwLtDqEqMLTMD5ACfFVsf2Y6BvXRz5zTdIlbeVfUhN2gQyp3LNPyGAZT1hXb9gmlkgnY0gmlwhKwRAAOCcnOTAAIIAAAAAQACAAMABAAFAAYAB4lzZWNwMjU2azGhAqBUQlaRrS3jKPbG9vwgSONfvdFnvREX6kiyWfwuFRHAg3RjcIKpQYN1ZHCCqUOFd2FrdTIB","listenAddresses":["/ip4/127.0.0.1/tcp/43329/p2p/16Uiu2HAm6DXjLppSKbV84zkjtLZPHquNMwS3uEbvj6oAxCL6jkWb","/ip4/127.0.0.1/tcp/43330/ws/p2p/16Uiu2HAm6DXjLppSKbV84zkjtLZPHquNMwS3uEbvj6oAxCL6jkWb","/ip4/172.17.0.3/tcp/43329/p2p/16Uiu2HAm6DXjLppSKbV84zkjtLZPHquNMwS3uEbvj6oAxCL6jkWb","/ip4/172.17.0.3/tcp/43330/ws/p2p/16Uiu2HAm6DXjLppSKbV84zkjtLZPHquNMwS3uEbvj6oAxCL6jkWb"]}'
2025-02-11 14:59:13.264 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 14:59:13.265 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43328/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.24.123/tcp/63032/p2p/16Uiu2HAmQQFWGsVDbTT9bqHTrdfEm5oWN5Q6qYyq5ddgmu2uqUXd", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-11 14:59:13.267 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-11 14:59:13.267 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63031/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2", "/waku/2/rs/2/3", "/waku/2/rs/2/4", "/waku/2/rs/2/5", "/waku/2/rs/2/6", "/waku/2/rs/2/7"]'
2025-02-11 14:59:13.270 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:59:13.270 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43328/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2", "/waku/2/rs/2/3", "/waku/2/rs/2/4", "/waku/2/rs/2/5", "/waku/2/rs/2/6", "/waku/2/rs/2/7"]'
2025-02-11 14:59:13.272 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 14:59:13.273 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63031/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:59:13.279 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:59:13.279 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:59:13.379 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:59:13.380 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63031/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:13.382 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739285953273572864,"ephemeral":false}]'
2025-02-11 14:59:13.384 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:59:13.384 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43328/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:13.386 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739285953273572864,"ephemeral":false}]'
2025-02-11 14:59:13.387 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63031/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:59:13.392 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:59:13.393 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:59:13.493 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:59:13.493 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63031/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:13.496 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739285953387803904,"ephemeral":false}]'
2025-02-11 14:59:13.497 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:59:13.498 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43328/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:13.499 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739285953387803904,"ephemeral":false}]'
2025-02-11 14:59:13.501 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63031/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:59:13.506 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:59:13.507 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:59:13.607 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:59:13.607 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63031/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:13.610 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739285953501506048,"ephemeral":false}]'
2025-02-11 14:59:13.612 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:59:13.612 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43328/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:13.614 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739285953501506048,"ephemeral":false}]'
2025-02-11 14:59:13.615 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63031/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:59:13.620 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:59:13.621 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:59:13.721 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:59:13.722 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63031/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:13.724 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739285953615798528,"ephemeral":false}]'
2025-02-11 14:59:13.726 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:59:13.726 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43328/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:13.728 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739285953615798528,"ephemeral":false}]'
2025-02-11 14:59:13.730 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63031/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:59:13.735 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:59:13.735 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:59:13.835 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:59:13.836 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63031/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:13.839 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739285953729986560,"ephemeral":false}]'
2025-02-11 14:59:13.840 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:59:13.841 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43328/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:13.842 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739285953729986560,"ephemeral":false}]'
2025-02-11 14:59:13.844 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63031/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:59:13.849 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:59:13.850 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:59:13.950 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:59:13.950 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63031/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:13.953 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739285953844631808,"ephemeral":false}]'
2025-02-11 14:59:13.955 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:59:13.955 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43328/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:13.957 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739285953844631808,"ephemeral":false}]'
2025-02-11 14:59:13.959 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63031/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:59:13.964 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:59:13.964 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:59:14.064 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:59:14.065 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63031/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:14.068 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739285953958971904,"ephemeral":false}]'
2025-02-11 14:59:14.069 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:59:14.069 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43328/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:14.071 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739285953958971904,"ephemeral":false}]'
2025-02-11 14:59:14.073 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63031/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:59:14.078 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:59:14.079 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:59:14.179 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:59:14.180 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63031/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:14.183 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739285954073481984,"ephemeral":false}]'
2025-02-11 14:59:14.184 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:59:14.184 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43328/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:14.186 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739285954073481984,"ephemeral":false}]'
2025-02-11 14:59:14.188 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:63031/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2"]'
2025-02-11 14:59:14.195 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:59:14.196 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:43328/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2"]'
2025-02-11 14:59:14.198 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 14:59:14.200 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63031/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:59:14.204 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:63031/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/2/0'
2025-02-11 14:59:14.205 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63031/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:59:14.208 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:63031/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/2/1'
2025-02-11 14:59:14.209 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63031/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:59:14.212 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:63031/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/2/2'
2025-02-11 14:59:14.213 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63031/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:59:14.218 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:59:14.218 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:59:14.318 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:59:14.319 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63031/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:14.322 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739285954213467648,"ephemeral":false}]'
2025-02-11 14:59:14.323 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:59:14.324 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43328/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:14.326 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739285954213467648,"ephemeral":false}]'
2025-02-11 14:59:14.327 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63031/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:59:14.333 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:59:14.333 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:59:14.433 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:59:14.434 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63031/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:14.437 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739285954327859456,"ephemeral":false}]'
2025-02-11 14:59:14.438 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:59:14.438 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43328/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:14.440 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739285954327859456,"ephemeral":false}]'
2025-02-11 14:59:14.442 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63031/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:59:14.447 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:59:14.447 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:59:14.547 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:59:14.548 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63031/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:14.550 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739285954442337792,"ephemeral":false}]'
2025-02-11 14:59:14.552 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:59:14.552 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43328/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:14.554 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739285954442337792,"ephemeral":false}]'
2025-02-11 14:59:14.556 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63031/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:59:14.560 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:59:14.561 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:59:14.661 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:59:14.661 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63031/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:14.664 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739285954555986176,"ephemeral":false}]'
2025-02-11 14:59:14.666 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:59:14.666 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43328/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:14.668 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739285954555986176,"ephemeral":false}]'
2025-02-11 14:59:14.670 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63031/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:59:14.676 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:59:14.676 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:59:14.777 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:59:14.777 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63031/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:14.780 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739285954669985792,"ephemeral":false}]'
2025-02-11 14:59:14.781 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:59:14.782 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43328/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:14.783 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739285954669985792,"ephemeral":false}]'
2025-02-11 14:59:14.786 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-11 14:59:14.787 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-11 14:59:14.788 DEBUG [src.node.waku_node] Stopping container with id c31604a87072
2025-02-11 14:59:15.459 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 14:59:15.459 DEBUG [src.node.waku_node] Stopping container with id 325162e95948
2025-02-11 14:59:16.273 ERROR [src.node.docker_mananger] Max retries reached for container c31604a87072. Exiting log stream.
2025-02-11 14:59:26.006 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 14:59:26.008 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-11 14:59:26.016 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 14:59:26.020 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
