2025-02-11 14:59:22.463 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-11 14:59:22.463 DEBUG [tests.conftest] Running test: test_get_store_messages_with_different_content_topics with id: 2025-02-11_14-59-22__b5c3939b-96d4-491c-9624-58b3c612671f
2025-02-11 14:59:22.464 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-11 14:59:22.464 DEBUG [src.steps.store] Running fixture setup: store_setup
2025-02-11 14:59:22.464 DEBUG [src.steps.store] Running fixture setup: node_setup
2025-02-11 14:59:22.470 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 14:59:22.471 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-11_14-59-22__b5c3939b-96d4-491c-9624-58b3c612671f__wakuorg_nwaku:latest.log
2025-02-11 14:59:22.471 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 14:59:22.471 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 14:59:22.472 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 14:59:22.472 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.164.61
2025-02-11 14:59:22.473 DEBUG [src.node.docker_mananger] Generated ports ['14077', '14078', '14079', '14080', '14081']
2025-02-11 14:59:22.473 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 14:59:22.473 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 14:59:22.473 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 14:59:22.473 DEBUG [src.node.docker_mananger] docker run -i -t -p 14077:14077 -p 14078:14078 -p 14079:14079 -p 14080:14080 -p 14081:14081 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=14079 --rest-port=14077 --tcp-port=14078 --discv5-udp-port=14080 --rest-address=0.0.0.0 --nat=extip:172.18.164.61 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dc7cec05c27edfbab0c3aafb4c1eeeae572ebd3e9f3cb7acbdfbb0b18fcabc11 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=14081 --metrics-logging=true --store=true --relay=true
2025-02-11 14:59:22.701 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.164.61 waku 69c6966004e230d5bb85ae817fbaa6b1f166e0c6631875349e325628e756a1a3
2025-02-11 14:59:22.726 ERROR [src.node.docker_mananger] Max retries reached for container e20de1bbaaf7. Exiting log stream.
2025-02-11 14:59:22.751 DEBUG [src.node.docker_mananger] Container started with ID 69c6966004e2. Setting up logs at ./log/docker/publishing_node1_2025-02-11_14-59-22__b5c3939b-96d4-491c-9624-58b3c612671f__wakuorg_nwaku:latest.log
2025-02-11 14:59:22.751 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 14077
2025-02-11 14:59:22.753 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 14:59:23.234 ERROR [src.node.docker_mananger] Max retries reached for container c6e8151b3210. Exiting log stream.
2025-02-11 14:59:23.754 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:14077/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:23.757 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 14:59:23.757 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 14:59:23.757 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:14077/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:23.760 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.164.61/tcp/14078/p2p/16Uiu2HAmB1GHLweJAcddkDjHfspbmW4hztaP8vj3PN1CHuuk7rsb","/ip4/172.18.164.61/tcp/14079/ws/p2p/16Uiu2HAmB1GHLweJAcddkDjHfspbmW4hztaP8vj3PN1CHuuk7rsb"],"enrUri":"enr:-L24QMuQqB-AFR5pKylBxQ3nYY35FMFJFTYRb9-AXw5LS0vJU7PokmKAq6P1I8Se4Ki8eazNnby3gfxuoNeGlkpRih8CgmlkgnY0gmlwhKwSpD2KbXVsdGlhZGRyc5YACASsEqQ9Bjb-AAoErBKkPQY2_90DgnJzhQADAQAAiXNlY3AyNTZrMaEC53pBtW4GTg6qJZo4E_MkwEw0BaVVC9LGCi9abXP0vnqDdGNwgjb-g3VkcII3AIV3YWt1MgM"}'
2025-02-11 14:59:23.760 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 14:59:23.766 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-11 14:59:23.766 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-11_14-59-22__b5c3939b-96d4-491c-9624-58b3c612671f__wakuorg_go-waku:latest.log
2025-02-11 14:59:23.767 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 14:59:23.767 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 14:59:23.768 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 14:59:23.768 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.254.191
2025-02-11 14:59:23.768 DEBUG [src.node.docker_mananger] Generated ports ['62441', '62442', '62443', '62444', '62445']
2025-02-11 14:59:23.768 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 14:59:23.769 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 14:59:23.769 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 14:59:23.769 DEBUG [src.node.docker_mananger] docker run -i -t -p 62441:62441 -p 62442:62442 -p 62443:62443 -p 62444:62444 -p 62445:62445 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=62443 --rest-port=62441 --tcp-port=62442 --discv5-udp-port=62444 --rest-address=0.0.0.0 --nat=extip:172.18.254.191 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=feeae0e6afcdd5fd1d98b77adae1514bb47ecdedbcacae6ebd9d36cbf64a1bd5 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-L24QMuQqB-AFR5pKylBxQ3nYY35FMFJFTYRb9-AXw5LS0vJU7PokmKAq6P1I8Se4Ki8eazNnby3gfxuoNeGlkpRih8CgmlkgnY0gmlwhKwSpD2KbXVsdGlhZGRyc5YACASsEqQ9Bjb-AAoErBKkPQY2_90DgnJzhQADAQAAiXNlY3AyNTZrMaEC53pBtW4GTg6qJZo4E_MkwEw0BaVVC9LGCi9abXP0vnqDdGNwgjb-g3VkcII3AIV3YWt1MgM --storenode=/ip4/172.18.164.61/tcp/14078/p2p/16Uiu2HAmB1GHLweJAcddkDjHfspbmW4hztaP8vj3PN1CHuuk7rsb --store=true --relay=true
2025-02-11 14:59:23.999 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.254.191 waku 3fb768472d3c7a6570df1bae0515f09146e5a6ba06cf61494b538bb00ca4d5c9
2025-02-11 14:59:24.049 DEBUG [src.node.docker_mananger] Container started with ID 3fb768472d3c. Setting up logs at ./log/docker/store_node1_2025-02-11_14-59-22__b5c3939b-96d4-491c-9624-58b3c612671f__wakuorg_go-waku:latest.log
2025-02-11 14:59:24.049 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 62441
2025-02-11 14:59:24.050 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 14:59:25.051 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:62441/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:25.054 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QKNCviRwl8FsWCHUKuv_cpOOzpEgqLEu5nc1qih91p9qZswFXQijUnSKkxA2nU61kccmJdOk3PbSMLgPxpt2m8eGAZT1haUVgmlkgnY0gmlwhKwRAAOCcnODAAMAiXNlY3AyNTZrMaEDz7hyAZwLSRcHZ8FfnXIIQsGBKqPuJ-AfnSE0OynDXLODdGNwgvPqg3VkcILz7IV3YWt1MgM","listenAddresses":["/ip4/127.0.0.1/tcp/62442/p2p/16Uiu2HAmSdqsKjo5Btw5gSDnpLfrTAknQSpq3yVsCKDGeBJYapQi","/ip4/127.0.0.1/tcp/62443/ws/p2p/16Uiu2HAmSdqsKjo5Btw5gSDnpLfrTAknQSpq3yVsCKDGeBJYapQi","/ip4/172.17.0.3/tcp/62442/p2p/16Uiu2HAmSdqsKjo5Btw5gSDnpLfrTAknQSpq3yVsCKDGeBJYapQi","/ip4/172.17.0.3/tcp/62443/ws/p2p/16Uiu2HAmSdqsKjo5Btw5gSDnpLfrTAknQSpq3yVsCKDGeBJYapQi"]}'
2025-02-11 14:59:25.054 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 14:59:25.055 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:62441/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.164.61/tcp/14078/p2p/16Uiu2HAmB1GHLweJAcddkDjHfspbmW4hztaP8vj3PN1CHuuk7rsb", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-11 14:59:25.071 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-11 14:59:25.072 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14077/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-11 14:59:25.092 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:59:25.092 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:62441/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-11 14:59:25.094 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 14:59:25.098 DEBUG [tests.store.test_get_messages] Running test with content topic /myapp/1/latest/proto
2025-02-11 14:59:25.101 DEBUG [src.steps.store] Relaying message
2025-02-11 14:59:25.101 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14077/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:59:25.112 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:59:25.112 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 14:59:25.313 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-11 14:59:25.314 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:14077/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:25.317 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x6d7f7c648b6d4d25479fdd4c31afb9c0a04919f49e1a0b5d4420d7e0ef327e90"}]}'
2025-02-11 14:59:25.317 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-11 14:59:25.317 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:62441/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:25.323 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"a3d2cd381f11dc69f3a23d382133ef9cb456d4122bb1a5a3f45a21a72c9f65c9","status_code":200,"status_desc":"OK","messages":[{"message_hash":"bX98ZIttTSVHn91MMa+5wKBJGfSeGgtdRCDX4O8yfpA="}]}'
2025-02-11 14:59:25.324 DEBUG [tests.store.test_get_messages] Running test with content topic /waku/2/content/test.js
2025-02-11 14:59:25.324 DEBUG [src.steps.store] Relaying message
2025-02-11 14:59:25.324 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14077/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:59:25.329 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:59:25.330 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 14:59:25.530 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-11 14:59:25.530 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:14077/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fwaku%2F2%2Fcontent%2Ftest.js&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:25.533 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xedca6f053a67ba664bfe4c1df2c450ce50088abac5a0b3c6566e7106c609e61f"}]}'
2025-02-11 14:59:25.534 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-11 14:59:25.534 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:62441/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fwaku%2F2%2Fcontent%2Ftest.js&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:25.539 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"04fb9661a21c020a55f141f28dd6c52f8329da7d9d8223685eef15384fd664d5","status_code":200,"status_desc":"OK","messages":[{"message_hash":"7cpvBTpnumZL/kwd8sRQzlAIirrFoLPGVm5xBsYJ5h8="}]}'
2025-02-11 14:59:25.540 DEBUG [tests.store.test_get_messages] Running test with content topic /app/22/sometopic/someencoding
2025-02-11 14:59:25.540 DEBUG [src.steps.store] Relaying message
2025-02-11 14:59:25.540 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14077/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:59:25.545 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:59:25.545 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 14:59:25.746 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-11 14:59:25.746 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:14077/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F22%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:25.749 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xb4511b7ca04c247158d74c1263957bf2a9206dfd88ac282172b86b3247935bd7"}]}'
2025-02-11 14:59:25.750 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-11 14:59:25.750 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:62441/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F22%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:25.755 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"47f5dcea2e3ba443b7517ac3c6f8fb1a36eb320252f185a10bdfb784eda0232b","status_code":200,"status_desc":"OK","messages":[{"message_hash":"tFEbfKBMJHFY10wSY5V78qkgbf2IrCghcrhrMkeTW9c="}]}'
2025-02-11 14:59:25.756 DEBUG [tests.store.test_get_messages] Running test with content topic /toychat/2/huilong/proto
2025-02-11 14:59:25.757 DEBUG [src.steps.store] Relaying message
2025-02-11 14:59:25.757 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14077/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:59:25.762 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:59:25.762 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 14:59:25.963 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-11 14:59:25.963 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:14077/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Ftoychat%2F2%2Fhuilong%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:25.966 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xc08bd0b98675070a12da3b37ec07452dade3cac4899a7104137d4aa20a77a6cf"}]}'
2025-02-11 14:59:25.967 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-11 14:59:25.967 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:62441/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Ftoychat%2F2%2Fhuilong%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:25.971 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"b3369a1e7338e7a7bc69c69fc296225dd669253132fa1a406410600c9c64b15c","status_code":200,"status_desc":"OK","messages":[{"message_hash":"wIvQuYZ1BwoS2js37AdFLa3jysSJmnEEE31Kogp3ps8="}]}'
2025-02-11 14:59:25.972 DEBUG [tests.store.test_get_messages] Running test with content topic /statusim/1/community/cbor
2025-02-11 14:59:25.973 DEBUG [src.steps.store] Relaying message
2025-02-11 14:59:25.973 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14077/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:59:25.978 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:59:25.978 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 14:59:26.178 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-11 14:59:26.179 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:14077/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fstatusim%2F1%2Fcommunity%2Fcbor&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:26.182 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x9c45c132ae2cc7a617536982129d8c28a8dddc7252d5347e5f103de5226676eb"}]}'
2025-02-11 14:59:26.182 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-11 14:59:26.182 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:62441/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fstatusim%2F1%2Fcommunity%2Fcbor&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:26.187 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"05202769d31cd01a03fe8fd62ed0b54d6f80a718d4db4ce0b2a664e76fb2d93d","status_code":200,"status_desc":"OK","messages":[{"message_hash":"nEXBMq4sx6YXU2mCEp2MKKjd3HJS1TR+XxA95SJmdus="}]}'
2025-02-11 14:59:26.188 DEBUG [tests.store.test_get_messages] Running test with content topic /app/27/sometopic/someencoding
2025-02-11 14:59:26.188 DEBUG [src.steps.store] Relaying message
2025-02-11 14:59:26.188 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14077/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:59:26.193 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:59:26.193 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 14:59:26.394 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-11 14:59:26.394 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:14077/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F27%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:26.397 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x19d95efeab3de8847eaa288177662991f3d08fbffe175c0792ae9ebb15337537"}]}'
2025-02-11 14:59:26.397 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-11 14:59:26.398 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:62441/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F27%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:26.402 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"1ea6667dba5a6508708a4fb818a4fbbf7d2b591205159dae10ed8fd37c6b4fb2","status_code":200,"status_desc":"OK","messages":[{"message_hash":"Gdle/qs96IR+qiiBd2YpkfPQj7/+F1wHkq6euxUzdTc="}]}'
2025-02-11 14:59:26.403 DEBUG [tests.store.test_get_messages] Running test with content topic /app/29/sometopic/someencoding
2025-02-11 14:59:26.404 DEBUG [src.steps.store] Relaying message
2025-02-11 14:59:26.404 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14077/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:59:26.409 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:59:26.409 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 14:59:26.610 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-11 14:59:26.610 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:14077/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F29%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:26.613 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x3aa40b2af65498e0b1ffb115519baccbcd012fc0f71be681ed7765ac5b3f939c"}]}'
2025-02-11 14:59:26.613 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-11 14:59:26.613 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:62441/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F29%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:26.618 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"8130f1c7baa5773197f2a212b8356750974e98ab8bb7436261d13505a991da85","status_code":200,"status_desc":"OK","messages":[{"message_hash":"OqQLKvZUmOCx/7EVUZusy80BL8D3G+aB7XdlrFs/k5w="}]}'
2025-02-11 14:59:26.619 DEBUG [tests.store.test_get_messages] Running test with content topic /app/20/sometopic/someencoding
2025-02-11 14:59:26.619 DEBUG [src.steps.store] Relaying message
2025-02-11 14:59:26.619 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14077/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:59:26.624 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:59:26.624 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-11 14:59:26.825 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-11 14:59:26.825 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:14077/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F20%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:26.828 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x65bef17b4dad203bc209971ef3f5450178092cc9ef193dfd0cc288181a71607c"}]}'
2025-02-11 14:59:26.828 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-11 14:59:26.828 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:62441/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F20%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:26.833 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"137071ef3e749902dcbffe69582e0bdcd358c4335db418b0771bf8f79ae11ddd","status_code":200,"status_desc":"OK","messages":[{"message_hash":"Zb7xe02tIDvCCZce8/VFAXgJLMnvGT39DMKIGBpxYHw="}]}'
2025-02-11 14:59:26.835 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-11 14:59:26.836 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-11 14:59:26.836 DEBUG [src.node.waku_node] Stopping container with id 69c6966004e2
2025-02-11 14:59:28.261 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 14:59:28.261 DEBUG [src.node.waku_node] Stopping container with id 3fb768472d3c
2025-02-11 14:59:28.768 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 14:59:28.769 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-11 14:59:28.779 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 14:59:28.783 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
