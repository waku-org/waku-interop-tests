2025-02-11 14:59:26.027 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-11 14:59:26.027 DEBUG [tests.conftest] Running test: test_unsubscribe_from_all_pubsub_topics with id: 2025-02-11_14-59-26__f743b734-9cb5-4345-9af1-8fe8e673ad29
2025-02-11 14:59:26.027 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-11 14:59:26.028 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-11 14:59:26.028 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-11 14:59:26.035 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-11 14:59:26.036 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-11_14-59-26__f743b734-9cb5-4345-9af1-8fe8e673ad29__wakuorg_nwaku:latest.log
2025-02-11 14:59:26.036 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 14:59:26.036 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 14:59:26.038 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 14:59:26.038 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.85.84
2025-02-11 14:59:26.038 DEBUG [src.node.docker_mananger] Generated ports ['50893', '50894', '50895', '50896', '50897']
2025-02-11 14:59:26.038 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 14:59:26.038 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 14:59:26.038 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 14:59:26.038 DEBUG [src.node.docker_mananger] docker run -i -t -p 50893:50893 -p 50894:50894 -p 50895:50895 -p 50896:50896 -p 50897:50897 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=50895 --rest-port=50893 --tcp-port=50894 --discv5-udp-port=50896 --rest-address=0.0.0.0 --nat=extip:172.18.85.84 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=15ee1689b38aca5ca33dce3188f406d6dc23a60aeafdcbf08b2f5e1cc7df64ec --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=50897 --metrics-logging=true --relay=true --filter=true --pubsub-topic=/waku/2/rs/2/0 --pubsub-topic=/waku/2/rs/2/1 --pubsub-topic=/waku/2/rs/2/2 --pubsub-topic=/waku/2/rs/2/3 --pubsub-topic=/waku/2/rs/2/4 --pubsub-topic=/waku/2/rs/2/5 --pubsub-topic=/waku/2/rs/2/6 --pubsub-topic=/waku/2/rs/2/7
2025-02-11 14:59:26.281 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.85.84 waku 9a39b5048e831fb0350f65cd08cb415a20099e26ba9635f0efb75b6ec5dc51ae
2025-02-11 14:59:26.332 DEBUG [src.node.docker_mananger] Container started with ID 9a39b5048e83. Setting up logs at ./log/docker/node1_2025-02-11_14-59-26__f743b734-9cb5-4345-9af1-8fe8e673ad29__wakuorg_nwaku:latest.log
2025-02-11 14:59:26.332 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 50893
2025-02-11 14:59:26.334 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 14:59:26.827 ERROR [src.node.docker_mananger] Max retries reached for container 325162e95948. Exiting log stream.
2025-02-11 14:59:27.334 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50893/health" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:27.337 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-11 14:59:27.337 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-11 14:59:27.338 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50893/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:27.340 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.85.84/tcp/50894/p2p/16Uiu2HAmUwZUS8yNBjJ63mTjHFox6UMR36qGdJ88tzJun9uqPzEa","/ip4/172.18.85.84/tcp/50895/ws/p2p/16Uiu2HAmUwZUS8yNBjJ63mTjHFox6UMR36qGdJ88tzJun9uqPzEa"],"enrUri":"enr:-Mu4QO3ClZpl_iuMx32HqjyI63ZQayZGB8b65nD6HdWHf2fwVY_urIq5Zmq7Q0K1uQcvVkJeElWrbd9YNY5wtvrWgbgCgmlkgnY0gmlwhKwSVVSKbXVsdGlhZGRyc5YACASsElVUBsbOAAoErBJVVAbGz90DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQPx-bx7zD7-egynaNF_Le_xJaLRpdOz71JubjjNn6RLh4N0Y3CCxs6DdWRwgsbQhXdha3UyBQ"}'
2025-02-11 14:59:27.340 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 14:59:27.347 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-11 14:59:27.347 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-11_14-59-26__f743b734-9cb5-4345-9af1-8fe8e673ad29__wakuorg_go-waku:latest.log
2025-02-11 14:59:27.347 DEBUG [src.node.waku_node] Starting Node...
2025-02-11 14:59:27.348 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-11 14:59:27.349 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-11 14:59:27.349 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.200.30
2025-02-11 14:59:27.350 DEBUG [src.node.docker_mananger] Generated ports ['33483', '33484', '33485', '33486', '33487']
2025-02-11 14:59:27.350 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-11 14:59:27.350 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-11 14:59:27.350 DEBUG [src.node.waku_node] Using volumes []
2025-02-11 14:59:27.350 DEBUG [src.node.docker_mananger] docker run -i -t -p 33483:33483 -p 33484:33484 -p 33485:33485 -p 33486:33486 -p 33487:33487 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=33485 --rest-port=33483 --tcp-port=33484 --discv5-udp-port=33486 --rest-address=0.0.0.0 --nat=extip:172.18.200.30 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=06ab6b463fd8100b4d14dee5dab3b7ecfcf966e4bdbc016afd39cdfa7cbeb112 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-Mu4QO3ClZpl_iuMx32HqjyI63ZQayZGB8b65nD6HdWHf2fwVY_urIq5Zmq7Q0K1uQcvVkJeElWrbd9YNY5wtvrWgbgCgmlkgnY0gmlwhKwSVVSKbXVsdGlhZGRyc5YACASsElVUBsbOAAoErBJVVAbGz90DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQPx-bx7zD7-egynaNF_Le_xJaLRpdOz71JubjjNn6RLh4N0Y3CCxs6DdWRwgsbQhXdha3UyBQ --pubsub-topic=/waku/2/rs/2/0 --pubsub-topic=/waku/2/rs/2/1 --pubsub-topic=/waku/2/rs/2/2 --pubsub-topic=/waku/2/rs/2/3 --pubsub-topic=/waku/2/rs/2/4 --pubsub-topic=/waku/2/rs/2/5 --pubsub-topic=/waku/2/rs/2/6 --pubsub-topic=/waku/2/rs/2/7
2025-02-11 14:59:27.585 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.200.30 waku 908cabd1b800ee4ab6146b4485c951ade7094cdadee73c3d30090317ecc31be7
2025-02-11 14:59:27.638 DEBUG [src.node.docker_mananger] Container started with ID 908cabd1b800. Setting up logs at ./log/docker/node2_2025-02-11_14-59-26__f743b734-9cb5-4345-9af1-8fe8e673ad29__wakuorg_go-waku:latest.log
2025-02-11 14:59:27.639 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 33483
2025-02-11 14:59:27.640 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-11 14:59:28.640 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33483/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:28.642 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-K-4QNlSomuvHUcIs7XcMQz9s0l10SaBTbxwmyE9SQEGg1YQd8IMol2Jkxa53g2CNGoZ5weR0BVz5bfSXjVtUFOhAFCGAZT1hbMSgmlkgnY0gmlwhKwRAAOCcnOTAAIIAAYABwAAAAEAAgADAAQABYlzZWNwMjU2azGhAqLsZjkV5MBV2CUyGwv4TjEw6gV2Zz4nK9znPadME3aZg3RjcIKCzIN1ZHCCgs6Fd2FrdTIB","listenAddresses":["/ip4/127.0.0.1/tcp/33484/p2p/16Uiu2HAm6Pf6jvyuS7YvLrDH1z5jNoX2wxDB7f8X4vmZosDmeZep","/ip4/127.0.0.1/tcp/33485/ws/p2p/16Uiu2HAm6Pf6jvyuS7YvLrDH1z5jNoX2wxDB7f8X4vmZosDmeZep","/ip4/172.17.0.3/tcp/33484/p2p/16Uiu2HAm6Pf6jvyuS7YvLrDH1z5jNoX2wxDB7f8X4vmZosDmeZep","/ip4/172.17.0.3/tcp/33485/ws/p2p/16Uiu2HAm6Pf6jvyuS7YvLrDH1z5jNoX2wxDB7f8X4vmZosDmeZep"]}'
2025-02-11 14:59:28.643 INFO [src.node.waku_node] REST service is ready !!
2025-02-11 14:59:28.643 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:33483/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.85.84/tcp/50894/p2p/16Uiu2HAmUwZUS8yNBjJ63mTjHFox6UMR36qGdJ88tzJun9uqPzEa", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-11 14:59:28.645 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-11 14:59:28.646 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:50893/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2", "/waku/2/rs/2/3", "/waku/2/rs/2/4", "/waku/2/rs/2/5", "/waku/2/rs/2/6", "/waku/2/rs/2/7"]'
2025-02-11 14:59:28.648 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:59:28.649 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:33483/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2", "/waku/2/rs/2/3", "/waku/2/rs/2/4", "/waku/2/rs/2/5", "/waku/2/rs/2/6", "/waku/2/rs/2/7"]'
2025-02-11 14:59:28.650 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-11 14:59:28.651 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:50893/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:59:28.656 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:59:28.656 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:59:28.756 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:59:28.757 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50893/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:28.759 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739285968651629312,"ephemeral":false}]'
2025-02-11 14:59:28.761 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:59:28.761 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33483/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:28.763 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739285968651629312,"ephemeral":false}]'
2025-02-11 14:59:28.765 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:50893/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:59:28.770 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:59:28.770 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:59:28.870 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:59:28.871 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50893/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:28.873 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739285968765400320,"ephemeral":false}]'
2025-02-11 14:59:28.875 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:59:28.875 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33483/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:28.877 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739285968765400320,"ephemeral":false}]'
2025-02-11 14:59:28.879 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:50893/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:59:28.883 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:59:28.884 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:59:28.984 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:59:28.984 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50893/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:28.987 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739285968879055872,"ephemeral":false}]'
2025-02-11 14:59:28.989 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:59:28.989 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33483/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:28.991 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739285968879055872,"ephemeral":false}]'
2025-02-11 14:59:28.993 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:50893/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:59:28.998 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:59:28.998 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:59:29.098 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:59:29.099 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50893/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:29.102 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739285968993019904,"ephemeral":false}]'
2025-02-11 14:59:29.103 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:59:29.103 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33483/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:29.105 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739285968993019904,"ephemeral":false}]'
2025-02-11 14:59:29.107 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:50893/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:59:29.111 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:59:29.111 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:59:29.212 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:59:29.212 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50893/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:29.215 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739285969106881280,"ephemeral":false}]'
2025-02-11 14:59:29.216 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:59:29.217 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33483/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:29.218 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739285969106881280,"ephemeral":false}]'
2025-02-11 14:59:29.220 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:50893/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:59:29.224 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:59:29.225 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:59:29.325 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:59:29.325 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50893/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:29.328 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739285969220187648,"ephemeral":false}]'
2025-02-11 14:59:29.330 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:59:29.330 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33483/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:29.332 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739285969220187648,"ephemeral":false}]'
2025-02-11 14:59:29.333 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:50893/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:59:29.338 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:59:29.338 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:59:29.439 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:59:29.439 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50893/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:29.442 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739285969333822720,"ephemeral":false}]'
2025-02-11 14:59:29.443 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:59:29.444 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33483/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:29.445 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739285969333822720,"ephemeral":false}]'
2025-02-11 14:59:29.447 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:50893/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-11 14:59:29.452 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:59:29.452 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-11 14:59:29.553 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-11 14:59:29.553 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50893/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:29.556 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739285969447501312,"ephemeral":false}]'
2025-02-11 14:59:29.557 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-11 14:59:29.557 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33483/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-11 14:59:29.559 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739285969447501312,"ephemeral":false}]'
2025-02-11 14:59:29.561 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:50893/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2", "/waku/2/rs/2/3", "/waku/2/rs/2/4", "/waku/2/rs/2/5", "/waku/2/rs/2/6", "/waku/2/rs/2/7"]'
2025-02-11 14:59:29.574 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-11 14:59:29.575 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:33483/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2", "/waku/2/rs/2/3", "/waku/2/rs/2/4", "/waku/2/rs/2/5", "/waku/2/rs/2/6", "/waku/2/rs/2/7"]'
2025-02-11 14:59:49.821 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-11 14:59:49.822 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-11 14:59:49.822 DEBUG [src.node.waku_node] Stopping container with id 9a39b5048e83
2025-02-11 14:59:51.334 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 14:59:51.334 DEBUG [src.node.waku_node] Stopping container with id 908cabd1b800
2025-02-11 14:59:52.147 ERROR [src.node.docker_mananger] Max retries reached for container 9a39b5048e83. Exiting log stream.
2025-02-11 15:00:01.856 DEBUG [src.node.waku_node] Container stopped.
2025-02-11 15:00:01.858 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-11 15:00:01.867 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-11 15:00:01.870 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
