{"uid":"19e12ee8ca3d2505","name":"test_repeated_filter_requestID","fullName":"tests.e2e.test_e2e.TestE2E#test_repeated_filter_requestID","historyId":"8b3cc06d017f8c9ce811dd614358f7f5","time":{"start":1733136078376,"stop":1733136115158,"duration":36782},"status":"broken","statusMessage":"Exception: Error: 400 Client Error: Bad Request for url: http://127.0.0.1:17258/filter/v2/subscriptions with response: b'{\"requestId\":\"1\",\"statusDesc\":\"subscription failed\"}'","statusTrace":"src/node/api_clients/base_client.py:14: in make_request\n    response.raise_for_status()\n/opt/hostedtoolcache/Python/3.12.7/x64/lib/python3.12/site-packages/requests/models.py:1021: in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\nE   requests.exceptions.HTTPError: 400 Client Error: Bad Request for url: http://127.0.0.1:17258/filter/v2/subscriptions\n\nDuring handling of the above exception, another exception occurred:\ntests/e2e/test_e2e.py:362: in test_repeated_filter_requestID\n    self.node3.set_filter_subscriptions({\"requestId\": \"1\", \"contentFilters\": [self.test_content_topic], \"pubsubTopic\": self.test_pubsub_topic})\nsrc/node/waku_node.py:355: in set_filter_subscriptions\n    return self._api.set_filter_subscriptions(subscription)\nsrc/node/api_clients/rest.py:68: in set_filter_subscriptions\n    set_subscriptions_response = self.rest_call(\"post\", \"filter/v2/subscriptions\", json.dumps(subscription))\nsrc/node/api_clients/rest.py:16: in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\nsrc/node/api_clients/base_client.py:17: in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\nE   Exception: Error: 400 Client Error: Bad Request for url: http://127.0.0.1:17258/filter/v2/subscriptions with response: b'{\"requestId\":\"1\",\"statusDesc\":\"subscription failed\"}'","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":2,"retriesStatusChange":false,"beforeStages":[{"name":"attach_logs_on_fail","time":{"start":1733136078338,"stop":1733136078339,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_setup","time":{"start":1733136078339,"stop":1733136078340,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"check_waku_log_errors","time":{"start":1733136078339,"stop":1733136078339,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_id","time":{"start":1733136078339,"stop":1733136078339,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes","time":{"start":1733136078339,"stop":1733136078339,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"common_setup","time":{"start":1733136078340,"stop":1733136078340,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"filter_setup","time":{"start":1733136078340,"stop":1733136078340,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"light_push_setup","time":{"start":1733136078340,"stop":1733136078341,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"nodes","time":{"start":1733136078341,"stop":1733136078374,"duration":33},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"relay_setup","time":{"start":1733136078374,"stop":1733136078374,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"store_setup","time":{"start":1733136078375,"stop":1733136078375,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"broken","statusMessage":"Exception: Error: 400 Client Error: Bad Request for url: http://127.0.0.1:17258/filter/v2/subscriptions with response: b'{\"requestId\":\"1\",\"statusDesc\":\"subscription failed\"}'","statusTrace":"src/node/api_clients/base_client.py:14: in make_request\n    response.raise_for_status()\n/opt/hostedtoolcache/Python/3.12.7/x64/lib/python3.12/site-packages/requests/models.py:1021: in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\nE   requests.exceptions.HTTPError: 400 Client Error: Bad Request for url: http://127.0.0.1:17258/filter/v2/subscriptions\n\nDuring handling of the above exception, another exception occurred:\ntests/e2e/test_e2e.py:362: in test_repeated_filter_requestID\n    self.node3.set_filter_subscriptions({\"requestId\": \"1\", \"contentFilters\": [self.test_content_topic], \"pubsubTopic\": self.test_pubsub_topic})\nsrc/node/waku_node.py:355: in set_filter_subscriptions\n    return self._api.set_filter_subscriptions(subscription)\nsrc/node/api_clients/rest.py:68: in set_filter_subscriptions\n    set_subscriptions_response = self.rest_call(\"post\", \"filter/v2/subscriptions\", json.dumps(subscription))\nsrc/node/api_clients/rest.py:16: in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\nsrc/node/api_clients/base_client.py:17: in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\nE   Exception: Error: 400 Client Error: Bad Request for url: http://127.0.0.1:17258/filter/v2/subscriptions with response: b'{\"requestId\":\"1\",\"statusDesc\":\"subscription failed\"}'","steps":[{"name":"wait_for_autoconnection","time":{"start":1733136083108,"stop":1733136115133,"duration":32025},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.e2e.test_e2e.TestE2E object at 0x7f30a8a919d0>, [<src.node.waku_node.WakuNode object at 0x7f30a83f74a0>, <src.node.waku_node.WakuNode object at 0x7f30a83f5a30>])"},{"name":"hard_wait","value":"30"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"2dac446bcc3ce1e5","name":"log","source":"2dac446bcc3ce1e5.txt","type":"text/plain","size":56456}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"test_setup::0","time":{"start":1733136115249,"stop":1733136115250,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes::0","time":{"start":1733136115251,"stop":1733136119166,"duration":3915},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"check_waku_log_errors::0","time":{"start":1733136119168,"stop":1733136119205,"duration":37},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail::0","time":{"start":1733136119206,"stop":1733136119210,"duration":4},"status":"passed","steps":[],"attachments":[{"uid":"2aa741e6b944c524","name":"node2_2024-12-02_10-41-18__6ba63c82-d15d-4e66-8b6a-0d3f4fe8bbc9__wakuorg_nwaku:latest.log","source":"2aa741e6b944c524.txt","type":"text/plain","size":326648},{"uid":"e3b939e60f7191d5","name":"node1_2024-12-02_10-41-18__6ba63c82-d15d-4e66-8b6a-0d3f4fe8bbc9__wakuorg_go-waku:latest.log","source":"e3b939e60f7191d5.txt","type":"text/plain","size":162362},{"uid":"502e9cbdd83ade00","name":"node3_2024-12-02_10-41-18__6ba63c82-d15d-4e66-8b6a-0d3f4fe8bbc9__wakuorg_go-waku:latest.log","source":"502e9cbdd83ade00.txt","type":"text/plain","size":60601}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"tests.e2e"},{"name":"suite","value":"test_e2e"},{"name":"subSuite","value":"TestE2E"},{"name":"host","value":"fv-az1776-739"},{"name":"thread","value":"2084-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.e2e.test_e2e"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"6826c1c9d1d538e3","status":"broken","statusDetails":"Exception: Error: 400 Client Error: Bad Request for url: http://127.0.0.1:29776/filter/v2/subscriptions with response: b'{\"requestId\":\"1\",\"statusDesc\":\"subscription failed\"}'","time":{"start":1733136037333,"stop":1733136074159,"duration":36826}},{"uid":"37afe942eedca415","status":"broken","statusDetails":"Exception: Error: 400 Client Error: Bad Request for url: http://127.0.0.1:16913/filter/v2/subscriptions with response: b'{\"requestId\":\"1\",\"statusDesc\":\"subscription failed\"}'","time":{"start":1733135996288,"stop":1733136033188,"duration":36900}}],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":1,"skipped":0,"passed":6,"unknown":0,"total":7},"items":[{"uid":"546a4c9ef9a2f501","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/379//#testresult/546a4c9ef9a2f501","status":"passed","time":{"start":1733109675041,"stop":1733109716589,"duration":41548}},{"uid":"4dfa3de721c5fc38","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/378//#testresult/4dfa3de721c5fc38","status":"passed","time":{"start":1733023639003,"stop":1733023680281,"duration":41278}},{"uid":"e8df30b76d85c389","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/377//#testresult/e8df30b76d85c389","status":"passed","time":{"start":1732936575330,"stop":1732936618067,"duration":42737}},{"uid":"6477f5b2da9e860b","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/376//#testresult/6477f5b2da9e860b","status":"passed","time":{"start":1732850178963,"stop":1732850222304,"duration":43341}},{"uid":"faed1079eafd689c","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/375//#testresult/faed1079eafd689c","status":"passed","time":{"start":1732763905703,"stop":1732763948860,"duration":43157}},{"uid":"58163de084ef97c2","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/374//#testresult/58163de084ef97c2","status":"passed","time":{"start":1732718134896,"stop":1732718176991,"duration":42095}}]},"tags":[]},"source":"19e12ee8ca3d2505.json","parameterValues":[]}