[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-12-09_03-20-33__062c06f3-e05f-483d-a86e-086126e88154
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-09_03-20-33__062c06f3-e05f-483d-a86e-086126e88154__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.173.198
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['21410', '21411', '21412', '21413', '21414']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 21410:21410 -p 21411:21411 -p 21412:21412 -p 21413:21413 -p 21414:21414 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=21412 --rest-port=21410 --tcp-port=21411 --discv5-udp-port=21413 --rest-address=0.0.0.0 --nat=extip:172.18.173.198 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b7236c81ff79edfedfeec5aa77dfadef08aca62197512b33ba2b61464c52de97 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=21414 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.173.198 waku d6fa55bbb92f921e743cc8d1895a8ccc65a4f1ea34dbb393e3e6638cc22c602a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID d6fa55bbb92f. Setting up logs at ./log/docker/node1_2024-12-09_03-20-33__062c06f3-e05f-483d-a86e-086126e88154__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 21410
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container f22e12ce22ff. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21410/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21410/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.173.198/tcp/21411/p2p/16Uiu2HAm7R9aaQT7fwBkmF5GR2r7Cq7vDLQPrPRcfrckci9deQCr","/ip4/172.18.173.198/tcp/21412/ws/p2p/16Uiu2HAm7R9aaQT7fwBkmF5GR2r7Cq7vDLQPrPRcfrckci9deQCr"],"enrUri":"enr:-L24QP1J4_hdbjbg6dcjCK_myHuz7FvLRcTkD4-i2a2SiE_9G7vG1fUasJ9cm8kmFtvrIWLVRsoWS-nB_EWwL3XHxicCgmlkgnY0gmlwhKwSrcaKbXVsdGlhZGRyc5YACASsEq3GBlOjAAoErBKtxgZTpN0DgnJzhQADAQAAiXNlY3AyNTZrMaECsinekPy30sp9H1Vi-EOKKR9Leypaat_dpr5j6m7PCLODdGNwglOjg3VkcIJTpYV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-09_03-20-33__062c06f3-e05f-483d-a86e-086126e88154__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.146.253
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['55992', '55993', '55994', '55995', '55996']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 55992:55992 -p 55993:55993 -p 55994:55994 -p 55995:55995 -p 55996:55996 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=55994 --rest-port=55992 --tcp-port=55993 --discv5-udp-port=55995 --rest-address=0.0.0.0 --nat=extip:172.18.146.253 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=45efff43a4b5874ed40de4e3d27fcacdde49bffe7daedf76f9a8948c2c3deb62 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QP1J4_hdbjbg6dcjCK_myHuz7FvLRcTkD4-i2a2SiE_9G7vG1fUasJ9cm8kmFtvrIWLVRsoWS-nB_EWwL3XHxicCgmlkgnY0gmlwhKwSrcaKbXVsdGlhZGRyc5YACASsEq3GBlOjAAoErBKtxgZTpN0DgnJzhQADAQAAiXNlY3AyNTZrMaECsinekPy30sp9H1Vi-EOKKR9Leypaat_dpr5j6m7PCLODdGNwglOjg3VkcIJTpYV3YWt1MgU --filternode=/ip4/172.18.173.198/tcp/21411/p2p/16Uiu2HAm7R9aaQT7fwBkmF5GR2r7Cq7vDLQPrPRcfrckci9deQCr --pubsub-topic=/waku/2/rs/3/1
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.66.29
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['4138', '4139', '4140', '4141', '4142']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 4138:4138 -p 4139:4139 -p 4140:4140 -p 4141:4141 -p 4142:4142 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=4140 --rest-port=4138 --tcp-port=4139 --discv5-udp-port=4141 --rest-address=0.0.0.0 --nat=extip:172.18.66.29 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=eee49dbcd11de8ce15a4dd4ff826c2eb92634cf6b1c35fabba8dcf5f887abedf --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QP1J4_hdbjbg6dcjCK_myHuz7FvLRcTkD4-i2a2SiE_9G7vG1fUasJ9cm8kmFtvrIWLVRsoWS-nB_EWwL3XHxicCgmlkgnY0gmlwhKwSrcaKbXVsdGlhZGRyc5YACASsEq3GBlOjAAoErBKtxgZTpN0DgnJzhQADAQAAiXNlY3AyNTZrMaECsinekPy30sp9H1Vi-EOKKR9Leypaat_dpr5j6m7PCLODdGNwglOjg3VkcIJTpYV3YWt1MgU --filternode=/ip4/172.18.173.198/tcp/21411/p2p/16Uiu2HAm7R9aaQT7fwBkmF5GR2r7Cq7vDLQPrPRcfrckci9deQCr --pubsub-topic=/waku/2/rs/3/1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.66.29 waku 163a6a025b211b6851b89884225f2cfe3ec738023ebf1f2a9f339f54bb2f3796
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 163a6a025b21. Setting up logs at ./log/docker/node2_2024-12-09_03-20-33__062c06f3-e05f-483d-a86e-086126e88154__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 4138
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4138/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QB_Bc3pFWhm0IjAgbNjCoeLo-AshV3KQYwtOClvJzArKUj5AKVvTaps2HqYhntmayD1SrQPBal8xwhf3a4-GRDWGAZOpbuIrgmlkgnY0gmlwhKwRAAaCcnOFAAMBAAGJc2VjcDI1NmsxoQPGwBJ6wNpq_hl3x4noJ-NphcOnGh47NUqORQmYVM3Qp4N0Y3CCECuDdWRwghAthXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/4139/p2p/16Uiu2HAmS2pwjDJt9U5Jd2zHGyaa64S3u2ZUfcjtyfytrumt6bq8","/ip4/127.0.0.1/tcp/4140/ws/p2p/16Uiu2HAmS2pwjDJt9U5Jd2zHGyaa64S3u2ZUfcjtyfytrumt6bq8","/ip4/172.17.0.6/tcp/4139/p2p/16Uiu2HAmS2pwjDJt9U5Jd2zHGyaa64S3u2ZUfcjtyfytrumt6bq8","/ip4/172.17.0.6/tcp/4140/ws/p2p/16Uiu2HAmS2pwjDJt9U5Jd2zHGyaa64S3u2ZUfcjtyfytrumt6bq8"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4138/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.173.198/tcp/21411/p2p/16Uiu2HAm7R9aaQT7fwBkmF5GR2r7Cq7vDLQPrPRcfrckci9deQCr", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-12-09_03-20-33__062c06f3-e05f-483d-a86e-086126e88154__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.69.104
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['2801', '2802', '2803', '2804', '2805']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 2801:2801 -p 2802:2802 -p 2803:2803 -p 2804:2804 -p 2805:2805 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=2803 --rest-port=2801 --tcp-port=2802 --discv5-udp-port=2804 --rest-address=0.0.0.0 --nat=extip:172.18.69.104 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b2719c779ac7f4f6baccb2a2fa1dd55deeea88ab0072b95940b6fd656010c56e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=2805 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QP1J4_hdbjbg6dcjCK_myHuz7FvLRcTkD4-i2a2SiE_9G7vG1fUasJ9cm8kmFtvrIWLVRsoWS-nB_EWwL3XHxicCgmlkgnY0gmlwhKwSrcaKbXVsdGlhZGRyc5YACASsEq3GBlOjAAoErBKtxgZTpN0DgnJzhQADAQAAiXNlY3AyNTZrMaECsinekPy30sp9H1Vi-EOKKR9Leypaat_dpr5j6m7PCLODdGNwglOjg3VkcIJTpYV3YWt1MgU --filternode=/ip4/172.18.173.198/tcp/21411/p2p/16Uiu2HAm7R9aaQT7fwBkmF5GR2r7Cq7vDLQPrPRcfrckci9deQCr
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.69.104 waku b774c5755430aa97f46b4c9beadc4c10d4d11b2d0d2df91551d171a5fde11b89
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID b774c5755430. Setting up logs at ./log/docker/node3_2024-12-09_03-20-33__062c06f3-e05f-483d-a86e-086126e88154__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 2801
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2801/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2801/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.69.104/tcp/2802/p2p/16Uiu2HAmJhfHhCd4SeaRAqy5n7RVaGQfpf66XZ2xg5BCtFhdqGoz","/ip4/172.18.69.104/tcp/2803/ws/p2p/16Uiu2HAmJhfHhCd4SeaRAqy5n7RVaGQfpf66XZ2xg5BCtFhdqGoz"],"enrUri":"enr:-L24QJY-o0TkBytR04EyxDzJLEPTDfOEGmfe4JVmIfKtZSLddSl7MmDZ5_cqeGlkeE-IQ8VCUo6llgDfoNXNo219JAQCgmlkgnY0gmlwhKwSRWiKbXVsdGlhZGRyc5YACASsEkVoBgryAAoErBJFaAYK890DgnJzhQADAQAAiXNlY3AyNTZrMaEDWdVPfdvmGNGwE3EVeFImn8niU_NDbxqrU9mNUMAz5IGDdGNwggryg3VkcIIK9IV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2801/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.173.198/tcp/21411/p2p/16Uiu2HAm7R9aaQT7fwBkmF5GR2r7Cq7vDLQPrPRcfrckci9deQCr"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-12-09_03-20-33__062c06f3-e05f-483d-a86e-086126e88154__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.226.127
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['43292', '43293', '43294', '43295', '43296']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 43292:43292 -p 43293:43293 -p 43294:43294 -p 43295:43295 -p 43296:43296 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=43294 --rest-port=43292 --tcp-port=43293 --discv5-udp-port=43295 --rest-address=0.0.0.0 --nat=extip:172.18.226.127 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cf83051c4cdbde36727fecfe2b59fa6dffaba61d9bde872bacbe0008f1badc85 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QP1J4_hdbjbg6dcjCK_myHuz7FvLRcTkD4-i2a2SiE_9G7vG1fUasJ9cm8kmFtvrIWLVRsoWS-nB_EWwL3XHxicCgmlkgnY0gmlwhKwSrcaKbXVsdGlhZGRyc5YACASsEq3GBlOjAAoErBKtxgZTpN0DgnJzhQADAQAAiXNlY3AyNTZrMaECsinekPy30sp9H1Vi-EOKKR9Leypaat_dpr5j6m7PCLODdGNwglOjg3VkcIJTpYV3YWt1MgU --filternode=/ip4/172.18.173.198/tcp/21411/p2p/16Uiu2HAm7R9aaQT7fwBkmF5GR2r7Cq7vDLQPrPRcfrckci9deQCr --pubsub-topic=/waku/2/rs/3/1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.226.127 waku eb396c511348788c63f08713fbc86d8454f8e4884d1ec03da3be2fc9ea2fa070
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID eb396c511348. Setting up logs at ./log/docker/node4_2024-12-09_03-20-33__062c06f3-e05f-483d-a86e-086126e88154__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 43292
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43292/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QB3O2Dlq2s68WpzG6pc00GMdNEd2nB5qdTg8XoX4EGjbTe4jJ8d80wmxQP5L0IM_-WMuPHzGkw2ECchFRwAXHNOGAZOpbu_8gmlkgnY0gmlwhKwRABGCcnOFAAMBAAGJc2VjcDI1NmsxoQPAKjOGuFTJqYrHE5yDv7xh9Co34BTe4fPtIC2CIsYzfYN0Y3CCqR2DdWRwgqkfhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/43293/p2p/16Uiu2HAmRb7x9VzMwSChkAbxE4RGSB1eg5CUHsJ85zFQ8dXKHkVz","/ip4/127.0.0.1/tcp/43294/ws/p2p/16Uiu2HAmRb7x9VzMwSChkAbxE4RGSB1eg5CUHsJ85zFQ8dXKHkVz","/ip4/172.17.0.17/tcp/43293/p2p/16Uiu2HAmRb7x9VzMwSChkAbxE4RGSB1eg5CUHsJ85zFQ8dXKHkVz","/ip4/172.17.0.17/tcp/43294/ws/p2p/16Uiu2HAmRb7x9VzMwSChkAbxE4RGSB1eg5CUHsJ85zFQ8dXKHkVz"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43292/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.173.198/tcp/21411/p2p/16Uiu2HAm7R9aaQT7fwBkmF5GR2r7Cq7vDLQPrPRcfrckci9deQCr", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-12-09_03-20-33__062c06f3-e05f-483d-a86e-086126e88154__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.87.83
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['61010', '61011', '61012', '61013', '61014']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 61010:61010 -p 61011:61011 -p 61012:61012 -p 61013:61013 -p 61014:61014 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=61012 --rest-port=61010 --tcp-port=61011 --discv5-udp-port=61013 --rest-address=0.0.0.0 --nat=extip:172.18.87.83 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6ad0900aa36fc84d203aedee3cb8dcf2a5dedb2d0fc5de2bdc349bc136d9baf4 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=61014 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QP1J4_hdbjbg6dcjCK_myHuz7FvLRcTkD4-i2a2SiE_9G7vG1fUasJ9cm8kmFtvrIWLVRsoWS-nB_EWwL3XHxicCgmlkgnY0gmlwhKwSrcaKbXVsdGlhZGRyc5YACASsEq3GBlOjAAoErBKtxgZTpN0DgnJzhQADAQAAiXNlY3AyNTZrMaECsinekPy30sp9H1Vi-EOKKR9Leypaat_dpr5j6m7PCLODdGNwglOjg3VkcIJTpYV3YWt1MgU --filternode=/ip4/172.18.173.198/tcp/21411/p2p/16Uiu2HAm7R9aaQT7fwBkmF5GR2r7Cq7vDLQPrPRcfrckci9deQCr
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.87.83 waku 38e5ed1eb55944b5e061e609a4df27cbe924d41a719aa73c13c6a4a7e93fc0fb
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 38e5ed1eb559. Setting up logs at ./log/docker/node5_2024-12-09_03-20-33__062c06f3-e05f-483d-a86e-086126e88154__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 61010
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61010/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61010/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.87.83/tcp/61011/p2p/16Uiu2HAkzYnt2NfsVt1rg95GzpUv3jVQQ4okPJ7ATe5oDGBuViB9","/ip4/172.18.87.83/tcp/61012/ws/p2p/16Uiu2HAkzYnt2NfsVt1rg95GzpUv3jVQQ4okPJ7ATe5oDGBuViB9"],"enrUri":"enr:-L24QPyLmSlaJ9o7DHJ4LY--5YnKwwTwZDoFvUEkalY6dKKmQaFU_MuvtpuZdVIvmDgviZHPeiIW9avUY-KPXgl-2KkCgmlkgnY0gmlwhKwSV1OKbXVsdGlhZGRyc5YACASsEldTBu5TAAoErBJXUwbuVN0DgnJzhQADAQAAiXNlY3AyNTZrMaECTB1NgUv0yjaQXb8wzeIddjvVw_m-QuKrVqjEG_XKHrCDdGNwgu5Tg3VkcILuVYV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61010/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.173.198/tcp/21411/p2p/16Uiu2HAm7R9aaQT7fwBkmF5GR2r7Cq7vDLQPrPRcfrckci9deQCr"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21410/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4138/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "3e94ae8b-2f5a-4d79-a440-85541509fdd6", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"3e94ae8b-2f5a-4d79-a440-85541509fdd6","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2801/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "eecd1ac6-946e-4ff8-8818-07453e2a1c5f", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"eecd1ac6-946e-4ff8-8818-07453e2a1c5f","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43292/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "7f3f9afc-b15f-4825-90c8-8303bdf65de1", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"7f3f9afc-b15f-4825-90c8-8303bdf65de1","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61010/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "0553b7ef-5e3e-4dd0-9560-11e1d0226954", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"0553b7ef-5e3e-4dd0-9560-11e1d0226954","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21410/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4138/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1733714442825208320,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21410/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2801/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:2801/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id d6fa55bbb92f
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 163a6a025b21
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container d6fa55bbb92f. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id b774c5755430
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 163a6a025b21. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id eb396c511348
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container b774c5755430. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 38e5ed1eb559
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container eb396c511348. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.