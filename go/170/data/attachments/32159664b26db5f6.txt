[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_get_message_after_one_peer_was_stopped with id: 2024-06-20_03-12-07__756c4be4-9f39-4934-91fb-ec1fc30a29b7
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node1_2024-06-20_03-12-07__756c4be4-9f39-4934-91fb-ec1fc30a29b7__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.35.2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['48831', '48832', '48833', '48834', '48835']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:373 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:120 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 48831:48831 -p 48832:48832 -p 48833:48833 -p 48834:48834 -p 48835:48835 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=48833 --rest-port=48831 --tcp-port=48832 --discv5-udp-port=48834 --rest-address=0.0.0.0 --nat=extip:172.18.35.2 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=48835 --metrics-logging=true --relay=true --filter=true --nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.35.2 waku 9686cacded0002b5f895fe9d5ea9b59a520fb347059bfb24fb37bfaff29e2eb4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 9686cacded00. Setting up logs at ./log/docker/node1_2024-06-20_03-12-07__756c4be4-9f39-4934-91fb-ec1fc30a29b7__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:134 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 48831
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48831/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:225 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48831/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.35.2/tcp/48832/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","/ip4/172.18.35.2/tcp/48833/ws/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"],"enrUri":"enr:-LO4QFt4ozPTfNvUyJtEoqDOpTvHhMZCJ2JgeWX7sYpAz4iXbBHMyZgnpWD4p2XpHb9XExBjwX5y5u1fuv6z2TDjk3UBgmlkgnY0gmlwhKwSIwKKbXVsdGlhZGRyc4wACgSsEiMCBr7B3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCvsCDdWRwgr7ChXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:230 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node2_2024-06-20_03-12-07__756c4be4-9f39-4934-91fb-ec1fc30a29b7__harbor.status.im_wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.134.158
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['39191', '39192', '39193', '39194', '39195']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:373 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:120 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 39191:39191 -p 39192:39192 -p 39193:39193 -p 39194:39194 -p 39195:39195 harbor.status.im/wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=39193 --rest-port=39191 --tcp-port=39192 --discv5-udp-port=39194 --rest-address=0.0.0.0 --nat=extip:172.18.134.158 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --relay=false --discv5-bootstrap-node=enr:-LO4QFt4ozPTfNvUyJtEoqDOpTvHhMZCJ2JgeWX7sYpAz4iXbBHMyZgnpWD4p2XpHb9XExBjwX5y5u1fuv6z2TDjk3UBgmlkgnY0gmlwhKwSIwKKbXVsdGlhZGRyc4wACgSsEiMCBr7B3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCvsCDdWRwgr7ChXdha3UyBQ --filternode=/ip4/172.18.35.2/tcp/48832/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.134.158 waku 27c4103ef6a8d201967926c2ea4cf46f8943070d07cd100541030ab69d70170c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 27c4103ef6a8. Setting up logs at ./log/docker/node2_2024-06-20_03-12-07__756c4be4-9f39-4934-91fb-ec1fc30a29b7__harbor.status.im_wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:134 Started container from image harbor.status.im/wakuorg/go-waku:latest. REST: 39191
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39191/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ly4QHM7dbCBHdUkoOAZSWLaKfBc94b7A7rrdCl8LFcaccePGttXP16XFJuwMvp08hF9sce1_pf4CFaIHBazNPdqFx2GAZAzoVpzgmlkgnY0gmlwhKwRAAmKbXVsdGlhZGRyc5gACgSsEQAJBpkZ3QMACgR_AAABBpkZ3QOJc2VjcDI1NmsxoQNe30sE-IQ2OeBFernDke_7LkcaboM4V1JCQkhFObJ3TIN0Y3CCmRiDdWRwgpkahXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/39192/p2p/16Uiu2HAmK3L9z69Yf8Lhi8x5nFGgaoCfQnf2f4JCWTyZHmNuhrN7","/ip4/127.0.0.1/tcp/39193/ws/p2p/16Uiu2HAmK3L9z69Yf8Lhi8x5nFGgaoCfQnf2f4JCWTyZHmNuhrN7","/ip4/172.17.0.9/tcp/39192/p2p/16Uiu2HAmK3L9z69Yf8Lhi8x5nFGgaoCfQnf2f4JCWTyZHmNuhrN7","/ip4/172.17.0.9/tcp/39193/ws/p2p/16Uiu2HAmK3L9z69Yf8Lhi8x5nFGgaoCfQnf2f4JCWTyZHmNuhrN7"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:230 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39191/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.35.2/tcp/48832/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:39191/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39191/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.35.2/tcp/48832/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:39191/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39191/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.35.2/tcp/48832/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:39191/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39191/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.35.2/tcp/48832/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:39191/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39191/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.35.2/tcp/48832/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:39191/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39191/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.35.2/tcp/48832/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:39191/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39191/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.35.2/tcp/48832/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:39191/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39191/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.35.2/tcp/48832/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:39191/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39191/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.35.2/tcp/48832/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:39191/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39191/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.35.2/tcp/48832/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:39191/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39191/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.35.2/tcp/48832/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node3_2024-06-20_03-12-07__756c4be4-9f39-4934-91fb-ec1fc30a29b7__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.202.192
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['52024', '52025', '52026', '52027', '52028']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:373 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:120 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 52024:52024 -p 52025:52025 -p 52026:52026 -p 52027:52027 -p 52028:52028 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=52026 --rest-port=52024 --tcp-port=52025 --discv5-udp-port=52027 --rest-address=0.0.0.0 --nat=extip:172.18.202.192 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=52028 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QFt4ozPTfNvUyJtEoqDOpTvHhMZCJ2JgeWX7sYpAz4iXbBHMyZgnpWD4p2XpHb9XExBjwX5y5u1fuv6z2TDjk3UBgmlkgnY0gmlwhKwSIwKKbXVsdGlhZGRyc4wACgSsEiMCBr7B3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCvsCDdWRwgr7ChXdha3UyBQ --filternode=/ip4/172.18.35.2/tcp/48832/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.202.192 waku 8ac8299f7e08e6868a6c0e7af1f909004d866e898aba35dd2277767632d61587
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 8ac8299f7e08. Setting up logs at ./log/docker/node3_2024-06-20_03-12-07__756c4be4-9f39-4934-91fb-ec1fc30a29b7__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:134 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 52024
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52024/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:225 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52024/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.202.192/tcp/52025/p2p/16Uiu2HAmJGtL6adQLMwPNTCX4fGDmdtouCnpyybbNMU2TneRcZpp","/ip4/172.18.202.192/tcp/52026/ws/p2p/16Uiu2HAmJGtL6adQLMwPNTCX4fGDmdtouCnpyybbNMU2TneRcZpp"],"enrUri":"enr:-LO4QNq-_bg_cjz_pstAAFRyJfZCWP0CEfNUIRb-7-79O0VEHDETkqZO-_f8jobiu8u_LS_57x-BYVAi3nY9NxELfCABgmlkgnY0gmlwhKwSysCKbXVsdGlhZGRyc4wACgSsEsrABss63QOCcnOFAAABAACJc2VjcDI1NmsxoQNTfIlJytE-nmMNzaIltU9Sj_aeiMs1LPckuB28yavdrYN0Y3CCyzmDdWRwgss7hXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:230 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52024/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.35.2/tcp/48832/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node4_2024-06-20_03-12-07__756c4be4-9f39-4934-91fb-ec1fc30a29b7__harbor.status.im_wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.95.136
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['4144', '4145', '4146', '4147', '4148']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:373 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:120 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 4144:4144 -p 4145:4145 -p 4146:4146 -p 4147:4147 -p 4148:4148 harbor.status.im/wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=4146 --rest-port=4144 --tcp-port=4145 --discv5-udp-port=4147 --rest-address=0.0.0.0 --nat=extip:172.18.95.136 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --relay=false --discv5-bootstrap-node=enr:-LO4QFt4ozPTfNvUyJtEoqDOpTvHhMZCJ2JgeWX7sYpAz4iXbBHMyZgnpWD4p2XpHb9XExBjwX5y5u1fuv6z2TDjk3UBgmlkgnY0gmlwhKwSIwKKbXVsdGlhZGRyc4wACgSsEiMCBr7B3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCvsCDdWRwgr7ChXdha3UyBQ --filternode=/ip4/172.18.35.2/tcp/48832/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.95.136 waku 17a1a1df5661ff984dfca31e1ce6f474b9c4814d5c65e6ca77721f6c18a856d2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 17a1a1df5661. Setting up logs at ./log/docker/node4_2024-06-20_03-12-07__756c4be4-9f39-4934-91fb-ec1fc30a29b7__harbor.status.im_wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:134 Started container from image harbor.status.im/wakuorg/go-waku:latest. REST: 4144
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4144/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ly4QMaewxIuw_gym-zqYJSwr5fFM8I_Kk85ivowokJPbmliKNTLqJ4JJhYQtpD5fJT_tECqLxUNY2KUgVwhyLN9KbaGAZAzoYwpgmlkgnY0gmlwhKwRAAyKbXVsdGlhZGRyc5gACgR_AAABBhAy3QMACgSsEQAMBhAy3QOJc2VjcDI1NmsxoQLSNAm8EqoH7IzN2eQL1AvBsOqx52ML9uD38wVp7_YOOIN0Y3CCEDGDdWRwghAzhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/4145/p2p/16Uiu2HAm9aDcsKtmvetFXwNjR7GRLjxnif2e3gKWLsuU4u5PpMy1","/ip4/127.0.0.1/tcp/4146/ws/p2p/16Uiu2HAm9aDcsKtmvetFXwNjR7GRLjxnif2e3gKWLsuU4u5PpMy1","/ip4/172.17.0.12/tcp/4145/p2p/16Uiu2HAm9aDcsKtmvetFXwNjR7GRLjxnif2e3gKWLsuU4u5PpMy1","/ip4/172.17.0.12/tcp/4146/ws/p2p/16Uiu2HAm9aDcsKtmvetFXwNjR7GRLjxnif2e3gKWLsuU4u5PpMy1"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:230 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4144/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.35.2/tcp/48832/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node5_2024-06-20_03-12-07__756c4be4-9f39-4934-91fb-ec1fc30a29b7__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.247.179
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['4293', '4294', '4295', '4296', '4297']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:373 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:120 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 4293:4293 -p 4294:4294 -p 4295:4295 -p 4296:4296 -p 4297:4297 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=4295 --rest-port=4293 --tcp-port=4294 --discv5-udp-port=4296 --rest-address=0.0.0.0 --nat=extip:172.18.247.179 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=4297 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QFt4ozPTfNvUyJtEoqDOpTvHhMZCJ2JgeWX7sYpAz4iXbBHMyZgnpWD4p2XpHb9XExBjwX5y5u1fuv6z2TDjk3UBgmlkgnY0gmlwhKwSIwKKbXVsdGlhZGRyc4wACgSsEiMCBr7B3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCvsCDdWRwgr7ChXdha3UyBQ --filternode=/ip4/172.18.35.2/tcp/48832/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.247.179 waku d42c69d60ffe11a2b20aeaa23a11a2ba6c4d11f1fe7c4e3dcef88f8eac537b99
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID d42c69d60ffe. Setting up logs at ./log/docker/node5_2024-06-20_03-12-07__756c4be4-9f39-4934-91fb-ec1fc30a29b7__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:134 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 4293
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4293/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:225 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4293/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.247.179/tcp/4294/p2p/16Uiu2HAmQ1YasMDZKj9ywNz4zbuyg21NG5jJK3S7LSsLQtYaBxY5","/ip4/172.18.247.179/tcp/4295/ws/p2p/16Uiu2HAmQ1YasMDZKj9ywNz4zbuyg21NG5jJK3S7LSsLQtYaBxY5"],"enrUri":"enr:-LO4QPVh7Sw_TYtHynYrRxEbXVdUB1ayITzeYGu2VgVnN0m6Snk-fH4rcjgvfwNrVpSMkaYTZOz4OYlBANHpEWlyAJcBgmlkgnY0gmlwhKwS97OKbXVsdGlhZGRyc4wACgSsEvezBhDH3QOCcnOFAAABAACJc2VjcDI1NmsxoQOotJ6epLean8CJYUNT0R_-okZIZhubWTb94xg4bjmgBoN0Y3CCEMaDdWRwghDIhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:230 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4293/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.35.2/tcp/48832/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48831/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/0/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39191/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "9b96233c-760c-4df4-a0bc-7fba9a5b43b0", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"9b96233c-760c-4df4-a0bc-7fba9a5b43b0","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52024/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "edd748b0-24f0-4867-9bdc-f7674cd0d1ee", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"edd748b0-24f0-4867-9bdc-f7674cd0d1ee","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4144/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "2da6f511-8ab6-4c08-afab-1abce89cf97f", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"2da6f511-8ab6-4c08-afab-1abce89cf97f","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4293/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "d66cfda8-538f-4e36-8777-95a8e43780ed", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"d66cfda8-538f-4e36-8777-95a8e43780ed","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48831/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_2:harbor.status.im/wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39191/filter/v2/messages/%2Fwaku%2F2%2Frs%2F0%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1718853146546535424,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_3:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52024/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1718853146546535424,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_4:harbor.status.im/wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4144/filter/v2/messages/%2Fwaku%2F2%2Frs%2F0%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1718853146546535424,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_5:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4293/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1718853146546535424,"ephemeral":false}]'
[35mDEBUG   [0m src.node.waku_node:waku_node.py:181 Stopping container with id 27c4103ef6a8
[35mDEBUG   [0m src.node.waku_node:waku_node.py:188 Container stopped.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48831/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_2:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52024/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1718853148660030976,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_3:harbor.status.im/wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4144/filter/v2/messages/%2Fwaku%2F2%2Frs%2F0%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1718853148660030976,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_4:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4293/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1718853148660030976,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:181 Stopping container with id 9686cacded00
[35mDEBUG   [0m src.node.waku_node:waku_node.py:188 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:181 Stopping container with id 8ac8299f7e08
[35mDEBUG   [0m src.node.waku_node:waku_node.py:188 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:181 Stopping container with id 17a1a1df5661
[35mDEBUG   [0m src.node.waku_node:waku_node.py:188 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:181 Stopping container with id d42c69d60ffe
[35mDEBUG   [0m src.node.waku_node:waku_node.py:188 Container stopped.