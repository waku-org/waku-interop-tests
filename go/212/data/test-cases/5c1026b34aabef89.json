{"uid":"5c1026b34aabef89","name":"test_all_nodes_subscribed_to_the_topic","fullName":"tests.filter.test_multiple_nodes.TestFilterMultipleNodes#test_all_nodes_subscribed_to_the_topic","historyId":"1922f713c7d866af3814ecf60dd1d269","time":{"start":1721445170341,"stop":1721445177187,"duration":6846},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"set_allure_env_variables","time":{"start":1721445095582,"stop":1721445095582,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_id","time":{"start":1721445167119,"stop":1721445167120,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes","time":{"start":1721445167119,"stop":1721445167119,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail","time":{"start":1721445167119,"stop":1721445167119,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_setup","time":{"start":1721445167120,"stop":1721445167120,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_main_relay_node","time":{"start":1721445167120,"stop":1721445168896,"duration":1776},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"filter_setup","time":{"start":1721445167120,"stop":1721445167120,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"common_setup","time":{"start":1721445167120,"stop":1721445167120,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_main_filter_node","time":{"start":1721445168896,"stop":1721445170340,"duration":1444},"status":"passed","steps":[{"name":"add_node_peer","time":{"start":1721445170338,"stop":1721445170340,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.filter.test_multiple_nodes.TestFilterMultipleNodes object at 0x7fba6ef91940>, <src.node.waku_node.WakuNode object at 0x7fba6ec2d010>, ['/ip4/172.18.0.108/tcp/42436/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip'])"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"testStage":{"status":"passed","steps":[{"name":"add_node_peer","time":{"start":1721445173385,"stop":1721445173424,"duration":39},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.filter.test_multiple_nodes.TestFilterMultipleNodes object at 0x7fba6ef91940>, <src.node.waku_node.WakuNode object at 0x7fba6ecbe0c0>, ['/ip4/172.18.0.108/tcp/42436/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip'])"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"add_node_peer","time":{"start":1721445175089,"stop":1721445175092,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.filter.test_multiple_nodes.TestFilterMultipleNodes object at 0x7fba6ef91940>, <src.node.waku_node.WakuNode object at 0x7fba6ecbc9b0>, ['/ip4/172.18.0.108/tcp/42436/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip'])"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"add_node_peer","time":{"start":1721445176994,"stop":1721445177020,"duration":26},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.filter.test_multiple_nodes.TestFilterMultipleNodes object at 0x7fba6ef91940>, <src.node.waku_node.WakuNode object at 0x7fba6ecbefc0>, ['/ip4/172.18.0.108/tcp/42436/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip'])"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"wait_for_subscriptions_on_main_nodes","time":{"start":1721445177021,"stop":1721445177038,"duration":17},"status":"passed","steps":[{"name":"create_filter_subscription_with_retry","time":{"start":1721445177030,"stop":1721445177038,"duration":8},"status":"passed","steps":[{"name":"create_filter_subscription","time":{"start":1721445177030,"stop":1721445177038,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"subscription","value":"{'requestId': '961e6cd6-f2ca-42e9-a251-50eb17e3eb58', 'contentFilters': ['/test/1/waku-filter/proto'], 'pubsubTopic': '/waku/2/rs/3/1'}"},{"name":"node","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"subscription","value":"{'requestId': '961e6cd6-f2ca-42e9-a251-50eb17e3eb58', 'contentFilters': ['/test/1/waku-filter/proto'], 'pubsubTopic': '/waku/2/rs/3/1'}"},{"name":"node","value":"None"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"content_topic_list","value":"['/test/1/waku-filter/proto']"},{"name":"pubsub_topic","value":"None"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"subscribe_optional_filter_nodes","time":{"start":1721445177038,"stop":1721445177059,"duration":21},"status":"passed","steps":[{"name":"create_filter_subscription_with_retry","time":{"start":1721445177039,"stop":1721445177045,"duration":6},"status":"passed","steps":[{"name":"create_filter_subscription","time":{"start":1721445177039,"stop":1721445177045,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"subscription","value":"{'requestId': '40e48d58-442b-439b-97db-b20c77810812', 'contentFilters': ['/test/1/waku-filter/proto'], 'pubsubTopic': '/waku/2/rs/3/1'}"},{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7fba6ecbe0c0>"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"subscription","value":"{'requestId': '40e48d58-442b-439b-97db-b20c77810812', 'contentFilters': ['/test/1/waku-filter/proto'], 'pubsubTopic': '/waku/2/rs/3/1'}"},{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7fba6ecbe0c0>"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"create_filter_subscription_with_retry","time":{"start":1721445177045,"stop":1721445177051,"duration":6},"status":"passed","steps":[{"name":"create_filter_subscription","time":{"start":1721445177045,"stop":1721445177051,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"subscription","value":"{'requestId': 'ea5e0d3b-93e8-48fe-9dcc-5792a723da3f', 'contentFilters': ['/test/1/waku-filter/proto'], 'pubsubTopic': '/waku/2/rs/3/1'}"},{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7fba6ecbc9b0>"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"subscription","value":"{'requestId': 'ea5e0d3b-93e8-48fe-9dcc-5792a723da3f', 'contentFilters': ['/test/1/waku-filter/proto'], 'pubsubTopic': '/waku/2/rs/3/1'}"},{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7fba6ecbc9b0>"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"create_filter_subscription_with_retry","time":{"start":1721445177052,"stop":1721445177059,"duration":7},"status":"passed","steps":[{"name":"create_filter_subscription","time":{"start":1721445177052,"stop":1721445177059,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"subscription","value":"{'requestId': '8922b08d-e8f0-4e65-924b-e0351691bf97', 'contentFilters': ['/test/1/waku-filter/proto'], 'pubsubTopic': '/waku/2/rs/3/1'}"},{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7fba6ecbefc0>"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"subscription","value":"{'requestId': '8922b08d-e8f0-4e65-924b-e0351691bf97', 'contentFilters': ['/test/1/waku-filter/proto'], 'pubsubTopic': '/waku/2/rs/3/1'}"},{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7fba6ecbefc0>"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"content_topic_list","value":"['/test/1/waku-filter/proto']"},{"name":"pubsub_topic","value":"None"}],"shouldDisplayMessage":false,"stepsCount":6,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_published_message_reaches_filter_peer","time":{"start":1721445177059,"stop":1721445177187,"duration":128},"status":"passed","steps":[{"name":"create_message","time":{"start":1721445177059,"stop":1721445177059,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"get_filter_messages","time":{"start":1721445177170,"stop":1721445177173,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"content_topic","value":"'/test/1/waku-filter/proto'"},{"name":"pubsub_topic","value":"'/waku/2/rs/3/1'"},{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7fba6ec2d010>"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1721445177174,"stop":1721445177174,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'RmlsdGVyIHdvcmtzISE=', 'contentTopic': '/test/1/waku-filter/proto', 'timestamp': 1721445177058877696}"},{"name":"index","value":"0"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"get_filter_messages","time":{"start":1721445177175,"stop":1721445177177,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"content_topic","value":"'/test/1/waku-filter/proto'"},{"name":"pubsub_topic","value":"'/waku/2/rs/3/1'"},{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7fba6ecbe0c0>"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1721445177179,"stop":1721445177179,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'RmlsdGVyIHdvcmtzISE=', 'contentTopic': '/test/1/waku-filter/proto', 'timestamp': 1721445177058877696}"},{"name":"index","value":"0"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"get_filter_messages","time":{"start":1721445177179,"stop":1721445177182,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"content_topic","value":"'/test/1/waku-filter/proto'"},{"name":"pubsub_topic","value":"'/waku/2/rs/3/1'"},{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7fba6ecbc9b0>"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1721445177184,"stop":1721445177184,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'RmlsdGVyIHdvcmtzISE=', 'contentTopic': '/test/1/waku-filter/proto', 'timestamp': 1721445177058877696}"},{"name":"index","value":"0"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"get_filter_messages","time":{"start":1721445177184,"stop":1721445177186,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"content_topic","value":"'/test/1/waku-filter/proto'"},{"name":"pubsub_topic","value":"'/waku/2/rs/3/1'"},{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7fba6ecbefc0>"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1721445177187,"stop":1721445177187,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'RmlsdGVyIHdvcmtzISE=', 'contentTopic': '/test/1/waku-filter/proto', 'timestamp': 1721445177058877696}"},{"name":"index","value":"0"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"message","value":"None"},{"name":"pubsub_topic","value":"None"},{"name":"message_propagation_delay","value":"0.1"},{"name":"sender","value":"None"},{"name":"peer_list","value":"None"}],"shouldDisplayMessage":false,"stepsCount":9,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"4c3a3770e2571f7","name":"log","source":"4c3a3770e2571f7.txt","type":"text/plain","size":29694}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":23,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"test_setup::0","time":{"start":1721445177189,"stop":1721445177189,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes::0","time":{"start":1721445177190,"stop":1721445185124,"duration":7934},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail::0","time":{"start":1721445185125,"stop":1721445185125,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"set_allure_env_variables::0","time":{"start":1721445944712,"stop":1721445944712,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"@pytest.mark.usefixtures('setup_main_relay_node', 'setup_main_filter_node')"},{"name":"parentSuite","value":"tests.filter"},{"name":"suite","value":"test_multiple_nodes"},{"name":"subSuite","value":"TestFilterMultipleNodes"},{"name":"host","value":"fv-az1437-389"},{"name":"thread","value":"2037-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.filter.test_multiple_nodes"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":6,"broken":11,"skipped":0,"passed":219,"unknown":0,"total":236},"items":[{"uid":"b6d6ff0718bf5a66","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/211//#testresult/b6d6ff0718bf5a66","status":"passed","time":{"start":1721358781300,"stop":1721358785863,"duration":4563}},{"uid":"ca8a0c84001b916c","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/210//#testresult/ca8a0c84001b916c","status":"passed","time":{"start":1721290037388,"stop":1721290042278,"duration":4890}},{"uid":"5f91ee441dc597c","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/209//#testresult/5f91ee441dc597c","status":"passed","time":{"start":1721272376756,"stop":1721272390894,"duration":14138}},{"uid":"ec9450fdb590b018","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/208//#testresult/ec9450fdb590b018","status":"passed","time":{"start":1721185980994,"stop":1721185986501,"duration":5507}},{"uid":"3b606730e5d2a7a2","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/207//#testresult/3b606730e5d2a7a2","status":"passed","time":{"start":1721112291046,"stop":1721112296246,"duration":5200}},{"uid":"2a41ddb6bcd3572e","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/206//#testresult/2a41ddb6bcd3572e","status":"passed","time":{"start":1721099659869,"stop":1721099664667,"duration":4798}},{"uid":"e342de37543ec790","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/205//#testresult/e342de37543ec790","status":"passed","time":{"start":1721057422268,"stop":1721057427487,"duration":5219}},{"uid":"88981d73979b48ce","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/204//#testresult/88981d73979b48ce","status":"passed","time":{"start":1721049035920,"stop":1721049040614,"duration":4694}},{"uid":"6ac204142ec8ab1c","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/203//#testresult/6ac204142ec8ab1c","status":"passed","time":{"start":1721026837341,"stop":1721026842501,"duration":5160}},{"uid":"1043a3d0525b33dd","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/202//#testresult/1043a3d0525b33dd","status":"passed","time":{"start":1721013229579,"stop":1721013234479,"duration":4900}},{"uid":"75ac880350cf86b9","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/201//#testresult/75ac880350cf86b9","status":"passed","time":{"start":1720926824430,"stop":1720926828938,"duration":4508}},{"uid":"7959ef79b56aa764","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/200//#testresult/7959ef79b56aa764","status":"passed","time":{"start":1720840285585,"stop":1720840290763,"duration":5178}},{"uid":"b822c8014cb6ef09","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/199//#testresult/b822c8014cb6ef09","status":"passed","time":{"start":1720809804882,"stop":1720809809718,"duration":4836}},{"uid":"7a3b82142d210d02","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/198//#testresult/7a3b82142d210d02","status":"passed","time":{"start":1720753952525,"stop":1720753957586,"duration":5061}},{"uid":"ad388e8992e3bfe9","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/197//#testresult/ad388e8992e3bfe9","status":"passed","time":{"start":1720711666075,"stop":1720711670804,"duration":4729}},{"uid":"efca996dd118e72b","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/196//#testresult/efca996dd118e72b","status":"passed","time":{"start":1720707886033,"stop":1720707890931,"duration":4898}},{"uid":"3a1c16a32cf8b81d","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/195//#testresult/3a1c16a32cf8b81d","status":"failed","statusDetails":"AssertionError: Peer NODE_2:harbor.status.im/wakuorg/go-waku:latest couldn't find any messages","time":{"start":1720668150957,"stop":1720668203321,"duration":52364}},{"uid":"18075d9ab070bcb7","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/194//#testresult/18075d9ab070bcb7","status":"failed","statusDetails":"AssertionError: Peer NODE_2:harbor.status.im/wakuorg/go-waku:latest couldn't find any messages","time":{"start":1720581730980,"stop":1720581770164,"duration":39184}},{"uid":"14239690127883ed","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/193//#testresult/14239690127883ed","status":"passed","time":{"start":1720527243973,"stop":1720527248966,"duration":4993}},{"uid":"3aec4a9b65be2d2","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/192//#testresult/3aec4a9b65be2d2","status":"passed","time":{"start":1720516825279,"stop":1720516830284,"duration":5005}}]},"tags":["@pytest.mark.usefixtures('setup_main_relay_node', 'setup_main_filter_node')"]},"source":"5c1026b34aabef89.json","parameterValues":[]}