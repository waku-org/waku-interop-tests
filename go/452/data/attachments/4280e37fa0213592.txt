[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_messages_with_timestamps_close_to_now with id: 2025-02-03_03-08-47__d50d6b76-3f0b-46ec-8bc0-5801ed71932f
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-03_03-08-47__d50d6b76-3f0b-46ec-8bc0-5801ed71932f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.131.13
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['8712', '8713', '8714', '8715', '8716']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 8712:8712 -p 8713:8713 -p 8714:8714 -p 8715:8715 -p 8716:8716 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=8714 --rest-port=8712 --tcp-port=8713 --discv5-udp-port=8715 --rest-address=0.0.0.0 --nat=extip:172.18.131.13 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c5bd1f369bfa2b0bc4a7bc6dfd586275cac7c351b4af0fcdadf8a9d6ee34b3eb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=8716 --metrics-logging=true --store=true --relay=true
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 8f79c1e5a3a4. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.131.13 waku 4eed2c489d001f238351772a42f0531931948414f738aada0bc1e7d47ac7c2ef
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 4eed2c489d00. Setting up logs at ./log/docker/publishing_node1_2025-02-03_03-08-47__d50d6b76-3f0b-46ec-8bc0-5801ed71932f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 8712
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 66113754277a. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8712/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8712/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.131.13/tcp/8713/p2p/16Uiu2HAkwDdPsMMjV1M8rQ6cYGkVTSoWD3UZRLKbdeQYTUtXR3da","/ip4/172.18.131.13/tcp/8714/ws/p2p/16Uiu2HAkwDdPsMMjV1M8rQ6cYGkVTSoWD3UZRLKbdeQYTUtXR3da"],"enrUri":"enr:-L24QGu8Cv3U5vlL2lD4bBUYx1KjAJZotjtjmIBnhU17XAEOWulADIjjR3vwwzc-xErYF8ivGWjLYtNxpv26ZUozMUQCgmlkgnY0gmlwhKwSgw2KbXVsdGlhZGRyc5YACASsEoMNBiIJAAoErBKDDQYiCt0DgnJzhQADAQAAiXNlY3AyNTZrMaECGqF7O8MVDNY7Vjtm6yW_QY5zReH0qnEfdmqWV5Utz9GDdGNwgiIJg3VkcIIiC4V3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-03_03-08-47__d50d6b76-3f0b-46ec-8bc0-5801ed71932f__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.80.247
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['38885', '38886', '38887', '38888', '38889']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 38885:38885 -p 38886:38886 -p 38887:38887 -p 38888:38888 -p 38889:38889 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=38887 --rest-port=38885 --tcp-port=38886 --discv5-udp-port=38888 --rest-address=0.0.0.0 --nat=extip:172.18.80.247 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f5ffea2ae0de0818bebff5be9d7bd7b59efbbeca0343ce2ad9215d6aa0fe9c5e --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-L24QGu8Cv3U5vlL2lD4bBUYx1KjAJZotjtjmIBnhU17XAEOWulADIjjR3vwwzc-xErYF8ivGWjLYtNxpv26ZUozMUQCgmlkgnY0gmlwhKwSgw2KbXVsdGlhZGRyc5YACASsEoMNBiIJAAoErBKDDQYiCt0DgnJzhQADAQAAiXNlY3AyNTZrMaECGqF7O8MVDNY7Vjtm6yW_QY5zReH0qnEfdmqWV5Utz9GDdGNwgiIJg3VkcIIiC4V3YWt1MgM --storenode=/ip4/172.18.131.13/tcp/8713/p2p/16Uiu2HAkwDdPsMMjV1M8rQ6cYGkVTSoWD3UZRLKbdeQYTUtXR3da --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.80.247 waku 09ac879da207aef6d646333162d6a1f82412bc914981c2a73eb381aaea5b3edc
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 09ac879da207. Setting up logs at ./log/docker/store_node1_2025-02-03_03-08-47__d50d6b76-3f0b-46ec-8bc0-5801ed71932f__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 38885
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38885/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QJUbfOaWtY8YnHZE8bCLCd9N5aPz8Mu69B4PURHBuoNwVmsSgeh8YKh_2EqoaVbXb6oSsLAwQcR7o93ne5rgiTiGAZTJyDd-gmlkgnY0gmlwhKwRAAOCcnODAAMAiXNlY3AyNTZrMaEC86AbrxkxhC595wO2ePrYCP7cqc9N0BZ_nRtuTinvA6GDdGNwgpfmg3VkcIKX6IV3YWt1MgM","listenAddresses":["/ip4/127.0.0.1/tcp/38886/p2p/16Uiu2HAmBpgeiFBrmy7aHgZkcGH9UfTtBX6YS1Pce6ZuCQ2UzaRN","/ip4/127.0.0.1/tcp/38887/ws/p2p/16Uiu2HAmBpgeiFBrmy7aHgZkcGH9UfTtBX6YS1Pce6ZuCQ2UzaRN","/ip4/172.17.0.3/tcp/38886/p2p/16Uiu2HAmBpgeiFBrmy7aHgZkcGH9UfTtBX6YS1Pce6ZuCQ2UzaRN","/ip4/172.17.0.3/tcp/38887/ws/p2p/16Uiu2HAmBpgeiFBrmy7aHgZkcGH9UfTtBX6YS1Pce6ZuCQ2UzaRN"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38885/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.131.13/tcp/8713/p2p/16Uiu2HAkwDdPsMMjV1M8rQ6cYGkVTSoWD3UZRLKbdeQYTUtXR3da", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8712/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38885/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:17 Running test with payload 3 sec Past
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8712/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8712/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xa0c94592c51f88eb884f895e6db44cbce7fb60bfab4d68902b056b7b948280d8"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38885/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"327dba485857d77fa606d4aa5922a02f6f96e7545a4e9eb4126498781195e511","status_code":200,"status_desc":"OK","messages":[{"message_hash":"oMlFksUfiOuIT4lebbRMvOf7YL+rTWiQKwVre5SCgNg="}]}'
[1m[31mERROR   [0m tests.store.test_time_filter:test_time_filter.py:23 Payload 3 sec Past failed: Message hash at index -1 returned by store doesn't match the computed message hash 0xa0c94592c51f88eb884f895e6db44cbce7fb60bfab4d68902b056b7b948280d8. Actual hash: oMlFksUfiOuIT4lebbRMvOf7YL+rTWiQKwVre5SCgNg=
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:17 Running test with payload 1 sec Past
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8712/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8712/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xa0c94592c51f88eb884f895e6db44cbce7fb60bfab4d68902b056b7b948280d8"},{"messageHash":"0x9303a47da2ef03a520aa6f4a512d67a6afb956efb7269aa5eeb61d9b08ac2391"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38885/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"501ed0ed8f3570dfee4c6c3ce62401fba038b0978e1f79a2d332b656232fdf83","status_code":200,"status_desc":"OK","messages":[{"message_hash":"oMlFksUfiOuIT4lebbRMvOf7YL+rTWiQKwVre5SCgNg="},{"message_hash":"kwOkfaLvA6Ugqm9KUS1npq+5Vu+3Jpql7rYdmwisI5E="}]}'
[1m[31mERROR   [0m tests.store.test_time_filter:test_time_filter.py:23 Payload 1 sec Past failed: Message hash at index -1 returned by store doesn't match the computed message hash 0x9303a47da2ef03a520aa6f4a512d67a6afb956efb7269aa5eeb61d9b08ac2391. Actual hash: kwOkfaLvA6Ugqm9KUS1npq+5Vu+3Jpql7rYdmwisI5E=
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:17 Running test with payload 0.1 sec Past
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8712/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8712/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xa0c94592c51f88eb884f895e6db44cbce7fb60bfab4d68902b056b7b948280d8"},{"messageHash":"0x9303a47da2ef03a520aa6f4a512d67a6afb956efb7269aa5eeb61d9b08ac2391"},{"messageHash":"0xc6bbc29ca45ff088e15b42cf3dbed042cb03f4d84c72eb8ad21aacb13c16cb5d"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38885/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"e27593316ae389732f479160b3f5c836c3f8e0772cf1e082e4843142cb80cef5","status_code":200,"status_desc":"OK","messages":[{"message_hash":"oMlFksUfiOuIT4lebbRMvOf7YL+rTWiQKwVre5SCgNg="},{"message_hash":"kwOkfaLvA6Ugqm9KUS1npq+5Vu+3Jpql7rYdmwisI5E="},{"message_hash":"xrvCnKRf8IjhW0LPPb7QQssD9NhMcuuK0hqssTwWy10="}]}'
[1m[31mERROR   [0m tests.store.test_time_filter:test_time_filter.py:23 Payload 0.1 sec Past failed: Message hash at index -1 returned by store doesn't match the computed message hash 0xc6bbc29ca45ff088e15b42cf3dbed042cb03f4d84c72eb8ad21aacb13c16cb5d. Actual hash: xrvCnKRf8IjhW0LPPb7QQssD9NhMcuuK0hqssTwWy10=
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:17 Running test with payload 0.1 sec Future
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8712/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8712/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xa0c94592c51f88eb884f895e6db44cbce7fb60bfab4d68902b056b7b948280d8"},{"messageHash":"0x9303a47da2ef03a520aa6f4a512d67a6afb956efb7269aa5eeb61d9b08ac2391"},{"messageHash":"0xc6bbc29ca45ff088e15b42cf3dbed042cb03f4d84c72eb8ad21aacb13c16cb5d"},{"messageHash":"0x2f2cc3c41b2c69a9297bb8cf8665d28507585f2c94ee58de6c53f2a344e02f2b"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38885/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"acec91567c95c78ec458ed4965c536a798fe646984be3e292db03be8c070cc5c","status_code":200,"status_desc":"OK","messages":[{"message_hash":"oMlFksUfiOuIT4lebbRMvOf7YL+rTWiQKwVre5SCgNg="},{"message_hash":"kwOkfaLvA6Ugqm9KUS1npq+5Vu+3Jpql7rYdmwisI5E="},{"message_hash":"xrvCnKRf8IjhW0LPPb7QQssD9NhMcuuK0hqssTwWy10="},{"message_hash":"LyzDxBssaakpe7jPhmXShQdYXyyU7ljebFPyo0TgLys="}]}'
[1m[31mERROR   [0m tests.store.test_time_filter:test_time_filter.py:23 Payload 0.1 sec Future failed: Message hash at index -1 returned by store doesn't match the computed message hash 0x2f2cc3c41b2c69a9297bb8cf8665d28507585f2c94ee58de6c53f2a344e02f2b. Actual hash: LyzDxBssaakpe7jPhmXShQdYXyyU7ljebFPyo0TgLys=
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:17 Running test with payload 2 sec Future
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8712/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8712/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xa0c94592c51f88eb884f895e6db44cbce7fb60bfab4d68902b056b7b948280d8"},{"messageHash":"0x9303a47da2ef03a520aa6f4a512d67a6afb956efb7269aa5eeb61d9b08ac2391"},{"messageHash":"0xc6bbc29ca45ff088e15b42cf3dbed042cb03f4d84c72eb8ad21aacb13c16cb5d"},{"messageHash":"0x2f2cc3c41b2c69a9297bb8cf8665d28507585f2c94ee58de6c53f2a344e02f2b"},{"messageHash":"0xe234ab11faa00bd1da44c8c908c9e7113a2da147189afdc3ebc65f7ddb957ae8"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38885/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"2e56ec7ed95c4a86b2e8a08e077648651b7c25425e6d27fe5ea5bb657aa703b9","status_code":200,"status_desc":"OK","messages":[{"message_hash":"oMlFksUfiOuIT4lebbRMvOf7YL+rTWiQKwVre5SCgNg="},{"message_hash":"kwOkfaLvA6Ugqm9KUS1npq+5Vu+3Jpql7rYdmwisI5E="},{"message_hash":"xrvCnKRf8IjhW0LPPb7QQssD9NhMcuuK0hqssTwWy10="},{"message_hash":"LyzDxBssaakpe7jPhmXShQdYXyyU7ljebFPyo0TgLys="},{"message_hash":"4jSrEfqgC9HaRMjJCMnnETotoUcYmv3D68ZffduVeug="}]}'
[1m[31mERROR   [0m tests.store.test_time_filter:test_time_filter.py:23 Payload 2 sec Future failed: Message hash at index -1 returned by store doesn't match the computed message hash 0xe234ab11faa00bd1da44c8c908c9e7113a2da147189afdc3ebc65f7ddb957ae8. Actual hash: 4jSrEfqgC9HaRMjJCMnnETotoUcYmv3D68ZffduVeug=
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:17 Running test with payload 10 sec Future
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8712/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8712/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xa0c94592c51f88eb884f895e6db44cbce7fb60bfab4d68902b056b7b948280d8"},{"messageHash":"0x9303a47da2ef03a520aa6f4a512d67a6afb956efb7269aa5eeb61d9b08ac2391"},{"messageHash":"0xc6bbc29ca45ff088e15b42cf3dbed042cb03f4d84c72eb8ad21aacb13c16cb5d"},{"messageHash":"0x2f2cc3c41b2c69a9297bb8cf8665d28507585f2c94ee58de6c53f2a344e02f2b"},{"messageHash":"0xe234ab11faa00bd1da44c8c908c9e7113a2da147189afdc3ebc65f7ddb957ae8"},{"messageHash":"0x44f37eee8ff060ad5eb7137833e652f0e7af213c14d441db7ebd7e3d4a345ee6"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38885/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"0fba00cc0f12184d44ade38a2c0be48315bab764c0fc098d7e6ff34d64a54295","status_code":200,"status_desc":"OK","messages":[{"message_hash":"oMlFksUfiOuIT4lebbRMvOf7YL+rTWiQKwVre5SCgNg="},{"message_hash":"kwOkfaLvA6Ugqm9KUS1npq+5Vu+3Jpql7rYdmwisI5E="},{"message_hash":"xrvCnKRf8IjhW0LPPb7QQssD9NhMcuuK0hqssTwWy10="},{"message_hash":"LyzDxBssaakpe7jPhmXShQdYXyyU7ljebFPyo0TgLys="},{"message_hash":"4jSrEfqgC9HaRMjJCMnnETotoUcYmv3D68ZffduVeug="},{"message_hash":"RPN+7o/wYK1etxN4M+ZS8OevITwU1EHbfr1+PUo0XuY="}]}'
[1m[31mERROR   [0m tests.store.test_time_filter:test_time_filter.py:23 Payload 10 sec Future failed: Message hash at index -1 returned by store doesn't match the computed message hash 0x44f37eee8ff060ad5eb7137833e652f0e7af213c14d441db7ebd7e3d4a345ee6. Actual hash: RPN+7o/wYK1etxN4M+ZS8OevITwU1EHbfr1+PUo0XuY=
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 4eed2c489d00
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 09ac879da207
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:42 Attaching file ./log/docker/publishing_node1_2025-02-03_03-08-47__d50d6b76-3f0b-46ec-8bc0-5801ed71932f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:42 Attaching file ./log/docker/store_node1_2025-02-03_03-08-47__d50d6b76-3f0b-46ec-8bc0-5801ed71932f__wakuorg_go-waku:latest.log
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_messages_with_timestamps_close_to_now with id: 2025-02-03_03-08-52__af3f1557-3242-45b4-a5bc-1ab9b3b69732
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-03_03-08-52__af3f1557-3242-45b4-a5bc-1ab9b3b69732__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.172.151
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['64749', '64750', '64751', '64752', '64753']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 64749:64749 -p 64750:64750 -p 64751:64751 -p 64752:64752 -p 64753:64753 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=64751 --rest-port=64749 --tcp-port=64750 --discv5-udp-port=64752 --rest-address=0.0.0.0 --nat=extip:172.18.172.151 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5708fe42a3f88ffba12ad51bcaf1dd8de2862db0ddbb3cf8f1ce70142bc5ca6e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=64753 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.172.151 waku 3e8eb6397e771c7d16a339b2ba7cecd9c8418c5f70c05be728231fd1a335424f
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 4eed2c489d00. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 3e8eb6397e77. Setting up logs at ./log/docker/publishing_node1_2025-02-03_03-08-52__af3f1557-3242-45b4-a5bc-1ab9b3b69732__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 64749
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 09ac879da207. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64749/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64749/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.172.151/tcp/64750/p2p/16Uiu2HAmT8XXaH2wKHFdU6sajspFuSgUe2Qi9Vy3FY9T9HYHfR2M","/ip4/172.18.172.151/tcp/64751/ws/p2p/16Uiu2HAmT8XXaH2wKHFdU6sajspFuSgUe2Qi9Vy3FY9T9HYHfR2M"],"enrUri":"enr:-L24QG3nAJFIBW-_r5FgVdvBJPiL3-LafIpZU7_VqLr5Z5wBcq8ImFrhQJyFktH9PlRF9Ij4tINmgSds8I5xPriP4Q8CgmlkgnY0gmlwhKwSrJeKbXVsdGlhZGRyc5YACASsEqyXBvzuAAoErBKslwb8790DgnJzhQADAQAAiXNlY3AyNTZrMaED1xGNFnqmRABUdSOnYwzFlWrl4cwzPQoZivKMgynYuv6DdGNwgvzug3VkcIL88IV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-03_03-08-52__af3f1557-3242-45b4-a5bc-1ab9b3b69732__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.12.159
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['36800', '36801', '36802', '36803', '36804']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 36800:36800 -p 36801:36801 -p 36802:36802 -p 36803:36803 -p 36804:36804 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=36802 --rest-port=36800 --tcp-port=36801 --discv5-udp-port=36803 --rest-address=0.0.0.0 --nat=extip:172.18.12.159 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d222a3dca6e1e1deaafff7a2daff3e48aab56cdd30bd4ecdc5fd72a14b135b0a --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-L24QG3nAJFIBW-_r5FgVdvBJPiL3-LafIpZU7_VqLr5Z5wBcq8ImFrhQJyFktH9PlRF9Ij4tINmgSds8I5xPriP4Q8CgmlkgnY0gmlwhKwSrJeKbXVsdGlhZGRyc5YACASsEqyXBvzuAAoErBKslwb8790DgnJzhQADAQAAiXNlY3AyNTZrMaED1xGNFnqmRABUdSOnYwzFlWrl4cwzPQoZivKMgynYuv6DdGNwgvzug3VkcIL88IV3YWt1MgM --storenode=/ip4/172.18.172.151/tcp/64750/p2p/16Uiu2HAmT8XXaH2wKHFdU6sajspFuSgUe2Qi9Vy3FY9T9HYHfR2M --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.12.159 waku 014784ea2329234134804576fb206ae7159c14d6e64bdcbdb138b6e125228ebd
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 014784ea2329. Setting up logs at ./log/docker/store_node1_2025-02-03_03-08-52__af3f1557-3242-45b4-a5bc-1ab9b3b69732__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 36800
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36800/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QFomXpOYEcejp4yKw4ojqqfujHw78nXxILvqpdEmLhjNK4NJ_oB_H8t_kEHhV6rQurX5-hL-Nsng1j93cf4QPJ-GAZTJyEt0gmlkgnY0gmlwhKwRAAOCcnODAAMAiXNlY3AyNTZrMaEDMxlRHnPSE9WMt3UEQAT-6Kn7FBopNrtlBhHMeaJBU3mDdGNwgo_Bg3VkcIKPw4V3YWt1MgM","listenAddresses":["/ip4/127.0.0.1/tcp/36801/p2p/16Uiu2HAmG6TXuE5JrYgAdryZ1vffgfgqC1hkiyWenaaXY4ngbWUg","/ip4/127.0.0.1/tcp/36802/ws/p2p/16Uiu2HAmG6TXuE5JrYgAdryZ1vffgfgqC1hkiyWenaaXY4ngbWUg","/ip4/172.17.0.3/tcp/36801/p2p/16Uiu2HAmG6TXuE5JrYgAdryZ1vffgfgqC1hkiyWenaaXY4ngbWUg","/ip4/172.17.0.3/tcp/36802/ws/p2p/16Uiu2HAmG6TXuE5JrYgAdryZ1vffgfgqC1hkiyWenaaXY4ngbWUg"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36800/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.172.151/tcp/64750/p2p/16Uiu2HAmT8XXaH2wKHFdU6sajspFuSgUe2Qi9Vy3FY9T9HYHfR2M", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:64749/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36800/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:17 Running test with payload 3 sec Past
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:64749/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64749/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x9ba4dc828e73809115ecf6a87105fdc4cc00cf651efbccbcd9b4966cf94a5e3a"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36800/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"cbfcfe78e26f917ba671dc2c67c62ce2ff6755f689695f28e89b46b6f3010e4f","status_code":200,"status_desc":"OK","messages":[{"message_hash":"m6Tcgo5zgJEV7PaocQX9xMwAz2Ue+8y82bSWbPlKXjo="}]}'
[1m[31mERROR   [0m tests.store.test_time_filter:test_time_filter.py:23 Payload 3 sec Past failed: Message hash at index -1 returned by store doesn't match the computed message hash 0x9ba4dc828e73809115ecf6a87105fdc4cc00cf651efbccbcd9b4966cf94a5e3a. Actual hash: m6Tcgo5zgJEV7PaocQX9xMwAz2Ue+8y82bSWbPlKXjo=
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:17 Running test with payload 1 sec Past
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:64749/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64749/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x9ba4dc828e73809115ecf6a87105fdc4cc00cf651efbccbcd9b4966cf94a5e3a"},{"messageHash":"0xc513869caa4823e9da6e39a45440b7e28f33a89e823dc01a1a9846be598d85ab"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36800/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"7b68e40d673526e1e47439ae51236c0d81be877f383668264c5d28054d60c01f","status_code":200,"status_desc":"OK","messages":[{"message_hash":"m6Tcgo5zgJEV7PaocQX9xMwAz2Ue+8y82bSWbPlKXjo="},{"message_hash":"xROGnKpII+nabjmkVEC34o8zqJ6CPcAaGphGvlmNhas="}]}'
[1m[31mERROR   [0m tests.store.test_time_filter:test_time_filter.py:23 Payload 1 sec Past failed: Message hash at index -1 returned by store doesn't match the computed message hash 0xc513869caa4823e9da6e39a45440b7e28f33a89e823dc01a1a9846be598d85ab. Actual hash: xROGnKpII+nabjmkVEC34o8zqJ6CPcAaGphGvlmNhas=
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:17 Running test with payload 0.1 sec Past
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:64749/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64749/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x9ba4dc828e73809115ecf6a87105fdc4cc00cf651efbccbcd9b4966cf94a5e3a"},{"messageHash":"0xc513869caa4823e9da6e39a45440b7e28f33a89e823dc01a1a9846be598d85ab"},{"messageHash":"0xbc29c27734e206da305d921e3c91631c49e4395b1ed70e6d5840da51465e31aa"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36800/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"ff76738fd07a1f1933fac138a8d9c28faf2d94c415999e417b0f86d93b07946f","status_code":200,"status_desc":"OK","messages":[{"message_hash":"m6Tcgo5zgJEV7PaocQX9xMwAz2Ue+8y82bSWbPlKXjo="},{"message_hash":"xROGnKpII+nabjmkVEC34o8zqJ6CPcAaGphGvlmNhas="},{"message_hash":"vCnCdzTiBtowXZIePJFjHEnkOVse1w5tWEDaUUZeMao="}]}'
[1m[31mERROR   [0m tests.store.test_time_filter:test_time_filter.py:23 Payload 0.1 sec Past failed: Message hash at index -1 returned by store doesn't match the computed message hash 0xbc29c27734e206da305d921e3c91631c49e4395b1ed70e6d5840da51465e31aa. Actual hash: vCnCdzTiBtowXZIePJFjHEnkOVse1w5tWEDaUUZeMao=
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:17 Running test with payload 0.1 sec Future
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:64749/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64749/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x9ba4dc828e73809115ecf6a87105fdc4cc00cf651efbccbcd9b4966cf94a5e3a"},{"messageHash":"0xc513869caa4823e9da6e39a45440b7e28f33a89e823dc01a1a9846be598d85ab"},{"messageHash":"0xbc29c27734e206da305d921e3c91631c49e4395b1ed70e6d5840da51465e31aa"},{"messageHash":"0xd04bbcd02569ea5b6a2c3220c31c171812de13e173efe429637c7905561e2d80"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36800/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"8f594b0ed13d6b495e83445eb9c16794bfb34aca1efa2890ee4a018d0f9c268e","status_code":200,"status_desc":"OK","messages":[{"message_hash":"m6Tcgo5zgJEV7PaocQX9xMwAz2Ue+8y82bSWbPlKXjo="},{"message_hash":"xROGnKpII+nabjmkVEC34o8zqJ6CPcAaGphGvlmNhas="},{"message_hash":"vCnCdzTiBtowXZIePJFjHEnkOVse1w5tWEDaUUZeMao="},{"message_hash":"0Eu80CVp6ltqLDIgwxwXGBLeE+Fz7+QpY3x5BVYeLYA="}]}'
[1m[31mERROR   [0m tests.store.test_time_filter:test_time_filter.py:23 Payload 0.1 sec Future failed: Message hash at index -1 returned by store doesn't match the computed message hash 0xd04bbcd02569ea5b6a2c3220c31c171812de13e173efe429637c7905561e2d80. Actual hash: 0Eu80CVp6ltqLDIgwxwXGBLeE+Fz7+QpY3x5BVYeLYA=
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:17 Running test with payload 2 sec Future
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:64749/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64749/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x9ba4dc828e73809115ecf6a87105fdc4cc00cf651efbccbcd9b4966cf94a5e3a"},{"messageHash":"0xc513869caa4823e9da6e39a45440b7e28f33a89e823dc01a1a9846be598d85ab"},{"messageHash":"0xbc29c27734e206da305d921e3c91631c49e4395b1ed70e6d5840da51465e31aa"},{"messageHash":"0xd04bbcd02569ea5b6a2c3220c31c171812de13e173efe429637c7905561e2d80"},{"messageHash":"0x222c81cb8027599d1aba6ded8a64aa4fae4578c212162b3249a5610e3fd1362a"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36800/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"28dfe56aa17dc13cf055d8246ac74a10edc1095a2e8bee15772f7cdb9cdc502a","status_code":200,"status_desc":"OK","messages":[{"message_hash":"m6Tcgo5zgJEV7PaocQX9xMwAz2Ue+8y82bSWbPlKXjo="},{"message_hash":"xROGnKpII+nabjmkVEC34o8zqJ6CPcAaGphGvlmNhas="},{"message_hash":"vCnCdzTiBtowXZIePJFjHEnkOVse1w5tWEDaUUZeMao="},{"message_hash":"0Eu80CVp6ltqLDIgwxwXGBLeE+Fz7+QpY3x5BVYeLYA="},{"message_hash":"IiyBy4AnWZ0aum3timSqT65FeMISFisySaVhDj/RNio="}]}'
[1m[31mERROR   [0m tests.store.test_time_filter:test_time_filter.py:23 Payload 2 sec Future failed: Message hash at index -1 returned by store doesn't match the computed message hash 0x222c81cb8027599d1aba6ded8a64aa4fae4578c212162b3249a5610e3fd1362a. Actual hash: IiyBy4AnWZ0aum3timSqT65FeMISFisySaVhDj/RNio=
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:17 Running test with payload 10 sec Future
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:64749/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64749/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x9ba4dc828e73809115ecf6a87105fdc4cc00cf651efbccbcd9b4966cf94a5e3a"},{"messageHash":"0xc513869caa4823e9da6e39a45440b7e28f33a89e823dc01a1a9846be598d85ab"},{"messageHash":"0xbc29c27734e206da305d921e3c91631c49e4395b1ed70e6d5840da51465e31aa"},{"messageHash":"0xd04bbcd02569ea5b6a2c3220c31c171812de13e173efe429637c7905561e2d80"},{"messageHash":"0x222c81cb8027599d1aba6ded8a64aa4fae4578c212162b3249a5610e3fd1362a"},{"messageHash":"0x9950ede9086d9406adf559f831e7952dc17af3b6302ef3694327aecebcc76e98"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36800/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"0291fc628164300e7dfefe8a06b4ccfbfe3578dca6ffc88c1eb8b582b196e18b","status_code":200,"status_desc":"OK","messages":[{"message_hash":"m6Tcgo5zgJEV7PaocQX9xMwAz2Ue+8y82bSWbPlKXjo="},{"message_hash":"xROGnKpII+nabjmkVEC34o8zqJ6CPcAaGphGvlmNhas="},{"message_hash":"vCnCdzTiBtowXZIePJFjHEnkOVse1w5tWEDaUUZeMao="},{"message_hash":"0Eu80CVp6ltqLDIgwxwXGBLeE+Fz7+QpY3x5BVYeLYA="},{"message_hash":"IiyBy4AnWZ0aum3timSqT65FeMISFisySaVhDj/RNio="},{"message_hash":"mVDt6QhtlAat9Vn4MeeVLcF687YwLvNpQyeuzrzHbpg="}]}'
[1m[31mERROR   [0m tests.store.test_time_filter:test_time_filter.py:23 Payload 10 sec Future failed: Message hash at index -1 returned by store doesn't match the computed message hash 0x9950ede9086d9406adf559f831e7952dc17af3b6302ef3694327aecebcc76e98. Actual hash: mVDt6QhtlAat9Vn4MeeVLcF687YwLvNpQyeuzrzHbpg=
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 3e8eb6397e77
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 014784ea2329
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:42 Attaching file ./log/docker/store_node1_2025-02-03_03-08-52__af3f1557-3242-45b4-a5bc-1ab9b3b69732__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:42 Attaching file ./log/docker/publishing_node1_2025-02-03_03-08-52__af3f1557-3242-45b4-a5bc-1ab9b3b69732__wakuorg_nwaku:latest.log
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_messages_with_timestamps_close_to_now with id: 2025-02-03_03-08-58__111e7bcf-73b3-44f5-9ac1-32bf50b8b8ca
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-03_03-08-58__111e7bcf-73b3-44f5-9ac1-32bf50b8b8ca__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.59.210
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['43674', '43675', '43676', '43677', '43678']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 43674:43674 -p 43675:43675 -p 43676:43676 -p 43677:43677 -p 43678:43678 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=43676 --rest-port=43674 --tcp-port=43675 --discv5-udp-port=43677 --rest-address=0.0.0.0 --nat=extip:172.18.59.210 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dbdcad3dcbdda3e56d743ecddf4c8e2b270fedf3dfbd64cafcab9bdd84320abc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=43678 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.59.210 waku dee4f518327b75d6e3f8bbe676a3bf58650065cee65d25f5b9290e162ee9b1dd
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 3e8eb6397e77. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID dee4f518327b. Setting up logs at ./log/docker/publishing_node1_2025-02-03_03-08-58__111e7bcf-73b3-44f5-9ac1-32bf50b8b8ca__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 43674
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 014784ea2329. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43674/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43674/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.59.210/tcp/43675/p2p/16Uiu2HAmRF5rth9ZG2tLXMPzPr8KDrfUAHvAFxBWLjGdDFb4oJw4","/ip4/172.18.59.210/tcp/43676/ws/p2p/16Uiu2HAmRF5rth9ZG2tLXMPzPr8KDrfUAHvAFxBWLjGdDFb4oJw4"],"enrUri":"enr:-L24QCGxIG3Ap5acNkrAnsRdrTYQTWj4lebcfVRKxePaup0nZ_-pNXeC-arfjVz5hkwoBfSQMRV0jmgBmo9HhnCWsr4CgmlkgnY0gmlwhKwSO9KKbXVsdGlhZGRyc5YACASsEjvSBqqbAAoErBI70gaqnN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDuwg4oszxLmsuZpqXrlsGFyLcHtnrV2vmG2WMPMAYlMODdGNwgqqbg3VkcIKqnYV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-03_03-08-58__111e7bcf-73b3-44f5-9ac1-32bf50b8b8ca__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.149.198
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['48598', '48599', '48600', '48601', '48602']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 48598:48598 -p 48599:48599 -p 48600:48600 -p 48601:48601 -p 48602:48602 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=48600 --rest-port=48598 --tcp-port=48599 --discv5-udp-port=48601 --rest-address=0.0.0.0 --nat=extip:172.18.149.198 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=74edd00fafdd224a23fccb1d8ceb97f02f0952f9ca9c359b9a0b5efd5637d2f0 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-L24QCGxIG3Ap5acNkrAnsRdrTYQTWj4lebcfVRKxePaup0nZ_-pNXeC-arfjVz5hkwoBfSQMRV0jmgBmo9HhnCWsr4CgmlkgnY0gmlwhKwSO9KKbXVsdGlhZGRyc5YACASsEjvSBqqbAAoErBI70gaqnN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDuwg4oszxLmsuZpqXrlsGFyLcHtnrV2vmG2WMPMAYlMODdGNwgqqbg3VkcIKqnYV3YWt1MgM --storenode=/ip4/172.18.59.210/tcp/43675/p2p/16Uiu2HAmRF5rth9ZG2tLXMPzPr8KDrfUAHvAFxBWLjGdDFb4oJw4 --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.149.198 waku 2a3ecf2590a823b1ed249fb76966cf53301e43623363e87d4e8da5c73648b3fb
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 2a3ecf2590a8. Setting up logs at ./log/docker/store_node1_2025-02-03_03-08-58__111e7bcf-73b3-44f5-9ac1-32bf50b8b8ca__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 48598
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48598/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QHrL5B-fvYpXo3-OEYMGKway_7jEFXvJvW7sGaiFZya8aL9g7Vhe-btBucYH6TvoklMa-cgqomN-3BEe8yBRoQaGAZTJyF-LgmlkgnY0gmlwhKwRAAOCcnODAAMAiXNlY3AyNTZrMaECPIIgcGZgrt3yVSKQVhwYdskKpzGj9R7aI96AyXV7gOqDdGNwgr3Xg3VkcIK92YV3YWt1MgM","listenAddresses":["/ip4/127.0.0.1/tcp/48599/p2p/16Uiu2HAkyVsXViLPWSx8cPp2LEDAnvQmsgCSJA1qWEZfnCRTipzV","/ip4/127.0.0.1/tcp/48600/ws/p2p/16Uiu2HAkyVsXViLPWSx8cPp2LEDAnvQmsgCSJA1qWEZfnCRTipzV","/ip4/172.17.0.3/tcp/48599/p2p/16Uiu2HAkyVsXViLPWSx8cPp2LEDAnvQmsgCSJA1qWEZfnCRTipzV","/ip4/172.17.0.3/tcp/48600/ws/p2p/16Uiu2HAkyVsXViLPWSx8cPp2LEDAnvQmsgCSJA1qWEZfnCRTipzV"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48598/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.59.210/tcp/43675/p2p/16Uiu2HAmRF5rth9ZG2tLXMPzPr8KDrfUAHvAFxBWLjGdDFb4oJw4", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43674/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48598/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:17 Running test with payload 3 sec Past
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43674/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43674/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x2b6cf19b78b0fbfc12e5119acf0b841f67c4336b66349bf7bb6e3db4f4d7f9bd"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48598/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"5beef4cf3470aefa7c8323764f46bdaf7bb32644e24edea2b95fe9bccdb25ef3","status_code":200,"status_desc":"OK","messages":[{"message_hash":"K2zxm3iw+/wS5RGazwuEH2fEM2tmNJv3u249tPTX+b0="}]}'
[1m[31mERROR   [0m tests.store.test_time_filter:test_time_filter.py:23 Payload 3 sec Past failed: Message hash at index -1 returned by store doesn't match the computed message hash 0x2b6cf19b78b0fbfc12e5119acf0b841f67c4336b66349bf7bb6e3db4f4d7f9bd. Actual hash: K2zxm3iw+/wS5RGazwuEH2fEM2tmNJv3u249tPTX+b0=
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:17 Running test with payload 1 sec Past
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43674/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43674/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x2b6cf19b78b0fbfc12e5119acf0b841f67c4336b66349bf7bb6e3db4f4d7f9bd"},{"messageHash":"0x6ee3aa6a69cbfb8f9ffc4060d566873bdc54717e05980e091ec6afa2bb31fefc"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48598/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"aba3a57e523159eeedd49bf6e042d3eb405ea6fc5d2f3baf673df267692c5f9c","status_code":200,"status_desc":"OK","messages":[{"message_hash":"K2zxm3iw+/wS5RGazwuEH2fEM2tmNJv3u249tPTX+b0="},{"message_hash":"buOqamnL+4+f/EBg1WaHO9xUcX4FmA4JHsavorsx/vw="}]}'
[1m[31mERROR   [0m tests.store.test_time_filter:test_time_filter.py:23 Payload 1 sec Past failed: Message hash at index -1 returned by store doesn't match the computed message hash 0x6ee3aa6a69cbfb8f9ffc4060d566873bdc54717e05980e091ec6afa2bb31fefc. Actual hash: buOqamnL+4+f/EBg1WaHO9xUcX4FmA4JHsavorsx/vw=
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:17 Running test with payload 0.1 sec Past
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43674/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43674/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x2b6cf19b78b0fbfc12e5119acf0b841f67c4336b66349bf7bb6e3db4f4d7f9bd"},{"messageHash":"0x6ee3aa6a69cbfb8f9ffc4060d566873bdc54717e05980e091ec6afa2bb31fefc"},{"messageHash":"0x29832d211183dbc65e0ee6c92416356f39deb46fc9ca94673daabfd122e03ee6"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48598/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"606ffdc80e65d9e57d53982ca0911a1fe3adba4a382e4f43bb48a9f15a6f3838","status_code":200,"status_desc":"OK","messages":[{"message_hash":"K2zxm3iw+/wS5RGazwuEH2fEM2tmNJv3u249tPTX+b0="},{"message_hash":"buOqamnL+4+f/EBg1WaHO9xUcX4FmA4JHsavorsx/vw="},{"message_hash":"KYMtIRGD28ZeDubJJBY1bznetG/JypRnPaq/0SLgPuY="}]}'
[1m[31mERROR   [0m tests.store.test_time_filter:test_time_filter.py:23 Payload 0.1 sec Past failed: Message hash at index -1 returned by store doesn't match the computed message hash 0x29832d211183dbc65e0ee6c92416356f39deb46fc9ca94673daabfd122e03ee6. Actual hash: KYMtIRGD28ZeDubJJBY1bznetG/JypRnPaq/0SLgPuY=
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:17 Running test with payload 0.1 sec Future
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43674/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43674/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x2b6cf19b78b0fbfc12e5119acf0b841f67c4336b66349bf7bb6e3db4f4d7f9bd"},{"messageHash":"0x6ee3aa6a69cbfb8f9ffc4060d566873bdc54717e05980e091ec6afa2bb31fefc"},{"messageHash":"0x29832d211183dbc65e0ee6c92416356f39deb46fc9ca94673daabfd122e03ee6"},{"messageHash":"0x6679e2eccbfd8cb9337790d1a074eee9b489ab6cc157d1a7d92686a09381e61f"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48598/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"88966c4754eb02a316cc54b78eb98a2994b78148a94938d971e4abe2fab2456e","status_code":200,"status_desc":"OK","messages":[{"message_hash":"K2zxm3iw+/wS5RGazwuEH2fEM2tmNJv3u249tPTX+b0="},{"message_hash":"buOqamnL+4+f/EBg1WaHO9xUcX4FmA4JHsavorsx/vw="},{"message_hash":"KYMtIRGD28ZeDubJJBY1bznetG/JypRnPaq/0SLgPuY="},{"message_hash":"Znni7Mv9jLkzd5DRoHTu6bSJq2zBV9Gn2SaGoJOB5h8="}]}'
[1m[31mERROR   [0m tests.store.test_time_filter:test_time_filter.py:23 Payload 0.1 sec Future failed: Message hash at index -1 returned by store doesn't match the computed message hash 0x6679e2eccbfd8cb9337790d1a074eee9b489ab6cc157d1a7d92686a09381e61f. Actual hash: Znni7Mv9jLkzd5DRoHTu6bSJq2zBV9Gn2SaGoJOB5h8=
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:17 Running test with payload 2 sec Future
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43674/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43674/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x2b6cf19b78b0fbfc12e5119acf0b841f67c4336b66349bf7bb6e3db4f4d7f9bd"},{"messageHash":"0x6ee3aa6a69cbfb8f9ffc4060d566873bdc54717e05980e091ec6afa2bb31fefc"},{"messageHash":"0x29832d211183dbc65e0ee6c92416356f39deb46fc9ca94673daabfd122e03ee6"},{"messageHash":"0x6679e2eccbfd8cb9337790d1a074eee9b489ab6cc157d1a7d92686a09381e61f"},{"messageHash":"0x73a098f10b9755c844dfa0ae09a48888e210cc4e0e7d24874acd16c1e8cffd23"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48598/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"d53c4fbdccce20f7906106ccdcb785e32604329aad80d789d2eb6fa80c328c03","status_code":200,"status_desc":"OK","messages":[{"message_hash":"K2zxm3iw+/wS5RGazwuEH2fEM2tmNJv3u249tPTX+b0="},{"message_hash":"buOqamnL+4+f/EBg1WaHO9xUcX4FmA4JHsavorsx/vw="},{"message_hash":"KYMtIRGD28ZeDubJJBY1bznetG/JypRnPaq/0SLgPuY="},{"message_hash":"Znni7Mv9jLkzd5DRoHTu6bSJq2zBV9Gn2SaGoJOB5h8="},{"message_hash":"c6CY8QuXVchE36CuCaSIiOIQzE4OfSSHSs0WwejP/SM="}]}'
[1m[31mERROR   [0m tests.store.test_time_filter:test_time_filter.py:23 Payload 2 sec Future failed: Message hash at index -1 returned by store doesn't match the computed message hash 0x73a098f10b9755c844dfa0ae09a48888e210cc4e0e7d24874acd16c1e8cffd23. Actual hash: c6CY8QuXVchE36CuCaSIiOIQzE4OfSSHSs0WwejP/SM=
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:17 Running test with payload 10 sec Future
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43674/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43674/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x2b6cf19b78b0fbfc12e5119acf0b841f67c4336b66349bf7bb6e3db4f4d7f9bd"},{"messageHash":"0x6ee3aa6a69cbfb8f9ffc4060d566873bdc54717e05980e091ec6afa2bb31fefc"},{"messageHash":"0x29832d211183dbc65e0ee6c92416356f39deb46fc9ca94673daabfd122e03ee6"},{"messageHash":"0x6679e2eccbfd8cb9337790d1a074eee9b489ab6cc157d1a7d92686a09381e61f"},{"messageHash":"0x73a098f10b9755c844dfa0ae09a48888e210cc4e0e7d24874acd16c1e8cffd23"},{"messageHash":"0xdc84baa91653fd03640934d21deb4d8635f02af8eddc82fb875f1541b7495cf2"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48598/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"b0d37d44da6f77b61325f7bf11562e72d7489b3df7990a9d00cba480acf5efe8","status_code":200,"status_desc":"OK","messages":[{"message_hash":"K2zxm3iw+/wS5RGazwuEH2fEM2tmNJv3u249tPTX+b0="},{"message_hash":"buOqamnL+4+f/EBg1WaHO9xUcX4FmA4JHsavorsx/vw="},{"message_hash":"KYMtIRGD28ZeDubJJBY1bznetG/JypRnPaq/0SLgPuY="},{"message_hash":"Znni7Mv9jLkzd5DRoHTu6bSJq2zBV9Gn2SaGoJOB5h8="},{"message_hash":"c6CY8QuXVchE36CuCaSIiOIQzE4OfSSHSs0WwejP/SM="},{"message_hash":"3IS6qRZT/QNkCTTSHetNhjXwKvjt3IL7h18VQbdJXPI="}]}'
[1m[31mERROR   [0m tests.store.test_time_filter:test_time_filter.py:23 Payload 10 sec Future failed: Message hash at index -1 returned by store doesn't match the computed message hash 0xdc84baa91653fd03640934d21deb4d8635f02af8eddc82fb875f1541b7495cf2. Actual hash: 3IS6qRZT/QNkCTTSHetNhjXwKvjt3IL7h18VQbdJXPI=
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id dee4f518327b
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 2a3ecf2590a8
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:42 Attaching file ./log/docker/publishing_node1_2025-02-03_03-08-58__111e7bcf-73b3-44f5-9ac1-32bf50b8b8ca__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:42 Attaching file ./log/docker/store_node1_2025-02-03_03-08-58__111e7bcf-73b3-44f5-9ac1-32bf50b8b8ca__wakuorg_go-waku:latest.log