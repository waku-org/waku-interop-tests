[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_get_store_messages_with_different_content_topics with id: 2025-02-03_03-09-35__454d164b-dd9b-4c26-8d7d-fcd731ca37e5
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-03_03-09-35__454d164b-dd9b-4c26-8d7d-fcd731ca37e5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.96.255
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['11775', '11776', '11777', '11778', '11779']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 11775:11775 -p 11776:11776 -p 11777:11777 -p 11778:11778 -p 11779:11779 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=11777 --rest-port=11775 --tcp-port=11776 --discv5-udp-port=11778 --rest-address=0.0.0.0 --nat=extip:172.18.96.255 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6d72752acdf7ddb388e6e88b19ad9bfffeabd38caa3fcdfbd4dcbd8eb7feadcd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=11779 --metrics-logging=true --store=true --relay=true
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container e090513d3b6b. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.96.255 waku 65f6942c8688cd629fdccbceee9dc31aa5ff6876be78c42b30d0503a1a41ecfb
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 65f6942c8688. Setting up logs at ./log/docker/publishing_node1_2025-02-03_03-09-35__454d164b-dd9b-4c26-8d7d-fcd731ca37e5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 11775
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 7376af28045b. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11775/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11775/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.96.255/tcp/11776/p2p/16Uiu2HAm6FK71ocmMYawXLSX495EGH23gNN2txueTr1dzSCYYu9W","/ip4/172.18.96.255/tcp/11777/ws/p2p/16Uiu2HAm6FK71ocmMYawXLSX495EGH23gNN2txueTr1dzSCYYu9W"],"enrUri":"enr:-L24QH8iczGQuc3VQv7Va2eVKZOndAOVKfaUPjBpdeRhrUxaRZPUTe4j9nRNKt-TGyLkxgwwOdcwJL_WNpCPE6Xsgu4CgmlkgnY0gmlwhKwSYP-KbXVsdGlhZGRyc5YACASsEmD_Bi4AAAoErBJg_wYuAd0DgnJzhQADAQAAiXNlY3AyNTZrMaECoMkk461xjdkMarv7alRje65UH7Ohd0dH6c39yWRCFaWDdGNwgi4Ag3VkcIIuAoV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-03_03-09-35__454d164b-dd9b-4c26-8d7d-fcd731ca37e5__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.88.238
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['14565', '14566', '14567', '14568', '14569']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 14565:14565 -p 14566:14566 -p 14567:14567 -p 14568:14568 -p 14569:14569 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=14567 --rest-port=14565 --tcp-port=14566 --discv5-udp-port=14568 --rest-address=0.0.0.0 --nat=extip:172.18.88.238 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=df6eddc5cadd6ed4ae8d72b189eb7deaf80bb2bb50b00eb22c0ae1a2c57e9682 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-L24QH8iczGQuc3VQv7Va2eVKZOndAOVKfaUPjBpdeRhrUxaRZPUTe4j9nRNKt-TGyLkxgwwOdcwJL_WNpCPE6Xsgu4CgmlkgnY0gmlwhKwSYP-KbXVsdGlhZGRyc5YACASsEmD_Bi4AAAoErBJg_wYuAd0DgnJzhQADAQAAiXNlY3AyNTZrMaECoMkk461xjdkMarv7alRje65UH7Ohd0dH6c39yWRCFaWDdGNwgi4Ag3VkcIIuAoV3YWt1MgM --storenode=/ip4/172.18.96.255/tcp/11776/p2p/16Uiu2HAm6FK71ocmMYawXLSX495EGH23gNN2txueTr1dzSCYYu9W --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.88.238 waku ea3f89a739fd55e84d4f88722af2934c9366c712177dcd58102130785ac3173b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID ea3f89a739fd. Setting up logs at ./log/docker/store_node1_2025-02-03_03-09-35__454d164b-dd9b-4c26-8d7d-fcd731ca37e5__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 14565
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14565/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QA13Ih2yBdsFXLTf2t3jfJzAxssFFEg3gIIZoOpiXxVrQfbUn8YTEmP8wuA-CCgEGtAB3PXC2CKC1_cs8sX14VSGAZTJyPGJgmlkgnY0gmlwhKwRAASCcnODAAMAiXNlY3AyNTZrMaECE8q44xWJiW2e63H8GABJWMgowSIIaGilgwvIVD_FvE2DdGNwgjjmg3VkcII46IV3YWt1MgM","listenAddresses":["/ip4/127.0.0.1/tcp/14566/p2p/16Uiu2HAkvkw1p5uXEgU57q5wVVtiDXBbXKCHkBCpbuyiJLrwWBr4","/ip4/127.0.0.1/tcp/14567/ws/p2p/16Uiu2HAkvkw1p5uXEgU57q5wVVtiDXBbXKCHkBCpbuyiJLrwWBr4","/ip4/172.17.0.4/tcp/14566/p2p/16Uiu2HAkvkw1p5uXEgU57q5wVVtiDXBbXKCHkBCpbuyiJLrwWBr4","/ip4/172.17.0.4/tcp/14567/ws/p2p/16Uiu2HAkvkw1p5uXEgU57q5wVVtiDXBbXKCHkBCpbuyiJLrwWBr4"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14565/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.96.255/tcp/11776/p2p/16Uiu2HAm6FK71ocmMYawXLSX495EGH23gNN2txueTr1dzSCYYu9W", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11775/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14565/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:38 Running test with content topic /myapp/1/latest/proto
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11775/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11775/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xaa0ae6e6f66daccbf6d32ccdb2011a3bbfd2df52a55d0a69d48732532a45a2f4"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14565/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"1b6498a55e418fba5c7c3a323367d44316cba18e962a4083b56d4ea6446b77e6","status_code":200,"status_desc":"OK","messages":[{"message_hash":"qgrm5vZtrMv20yzNsgEaO7/S31KlXQpp1IcyUypFovQ="}]}'
[31m[1mERROR   [0m tests.store.test_get_messages:test_get_messages.py:44 ContentTopic /myapp/1/latest/proto failed: Message hash at index -1 returned by store doesn't match the computed message hash 0xaa0ae6e6f66daccbf6d32ccdb2011a3bbfd2df52a55d0a69d48732532a45a2f4. Actual hash: qgrm5vZtrMv20yzNsgEaO7/S31KlXQpp1IcyUypFovQ=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:38 Running test with content topic /waku/2/content/test.js
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11775/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11775/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fwaku%2F2%2Fcontent%2Ftest.js&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x71ee60eb126ac7a5b58054f2a2c101c1246f81244f4cf8f90dec8005b5dce525"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14565/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fwaku%2F2%2Fcontent%2Ftest.js&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"25109452fa635b94857c3a06afee60aa8be1f29c5872ec14d54520cf1da327c8","status_code":200,"status_desc":"OK","messages":[{"message_hash":"ce5g6xJqx6W1gFTyosEBwSRvgSRPTPj5DeyABbXc5SU="}]}'
[31m[1mERROR   [0m tests.store.test_get_messages:test_get_messages.py:44 ContentTopic /waku/2/content/test.js failed: Message hash at index -1 returned by store doesn't match the computed message hash 0x71ee60eb126ac7a5b58054f2a2c101c1246f81244f4cf8f90dec8005b5dce525. Actual hash: ce5g6xJqx6W1gFTyosEBwSRvgSRPTPj5DeyABbXc5SU=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:38 Running test with content topic /app/22/sometopic/someencoding
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11775/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11775/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F22%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xed1f685143fbb1d4592374c19d19cfdec226fbf9322a8154c7bfeda894021142"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14565/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F22%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"38fcb4574486f6ac7c6dcffeca8acd73145e68b3e7bba04a3eb65261e3c5d720","status_code":200,"status_desc":"OK","messages":[{"message_hash":"7R9oUUP7sdRZI3TBnRnP3sIm+/kyKoFUx7/tqJQCEUI="}]}'
[31m[1mERROR   [0m tests.store.test_get_messages:test_get_messages.py:44 ContentTopic /app/22/sometopic/someencoding failed: Message hash at index -1 returned by store doesn't match the computed message hash 0xed1f685143fbb1d4592374c19d19cfdec226fbf9322a8154c7bfeda894021142. Actual hash: 7R9oUUP7sdRZI3TBnRnP3sIm+/kyKoFUx7/tqJQCEUI=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:38 Running test with content topic /toychat/2/huilong/proto
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11775/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11775/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Ftoychat%2F2%2Fhuilong%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x6668d98dcba8999f12fb60a50b904492389e6f02e7eaf2be192c2a9c863e502b"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14565/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Ftoychat%2F2%2Fhuilong%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"0a237a49167ba68e79c64d0390260f66baeba998afd25b332f1d73fe5d5d3f14","status_code":200,"status_desc":"OK","messages":[{"message_hash":"ZmjZjcuomZ8S+2ClC5BEkjiebwLn6vK+GSwqnIY+UCs="}]}'
[31m[1mERROR   [0m tests.store.test_get_messages:test_get_messages.py:44 ContentTopic /toychat/2/huilong/proto failed: Message hash at index -1 returned by store doesn't match the computed message hash 0x6668d98dcba8999f12fb60a50b904492389e6f02e7eaf2be192c2a9c863e502b. Actual hash: ZmjZjcuomZ8S+2ClC5BEkjiebwLn6vK+GSwqnIY+UCs=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:38 Running test with content topic /statusim/1/community/cbor
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11775/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11775/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fstatusim%2F1%2Fcommunity%2Fcbor&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xf388f9c71d16d18b87da2c43616c6f386855b6a0310eec6a39ee8d6b0e53e52a"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14565/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fstatusim%2F1%2Fcommunity%2Fcbor&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"eb6dba02c12625cf84781722733dcece4cec4478a31ff030707a4355f424d3ac","status_code":200,"status_desc":"OK","messages":[{"message_hash":"84j5xx0W0YuH2ixDYWxvOGhVtqAxDuxqOe6Naw5T5So="}]}'
[31m[1mERROR   [0m tests.store.test_get_messages:test_get_messages.py:44 ContentTopic /statusim/1/community/cbor failed: Message hash at index -1 returned by store doesn't match the computed message hash 0xf388f9c71d16d18b87da2c43616c6f386855b6a0310eec6a39ee8d6b0e53e52a. Actual hash: 84j5xx0W0YuH2ixDYWxvOGhVtqAxDuxqOe6Naw5T5So=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:38 Running test with content topic /app/27/sometopic/someencoding
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11775/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11775/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F27%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xe0cc6e81280a1e035793b1491f974c1fc9f81db4d8f227243c2e9e6884ffb046"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14565/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F27%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"b17caf2a81349585b8fa8188ac72003aefa10c2b2f508ecfcc7d9d8bc5dc7f4b","status_code":200,"status_desc":"OK","messages":[{"message_hash":"4MxugSgKHgNXk7FJH5dMH8n4HbTY8ickPC6eaIT/sEY="}]}'
[31m[1mERROR   [0m tests.store.test_get_messages:test_get_messages.py:44 ContentTopic /app/27/sometopic/someencoding failed: Message hash at index -1 returned by store doesn't match the computed message hash 0xe0cc6e81280a1e035793b1491f974c1fc9f81db4d8f227243c2e9e6884ffb046. Actual hash: 4MxugSgKHgNXk7FJH5dMH8n4HbTY8ickPC6eaIT/sEY=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:38 Running test with content topic /app/29/sometopic/someencoding
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11775/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11775/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F29%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x42b90878d0b53cfbc8bae9cadcaa05b97ecd004864e80db237dcda7476c69477"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14565/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F29%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"c11e82bcad80f6a5c787a2b30bf5df29674720fedb57489be05904e4f5394798","status_code":200,"status_desc":"OK","messages":[{"message_hash":"QrkIeNC1PPvIuunK3KoFuX7NAEhk6A2yN9zadHbGlHc="}]}'
[31m[1mERROR   [0m tests.store.test_get_messages:test_get_messages.py:44 ContentTopic /app/29/sometopic/someencoding failed: Message hash at index -1 returned by store doesn't match the computed message hash 0x42b90878d0b53cfbc8bae9cadcaa05b97ecd004864e80db237dcda7476c69477. Actual hash: QrkIeNC1PPvIuunK3KoFuX7NAEhk6A2yN9zadHbGlHc=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:38 Running test with content topic /app/20/sometopic/someencoding
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11775/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11775/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F20%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x98f4304423bae5457f27a47c25c66e5b7352a7622104f790b028e9dd1f22a04f"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14565/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F20%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"43222a9a348cf34ca0b7f720f27192344963e3e64cc6c569070464e6ebbb5b88","status_code":200,"status_desc":"OK","messages":[{"message_hash":"mPQwRCO65UV/J6R8JcZuW3NSp2IhBPeQsCjp3R8ioE8="}]}'
[31m[1mERROR   [0m tests.store.test_get_messages:test_get_messages.py:44 ContentTopic /app/20/sometopic/someencoding failed: Message hash at index -1 returned by store doesn't match the computed message hash 0x98f4304423bae5457f27a47c25c66e5b7352a7622104f790b028e9dd1f22a04f. Actual hash: mPQwRCO65UV/J6R8JcZuW3NSp2IhBPeQsCjp3R8ioE8=
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 65f6942c8688
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id ea3f89a739fd
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:42 Attaching file ./log/docker/publishing_node1_2025-02-03_03-09-35__454d164b-dd9b-4c26-8d7d-fcd731ca37e5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:42 Attaching file ./log/docker/store_node1_2025-02-03_03-09-35__454d164b-dd9b-4c26-8d7d-fcd731ca37e5__wakuorg_go-waku:latest.log
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_get_store_messages_with_different_content_topics with id: 2025-02-03_03-09-41__964860d8-f050-4cd0-b4d6-6b7f12be4367
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-03_03-09-41__964860d8-f050-4cd0-b4d6-6b7f12be4367__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.131.13
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['5429', '5430', '5431', '5432', '5433']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 5429:5429 -p 5430:5430 -p 5431:5431 -p 5432:5432 -p 5433:5433 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=5431 --rest-port=5429 --tcp-port=5430 --discv5-udp-port=5432 --rest-address=0.0.0.0 --nat=extip:172.18.131.13 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fde574bbe31f2296dbfef00c7eaaf17b3ba21adaca4fc8fde24dca825ccd75b8 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=5433 --metrics-logging=true --store=true --relay=true
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 65f6942c8688. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.131.13 waku 126fed71f3f9e2b3f07bd808da86980297eb90dd8151e6b4c30fafe4448f225f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 126fed71f3f9. Setting up logs at ./log/docker/publishing_node1_2025-02-03_03-09-41__964860d8-f050-4cd0-b4d6-6b7f12be4367__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 5429
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container ea3f89a739fd. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5429/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5429/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.131.13/tcp/5430/p2p/16Uiu2HAmQg7voxEvJo8KMS11NW9pcBeKeQ4tzrPjTXpagWZQDHdc","/ip4/172.18.131.13/tcp/5431/ws/p2p/16Uiu2HAmQg7voxEvJo8KMS11NW9pcBeKeQ4tzrPjTXpagWZQDHdc"],"enrUri":"enr:-L24QAKxUKQBTZAt70iKPmvI9n6KY-00tZtRtDg8yGj0YKqhMXcN0y7CecNhE_DiqasStoLJ6Y9kQHBoN-JECSMA8ykCgmlkgnY0gmlwhKwSgw2KbXVsdGlhZGRyc5YACASsEoMNBhU2AAoErBKDDQYVN90DgnJzhQADAQAAiXNlY3AyNTZrMaEDspZkb6CkSlHdmTSck4Xa0FWvX3X6rmtNvLiCjpilspuDdGNwghU2g3VkcIIVOIV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-03_03-09-41__964860d8-f050-4cd0-b4d6-6b7f12be4367__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.207.31
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['8734', '8735', '8736', '8737', '8738']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 8734:8734 -p 8735:8735 -p 8736:8736 -p 8737:8737 -p 8738:8738 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=8736 --rest-port=8734 --tcp-port=8735 --discv5-udp-port=8737 --rest-address=0.0.0.0 --nat=extip:172.18.207.31 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f2fabe2cadeae558dd8a3784979856e2a43f5d5d7d7c1d51b6d52d96debc1a3b --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-L24QAKxUKQBTZAt70iKPmvI9n6KY-00tZtRtDg8yGj0YKqhMXcN0y7CecNhE_DiqasStoLJ6Y9kQHBoN-JECSMA8ykCgmlkgnY0gmlwhKwSgw2KbXVsdGlhZGRyc5YACASsEoMNBhU2AAoErBKDDQYVN90DgnJzhQADAQAAiXNlY3AyNTZrMaEDspZkb6CkSlHdmTSck4Xa0FWvX3X6rmtNvLiCjpilspuDdGNwghU2g3VkcIIVOIV3YWt1MgM --storenode=/ip4/172.18.131.13/tcp/5430/p2p/16Uiu2HAmQg7voxEvJo8KMS11NW9pcBeKeQ4tzrPjTXpagWZQDHdc --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.207.31 waku ed3d8dc22b5191e5cc62a389bedf6dd75e77273b6bfa7e6dd78b8aadde9d979f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID ed3d8dc22b51. Setting up logs at ./log/docker/store_node1_2025-02-03_03-09-41__964860d8-f050-4cd0-b4d6-6b7f12be4367__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 8734
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8734/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QMqp9_2JhEHXwxYLygHC0gKn_DIlg9hOZogNykUtk_71eyeS-fMa4FY6gzix-PVr3TjVgPKqu1XXfS7Dvn3QoHSGAZTJyQjvgmlkgnY0gmlwhKwRAASCcnODAAMAiXNlY3AyNTZrMaECHcmGkHCYwtyd62AiZZerixiopL-1c3-niKIWT2-htwiDdGNwgiIfg3VkcIIiIYV3YWt1MgM","listenAddresses":["/ip4/127.0.0.1/tcp/8735/p2p/16Uiu2HAkwRx2u4moDrJvZeBX2RZtoeE7tAFPp9xe4v8PmtGdvFQs","/ip4/127.0.0.1/tcp/8736/ws/p2p/16Uiu2HAkwRx2u4moDrJvZeBX2RZtoeE7tAFPp9xe4v8PmtGdvFQs","/ip4/172.17.0.4/tcp/8735/p2p/16Uiu2HAkwRx2u4moDrJvZeBX2RZtoeE7tAFPp9xe4v8PmtGdvFQs","/ip4/172.17.0.4/tcp/8736/ws/p2p/16Uiu2HAkwRx2u4moDrJvZeBX2RZtoeE7tAFPp9xe4v8PmtGdvFQs"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8734/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.131.13/tcp/5430/p2p/16Uiu2HAmQg7voxEvJo8KMS11NW9pcBeKeQ4tzrPjTXpagWZQDHdc", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5429/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8734/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:38 Running test with content topic /myapp/1/latest/proto
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5429/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5429/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xcdf0daa2f0a8ebaf3fa5d3b6a70fa19a15773ada87a929221f49cb8098c2d544"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8734/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"23f9e44fb1ad2bc22037c685c80cc1715a6715e97d0e1e2f2302b615d565270d","status_code":200,"status_desc":"OK","messages":[{"message_hash":"zfDaovCo668/pdO2pw+hmhV3OtqHqSkiH0nLgJjC1UQ="}]}'
[31m[1mERROR   [0m tests.store.test_get_messages:test_get_messages.py:44 ContentTopic /myapp/1/latest/proto failed: Message hash at index -1 returned by store doesn't match the computed message hash 0xcdf0daa2f0a8ebaf3fa5d3b6a70fa19a15773ada87a929221f49cb8098c2d544. Actual hash: zfDaovCo668/pdO2pw+hmhV3OtqHqSkiH0nLgJjC1UQ=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:38 Running test with content topic /waku/2/content/test.js
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5429/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5429/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fwaku%2F2%2Fcontent%2Ftest.js&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x65411f0f8dd1673cab3b3d57e2fdfcbc253e8cbae483c051bdc06e5f5f6a8a19"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8734/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fwaku%2F2%2Fcontent%2Ftest.js&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"7312b28dd4cea030c062ab1adced04b0df6059e3140baf3ea4049fcbd6c5bb52","status_code":200,"status_desc":"OK","messages":[{"message_hash":"ZUEfD43RZzyrOz1X4v38vCU+jLrkg8BRvcBuX19qihk="}]}'
[31m[1mERROR   [0m tests.store.test_get_messages:test_get_messages.py:44 ContentTopic /waku/2/content/test.js failed: Message hash at index -1 returned by store doesn't match the computed message hash 0x65411f0f8dd1673cab3b3d57e2fdfcbc253e8cbae483c051bdc06e5f5f6a8a19. Actual hash: ZUEfD43RZzyrOz1X4v38vCU+jLrkg8BRvcBuX19qihk=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:38 Running test with content topic /app/22/sometopic/someencoding
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5429/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5429/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F22%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xc1106a64069718501e4f61d4fa3bbce86bafa8614dd71abb42a73f8e990249ed"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8734/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F22%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"cbcf915f15332c17a48fa597ce4108363b44ca5762d770c3fa69bd29dff1e967","status_code":200,"status_desc":"OK","messages":[{"message_hash":"wRBqZAaXGFAeT2HU+ju86GuvqGFN1xq7Qqc/jpkCSe0="}]}'
[31m[1mERROR   [0m tests.store.test_get_messages:test_get_messages.py:44 ContentTopic /app/22/sometopic/someencoding failed: Message hash at index -1 returned by store doesn't match the computed message hash 0xc1106a64069718501e4f61d4fa3bbce86bafa8614dd71abb42a73f8e990249ed. Actual hash: wRBqZAaXGFAeT2HU+ju86GuvqGFN1xq7Qqc/jpkCSe0=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:38 Running test with content topic /toychat/2/huilong/proto
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5429/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5429/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Ftoychat%2F2%2Fhuilong%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xdc671253f9deaf8520a5df0369a97f8bbb3f88f0d3d157032b18bd038b222485"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8734/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Ftoychat%2F2%2Fhuilong%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"272a6b9fa21a453457a286ae38db2c2ec4ab2cf419f106c8d49adbac5cb1d2bf","status_code":200,"status_desc":"OK","messages":[{"message_hash":"3GcSU/ner4Ugpd8Daal/i7s/iPDT0VcDKxi9A4siJIU="}]}'
[31m[1mERROR   [0m tests.store.test_get_messages:test_get_messages.py:44 ContentTopic /toychat/2/huilong/proto failed: Message hash at index -1 returned by store doesn't match the computed message hash 0xdc671253f9deaf8520a5df0369a97f8bbb3f88f0d3d157032b18bd038b222485. Actual hash: 3GcSU/ner4Ugpd8Daal/i7s/iPDT0VcDKxi9A4siJIU=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:38 Running test with content topic /statusim/1/community/cbor
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5429/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5429/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fstatusim%2F1%2Fcommunity%2Fcbor&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xf7752bba5ef67736475080b966658cc5a685066055e258ef465ad0ee2b565312"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8734/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fstatusim%2F1%2Fcommunity%2Fcbor&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"77a1e781a5aaadb7ac3b1b4558a41b2674a3117378f01eb428eeb5da24742439","status_code":200,"status_desc":"OK","messages":[{"message_hash":"93Urul72dzZHUIC5ZmWMxaaFBmBV4ljvRlrQ7itWUxI="}]}'
[31m[1mERROR   [0m tests.store.test_get_messages:test_get_messages.py:44 ContentTopic /statusim/1/community/cbor failed: Message hash at index -1 returned by store doesn't match the computed message hash 0xf7752bba5ef67736475080b966658cc5a685066055e258ef465ad0ee2b565312. Actual hash: 93Urul72dzZHUIC5ZmWMxaaFBmBV4ljvRlrQ7itWUxI=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:38 Running test with content topic /app/27/sometopic/someencoding
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5429/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5429/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F27%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xc81c014744e0cc2bfd8c0f1ccd929f56ba898933ba645782d151880f09720e69"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8734/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F27%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"84f9f65a0fcf0f2f5345b3f0543ffdccd9936b59bf8b8c220d224411d1747484","status_code":200,"status_desc":"OK","messages":[{"message_hash":"yBwBR0TgzCv9jA8czZKfVrqJiTO6ZFeC0VGIDwlyDmk="}]}'
[31m[1mERROR   [0m tests.store.test_get_messages:test_get_messages.py:44 ContentTopic /app/27/sometopic/someencoding failed: Message hash at index -1 returned by store doesn't match the computed message hash 0xc81c014744e0cc2bfd8c0f1ccd929f56ba898933ba645782d151880f09720e69. Actual hash: yBwBR0TgzCv9jA8czZKfVrqJiTO6ZFeC0VGIDwlyDmk=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:38 Running test with content topic /app/29/sometopic/someencoding
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5429/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5429/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F29%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xe3dfafe07d2f6731dbc6a640231471db7ef693292391eeb10b599761a9174d59"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8734/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F29%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"a04479f6890be9d159682247601f0a7806457fb1b3bbdaf31c1b6855d7f0c654","status_code":200,"status_desc":"OK","messages":[{"message_hash":"49+v4H0vZzHbxqZAIxRx2372kykjke6xC1mXYakXTVk="}]}'
[31m[1mERROR   [0m tests.store.test_get_messages:test_get_messages.py:44 ContentTopic /app/29/sometopic/someencoding failed: Message hash at index -1 returned by store doesn't match the computed message hash 0xe3dfafe07d2f6731dbc6a640231471db7ef693292391eeb10b599761a9174d59. Actual hash: 49+v4H0vZzHbxqZAIxRx2372kykjke6xC1mXYakXTVk=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:38 Running test with content topic /app/20/sometopic/someencoding
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5429/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5429/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F20%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x33b45576d80522f802f9a8d996eba41c6e5f9cc1bac83807944e6e70ca016e62"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8734/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F20%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"f7cb87dd5304518edfea1901a88ce13e40a43665ffda2fe7024b8f89c130194a","status_code":200,"status_desc":"OK","messages":[{"message_hash":"M7RVdtgFIvgC+ajZluukHG5fnMG6yDgHlE5ucMoBbmI="}]}'
[31m[1mERROR   [0m tests.store.test_get_messages:test_get_messages.py:44 ContentTopic /app/20/sometopic/someencoding failed: Message hash at index -1 returned by store doesn't match the computed message hash 0x33b45576d80522f802f9a8d996eba41c6e5f9cc1bac83807944e6e70ca016e62. Actual hash: M7RVdtgFIvgC+ajZluukHG5fnMG6yDgHlE5ucMoBbmI=
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 126fed71f3f9
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id ed3d8dc22b51
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:42 Attaching file ./log/docker/store_node1_2025-02-03_03-09-41__964860d8-f050-4cd0-b4d6-6b7f12be4367__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:42 Attaching file ./log/docker/publishing_node1_2025-02-03_03-09-41__964860d8-f050-4cd0-b4d6-6b7f12be4367__wakuorg_nwaku:latest.log
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_get_store_messages_with_different_content_topics with id: 2025-02-03_03-09-47__8f420d31-a219-4279-8eae-c60f27937949
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-03_03-09-47__8f420d31-a219-4279-8eae-c60f27937949__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.58.98
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['40915', '40916', '40917', '40918', '40919']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 40915:40915 -p 40916:40916 -p 40917:40917 -p 40918:40918 -p 40919:40919 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=40917 --rest-port=40915 --tcp-port=40916 --discv5-udp-port=40918 --rest-address=0.0.0.0 --nat=extip:172.18.58.98 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fee821aea9e998eddf1fccefdb872e5d172abb56fecbfe194fad1afc695fc52e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=40919 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.58.98 waku c56992d272efdc7f64d28a667e5c42112f3c091880921d95c810d77d8cc64316
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 126fed71f3f9. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID c56992d272ef. Setting up logs at ./log/docker/publishing_node1_2025-02-03_03-09-47__8f420d31-a219-4279-8eae-c60f27937949__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 40915
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container ed3d8dc22b51. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40915/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40915/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.58.98/tcp/40916/p2p/16Uiu2HAmVopM8kZWBcBD5Kou3Xo6oarRjyyPk3wB6xkJrAjRztcr","/ip4/172.18.58.98/tcp/40917/ws/p2p/16Uiu2HAmVopM8kZWBcBD5Kou3Xo6oarRjyyPk3wB6xkJrAjRztcr"],"enrUri":"enr:-L24QJQiHAXGdf8axlyVuiRqyCvTt89t26xy5ZRfy0no-VhGO0n6KmeaIskF3K3orMzX4JsG5s5NFr2eNhOhHjNdxpYCgmlkgnY0gmlwhKwSOmKKbXVsdGlhZGRyc5YACASsEjpiBp_UAAoErBI6Ygaf1d0DgnJzhQADAQAAiXNlY3AyNTZrMaED_tmYT4qPRbLnB5iaJtLIbcHF1pQweoVjbNdEzucc7LODdGNwgp_Ug3VkcIKf1oV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-03_03-09-47__8f420d31-a219-4279-8eae-c60f27937949__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.15.181
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['17019', '17020', '17021', '17022', '17023']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 17019:17019 -p 17020:17020 -p 17021:17021 -p 17022:17022 -p 17023:17023 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=17021 --rest-port=17019 --tcp-port=17020 --discv5-udp-port=17022 --rest-address=0.0.0.0 --nat=extip:172.18.15.181 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ef52ca4be072f5a65fde03bf3568a9b7a5ab4b7a101cd9bbecf8caf48fac4b40 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-L24QJQiHAXGdf8axlyVuiRqyCvTt89t26xy5ZRfy0no-VhGO0n6KmeaIskF3K3orMzX4JsG5s5NFr2eNhOhHjNdxpYCgmlkgnY0gmlwhKwSOmKKbXVsdGlhZGRyc5YACASsEjpiBp_UAAoErBI6Ygaf1d0DgnJzhQADAQAAiXNlY3AyNTZrMaED_tmYT4qPRbLnB5iaJtLIbcHF1pQweoVjbNdEzucc7LODdGNwgp_Ug3VkcIKf1oV3YWt1MgM --storenode=/ip4/172.18.58.98/tcp/40916/p2p/16Uiu2HAmVopM8kZWBcBD5Kou3Xo6oarRjyyPk3wB6xkJrAjRztcr --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.15.181 waku 9c2ef2676b06309a9f58a6eb6bb9bbb356bd6f5b05a81117e4b6ff8d22040d51
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 9c2ef2676b06. Setting up logs at ./log/docker/store_node1_2025-02-03_03-09-47__8f420d31-a219-4279-8eae-c60f27937949__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 17019
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17019/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QN9RYbKX7yk-PwusMvcu431YNGtC1Way72XvAP1KskeGC7okvqxbjEB2fs5T9mw4xvJOVqA63pVlJhqIqaoMYQCGAZTJySIFgmlkgnY0gmlwhKwRAASCcnODAAMAiXNlY3AyNTZrMaEDK9iW6uBGftYxVdVd9cQwoGmIk65jV-AKS0E1SUyyy6SDdGNwgkJ8g3VkcIJCfoV3YWt1MgM","listenAddresses":["/ip4/127.0.0.1/tcp/17020/p2p/16Uiu2HAmFc9S9vJxB11rGcY5dGa3PBdCC73fFomc7Uj2jy96r9oZ","/ip4/127.0.0.1/tcp/17021/ws/p2p/16Uiu2HAmFc9S9vJxB11rGcY5dGa3PBdCC73fFomc7Uj2jy96r9oZ","/ip4/172.17.0.4/tcp/17020/p2p/16Uiu2HAmFc9S9vJxB11rGcY5dGa3PBdCC73fFomc7Uj2jy96r9oZ","/ip4/172.17.0.4/tcp/17021/ws/p2p/16Uiu2HAmFc9S9vJxB11rGcY5dGa3PBdCC73fFomc7Uj2jy96r9oZ"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17019/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.58.98/tcp/40916/p2p/16Uiu2HAmVopM8kZWBcBD5Kou3Xo6oarRjyyPk3wB6xkJrAjRztcr", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40915/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17019/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:38 Running test with content topic /myapp/1/latest/proto
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40915/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40915/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xc3b5cecb1ff99b08b440a343bdf5c391cc6f9964a3313e7dea7d702d90515fef"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17019/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"3f301237e6c7ffb497454aec1cfeaf65495930baa103ddf694ef62550d870e00","status_code":200,"status_desc":"OK","messages":[{"message_hash":"w7XOyx/5mwi0QKNDvfXDkcxvmWSjMT596n1wLZBRX+8="}]}'
[31m[1mERROR   [0m tests.store.test_get_messages:test_get_messages.py:44 ContentTopic /myapp/1/latest/proto failed: Message hash at index -1 returned by store doesn't match the computed message hash 0xc3b5cecb1ff99b08b440a343bdf5c391cc6f9964a3313e7dea7d702d90515fef. Actual hash: w7XOyx/5mwi0QKNDvfXDkcxvmWSjMT596n1wLZBRX+8=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:38 Running test with content topic /waku/2/content/test.js
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40915/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40915/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fwaku%2F2%2Fcontent%2Ftest.js&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xf6dd9b1b08c377e51c71e6732c4c890239143a7f882d182171d44f72be731bb0"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17019/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fwaku%2F2%2Fcontent%2Ftest.js&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"97b5bed9417a0a3e71b04e9e65fbd63fb373967800322a5b16f96e7cb7553043","status_code":200,"status_desc":"OK","messages":[{"message_hash":"9t2bGwjDd+UcceZzLEyJAjkUOn+ILRghcdRPcr5zG7A="}]}'
[31m[1mERROR   [0m tests.store.test_get_messages:test_get_messages.py:44 ContentTopic /waku/2/content/test.js failed: Message hash at index -1 returned by store doesn't match the computed message hash 0xf6dd9b1b08c377e51c71e6732c4c890239143a7f882d182171d44f72be731bb0. Actual hash: 9t2bGwjDd+UcceZzLEyJAjkUOn+ILRghcdRPcr5zG7A=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:38 Running test with content topic /app/22/sometopic/someencoding
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40915/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40915/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F22%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x1241a4196541dca33d80b7cce7d09209b9033b9af3607a995500b58f60461d5b"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17019/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F22%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"a23d0917bc1b2efede00aef6ff0f5be1b4c71e7c5dd11ddf70c7af9e9add09ec","status_code":200,"status_desc":"OK","messages":[{"message_hash":"EkGkGWVB3KM9gLfM59CSCbkDO5rzYHqZVQC1j2BGHVs="}]}'
[31m[1mERROR   [0m tests.store.test_get_messages:test_get_messages.py:44 ContentTopic /app/22/sometopic/someencoding failed: Message hash at index -1 returned by store doesn't match the computed message hash 0x1241a4196541dca33d80b7cce7d09209b9033b9af3607a995500b58f60461d5b. Actual hash: EkGkGWVB3KM9gLfM59CSCbkDO5rzYHqZVQC1j2BGHVs=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:38 Running test with content topic /toychat/2/huilong/proto
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40915/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40915/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Ftoychat%2F2%2Fhuilong%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xee3300594430d10051c5e7cb2b139ae1b8abb999400ec6c0eb3914506c7e2700"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17019/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Ftoychat%2F2%2Fhuilong%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"04dffa0126af40299dc7669ae3bafe43227e37aa2701c30dd6a37ec9651726ee","status_code":200,"status_desc":"OK","messages":[{"message_hash":"7jMAWUQw0QBRxefLKxOa4biruZlADsbA6zkUUGx+JwA="}]}'
[31m[1mERROR   [0m tests.store.test_get_messages:test_get_messages.py:44 ContentTopic /toychat/2/huilong/proto failed: Message hash at index -1 returned by store doesn't match the computed message hash 0xee3300594430d10051c5e7cb2b139ae1b8abb999400ec6c0eb3914506c7e2700. Actual hash: 7jMAWUQw0QBRxefLKxOa4biruZlADsbA6zkUUGx+JwA=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:38 Running test with content topic /statusim/1/community/cbor
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40915/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40915/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fstatusim%2F1%2Fcommunity%2Fcbor&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xaf3caaaf23666f009c839b8d3aa210d3f0de59c05a2489366cfca078cc9adad8"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17019/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fstatusim%2F1%2Fcommunity%2Fcbor&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"00a9a5b7f27c8b6e821c03178107ff09c55bbe0389c9cc2a902bcbb747eadd4e","status_code":200,"status_desc":"OK","messages":[{"message_hash":"rzyqryNmbwCcg5uNOqIQ0/DeWcBaJIk2bPygeMya2tg="}]}'
[31m[1mERROR   [0m tests.store.test_get_messages:test_get_messages.py:44 ContentTopic /statusim/1/community/cbor failed: Message hash at index -1 returned by store doesn't match the computed message hash 0xaf3caaaf23666f009c839b8d3aa210d3f0de59c05a2489366cfca078cc9adad8. Actual hash: rzyqryNmbwCcg5uNOqIQ0/DeWcBaJIk2bPygeMya2tg=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:38 Running test with content topic /app/27/sometopic/someencoding
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40915/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40915/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F27%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x591e2cc440153b92bf6b566a987cd773e4fa1ce2dc0d4d9a2c89b7bdddcd111a"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17019/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F27%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"d487b30c85046f936d85832119a88bc34968cc1af53cfadca6bad3d5e8e62c15","status_code":200,"status_desc":"OK","messages":[{"message_hash":"WR4sxEAVO5K/a1ZqmHzXc+T6HOLcDU2aLIm3vd3NERo="}]}'
[31m[1mERROR   [0m tests.store.test_get_messages:test_get_messages.py:44 ContentTopic /app/27/sometopic/someencoding failed: Message hash at index -1 returned by store doesn't match the computed message hash 0x591e2cc440153b92bf6b566a987cd773e4fa1ce2dc0d4d9a2c89b7bdddcd111a. Actual hash: WR4sxEAVO5K/a1ZqmHzXc+T6HOLcDU2aLIm3vd3NERo=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:38 Running test with content topic /app/29/sometopic/someencoding
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40915/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40915/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F29%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x1ab1e79617e3e7ef69816cff0525e3a452473590badddb680cc2f02996fd4205"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17019/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F29%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"571389ff51206126a1da204771ee0faf6e65d8f1dd30f18f011322afef9b9d83","status_code":200,"status_desc":"OK","messages":[{"message_hash":"GrHnlhfj5+9pgWz/BSXjpFJHNZC63dtoDMLwKZb9QgU="}]}'
[31m[1mERROR   [0m tests.store.test_get_messages:test_get_messages.py:44 ContentTopic /app/29/sometopic/someencoding failed: Message hash at index -1 returned by store doesn't match the computed message hash 0x1ab1e79617e3e7ef69816cff0525e3a452473590badddb680cc2f02996fd4205. Actual hash: GrHnlhfj5+9pgWz/BSXjpFJHNZC63dtoDMLwKZb9QgU=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:38 Running test with content topic /app/20/sometopic/someencoding
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40915/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40915/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F20%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x02791910837c27983c845c74222eaa10b5f37fc2b796d49b3dc8f61c22fe93f3"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17019/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F20%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"f17b6c8f7f2f506027d30ab5dc7162c75a0510f86bb66b3d24919d8485ba052a","status_code":200,"status_desc":"OK","messages":[{"message_hash":"AnkZEIN8J5g8hFx0Ii6qELXzf8K3ltSbPcj2HCL+k/M="}]}'
[31m[1mERROR   [0m tests.store.test_get_messages:test_get_messages.py:44 ContentTopic /app/20/sometopic/someencoding failed: Message hash at index -1 returned by store doesn't match the computed message hash 0x02791910837c27983c845c74222eaa10b5f37fc2b796d49b3dc8f61c22fe93f3. Actual hash: AnkZEIN8J5g8hFx0Ii6qELXzf8K3ltSbPcj2HCL+k/M=
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id c56992d272ef
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 9c2ef2676b06
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:42 Attaching file ./log/docker/publishing_node1_2025-02-03_03-09-47__8f420d31-a219-4279-8eae-c60f27937949__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:42 Attaching file ./log/docker/store_node1_2025-02-03_03-09-47__8f420d31-a219-4279-8eae-c60f27937949__wakuorg_go-waku:latest.log