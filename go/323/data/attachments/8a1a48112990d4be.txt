[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-10-27_09-50-59__6c6b1463-4358-4d87-80bd-bab1ef46c9c2
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-10-27_09-50-59__6c6b1463-4358-4d87-80bd-bab1ef46c9c2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.54.137
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['5122', '5123', '5124', '5125', '5126']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 5122:5122 -p 5123:5123 -p 5124:5124 -p 5125:5125 -p 5126:5126 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=5124 --rest-port=5122 --tcp-port=5123 --discv5-udp-port=5125 --rest-address=0.0.0.0 --nat=extip:172.18.54.137 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6edb89ae178de4c13bbc9f6cac86395c84eacf1c5c9c0a5f1baad50de7b1a34d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=5126 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.54.137 waku da85d93f33eca0b1f7d7499e0886b6832d5038d68a954b339d6611da683b7090
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID da85d93f33ec. Setting up logs at ./log/docker/node1_2024-10-27_09-50-59__6c6b1463-4358-4d87-80bd-bab1ef46c9c2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 5122
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container f107118de89d. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5122/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5122/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.54.137/tcp/5123/p2p/16Uiu2HAmEVnKuTY4WDNEbK5iabZCaD7fJbyhX8gGs6aJEm1gCuQ2","/ip4/172.18.54.137/tcp/5124/ws/p2p/16Uiu2HAmEVnKuTY4WDNEbK5iabZCaD7fJbyhX8gGs6aJEm1gCuQ2"],"enrUri":"enr:-LO4QCRe187Rvwmnfn8kXq4EOOexuwVyglr1WJYVr3lQaiG1e0edboJGbZCSj7tDA39XnIDF35TNl93WWeHoEw-fzJ8BgmlkgnY0gmlwhKwSNomKbXVsdGlhZGRyc4wACgSsEjaJBhQE3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMbW40XKvCSyO9dAnUI_KpZbm97wCaOfvvLulGQeZ2IL4N0Y3CCFAODdWRwghQFhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-10-27_09-50-59__6c6b1463-4358-4d87-80bd-bab1ef46c9c2__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.255.252
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['47298', '47299', '47300', '47301', '47302']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 47298:47298 -p 47299:47299 -p 47300:47300 -p 47301:47301 -p 47302:47302 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=47300 --rest-port=47298 --tcp-port=47299 --discv5-udp-port=47301 --rest-address=0.0.0.0 --nat=extip:172.18.255.252 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2ce67e27fa4bbab2d9bf0fa84fcb3cfdbbbd557f31db8dafcfe17b7b78eff1ea --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-LO4QCRe187Rvwmnfn8kXq4EOOexuwVyglr1WJYVr3lQaiG1e0edboJGbZCSj7tDA39XnIDF35TNl93WWeHoEw-fzJ8BgmlkgnY0gmlwhKwSNomKbXVsdGlhZGRyc4wACgSsEjaJBhQE3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMbW40XKvCSyO9dAnUI_KpZbm97wCaOfvvLulGQeZ2IL4N0Y3CCFAODdWRwghQFhXdha3UyBQ --filternode=/ip4/172.18.54.137/tcp/5123/p2p/16Uiu2HAmEVnKuTY4WDNEbK5iabZCaD7fJbyhX8gGs6aJEm1gCuQ2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.255.252 waku 971ada380009432b1061cf5903d18fc45838dea4e088a951af7272a2dfadb667
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 971ada380009. Setting up logs at ./log/docker/node2_2024-10-27_09-50-59__6c6b1463-4358-4d87-80bd-bab1ef46c9c2__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 47298
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47298/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QBF5IIAZZ7ppKrTdXTc8mXmu_OyzmL7q9ExtpLRvYd0AdRQctT-I5zlSAgAm55__4zutNobT5-kYQV7-90FjOXWGAZLNYt5ZgmlkgnY0gmlwhKwRAAyJc2VjcDI1NmsxoQOkfwByZBteTdzvAIBfSD-tZXlhCFLodWUfUV9UgcMYkoN0Y3CCuMODdWRwgrjFhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/47299/p2p/16Uiu2HAmPj7XvnukFDmT8wo9WuMUGKY13VBqow9hBx5DDVzwGXXw","/ip4/127.0.0.1/tcp/47300/ws/p2p/16Uiu2HAmPj7XvnukFDmT8wo9WuMUGKY13VBqow9hBx5DDVzwGXXw","/ip4/172.17.0.12/tcp/47299/p2p/16Uiu2HAmPj7XvnukFDmT8wo9WuMUGKY13VBqow9hBx5DDVzwGXXw","/ip4/172.17.0.12/tcp/47300/ws/p2p/16Uiu2HAmPj7XvnukFDmT8wo9WuMUGKY13VBqow9hBx5DDVzwGXXw"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47298/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.54.137/tcp/5123/p2p/16Uiu2HAmEVnKuTY4WDNEbK5iabZCaD7fJbyhX8gGs6aJEm1gCuQ2", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-10-27_09-50-59__6c6b1463-4358-4d87-80bd-bab1ef46c9c2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.226.81
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['21731', '21732', '21733', '21734', '21735']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 21731:21731 -p 21732:21732 -p 21733:21733 -p 21734:21734 -p 21735:21735 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=21733 --rest-port=21731 --tcp-port=21732 --discv5-udp-port=21734 --rest-address=0.0.0.0 --nat=extip:172.18.226.81 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8df26a5acf3e43a886f9fccbcb0f810fabdfde1b759fbeba5e4dfa3abbf9fed4 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=21735 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QCRe187Rvwmnfn8kXq4EOOexuwVyglr1WJYVr3lQaiG1e0edboJGbZCSj7tDA39XnIDF35TNl93WWeHoEw-fzJ8BgmlkgnY0gmlwhKwSNomKbXVsdGlhZGRyc4wACgSsEjaJBhQE3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMbW40XKvCSyO9dAnUI_KpZbm97wCaOfvvLulGQeZ2IL4N0Y3CCFAODdWRwghQFhXdha3UyBQ --filternode=/ip4/172.18.54.137/tcp/5123/p2p/16Uiu2HAmEVnKuTY4WDNEbK5iabZCaD7fJbyhX8gGs6aJEm1gCuQ2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.226.81 waku 0402d47da95951ce1466d7fd8213d7e68140df09743a29416531c4a1baae31b8
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 0402d47da959. Setting up logs at ./log/docker/node3_2024-10-27_09-50-59__6c6b1463-4358-4d87-80bd-bab1ef46c9c2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 21731
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21731/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21731/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.226.81/tcp/21732/p2p/16Uiu2HAmRJZGXrj1Eq1zA3PW6AZZasjRnZ46JGHndY4CQagzTrXx","/ip4/172.18.226.81/tcp/21733/ws/p2p/16Uiu2HAmRJZGXrj1Eq1zA3PW6AZZasjRnZ46JGHndY4CQagzTrXx"],"enrUri":"enr:-LO4QIr-IDVvFSu1SPNTWGYqFIgev3oJws3KCax5Py3XZLY1MEeXwy_tdQ_dxr8rwWN4CLWVccJcRZfjRmfOqFGdDKgBgmlkgnY0gmlwhKwS4lGKbXVsdGlhZGRyc4wACgSsEuJRBlTl3QOCcnOFAAMBAACJc2VjcDI1NmsxoQO76_QavfFMbhs7Y5aYVYqr5_Yl_MLGJKs7E6XWvZXLp4N0Y3CCVOSDdWRwglTmhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21731/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.54.137/tcp/5123/p2p/16Uiu2HAmEVnKuTY4WDNEbK5iabZCaD7fJbyhX8gGs6aJEm1gCuQ2"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-10-27_09-50-59__6c6b1463-4358-4d87-80bd-bab1ef46c9c2__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.89.242
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['49143', '49144', '49145', '49146', '49147']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 49143:49143 -p 49144:49144 -p 49145:49145 -p 49146:49146 -p 49147:49147 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=49145 --rest-port=49143 --tcp-port=49144 --discv5-udp-port=49146 --rest-address=0.0.0.0 --nat=extip:172.18.89.242 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cbfc20eda5adbc9bfeee7cc790bb9db1a289118aa8e571809f7bcdc7e32e4cbe --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-LO4QCRe187Rvwmnfn8kXq4EOOexuwVyglr1WJYVr3lQaiG1e0edboJGbZCSj7tDA39XnIDF35TNl93WWeHoEw-fzJ8BgmlkgnY0gmlwhKwSNomKbXVsdGlhZGRyc4wACgSsEjaJBhQE3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMbW40XKvCSyO9dAnUI_KpZbm97wCaOfvvLulGQeZ2IL4N0Y3CCFAODdWRwghQFhXdha3UyBQ --filternode=/ip4/172.18.54.137/tcp/5123/p2p/16Uiu2HAmEVnKuTY4WDNEbK5iabZCaD7fJbyhX8gGs6aJEm1gCuQ2
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.62.92
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['54260', '54261', '54262', '54263', '54264']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 54260:54260 -p 54261:54261 -p 54262:54262 -p 54263:54263 -p 54264:54264 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=54262 --rest-port=54260 --tcp-port=54261 --discv5-udp-port=54263 --rest-address=0.0.0.0 --nat=extip:172.18.62.92 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=28ba55ffaad360c8cc2e868bfabd9fc9ec7145c45db0d626cf2f5726f007131c --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-LO4QCRe187Rvwmnfn8kXq4EOOexuwVyglr1WJYVr3lQaiG1e0edboJGbZCSj7tDA39XnIDF35TNl93WWeHoEw-fzJ8BgmlkgnY0gmlwhKwSNomKbXVsdGlhZGRyc4wACgSsEjaJBhQE3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMbW40XKvCSyO9dAnUI_KpZbm97wCaOfvvLulGQeZ2IL4N0Y3CCFAODdWRwghQFhXdha3UyBQ --filternode=/ip4/172.18.54.137/tcp/5123/p2p/16Uiu2HAmEVnKuTY4WDNEbK5iabZCaD7fJbyhX8gGs6aJEm1gCuQ2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.62.92 waku 949c489ce9f2d602b75a921a144abc7df5bc8553b4e1fa8b27884881642a8e92
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 949c489ce9f2. Setting up logs at ./log/docker/node4_2024-10-27_09-50-59__6c6b1463-4358-4d87-80bd-bab1ef46c9c2__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 54260
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54260/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QORK9Ne2rl9ehH2bj6Mzr_k6SibL2dvVewlUku2sunEeTj9UDRck3tRCTJVHhfu3gO6cPHFdph4N2I4z7pBVb9uGAZLNYuyZgmlkgnY0gmlwhKwRAAiJc2VjcDI1NmsxoQM_1daPVqq8zs4uuzEbTg5e-G9rLNWjKA7a02ZMgrLLy4N0Y3CC0_WDdWRwgtP3hXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/54261/p2p/16Uiu2HAmGxB9x3BkaPQvk4KePZLySV75LtRwGXLHTvLcffwEKPfx","/ip4/127.0.0.1/tcp/54262/ws/p2p/16Uiu2HAmGxB9x3BkaPQvk4KePZLySV75LtRwGXLHTvLcffwEKPfx","/ip4/172.17.0.8/tcp/54261/p2p/16Uiu2HAmGxB9x3BkaPQvk4KePZLySV75LtRwGXLHTvLcffwEKPfx","/ip4/172.17.0.8/tcp/54262/ws/p2p/16Uiu2HAmGxB9x3BkaPQvk4KePZLySV75LtRwGXLHTvLcffwEKPfx"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54260/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.54.137/tcp/5123/p2p/16Uiu2HAmEVnKuTY4WDNEbK5iabZCaD7fJbyhX8gGs6aJEm1gCuQ2", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-10-27_09-50-59__6c6b1463-4358-4d87-80bd-bab1ef46c9c2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.45.114
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['16513', '16514', '16515', '16516', '16517']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 16513:16513 -p 16514:16514 -p 16515:16515 -p 16516:16516 -p 16517:16517 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=16515 --rest-port=16513 --tcp-port=16514 --discv5-udp-port=16516 --rest-address=0.0.0.0 --nat=extip:172.18.45.114 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=274c0ea823d4e62f56fe0e153478f8ddbfcaf8bb177f64ecfa5a78d771c2a82b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=16517 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QCRe187Rvwmnfn8kXq4EOOexuwVyglr1WJYVr3lQaiG1e0edboJGbZCSj7tDA39XnIDF35TNl93WWeHoEw-fzJ8BgmlkgnY0gmlwhKwSNomKbXVsdGlhZGRyc4wACgSsEjaJBhQE3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMbW40XKvCSyO9dAnUI_KpZbm97wCaOfvvLulGQeZ2IL4N0Y3CCFAODdWRwghQFhXdha3UyBQ --filternode=/ip4/172.18.54.137/tcp/5123/p2p/16Uiu2HAmEVnKuTY4WDNEbK5iabZCaD7fJbyhX8gGs6aJEm1gCuQ2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.45.114 waku 117a1af84920bcedd58a8a18d2d8280a44ab0a109ab1c4e68507b7d27764cea7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 117a1af84920. Setting up logs at ./log/docker/node5_2024-10-27_09-50-59__6c6b1463-4358-4d87-80bd-bab1ef46c9c2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 16513
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16513/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16513/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.45.114/tcp/16514/p2p/16Uiu2HAkwfRi5Z9ALV34PDXshNMgqQR1AQM763ysJjGHimG3CmuN","/ip4/172.18.45.114/tcp/16515/ws/p2p/16Uiu2HAkwfRi5Z9ALV34PDXshNMgqQR1AQM763ysJjGHimG3CmuN"],"enrUri":"enr:-LO4QCRy8owW2zYLmB83AmA49gZmqFjmBdhXQYpqDwdDNrrtYoHZ5aXgnjoY6wuefUXd3Sl5ND5GAzZX32o00IkFmO0BgmlkgnY0gmlwhKwSLXKKbXVsdGlhZGRyc4wACgSsEi1yBkCD3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIhPV51rJ1oVUJMbLHHbawQr6Hh7zxSTqDsBpwdvdVTxYN0Y3CCQIKDdWRwgkCEhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16513/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.54.137/tcp/5123/p2p/16Uiu2HAmEVnKuTY4WDNEbK5iabZCaD7fJbyhX8gGs6aJEm1gCuQ2"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5122/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47298/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "ad7f5ecd-b4ac-4cac-8ab1-44cac418d9f1", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"ad7f5ecd-b4ac-4cac-8ab1-44cac418d9f1","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21731/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "be9617f5-1914-4185-afeb-6233180afd3f", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"be9617f5-1914-4185-afeb-6233180afd3f","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54260/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "73bea5d6-0b85-4146-a23f-1407e1612833", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"73bea5d6-0b85-4146-a23f-1407e1612833","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16513/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "dd97fbe4-1fb6-4aff-9452-e03b06c69055", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"dd97fbe4-1fb6-4aff-9452-e03b06c69055","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5122/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47298/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1730022668084278784,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5122/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21731/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:21731/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id da85d93f33ec
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 971ada380009
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container da85d93f33ec. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 0402d47da959
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 971ada380009. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 949c489ce9f2
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 0402d47da959. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 117a1af84920
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 949c489ce9f2. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.