[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_pubsub_topic with id: 2024-11-06_16-15-54__2738a71f-2b9d-4842-a773-1edd051ca96f
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-06_16-15-54__2738a71f-2b9d-4842-a773-1edd051ca96f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.214.226
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['3796', '3797', '3798', '3799', '3800']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 3796:3796 -p 3797:3797 -p 3798:3798 -p 3799:3799 -p 3800:3800 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=3798 --rest-port=3796 --tcp-port=3797 --discv5-udp-port=3799 --rest-address=0.0.0.0 --nat=extip:172.18.214.226 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a79ea2d27f9139fa1114ad3bbdffb2bcbaca4015be7bd5315d6bad8b4b5b7edd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=3800 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.214.226 waku 93a09f48a212aa9a15994eaee952145a667bd4a6fb96ee7edb930d6b3d4f2f4d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 93a09f48a212. Setting up logs at ./log/docker/node1_2024-11-06_16-15-54__2738a71f-2b9d-4842-a773-1edd051ca96f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 3796
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 6f434d0e8314. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3796/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3796/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.214.226/tcp/3797/p2p/16Uiu2HAm5gW87FdMKPcUGRixp5F78AypXrnTgwhQgwxPikKwgHfH","/ip4/172.18.214.226/tcp/3798/ws/p2p/16Uiu2HAm5gW87FdMKPcUGRixp5F78AypXrnTgwhQgwxPikKwgHfH"],"enrUri":"enr:-L24QES7dfdWXyFMIRP55ACgw8G8Wr1GUwXo6qijhjUPCBo7SpOS-nbbqA1xc58mkWWTchLJfvPFnvI9o3wX9ULyX54CgmlkgnY0gmlwhKwS1uKKbXVsdGlhZGRyc5YACASsEtbiBg7VAAoErBLW4gYO1t0DgnJzhQADAQAAiXNlY3AyNTZrMaECmGFvvDONYOYy88GGhUHnayBVduv1tPdPN8uo7k8BJOSDdGNwgg7Vg3VkcIIO14V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-06_16-15-54__2738a71f-2b9d-4842-a773-1edd051ca96f__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.165.111
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['29601', '29602', '29603', '29604', '29605']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 29601:29601 -p 29602:29602 -p 29603:29603 -p 29604:29604 -p 29605:29605 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=29603 --rest-port=29601 --tcp-port=29602 --discv5-udp-port=29604 --rest-address=0.0.0.0 --nat=extip:172.18.165.111 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=05fe2f7c696abc0acaebeb5d911be5408811cd2e8b630a48da2c33a8a41e18c2 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-L24QES7dfdWXyFMIRP55ACgw8G8Wr1GUwXo6qijhjUPCBo7SpOS-nbbqA1xc58mkWWTchLJfvPFnvI9o3wX9ULyX54CgmlkgnY0gmlwhKwS1uKKbXVsdGlhZGRyc5YACASsEtbiBg7VAAoErBLW4gYO1t0DgnJzhQADAQAAiXNlY3AyNTZrMaECmGFvvDONYOYy88GGhUHnayBVduv1tPdPN8uo7k8BJOSDdGNwgg7Vg3VkcIIO14V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.165.111 waku 98a729868df80eb8b3025449707d360bb5ca5435fd19453a93ce397e53b36dc3
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 98a729868df8. Setting up logs at ./log/docker/node2_2024-11-06_16-15-54__2738a71f-2b9d-4842-a773-1edd051ca96f__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 29601
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29601/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QG25hMCkcmqxsn-YOnJ1KX2cTpQd0A9I_p540lKnQeH-JyDmYU4dCAzPTI50NgJADFsA9kCXVd-AH9jRLDNeUeaGAZMCQt8kgmlkgnY0gmlwhKwRAASJc2VjcDI1NmsxoQPehA4qG95d6VSegzbiXDfWHR1WtQLnndV0TJ0eQGGnjYN0Y3CCc6KDdWRwgnOkhXdha3UyAQ","listenAddresses":["/ip4/127.0.0.1/tcp/29602/p2p/16Uiu2HAmTdbeedeiVcWsEnXjc1BCGoYePKuTvCMJY2WBdtcYVg1a","/ip4/127.0.0.1/tcp/29603/ws/p2p/16Uiu2HAmTdbeedeiVcWsEnXjc1BCGoYePKuTvCMJY2WBdtcYVg1a","/ip4/172.17.0.4/tcp/29602/p2p/16Uiu2HAmTdbeedeiVcWsEnXjc1BCGoYePKuTvCMJY2WBdtcYVg1a","/ip4/172.17.0.4/tcp/29603/ws/p2p/16Uiu2HAmTdbeedeiVcWsEnXjc1BCGoYePKuTvCMJY2WBdtcYVg1a"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29601/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.214.226/tcp/3797/p2p/16Uiu2HAm5gW87FdMKPcUGRixp5F78AypXrnTgwhQgwxPikKwgHfH", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-06_16-15-54__2738a71f-2b9d-4842-a773-1edd051ca96f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.22.51
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['26978', '26979', '26980', '26981', '26982']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 26978:26978 -p 26979:26979 -p 26980:26980 -p 26981:26981 -p 26982:26982 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=26980 --rest-port=26978 --tcp-port=26979 --discv5-udp-port=26981 --rest-address=0.0.0.0 --nat=extip:172.18.22.51 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=09b3ebbfaa31d9b16aaad682c86efabef0d95a65a9b6de3bb01cca1989dfe1f1 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=26982 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QES7dfdWXyFMIRP55ACgw8G8Wr1GUwXo6qijhjUPCBo7SpOS-nbbqA1xc58mkWWTchLJfvPFnvI9o3wX9ULyX54CgmlkgnY0gmlwhKwS1uKKbXVsdGlhZGRyc5YACASsEtbiBg7VAAoErBLW4gYO1t0DgnJzhQADAQAAiXNlY3AyNTZrMaECmGFvvDONYOYy88GGhUHnayBVduv1tPdPN8uo7k8BJOSDdGNwgg7Vg3VkcIIO14V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.22.51 waku 4386d1cdbecf2fa63612d1a8973dcf9b7c6b973a32640b5b8393666d67c7e134
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 4386d1cdbecf. Setting up logs at ./log/docker/node3_2024-11-06_16-15-54__2738a71f-2b9d-4842-a773-1edd051ca96f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 26978
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26978/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26978/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.22.51/tcp/26979/p2p/16Uiu2HAkwNrAc1S8QsrnoDBpDojzrdnaWGSoT1cwuBZaSsdtTYaR","/ip4/172.18.22.51/tcp/26980/ws/p2p/16Uiu2HAkwNrAc1S8QsrnoDBpDojzrdnaWGSoT1cwuBZaSsdtTYaR"],"enrUri":"enr:-L24QDchk5OsXKh533FFDFtQsJkA49qABSivMtIoG1nyQdmsAqS6j7GQo1CXN3Bu5gBaTP2HantFJaKsZPKgRaBk7KICgmlkgnY0gmlwhKwSFjOKbXVsdGlhZGRyc5YACASsEhYzBmljAAoErBIWMwZpZN0DgnJzhQADAQAAiXNlY3AyNTZrMaECHP4mMyzX2bYa7Zep6LNeBoZZRdMq9kMjZoHwWX-m866DdGNwgmljg3VkcIJpZYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26978/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.214.226/tcp/3797/p2p/16Uiu2HAm5gW87FdMKPcUGRixp5F78AypXrnTgwhQgwxPikKwgHfH"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-06_16-15-54__2738a71f-2b9d-4842-a773-1edd051ca96f__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.65.142
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['10389', '10390', '10391', '10392', '10393']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 10389:10389 -p 10390:10390 -p 10391:10391 -p 10392:10392 -p 10393:10393 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=10391 --rest-port=10389 --tcp-port=10390 --discv5-udp-port=10392 --rest-address=0.0.0.0 --nat=extip:172.18.65.142 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=faefdd31a5abe1fc47ace98a9e1be6fb2b0cc4b7f0c508be6fd4ad4b99caebe1 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-L24QES7dfdWXyFMIRP55ACgw8G8Wr1GUwXo6qijhjUPCBo7SpOS-nbbqA1xc58mkWWTchLJfvPFnvI9o3wX9ULyX54CgmlkgnY0gmlwhKwS1uKKbXVsdGlhZGRyc5YACASsEtbiBg7VAAoErBLW4gYO1t0DgnJzhQADAQAAiXNlY3AyNTZrMaECmGFvvDONYOYy88GGhUHnayBVduv1tPdPN8uo7k8BJOSDdGNwgg7Vg3VkcIIO14V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.65.142 waku 5d8c938af96fc1ba54fdaad29db13ef8d85113226af3480929ef3937f84bc6f7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 5d8c938af96f. Setting up logs at ./log/docker/node4_2024-11-06_16-15-54__2738a71f-2b9d-4842-a773-1edd051ca96f__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 10389
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10389/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QAYMqhNQFH8iuU6OVAXk84AOnRN9WCheNfWHRF5UMbDyKQWO8MCVcUopeybSsB8iNj6Ikh3ndy7Fmr4VfBExIuuGAZMCQuvigmlkgnY0gmlwhKwRAAyJc2VjcDI1NmsxoQLbnBs0rRXn69EeZdYVxDdn4-0orEhTENOwr7SLw0mlWYN0Y3CCKJaDdWRwgiiYhXdha3UyAQ","listenAddresses":["/ip4/127.0.0.1/tcp/10390/p2p/16Uiu2HAmACwKvFGKpoDcTLL537KsmNEBTt1ztXtkJNsx7EiG4f8c","/ip4/127.0.0.1/tcp/10391/ws/p2p/16Uiu2HAmACwKvFGKpoDcTLL537KsmNEBTt1ztXtkJNsx7EiG4f8c","/ip4/172.17.0.12/tcp/10390/p2p/16Uiu2HAmACwKvFGKpoDcTLL537KsmNEBTt1ztXtkJNsx7EiG4f8c","/ip4/172.17.0.12/tcp/10391/ws/p2p/16Uiu2HAmACwKvFGKpoDcTLL537KsmNEBTt1ztXtkJNsx7EiG4f8c"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10389/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.214.226/tcp/3797/p2p/16Uiu2HAm5gW87FdMKPcUGRixp5F78AypXrnTgwhQgwxPikKwgHfH", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-06_16-15-54__2738a71f-2b9d-4842-a773-1edd051ca96f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.52.176
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['18658', '18659', '18660', '18661', '18662']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 18658:18658 -p 18659:18659 -p 18660:18660 -p 18661:18661 -p 18662:18662 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=18660 --rest-port=18658 --tcp-port=18659 --discv5-udp-port=18661 --rest-address=0.0.0.0 --nat=extip:172.18.52.176 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d9d3cc3cbb200b779a9057eddfa5a901f62acbfeeeb55be935d3d1dcde06b1fb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=18662 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QES7dfdWXyFMIRP55ACgw8G8Wr1GUwXo6qijhjUPCBo7SpOS-nbbqA1xc58mkWWTchLJfvPFnvI9o3wX9ULyX54CgmlkgnY0gmlwhKwS1uKKbXVsdGlhZGRyc5YACASsEtbiBg7VAAoErBLW4gYO1t0DgnJzhQADAQAAiXNlY3AyNTZrMaECmGFvvDONYOYy88GGhUHnayBVduv1tPdPN8uo7k8BJOSDdGNwgg7Vg3VkcIIO14V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.52.176 waku beae187a5765c41f428aba5d8f84c400783a83e97b0ac5f0393495ecb21f73fe
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID beae187a5765. Setting up logs at ./log/docker/node5_2024-11-06_16-15-54__2738a71f-2b9d-4842-a773-1edd051ca96f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 18658
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18658/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18658/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.52.176/tcp/18659/p2p/16Uiu2HAkyqE6rR5fmpQ2WDdaZhpc1zp61tuKiFmZ1cprg2ZKJ8tA","/ip4/172.18.52.176/tcp/18660/ws/p2p/16Uiu2HAkyqE6rR5fmpQ2WDdaZhpc1zp61tuKiFmZ1cprg2ZKJ8tA"],"enrUri":"enr:-L24QCqOP5Oqow_xunmN-rC0-3FojnJbXvavFRac-UQKrP0Yf_focCCTw9eTGhbNe_U7fjMJK_IC-4q_3bzqoNjAkbICgmlkgnY0gmlwhKwSNLCKbXVsdGlhZGRyc5YACASsEjSwBkjjAAoErBI0sAZI5N0DgnJzhQADAQAAiXNlY3AyNTZrMaECQXdtK8rzeRIq0GtmT8ODOvCFZw0CTIoMybjC13MeJhuDdGNwgkjjg3VkcIJI5YV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:18658/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.214.226/tcp/3797/p2p/16Uiu2HAm5gW87FdMKPcUGRixp5F78AypXrnTgwhQgwxPikKwgHfH"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3796/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29601/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3796/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3796/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730909763081777920,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29601/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3796/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3796/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730909764197715456,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29601/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730909764197715456,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3796/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26978/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:26978/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1. Response content: b''
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 93a09f48a212
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 98a729868df8
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 93a09f48a212. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 4386d1cdbecf
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 98a729868df8. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 5d8c938af96f
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 4386d1cdbecf. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id beae187a5765
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 5d8c938af96f. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.