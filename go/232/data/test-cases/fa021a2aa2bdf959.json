{"uid":"fa021a2aa2bdf959","name":"test_store_lightpushed_message","fullName":"tests.store.test_running_nodes.TestRunningNodes#test_store_lightpushed_message","historyId":"964395f73b95c28c749b3e67dfff9ab1","time":{"start":1722914790059,"stop":1722914795696,"duration":5637},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"set_allure_env_variables","time":{"start":1722913878121,"stop":1722913878121,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes","time":{"start":1722914790057,"stop":1722914790057,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_id","time":{"start":1722914790057,"stop":1722914790058,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail","time":{"start":1722914790057,"stop":1722914790057,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"common_setup","time":{"start":1722914790058,"stop":1722914790058,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_setup","time":{"start":1722914790058,"stop":1722914790058,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"store_setup","time":{"start":1722914790058,"stop":1722914790058,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[{"name":"setup_first_publishing_node","time":{"start":1722914790059,"stop":1722914791611,"duration":1552},"status":"passed","steps":[{"name":"start_publishing_node","time":{"start":1722914790059,"stop":1722914791611,"duration":1552},"status":"passed","steps":[{"name":"add_node_peer","time":{"start":1722914791610,"stop":1722914791611,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.store.test_running_nodes.TestRunningNodes object at 0x7f23e0ed0ec0>, <src.node.waku_node.WakuNode object at 0x7f23db8c84d0>, [])"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"image","value":"'wakuorg/nwaku:latest'"},{"name":"node_index","value":"1"},{"name":"store","value":"'true'"},{"name":"relay","value":"'true'"},{"name":"nodekey","value":"'30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68'"},{"name":"lightpush","value":"'true'"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"store","value":"'true'"},{"name":"relay","value":"'true'"},{"name":"lightpush","value":"'true'"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"setup_second_publishing_node","time":{"start":1722914791611,"stop":1722914793696,"duration":2085},"status":"passed","steps":[{"name":"start_publishing_node","time":{"start":1722914791611,"stop":1722914793695,"duration":2084},"status":"passed","steps":[{"name":"add_node_peer","time":{"start":1722914793663,"stop":1722914793695,"duration":32},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.store.test_running_nodes.TestRunningNodes object at 0x7f23e0ed0ec0>, <src.node.waku_node.WakuNode object at 0x7f23db7347d0>, ['/ip4/172.18.233.70/tcp/28806/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip'])"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"image","value":"'wakuorg/nwaku:latest'"},{"name":"node_index","value":"2"},{"name":"store","value":"'false'"},{"name":"relay","value":"'true'"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"store","value":"'false'"},{"name":"relay","value":"'true'"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"setup_first_store_node","time":{"start":1722914793696,"stop":1722914795466,"duration":1770},"status":"passed","steps":[{"name":"setup_store_node","time":{"start":1722914793696,"stop":1722914795466,"duration":1770},"status":"passed","steps":[{"name":"add_node_peer","time":{"start":1722914795449,"stop":1722914795466,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.store.test_running_nodes.TestRunningNodes object at 0x7f23e0ed0ec0>, <src.node.waku_node.WakuNode object at 0x7f23db767f20>, ['/ip4/172.18.233.70/tcp/28806/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip', '/ip4/172.18.117.39/tcp/41015/p2p/16Uiu2HAmM5msYHYrb2YtTjSY6vn6hPrFDgcc9rGahGRPvWrzqBoD'])"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"image","value":"'wakuorg/go-waku:latest'"},{"name":"node_index","value":"1"},{"name":"store","value":"'false'"},{"name":"relay","value":"'false'"},{"name":"lightpush","value":"'true'"},{"name":"lightpushnode","value":"'/ip4/172.18.233.70/tcp/28806/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip'"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"store","value":"'false'"},{"name":"relay","value":"'false'"},{"name":"lightpush","value":"'true'"},{"name":"lightpushnode","value":"'/ip4/172.18.233.70/tcp/28806/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip'"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"subscribe_to_pubsub_topics_via_relay","time":{"start":1722914795466,"stop":1722914795477,"duration":11},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"None"},{"name":"pubsub_topics","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"publish_message","time":{"start":1722914795477,"stop":1722914795685,"duration":208},"status":"passed","steps":[{"name":"create_message","time":{"start":1722914795477,"stop":1722914795477,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"create_payload","time":{"start":1722914795477,"stop":1722914795477,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"pubsub_topic","value":"'/waku/2/rs/3/0'"},{"name":"message","value":"{'payload': 'U3RvcmUgd29ya3MhIQ==', 'contentTopic': '/myapp/1/latest/proto', 'timestamp': 1722914795476972800}"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"via","value":"'lightpush'"},{"name":"pubsub_topic","value":"None"},{"name":"message","value":"None"},{"name":"message_propagation_delay","value":"0.2"},{"name":"sender","value":"<src.node.waku_node.WakuNode object at 0x7f23db767f20>"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_published_message_is_stored","time":{"start":1722914795685,"stop":1722914795696,"duration":11},"status":"passed","steps":[{"name":"get_messages_from_store","time":{"start":1722914795685,"stop":1722914795688,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f23db8c84d0>"},{"name":"peer_addr","value":"None"},{"name":"include_data","value":"None"},{"name":"pubsub_topic","value":"'/waku/2/rs/3/0'"},{"name":"content_topics","value":"None"},{"name":"start_time","value":"None"},{"name":"end_time","value":"None"},{"name":"hashes","value":"None"},{"name":"cursor","value":"None"},{"name":"page_size","value":"5"},{"name":"ascending","value":"'true'"},{"name":"store_v","value":"'v3'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"compute_message_hash","time":{"start":1722914795690,"stop":1722914795690,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"pubsub_topic","value":"'/waku/2/rs/3/0'"},{"name":"msg","value":"{'payload': 'U3RvcmUgd29ya3MhIQ==', 'contentTopic': '/myapp/1/latest/proto', 'timestamp': 1722914795476972800}"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"get_messages_from_store","time":{"start":1722914795690,"stop":1722914795695,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f23db767f20>"},{"name":"peer_addr","value":"None"},{"name":"include_data","value":"None"},{"name":"pubsub_topic","value":"'/waku/2/rs/3/0'"},{"name":"content_topics","value":"None"},{"name":"start_time","value":"None"},{"name":"end_time","value":"None"},{"name":"hashes","value":"None"},{"name":"cursor","value":"None"},{"name":"page_size","value":"5"},{"name":"ascending","value":"'true'"},{"name":"store_v","value":"'v3'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"compute_message_hash","time":{"start":1722914795696,"stop":1722914795696,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"pubsub_topic","value":"'/waku/2/rs/3/0'"},{"name":"msg","value":"{'payload': 'U3RvcmUgd29ya3MhIQ==', 'contentTopic': '/myapp/1/latest/proto', 'timestamp': 1722914795476972800}"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"store_node","value":"None"},{"name":"peer_addr","value":"None"},{"name":"include_data","value":"None"},{"name":"pubsub_topic","value":"None"},{"name":"content_topics","value":"None"},{"name":"start_time","value":"None"},{"name":"end_time","value":"None"},{"name":"hashes","value":"None"},{"name":"cursor","value":"None"},{"name":"page_size","value":"5"},{"name":"ascending","value":"'true'"},{"name":"store_v","value":"'v3'"},{"name":"message_to_check","value":"None"}],"shouldDisplayMessage":false,"stepsCount":4,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"710de7f5b106551c","name":"log","source":"710de7f5b106551c.txt","type":"text/plain","size":15961}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":18,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"test_setup::0","time":{"start":1722914795697,"stop":1722914795701,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes::0","time":{"start":1722914795701,"stop":1722914800061,"duration":4360},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail::0","time":{"start":1722914800062,"stop":1722914800062,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"set_allure_env_variables::0","time":{"start":1722914841881,"stop":1722914841881,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"tests.store"},{"name":"suite","value":"test_running_nodes"},{"name":"subSuite","value":"TestRunningNodes"},{"name":"host","value":"fv-az1773-360"},{"name":"thread","value":"2080-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.store.test_running_nodes"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":23,"skipped":0,"passed":114,"unknown":0,"total":137},"items":[{"uid":"59b4f6fb9c1a49ec","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/231//#testresult/59b4f6fb9c1a49ec","status":"passed","time":{"start":1722860433359,"stop":1722860438642,"duration":5283}},{"uid":"3bb5a17c057c10f5","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/230//#testresult/3bb5a17c057c10f5","status":"broken","statusDetails":"Exception: Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:3269/lightpush/v1/message with response: b'lightpush errorLightpush request has not been published to any peers. msg_hash: 0x35dfa31ce6318abdceca67961f76f5a5a4a91cffc0cb5aa60719f3c5340125c3'","time":{"start":1722828428034,"stop":1722828431229,"duration":3195}},{"uid":"e6e3eeaec17aca4b","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/229//#testresult/e6e3eeaec17aca4b","status":"broken","statusDetails":"Exception: Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:43711/lightpush/v1/message with response: b'lightpush errorLightpush request has not been published to any peers. msg_hash: 0x9c2bace3aa23ca585d39fac1ef6cfaa11e9dc7c319475d11dcf99abbc16b48f0'","time":{"start":1722742059694,"stop":1722742062843,"duration":3149}},{"uid":"3705762c0f905c56","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/228//#testresult/3705762c0f905c56","status":"broken","statusDetails":"Exception: Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:64044/lightpush/v1/message with response: b'lightpush errorLightpush request has not been published to any peers. msg_hash: 0x53e374f6bcff1731f2a2313a7df6a85288f65a3ea1b6c1ddf7086d94da339e62'","time":{"start":1722655603727,"stop":1722655607430,"duration":3703}},{"uid":"6afe4dc28c3cf24d","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/227//#testresult/6afe4dc28c3cf24d","status":"passed","time":{"start":1722569166384,"stop":1722569169714,"duration":3330}},{"uid":"964f22fd7838b6e0","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/226//#testresult/964f22fd7838b6e0","status":"passed","time":{"start":1722482745588,"stop":1722482749044,"duration":3456}},{"uid":"137c17c7ba3471d5","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/225//#testresult/137c17c7ba3471d5","status":"passed","time":{"start":1722396309458,"stop":1722396313104,"duration":3646}},{"uid":"1b0b5bd66d5906ac","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/224//#testresult/1b0b5bd66d5906ac","status":"passed","time":{"start":1722309999729,"stop":1722310003337,"duration":3608}},{"uid":"b58666c67770c0db","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/223//#testresult/b58666c67770c0db","status":"passed","time":{"start":1722252281437,"stop":1722252285204,"duration":3767}},{"uid":"83f3275a38b77ba4","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/221//#testresult/83f3275a38b77ba4","status":"passed","time":{"start":1722137069771,"stop":1722137073140,"duration":3369}},{"uid":"31a195f1f0f5ebf8","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/220//#testresult/31a195f1f0f5ebf8","status":"passed","time":{"start":1722050808440,"stop":1722050811552,"duration":3112}},{"uid":"e603a5c81a7de17f","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/219//#testresult/e603a5c81a7de17f","status":"passed","time":{"start":1721964337619,"stop":1721964350761,"duration":13142}},{"uid":"575322e4c4bc49ee","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/218//#testresult/575322e4c4bc49ee","status":"passed","time":{"start":1721877868646,"stop":1721877871788,"duration":3142}},{"uid":"6f7ab6f205eefc2f","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/217//#testresult/6f7ab6f205eefc2f","status":"passed","time":{"start":1721791540809,"stop":1721791544133,"duration":3324}},{"uid":"b94e78cdb9da1beb","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/216//#testresult/b94e78cdb9da1beb","status":"passed","time":{"start":1721705101666,"stop":1721705105550,"duration":3884}},{"uid":"d90743bb903c28bb","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/215//#testresult/d90743bb903c28bb","status":"passed","time":{"start":1721633707641,"stop":1721633711670,"duration":4029}},{"uid":"9c9fe5086f54ce02","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/214//#testresult/9c9fe5086f54ce02","status":"passed","time":{"start":1721618739504,"stop":1721618742854,"duration":3350}},{"uid":"d1aef5bd9cd9f1e1","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/213//#testresult/d1aef5bd9cd9f1e1","status":"passed","time":{"start":1721532298223,"stop":1721532301703,"duration":3480}},{"uid":"4060035e322f0cfc","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/212//#testresult/4060035e322f0cfc","status":"passed","time":{"start":1721445913494,"stop":1721445926365,"duration":12871}},{"uid":"ab32124b28e54965","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/211//#testresult/ab32124b28e54965","status":"passed","time":{"start":1721359475008,"stop":1721359479032,"duration":4024}}]},"tags":[]},"source":"fa021a2aa2bdf959.json","parameterValues":[]}