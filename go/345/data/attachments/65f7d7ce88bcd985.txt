[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_first_node_to_start_publishes with id: 2024-11-07_11-49-10__7b72a9f9-77e8-45d6-8549-a96172f9f80c
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-07_11-49-10__7b72a9f9-77e8-45d6-8549-a96172f9f80c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.112.169
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['4570', '4571', '4572', '4573', '4574']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 4570:4570 -p 4571:4571 -p 4572:4572 -p 4573:4573 -p 4574:4574 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=4572 --rest-port=4570 --tcp-port=4571 --discv5-udp-port=4573 --rest-address=0.0.0.0 --nat=extip:172.18.112.169 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=efada8ca48af242261fdde6ebe5beb2b6a41bc2d1dcfb3f9c9a6d0d75a8a976a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=4574 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.112.169 waku 2ff2ac1d45ed761acf6d0840ced6650071efbecc3f4bb84164d3e5f870278919
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 2ff2ac1d45ed. Setting up logs at ./log/docker/node1_2024-11-07_11-49-10__7b72a9f9-77e8-45d6-8549-a96172f9f80c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 4570
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 8260727b3bf0. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4570/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4570/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.112.169/tcp/4571/p2p/16Uiu2HAm5ck2rMs8iqNFqy7MaBRMpWjFSRnedG3P2E5S9m3Jx38k","/ip4/172.18.112.169/tcp/4572/ws/p2p/16Uiu2HAm5ck2rMs8iqNFqy7MaBRMpWjFSRnedG3P2E5S9m3Jx38k"],"enrUri":"enr:-L24QGrXJF8XOPlocT4Ah6uZL5JxtD3CSUzoJmDGeYlj1Is7RKWEApDPDwbOhnd1d5pI_pXzfxI8UjYxxkqcZvHC0V0CgmlkgnY0gmlwhKwScKmKbXVsdGlhZGRyc5YACASsEnCpBhHbAAoErBJwqQYR3N0DgnJzhQADAQAAiXNlY3AyNTZrMaECl2rXMYheSx-Sqy_VTfDuVU8G3XSrWzmXsnjim7jFJ_GDdGNwghHbg3VkcIIR3YV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-07_11-49-10__7b72a9f9-77e8-45d6-8549-a96172f9f80c__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.44.96
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['47438', '47439', '47440', '47441', '47442']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 47438:47438 -p 47439:47439 -p 47440:47440 -p 47441:47441 -p 47442:47442 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=47440 --rest-port=47438 --tcp-port=47439 --discv5-udp-port=47441 --rest-address=0.0.0.0 --nat=extip:172.18.44.96 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bdf3c6fa5d61adbbb2c7d02601dbf75ad8dbbb3cee09714bb3f3c7c123be8ef1 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-L24QGrXJF8XOPlocT4Ah6uZL5JxtD3CSUzoJmDGeYlj1Is7RKWEApDPDwbOhnd1d5pI_pXzfxI8UjYxxkqcZvHC0V0CgmlkgnY0gmlwhKwScKmKbXVsdGlhZGRyc5YACASsEnCpBhHbAAoErBJwqQYR3N0DgnJzhQADAQAAiXNlY3AyNTZrMaECl2rXMYheSx-Sqy_VTfDuVU8G3XSrWzmXsnjim7jFJ_GDdGNwghHbg3VkcIIR3YV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.44.96 waku 3cad5138055fad99fe5dd6e48f24da324c127c5ac4e8b1f49ef69e142377bcd9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 3cad5138055f. Setting up logs at ./log/docker/node2_2024-11-07_11-49-10__7b72a9f9-77e8-45d6-8549-a96172f9f80c__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/go-waku:latest. REST: 47438
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47438/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QKYw8mwH_sJLFtYG5tXfmxOikfc4F1kz-NWkJ_bYDbjKF_0tByvWARxEyMMBVhg2CArkh011Hzu-PNjI_anDi9eGAZMGdQMVgmlkgnY0gmlwhKwRAAuJc2VjcDI1NmsxoQNnz1g66AMaeaN9b87QSwy1jiKcCdyb9IBjYHgKttCp2IN0Y3CCuU-DdWRwgrlRhXdha3UyAQ","listenAddresses":["/ip4/127.0.0.1/tcp/47439/p2p/16Uiu2HAmKeDiirjaTo8z1Kp38DTjc92Tw8v6xzFrKitjQXQgzD7M","/ip4/127.0.0.1/tcp/47440/ws/p2p/16Uiu2HAmKeDiirjaTo8z1Kp38DTjc92Tw8v6xzFrKitjQXQgzD7M","/ip4/172.17.0.11/tcp/47439/p2p/16Uiu2HAmKeDiirjaTo8z1Kp38DTjc92Tw8v6xzFrKitjQXQgzD7M","/ip4/172.17.0.11/tcp/47440/ws/p2p/16Uiu2HAmKeDiirjaTo8z1Kp38DTjc92Tw8v6xzFrKitjQXQgzD7M"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47438/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.112.169/tcp/4571/p2p/16Uiu2HAm5ck2rMs8iqNFqy7MaBRMpWjFSRnedG3P2E5S9m3Jx38k", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-07_11-49-10__7b72a9f9-77e8-45d6-8549-a96172f9f80c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.109.194
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['24029', '24030', '24031', '24032', '24033']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 24029:24029 -p 24030:24030 -p 24031:24031 -p 24032:24032 -p 24033:24033 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=24031 --rest-port=24029 --tcp-port=24030 --discv5-udp-port=24032 --rest-address=0.0.0.0 --nat=extip:172.18.109.194 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b38cacf5ae92603aa5bdfcc0aa6bdb12ffaa13b3c0fbb96ebfe193a4f01fbfbe --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=24033 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QGrXJF8XOPlocT4Ah6uZL5JxtD3CSUzoJmDGeYlj1Is7RKWEApDPDwbOhnd1d5pI_pXzfxI8UjYxxkqcZvHC0V0CgmlkgnY0gmlwhKwScKmKbXVsdGlhZGRyc5YACASsEnCpBhHbAAoErBJwqQYR3N0DgnJzhQADAQAAiXNlY3AyNTZrMaECl2rXMYheSx-Sqy_VTfDuVU8G3XSrWzmXsnjim7jFJ_GDdGNwghHbg3VkcIIR3YV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.109.194 waku 64c36d6dd312ddc5cb3da28ba40fc8445560ed0040928f1f5e8f01daa439de5c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 64c36d6dd312. Setting up logs at ./log/docker/node3_2024-11-07_11-49-10__7b72a9f9-77e8-45d6-8549-a96172f9f80c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 24029
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24029/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24029/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.109.194/tcp/24030/p2p/16Uiu2HAm5eaKZUWaWLYmqM7E7png1eCbZJpB7GszMf87wJpu2czp","/ip4/172.18.109.194/tcp/24031/ws/p2p/16Uiu2HAm5eaKZUWaWLYmqM7E7png1eCbZJpB7GszMf87wJpu2czp"],"enrUri":"enr:-L24QF75mrDUSE7owu-BV3nupnjiD_SeF9TfJSnO9JQWIKX7IQOdkNzfFNmtpd3UYiPaMxrTPEJ4qjJOS_DAoQ8FwNgCgmlkgnY0gmlwhKwSbcKKbXVsdGlhZGRyc5YACASsEm3CBl3eAAoErBJtwgZd390DgnJzhQADAQAAiXNlY3AyNTZrMaECl-MFWvdG5CexQKE43lZwMlWLOoEHfjiJlE6cpQEEeA2DdGNwgl3eg3VkcIJd4IV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24029/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.112.169/tcp/4571/p2p/16Uiu2HAm5ck2rMs8iqNFqy7MaBRMpWjFSRnedG3P2E5S9m3Jx38k"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-07_11-49-10__7b72a9f9-77e8-45d6-8549-a96172f9f80c__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.235.198
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['47380', '47381', '47382', '47383', '47384']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 47380:47380 -p 47381:47381 -p 47382:47382 -p 47383:47383 -p 47384:47384 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=47382 --rest-port=47380 --tcp-port=47381 --discv5-udp-port=47383 --rest-address=0.0.0.0 --nat=extip:172.18.235.198 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ebeab78bee9ca655fdf5c5e4e6eff54f36de69209af9f6db1ed188cf43880eae --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-L24QGrXJF8XOPlocT4Ah6uZL5JxtD3CSUzoJmDGeYlj1Is7RKWEApDPDwbOhnd1d5pI_pXzfxI8UjYxxkqcZvHC0V0CgmlkgnY0gmlwhKwScKmKbXVsdGlhZGRyc5YACASsEnCpBhHbAAoErBJwqQYR3N0DgnJzhQADAQAAiXNlY3AyNTZrMaECl2rXMYheSx-Sqy_VTfDuVU8G3XSrWzmXsnjim7jFJ_GDdGNwghHbg3VkcIIR3YV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.235.198 waku 8b2f6b1c5fdeae07e89c4d9f6dba3d646f7173d26080a70aacabdfc6016e4751
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 8b2f6b1c5fde. Setting up logs at ./log/docker/node4_2024-11-07_11-49-10__7b72a9f9-77e8-45d6-8549-a96172f9f80c__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/go-waku:latest. REST: 47380
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47380/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QCI7b80KhDCYcTm_2vJTxwAuKQBS-clHbXs6_amnmqiPAgnPxi6KCdTlqwrh924N1vHxgmB2opziPt2fGBu8zFiGAZMGdQ62gmlkgnY0gmlwhKwRABGJc2VjcDI1NmsxoQMQ-iD_umxAnyNA7nkGvUOizggQBLh-7kpXbNR1vMwrD4N0Y3CCuRWDdWRwgrkXhXdha3UyAQ","listenAddresses":["/ip4/127.0.0.1/tcp/47381/p2p/16Uiu2HAmDoG67raLcrcN1Fixue8iSo5Dr6zGYNS5Vo3y8oJ52b6W","/ip4/127.0.0.1/tcp/47382/ws/p2p/16Uiu2HAmDoG67raLcrcN1Fixue8iSo5Dr6zGYNS5Vo3y8oJ52b6W","/ip4/172.17.0.17/tcp/47381/p2p/16Uiu2HAmDoG67raLcrcN1Fixue8iSo5Dr6zGYNS5Vo3y8oJ52b6W","/ip4/172.17.0.17/tcp/47382/ws/p2p/16Uiu2HAmDoG67raLcrcN1Fixue8iSo5Dr6zGYNS5Vo3y8oJ52b6W"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47380/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.112.169/tcp/4571/p2p/16Uiu2HAm5ck2rMs8iqNFqy7MaBRMpWjFSRnedG3P2E5S9m3Jx38k", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-07_11-49-10__7b72a9f9-77e8-45d6-8549-a96172f9f80c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.228.202
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['27817', '27818', '27819', '27820', '27821']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 27817:27817 -p 27818:27818 -p 27819:27819 -p 27820:27820 -p 27821:27821 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=27819 --rest-port=27817 --tcp-port=27818 --discv5-udp-port=27820 --rest-address=0.0.0.0 --nat=extip:172.18.228.202 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8ec2f2aec8b4f4ea162a4dc291eeadefe6e9302d1ed28fc1d7efccb3e3c9cd1c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=27821 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QGrXJF8XOPlocT4Ah6uZL5JxtD3CSUzoJmDGeYlj1Is7RKWEApDPDwbOhnd1d5pI_pXzfxI8UjYxxkqcZvHC0V0CgmlkgnY0gmlwhKwScKmKbXVsdGlhZGRyc5YACASsEnCpBhHbAAoErBJwqQYR3N0DgnJzhQADAQAAiXNlY3AyNTZrMaECl2rXMYheSx-Sqy_VTfDuVU8G3XSrWzmXsnjim7jFJ_GDdGNwghHbg3VkcIIR3YV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.228.202 waku 1001bdeac0c0155f2c1fb5a129f605e6e16b5854fe18fa838d1641fc0fa38090
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 1001bdeac0c0. Setting up logs at ./log/docker/node5_2024-11-07_11-49-10__7b72a9f9-77e8-45d6-8549-a96172f9f80c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 27817
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27817/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27817/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.228.202/tcp/27818/p2p/16Uiu2HAmAUwaKPDZkNJmvehhvdMvPnqwd6HAaMg15tUBze3gj53U","/ip4/172.18.228.202/tcp/27819/ws/p2p/16Uiu2HAmAUwaKPDZkNJmvehhvdMvPnqwd6HAaMg15tUBze3gj53U"],"enrUri":"enr:-L24QB43CLeNGmFeL4QdKo5mLVt54Zh7w9O_PjdgdGqlJWKpNIP2nfbKGDYhWj3QUA8fkBCTFv9_-52GUH23MhnvEJoCgmlkgnY0gmlwhKwS5MqKbXVsdGlhZGRyc5YACASsEuTKBmyqAAoErBLkygZsq90DgnJzhQADAQAAiXNlY3AyNTZrMaEC37WuD28BeHhJNLW2nMhweZ8ikx6vWUBSqNPWHRHU2h-DdGNwgmyqg3VkcIJsrIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27817/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.112.169/tcp/4571/p2p/16Uiu2HAm5ck2rMs8iqNFqy7MaBRMpWjFSRnedG3P2E5S9m3Jx38k"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4570/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47438/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24029/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47380/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27817/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4570/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4570/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730980157670960384,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47438/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730980157670960384,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24029/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730980157670960384,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47380/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730980157670960384,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27817/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730980157670960384,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4570/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4570/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730980157800411904,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47438/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730980157800411904,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24029/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730980157800411904,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47380/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730980157800411904,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27817/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730980157800411904,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 2ff2ac1d45ed
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 3cad5138055f
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 2ff2ac1d45ed. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 64c36d6dd312
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 3cad5138055f. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 8b2f6b1c5fde
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 64c36d6dd312. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 1001bdeac0c0
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 8b2f6b1c5fde. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.