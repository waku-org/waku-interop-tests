[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_pubsub_topic with id: 2024-11-07_11-49-31__79314dd1-9ec8-4f91-970e-9eb514dfdd6c
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-07_11-49-31__79314dd1-9ec8-4f91-970e-9eb514dfdd6c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.45.16
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['25627', '25628', '25629', '25630', '25631']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 25627:25627 -p 25628:25628 -p 25629:25629 -p 25630:25630 -p 25631:25631 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=25629 --rest-port=25627 --tcp-port=25628 --discv5-udp-port=25630 --rest-address=0.0.0.0 --nat=extip:172.18.45.16 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b5c839c1cff2face1d209a87177e29f1426eade5eb1584caab8e6f3c72dd4d84 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=25631 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.45.16 waku 490a5143ca53b160ca052b84c0861e72b07f52d4153cf98c8fe24a598234074d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 490a5143ca53. Setting up logs at ./log/docker/node1_2024-11-07_11-49-31__79314dd1-9ec8-4f91-970e-9eb514dfdd6c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 25627
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 4c4aa3573b9e. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25627/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25627/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.45.16/tcp/25628/p2p/16Uiu2HAm3tqfKqpPE9TqUZQwJ2oHLMNA8eMMSomjtjznBnPBxmab","/ip4/172.18.45.16/tcp/25629/ws/p2p/16Uiu2HAm3tqfKqpPE9TqUZQwJ2oHLMNA8eMMSomjtjznBnPBxmab"],"enrUri":"enr:-L24QFBqz-jZU-Pva7Z0vqNNYlGjpkqk7vdhAhg-CJ4UFr7SByI8JZ-Mu2JtI-2f3EUet8w1-BH6sjvoreyT-amoR1ECgmlkgnY0gmlwhKwSLRCKbXVsdGlhZGRyc5YACASsEi0QBmQcAAoErBItEAZkHd0DgnJzhQADAQAAiXNlY3AyNTZrMaECfdMfz7hSXKX94Lj-mwTze4M7kBjEratliImd6twoQASDdGNwgmQcg3VkcIJkHoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-07_11-49-31__79314dd1-9ec8-4f91-970e-9eb514dfdd6c__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.165.118
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['30997', '30998', '30999', '31000', '31001']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 30997:30997 -p 30998:30998 -p 30999:30999 -p 31000:31000 -p 31001:31001 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=30999 --rest-port=30997 --tcp-port=30998 --discv5-udp-port=31000 --rest-address=0.0.0.0 --nat=extip:172.18.165.118 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a685e50fdcc5afde7cde6eadae9cae544fb1ee42cb38afcb2e635c7bbb6ba3a5 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-L24QFBqz-jZU-Pva7Z0vqNNYlGjpkqk7vdhAhg-CJ4UFr7SByI8JZ-Mu2JtI-2f3EUet8w1-BH6sjvoreyT-amoR1ECgmlkgnY0gmlwhKwSLRCKbXVsdGlhZGRyc5YACASsEi0QBmQcAAoErBItEAZkHd0DgnJzhQADAQAAiXNlY3AyNTZrMaECfdMfz7hSXKX94Lj-mwTze4M7kBjEratliImd6twoQASDdGNwgmQcg3VkcIJkHoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.165.118 waku a2cd43b17f47fbfdf34bb94b850abb312dacb8cfd673af7afebe8c5153dcb324
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID a2cd43b17f47. Setting up logs at ./log/docker/node2_2024-11-07_11-49-31__79314dd1-9ec8-4f91-970e-9eb514dfdd6c__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/go-waku:latest. REST: 30997
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30997/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QLm0ZXGYsvpazYKrkeNiUp675H8y3Z5-qo6fXivacwvEYGNdr4aArQ3OdcIFhRnrtmQWj-_imWZUoHu8KSQhFnaGAZMGdVV0gmlkgnY0gmlwhKwRAAyJc2VjcDI1NmsxoQK9K4_1EaNxf1QwQFjVShhNAdGMmG8O2iDyMO6h_JcYxYN0Y3CCeRaDdWRwgnkYhXdha3UyAQ","listenAddresses":["/ip4/127.0.0.1/tcp/30998/p2p/16Uiu2HAm8A7ZXZhcQC5iER8eynjYJHT95PJ2oBrWSjEWRFHNMFXJ","/ip4/127.0.0.1/tcp/30999/ws/p2p/16Uiu2HAm8A7ZXZhcQC5iER8eynjYJHT95PJ2oBrWSjEWRFHNMFXJ","/ip4/172.17.0.12/tcp/30998/p2p/16Uiu2HAm8A7ZXZhcQC5iER8eynjYJHT95PJ2oBrWSjEWRFHNMFXJ","/ip4/172.17.0.12/tcp/30999/ws/p2p/16Uiu2HAm8A7ZXZhcQC5iER8eynjYJHT95PJ2oBrWSjEWRFHNMFXJ"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30997/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.45.16/tcp/25628/p2p/16Uiu2HAm3tqfKqpPE9TqUZQwJ2oHLMNA8eMMSomjtjznBnPBxmab", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-07_11-49-31__79314dd1-9ec8-4f91-970e-9eb514dfdd6c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.160.200
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['20670', '20671', '20672', '20673', '20674']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 20670:20670 -p 20671:20671 -p 20672:20672 -p 20673:20673 -p 20674:20674 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=20672 --rest-port=20670 --tcp-port=20671 --discv5-udp-port=20673 --rest-address=0.0.0.0 --nat=extip:172.18.160.200 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9beef03fa198aeabb8e987b3ebd447b57df9d9febc5cee80e8dcfee0ab64dfb2 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=20674 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QFBqz-jZU-Pva7Z0vqNNYlGjpkqk7vdhAhg-CJ4UFr7SByI8JZ-Mu2JtI-2f3EUet8w1-BH6sjvoreyT-amoR1ECgmlkgnY0gmlwhKwSLRCKbXVsdGlhZGRyc5YACASsEi0QBmQcAAoErBItEAZkHd0DgnJzhQADAQAAiXNlY3AyNTZrMaECfdMfz7hSXKX94Lj-mwTze4M7kBjEratliImd6twoQASDdGNwgmQcg3VkcIJkHoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.160.200 waku b877115cd1a277a94dec068a28b395adb36bfd78c2be05effe0ee55ee85a60f0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID b877115cd1a2. Setting up logs at ./log/docker/node3_2024-11-07_11-49-31__79314dd1-9ec8-4f91-970e-9eb514dfdd6c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 20670
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20670/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20670/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.160.200/tcp/20671/p2p/16Uiu2HAmDi4nCYtZc4KTMBBjTwnxuWjNv6jVrXrjfUm6wpkY6mHS","/ip4/172.18.160.200/tcp/20672/ws/p2p/16Uiu2HAmDi4nCYtZc4KTMBBjTwnxuWjNv6jVrXrjfUm6wpkY6mHS"],"enrUri":"enr:-L24QFf-qUJtWIcNkqg75DgtNlpV2KBtoKJlj_jeHM4gzhOuO0-DC-zwDdtR1oL8-EVX5LU8WSvJZR5rTULByQAvv8QCgmlkgnY0gmlwhKwSoMiKbXVsdGlhZGRyc5YACASsEqDIBlC_AAoErBKgyAZQwN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDD6VwEtHIz5RND0dwsp-1sN1Mr6aud8FVWMEaiIIDtUGDdGNwglC_g3VkcIJQwYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20670/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.45.16/tcp/25628/p2p/16Uiu2HAm3tqfKqpPE9TqUZQwJ2oHLMNA8eMMSomjtjznBnPBxmab"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-07_11-49-31__79314dd1-9ec8-4f91-970e-9eb514dfdd6c__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.146.159
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['21463', '21464', '21465', '21466', '21467']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 21463:21463 -p 21464:21464 -p 21465:21465 -p 21466:21466 -p 21467:21467 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=21465 --rest-port=21463 --tcp-port=21464 --discv5-udp-port=21466 --rest-address=0.0.0.0 --nat=extip:172.18.146.159 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=edb5db16bda3edfcbebb732924d040a558d6cca50fb9e0d98b1ec0b15d90bbd3 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-L24QFBqz-jZU-Pva7Z0vqNNYlGjpkqk7vdhAhg-CJ4UFr7SByI8JZ-Mu2JtI-2f3EUet8w1-BH6sjvoreyT-amoR1ECgmlkgnY0gmlwhKwSLRCKbXVsdGlhZGRyc5YACASsEi0QBmQcAAoErBItEAZkHd0DgnJzhQADAQAAiXNlY3AyNTZrMaECfdMfz7hSXKX94Lj-mwTze4M7kBjEratliImd6twoQASDdGNwgmQcg3VkcIJkHoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.146.159 waku 042fb50dda1209ac3160bb7cdb9c3ef387af806216102033e799ec689a9679bd
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 042fb50dda12. Setting up logs at ./log/docker/node4_2024-11-07_11-49-31__79314dd1-9ec8-4f91-970e-9eb514dfdd6c__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/go-waku:latest. REST: 21463
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21463/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QLMXnT3ZSPfLPA34iIEX8BWt4mh8q5LLmurmfleKb7W-EE31_ycfBZp7e0aOWLflxB8V7Aca972LL1fhhJHlcSeGAZMGdWEfgmlkgnY0gmlwhKwRAA-Jc2VjcDI1NmsxoQL7XBHtu6CbbpNZz3OcaqoSQFzloMdgxenCTI6nZQWo-IN0Y3CCU9iDdWRwglPahXdha3UyAQ","listenAddresses":["/ip4/127.0.0.1/tcp/21464/p2p/16Uiu2HAmCLsjqQWk2L97aEPA1X3uuEM12J3XCaWgdqeJX9N1ARvF","/ip4/127.0.0.1/tcp/21465/ws/p2p/16Uiu2HAmCLsjqQWk2L97aEPA1X3uuEM12J3XCaWgdqeJX9N1ARvF","/ip4/172.17.0.15/tcp/21464/p2p/16Uiu2HAmCLsjqQWk2L97aEPA1X3uuEM12J3XCaWgdqeJX9N1ARvF","/ip4/172.17.0.15/tcp/21465/ws/p2p/16Uiu2HAmCLsjqQWk2L97aEPA1X3uuEM12J3XCaWgdqeJX9N1ARvF"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21463/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.45.16/tcp/25628/p2p/16Uiu2HAm3tqfKqpPE9TqUZQwJ2oHLMNA8eMMSomjtjznBnPBxmab", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-07_11-49-31__79314dd1-9ec8-4f91-970e-9eb514dfdd6c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.241.162
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['55917', '55918', '55919', '55920', '55921']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 55917:55917 -p 55918:55918 -p 55919:55919 -p 55920:55920 -p 55921:55921 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=55919 --rest-port=55917 --tcp-port=55918 --discv5-udp-port=55920 --rest-address=0.0.0.0 --nat=extip:172.18.241.162 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=87e2d535f7dbdf8ddacb3cf1c5ed63c3404a9fde3c1e2a4f59f3ffaefeabca9e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=55921 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QFBqz-jZU-Pva7Z0vqNNYlGjpkqk7vdhAhg-CJ4UFr7SByI8JZ-Mu2JtI-2f3EUet8w1-BH6sjvoreyT-amoR1ECgmlkgnY0gmlwhKwSLRCKbXVsdGlhZGRyc5YACASsEi0QBmQcAAoErBItEAZkHd0DgnJzhQADAQAAiXNlY3AyNTZrMaECfdMfz7hSXKX94Lj-mwTze4M7kBjEratliImd6twoQASDdGNwgmQcg3VkcIJkHoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.241.162 waku 5f37103c01bdb5195f5929468aefb91a084b6a93245cbb270a8b894963dc798c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 5f37103c01bd. Setting up logs at ./log/docker/node5_2024-11-07_11-49-31__79314dd1-9ec8-4f91-970e-9eb514dfdd6c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 55917
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55917/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55917/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.241.162/tcp/55918/p2p/16Uiu2HAm1bTUqvPeEm89LBweSwsWRybQASjtQL7FVoGJKkKrs7BS","/ip4/172.18.241.162/tcp/55919/ws/p2p/16Uiu2HAm1bTUqvPeEm89LBweSwsWRybQASjtQL7FVoGJKkKrs7BS"],"enrUri":"enr:-L24QDcQGN3QaK-YQdWMDG7MDm5zREsIhxmDm9yhcAywkWqyFEqeS1gfNlonci4NVzg2Y1npovVlv1yjMtz3T2aSTRcCgmlkgnY0gmlwhKwS8aKKbXVsdGlhZGRyc5YACASsEvGiBtpuAAoErBLxogbab90DgnJzhQADAQAAiXNlY3AyNTZrMaECW6fL_ewu540GfoId-tWVa9q-TyPDtKoRW4PBYKn0CxWDdGNwgtpug3VkcILacIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55917/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.45.16/tcp/25628/p2p/16Uiu2HAm3tqfKqpPE9TqUZQwJ2oHLMNA8eMMSomjtjznBnPBxmab"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:25627/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30997/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:25627/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25627/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730980179156820224,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30997/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:25627/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25627/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730980180274452736,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30997/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730980180274452736,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:25627/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20670/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:20670/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1. Response content: b''
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 490a5143ca53
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id a2cd43b17f47
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 490a5143ca53. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id b877115cd1a2
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container a2cd43b17f47. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 042fb50dda12
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container b877115cd1a2. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 5f37103c01bd
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 042fb50dda12. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.