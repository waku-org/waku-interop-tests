[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-11-27_13-38-13__e9ca0fe0-b068-401e-a852-84991340158b
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-27_13-38-13__e9ca0fe0-b068-401e-a852-84991340158b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.223.132
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['11742', '11743', '11744', '11745', '11746']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 11742:11742 -p 11743:11743 -p 11744:11744 -p 11745:11745 -p 11746:11746 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=11744 --rest-port=11742 --tcp-port=11743 --discv5-udp-port=11745 --rest-address=0.0.0.0 --nat=extip:172.18.223.132 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ae4fb63e5926d31af0343da69ae6a8fabb2ea87cebfbe3dafc0c5bd3f7006c6b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=11746 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.223.132 waku c7b0b02321b0bcf62eaed51031ac5971a4d086dbfb1337be0becefbe04e2658a
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 0ba25522b7c8. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID c7b0b02321b0. Setting up logs at ./log/docker/node1_2024-11-27_13-38-13__e9ca0fe0-b068-401e-a852-84991340158b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 11742
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11742/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11742/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.223.132/tcp/11743/p2p/16Uiu2HAmVFaGZwjnydUH5AUbN9GrHLLdP1VJNCKJaV6v663f4KtL","/ip4/172.18.223.132/tcp/11744/ws/p2p/16Uiu2HAmVFaGZwjnydUH5AUbN9GrHLLdP1VJNCKJaV6v663f4KtL"],"enrUri":"enr:-L24QMqu-WVu_wWhl_MEy1BnoTzDVVXmgfbveTv4JGLTN1o6XtmtJy2m0xYZOZsGHoiqXICX1UT0P4LUyY2QG474MN4CgmlkgnY0gmlwhKwS34SKbXVsdGlhZGRyc5YACASsEt-EBi3fAAoErBLfhAYt4N0DgnJzhQADAQAAiXNlY3AyNTZrMaED9pcXGGeFL2eNHR8_toTnnq39LOnckjx0agCnZoMDdQGDdGNwgi3fg3VkcIIt4YV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-27_13-38-13__e9ca0fe0-b068-401e-a852-84991340158b__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.16.124
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['32739', '32740', '32741', '32742', '32743']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 32739:32739 -p 32740:32740 -p 32741:32741 -p 32742:32742 -p 32743:32743 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=32741 --rest-port=32739 --tcp-port=32740 --discv5-udp-port=32742 --rest-address=0.0.0.0 --nat=extip:172.18.16.124 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=39dde6f859fc16f4b65fe4a4dc3ca57cd90cfad6fe75c6aae555d2aad566cbeb --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QMqu-WVu_wWhl_MEy1BnoTzDVVXmgfbveTv4JGLTN1o6XtmtJy2m0xYZOZsGHoiqXICX1UT0P4LUyY2QG474MN4CgmlkgnY0gmlwhKwS34SKbXVsdGlhZGRyc5YACASsEt-EBi3fAAoErBLfhAYt4N0DgnJzhQADAQAAiXNlY3AyNTZrMaED9pcXGGeFL2eNHR8_toTnnq39LOnckjx0agCnZoMDdQGDdGNwgi3fg3VkcIIt4YV3YWt1MgU --filternode=/ip4/172.18.223.132/tcp/11743/p2p/16Uiu2HAmVFaGZwjnydUH5AUbN9GrHLLdP1VJNCKJaV6v663f4KtL --pubsub-topic=/waku/2/rs/3/1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.16.124 waku 2e754bca011a8bff24ee0b4fe5a42e4d986848e3d73025c0f8ab7ea08349207c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 2e754bca011a. Setting up logs at ./log/docker/node2_2024-11-27_13-38-13__e9ca0fe0-b068-401e-a852-84991340158b__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 32739
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32739/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QHSLIyFs7KDELt6jfgnwVr79Zn3LYnkApyh8DtHdi6UsM-6KDreDMn5FvEABE1Vq2EQAazQIlfDYeCOPr9042gOGAZNt2A7JgmlkgnY0gmlwhKwRAA-CcnOFAAMBAAGJc2VjcDI1NmsxoQKTIITN88ovjoM5CHrVSSBWkd-OHE-ZhJ1r-NywdXb2M4N0Y3CCf-SDdWRwgn_mhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/32740/p2p/16Uiu2HAm5KzftdAdUBninwwd54S4WgABmyJ4w7FCxJ4ZKgnKKfgv","/ip4/127.0.0.1/tcp/32741/ws/p2p/16Uiu2HAm5KzftdAdUBninwwd54S4WgABmyJ4w7FCxJ4ZKgnKKfgv","/ip4/172.17.0.15/tcp/32740/p2p/16Uiu2HAm5KzftdAdUBninwwd54S4WgABmyJ4w7FCxJ4ZKgnKKfgv","/ip4/172.17.0.15/tcp/32741/ws/p2p/16Uiu2HAm5KzftdAdUBninwwd54S4WgABmyJ4w7FCxJ4ZKgnKKfgv"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32739/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.223.132/tcp/11743/p2p/16Uiu2HAmVFaGZwjnydUH5AUbN9GrHLLdP1VJNCKJaV6v663f4KtL", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-27_13-38-13__e9ca0fe0-b068-401e-a852-84991340158b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.242.95
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['51821', '51822', '51823', '51824', '51825']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 51821:51821 -p 51822:51822 -p 51823:51823 -p 51824:51824 -p 51825:51825 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=51823 --rest-port=51821 --tcp-port=51822 --discv5-udp-port=51824 --rest-address=0.0.0.0 --nat=extip:172.18.242.95 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=64ba9ff3c53dcfd9ed2d5e3a1ac951df2d9cea664cfa1aa43e2fbc7aec5eadf2 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=51825 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QMqu-WVu_wWhl_MEy1BnoTzDVVXmgfbveTv4JGLTN1o6XtmtJy2m0xYZOZsGHoiqXICX1UT0P4LUyY2QG474MN4CgmlkgnY0gmlwhKwS34SKbXVsdGlhZGRyc5YACASsEt-EBi3fAAoErBLfhAYt4N0DgnJzhQADAQAAiXNlY3AyNTZrMaED9pcXGGeFL2eNHR8_toTnnq39LOnckjx0agCnZoMDdQGDdGNwgi3fg3VkcIIt4YV3YWt1MgU --filternode=/ip4/172.18.223.132/tcp/11743/p2p/16Uiu2HAmVFaGZwjnydUH5AUbN9GrHLLdP1VJNCKJaV6v663f4KtL
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.242.95 waku 13fadc0da1c285c55174c854c9ccea524eec784040bcedd0046c240baa9da726
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 13fadc0da1c2. Setting up logs at ./log/docker/node3_2024-11-27_13-38-13__e9ca0fe0-b068-401e-a852-84991340158b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 51821
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51821/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51821/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.242.95/tcp/51822/p2p/16Uiu2HAm6CpFA9AbiiVdCDYqyEcaRkH4U7RYopSFmoT77JqM58zv","/ip4/172.18.242.95/tcp/51823/ws/p2p/16Uiu2HAm6CpFA9AbiiVdCDYqyEcaRkH4U7RYopSFmoT77JqM58zv"],"enrUri":"enr:-L24QEnnjpSoZQDEfI6T6O-Lq72TyiMXWNyg0278Aciv3zCxDxO_REWMrk29Fgcs92_Gs0SHiHziv1U95zD7mH8_OOUCgmlkgnY0gmlwhKwS8l-KbXVsdGlhZGRyc5YACASsEvJfBspuAAoErBLyXwbKb90DgnJzhQADAQAAiXNlY3AyNTZrMaECoCVZ0IDAnlndGvJtS6I0iMrjtjt61oQ1yXf5XQu-MDuDdGNwgspug3VkcILKcIV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51821/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.223.132/tcp/11743/p2p/16Uiu2HAmVFaGZwjnydUH5AUbN9GrHLLdP1VJNCKJaV6v663f4KtL"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-27_13-38-13__e9ca0fe0-b068-401e-a852-84991340158b__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.175.84
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['11172', '11173', '11174', '11175', '11176']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 11172:11172 -p 11173:11173 -p 11174:11174 -p 11175:11175 -p 11176:11176 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=11174 --rest-port=11172 --tcp-port=11173 --discv5-udp-port=11175 --rest-address=0.0.0.0 --nat=extip:172.18.175.84 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8a70557105d1de046ae878a8aaeb0ebfc08e7dd8f3ddddec7fd97caad80fce2d --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QMqu-WVu_wWhl_MEy1BnoTzDVVXmgfbveTv4JGLTN1o6XtmtJy2m0xYZOZsGHoiqXICX1UT0P4LUyY2QG474MN4CgmlkgnY0gmlwhKwS34SKbXVsdGlhZGRyc5YACASsEt-EBi3fAAoErBLfhAYt4N0DgnJzhQADAQAAiXNlY3AyNTZrMaED9pcXGGeFL2eNHR8_toTnnq39LOnckjx0agCnZoMDdQGDdGNwgi3fg3VkcIIt4YV3YWt1MgU --filternode=/ip4/172.18.223.132/tcp/11743/p2p/16Uiu2HAmVFaGZwjnydUH5AUbN9GrHLLdP1VJNCKJaV6v663f4KtL --pubsub-topic=/waku/2/rs/3/1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.175.84 waku 20c95355ca1daf138068b8d16034c05a51671eb002049151258400174acbf5c2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 20c95355ca1d. Setting up logs at ./log/docker/node4_2024-11-27_13-38-13__e9ca0fe0-b068-401e-a852-84991340158b__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 11172
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11172/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QKyL6R9WccMLIkhnBwl5deJt9bW0FiPHXfxrqx9RH9HjWCB_ForRTiSH-pQPy_Vad5E27P7WOytSSxVL54C1PWKGAZNt2BzMgmlkgnY0gmlwhKwRAB-CcnOFAAMBAAGJc2VjcDI1NmsxoQJW6QlW0ONE4J6LTd6wa0GQGOYv8t8ZEPLPlP7eU-7OVoN0Y3CCK6WDdWRwgiunhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/11173/p2p/16Uiu2HAm1Gw97QtdsyC4ctqaoMukP87uFvR33XRsh41FjFJHaB3s","/ip4/127.0.0.1/tcp/11174/ws/p2p/16Uiu2HAm1Gw97QtdsyC4ctqaoMukP87uFvR33XRsh41FjFJHaB3s","/ip4/172.17.0.31/tcp/11173/p2p/16Uiu2HAm1Gw97QtdsyC4ctqaoMukP87uFvR33XRsh41FjFJHaB3s","/ip4/172.17.0.31/tcp/11174/ws/p2p/16Uiu2HAm1Gw97QtdsyC4ctqaoMukP87uFvR33XRsh41FjFJHaB3s"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11172/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.223.132/tcp/11743/p2p/16Uiu2HAmVFaGZwjnydUH5AUbN9GrHLLdP1VJNCKJaV6v663f4KtL", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-27_13-38-13__e9ca0fe0-b068-401e-a852-84991340158b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.47.165
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['45120', '45121', '45122', '45123', '45124']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 45120:45120 -p 45121:45121 -p 45122:45122 -p 45123:45123 -p 45124:45124 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=45122 --rest-port=45120 --tcp-port=45121 --discv5-udp-port=45123 --rest-address=0.0.0.0 --nat=extip:172.18.47.165 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7b3d7b9ad4d68facb0c8fd0edc911323bdc91fb2ba9b7a421aefe21cee7c92b1 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=45124 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QMqu-WVu_wWhl_MEy1BnoTzDVVXmgfbveTv4JGLTN1o6XtmtJy2m0xYZOZsGHoiqXICX1UT0P4LUyY2QG474MN4CgmlkgnY0gmlwhKwS34SKbXVsdGlhZGRyc5YACASsEt-EBi3fAAoErBLfhAYt4N0DgnJzhQADAQAAiXNlY3AyNTZrMaED9pcXGGeFL2eNHR8_toTnnq39LOnckjx0agCnZoMDdQGDdGNwgi3fg3VkcIIt4YV3YWt1MgU --filternode=/ip4/172.18.223.132/tcp/11743/p2p/16Uiu2HAmVFaGZwjnydUH5AUbN9GrHLLdP1VJNCKJaV6v663f4KtL
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.47.165 waku 370aa4f04f4dd93fd3a98140382f3810ee778d5f6c5b62f173e81892944eaed5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 370aa4f04f4d. Setting up logs at ./log/docker/node5_2024-11-27_13-38-13__e9ca0fe0-b068-401e-a852-84991340158b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 45120
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45120/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45120/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.47.165/tcp/45121/p2p/16Uiu2HAkvYsXtDtzcaPyxgMaKdMeJyNG1fG6DqJXpMbcUfvBdybL","/ip4/172.18.47.165/tcp/45122/ws/p2p/16Uiu2HAkvYsXtDtzcaPyxgMaKdMeJyNG1fG6DqJXpMbcUfvBdybL"],"enrUri":"enr:-L24QG7aR82eJQY0qGgBINsHsyNiCCXCnp9SWZWqRnBM03HMJeOnvURs2YwdejFcO4WWg8AkjhBiX0rQGXOJ0IoiziMCgmlkgnY0gmlwhKwSL6WKbXVsdGlhZGRyc5YACASsEi-lBrBBAAoErBIvpQawQt0DgnJzhQADAQAAiXNlY3AyNTZrMaECELPQ4Lwt2ev27PkwPDhC4bpS5LaPS2k-gt-XNLhcegeDdGNwgrBBg3VkcIKwQ4V3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45120/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.223.132/tcp/11743/p2p/16Uiu2HAmVFaGZwjnydUH5AUbN9GrHLLdP1VJNCKJaV6v663f4KtL"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11742/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32739/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "d2f029d2-a136-42f8-b472-4bf66947e76e", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"d2f029d2-a136-42f8-b472-4bf66947e76e","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51821/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "01bb4b09-2830-4031-87ce-86058f867440", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"01bb4b09-2830-4031-87ce-86058f867440","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11172/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "93147a0b-4441-4cb5-93de-08b36a7ddb3c", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"93147a0b-4441-4cb5-93de-08b36a7ddb3c","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45120/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "deed676a-8b49-4d35-9d6d-370f610cde5b", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"deed676a-8b49-4d35-9d6d-370f610cde5b","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11742/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32739/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1732714702928423168,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11742/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51821/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:51821/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id c7b0b02321b0
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 2e754bca011a
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container c7b0b02321b0. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 13fadc0da1c2
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 2e754bca011a. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 20c95355ca1d
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 13fadc0da1c2. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 370aa4f04f4d
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 20c95355ca1d. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.