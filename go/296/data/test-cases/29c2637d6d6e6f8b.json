{"uid":"29c2637d6d6e6f8b","name":"test_add_peers","fullName":"tests.peer_connection_management.test_peer_store.TestPeerStore#test_add_peers","historyId":"ad419e146575e3fa70fba15bd11f43a5","time":{"start":1727753519824,"stop":1727753538914,"duration":19090},"status":"failed","statusMessage":"AssertionError: Exactly 5 multi addresses are expected\nassert 6 == 5\n +  where 6 = len({'/ip4/172.17.0.13/tcp/59640/p2p/16Uiu2HAmR18tLiQa7nyFkVPumW4ZSu7UDUrAm5VP2rHY8sxJETLV', '/ip4/172.17.0.5/tcp/32412/p2p/16Uiu2HAmK2bLaHQrY93d36BxsaEiDLAQ55nuwYevrQwuCuVweqtJ', '/ip4/172.18.173.215/tcp/11512/p2p/16Uiu2HAmUtX7vTnJ7jpvXHo81yaiWskXzHiS7tK2enVrzBhyhKtw', '/ip4/172.18.173.215/tcp/11513/ws/p2p/16Uiu2HAmUtX7vTnJ7jpvXHo81yaiWskXzHiS7tK2enVrzBhyhKtw', '/ip4/172.18.180.243/tcp/60738/p2p/16Uiu2HAmAXut2z9uN93LyYTq27AWwjofF3Vz764mwRjDeiRTYLfM', '/ip4/172.18.88.95/tcp/46964/p2p/16Uiu2HAm89cTB82PfEFFr251ADDR8x75j9TW4UoFJS9pk1q3Xtch'})","statusTrace":"tests/peer_connection_management/test_peer_store.py:50: in test_add_peers\n    assert len(peers_multiaddr) == 5, f\"Exactly 5 multi addresses are expected\"\nE   AssertionError: Exactly 5 multi addresses are expected\nE   assert 6 == 5\nE    +  where 6 = len({'/ip4/172.17.0.13/tcp/59640/p2p/16Uiu2HAmR18tLiQa7nyFkVPumW4ZSu7UDUrAm5VP2rHY8sxJETLV', '/ip4/172.17.0.5/tcp/32412/p2p/16Uiu2HAmK2bLaHQrY93d36BxsaEiDLAQ55nuwYevrQwuCuVweqtJ', '/ip4/172.18.173.215/tcp/11512/p2p/16Uiu2HAmUtX7vTnJ7jpvXHo81yaiWskXzHiS7tK2enVrzBhyhKtw', '/ip4/172.18.173.215/tcp/11513/ws/p2p/16Uiu2HAmUtX7vTnJ7jpvXHo81yaiWskXzHiS7tK2enVrzBhyhKtw', '/ip4/172.18.180.243/tcp/60738/p2p/16Uiu2HAmAXut2z9uN93LyYTq27AWwjofF3Vz764mwRjDeiRTYLfM', '/ip4/172.18.88.95/tcp/46964/p2p/16Uiu2HAm89cTB82PfEFFr251ADDR8x75j9TW4UoFJS9pk1q3Xtch'})","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"set_allure_env_variables","time":{"start":1727753103023,"stop":1727753103023,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_id","time":{"start":1727753519821,"stop":1727753519822,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"check_waku_log_errors","time":{"start":1727753519821,"stop":1727753519821,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes","time":{"start":1727753519821,"stop":1727753519821,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail","time":{"start":1727753519821,"stop":1727753519821,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_setup","time":{"start":1727753519822,"stop":1727753519822,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"common_setup","time":{"start":1727753519822,"stop":1727753519823,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"store_setup","time":{"start":1727753519823,"stop":1727753519823,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"relay_setup","time":{"start":1727753519823,"stop":1727753519823,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: Exactly 5 multi addresses are expected\nassert 6 == 5\n +  where 6 = len({'/ip4/172.17.0.13/tcp/59640/p2p/16Uiu2HAmR18tLiQa7nyFkVPumW4ZSu7UDUrAm5VP2rHY8sxJETLV', '/ip4/172.17.0.5/tcp/32412/p2p/16Uiu2HAmK2bLaHQrY93d36BxsaEiDLAQ55nuwYevrQwuCuVweqtJ', '/ip4/172.18.173.215/tcp/11512/p2p/16Uiu2HAmUtX7vTnJ7jpvXHo81yaiWskXzHiS7tK2enVrzBhyhKtw', '/ip4/172.18.173.215/tcp/11513/ws/p2p/16Uiu2HAmUtX7vTnJ7jpvXHo81yaiWskXzHiS7tK2enVrzBhyhKtw', '/ip4/172.18.180.243/tcp/60738/p2p/16Uiu2HAmAXut2z9uN93LyYTq27AWwjofF3Vz764mwRjDeiRTYLfM', '/ip4/172.18.88.95/tcp/46964/p2p/16Uiu2HAm89cTB82PfEFFr251ADDR8x75j9TW4UoFJS9pk1q3Xtch'})","statusTrace":"tests/peer_connection_management/test_peer_store.py:50: in test_add_peers\n    assert len(peers_multiaddr) == 5, f\"Exactly 5 multi addresses are expected\"\nE   AssertionError: Exactly 5 multi addresses are expected\nE   assert 6 == 5\nE    +  where 6 = len({'/ip4/172.17.0.13/tcp/59640/p2p/16Uiu2HAmR18tLiQa7nyFkVPumW4ZSu7UDUrAm5VP2rHY8sxJETLV', '/ip4/172.17.0.5/tcp/32412/p2p/16Uiu2HAmK2bLaHQrY93d36BxsaEiDLAQ55nuwYevrQwuCuVweqtJ', '/ip4/172.18.173.215/tcp/11512/p2p/16Uiu2HAmUtX7vTnJ7jpvXHo81yaiWskXzHiS7tK2enVrzBhyhKtw', '/ip4/172.18.173.215/tcp/11513/ws/p2p/16Uiu2HAmUtX7vTnJ7jpvXHo81yaiWskXzHiS7tK2enVrzBhyhKtw', '/ip4/172.18.180.243/tcp/60738/p2p/16Uiu2HAmAXut2z9uN93LyYTq27AWwjofF3Vz764mwRjDeiRTYLfM', '/ip4/172.18.88.95/tcp/46964/p2p/16Uiu2HAm89cTB82PfEFFr251ADDR8x75j9TW4UoFJS9pk1q3Xtch'})","steps":[{"name":"setup_main_nodes","time":{"start":1727753519824,"stop":1727753523409,"duration":3585},"status":"passed","steps":[{"name":"add_node_peer","time":{"start":1727753523373,"stop":1727753523409,"duration":36},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<test_peer_store.TestPeerStore object at 0x7fce33fc4320>, <src.node.waku_node.WakuNode object at 0x7fce33616d50>, ['/ip4/172.18.180.243/tcp/60738/p2p/16Uiu2HAmAXut2z9uN93LyYTq27AWwjofF3Vz764mwRjDeiRTYLfM'])"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"setup_optional_nodes","time":{"start":1727753523409,"stop":1727753528777,"duration":5368},"status":"passed","steps":[{"name":"add_node_peer","time":{"start":1727753525397,"stop":1727753525456,"duration":59},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<test_peer_store.TestPeerStore object at 0x7fce33fc4320>, <src.node.waku_node.WakuNode object at 0x7fce3259ff50>, ['/ip4/172.18.180.243/tcp/60738/p2p/16Uiu2HAmAXut2z9uN93LyYTq27AWwjofF3Vz764mwRjDeiRTYLfM'])"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"add_node_peer","time":{"start":1727753527066,"stop":1727753527084,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<test_peer_store.TestPeerStore object at 0x7fce33fc4320>, <src.node.waku_node.WakuNode object at 0x7fce325e18b0>, ['/ip4/172.18.180.243/tcp/60738/p2p/16Uiu2HAmAXut2z9uN93LyYTq27AWwjofF3Vz764mwRjDeiRTYLfM'])"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"add_node_peer","time":{"start":1727753528727,"stop":1727753528777,"duration":50},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<test_peer_store.TestPeerStore object at 0x7fce33fc4320>, <src.node.waku_node.WakuNode object at 0x7fce33661a90>, ['/ip4/172.18.180.243/tcp/60738/p2p/16Uiu2HAmAXut2z9uN93LyYTq27AWwjofF3Vz764mwRjDeiRTYLfM'])"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"ensure_relay_subscriptions_on_nodes","time":{"start":1727753528777,"stop":1727753528891,"duration":114},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node_list","value":"[<src.node.waku_node.WakuNode object at 0x7fce33617cb0>, <src.node.waku_node.WakuNode object at 0x7fce33616d50>, <src.node.waku_node.WakuNode object at 0x7fce3259ff50>, <src.node.waku_node.WakuNode object at 0x7fce325e18b0>, <src.node.waku_node.WakuNode object at 0x7fce33661a90>]"},{"name":"pubsub_topic_list","value":"['/waku/2/rs/3/0', '/waku/2/rs/3/1', '/waku/2/rs/3/9', '/waku/2/rs/3/25', '/waku/2/rs/3/1000']"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"50c72f37fe8ed019","name":"log","source":"50c72f37fe8ed019.txt","type":"text/plain","size":29012}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":7,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"test_setup::0","time":{"start":1727753538925,"stop":1727753538931,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes::0","time":{"start":1727753538931,"stop":1727753554953,"duration":16022},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"check_waku_log_errors::0","time":{"start":1727753554954,"stop":1727753555012,"duration":58},"status":"failed","statusMessage":"AssertionError: Found errors {'crash': [], 'fatal': [], 'panic': [], 'abort': [], 'segfault': [], 'corrupt': [], 'terminated': [], 'unhandled': [], 'stacktrace': ['FAT 2024-10-01 03:32:18.944+00:00 Shutting down after receiving SIGSEGV      topics=\"wakunode main\" tid=1 file=wakunode2.nim:124 stacktrace=\"/app/vendor/nim-chronicles/chronicles.nim(170) _ZN9wakunode213handleSigsegvE5int32\\\\n\"', '/app/vendor/nimbus-build-system/vendor/Nim/lib/system/excpt.nim(526) _ZN6system15writeStackTraceE', '/app/vendor/nimbus-build-system/vendor/Nim/lib/system/excpt.nim(330) _ZN6system18rawWriteStackTraceE3varI6stringE', '/app/vendor/nimbus-build-system/vendor/Nim/lib/system/stacktraces.nim(59) _ZN11stacktraces30auxWriteStackTraceWithOverrideE3varI6stringE'], 'deadlock': [], 'SIGSEGV': ['FAT 2024-10-01 03:32:18.944+00:00 Shutting down after receiving SIGSEGV      topics=\"wakunode main\" tid=1 file=wakunode2.nim:124 stacktrace=\"/app/vendor/nim-chronicles/chronicles.nim(170) _ZN9wakunode213handleSigsegvE5int32\\\\n\"', '/app/apps/wakunode2/wakunode2.nim(127) _ZN9wakunode213handleSigsegvE5int32'], 'SIGABRT': [], 'stack overflow': [], 'index out of bounds': [], 'nil pointer dereference': [], 'goroutine exit': [], 'nil pointer': [], 'runtime error': [], 'goexit': [], 'race condition': [], 'double free': []}\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.6/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 221, in __call__\n    return self._fixture_function(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.6/x64/lib/python3.12/site-packages/_pytest/fixtures.py\", line 926, in _teardown_yield_fixture\n    next(it)\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/tests/conftest.py\", line 100, in check_waku_log_errors\n    node.check_waku_log_errors()\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/waku_node.py\", line 536, in check_waku_log_errors\n    assert not matches, f\"Found errors {matches}\"\n           ^^^^^^^^^^^\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"attach_logs_on_fail::0","time":{"start":1727753555013,"stop":1727753555018,"duration":5},"status":"passed","steps":[],"attachments":[{"uid":"5ba46a6e66081cb8","name":"node5_2024-10-01_03-31-59__96145e1f-08e1-4d94-9c95-f55761ea5bbf__wakuorg_nwaku:latest.log","source":"5ba46a6e66081cb8.txt","type":"text/plain","size":599527},{"uid":"6b707bc2144648da","name":"node3_2024-10-01_03-31-59__96145e1f-08e1-4d94-9c95-f55761ea5bbf__wakuorg_nwaku:latest.log","source":"6b707bc2144648da.txt","type":"text/plain","size":535644},{"uid":"8ad8791ce28b0613","name":"node1_2024-10-01_03-31-59__96145e1f-08e1-4d94-9c95-f55761ea5bbf__wakuorg_nwaku:latest.log","source":"8ad8791ce28b0613.txt","type":"text/plain","size":1134950},{"uid":"47cb3157db72e7b0","name":"node4_2024-10-01_03-31-59__96145e1f-08e1-4d94-9c95-f55761ea5bbf__wakuorg_go-waku:latest.log","source":"47cb3157db72e7b0.txt","type":"text/plain","size":159334},{"uid":"531dce441e66d29c","name":"node2_2024-10-01_03-31-59__96145e1f-08e1-4d94-9c95-f55761ea5bbf__wakuorg_go-waku:latest.log","source":"531dce441e66d29c.txt","type":"text/plain","size":148354}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":5,"hasContent":true,"attachmentStep":false},{"name":"set_allure_env_variables::0","time":{"start":1727754015068,"stop":1727754015068,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"tests.peer_connection_management"},{"name":"suite","value":"test_peer_store"},{"name":"subSuite","value":"TestPeerStore"},{"name":"host","value":"fv-az740-873"},{"name":"thread","value":"2072-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.peer_connection_management.test_peer_store"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":[]},"source":"29c2637d6d6e6f8b.json","parameterValues":[]}