[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_get_peers_for_blank_node with id: 2024-10-01_03-33-19__be406e8b-857c-435b-827d-fbca90710a63
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-10-01_03-33-19__be406e8b-857c-435b-827d-fbca90710a63__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.51.67
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['27015', '27016', '27017', '27018', '27019']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 27015:27015 -p 27016:27016 -p 27017:27017 -p 27018:27018 -p 27019:27019 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=27017 --rest-port=27015 --tcp-port=27016 --discv5-udp-port=27018 --rest-address=0.0.0.0 --nat=extip:172.18.51.67 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3a77eebcadd86a8004a0eabf62ef96f25e4a8e31bae0d2a6eb06b1cebdd742ac --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=27019 --metrics-logging=true --relay=true --relay-peer-exchange=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.51.67 waku 6b8b132400cfdd0a42c546247b28e6e028f89e4d087afca8b0216247bc893893
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 6b8b132400cf. Setting up logs at ./log/docker/node1_2024-10-01_03-33-19__be406e8b-857c-435b-827d-fbca90710a63__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 27015
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27015/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27015/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.51.67/tcp/27016/p2p/16Uiu2HAmUJBqrJaz5bAQbSd49JAKzjzYWTqFF5JsezYprC9ZPC31","/ip4/172.18.51.67/tcp/27017/ws/p2p/16Uiu2HAmUJBqrJaz5bAQbSd49JAKzjzYWTqFF5JsezYprC9ZPC31"],"enrUri":"enr:-LO4QBzMrzg9GGzYgknPeQu9Sg8bsP5UqwXDSyCk4CWbqJP-AWOHngYg1tttm4fG_kMFFsSt1DRE-k0Uo3AYQLtBd8ABgmlkgnY0gmlwhKwSM0OKbXVsdGlhZGRyc4wACgSsEjNDBmmJ3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPoZsnSPAyKLsJsKJdhyejJV848gTx2gY5h4qX3vJ8HsIN0Y3CCaYiDdWRwgmmKhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-10-01_03-33-19__be406e8b-857c-435b-827d-fbca90710a63__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.98.192
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['60252', '60253', '60254', '60255', '60256']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 60252:60252 -p 60253:60253 -p 60254:60254 -p 60255:60255 -p 60256:60256 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=60254 --rest-port=60252 --tcp-port=60253 --discv5-udp-port=60255 --rest-address=0.0.0.0 --nat=extip:172.18.98.192 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=95b5cdadffd1c7a49340111ca9687d4c4dc9d0f28b5f8a6b3cbe2f86c5caa248 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-LO4QBzMrzg9GGzYgknPeQu9Sg8bsP5UqwXDSyCk4CWbqJP-AWOHngYg1tttm4fG_kMFFsSt1DRE-k0Uo3AYQLtBd8ABgmlkgnY0gmlwhKwSM0OKbXVsdGlhZGRyc4wACgSsEjNDBmmJ3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPoZsnSPAyKLsJsKJdhyejJV848gTx2gY5h4qX3vJ8HsIN0Y3CCaYiDdWRwgmmKhXdha3UyAQ
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.230.113
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['39960', '39961', '39962', '39963', '39964']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 39960:39960 -p 39961:39961 -p 39962:39962 -p 39963:39963 -p 39964:39964 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=39962 --rest-port=39960 --tcp-port=39961 --discv5-udp-port=39963 --rest-address=0.0.0.0 --nat=extip:172.18.230.113 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ba727e1cd9fd84fe99addb3dde2ee7ad1d7ecedddae7ceacffd1ba4df77dafa4 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-LO4QBzMrzg9GGzYgknPeQu9Sg8bsP5UqwXDSyCk4CWbqJP-AWOHngYg1tttm4fG_kMFFsSt1DRE-k0Uo3AYQLtBd8ABgmlkgnY0gmlwhKwSM0OKbXVsdGlhZGRyc4wACgSsEjNDBmmJ3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPoZsnSPAyKLsJsKJdhyejJV848gTx2gY5h4qX3vJ8HsIN0Y3CCaYiDdWRwgmmKhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.230.113 waku ae0e2d557aa13f962bc4806f69a0aab06c0185fd4859e6b40d9861168522bff2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID ae0e2d557aa1. Setting up logs at ./log/docker/node2_2024-10-01_03-33-19__be406e8b-857c-435b-827d-fbca90710a63__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 39960
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39960/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QMGK1IGFH-L9mD7kjlIleAvLXLlfhpuFAK1AQzS8cPbuBIwJewI4T2qAo1LDt5BZ-b_l8uKP3fY3-QOnKgS80g-GAZJGI8YfgmlkgnY0gmlwhKwRAAmJc2VjcDI1NmsxoQPgQV4bR1chONLLJT7U2Ik5_-p5LeRq-xtHkvfwpprbboN0Y3CCnBmDdWRwgpwbhXdha3UyAQ","listenAddresses":["/ip4/127.0.0.1/tcp/39961/p2p/16Uiu2HAmTkPVAPdnMVFCepRcovbhgQcYayY1XfavP4UtkK6QFB2D","/ip4/127.0.0.1/tcp/39962/ws/p2p/16Uiu2HAmTkPVAPdnMVFCepRcovbhgQcYayY1XfavP4UtkK6QFB2D","/ip4/172.17.0.9/tcp/39961/p2p/16Uiu2HAmTkPVAPdnMVFCepRcovbhgQcYayY1XfavP4UtkK6QFB2D","/ip4/172.17.0.9/tcp/39962/ws/p2p/16Uiu2HAmTkPVAPdnMVFCepRcovbhgQcYayY1XfavP4UtkK6QFB2D"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39960/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.51.67/tcp/27016/p2p/16Uiu2HAmUJBqrJaz5bAQbSd49JAKzjzYWTqFF5JsezYprC9ZPC31", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27015/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9", "/waku/2/rs/3/25", "/waku/2/rs/3/1000"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39960/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9", "/waku/2/rs/3/25", "/waku/2/rs/3/1000"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27015/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"multiaddr":"/ip4/172.17.0.9/tcp/39961/p2p/16Uiu2HAmTkPVAPdnMVFCepRcovbhgQcYayY1XfavP4UtkK6QFB2D","protocols":[{"protocol":"/vac/waku/relay/2.0.0","connected":true},{"protocol":"/vac/waku/peer-exchange/2.0.0-alpha1","connected":true}],"origin":"UnknownOrigin"}]'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-10-01_03-33-19__be406e8b-857c-435b-827d-fbca90710a63__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.10.96
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['15683', '15684', '15685', '15686', '15687']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 15683:15683 -p 15684:15684 -p 15685:15685 -p 15686:15686 -p 15687:15687 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=15685 --rest-port=15683 --tcp-port=15684 --discv5-udp-port=15686 --rest-address=0.0.0.0 --nat=extip:172.18.10.96 --peer-exchange=true --discv5-discovery=false --cluster-id=3 --nodekey=a28cbbbb6d0138ae20181a1ad2cf2dca6ecf24c14e03dacead8e5c1467bd50b0 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --peer-exchange-node=/ip4/172.17.0.9/tcp/39961/p2p/16Uiu2HAmTkPVAPdnMVFCepRcovbhgQcYayY1XfavP4UtkK6QFB2D
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.10.96 waku b95c49f541688b9891cfd50b96a5399a7e534570a3aacd80c01e95b5dfc25ab2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID b95c49f54168. Setting up logs at ./log/docker/node3_2024-10-01_03-33-19__be406e8b-857c-435b-827d-fbca90710a63__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 15683
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15683/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-JG4QP36UrYdiB7SRjsRbLso_zVWFHBr9liDXPMj2Yq1F1grQmMtLzTZJinpXyLJIo9TPEuayFO92popO2AsNK2uX5yGAZJGI9DjgmlkgnY0gmlwhKwRAAOJc2VjcDI1NmsxoQLdYZrmaUYQGHT4tTF7in6XL0n7XSh9peDA3mxfgybpeIN0Y3CCPUSFd2FrdTKA","listenAddresses":["/ip4/127.0.0.1/tcp/15684/p2p/16Uiu2HAmAKrQN5C597wMQRkJMreLBuogUGtWVGVFPX2Mho4MLxU7","/ip4/127.0.0.1/tcp/15685/ws/p2p/16Uiu2HAmAKrQN5C597wMQRkJMreLBuogUGtWVGVFPX2Mho4MLxU7","/ip4/172.17.0.3/tcp/15684/p2p/16Uiu2HAmAKrQN5C597wMQRkJMreLBuogUGtWVGVFPX2Mho4MLxU7","/ip4/172.17.0.3/tcp/15685/ws/p2p/16Uiu2HAmAKrQN5C597wMQRkJMreLBuogUGtWVGVFPX2Mho4MLxU7"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15683/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.51.67/tcp/27016/p2p/16Uiu2HAmUJBqrJaz5bAQbSd49JAKzjzYWTqFF5JsezYprC9ZPC31", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15683/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"id":"16Uiu2HAmTkPVAPdnMVFCepRcovbhgQcYayY1XfavP4UtkK6QFB2D","multiaddrs":["/ip4/172.17.0.9/tcp/39961/p2p/16Uiu2HAmTkPVAPdnMVFCepRcovbhgQcYayY1XfavP4UtkK6QFB2D","/ip4/172.17.0.9/tcp/39962/ws/p2p/16Uiu2HAmTkPVAPdnMVFCepRcovbhgQcYayY1XfavP4UtkK6QFB2D"],"protocols":["/vac/waku/filter-push/2.0.0-beta1","/vac/waku/relay/2.0.0"],"connected":true,"pubsubTopics":["/waku/2/default-waku/proto"]},{"id":"16Uiu2HAmUJBqrJaz5bAQbSd49JAKzjzYWTqFF5JsezYprC9ZPC31","multiaddrs":["/ip4/172.18.51.67/tcp/27016/p2p/16Uiu2HAmUJBqrJaz5bAQbSd49JAKzjzYWTqFF5JsezYprC9ZPC31","/ip4/172.18.51.67/tcp/27017/ws/p2p/16Uiu2HAmUJBqrJaz5bAQbSd49JAKzjzYWTqFF5JsezYprC9ZPC31"],"protocols":["/vac/waku/relay/2.0.0"],"connected":true,"pubsubTopics":["/waku/2/rs/3/2","/waku/2/rs/3/3","/waku/2/rs/3/5","/waku/2/rs/3/6","/waku/2/rs/3/7","/waku/2/rs/3/0","/waku/2/rs/3/4","/waku/2/rs/3/8","/waku/2/rs/3/1"]}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 6b8b132400cf
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id ae0e2d557aa1
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id b95c49f54168
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.