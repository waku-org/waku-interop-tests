[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2024-08-29_13-16-32__144e0bc0-6186-4ccd-bb37-abe8688c4454
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-08-29_13-16-32__144e0bc0-6186-4ccd-bb37-abe8688c4454__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.231.65
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['30292', '30293', '30294', '30295', '30296']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 30292:30292 -p 30293:30293 -p 30294:30294 -p 30295:30295 -p 30296:30296 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=30294 --rest-port=30292 --tcp-port=30293 --discv5-udp-port=30295 --rest-address=0.0.0.0 --nat=extip:172.18.231.65 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2e0bceac84f29d093d1b2cffccf0bdddcd5adcd86bd0d1af3d2235cadfc1af2e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=30296 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.231.65 waku bf2fdfe1bbef7222cd0573f4b46f1ed4dc2247bb8a7b511c4a19aeb09a81a1d2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID bf2fdfe1bbef. Setting up logs at ./log/docker/node1_2024-08-29_13-16-32__144e0bc0-6186-4ccd-bb37-abe8688c4454__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 30292
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30292/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30292/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.231.65/tcp/30293/p2p/16Uiu2HAm6NtfJf4w52vycXeNXf82r8shjZMXun2PRNVLgmCB52BW","/ip4/172.18.231.65/tcp/30294/ws/p2p/16Uiu2HAm6NtfJf4w52vycXeNXf82r8shjZMXun2PRNVLgmCB52BW"],"enrUri":"enr:-LO4QAqSd6Vbc7fWI23U-sWlr-n72BcKvbFf9rbVLybX_FkWV74tuXgm22KwzeqPAr-xReDoXFgN47fHKVkwvJrr0gsBgmlkgnY0gmlwhKwS50GKbXVsdGlhZGRyc4wACgSsEudBBnZW3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKiuicJGBNdsS-oPilK7oxH-7V76-qo2Zha0j6Y_JBUJYN0Y3CCdlWDdWRwgnZXhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-08-29_13-16-32__144e0bc0-6186-4ccd-bb37-abe8688c4454__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.84.80
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['24109', '24110', '24111', '24112', '24113']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 24109:24109 -p 24110:24110 -p 24111:24111 -p 24112:24112 -p 24113:24113 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=24111 --rest-port=24109 --tcp-port=24110 --discv5-udp-port=24112 --rest-address=0.0.0.0 --nat=extip:172.18.84.80 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=28d211aeaf94afdfb0624e0df46ffd7a82cdffc9c1aabca3b5c1a1ea81c1ea7c --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-LO4QAqSd6Vbc7fWI23U-sWlr-n72BcKvbFf9rbVLybX_FkWV74tuXgm22KwzeqPAr-xReDoXFgN47fHKVkwvJrr0gsBgmlkgnY0gmlwhKwS50GKbXVsdGlhZGRyc4wACgSsEudBBnZW3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKiuicJGBNdsS-oPilK7oxH-7V76-qo2Zha0j6Y_JBUJYN0Y3CCdlWDdWRwgnZXhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.84.80 waku bcd0123244d20aeeaba0c5c6ffa5f47f6c6934f6dd0871e94c615b07cd542bb2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID bcd0123244d2. Setting up logs at ./log/docker/node2_2024-08-29_13-16-32__144e0bc0-6186-4ccd-bb37-abe8688c4454__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 24109
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24109/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QNR3rKUbSdfaLpOsqGcR5A_BaXDyosxY74u8yKC4geKqH3r1XVWZyPuGdNifH6h46hRUEMpPkjh5roodPzd042SGAZGeR9sTgmlkgnY0gmlwhKwRAAiJc2VjcDI1NmsxoQIPmuid4frF3WidDdUdhdqHKDaY7hTRTMZ_x4iVRHeDx4N0Y3CCXi6DdWRwgl4whXdha3UyAQ","listenAddresses":["/ip4/127.0.0.1/tcp/24110/p2p/16Uiu2HAkvUb6c9R7uSaRdzEKP9RRh3Uhtg7zg2sPUKKpbzWAKTBU","/ip4/127.0.0.1/tcp/24111/ws/p2p/16Uiu2HAkvUb6c9R7uSaRdzEKP9RRh3Uhtg7zg2sPUKKpbzWAKTBU","/ip4/172.17.0.8/tcp/24110/p2p/16Uiu2HAkvUb6c9R7uSaRdzEKP9RRh3Uhtg7zg2sPUKKpbzWAKTBU","/ip4/172.17.0.8/tcp/24111/ws/p2p/16Uiu2HAkvUb6c9R7uSaRdzEKP9RRh3Uhtg7zg2sPUKKpbzWAKTBU"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24109/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.231.65/tcp/30293/p2p/16Uiu2HAm6NtfJf4w52vycXeNXf82r8shjZMXun2PRNVLgmCB52BW", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-08-29_13-16-32__144e0bc0-6186-4ccd-bb37-abe8688c4454__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.75.156
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['47579', '47580', '47581', '47582', '47583']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 47579:47579 -p 47580:47580 -p 47581:47581 -p 47582:47582 -p 47583:47583 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=47581 --rest-port=47579 --tcp-port=47580 --discv5-udp-port=47582 --rest-address=0.0.0.0 --nat=extip:172.18.75.156 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f5efe4714ba1ebf8baa497f8ab07f6accada2cfe99b2c92bdffc550c28a1dda9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=47583 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QAqSd6Vbc7fWI23U-sWlr-n72BcKvbFf9rbVLybX_FkWV74tuXgm22KwzeqPAr-xReDoXFgN47fHKVkwvJrr0gsBgmlkgnY0gmlwhKwS50GKbXVsdGlhZGRyc4wACgSsEudBBnZW3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKiuicJGBNdsS-oPilK7oxH-7V76-qo2Zha0j6Y_JBUJYN0Y3CCdlWDdWRwgnZXhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.75.156 waku 3988c133f1ed6617e3d7207e94e57b728f0b8918a239741568cab464b67c7aa3
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 3988c133f1ed. Setting up logs at ./log/docker/node3_2024-08-29_13-16-32__144e0bc0-6186-4ccd-bb37-abe8688c4454__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 47579
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47579/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47579/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.75.156/tcp/47580/p2p/16Uiu2HAmRCWPp9FkgtLsTffYWt7GZ71bKaZSYVUe1nbRUfzzHm1g","/ip4/172.18.75.156/tcp/47581/ws/p2p/16Uiu2HAmRCWPp9FkgtLsTffYWt7GZ71bKaZSYVUe1nbRUfzzHm1g"],"enrUri":"enr:-LO4QHqdPZOQP-kqpmxQY5EECs3NVIu3yFcINjzrjzKdGN96bC33akcbux_b-wweyEBU5L7fJlnWLcGmkOu0VQIVkkwBgmlkgnY0gmlwhKwSS5yKbXVsdGlhZGRyc4wACgSsEkucBrnd3QOCcnOFAAMBAACJc2VjcDI1NmsxoQO6Xzfv_XpWs4BRnUH6M7PLf3ZO7u6Y4YRWfpxNcnTXB4N0Y3CCudyDdWRwgrnehXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47579/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.231.65/tcp/30293/p2p/16Uiu2HAm6NtfJf4w52vycXeNXf82r8shjZMXun2PRNVLgmCB52BW"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-08-29_13-16-32__144e0bc0-6186-4ccd-bb37-abe8688c4454__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.201.249
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['40808', '40809', '40810', '40811', '40812']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 40808:40808 -p 40809:40809 -p 40810:40810 -p 40811:40811 -p 40812:40812 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=40810 --rest-port=40808 --tcp-port=40809 --discv5-udp-port=40811 --rest-address=0.0.0.0 --nat=extip:172.18.201.249 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fdd40bf7ccaa5bf2bb801ba9b69a3ccb4f4daeda799616d18b64b17c9878aae1 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-LO4QAqSd6Vbc7fWI23U-sWlr-n72BcKvbFf9rbVLybX_FkWV74tuXgm22KwzeqPAr-xReDoXFgN47fHKVkwvJrr0gsBgmlkgnY0gmlwhKwS50GKbXVsdGlhZGRyc4wACgSsEudBBnZW3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKiuicJGBNdsS-oPilK7oxH-7V76-qo2Zha0j6Y_JBUJYN0Y3CCdlWDdWRwgnZXhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.201.249 waku 4338bd77c4bce1e444d72ddc14dc2abcab8a5f8f24cd953a815dfee798d7b1be
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 4338bd77c4bc. Setting up logs at ./log/docker/node4_2024-08-29_13-16-32__144e0bc0-6186-4ccd-bb37-abe8688c4454__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 40808
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40808/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QOiYLuzX8OCStx4vkJvxMH209FNcHLsZdzVkjsiLTMzzBlSywsB9qUySgVJ0Cosrq4JnOVpjTlcibqUTs8WEecyGAZGeR-ajgmlkgnY0gmlwhKwRAAyJc2VjcDI1NmsxoQPbr4C7I2e78YZ3r1jugiE40nMxS1sKWO6HISOhzTcynYN0Y3CCn2mDdWRwgp9rhXdha3UyAQ","listenAddresses":["/ip4/127.0.0.1/tcp/40809/p2p/16Uiu2HAmTSYrNZPt2soMSKDfBWdRkmHCb8UN4N7WWYGhLWbrkKFa","/ip4/127.0.0.1/tcp/40810/ws/p2p/16Uiu2HAmTSYrNZPt2soMSKDfBWdRkmHCb8UN4N7WWYGhLWbrkKFa","/ip4/172.17.0.12/tcp/40809/p2p/16Uiu2HAmTSYrNZPt2soMSKDfBWdRkmHCb8UN4N7WWYGhLWbrkKFa","/ip4/172.17.0.12/tcp/40810/ws/p2p/16Uiu2HAmTSYrNZPt2soMSKDfBWdRkmHCb8UN4N7WWYGhLWbrkKFa"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40808/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.231.65/tcp/30293/p2p/16Uiu2HAm6NtfJf4w52vycXeNXf82r8shjZMXun2PRNVLgmCB52BW", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-08-29_13-16-32__144e0bc0-6186-4ccd-bb37-abe8688c4454__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.179.55
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['27823', '27824', '27825', '27826', '27827']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 27823:27823 -p 27824:27824 -p 27825:27825 -p 27826:27826 -p 27827:27827 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=27825 --rest-port=27823 --tcp-port=27824 --discv5-udp-port=27826 --rest-address=0.0.0.0 --nat=extip:172.18.179.55 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a68cc68fd4d182ef180ebaed8d6b832deb2ca1bf86f7a7bb7ea0becc7daff169 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=27827 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QAqSd6Vbc7fWI23U-sWlr-n72BcKvbFf9rbVLybX_FkWV74tuXgm22KwzeqPAr-xReDoXFgN47fHKVkwvJrr0gsBgmlkgnY0gmlwhKwS50GKbXVsdGlhZGRyc4wACgSsEudBBnZW3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKiuicJGBNdsS-oPilK7oxH-7V76-qo2Zha0j6Y_JBUJYN0Y3CCdlWDdWRwgnZXhXdha3UyAQ
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.172.94
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['18878', '18879', '18880', '18881', '18882']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 18878:18878 -p 18879:18879 -p 18880:18880 -p 18881:18881 -p 18882:18882 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=18880 --rest-port=18878 --tcp-port=18879 --discv5-udp-port=18881 --rest-address=0.0.0.0 --nat=extip:172.18.172.94 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7610c27fdb68ebfba69cffaa2cefcbb19e7bd47f0c0ec38bc28abcf5ccf5caac --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=18882 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QAqSd6Vbc7fWI23U-sWlr-n72BcKvbFf9rbVLybX_FkWV74tuXgm22KwzeqPAr-xReDoXFgN47fHKVkwvJrr0gsBgmlkgnY0gmlwhKwS50GKbXVsdGlhZGRyc4wACgSsEudBBnZW3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKiuicJGBNdsS-oPilK7oxH-7V76-qo2Zha0j6Y_JBUJYN0Y3CCdlWDdWRwgnZXhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.172.94 waku 5565c96459f5541fe4e4a2abc7fd8df5010e1f4cac04ae056b0ac7fd163af04c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 5565c96459f5. Setting up logs at ./log/docker/node5_2024-08-29_13-16-32__144e0bc0-6186-4ccd-bb37-abe8688c4454__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 18878
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18878/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18878/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.172.94/tcp/18879/p2p/16Uiu2HAmEoi7pUEfac9XuUVqKzCujuwNPFeHhqg64XxkN5jNSfBv","/ip4/172.18.172.94/tcp/18880/ws/p2p/16Uiu2HAmEoi7pUEfac9XuUVqKzCujuwNPFeHhqg64XxkN5jNSfBv"],"enrUri":"enr:-LO4QN6h540g8MU9qapCNeqgq923bsdbBEVw9xq7EQNenfs2aZ4K22LlgIzrw_TqoZV0dojT6ri_WoLsmkdVqegls5YBgmlkgnY0gmlwhKwSrF6KbXVsdGlhZGRyc4wACgSsEqxeBknA3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMf8z9M_LFNKySrulNJM-9I6jTrNW3zTLQWm_xcQUKYyYN0Y3CCSb-DdWRwgknBhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:18878/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.231.65/tcp/30293/p2p/16Uiu2HAm6NtfJf4w52vycXeNXf82r8shjZMXun2PRNVLgmCB52BW"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30292/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24109/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47579/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40808/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:18878/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30292/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30292/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1724937400888363264,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24109/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1724937400888363264,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47579/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1724937400888363264,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40808/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1724937400888363264,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18878/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1724937400888363264,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:18878/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30292/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1724937401019209728,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24109/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1724937401019209728,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47579/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1724937401019209728,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40808/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1724937401019209728,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18878/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1724937401019209728,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id bf2fdfe1bbef
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id bcd0123244d2
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 3988c133f1ed
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 4338bd77c4bc
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 5565c96459f5
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.