[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_first_node_to_start_publishes with id: 2024-11-12_03-15-19__e900171e-38de-445f-951f-a776e571fdf5
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-12_03-15-19__e900171e-38de-445f-951f-a776e571fdf5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.56.56
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['26247', '26248', '26249', '26250', '26251']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 26247:26247 -p 26248:26248 -p 26249:26249 -p 26250:26250 -p 26251:26251 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=26249 --rest-port=26247 --tcp-port=26248 --discv5-udp-port=26250 --rest-address=0.0.0.0 --nat=extip:172.18.56.56 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e90d155dcffeb96f9d8825edde2cc0ec866e2fd607cffc6aa1ca8fed6a08f0df --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=26251 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.56.56 waku 4383940ecf30ff98b4a1f9f04f28af4613b2148cc38174e9b707fd38bfcfd7d8
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container a08d6da4e8c0. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 4383940ecf30. Setting up logs at ./log/docker/node1_2024-11-12_03-15-19__e900171e-38de-445f-951f-a776e571fdf5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 26247
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26247/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26247/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.56.56/tcp/26248/p2p/16Uiu2HAmNH8nmm1jmbnDuZXxvdfgHdrzHWV5anREq2RjPESHLy7h","/ip4/172.18.56.56/tcp/26249/ws/p2p/16Uiu2HAmNH8nmm1jmbnDuZXxvdfgHdrzHWV5anREq2RjPESHLy7h"],"enrUri":"enr:-L24QI2NMgsjpKZ6UjfQT_tSxQAc2vI507pqM5snETOOwiKSLJU6xcWQEKwdgrrpaxLrRbcnKgGEpY6-ZIzbc-2LvJ4CgmlkgnY0gmlwhKwSODiKbXVsdGlhZGRyc5YACASsEjg4BmaIAAoErBI4OAZmid0DgnJzhQADAQAAiXNlY3AyNTZrMaEDjvuiRZHx0tmUXoVkglwoMzs78byzNbxs2OW7hiO4pjyDdGNwgmaIg3VkcIJmioV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-12_03-15-19__e900171e-38de-445f-951f-a776e571fdf5__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.7.190
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['10902', '10903', '10904', '10905', '10906']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 10902:10902 -p 10903:10903 -p 10904:10904 -p 10905:10905 -p 10906:10906 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=10904 --rest-port=10902 --tcp-port=10903 --discv5-udp-port=10905 --rest-address=0.0.0.0 --nat=extip:172.18.7.190 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fcc3ec1fa22802fa6bb9ce43bee74ed5aac78a22ee3e73e83e75bf3c9c6e24c1 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-L24QI2NMgsjpKZ6UjfQT_tSxQAc2vI507pqM5snETOOwiKSLJU6xcWQEKwdgrrpaxLrRbcnKgGEpY6-ZIzbc-2LvJ4CgmlkgnY0gmlwhKwSODiKbXVsdGlhZGRyc5YACASsEjg4BmaIAAoErBI4OAZmid0DgnJzhQADAQAAiXNlY3AyNTZrMaEDjvuiRZHx0tmUXoVkglwoMzs78byzNbxs2OW7hiO4pjyDdGNwgmaIg3VkcIJmioV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.7.190 waku 7c18e34c32c5b6d6dc0b86e6b553d14f9f09800c31558ca75b4dc53f0d6c8171
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 7c18e34c32c5. Setting up logs at ./log/docker/node2_2024-11-12_03-15-19__e900171e-38de-445f-951f-a776e571fdf5__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/go-waku:latest. REST: 10902
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10902/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QHn8IR7Ag7dCSDnZg2AW36qtlsprQrejajieuyUHJmltARkDa-vOogRtkJQehht8Es6xnXIqq1FtocBI3X2iqFCGAZMeXmCagmlkgnY0gmlwhKwRAAOJc2VjcDI1NmsxoQNoxHbUVC-WKl2Apfwd6oP7tCuPhcyHAHc57gnfqLQk4oN0Y3CCKpeDdWRwgiqZhXdha3UyAQ","listenAddresses":["/ip4/127.0.0.1/tcp/10903/p2p/16Uiu2HAmKhxWFScPAZzdLxev2iWQ3hW7bSFgfYuX4GqFEqwTgUvV","/ip4/127.0.0.1/tcp/10904/ws/p2p/16Uiu2HAmKhxWFScPAZzdLxev2iWQ3hW7bSFgfYuX4GqFEqwTgUvV","/ip4/172.17.0.3/tcp/10903/p2p/16Uiu2HAmKhxWFScPAZzdLxev2iWQ3hW7bSFgfYuX4GqFEqwTgUvV","/ip4/172.17.0.3/tcp/10904/ws/p2p/16Uiu2HAmKhxWFScPAZzdLxev2iWQ3hW7bSFgfYuX4GqFEqwTgUvV"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10902/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.56.56/tcp/26248/p2p/16Uiu2HAmNH8nmm1jmbnDuZXxvdfgHdrzHWV5anREq2RjPESHLy7h", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-12_03-15-19__e900171e-38de-445f-951f-a776e571fdf5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.167.15
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['44691', '44692', '44693', '44694', '44695']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 44691:44691 -p 44692:44692 -p 44693:44693 -p 44694:44694 -p 44695:44695 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=44693 --rest-port=44691 --tcp-port=44692 --discv5-udp-port=44694 --rest-address=0.0.0.0 --nat=extip:172.18.167.15 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9563b1fba5fb3276dfd616c3ddd750ba6accf586416e6eccc9c58bed3cf6ba22 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=44695 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QI2NMgsjpKZ6UjfQT_tSxQAc2vI507pqM5snETOOwiKSLJU6xcWQEKwdgrrpaxLrRbcnKgGEpY6-ZIzbc-2LvJ4CgmlkgnY0gmlwhKwSODiKbXVsdGlhZGRyc5YACASsEjg4BmaIAAoErBI4OAZmid0DgnJzhQADAQAAiXNlY3AyNTZrMaEDjvuiRZHx0tmUXoVkglwoMzs78byzNbxs2OW7hiO4pjyDdGNwgmaIg3VkcIJmioV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.167.15 waku 194d0c4e48aad6fc1a8fea02c81791e3398f1f75ceb629e2b1f8751f58dc51da
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 194d0c4e48aa. Setting up logs at ./log/docker/node3_2024-11-12_03-15-19__e900171e-38de-445f-951f-a776e571fdf5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 44691
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44691/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44691/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.167.15/tcp/44692/p2p/16Uiu2HAm6YQAVVvKmicfTPECwievGxsThU4pUNDuvCBXtHTKtS3g","/ip4/172.18.167.15/tcp/44693/ws/p2p/16Uiu2HAm6YQAVVvKmicfTPECwievGxsThU4pUNDuvCBXtHTKtS3g"],"enrUri":"enr:-L24QJ8pqdZnLXEajUwdXuEXjZWxu0P_QPw3iWYkxk2T63doUTRa0ObFlMRx1dmilO20daPDLOLj4n-iQBlZiiQzAaQCgmlkgnY0gmlwhKwSpw-KbXVsdGlhZGRyc5YACASsEqcPBq6UAAoErBKnDwauld0DgnJzhQADAQAAiXNlY3AyNTZrMaECpSm9OefWVUGgcij0gYpvTDl64AkyQLmsSKr5V732jfeDdGNwgq6Ug3VkcIKuloV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44691/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.56.56/tcp/26248/p2p/16Uiu2HAmNH8nmm1jmbnDuZXxvdfgHdrzHWV5anREq2RjPESHLy7h"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-12_03-15-19__e900171e-38de-445f-951f-a776e571fdf5__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.14.65
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['52990', '52991', '52992', '52993', '52994']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 52990:52990 -p 52991:52991 -p 52992:52992 -p 52993:52993 -p 52994:52994 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=52992 --rest-port=52990 --tcp-port=52991 --discv5-udp-port=52993 --rest-address=0.0.0.0 --nat=extip:172.18.14.65 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=aa8e3aed727132776bf6fdb7cdbe9f42ca9af7f5a1ea7e1c1d2cce75585cf7b5 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-L24QI2NMgsjpKZ6UjfQT_tSxQAc2vI507pqM5snETOOwiKSLJU6xcWQEKwdgrrpaxLrRbcnKgGEpY6-ZIzbc-2LvJ4CgmlkgnY0gmlwhKwSODiKbXVsdGlhZGRyc5YACASsEjg4BmaIAAoErBI4OAZmid0DgnJzhQADAQAAiXNlY3AyNTZrMaEDjvuiRZHx0tmUXoVkglwoMzs78byzNbxs2OW7hiO4pjyDdGNwgmaIg3VkcIJmioV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.14.65 waku 42bcf77b267750f6361d09fd8d4b661b31bc6256e1e8d92f5da5b93882001670
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 42bcf77b2677. Setting up logs at ./log/docker/node4_2024-11-12_03-15-19__e900171e-38de-445f-951f-a776e571fdf5__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/go-waku:latest. REST: 52990
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52990/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QKx2t69BL3WOAZoOBRzVt8ov_2KQudnEtGf8tXP6VkJCGMY4XANoemsTPLFJfvXLj_WO5BvBw4gnqQJMvZ010MOGAZMeXm3SgmlkgnY0gmlwhKwRAAqJc2VjcDI1NmsxoQNwP3l9TWlaC4n3OTEE6XaTqb6c3UqdybgX5FK4U6Qsh4N0Y3CCzv-DdWRwgs8BhXdha3UyAQ","listenAddresses":["/ip4/127.0.0.1/tcp/52991/p2p/16Uiu2HAmLDA9ess7ex67RNVFU97cvV2FepPQGX5JijVDPVqzjerS","/ip4/127.0.0.1/tcp/52992/ws/p2p/16Uiu2HAmLDA9ess7ex67RNVFU97cvV2FepPQGX5JijVDPVqzjerS","/ip4/172.17.0.10/tcp/52991/p2p/16Uiu2HAmLDA9ess7ex67RNVFU97cvV2FepPQGX5JijVDPVqzjerS","/ip4/172.17.0.10/tcp/52992/ws/p2p/16Uiu2HAmLDA9ess7ex67RNVFU97cvV2FepPQGX5JijVDPVqzjerS"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52990/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.56.56/tcp/26248/p2p/16Uiu2HAmNH8nmm1jmbnDuZXxvdfgHdrzHWV5anREq2RjPESHLy7h", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-12_03-15-19__e900171e-38de-445f-951f-a776e571fdf5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.233.90
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['40381', '40382', '40383', '40384', '40385']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 40381:40381 -p 40382:40382 -p 40383:40383 -p 40384:40384 -p 40385:40385 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=40383 --rest-port=40381 --tcp-port=40382 --discv5-udp-port=40384 --rest-address=0.0.0.0 --nat=extip:172.18.233.90 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=beb5df81eea3cb0d5c125fc31526a4f2d1fac7a43ae436fcef3c7cbe39bb9d87 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=40385 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QI2NMgsjpKZ6UjfQT_tSxQAc2vI507pqM5snETOOwiKSLJU6xcWQEKwdgrrpaxLrRbcnKgGEpY6-ZIzbc-2LvJ4CgmlkgnY0gmlwhKwSODiKbXVsdGlhZGRyc5YACASsEjg4BmaIAAoErBI4OAZmid0DgnJzhQADAQAAiXNlY3AyNTZrMaEDjvuiRZHx0tmUXoVkglwoMzs78byzNbxs2OW7hiO4pjyDdGNwgmaIg3VkcIJmioV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.233.90 waku 784d1492629465b60403d8aa86e47b5ae9b4626e8f0af057b19df99f2151b0d9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 784d14926294. Setting up logs at ./log/docker/node5_2024-11-12_03-15-19__e900171e-38de-445f-951f-a776e571fdf5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 40381
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40381/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40381/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.233.90/tcp/40382/p2p/16Uiu2HAmKU86ts7YmRyTX24mtbeRvGtFpM5Dqhbq8i5bApkSqynX","/ip4/172.18.233.90/tcp/40383/ws/p2p/16Uiu2HAmKU86ts7YmRyTX24mtbeRvGtFpM5Dqhbq8i5bApkSqynX"],"enrUri":"enr:-L24QMsX_NIeoA_zQFXo5umMmj5eeVMUM1oQGTRrb-lasiR0D8xfW8f2x8ETHQ1zZxQO71au_gfFZhPKMUxK8vJxpnICgmlkgnY0gmlwhKwS6VqKbXVsdGlhZGRyc5YACASsEulaBp2-AAoErBLpWgadv90DgnJzhQADAQAAiXNlY3AyNTZrMaEDZTkvQR74TcaPi_IN8LrqlxJTHNp1hoERZXYuBLDCpGCDdGNwgp2-g3VkcIKdwIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40381/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.56.56/tcp/26248/p2p/16Uiu2HAmNH8nmm1jmbnDuZXxvdfgHdrzHWV5anREq2RjPESHLy7h"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26247/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10902/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44691/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52990/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40381/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26247/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26247/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731381328070532096,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10902/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731381328070532096,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44691/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731381328070532096,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52990/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731381328070532096,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40381/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731381328070532096,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26247/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26247/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731381328207730176,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10902/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731381328207730176,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44691/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731381328207730176,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52990/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731381328207730176,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40381/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731381328207730176,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 4383940ecf30
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 7c18e34c32c5
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 4383940ecf30. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 194d0c4e48aa
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 7c18e34c32c5. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 42bcf77b2677
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 194d0c4e48aa. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 784d14926294
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 42bcf77b2677. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.