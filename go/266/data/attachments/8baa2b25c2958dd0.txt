[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_unsubscribe_with_no_content_topic with id: 2024-09-03_03-16-53__2c68d7f5-367f-4e34-be6f-6a6c72d65004
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-09-03_03-16-53__2c68d7f5-367f-4e34-be6f-6a6c72d65004__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.132.144
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['40359', '40360', '40361', '40362', '40363']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 40359:40359 -p 40360:40360 -p 40361:40361 -p 40362:40362 -p 40363:40363 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=40361 --rest-port=40359 --tcp-port=40360 --discv5-udp-port=40362 --rest-address=0.0.0.0 --nat=extip:172.18.132.144 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8e377bec8d02fad0d8fe2a7cdf83fe9f792b4afff48f47cc2eae7851fb7aaad9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=40363 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.132.144 waku 595fae137a5051d8f7f24bda78b9d2ea41cfe069d3f5d579bbc953e629fb4106
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 595fae137a50. Setting up logs at ./log/docker/node1_2024-09-03_03-16-53__2c68d7f5-367f-4e34-be6f-6a6c72d65004__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 40359
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40359/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40359/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.132.144/tcp/40360/p2p/16Uiu2HAkvJj2TKHpaYktu3LnJr4QvMSpu61SNa3MeB3aLDCLwM2m","/ip4/172.18.132.144/tcp/40361/ws/p2p/16Uiu2HAkvJj2TKHpaYktu3LnJr4QvMSpu61SNa3MeB3aLDCLwM2m"],"enrUri":"enr:-LO4QNXOroq-FHL1qdKs9SwnVu_pomSyQWkBGUtH-NvPI3WLHDRHw2lTpXQgCZPdajNe6EYgGxPSM5WvEsokhsARqqQBgmlkgnY0gmlwhKwShJCKbXVsdGlhZGRyc4wACgSsEoSQBp2p3QOCcnOFAAMBAACJc2VjcDI1NmsxoQINFBC0NauvjTWHcMCDAyyA99j7PVr2pk2SHIgJ5mGJNoN0Y3CCnaiDdWRwgp2qhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-09-03_03-16-53__2c68d7f5-367f-4e34-be6f-6a6c72d65004__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.110.48
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['64574', '64575', '64576', '64577', '64578']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 64574:64574 -p 64575:64575 -p 64576:64576 -p 64577:64577 -p 64578:64578 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=64576 --rest-port=64574 --tcp-port=64575 --discv5-udp-port=64577 --rest-address=0.0.0.0 --nat=extip:172.18.110.48 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5417371d3fe5dfbc838d2e0afa7b217baff36958acbc6f35b4d6dcf078c2ee47 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-LO4QNXOroq-FHL1qdKs9SwnVu_pomSyQWkBGUtH-NvPI3WLHDRHw2lTpXQgCZPdajNe6EYgGxPSM5WvEsokhsARqqQBgmlkgnY0gmlwhKwShJCKbXVsdGlhZGRyc4wACgSsEoSQBp2p3QOCcnOFAAMBAACJc2VjcDI1NmsxoQINFBC0NauvjTWHcMCDAyyA99j7PVr2pk2SHIgJ5mGJNoN0Y3CCnaiDdWRwgp2qhXdha3UyBQ --filternode=/ip4/172.18.132.144/tcp/40360/p2p/16Uiu2HAkvJj2TKHpaYktu3LnJr4QvMSpu61SNa3MeB3aLDCLwM2m
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.110.48 waku 9c26a83d2231e1c63b153c0c6ebcd68fc8d3f9714c1b02643be9cc9d43563dec
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 9c26a83d2231. Setting up logs at ./log/docker/node2_2024-09-03_03-16-53__2c68d7f5-367f-4e34-be6f-6a6c72d65004__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 64574
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64574/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QCAOArEZqeFU4S6z_chxjqC1vpaESEuRxq9rg4JZxuKHEZJX-pGzbbb44sMZ9l2sLs6z5DhLyuGeGLwpEzoafQKGAZG14qWvgmlkgnY0gmlwhKwRAAqJc2VjcDI1NmsxoQJ-Tvluj2UpxGqbIQeVBziNtZ-fkJD9BmFZhAN5PTjxioN0Y3CC_D-DdWRwgvxBhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/64575/p2p/16Uiu2HAm3vjCH16zSJ8RfgwR5eG43ijMeyaXzXJ4zpuzFNvqh8Xb","/ip4/127.0.0.1/tcp/64576/ws/p2p/16Uiu2HAm3vjCH16zSJ8RfgwR5eG43ijMeyaXzXJ4zpuzFNvqh8Xb","/ip4/172.17.0.10/tcp/64575/p2p/16Uiu2HAm3vjCH16zSJ8RfgwR5eG43ijMeyaXzXJ4zpuzFNvqh8Xb","/ip4/172.17.0.10/tcp/64576/ws/p2p/16Uiu2HAm3vjCH16zSJ8RfgwR5eG43ijMeyaXzXJ4zpuzFNvqh8Xb"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:64574/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.132.144/tcp/40360/p2p/16Uiu2HAkvJj2TKHpaYktu3LnJr4QvMSpu61SNa3MeB3aLDCLwM2m", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40359/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:64574/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "14457b27-48df-4193-a33e-1f5e89c9dc80", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"14457b27-48df-4193-a33e-1f5e89c9dc80","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:64574/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "pubsubTopic": "/waku/2/rs/3/1"}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:64574/filter/v2/subscriptions. Response content: b'{"requestId":"1","statusDesc":"at least one content topic is required"}{"requestId":"1","statusDesc":"at least one content topic is required"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 595fae137a50
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 9c26a83d2231
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.