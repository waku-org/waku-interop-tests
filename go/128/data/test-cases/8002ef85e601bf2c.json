{"uid":"8002ef85e601bf2c","name":"test_store_lightpushed_message","fullName":"tests.store.test_running_nodes.TestRunningNodes#test_store_lightpushed_message","historyId":"964395f73b95c28c749b3e67dfff9ab1","time":{"start":1715829648888,"stop":1715829652032,"duration":3144},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"set_allure_env_variables","time":{"start":1715829063646,"stop":1715829063646,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes","time":{"start":1715829648886,"stop":1715829648886,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail","time":{"start":1715829648886,"stop":1715829648886,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"common_setup","time":{"start":1715829648887,"stop":1715829648888,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_id","time":{"start":1715829648887,"stop":1715829648887,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_setup","time":{"start":1715829648887,"stop":1715829648887,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"store_setup","time":{"start":1715829648888,"stop":1715829648888,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[{"name":"setup_first_publishing_node","time":{"start":1715829648888,"stop":1715829650493,"duration":1605},"status":"passed","steps":[{"name":"start_publishing_node","time":{"start":1715829648888,"stop":1715829650493,"duration":1605},"status":"passed","steps":[{"name":"add_node_peer","time":{"start":1715829650493,"stop":1715829650493,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.store.test_running_nodes.TestRunningNodes object at 0x7f29fe1e1af0>, <src.node.waku_node.WakuNode object at 0x7f29fdf265d0>, [])"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"image","value":"'harbor.status.im/wakuorg/nwaku:latest'"},{"name":"node_index","value":"1"},{"name":"store","value":"'true'"},{"name":"relay","value":"'true'"},{"name":"lightpush","value":"'true'"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"store","value":"'true'"},{"name":"relay","value":"'true'"},{"name":"lightpush","value":"'true'"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"setup_first_store_node","time":{"start":1715829650494,"stop":1715829651909,"duration":1415},"status":"passed","steps":[{"name":"setup_store_node","time":{"start":1715829650494,"stop":1715829651909,"duration":1415},"status":"passed","steps":[{"name":"add_node_peer","time":{"start":1715829651906,"stop":1715829651909,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.store.test_running_nodes.TestRunningNodes object at 0x7f29fe1e1af0>, <src.node.waku_node.WakuNode object at 0x7f29fdf06c90>, ['/ip4/172.18.22.224/tcp/15790/p2p/16Uiu2HAkuRzFTntmWUnBT9LoxqFswpW8qXu7WSzwSwEdf2iDdUNM'])"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"image","value":"'harbor.status.im/wakuorg/go-waku:latest'"},{"name":"node_index","value":"1"},{"name":"store","value":"'false'"},{"name":"relay","value":"'false'"},{"name":"lightpush","value":"'true'"},{"name":"lightpushnode","value":"'/ip4/172.18.22.224/tcp/15790/p2p/16Uiu2HAkuRzFTntmWUnBT9LoxqFswpW8qXu7WSzwSwEdf2iDdUNM'"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"store","value":"'false'"},{"name":"relay","value":"'false'"},{"name":"lightpush","value":"'true'"},{"name":"lightpushnode","value":"'/ip4/172.18.22.224/tcp/15790/p2p/16Uiu2HAkuRzFTntmWUnBT9LoxqFswpW8qXu7WSzwSwEdf2iDdUNM'"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"subscribe_to_pubsub_topics_via_relay","time":{"start":1715829651909,"stop":1715829651912,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"None"},{"name":"pubsub_topics","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"publish_message_via","time":{"start":1715829651912,"stop":1715829652019,"duration":107},"status":"passed","steps":[{"name":"create_message","time":{"start":1715829651913,"stop":1715829651913,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"create_payload","time":{"start":1715829651913,"stop":1715829651913,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"pubsub_topic","value":"'/waku/2/rs/0/0'"},{"name":"message","value":"{'payload': 'U3RvcmUgd29ya3MhIQ==', 'contentTopic': '/myapp/1/latest/proto', 'timestamp': 1715829651912627456}"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"type","value":"'lightpush'"},{"name":"pubsub_topic","value":"None"},{"name":"message","value":"None"},{"name":"message_propagation_delay","value":"0.1"},{"name":"sender","value":"<src.node.waku_node.WakuNode object at 0x7f29fdf06c90>"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_published_message_is_stored","time":{"start":1715829652020,"stop":1715829652031,"duration":11},"status":"passed","steps":[{"name":"assert_received_message","time":{"start":1715829652025,"stop":1715829652025,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'U3RvcmUgd29ya3MhIQ==', 'contentTopic': '/myapp/1/latest/proto', 'timestamp': 1715829651912627456}"},{"name":"index","value":"0"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1715829652031,"stop":1715829652031,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'U3RvcmUgd29ya3MhIQ==', 'contentTopic': '/myapp/1/latest/proto', 'timestamp': 1715829651912627456}"},{"name":"index","value":"0"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"store_node","value":"None"},{"name":"peerAddr","value":"None"},{"name":"includeData","value":"None"},{"name":"pubsubTopic","value":"'/waku/2/rs/0/0'"},{"name":"contentTopics","value":"None"},{"name":"startTime","value":"None"},{"name":"endTime","value":"None"},{"name":"hashes","value":"None"},{"name":"cursor","value":"None"},{"name":"pageSize","value":"5"},{"name":"ascending","value":"'true'"},{"name":"store_v","value":"'v1'"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"f2b82bfb41886c48","name":"log","source":"f2b82bfb41886c48.txt","type":"text/plain","size":11093}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":13,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"test_setup::0","time":{"start":1715829652032,"stop":1715829652035,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes::0","time":{"start":1715829652036,"stop":1715829655525,"duration":3489},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail::0","time":{"start":1715829655525,"stop":1715829655525,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"set_allure_env_variables::0","time":{"start":1715829655526,"stop":1715829655526,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"tests.store"},{"name":"suite","value":"test_running_nodes"},{"name":"subSuite","value":"TestRunningNodes"},{"name":"host","value":"fv-az1215-221"},{"name":"thread","value":"2076-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.store.test_running_nodes"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":16,"skipped":0,"passed":22,"unknown":0,"total":38},"items":[{"uid":"2b02ed502b588caf","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/127//#testresult/2b02ed502b588caf","status":"passed","time":{"start":1715743265319,"stop":1715743268606,"duration":3287}},{"uid":"a91ba6f1ae83777c","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/126//#testresult/a91ba6f1ae83777c","status":"passed","time":{"start":1715656876045,"stop":1715656879616,"duration":3571}},{"uid":"684fe9908937c53d","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/125//#testresult/684fe9908937c53d","status":"passed","time":{"start":1715599950898,"stop":1715599963581,"duration":12683}},{"uid":"e94319be84c946c3","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/124//#testresult/e94319be84c946c3","status":"broken","statusDetails":"marshmallow.exceptions.ValidationError: {'content_topic': ['Missing data for required field.'], 'contentTopic': ['Unknown field.']}","time":{"start":1715598677655,"stop":1715598680946,"duration":3291}},{"uid":"8db7a457dddd7fc8","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/123//#testresult/8db7a457dddd7fc8","status":"broken","statusDetails":"marshmallow.exceptions.ValidationError: {'contentTopic': ['Missing data for required field.'], 'content_topic': ['Unknown field.']}","time":{"start":1715570483002,"stop":1715570485886,"duration":2884}},{"uid":"c7b583f9b9318dd8","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/122//#testresult/c7b583f9b9318dd8","status":"broken","statusDetails":"marshmallow.exceptions.ValidationError: {'contentTopic': ['Missing data for required field.'], 'content_topic': ['Unknown field.']}","time":{"start":1715484041870,"stop":1715484045218,"duration":3348}},{"uid":"3f85fd159a981819","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/121//#testresult/3f85fd159a981819","status":"broken","statusDetails":"marshmallow.exceptions.ValidationError: {'contentTopic': ['Missing data for required field.'], 'content_topic': ['Unknown field.']}","time":{"start":1715397687138,"stop":1715397690077,"duration":2939}},{"uid":"2c734cd01c632a53","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/120//#testresult/2c734cd01c632a53","status":"broken","statusDetails":"marshmallow.exceptions.ValidationError: {'contentTopic': ['Missing data for required field.'], 'content_topic': ['Unknown field.']}","time":{"start":1715311244518,"stop":1715311247400,"duration":2882}},{"uid":"c9cb5ad5e3b7df2","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/118//#testresult/c9cb5ad5e3b7df2","status":"broken","statusDetails":"marshmallow.exceptions.ValidationError: {'contentTopic': ['Missing data for required field.'], 'content_topic': ['Unknown field.']}","time":{"start":1715138567836,"stop":1715138570728,"duration":2892}},{"uid":"273b0775bfa7c034","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/117//#testresult/273b0775bfa7c034","status":"broken","statusDetails":"requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=21292): Max retries exceeded with url: /debug/v1/info (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd677682390>: Failed to establish a new connection: [Errno 111] Connection refused'))","time":{"start":1715052131532,"stop":1715052142960,"duration":11428}},{"uid":"3f3459b113b3414a","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/116//#testresult/3f3459b113b3414a","status":"broken","statusDetails":"marshmallow.exceptions.ValidationError: {'contentTopic': ['Missing data for required field.'], 'content_topic': ['Unknown field.']}","time":{"start":1714965702245,"stop":1714965705171,"duration":2926}},{"uid":"3d32d3b2284a586c","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/115//#testresult/3d32d3b2284a586c","status":"broken","statusDetails":"marshmallow.exceptions.ValidationError: {'contentTopic': ['Missing data for required field.'], 'content_topic': ['Unknown field.']}","time":{"start":1714879246650,"stop":1714879250026,"duration":3376}},{"uid":"34b4462917c2f20","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/114//#testresult/34b4462917c2f20","status":"broken","statusDetails":"marshmallow.exceptions.ValidationError: {'contentTopic': ['Missing data for required field.'], 'content_topic': ['Unknown field.']}","time":{"start":1714792866280,"stop":1714792869579,"duration":3299}},{"uid":"aeb02c94ab47a53e","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/113//#testresult/aeb02c94ab47a53e","status":"broken","statusDetails":"marshmallow.exceptions.ValidationError: {'contentTopic': ['Missing data for required field.'], 'content_topic': ['Unknown field.']}","time":{"start":1714706504519,"stop":1714706507802,"duration":3283}},{"uid":"efc16d6a4ba3e15e","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/112//#testresult/efc16d6a4ba3e15e","status":"broken","statusDetails":"marshmallow.exceptions.ValidationError: {'contentTopic': ['Missing data for required field.'], 'content_topic': ['Unknown field.']}","time":{"start":1714620086708,"stop":1714620089588,"duration":2880}},{"uid":"c3a4a0a1337c0f13","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/111//#testresult/c3a4a0a1337c0f13","status":"broken","statusDetails":"marshmallow.exceptions.ValidationError: {'contentTopic': ['Missing data for required field.'], 'content_topic': ['Unknown field.']}","time":{"start":1714533695538,"stop":1714533698419,"duration":2881}},{"uid":"754ba4556ebc072e","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/110//#testresult/754ba4556ebc072e","status":"broken","statusDetails":"marshmallow.exceptions.ValidationError: {'contentTopic': ['Missing data for required field.'], 'content_topic': ['Unknown field.']}","time":{"start":1714447225713,"stop":1714447228778,"duration":3065}},{"uid":"61015311a05b9520","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/109//#testresult/61015311a05b9520","status":"broken","statusDetails":"marshmallow.exceptions.ValidationError: {'contentTopic': ['Missing data for required field.'], 'content_topic': ['Unknown field.']}","time":{"start":1714382271675,"stop":1714382274579,"duration":2904}},{"uid":"c2c9a9e8570390a3","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/105//#testresult/c2c9a9e8570390a3","status":"broken","statusDetails":"marshmallow.exceptions.ValidationError: {'contentTopic': ['Missing data for required field.'], 'content_topic': ['Unknown field.']}","time":{"start":1714101693974,"stop":1714101698276,"duration":4302}},{"uid":"fe16dc2ebb39ecf8","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/104//#testresult/fe16dc2ebb39ecf8","status":"passed","time":{"start":1714016577284,"stop":1714016580958,"duration":3674}}]},"tags":[]},"source":"8002ef85e601bf2c.json","parameterValues":[]}