[35mDEBUG   [0m tests.conftest:conftest.py:43 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:49 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-05-20_09-16-51__6718d884-debd-4d5d-a1b9-2a831cc9ec6e
[35mDEBUG   [0m src.steps.common:common.py:15 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node1_2024-05-20_09-16-51__6718d884-debd-4d5d-a1b9-2a831cc9ec6e__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.253.231
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['29317', '29318', '29319', '29320', '29321']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:345 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:114 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:116 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 29317:29317 -p 29318:29318 -p 29319:29319 -p 29320:29320 -p 29321:29321 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=29319 --rest-port=29317 --tcp-port=29318 --discv5-udp-port=29320 --rest-address=0.0.0.0 --nat=extip:172.18.253.231 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=29321 --metrics-logging=true --relay=true --filter=true --nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.253.231 waku a419def87c64d3a93a72d3f8fd1dc26070911012f00f0fb001c451bb519f44b0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID a419def87c64. Setting up logs at ./log/docker/node1_2024-05-20_09-16-51__6718d884-debd-4d5d-a1b9-2a831cc9ec6e__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 29317
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29317/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:209 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29317/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.253.231/tcp/29318/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","/ip4/172.18.253.231/tcp/29319/ws/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"],"enrUri":"enr:-LO4QCvqAgJUBYGzqC6j6KDPmi5ZHqUO_AyUwG1KNDksryUmN8fXah3C0Nrfd-D0A3VJnedEp4kdsx6lxB6Y0tHjacYBgmlkgnY0gmlwhKwS_eeKbXVsdGlhZGRyc4wACgSsEv3nBnKH3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCcoaDdWRwgnKIhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:214 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node2_2024-05-20_09-16-51__6718d884-debd-4d5d-a1b9-2a831cc9ec6e__harbor.status.im_wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.97.0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['21635', '21636', '21637', '21638', '21639']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:345 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:114 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:116 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 21635:21635 -p 21636:21636 -p 21637:21637 -p 21638:21638 -p 21639:21639 harbor.status.im/wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=21637 --rest-port=21635 --tcp-port=21636 --discv5-udp-port=21638 --rest-address=0.0.0.0 --nat=extip:172.18.97.0 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --relay=false --discv5-bootstrap-node=enr:-LO4QCvqAgJUBYGzqC6j6KDPmi5ZHqUO_AyUwG1KNDksryUmN8fXah3C0Nrfd-D0A3VJnedEp4kdsx6lxB6Y0tHjacYBgmlkgnY0gmlwhKwS_eeKbXVsdGlhZGRyc4wACgSsEv3nBnKH3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCcoaDdWRwgnKIhXdha3UyBQ --filternode=/ip4/172.18.253.231/tcp/29318/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.97.0 waku 3b7ffd23ce35006987ea60c465a28063c8df373e74fa9d696fd4a22ad9912617
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 3b7ffd23ce35. Setting up logs at ./log/docker/node2_2024-05-20_09-16-51__6718d884-debd-4d5d-a1b9-2a831cc9ec6e__harbor.status.im_wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Started container from image harbor.status.im/wakuorg/go-waku:latest. REST: 21635
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21635/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ly4QH_4IuzJ2gRir9nORsezsacsNKOrvCCYXU4y65SBaZT8O7BulPNAh-BwH96eosdJDeVvFG-C95N63qlfBqqLSm-GAY-VSh2qgmlkgnY0gmlwhKwRAASKbXVsdGlhZGRyc5gACgSsEQAEBlSF3QMACgR_AAABBlSF3QOJc2VjcDI1NmsxoQK5gT3ViZzxumdObayoB1vGM_bit9hcljNhl_KMHp5WmIN0Y3CCVISDdWRwglSGhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/21636/p2p/16Uiu2HAm7uohu6t4BLnVH8Gqk8RTLky2w7oEo3iA63sTHYGtHHsu","/ip4/127.0.0.1/tcp/21637/ws/p2p/16Uiu2HAm7uohu6t4BLnVH8Gqk8RTLky2w7oEo3iA63sTHYGtHHsu","/ip4/172.17.0.4/tcp/21636/p2p/16Uiu2HAm7uohu6t4BLnVH8Gqk8RTLky2w7oEo3iA63sTHYGtHHsu","/ip4/172.17.0.4/tcp/21637/ws/p2p/16Uiu2HAm7uohu6t4BLnVH8Gqk8RTLky2w7oEo3iA63sTHYGtHHsu"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:214 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21635/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.253.231/tcp/29318/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node3_2024-05-20_09-16-51__6718d884-debd-4d5d-a1b9-2a831cc9ec6e__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.47.195
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['17777', '17778', '17779', '17780', '17781']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:345 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:114 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:116 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 17777:17777 -p 17778:17778 -p 17779:17779 -p 17780:17780 -p 17781:17781 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=17779 --rest-port=17777 --tcp-port=17778 --discv5-udp-port=17780 --rest-address=0.0.0.0 --nat=extip:172.18.47.195 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=17781 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QCvqAgJUBYGzqC6j6KDPmi5ZHqUO_AyUwG1KNDksryUmN8fXah3C0Nrfd-D0A3VJnedEp4kdsx6lxB6Y0tHjacYBgmlkgnY0gmlwhKwS_eeKbXVsdGlhZGRyc4wACgSsEv3nBnKH3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCcoaDdWRwgnKIhXdha3UyBQ --filternode=/ip4/172.18.253.231/tcp/29318/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.47.195 waku 0b5a9a7eb5277a2250788f3c24dc63b1f546c34cb97e5d820827327dce63d670
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 0b5a9a7eb527. Setting up logs at ./log/docker/node3_2024-05-20_09-16-51__6718d884-debd-4d5d-a1b9-2a831cc9ec6e__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 17777
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17777/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:209 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17777/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.47.195/tcp/17778/p2p/16Uiu2HAmVqvFQk9fZxLt7XyeRs1MkSQdQY3VH59jNYNp2h4FBCwG","/ip4/172.18.47.195/tcp/17779/ws/p2p/16Uiu2HAmVqvFQk9fZxLt7XyeRs1MkSQdQY3VH59jNYNp2h4FBCwG"],"enrUri":"enr:-LO4QKcBbgmGJTVXF-QUTR6tRqtMtreFHXg6gxYHz2ImbF8hEnk3MD-_Z-GOo1plz8kIdryheNHi0NeLklKkbcDeNJ4BgmlkgnY0gmlwhKwSL8OKbXVsdGlhZGRyc4wACgSsEi_DBkVz3QOCcnOFAAABAACJc2VjcDI1NmsxoQP_Y23grzWWCh9pE29m81QQegm2OKbjV7hgOKPYp-9zp4N0Y3CCRXKDdWRwgkV0hXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:214 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17777/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.253.231/tcp/29318/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node4_2024-05-20_09-16-51__6718d884-debd-4d5d-a1b9-2a831cc9ec6e__harbor.status.im_wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.77.233
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['36991', '36992', '36993', '36994', '36995']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:345 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:114 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:116 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 36991:36991 -p 36992:36992 -p 36993:36993 -p 36994:36994 -p 36995:36995 harbor.status.im/wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=36993 --rest-port=36991 --tcp-port=36992 --discv5-udp-port=36994 --rest-address=0.0.0.0 --nat=extip:172.18.77.233 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --relay=false --discv5-bootstrap-node=enr:-LO4QCvqAgJUBYGzqC6j6KDPmi5ZHqUO_AyUwG1KNDksryUmN8fXah3C0Nrfd-D0A3VJnedEp4kdsx6lxB6Y0tHjacYBgmlkgnY0gmlwhKwS_eeKbXVsdGlhZGRyc4wACgSsEv3nBnKH3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCcoaDdWRwgnKIhXdha3UyBQ --filternode=/ip4/172.18.253.231/tcp/29318/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.77.233 waku effafb808d0d144e221fd4324083eedf324ee8835be5f91d079ceb8eb617b897
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID effafb808d0d. Setting up logs at ./log/docker/node4_2024-05-20_09-16-51__6718d884-debd-4d5d-a1b9-2a831cc9ec6e__harbor.status.im_wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Started container from image harbor.status.im/wakuorg/go-waku:latest. REST: 36991
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36991/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ly4QIMVnTGXwk9XuLtOzVmxzPPPp2Wfi1J4Y-4Y8XbxVvsxDpvEmbAvjVERp9mzFyMM6wUEEQ4HQNKV0DzbBzQc0kGGAY-VSir1gmlkgnY0gmlwhKwRAAOKbXVsdGlhZGRyc5gACgR_AAABBpCB3QMACgSsEQADBpCB3QOJc2VjcDI1NmsxoQNJktET4wIEgs8CZjpMaoSDjeDUJyt42w998vllpSRscoN0Y3CCkICDdWRwgpCChXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/36992/p2p/16Uiu2HAmHcBxWzJsMx2pgg9ZFJQGJNqP8zdJF57diNMghux1UjgV","/ip4/127.0.0.1/tcp/36993/ws/p2p/16Uiu2HAmHcBxWzJsMx2pgg9ZFJQGJNqP8zdJF57diNMghux1UjgV","/ip4/172.17.0.3/tcp/36992/p2p/16Uiu2HAmHcBxWzJsMx2pgg9ZFJQGJNqP8zdJF57diNMghux1UjgV","/ip4/172.17.0.3/tcp/36993/ws/p2p/16Uiu2HAmHcBxWzJsMx2pgg9ZFJQGJNqP8zdJF57diNMghux1UjgV"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:214 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36991/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.253.231/tcp/29318/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node5_2024-05-20_09-16-51__6718d884-debd-4d5d-a1b9-2a831cc9ec6e__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.88.80
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['61196', '61197', '61198', '61199', '61200']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:345 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:114 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:116 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 61196:61196 -p 61197:61197 -p 61198:61198 -p 61199:61199 -p 61200:61200 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=61198 --rest-port=61196 --tcp-port=61197 --discv5-udp-port=61199 --rest-address=0.0.0.0 --nat=extip:172.18.88.80 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=61200 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QCvqAgJUBYGzqC6j6KDPmi5ZHqUO_AyUwG1KNDksryUmN8fXah3C0Nrfd-D0A3VJnedEp4kdsx6lxB6Y0tHjacYBgmlkgnY0gmlwhKwS_eeKbXVsdGlhZGRyc4wACgSsEv3nBnKH3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCcoaDdWRwgnKIhXdha3UyBQ --filternode=/ip4/172.18.253.231/tcp/29318/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.88.80 waku c7ee0dc2e0a4f159eea47072422d51051a0bcf0829d51f120a174e41e533cfc4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID c7ee0dc2e0a4. Setting up logs at ./log/docker/node5_2024-05-20_09-16-51__6718d884-debd-4d5d-a1b9-2a831cc9ec6e__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 61196
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61196/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:209 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61196/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.88.80/tcp/61197/p2p/16Uiu2HAm1mH5mfhosKsw8KRbvRCd53g8yQSHhRr49TF5gzGmNfUM","/ip4/172.18.88.80/tcp/61198/ws/p2p/16Uiu2HAm1mH5mfhosKsw8KRbvRCd53g8yQSHhRr49TF5gzGmNfUM"],"enrUri":"enr:-LO4QE6A7iA8xGlBmFrSvVjWhhunukKUfboKGWrfapzWkO-QKVm9K8MY_bHhlrQguO3hMOQe6rP0hNVEjSCC3xyi_p4BgmlkgnY0gmlwhKwSWFCKbXVsdGlhZGRyc4wACgSsElhQBu8O3QOCcnOFAAABAACJc2VjcDI1NmsxoQJeK9kcKTgbUsqJrEExtoS2oSjda9IWA4Dz-r3_FeDHsoN0Y3CC7w2DdWRwgu8PhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:214 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61196/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.253.231/tcp/29318/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29317/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/0/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21635/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "a565e913-aa1f-401f-a62c-b055651953e1", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"a565e913-aa1f-401f-a62c-b055651953e1","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17777/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "efd95df1-ad39-477d-a96a-6fd60fbbbbe5", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"efd95df1-ad39-477d-a96a-6fd60fbbbbe5","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36991/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "fedd979e-dab3-4588-8f38-f744b86b1ceb", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"fedd979e-dab3-4588-8f38-f744b86b1ceb","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61196/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "8bbe8f67-b604-4204-bd00-5e31680e4177", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"8bbe8f67-b604-4204-bd00-5e31680e4177","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29317/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_2:harbor.status.im/wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21635/filter/v2/messages/%2Fwaku%2F2%2Frs%2F0%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1716196619585658624,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29317/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_2:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17777/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:17777/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:75 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:169 Stopping container with id a419def87c64
[35mDEBUG   [0m src.node.waku_node:waku_node.py:172 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:169 Stopping container with id 3b7ffd23ce35
[35mDEBUG   [0m src.node.waku_node:waku_node.py:172 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:169 Stopping container with id 0b5a9a7eb527
[35mDEBUG   [0m src.node.waku_node:waku_node.py:172 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:169 Stopping container with id effafb808d0d
[35mDEBUG   [0m src.node.waku_node:waku_node.py:172 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:169 Stopping container with id c7ee0dc2e0a4
[35mDEBUG   [0m src.node.waku_node:waku_node.py:172 Container stopped.