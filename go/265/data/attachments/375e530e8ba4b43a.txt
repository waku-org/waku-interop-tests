[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_time_filter_matches_multiple_messages with id: 2024-09-02_03-29-30__bce49698-b716-4c0e-a5fd-6089efe0f38b
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:28 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:36 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-09-02_03-29-30__bce49698-b716-4c0e-a5fd-6089efe0f38b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.70.89
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['48347', '48348', '48349', '48350', '48351']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 48347:48347 -p 48348:48348 -p 48349:48349 -p 48350:48350 -p 48351:48351 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=48349 --rest-port=48347 --tcp-port=48348 --discv5-udp-port=48350 --rest-address=0.0.0.0 --nat=extip:172.18.70.89 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3ef9a40a7ad62c3fcbd575199e93dbf6aeec5ebc4a175cbe6c229cacf7adf9fc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=48351 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.70.89 waku 1991f42e2b5fdced46ccefff8422088f3289420e95dcb1f7b5eb0b2e9c81447b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 1991f42e2b5f. Setting up logs at ./log/docker/publishing_node1_2024-09-02_03-29-30__bce49698-b716-4c0e-a5fd-6089efe0f38b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 48347
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48347/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48347/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.70.89/tcp/48348/p2p/16Uiu2HAmAw8r7aCyhCHFAuWcRBwsNqqodDjuvDVQhMNFVdgSpFsY","/ip4/172.18.70.89/tcp/48349/ws/p2p/16Uiu2HAmAw8r7aCyhCHFAuWcRBwsNqqodDjuvDVQhMNFVdgSpFsY"],"enrUri":"enr:-LO4QIm4Enm9NdX6b9N21nfIC-3EJuer-WAfN50cvK3I7pLECnYHnS3Vu6EFCUkOzcuTR75aw6tCAHC_sjHa2yVijooBgmlkgnY0gmlwhKwSRlmKbXVsdGlhZGRyc4wACgSsEkZZBrzd3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLma4bSWCZkkoLnqdV90C7B6u4LldwAzf9Qf8cXK1gZs4N0Y3CCvNyDdWRwgrzehXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-09-02_03-29-30__bce49698-b716-4c0e-a5fd-6089efe0f38b__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.199.74
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['34694', '34695', '34696', '34697', '34698']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 34694:34694 -p 34695:34695 -p 34696:34696 -p 34697:34697 -p 34698:34698 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=34696 --rest-port=34694 --tcp-port=34695 --discv5-udp-port=34697 --rest-address=0.0.0.0 --nat=extip:172.18.199.74 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b4acffba321dbab961ca95e86acd2edb484f28e8cba24fcb4782aee1726dae0f --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-LO4QIm4Enm9NdX6b9N21nfIC-3EJuer-WAfN50cvK3I7pLECnYHnS3Vu6EFCUkOzcuTR75aw6tCAHC_sjHa2yVijooBgmlkgnY0gmlwhKwSRlmKbXVsdGlhZGRyc4wACgSsEkZZBrzd3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLma4bSWCZkkoLnqdV90C7B6u4LldwAzf9Qf8cXK1gZs4N0Y3CCvNyDdWRwgrzehXdha3UyAw --storenode=/ip4/172.18.70.89/tcp/48348/p2p/16Uiu2HAmAw8r7aCyhCHFAuWcRBwsNqqodDjuvDVQhMNFVdgSpFsY --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.199.74 waku d9d6f13ffb3a51793108e527b45938ca951d8553d7eb13405d7f86e68241f69c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID d9d6f13ffb3a. Setting up logs at ./log/docker/store_node1_2024-09-02_03-29-30__bce49698-b716-4c0e-a5fd-6089efe0f38b__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 34694
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34694/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QAMIcaeBCF9W1xMhVdyc9NrX-Wdv6KfRsg4NSNL3T7usMbbVLfO5f3WQ3l-P7PAU-3M6jRmYTrt6S4m4zYr66FmGAZGwx9kFgmlkgnY0gmlwhKwRAAmJc2VjcDI1NmsxoQLq-0g9UxCE21uW_xm4k-uEMGrwJE0PRxbNIPBU-ykDiIN0Y3CCh4eDdWRwgoeJhXdha3UyAw","listenAddresses":["/ip4/127.0.0.1/tcp/34695/p2p/16Uiu2HAmBEwciDNLpQNXGLvihqDxNyK3jGVbtioymDCzYo5ZZhwm","/ip4/127.0.0.1/tcp/34696/ws/p2p/16Uiu2HAmBEwciDNLpQNXGLvihqDxNyK3jGVbtioymDCzYo5ZZhwm","/ip4/172.17.0.9/tcp/34695/p2p/16Uiu2HAmBEwciDNLpQNXGLvihqDxNyK3jGVbtioymDCzYo5ZZhwm","/ip4/172.17.0.9/tcp/34696/ws/p2p/16Uiu2HAmBEwciDNLpQNXGLvihqDxNyK3jGVbtioymDCzYo5ZZhwm"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34694/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.70.89/tcp/48348/p2p/16Uiu2HAmAw8r7aCyhCHFAuWcRBwsNqqodDjuvDVQhMNFVdgSpFsY", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48347/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34694/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48347/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48347/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48347/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48347/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48347/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48347/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48347/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1725247767555324000&endTime=1725247772555539104&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"lhqYbjCpVi5VOYTPY+8YvZcJZFs+vkjhn6jL1lKUNEc="},{"messageHash":"aDzM9KRbOtl2zHsBt1Csdnez1VG9faIiuJzPDqkktbk="},{"messageHash":"/kjUkf2/hJPsJqJ3rjDbmOLP6JAPYhGvi+9MpX7JqtM="},{"messageHash":"nia3sZZrAGQ8cBCCghMBzhpRN7Xwfc9yRes9aJE6JJc="},{"messageHash":"UQnnfy+bPLyzF+DSGhjCMWEHBwN0ETjr8IUDUiT1KyU="}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34694/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&startTime=1725247767555324000&endTime=1725247772555539104&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"01ed0358ca021295fbb457ba1e1b46d785864b9909393f04de89b075b3b875f6","status_code":200,"status_desc":"OK","messages":[{"message_hash":"lhqYbjCpVi5VOYTPY+8YvZcJZFs+vkjhn6jL1lKUNEc="},{"message_hash":"aDzM9KRbOtl2zHsBt1Csdnez1VG9faIiuJzPDqkktbk="},{"message_hash":"/kjUkf2/hJPsJqJ3rjDbmOLP6JAPYhGvi+9MpX7JqtM="},{"message_hash":"nia3sZZrAGQ8cBCCghMBzhpRN7Xwfc9yRes9aJE6JJc="},{"message_hash":"UQnnfy+bPLyzF+DSGhjCMWEHBwN0ETjr8IUDUiT1KyU="}]}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 1991f42e2b5f
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id d9d6f13ffb3a
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.