[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_unsubscribe_from_pubsub_topics with id: 2025-02-02_03-07-37__ff58b612-abab-4129-b8ac-857529500c15
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-02-02_03-07-37__ff58b612-abab-4129-b8ac-857529500c15__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.21.246
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['39195', '39196', '39197', '39198', '39199']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 39195:39195 -p 39196:39196 -p 39197:39197 -p 39198:39198 -p 39199:39199 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=39197 --rest-port=39195 --tcp-port=39196 --discv5-udp-port=39198 --rest-address=0.0.0.0 --nat=extip:172.18.21.246 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=faf5d0bd19f6ef2fb16bcac2e39c009dbde42162441c5225f64deecafae5ff79 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=39199 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.21.246 waku c1dcbf63a7c3b16c61f32c9a717ab35098ef9c37220fdb1095c26dc5ac9f909f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID c1dcbf63a7c3. Setting up logs at ./log/docker/node1_2025-02-02_03-07-37__ff58b612-abab-4129-b8ac-857529500c15__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 39195
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 3cc19989ef6e. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39195/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39195/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.21.246/tcp/39196/p2p/16Uiu2HAm5V6CZTaS4wZQyrfq6KqpT5sDGDLXcTiJK9cd4eeoL2eq","/ip4/172.18.21.246/tcp/39197/ws/p2p/16Uiu2HAm5V6CZTaS4wZQyrfq6KqpT5sDGDLXcTiJK9cd4eeoL2eq"],"enrUri":"enr:-L24QNjWToDcTVf0rPWKKWlCuErIsQ1igd483HFYi3YuCU7ofhJuNWV940vQYjjLVer1rwTUii85ekBHG693dcJf1koCgmlkgnY0gmlwhKwSFfaKbXVsdGlhZGRyc5YACASsEhX2BpkcAAoErBIV9gaZHd0DgnJzhQADAQAAiXNlY3AyNTZrMaEClXT_Wf_f5bdehjn6xJYEo30raiDYYgrZLws1WJhF-G6DdGNwgpkcg3VkcIKZHoV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-02-02_03-07-37__ff58b612-abab-4129-b8ac-857529500c15__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.6.169
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['10299', '10300', '10301', '10302', '10303']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 10299:10299 -p 10300:10300 -p 10301:10301 -p 10302:10302 -p 10303:10303 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=10301 --rest-port=10299 --tcp-port=10300 --discv5-udp-port=10302 --rest-address=0.0.0.0 --nat=extip:172.18.6.169 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3b5bc98f40047d2efdfcfc5583a05f08526d14fd2fdcf9b383a0c9aa4eadcfdc --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QNjWToDcTVf0rPWKKWlCuErIsQ1igd483HFYi3YuCU7ofhJuNWV940vQYjjLVer1rwTUii85ekBHG693dcJf1koCgmlkgnY0gmlwhKwSFfaKbXVsdGlhZGRyc5YACASsEhX2BpkcAAoErBIV9gaZHd0DgnJzhQADAQAAiXNlY3AyNTZrMaEClXT_Wf_f5bdehjn6xJYEo30raiDYYgrZLws1WJhF-G6DdGNwgpkcg3VkcIKZHoV3YWt1MgU --filternode=/ip4/172.18.21.246/tcp/39196/p2p/16Uiu2HAm5V6CZTaS4wZQyrfq6KqpT5sDGDLXcTiJK9cd4eeoL2eq --pubsub-topic=/waku/2/rs/3/1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.6.169 waku 2c6f7487bddd82ffcc0eb27bd53f3638a32098badfe5f3931cba3526eb377208
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 2c6f7487bddd. Setting up logs at ./log/docker/node2_2025-02-02_03-07-37__ff58b612-abab-4129-b8ac-857529500c15__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 10299
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10299/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QMsWGzy0qYvhFD2h5U4ymHn9A6L3a0HMC1QXHgcVXLDHQhal5bCah2rwr_lUAqBcoaQjgjTsRrjEwpVYt9K8GFaGAZTEoMp3gmlkgnY0gmlwhKwRAAOCcnOFAAMBAAGJc2VjcDI1NmsxoQP78UwrNo9mXT8RTBwACIYNmudFBhGLiYTNjSzywnNTaoN0Y3CCKDyDdWRwgig-hXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/10300/p2p/16Uiu2HAmVcU62hZvCJwRseZmjjYVtzVZxKTa6ywxfezK89nDt6V7","/ip4/127.0.0.1/tcp/10301/ws/p2p/16Uiu2HAmVcU62hZvCJwRseZmjjYVtzVZxKTa6ywxfezK89nDt6V7","/ip4/172.17.0.3/tcp/10300/p2p/16Uiu2HAmVcU62hZvCJwRseZmjjYVtzVZxKTa6ywxfezK89nDt6V7","/ip4/172.17.0.3/tcp/10301/ws/p2p/16Uiu2HAmVcU62hZvCJwRseZmjjYVtzVZxKTa6ywxfezK89nDt6V7"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10299/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.21.246/tcp/39196/p2p/16Uiu2HAm5V6CZTaS4wZQyrfq6KqpT5sDGDLXcTiJK9cd4eeoL2eq", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39195/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10299/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "48ac0229-0b15-48fc-8a0e-78b26a850600", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"48ac0229-0b15-48fc-8a0e-78b26a850600","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39195/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10299/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "d4bd3b9b-63ab-45b9-8d12-b009b0666c1c", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"d4bd3b9b-63ab-45b9-8d12-b009b0666c1c","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39195/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/9"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10299/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "c5d8ee00-cef1-4859-9e9c-7b6d5c3f7eab", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/9"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"c5d8ee00-cef1-4859-9e9c-7b6d5c3f7eab","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39195/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10299/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1738465664129663744,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39195/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F9" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/2/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10299/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F9/%2Ftest%2F2%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id c1dcbf63a7c3
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 2c6f7487bddd
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:42 Attaching file ./log/docker/node2_2025-02-02_03-07-37__ff58b612-abab-4129-b8ac-857529500c15__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:42 Attaching file ./log/docker/node1_2025-02-02_03-07-37__ff58b612-abab-4129-b8ac-857529500c15__wakuorg_nwaku:latest.log
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_unsubscribe_from_pubsub_topics with id: 2025-02-02_03-07-45__153b4960-cb19-40e2-88e1-0596d1db28f8
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-02-02_03-07-45__153b4960-cb19-40e2-88e1-0596d1db28f8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.40.41
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['46297', '46298', '46299', '46300', '46301']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 46297:46297 -p 46298:46298 -p 46299:46299 -p 46300:46300 -p 46301:46301 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=46299 --rest-port=46297 --tcp-port=46298 --discv5-udp-port=46300 --rest-address=0.0.0.0 --nat=extip:172.18.40.41 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9eaf5db25affdf5d925d24c83e6ae3f4daedcf8ae4cbbfffb2bc5d257cb4fe4f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=46301 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.40.41 waku c7fe41ab2025006d9ba61c75abea422a164a35ee3ecbd872137fb7ec0f374a42
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID c7fe41ab2025. Setting up logs at ./log/docker/node1_2025-02-02_03-07-45__153b4960-cb19-40e2-88e1-0596d1db28f8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 46297
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container c1dcbf63a7c3. Exiting log stream.
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 2c6f7487bddd. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46297/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46297/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.40.41/tcp/46298/p2p/16Uiu2HAm6LRggmWv5XBF5EiS8ynjcKTrDPczDZVach6JquHLTygU","/ip4/172.18.40.41/tcp/46299/ws/p2p/16Uiu2HAm6LRggmWv5XBF5EiS8ynjcKTrDPczDZVach6JquHLTygU"],"enrUri":"enr:-L24QBtb-h5wonCDjiPdAr5uBKuWe40Jy91kBDbnLjxMK89UDfepeOeBRUpLpFmEGvF_V0iWFLpbcZs538kx7t5gOJ4CgmlkgnY0gmlwhKwSKCmKbXVsdGlhZGRyc5YACASsEigpBrTaAAoErBIoKQa0290DgnJzhQADAQAAiXNlY3AyNTZrMaECohh9IZjxQVq6SkL14682iIk8Iy0DB15GUAqf5p5a-xGDdGNwgrTag3VkcIK03IV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-02-02_03-07-45__153b4960-cb19-40e2-88e1-0596d1db28f8__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.38.243
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['4489', '4490', '4491', '4492', '4493']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 4489:4489 -p 4490:4490 -p 4491:4491 -p 4492:4492 -p 4493:4493 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=4491 --rest-port=4489 --tcp-port=4490 --discv5-udp-port=4492 --rest-address=0.0.0.0 --nat=extip:172.18.38.243 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=615afadae1adeed665b3bfbeba7483da0eb3ffbadfc7e6d5ce02c92f3cdd9ee3 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QBtb-h5wonCDjiPdAr5uBKuWe40Jy91kBDbnLjxMK89UDfepeOeBRUpLpFmEGvF_V0iWFLpbcZs538kx7t5gOJ4CgmlkgnY0gmlwhKwSKCmKbXVsdGlhZGRyc5YACASsEigpBrTaAAoErBIoKQa0290DgnJzhQADAQAAiXNlY3AyNTZrMaECohh9IZjxQVq6SkL14682iIk8Iy0DB15GUAqf5p5a-xGDdGNwgrTag3VkcIK03IV3YWt1MgU --filternode=/ip4/172.18.40.41/tcp/46298/p2p/16Uiu2HAm6LRggmWv5XBF5EiS8ynjcKTrDPczDZVach6JquHLTygU --pubsub-topic=/waku/2/rs/3/1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.38.243 waku 679aa1bc16a13a6c2dedcb4967732d7f61695e087e7650a6e7afc5ccede003c3
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 679aa1bc16a1. Setting up logs at ./log/docker/node2_2025-02-02_03-07-45__153b4960-cb19-40e2-88e1-0596d1db28f8__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 4489
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4489/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QNHlf_0q-zKyj6X1WPRWd_mR1-aLu6Xm3RfN2jhvJ8zWf4VmOORGovSNFHN_ZVFAXD0wEjTsHda94t-G-zK8I3yGAZTEoOi2gmlkgnY0gmlwhKwRAAOCcnOFAAMBAAGJc2VjcDI1NmsxoQJG9RrZuJArkPXRATmV4sESaMbNN7-n_f0g51wcmnushoN0Y3CCEYqDdWRwghGMhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/4490/p2p/16Uiu2HAkzCfHpfPkqtRRRMRfLRDsedW6vjqiQ69XRgD1UamK27Eu","/ip4/127.0.0.1/tcp/4491/ws/p2p/16Uiu2HAkzCfHpfPkqtRRRMRfLRDsedW6vjqiQ69XRgD1UamK27Eu","/ip4/172.17.0.3/tcp/4490/p2p/16Uiu2HAkzCfHpfPkqtRRRMRfLRDsedW6vjqiQ69XRgD1UamK27Eu","/ip4/172.17.0.3/tcp/4491/ws/p2p/16Uiu2HAkzCfHpfPkqtRRRMRfLRDsedW6vjqiQ69XRgD1UamK27Eu"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4489/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.40.41/tcp/46298/p2p/16Uiu2HAm6LRggmWv5XBF5EiS8ynjcKTrDPczDZVach6JquHLTygU", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46297/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4489/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "be25944a-21a3-435f-8165-09467f3f5e88", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"be25944a-21a3-435f-8165-09467f3f5e88","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46297/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4489/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1be754be-7e44-4d83-a5d8-dd86500c3a08", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"1be754be-7e44-4d83-a5d8-dd86500c3a08","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46297/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/9"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4489/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "b8f015b6-7ece-44ab-9dca-eb6c24bc53cb", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/9"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"b8f015b6-7ece-44ab-9dca-eb6c24bc53cb","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46297/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4489/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1738465671604953088,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46297/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F9" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/2/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4489/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F9/%2Ftest%2F2%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id c7fe41ab2025
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 679aa1bc16a1
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:42 Attaching file ./log/docker/node2_2025-02-02_03-07-45__153b4960-cb19-40e2-88e1-0596d1db28f8__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:42 Attaching file ./log/docker/node1_2025-02-02_03-07-45__153b4960-cb19-40e2-88e1-0596d1db28f8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_unsubscribe_from_pubsub_topics with id: 2025-02-02_03-07-53__f00cdf7f-084d-4556-b9d4-d82d53787e5f
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-02-02_03-07-53__f00cdf7f-084d-4556-b9d4-d82d53787e5f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.16.217
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['17510', '17511', '17512', '17513', '17514']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 17510:17510 -p 17511:17511 -p 17512:17512 -p 17513:17513 -p 17514:17514 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=17512 --rest-port=17510 --tcp-port=17511 --discv5-udp-port=17513 --rest-address=0.0.0.0 --nat=extip:172.18.16.217 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d8d2cae9ff0348e52dbefee88fbaa8cb7c38b9df4efcf2bc8ac019c55c2bca42 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=17514 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.16.217 waku 3892e3e0f84bc9f4f773729b07779c8d8e9502afea64291ac50248b98e8904ef
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 3892e3e0f84b. Setting up logs at ./log/docker/node1_2025-02-02_03-07-53__f00cdf7f-084d-4556-b9d4-d82d53787e5f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 17510
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container c7fe41ab2025. Exiting log stream.
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 679aa1bc16a1. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17510/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17510/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.16.217/tcp/17511/p2p/16Uiu2HAkx7tykXMkqFKtgyWc5CfmcLxxsf8MSBEKYgoJQFDSGyAd","/ip4/172.18.16.217/tcp/17512/ws/p2p/16Uiu2HAkx7tykXMkqFKtgyWc5CfmcLxxsf8MSBEKYgoJQFDSGyAd"],"enrUri":"enr:-L24QMDwwxN1HnX9cFPl4HC8BmOk4WnX6FMmWorke205JAT-TAZtNhlKNKt6ZMRw3sz_ygPSN67NofPEZPJwADbUbn8CgmlkgnY0gmlwhKwSENmKbXVsdGlhZGRyc5YACASsEhDZBkRnAAoErBIQ2QZEaN0DgnJzhQADAQAAiXNlY3AyNTZrMaECKAVN9jOwULaqVaQRo5iF9nwzzRaHlyOr4tuvoUWeDnaDdGNwgkRng3VkcIJEaYV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-02-02_03-07-53__f00cdf7f-084d-4556-b9d4-d82d53787e5f__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.163.27
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['28137', '28138', '28139', '28140', '28141']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 28137:28137 -p 28138:28138 -p 28139:28139 -p 28140:28140 -p 28141:28141 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=28139 --rest-port=28137 --tcp-port=28138 --discv5-udp-port=28140 --rest-address=0.0.0.0 --nat=extip:172.18.163.27 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c1bd1ffeb2f2ceb3d4b1a7da3c6b35946410d57a4eca1f0eaf3a3fe6c313f812 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QMDwwxN1HnX9cFPl4HC8BmOk4WnX6FMmWorke205JAT-TAZtNhlKNKt6ZMRw3sz_ygPSN67NofPEZPJwADbUbn8CgmlkgnY0gmlwhKwSENmKbXVsdGlhZGRyc5YACASsEhDZBkRnAAoErBIQ2QZEaN0DgnJzhQADAQAAiXNlY3AyNTZrMaECKAVN9jOwULaqVaQRo5iF9nwzzRaHlyOr4tuvoUWeDnaDdGNwgkRng3VkcIJEaYV3YWt1MgU --filternode=/ip4/172.18.16.217/tcp/17511/p2p/16Uiu2HAkx7tykXMkqFKtgyWc5CfmcLxxsf8MSBEKYgoJQFDSGyAd --pubsub-topic=/waku/2/rs/3/1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.163.27 waku ad14ec3815f99ade49d9a9f398eb2d50c666796058e84f66005c44e7600d3ee6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID ad14ec3815f9. Setting up logs at ./log/docker/node2_2025-02-02_03-07-53__f00cdf7f-084d-4556-b9d4-d82d53787e5f__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 28137
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28137/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QGa_QdfyKJ32kkzV1zFnv8r3Ac5AszjlofhgPRCpDHGfFbwukSA7PZNo_MnCpZjwS5ItDenAnCOmJfLAlaWbpZ6GAZTEoQWsgmlkgnY0gmlwhKwRAAOCcnOFAAMBAAGJc2VjcDI1NmsxoQOiLtWtzlBW775pjt6oKNCYEDShU6mhV_lE3wPuPv7vh4N0Y3CCbeqDdWRwgm3shXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/28138/p2p/16Uiu2HAmPa5pRgBxBqq4UbNxjLrqvxU4oGuWkPj1vSXMha9f1sDg","/ip4/127.0.0.1/tcp/28139/ws/p2p/16Uiu2HAmPa5pRgBxBqq4UbNxjLrqvxU4oGuWkPj1vSXMha9f1sDg","/ip4/172.17.0.3/tcp/28138/p2p/16Uiu2HAmPa5pRgBxBqq4UbNxjLrqvxU4oGuWkPj1vSXMha9f1sDg","/ip4/172.17.0.3/tcp/28139/ws/p2p/16Uiu2HAmPa5pRgBxBqq4UbNxjLrqvxU4oGuWkPj1vSXMha9f1sDg"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28137/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.16.217/tcp/17511/p2p/16Uiu2HAkx7tykXMkqFKtgyWc5CfmcLxxsf8MSBEKYgoJQFDSGyAd", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17510/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28137/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "9e152331-b10c-49b4-8c50-e8215d12faf9", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"9e152331-b10c-49b4-8c50-e8215d12faf9","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17510/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28137/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "fc8d2608-82bd-48fa-ab2c-30ba8f93f701", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"fc8d2608-82bd-48fa-ab2c-30ba8f93f701","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17510/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/9"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28137/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "b65a83e5-71f1-4354-ae73-0c4799fa862f", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/9"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"b65a83e5-71f1-4354-ae73-0c4799fa862f","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17510/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28137/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1738465677286294784,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17510/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F9" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/2/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28137/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F9/%2Ftest%2F2%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 3892e3e0f84b
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id ad14ec3815f9
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:42 Attaching file ./log/docker/node1_2025-02-02_03-07-53__f00cdf7f-084d-4556-b9d4-d82d53787e5f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:42 Attaching file ./log/docker/node2_2025-02-02_03-07-53__f00cdf7f-084d-4556-b9d4-d82d53787e5f__wakuorg_go-waku:latest.log