[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_get_store_messages_with_different_pubsub_topics with id: 2025-02-02_03-07-20__b7de9016-8969-4e46-af50-0d41a8be568a
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-02_03-07-20__b7de9016-8969-4e46-af50-0d41a8be568a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.96.113
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['1532', '1533', '1534', '1535', '1536']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 1532:1532 -p 1533:1533 -p 1534:1534 -p 1535:1535 -p 1536:1536 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=1534 --rest-port=1532 --tcp-port=1533 --discv5-udp-port=1535 --rest-address=0.0.0.0 --nat=extip:172.18.96.113 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2cac92ed5008295cdbe3d44dbd84cc8790402f55aae79d405f6868eedcaf50a1 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=1536 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.96.113 waku 913ce5f8814838740eb79566151d099cd227ff939e6ed7fca3ab59937c0c8123
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 84a4f00c0b17. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 913ce5f88148. Setting up logs at ./log/docker/publishing_node1_2025-02-02_03-07-20__b7de9016-8969-4e46-af50-0d41a8be568a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 1532
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 46bdadbff039. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1532/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1532/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.96.113/tcp/1533/p2p/16Uiu2HAmRJpEGgcp56NJZZFxAmQAqTi6qysTSS482qxLM9VVe8Qk","/ip4/172.18.96.113/tcp/1534/ws/p2p/16Uiu2HAmRJpEGgcp56NJZZFxAmQAqTi6qysTSS482qxLM9VVe8Qk"],"enrUri":"enr:-L24QEmNeaT7X813dGPqweJhz6VohoeizzFLtx0JZoHOSBCcVI5X7BtpKLXaAOmygwgnTe3sBZAor4tK_idBn7DiEEECgmlkgnY0gmlwhKwSYHGKbXVsdGlhZGRyc5YACASsEmBxBgX9AAoErBJgcQYF_t0DgnJzhQADAQAAiXNlY3AyNTZrMaEDu_zeuB9pvg9dsBfdD5cVejtq6BdcrO13gPbTRvTS-WWDdGNwggX9g3VkcIIF_4V3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-02_03-07-20__b7de9016-8969-4e46-af50-0d41a8be568a__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.33.222
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['58898', '58899', '58900', '58901', '58902']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 58898:58898 -p 58899:58899 -p 58900:58900 -p 58901:58901 -p 58902:58902 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=58900 --rest-port=58898 --tcp-port=58899 --discv5-udp-port=58901 --rest-address=0.0.0.0 --nat=extip:172.18.33.222 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f470deda6aee0602c0efcfb9dc77756e04cf3bffbdebc13ee845d51d4e7c0cd8 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-L24QEmNeaT7X813dGPqweJhz6VohoeizzFLtx0JZoHOSBCcVI5X7BtpKLXaAOmygwgnTe3sBZAor4tK_idBn7DiEEECgmlkgnY0gmlwhKwSYHGKbXVsdGlhZGRyc5YACASsEmBxBgX9AAoErBJgcQYF_t0DgnJzhQADAQAAiXNlY3AyNTZrMaEDu_zeuB9pvg9dsBfdD5cVejtq6BdcrO13gPbTRvTS-WWDdGNwggX9g3VkcIIF_4V3YWt1MgM --storenode=/ip4/172.18.96.113/tcp/1533/p2p/16Uiu2HAmRJpEGgcp56NJZZFxAmQAqTi6qysTSS482qxLM9VVe8Qk --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.33.222 waku 9db6ec1e1e46b0bdbd2a153c71e0cd55884a0209967ce54c4d424666c363a868
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 9db6ec1e1e46. Setting up logs at ./log/docker/store_node1_2025-02-02_03-07-20__b7de9016-8969-4e46-af50-0d41a8be568a__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 58898
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58898/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QEk_yUmnQOVkz6g-MJgURf9loYvLleXj3aw5gRe_7PIZdoCxGdq5eL4ZGmEOBTKCsE4rCTPWVu43L-0t1s8zkg2GAZTEoIhfgmlkgnY0gmlwhKwRAAOCcnODAAMAiXNlY3AyNTZrMaECW7n9DHBHBUO322Tb9TsfMUPjE6wYXgh89HShRkcp1wKDdGNwguYTg3VkcILmFYV3YWt1MgM","listenAddresses":["/ip4/127.0.0.1/tcp/58899/p2p/16Uiu2HAm1bjZzY464NVwQZuGxjpr7h5X37yD7TEuAcjLtJcc6GL1","/ip4/127.0.0.1/tcp/58900/ws/p2p/16Uiu2HAm1bjZzY464NVwQZuGxjpr7h5X37yD7TEuAcjLtJcc6GL1","/ip4/172.17.0.3/tcp/58899/p2p/16Uiu2HAm1bjZzY464NVwQZuGxjpr7h5X37yD7TEuAcjLtJcc6GL1","/ip4/172.17.0.3/tcp/58900/ws/p2p/16Uiu2HAm1bjZzY464NVwQZuGxjpr7h5X37yD7TEuAcjLtJcc6GL1"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58898/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.96.113/tcp/1533/p2p/16Uiu2HAmRJpEGgcp56NJZZFxAmQAqTi6qysTSS482qxLM9VVe8Qk", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1532/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58898/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1532/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/2", "/waku/2/rs/3/3", "/waku/2/rs/3/4", "/waku/2/rs/3/5", "/waku/2/rs/3/6", "/waku/2/rs/3/7", "/waku/2/rs/3/8"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58898/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/2", "/waku/2/rs/3/3", "/waku/2/rs/3/4", "/waku/2/rs/3/5", "/waku/2/rs/3/6", "/waku/2/rs/3/7", "/waku/2/rs/3/8"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:52 Running test with pubsub topic /waku/2/rs/3/0
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1532/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1532/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x9b203d8438874bd61147583b62ca6b387f641f53973d236a3027997e492f238b"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58898/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"5b1def7c7aba0dba00a14b4115a2c3c114a58e5793a7b5d58a8a691442d74bcb","status_code":200,"status_desc":"OK","messages":[{"message_hash":"myA9hDiHS9YRR1g7YsprOH9kH1OXPSNqMCeZfkkvI4s="}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:57 PubsubTopic pubsub_topic failed: Message hash at index -1 returned by store doesn't match the computed message hash 0x9b203d8438874bd61147583b62ca6b387f641f53973d236a3027997e492f238b. Actual hash: myA9hDiHS9YRR1g7YsprOH9kH1OXPSNqMCeZfkkvI4s=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:52 Running test with pubsub topic /waku/2/rs/3/1
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1532/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1532/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F1&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x6706c4f581c6377c9040c5079ee3019ac9d83c7a780efa328c876eac83247d32"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58898/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F1&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"ea51d156ecceb6cfa455cff589dbadbeaf0f863d7c1ba7576c11d0613543340a","status_code":200,"status_desc":"OK","messages":[{"message_hash":"ZwbE9YHGN3yQQMUHnuMBmsnYPHp4DvoyjIdurIMkfTI="}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:57 PubsubTopic pubsub_topic failed: Message hash at index -1 returned by store doesn't match the computed message hash 0x6706c4f581c6377c9040c5079ee3019ac9d83c7a780efa328c876eac83247d32. Actual hash: ZwbE9YHGN3yQQMUHnuMBmsnYPHp4DvoyjIdurIMkfTI=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:52 Running test with pubsub topic /waku/2/rs/3/2
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1532/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F2" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1532/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F2&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xe5610db26f7f8add6744c719506631056be381295f6c3fe1a72186ffe8fcca77"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58898/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F2&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"d5a027a14f583b4433b2f04b34a28e4ebdcc8ae49633cd819a0dd794c87e8b23","status_code":200,"status_desc":"OK","messages":[{"message_hash":"5WENsm9/it1nRMcZUGYxBWvjgSlfbD/hpyGG/+j8ync="}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:57 PubsubTopic pubsub_topic failed: Message hash at index -1 returned by store doesn't match the computed message hash 0xe5610db26f7f8add6744c719506631056be381295f6c3fe1a72186ffe8fcca77. Actual hash: 5WENsm9/it1nRMcZUGYxBWvjgSlfbD/hpyGG/+j8ync=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:52 Running test with pubsub topic /waku/2/rs/3/3
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1532/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F3" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1532/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F3&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x0bb4da3b104bcbb4671ebbcf5e739d59e170933ae9959692c04d85043e2f35ba"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58898/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F3&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"8c2fc73d8d2f8bd9357e7601c731d4b266503ec268424210c626bfcd1c5a44d3","status_code":200,"status_desc":"OK","messages":[{"message_hash":"C7TaOxBLy7RnHrvPXnOdWeFwkzrplZaSwE2FBD4vNbo="}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:57 PubsubTopic pubsub_topic failed: Message hash at index -1 returned by store doesn't match the computed message hash 0x0bb4da3b104bcbb4671ebbcf5e739d59e170933ae9959692c04d85043e2f35ba. Actual hash: C7TaOxBLy7RnHrvPXnOdWeFwkzrplZaSwE2FBD4vNbo=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:52 Running test with pubsub topic /waku/2/rs/3/4
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1532/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F4" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1532/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F4&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x3f0b43b3ceb6a72a66aacbac4cee87c6fa5f5d92577913fc6efc0ddb51304491"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58898/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F4&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"1fbe35ec7507dbfcc07d7d05793c28b077f559725b1c56f54c3365a17b01d83f","status_code":200,"status_desc":"OK","messages":[{"message_hash":"PwtDs862pypmqsusTO6HxvpfXZJXeRP8bvwN21EwRJE="}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:57 PubsubTopic pubsub_topic failed: Message hash at index -1 returned by store doesn't match the computed message hash 0x3f0b43b3ceb6a72a66aacbac4cee87c6fa5f5d92577913fc6efc0ddb51304491. Actual hash: PwtDs862pypmqsusTO6HxvpfXZJXeRP8bvwN21EwRJE=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:52 Running test with pubsub topic /waku/2/rs/3/5
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1532/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F5" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1532/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F5&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x51c05ce8d8fac75a0d7d77ee1f4b5cf987118465841aef4b51e93799f42cee0e"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58898/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F5&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"d3489f6d2410b811b461c4c81b50160746d1c25819a8c4d6a18968db946e1e61","status_code":200,"status_desc":"OK","messages":[{"message_hash":"UcBc6Nj6x1oNfXfuH0tc+YcRhGWEGu9LUek3mfQs7g4="}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:57 PubsubTopic pubsub_topic failed: Message hash at index -1 returned by store doesn't match the computed message hash 0x51c05ce8d8fac75a0d7d77ee1f4b5cf987118465841aef4b51e93799f42cee0e. Actual hash: UcBc6Nj6x1oNfXfuH0tc+YcRhGWEGu9LUek3mfQs7g4=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:52 Running test with pubsub topic /waku/2/rs/3/6
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1532/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F6" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1532/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F6&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x3ef86ca8f0cb6b0477ada86ce57048d5ffc553e15c8cc95fd190a376f44deb21"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58898/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F6&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"a59eba7556ae4fc566c3119f22e9259a654a07a55027db60ddb9169849624a64","status_code":200,"status_desc":"OK","messages":[{"message_hash":"PvhsqPDLawR3rahs5XBI1f/FU+FcjMlf0ZCjdvRN6yE="}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:57 PubsubTopic pubsub_topic failed: Message hash at index -1 returned by store doesn't match the computed message hash 0x3ef86ca8f0cb6b0477ada86ce57048d5ffc553e15c8cc95fd190a376f44deb21. Actual hash: PvhsqPDLawR3rahs5XBI1f/FU+FcjMlf0ZCjdvRN6yE=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:52 Running test with pubsub topic /waku/2/rs/3/7
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1532/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F7" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1532/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F7&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x69e1485173fcb8707ed3d40bf5db25feabc2f2673ff3b23f5a2b4a1827c36055"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58898/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F7&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"a2c813e089daac752d76ebe280b7e4f60885c299dee210a7cea03d4f5605c5a5","status_code":200,"status_desc":"OK","messages":[{"message_hash":"aeFIUXP8uHB+09QL9dsl/qvC8mc/87I/WitKGCfDYFU="}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:57 PubsubTopic pubsub_topic failed: Message hash at index -1 returned by store doesn't match the computed message hash 0x69e1485173fcb8707ed3d40bf5db25feabc2f2673ff3b23f5a2b4a1827c36055. Actual hash: aeFIUXP8uHB+09QL9dsl/qvC8mc/87I/WitKGCfDYFU=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:52 Running test with pubsub topic /waku/2/rs/3/8
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1532/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F8" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1532/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F8&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xbc9bf4c1ef3f6aa452f12f3c14413c93705bbdfe108f664f6530895c9682dc71"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58898/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F8&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"bb836947ad28e9bc0447fdf9ba0ee847edd357d74eb6a00929d7a14b70d27f49","status_code":200,"status_desc":"OK","messages":[{"message_hash":"vJv0we8/aqRS8S88FEE8k3Bbvf4Qj2ZPZTCJXJaC3HE="}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:57 PubsubTopic pubsub_topic failed: Message hash at index -1 returned by store doesn't match the computed message hash 0xbc9bf4c1ef3f6aa452f12f3c14413c93705bbdfe108f664f6530895c9682dc71. Actual hash: vJv0we8/aqRS8S88FEE8k3Bbvf4Qj2ZPZTCJXJaC3HE=
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 913ce5f88148
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 9db6ec1e1e46
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 913ce5f88148. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:42 Attaching file ./log/docker/store_node1_2025-02-02_03-07-20__b7de9016-8969-4e46-af50-0d41a8be568a__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:42 Attaching file ./log/docker/publishing_node1_2025-02-02_03-07-20__b7de9016-8969-4e46-af50-0d41a8be568a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_get_store_messages_with_different_pubsub_topics with id: 2025-02-02_03-07-38__38258236-c721-47da-9f3f-32ad0e06b8e9
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-02_03-07-38__38258236-c721-47da-9f3f-32ad0e06b8e9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.161.71
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['54313', '54314', '54315', '54316', '54317']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 54313:54313 -p 54314:54314 -p 54315:54315 -p 54316:54316 -p 54317:54317 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=54315 --rest-port=54313 --tcp-port=54314 --discv5-udp-port=54316 --rest-address=0.0.0.0 --nat=extip:172.18.161.71 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3e9f1f6aeacb24adaaaecf8c749e8b0d1c1f4ad5391e3be55b44fbde4b9659cc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=54317 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.160.61
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['65323', '65324', '65325', '65326', '65327']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 65323:65323 -p 65324:65324 -p 65325:65325 -p 65326:65326 -p 65327:65327 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=65325 --rest-port=65323 --tcp-port=65324 --discv5-udp-port=65326 --rest-address=0.0.0.0 --nat=extip:172.18.160.61 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d0accf19bd39673fb9e9b3f3a2e526ef721e17a314efd02e7ff21df9eecc9a6a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=65327 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.160.61 waku 1dd48601ae8d3d2a953ec05b8ef1433053e29ff3d1a4a3e78a20e6baa0593992
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 1dd48601ae8d. Setting up logs at ./log/docker/publishing_node1_2025-02-02_03-07-38__38258236-c721-47da-9f3f-32ad0e06b8e9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 65323
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 9db6ec1e1e46. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:65323/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:65323/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.160.61/tcp/65324/p2p/16Uiu2HAmGzywASH8Y8RuVefu2DsTL77tS5YZrXxvoGFbEGHHfZ6a","/ip4/172.18.160.61/tcp/65325/ws/p2p/16Uiu2HAmGzywASH8Y8RuVefu2DsTL77tS5YZrXxvoGFbEGHHfZ6a"],"enrUri":"enr:-L24QOi8dgYuPVSsYwSkRsMg_8yX7pvvV67Ygk44F3-GZbdGFUk49Y0pd7xpOlk_3zT_-XPFvQN15c4g2v3lXGhuWN8CgmlkgnY0gmlwhKwSoD2KbXVsdGlhZGRyc5YACASsEqA9Bv8sAAoErBKgPQb_Ld0DgnJzhQADAQAAiXNlY3AyNTZrMaEDQI3kv20UPieM5Ce2ip-dhLvVb8wT-Y1qn4zFZShxYvODdGNwgv8sg3VkcIL_LoV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-02_03-07-38__38258236-c721-47da-9f3f-32ad0e06b8e9__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.219.136
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['10303', '10304', '10305', '10306', '10307']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 10303:10303 -p 10304:10304 -p 10305:10305 -p 10306:10306 -p 10307:10307 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=10305 --rest-port=10303 --tcp-port=10304 --discv5-udp-port=10306 --rest-address=0.0.0.0 --nat=extip:172.18.219.136 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=85f6ba2e8bcf2ccdaf29ea3908277513bdd82521bc360aad775c9866a6e1c674 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-L24QOi8dgYuPVSsYwSkRsMg_8yX7pvvV67Ygk44F3-GZbdGFUk49Y0pd7xpOlk_3zT_-XPFvQN15c4g2v3lXGhuWN8CgmlkgnY0gmlwhKwSoD2KbXVsdGlhZGRyc5YACASsEqA9Bv8sAAoErBKgPQb_Ld0DgnJzhQADAQAAiXNlY3AyNTZrMaEDQI3kv20UPieM5Ce2ip-dhLvVb8wT-Y1qn4zFZShxYvODdGNwgv8sg3VkcIL_LoV3YWt1MgM --storenode=/ip4/172.18.160.61/tcp/65324/p2p/16Uiu2HAmGzywASH8Y8RuVefu2DsTL77tS5YZrXxvoGFbEGHHfZ6a --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.219.136 waku 16a9c7a984fd02aa75ad8fcd255cf51d6b3f4b40c6abe3b8b55521a55ff4886d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 16a9c7a984fd. Setting up logs at ./log/docker/store_node1_2025-02-02_03-07-38__38258236-c721-47da-9f3f-32ad0e06b8e9__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 10303
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10303/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QH1hrKr2t64DRCUuJYi_0YZNBux-ZF_Jsd8L1lRfw0AYX-mc-A9JwwgYskhjei7KcOl0sdsSfd2R_V9zswwyq12GAZTEoM1ugmlkgnY0gmlwhKwRAAOCcnODAAMAiXNlY3AyNTZrMaEC5edCCzKsao8Omzci-IOeW6b24YVwC5GiMpC45IQeN62DdGNwgihAg3VkcIIoQoV3YWt1MgM","listenAddresses":["/ip4/127.0.0.1/tcp/10304/p2p/16Uiu2HAmAu7sKxb8bUt9PdNeHyRfLy9AEfG89KTTXHs7cHanPvyi","/ip4/127.0.0.1/tcp/10305/ws/p2p/16Uiu2HAmAu7sKxb8bUt9PdNeHyRfLy9AEfG89KTTXHs7cHanPvyi","/ip4/172.17.0.3/tcp/10304/p2p/16Uiu2HAmAu7sKxb8bUt9PdNeHyRfLy9AEfG89KTTXHs7cHanPvyi","/ip4/172.17.0.3/tcp/10305/ws/p2p/16Uiu2HAmAu7sKxb8bUt9PdNeHyRfLy9AEfG89KTTXHs7cHanPvyi"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10303/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.160.61/tcp/65324/p2p/16Uiu2HAmGzywASH8Y8RuVefu2DsTL77tS5YZrXxvoGFbEGHHfZ6a", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:65323/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10303/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:65323/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/2", "/waku/2/rs/3/3", "/waku/2/rs/3/4", "/waku/2/rs/3/5", "/waku/2/rs/3/6", "/waku/2/rs/3/7", "/waku/2/rs/3/8"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10303/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/2", "/waku/2/rs/3/3", "/waku/2/rs/3/4", "/waku/2/rs/3/5", "/waku/2/rs/3/6", "/waku/2/rs/3/7", "/waku/2/rs/3/8"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:52 Running test with pubsub topic /waku/2/rs/3/0
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:65323/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:65323/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x8d5a5b2b9fcc69afbaf5b0f517d961f6e60fb17c6f786a2234d163bffb418cba"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10303/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"737b918f8849a8e0c7f3fda759edc982c6daff2c54a36acae7367a5a1b8cd255","status_code":200,"status_desc":"OK","messages":[{"message_hash":"jVpbK5/Maa+69bD1F9lh9uYPsXxveGoiNNFjv/tBjLo="}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:57 PubsubTopic pubsub_topic failed: Message hash at index -1 returned by store doesn't match the computed message hash 0x8d5a5b2b9fcc69afbaf5b0f517d961f6e60fb17c6f786a2234d163bffb418cba. Actual hash: jVpbK5/Maa+69bD1F9lh9uYPsXxveGoiNNFjv/tBjLo=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:52 Running test with pubsub topic /waku/2/rs/3/1
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:65323/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:65323/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F1&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x764c221f29cfff9eff00e8e5baee415ab7d943ed5d59c476b03935039b3338a8"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10303/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F1&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"716e1bae3b1563ed816133702db9aea2a4c583de4c3d2f554bb625220bb56bf2","status_code":200,"status_desc":"OK","messages":[{"message_hash":"dkwiHynP/57/AOjluu5BWrfZQ+1dWcR2sDk1A5szOKg="}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:57 PubsubTopic pubsub_topic failed: Message hash at index -1 returned by store doesn't match the computed message hash 0x764c221f29cfff9eff00e8e5baee415ab7d943ed5d59c476b03935039b3338a8. Actual hash: dkwiHynP/57/AOjluu5BWrfZQ+1dWcR2sDk1A5szOKg=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:52 Running test with pubsub topic /waku/2/rs/3/2
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:65323/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F2" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:65323/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F2&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x22af43ed671403b06a8df4ccd7f42e2076f07d7c81eca6ec9f9ccfbffb70816c"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10303/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F2&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"b5b14d416c9e230a8ad8bf890cd56818be0aba43a0b9541dd738e4b25c51226d","status_code":200,"status_desc":"OK","messages":[{"message_hash":"Iq9D7WcUA7BqjfTM1/QuIHbwfXyB7Kbsn5zPv/twgWw="}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:57 PubsubTopic pubsub_topic failed: Message hash at index -1 returned by store doesn't match the computed message hash 0x22af43ed671403b06a8df4ccd7f42e2076f07d7c81eca6ec9f9ccfbffb70816c. Actual hash: Iq9D7WcUA7BqjfTM1/QuIHbwfXyB7Kbsn5zPv/twgWw=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:52 Running test with pubsub topic /waku/2/rs/3/3
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:65323/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F3" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:65323/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F3&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x8df03ef7a79775c6ff547fb4a1b6ed4d57a0b0a95efd7ccdc0f73fb06f0ddf8f"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10303/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F3&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"e0c53abc7ffc46f608450b8df22532bd1a2731ac965a58806fe1cf28b4bbf9e4","status_code":200,"status_desc":"OK","messages":[{"message_hash":"jfA+96eXdcb/VH+0obbtTVegsKle/XzNwPc/sG8N348="}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:57 PubsubTopic pubsub_topic failed: Message hash at index -1 returned by store doesn't match the computed message hash 0x8df03ef7a79775c6ff547fb4a1b6ed4d57a0b0a95efd7ccdc0f73fb06f0ddf8f. Actual hash: jfA+96eXdcb/VH+0obbtTVegsKle/XzNwPc/sG8N348=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:52 Running test with pubsub topic /waku/2/rs/3/4
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:65323/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F4" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:65323/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F4&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xa215dad06c9aba616d3d78a8836fd10d874a65e3ee4d8005b7b2aafce0820457"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10303/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F4&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"be73a5dd34a551764eae7d5fa5686e91d064e5f32bbf20284f0365d90fcb5d88","status_code":200,"status_desc":"OK","messages":[{"message_hash":"ohXa0GyaumFtPXiog2/RDYdKZePuTYAFt7Kq/OCCBFc="}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:57 PubsubTopic pubsub_topic failed: Message hash at index -1 returned by store doesn't match the computed message hash 0xa215dad06c9aba616d3d78a8836fd10d874a65e3ee4d8005b7b2aafce0820457. Actual hash: ohXa0GyaumFtPXiog2/RDYdKZePuTYAFt7Kq/OCCBFc=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:52 Running test with pubsub topic /waku/2/rs/3/5
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:65323/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F5" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:65323/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F5&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xd1407e69a8d40ccf9818a1d9b4889ff1cddc6e60f924e552ec45c7f2597c0097"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10303/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F5&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"92ff959a35cd0649b2e4fd4b72c0aa0bbdbd4f0bd6a198fb51b0832ff45ad311","status_code":200,"status_desc":"OK","messages":[{"message_hash":"0UB+aajUDM+YGKHZtIif8c3cbmD5JOVS7EXH8ll8AJc="}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:57 PubsubTopic pubsub_topic failed: Message hash at index -1 returned by store doesn't match the computed message hash 0xd1407e69a8d40ccf9818a1d9b4889ff1cddc6e60f924e552ec45c7f2597c0097. Actual hash: 0UB+aajUDM+YGKHZtIif8c3cbmD5JOVS7EXH8ll8AJc=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:52 Running test with pubsub topic /waku/2/rs/3/6
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:65323/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F6" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:65323/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F6&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x53289ed7290e4527a4b05c85bea9190153fa869d9c21c507b05847ffb705f79a"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10303/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F6&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"b145ce268dff587b77fbd8cb189c6f3dc0cbac90361f1a3bcdc418c1303aa268","status_code":200,"status_desc":"OK","messages":[{"message_hash":"Uyie1ykORSeksFyFvqkZAVP6hp2cIcUHsFhH/7cF95o="}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:57 PubsubTopic pubsub_topic failed: Message hash at index -1 returned by store doesn't match the computed message hash 0x53289ed7290e4527a4b05c85bea9190153fa869d9c21c507b05847ffb705f79a. Actual hash: Uyie1ykORSeksFyFvqkZAVP6hp2cIcUHsFhH/7cF95o=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:52 Running test with pubsub topic /waku/2/rs/3/7
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:65323/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F7" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:65323/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F7&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xe966a35128c0c4a6dcac2b68e92711c2b9c163d6a8d7ee2e46838cb7e96db663"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10303/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F7&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"b29d2be357a13cd9e1f3e180410f348638fe5c30687eee2422c899827e32d02f","status_code":200,"status_desc":"OK","messages":[{"message_hash":"6WajUSjAxKbcrCto6ScRwrnBY9ao1+4uRoOMt+lttmM="}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:57 PubsubTopic pubsub_topic failed: Message hash at index -1 returned by store doesn't match the computed message hash 0xe966a35128c0c4a6dcac2b68e92711c2b9c163d6a8d7ee2e46838cb7e96db663. Actual hash: 6WajUSjAxKbcrCto6ScRwrnBY9ao1+4uRoOMt+lttmM=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:52 Running test with pubsub topic /waku/2/rs/3/8
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:65323/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F8" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:65323/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F8&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xeaf4a4c7be63aea162f1e2b07ce8d9eb719318a2106887f7157980c5c041ff44"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10303/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F8&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"71f0d23d2ca694ab61de92ae5441957f8f9a67472bd69ca63b6d23252a57e607","status_code":200,"status_desc":"OK","messages":[{"message_hash":"6vSkx75jrqFi8eKwfOjZ63GTGKIQaIf3FXmAxcBB/0Q="}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:57 PubsubTopic pubsub_topic failed: Message hash at index -1 returned by store doesn't match the computed message hash 0xeaf4a4c7be63aea162f1e2b07ce8d9eb719318a2106887f7157980c5c041ff44. Actual hash: 6vSkx75jrqFi8eKwfOjZ63GTGKIQaIf3FXmAxcBB/0Q=
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 1dd48601ae8d
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 16a9c7a984fd
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 1dd48601ae8d. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:42 Attaching file ./log/docker/store_node1_2025-02-02_03-07-38__38258236-c721-47da-9f3f-32ad0e06b8e9__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:42 Attaching file ./log/docker/publishing_node1_2025-02-02_03-07-38__38258236-c721-47da-9f3f-32ad0e06b8e9__wakuorg_nwaku:latest.log