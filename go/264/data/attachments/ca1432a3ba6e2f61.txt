[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_pubsub_topic with id: 2024-09-01_03-26-18__d7bb16bd-61f4-48bb-9cc0-2c424c430a1b
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-09-01_03-26-18__d7bb16bd-61f4-48bb-9cc0-2c424c430a1b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.137.241
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['6126', '6127', '6128', '6129', '6130']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 6126:6126 -p 6127:6127 -p 6128:6128 -p 6129:6129 -p 6130:6130 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=6128 --rest-port=6126 --tcp-port=6127 --discv5-udp-port=6129 --rest-address=0.0.0.0 --nat=extip:172.18.137.241 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=be4c98e6b1f8f0b73ceaaac3c8e0d71daff9e32d0fca9e1c2b60d3aec1d9a812 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=6130 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.137.241 waku fa826c93f1e46c4e89c4e70634e798b02468a7dff3a6dd2fe5b0b8a311e2acf2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID fa826c93f1e4. Setting up logs at ./log/docker/node1_2024-09-01_03-26-18__d7bb16bd-61f4-48bb-9cc0-2c424c430a1b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 6126
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6126/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6126/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.137.241/tcp/6127/p2p/16Uiu2HAmBWGu9TM9NTuxYV3Fo2ZHPvVQzSYSAhmNr1xPGSXJfwEe","/ip4/172.18.137.241/tcp/6128/ws/p2p/16Uiu2HAmBWGu9TM9NTuxYV3Fo2ZHPvVQzSYSAhmNr1xPGSXJfwEe"],"enrUri":"enr:-LO4QOVKIdqvDAqw4ZjUZbOc3kLgKqVOSS2WcROPvaWB6TVtNBUJkbavUUtrQGL6TCWoyp-xbCmUafXGMbisDDbCd1MBgmlkgnY0gmlwhKwSifGKbXVsdGlhZGRyc4wACgSsEonxBhfw3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLu6MxPy3MPmcsCYcAD8Ma7kIdC6wzhFusFnElWvR1vL4N0Y3CCF--DdWRwghfxhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-09-01_03-26-18__d7bb16bd-61f4-48bb-9cc0-2c424c430a1b__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.205.244
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['2344', '2345', '2346', '2347', '2348']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 2344:2344 -p 2345:2345 -p 2346:2346 -p 2347:2347 -p 2348:2348 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=2346 --rest-port=2344 --tcp-port=2345 --discv5-udp-port=2347 --rest-address=0.0.0.0 --nat=extip:172.18.205.244 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bdbdfd1c2f32da761dcdcfaf06a8c176dea7cfb1a41aee6aaedc528afbe34fd0 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-LO4QOVKIdqvDAqw4ZjUZbOc3kLgKqVOSS2WcROPvaWB6TVtNBUJkbavUUtrQGL6TCWoyp-xbCmUafXGMbisDDbCd1MBgmlkgnY0gmlwhKwSifGKbXVsdGlhZGRyc4wACgSsEonxBhfw3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLu6MxPy3MPmcsCYcAD8Ma7kIdC6wzhFusFnElWvR1vL4N0Y3CCF--DdWRwghfxhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.205.244 waku e313b7651df916805c95864db31c9b55fb718a4640ab1b3675caca4ef0a63f4e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID e313b7651df9. Setting up logs at ./log/docker/node2_2024-09-01_03-26-18__d7bb16bd-61f4-48bb-9cc0-2c424c430a1b__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 2344
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2344/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QBPO-M0zz21lQKvMM3MRyTX3evTKSIUzC4HmVV0nAtPUDHI3LUe0v2KN16zkAnETSNsEiJ9j1TX-94WZ-UlQgJiGAZGrnozrgmlkgnY0gmlwhKwRAAmJc2VjcDI1NmsxoQJyO2UC45SVM6EKR95EAkKzdAMDg4ZOdIR1jrg14VxA54N0Y3CCCSmDdWRwggkrhXdha3UyAQ","listenAddresses":["/ip4/127.0.0.1/tcp/2345/p2p/16Uiu2HAm37azAXyuXxpnLBo95Byw5EocwLyCQG3KTe6SsnNVe5sU","/ip4/127.0.0.1/tcp/2346/ws/p2p/16Uiu2HAm37azAXyuXxpnLBo95Byw5EocwLyCQG3KTe6SsnNVe5sU","/ip4/172.17.0.9/tcp/2345/p2p/16Uiu2HAm37azAXyuXxpnLBo95Byw5EocwLyCQG3KTe6SsnNVe5sU","/ip4/172.17.0.9/tcp/2346/ws/p2p/16Uiu2HAm37azAXyuXxpnLBo95Byw5EocwLyCQG3KTe6SsnNVe5sU"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2344/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.137.241/tcp/6127/p2p/16Uiu2HAmBWGu9TM9NTuxYV3Fo2ZHPvVQzSYSAhmNr1xPGSXJfwEe", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-09-01_03-26-18__d7bb16bd-61f4-48bb-9cc0-2c424c430a1b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.150.152
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['4035', '4036', '4037', '4038', '4039']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 4035:4035 -p 4036:4036 -p 4037:4037 -p 4038:4038 -p 4039:4039 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=4037 --rest-port=4035 --tcp-port=4036 --discv5-udp-port=4038 --rest-address=0.0.0.0 --nat=extip:172.18.150.152 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8aa6f85a6c1778eab7c29ad6c3d04fceac3c26f375de3b5b64d188d5dfdffa5f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=4039 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QOVKIdqvDAqw4ZjUZbOc3kLgKqVOSS2WcROPvaWB6TVtNBUJkbavUUtrQGL6TCWoyp-xbCmUafXGMbisDDbCd1MBgmlkgnY0gmlwhKwSifGKbXVsdGlhZGRyc4wACgSsEonxBhfw3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLu6MxPy3MPmcsCYcAD8Ma7kIdC6wzhFusFnElWvR1vL4N0Y3CCF--DdWRwghfxhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.150.152 waku d407a7c657657a5ae9eb2f63b20a3c631b1c12f7249476c83d4922cc843aa10c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID d407a7c65765. Setting up logs at ./log/docker/node3_2024-09-01_03-26-18__d7bb16bd-61f4-48bb-9cc0-2c424c430a1b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 4035
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4035/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4035/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.150.152/tcp/4036/p2p/16Uiu2HAkvEFW5DWRCGkW7soBffLJBpPVjSwLeAsWus2M2ZvLPE2M","/ip4/172.18.150.152/tcp/4037/ws/p2p/16Uiu2HAkvEFW5DWRCGkW7soBffLJBpPVjSwLeAsWus2M2ZvLPE2M"],"enrUri":"enr:-LO4QFd-ogHk22519h0dvHLVlnAcYhCbAHpAe_4tDT2WDQZtYZM0DecHk-yHxpAiBfJ29VPM2p5T473YgQyFfzPz3VEBgmlkgnY0gmlwhKwSlpiKbXVsdGlhZGRyc4wACgSsEpaYBg_F3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIL7p7o53WYFLpc0-W7my28pOdzY3E_vG_RWDDliJ-VYoN0Y3CCD8SDdWRwgg_GhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4035/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.137.241/tcp/6127/p2p/16Uiu2HAmBWGu9TM9NTuxYV3Fo2ZHPvVQzSYSAhmNr1xPGSXJfwEe"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-09-01_03-26-18__d7bb16bd-61f4-48bb-9cc0-2c424c430a1b__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.112.189
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['6123', '6124', '6125', '6126', '6127']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 6123:6123 -p 6124:6124 -p 6125:6125 -p 6126:6126 -p 6127:6127 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=6125 --rest-port=6123 --tcp-port=6124 --discv5-udp-port=6126 --rest-address=0.0.0.0 --nat=extip:172.18.112.189 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1cadafbdbc7a0bc6b49dfd7b84e2f3aedfa08afd0b74c152ea7f3dcb5babb353 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-LO4QOVKIdqvDAqw4ZjUZbOc3kLgKqVOSS2WcROPvaWB6TVtNBUJkbavUUtrQGL6TCWoyp-xbCmUafXGMbisDDbCd1MBgmlkgnY0gmlwhKwSifGKbXVsdGlhZGRyc4wACgSsEonxBhfw3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLu6MxPy3MPmcsCYcAD8Ma7kIdC6wzhFusFnElWvR1vL4N0Y3CCF--DdWRwghfxhXdha3UyAQ
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.85.167
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['64758', '64759', '64760', '64761', '64762']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 64758:64758 -p 64759:64759 -p 64760:64760 -p 64761:64761 -p 64762:64762 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=64760 --rest-port=64758 --tcp-port=64759 --discv5-udp-port=64761 --rest-address=0.0.0.0 --nat=extip:172.18.85.167 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=869e807fcff5b0eafdcab97adc43a99eeb3b75d7b1890e275fafef7eb51abb39 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-LO4QOVKIdqvDAqw4ZjUZbOc3kLgKqVOSS2WcROPvaWB6TVtNBUJkbavUUtrQGL6TCWoyp-xbCmUafXGMbisDDbCd1MBgmlkgnY0gmlwhKwSifGKbXVsdGlhZGRyc4wACgSsEonxBhfw3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLu6MxPy3MPmcsCYcAD8Ma7kIdC6wzhFusFnElWvR1vL4N0Y3CCF--DdWRwghfxhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.85.167 waku e68815e4302ef1e86f117e266d1554106d594e8d8f95a47836411b22751dbdc6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID e68815e4302e. Setting up logs at ./log/docker/node4_2024-09-01_03-26-18__d7bb16bd-61f4-48bb-9cc0-2c424c430a1b__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 64758
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64758/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QMv6VkzW0pIICDMYvdrvu4RwfDX7BhVuTGOCUWns14LgfjnsHD7zjdfkw2yF1bctMNCMXbrrujTuoguXmb56LBeGAZGrnpptgmlkgnY0gmlwhKwRAAaJc2VjcDI1NmsxoQKJgLRKTMvu3V4soEKNYG5MMokYtrrkg-cpBlKWnv9GQYN0Y3CC_PeDdWRwgvz5hXdha3UyAQ","listenAddresses":["/ip4/127.0.0.1/tcp/64759/p2p/16Uiu2HAm4gRfJqvR8PVX8KfLh8iMgRRRsJ91KFFMPBTHyS6xfN7r","/ip4/127.0.0.1/tcp/64760/ws/p2p/16Uiu2HAm4gRfJqvR8PVX8KfLh8iMgRRRsJ91KFFMPBTHyS6xfN7r","/ip4/172.17.0.6/tcp/64759/p2p/16Uiu2HAm4gRfJqvR8PVX8KfLh8iMgRRRsJ91KFFMPBTHyS6xfN7r","/ip4/172.17.0.6/tcp/64760/ws/p2p/16Uiu2HAm4gRfJqvR8PVX8KfLh8iMgRRRsJ91KFFMPBTHyS6xfN7r"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:64758/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.137.241/tcp/6127/p2p/16Uiu2HAmBWGu9TM9NTuxYV3Fo2ZHPvVQzSYSAhmNr1xPGSXJfwEe", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-09-01_03-26-18__d7bb16bd-61f4-48bb-9cc0-2c424c430a1b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.82.147
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['30065', '30066', '30067', '30068', '30069']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 30065:30065 -p 30066:30066 -p 30067:30067 -p 30068:30068 -p 30069:30069 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=30067 --rest-port=30065 --tcp-port=30066 --discv5-udp-port=30068 --rest-address=0.0.0.0 --nat=extip:172.18.82.147 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0cbe0994cec999674d3aebc3c0760ac012bf27c6e02f25e51d912f6cee9efe3b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=30069 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QOVKIdqvDAqw4ZjUZbOc3kLgKqVOSS2WcROPvaWB6TVtNBUJkbavUUtrQGL6TCWoyp-xbCmUafXGMbisDDbCd1MBgmlkgnY0gmlwhKwSifGKbXVsdGlhZGRyc4wACgSsEonxBhfw3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLu6MxPy3MPmcsCYcAD8Ma7kIdC6wzhFusFnElWvR1vL4N0Y3CCF--DdWRwghfxhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.82.147 waku c23a725b8a550fa9f6e9f758ad53da41f9159e170a2a48dc0409dc071b072a94
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID c23a725b8a55. Setting up logs at ./log/docker/node5_2024-09-01_03-26-18__d7bb16bd-61f4-48bb-9cc0-2c424c430a1b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 30065
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30065/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30065/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.82.147/tcp/30066/p2p/16Uiu2HAkzot9PfGMusZZ4BJRveMXKPjW4hYPpsHiDnaoK8G3Y7qv","/ip4/172.18.82.147/tcp/30067/ws/p2p/16Uiu2HAkzot9PfGMusZZ4BJRveMXKPjW4hYPpsHiDnaoK8G3Y7qv"],"enrUri":"enr:-LO4QKKRHJaH96Ebbv-CXgx8OHB1rrVJJD2JqAwKWLIulCMeN7YBG9KUcmLc_bU8nSMoEETE3Jp2s9FAePZj-AzZzq8BgmlkgnY0gmlwhKwSUpOKbXVsdGlhZGRyc4wACgSsElKTBnVz3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJP-vfN85GpkEHTrqACj9qKF9RiphqsELRFUKDUzCUYBYN0Y3CCdXKDdWRwgnV0hXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30065/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.137.241/tcp/6127/p2p/16Uiu2HAmBWGu9TM9NTuxYV3Fo2ZHPvVQzSYSAhmNr1xPGSXJfwEe"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6126/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2344/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6126/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6126/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1725161186407847936,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2344/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6126/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6126/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1725161187526046464,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2344/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1725161187526046464,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6126/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4035/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:4035/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1. Response content: b''
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id fa826c93f1e4
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id e313b7651df9
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id d407a7c65765
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id e68815e4302e
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id c23a725b8a55
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.