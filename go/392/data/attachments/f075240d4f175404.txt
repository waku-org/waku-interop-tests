[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2024-12-12_09-01-23__f142fab5-dafd-4b4c-aeb5-5a944fe442ec
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-12_09-01-23__f142fab5-dafd-4b4c-aeb5-5a944fe442ec__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.206.233
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['36433', '36434', '36435', '36436', '36437']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 36433:36433 -p 36434:36434 -p 36435:36435 -p 36436:36436 -p 36437:36437 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=36435 --rest-port=36433 --tcp-port=36434 --discv5-udp-port=36436 --rest-address=0.0.0.0 --nat=extip:172.18.206.233 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cc7eee4fd6eded33c99d9c6868fec1fe3b5bb0410b1a5f92e8aa76385d181bed --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=36437 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.206.233 waku 2f0d8eee82495906c054de5fb1c318e7edcbd15b8d27b9579536851a4ef5e398
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 2f0d8eee8249. Setting up logs at ./log/docker/node1_2024-12-12_09-01-23__f142fab5-dafd-4b4c-aeb5-5a944fe442ec__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 36433
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 788401cb2310. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36433/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36433/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.206.233/tcp/36434/p2p/16Uiu2HAkvRP6xxGsGztqgPNoqTKE6tR21iE6qzhRdAeC2meAdnDJ","/ip4/172.18.206.233/tcp/36435/ws/p2p/16Uiu2HAkvRP6xxGsGztqgPNoqTKE6tR21iE6qzhRdAeC2meAdnDJ"],"enrUri":"enr:-L24QAbXkrq91X2eUPoBV0OL1JQoPqpyVlTZHbkQFzSdBdkaAFniTz2DcTZKDjRrjb3v-qrH5W6ASM-3DEw3ZUUvePECgmlkgnY0gmlwhKwSzumKbXVsdGlhZGRyc5YACASsEs7pBo5SAAoErBLO6QaOU90DgnJzhQADAQAAiXNlY3AyNTZrMaECDsia0wdRR9FXcaD241Ys3-h2vWcZCr8fTIh_0-QUQ-2DdGNwgo5Sg3VkcIKOVIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-12_09-01-23__f142fab5-dafd-4b4c-aeb5-5a944fe442ec__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.143.157
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['43668', '43669', '43670', '43671', '43672']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 43668:43668 -p 43669:43669 -p 43670:43670 -p 43671:43671 -p 43672:43672 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=43670 --rest-port=43668 --tcp-port=43669 --discv5-udp-port=43671 --rest-address=0.0.0.0 --nat=extip:172.18.143.157 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c553a3cd4ffecfb04f7bbcfd10e6ccaee540f7090fe8cd18f81db24fb48c77b2 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-L24QAbXkrq91X2eUPoBV0OL1JQoPqpyVlTZHbkQFzSdBdkaAFniTz2DcTZKDjRrjb3v-qrH5W6ASM-3DEw3ZUUvePECgmlkgnY0gmlwhKwSzumKbXVsdGlhZGRyc5YACASsEs7pBo5SAAoErBLO6QaOU90DgnJzhQADAQAAiXNlY3AyNTZrMaECDsia0wdRR9FXcaD241Ys3-h2vWcZCr8fTIh_0-QUQ-2DdGNwgo5Sg3VkcIKOVIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.143.157 waku 88dbe6d7da43bb719e538f6cd5774566af20a88a792c8d80c6844c0473305b4f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 88dbe6d7da43. Setting up logs at ./log/docker/node2_2024-12-12_09-01-23__f142fab5-dafd-4b4c-aeb5-5a944fe442ec__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 43668
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43668/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QBCu3TDpkz8oX9xb0iIwSZD-XtPWeXJEO__Rclij_4AeabDu07xn4riIN9rqjT6-mybZwHhR3H2CRzkA5DM-esiGAZO6Gf2wgmlkgnY0gmlwhKwRAAmCcnODAAMAiXNlY3AyNTZrMaECMqx4QD-tmLQO7MGMQtnAZHcymFUekZDu6_KVtofIC1eDdGNwgqqVg3VkcIKql4V3YWt1MgE","listenAddresses":["/ip4/127.0.0.1/tcp/43669/p2p/16Uiu2HAkxqUu36t8hnxMVT3xGvAUsXbrVaSSrMnNqFb6qeGaa2s8","/ip4/127.0.0.1/tcp/43670/ws/p2p/16Uiu2HAkxqUu36t8hnxMVT3xGvAUsXbrVaSSrMnNqFb6qeGaa2s8","/ip4/172.17.0.9/tcp/43669/p2p/16Uiu2HAkxqUu36t8hnxMVT3xGvAUsXbrVaSSrMnNqFb6qeGaa2s8","/ip4/172.17.0.9/tcp/43670/ws/p2p/16Uiu2HAkxqUu36t8hnxMVT3xGvAUsXbrVaSSrMnNqFb6qeGaa2s8"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43668/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.206.233/tcp/36434/p2p/16Uiu2HAkvRP6xxGsGztqgPNoqTKE6tR21iE6qzhRdAeC2meAdnDJ", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-12-12_09-01-23__f142fab5-dafd-4b4c-aeb5-5a944fe442ec__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.149.130
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['23753', '23754', '23755', '23756', '23757']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 23753:23753 -p 23754:23754 -p 23755:23755 -p 23756:23756 -p 23757:23757 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=23755 --rest-port=23753 --tcp-port=23754 --discv5-udp-port=23756 --rest-address=0.0.0.0 --nat=extip:172.18.149.130 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=da0ebfb3ad2df60afffbc2c29ad43daafe9208b06eadfea8f27cce0cb9efafff --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=23757 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QAbXkrq91X2eUPoBV0OL1JQoPqpyVlTZHbkQFzSdBdkaAFniTz2DcTZKDjRrjb3v-qrH5W6ASM-3DEw3ZUUvePECgmlkgnY0gmlwhKwSzumKbXVsdGlhZGRyc5YACASsEs7pBo5SAAoErBLO6QaOU90DgnJzhQADAQAAiXNlY3AyNTZrMaECDsia0wdRR9FXcaD241Ys3-h2vWcZCr8fTIh_0-QUQ-2DdGNwgo5Sg3VkcIKOVIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.149.130 waku 92d464153de0193acd2670885d98ef9d707c6d8d18ede0a61ddeed92a75de835
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 92d464153de0. Setting up logs at ./log/docker/node3_2024-12-12_09-01-23__f142fab5-dafd-4b4c-aeb5-5a944fe442ec__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 23753
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23753/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23753/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.149.130/tcp/23754/p2p/16Uiu2HAmSW4vUbdVEJBASV7qnLuE9PVHDUjh3Y4KvUy9BbXwovWo","/ip4/172.18.149.130/tcp/23755/ws/p2p/16Uiu2HAmSW4vUbdVEJBASV7qnLuE9PVHDUjh3Y4KvUy9BbXwovWo"],"enrUri":"enr:-L24QCjpyAG_h-wBAL2tAkxSySUXb9NEaKO1wvwS-QQNvNUFACZgcT3hfjAaG2ItXl7F-RRGfwa7Z4JhBfImqUJ_B-UCgmlkgnY0gmlwhKwSlYKKbXVsdGlhZGRyc5YACASsEpWCBlzKAAoErBKVggZcy90DgnJzhQADAQAAiXNlY3AyNTZrMaEDzbqPOavKBkbAFzdjAlwAHHhhEZGS9DIMbudrRw08RgSDdGNwglzKg3VkcIJczIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23753/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.206.233/tcp/36434/p2p/16Uiu2HAkvRP6xxGsGztqgPNoqTKE6tR21iE6qzhRdAeC2meAdnDJ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-12-12_09-01-23__f142fab5-dafd-4b4c-aeb5-5a944fe442ec__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.235.155
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['32619', '32620', '32621', '32622', '32623']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 32619:32619 -p 32620:32620 -p 32621:32621 -p 32622:32622 -p 32623:32623 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=32621 --rest-port=32619 --tcp-port=32620 --discv5-udp-port=32622 --rest-address=0.0.0.0 --nat=extip:172.18.235.155 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b2f687aefbf4f666caffeeacaade8e93cb85ec354f17ff7edd4df46fd8a12b66 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-L24QAbXkrq91X2eUPoBV0OL1JQoPqpyVlTZHbkQFzSdBdkaAFniTz2DcTZKDjRrjb3v-qrH5W6ASM-3DEw3ZUUvePECgmlkgnY0gmlwhKwSzumKbXVsdGlhZGRyc5YACASsEs7pBo5SAAoErBLO6QaOU90DgnJzhQADAQAAiXNlY3AyNTZrMaECDsia0wdRR9FXcaD241Ys3-h2vWcZCr8fTIh_0-QUQ-2DdGNwgo5Sg3VkcIKOVIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.235.155 waku e02a8630c8ff4384c030d9b1e05d344e60ad6994590e466d84c0e44403dabac1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID e02a8630c8ff. Setting up logs at ./log/docker/node4_2024-12-12_09-01-23__f142fab5-dafd-4b4c-aeb5-5a944fe442ec__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 32619
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32619/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QE3Y54wMy29lzUgTK7oeXLyo7UDeXHYa7voIL17uL-GLckVep2pc9d-8aW88oiJQvlLH-i1ehnXHLanSNPoP786GAZO6GgxqgmlkgnY0gmlwhKwRAAeCcnODAAMAiXNlY3AyNTZrMaEDpIEIZJZBa4imZk85AwxhFkok3dOLhdtjAL1h3dIA_tWDdGNwgn9sg3VkcIJ_boV3YWt1MgE","listenAddresses":["/ip4/127.0.0.1/tcp/32620/p2p/16Uiu2HAmPj9L7R5xNrsSNvHt1CtW4sXYEhbrb7Nk785UJtp8xi7E","/ip4/127.0.0.1/tcp/32621/ws/p2p/16Uiu2HAmPj9L7R5xNrsSNvHt1CtW4sXYEhbrb7Nk785UJtp8xi7E","/ip4/172.17.0.7/tcp/32620/p2p/16Uiu2HAmPj9L7R5xNrsSNvHt1CtW4sXYEhbrb7Nk785UJtp8xi7E","/ip4/172.17.0.7/tcp/32621/ws/p2p/16Uiu2HAmPj9L7R5xNrsSNvHt1CtW4sXYEhbrb7Nk785UJtp8xi7E"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32619/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.206.233/tcp/36434/p2p/16Uiu2HAkvRP6xxGsGztqgPNoqTKE6tR21iE6qzhRdAeC2meAdnDJ", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-12-12_09-01-23__f142fab5-dafd-4b4c-aeb5-5a944fe442ec__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.195.61
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['2080', '2081', '2082', '2083', '2084']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 2080:2080 -p 2081:2081 -p 2082:2082 -p 2083:2083 -p 2084:2084 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=2082 --rest-port=2080 --tcp-port=2081 --discv5-udp-port=2083 --rest-address=0.0.0.0 --nat=extip:172.18.195.61 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dbcecd4f094755ce5c4cd4f0cf0c1377a072edd90ec9391b9ff7e22ca62ea375 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=2084 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QAbXkrq91X2eUPoBV0OL1JQoPqpyVlTZHbkQFzSdBdkaAFniTz2DcTZKDjRrjb3v-qrH5W6ASM-3DEw3ZUUvePECgmlkgnY0gmlwhKwSzumKbXVsdGlhZGRyc5YACASsEs7pBo5SAAoErBLO6QaOU90DgnJzhQADAQAAiXNlY3AyNTZrMaECDsia0wdRR9FXcaD241Ys3-h2vWcZCr8fTIh_0-QUQ-2DdGNwgo5Sg3VkcIKOVIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.195.61 waku 4e6920daa876c95bdd7cdf78b864627efd59bbefe2ea947b4c368576d2cc10db
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 4e6920daa876. Setting up logs at ./log/docker/node5_2024-12-12_09-01-23__f142fab5-dafd-4b4c-aeb5-5a944fe442ec__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 2080
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2080/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2080/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.195.61/tcp/2081/p2p/16Uiu2HAmS7habkQbzD7LKiReXdeCgWXmkRw4iraPQdLuAnukSq8U","/ip4/172.18.195.61/tcp/2082/ws/p2p/16Uiu2HAmS7habkQbzD7LKiReXdeCgWXmkRw4iraPQdLuAnukSq8U"],"enrUri":"enr:-L24QCOzux3ZNOzeS3XJ5XPr7ExWIuh82BnbLbXSaoHyzOUydmW5gNlZlu48PMtA7sfx1E76R_F2ZQhWrLHtzuPSTtECgmlkgnY0gmlwhKwSwz2KbXVsdGlhZGRyc5YACASsEsM9BgghAAoErBLDPQYIIt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDx_-mP1wkUuYZcFQjVBLrTkTarYg83QgoUgbT4iKtvkmDdGNwggghg3VkcIIII4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2080/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.206.233/tcp/36434/p2p/16Uiu2HAkvRP6xxGsGztqgPNoqTKE6tR21iE6qzhRdAeC2meAdnDJ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36433/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43668/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23753/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32619/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2080/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36433/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36433/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733994092852823552,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43668/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733994092852823552,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23753/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733994092852823552,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32619/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733994092852823552,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2080/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733994092852823552,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2080/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36433/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733994093032051456,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43668/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733994093032051456,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23753/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733994093032051456,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32619/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733994093032051456,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2080/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733994093032051456,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 2f0d8eee8249
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 88dbe6d7da43
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 2f0d8eee8249. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 92d464153de0
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 88dbe6d7da43. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id e02a8630c8ff
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 92d464153de0. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 4e6920daa876
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container e02a8630c8ff. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.