[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2024-11-07_11-47-49__ac40609b-3d43-46f5-a41e-b41bf4a330b0
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-07_11-47-49__ac40609b-3d43-46f5-a41e-b41bf4a330b0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.15.239
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['28076', '28077', '28078', '28079', '28080']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 28076:28076 -p 28077:28077 -p 28078:28078 -p 28079:28079 -p 28080:28080 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=28078 --rest-port=28076 --tcp-port=28077 --discv5-udp-port=28079 --rest-address=0.0.0.0 --nat=extip:172.18.15.239 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dabbaee17cf689583545d59a9b86a9fcba33dffb4c5b0752e07b4c45dcffd527 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=28080 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.15.239 waku 7e6c0d1a955b82c60ccf3e6d48bbc3449c961b31e18aa99b728757559343e82c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 7e6c0d1a955b. Setting up logs at ./log/docker/node1_2024-11-07_11-47-49__ac40609b-3d43-46f5-a41e-b41bf4a330b0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 28076
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 5d6512b1243f. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28076/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28076/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.15.239/tcp/28077/p2p/16Uiu2HAkugZubTbBiVNiH94ZcNqc4CZnmbV8kbsL2fGwj7DSYaET","/ip4/172.18.15.239/tcp/28078/ws/p2p/16Uiu2HAkugZubTbBiVNiH94ZcNqc4CZnmbV8kbsL2fGwj7DSYaET"],"enrUri":"enr:-L24QBAyek6H5H-Zcb05w-mdZoWLG-S1BriN2CUT_Dv8EENSU_zhgOIdqFT4qxpj_2BDlHxOC8wAnAvsTJa4pShryAICgmlkgnY0gmlwhKwSD--KbXVsdGlhZGRyc5YACASsEg_vBm2tAAoErBIP7wZtrt0DgnJzhQADAQAAiXNlY3AyNTZrMaECA9DYl51WpR2y7Oo1znEsJ2FexdybbNWafFLIBncjVBiDdGNwgm2tg3VkcIJtr4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-07_11-47-49__ac40609b-3d43-46f5-a41e-b41bf4a330b0__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.205.180
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['52390', '52391', '52392', '52393', '52394']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 52390:52390 -p 52391:52391 -p 52392:52392 -p 52393:52393 -p 52394:52394 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=52392 --rest-port=52390 --tcp-port=52391 --discv5-udp-port=52393 --rest-address=0.0.0.0 --nat=extip:172.18.205.180 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d96f1eb7ed9ecea9eb7d27efe63a48cf3bbe6e9cc3b6df7db68a5d6445596fb3 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-L24QBAyek6H5H-Zcb05w-mdZoWLG-S1BriN2CUT_Dv8EENSU_zhgOIdqFT4qxpj_2BDlHxOC8wAnAvsTJa4pShryAICgmlkgnY0gmlwhKwSD--KbXVsdGlhZGRyc5YACASsEg_vBm2tAAoErBIP7wZtrt0DgnJzhQADAQAAiXNlY3AyNTZrMaECA9DYl51WpR2y7Oo1znEsJ2FexdybbNWafFLIBncjVBiDdGNwgm2tg3VkcIJtr4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.205.180 waku a74e85ae880e8330c9d6ded889d4b9a7f69e8e1311ec3bd41ab23ae16caa49e8
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID a74e85ae880e. Setting up logs at ./log/docker/node2_2024-11-07_11-47-49__ac40609b-3d43-46f5-a41e-b41bf4a330b0__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 52390
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52390/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QHoT9R55zpqfwr7qY1BTzd3PTcySLND5tsAPPd5SsKwdc3MiJxIV9mg-sEfQJvNdvdn3QypWB6UZYvJxH6Vc342GAZMGc8XPgmlkgnY0gmlwhKwRAAqJc2VjcDI1NmsxoQNDaYZ6hirpqwo7-a7dpU4Ug7v2mqBxmlPa_7oeN3xd04N0Y3CCzKeDdWRwgsyphXdha3UyAQ","listenAddresses":["/ip4/127.0.0.1/tcp/52391/p2p/16Uiu2HAmHC8zaNNSwf2gXEkzYd7tP2jfVz15v73XH7MKRJbF8hpN","/ip4/127.0.0.1/tcp/52392/ws/p2p/16Uiu2HAmHC8zaNNSwf2gXEkzYd7tP2jfVz15v73XH7MKRJbF8hpN","/ip4/172.17.0.10/tcp/52391/p2p/16Uiu2HAmHC8zaNNSwf2gXEkzYd7tP2jfVz15v73XH7MKRJbF8hpN","/ip4/172.17.0.10/tcp/52392/ws/p2p/16Uiu2HAmHC8zaNNSwf2gXEkzYd7tP2jfVz15v73XH7MKRJbF8hpN"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52390/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.15.239/tcp/28077/p2p/16Uiu2HAkugZubTbBiVNiH94ZcNqc4CZnmbV8kbsL2fGwj7DSYaET", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-07_11-47-49__ac40609b-3d43-46f5-a41e-b41bf4a330b0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.171.151
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['62659', '62660', '62661', '62662', '62663']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 62659:62659 -p 62660:62660 -p 62661:62661 -p 62662:62662 -p 62663:62663 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=62661 --rest-port=62659 --tcp-port=62660 --discv5-udp-port=62662 --rest-address=0.0.0.0 --nat=extip:172.18.171.151 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fdebafadc3d7ac8dace12dbda1fee2e757deabfbcfa958b73fc2b1c2befac4f7 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=62663 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QBAyek6H5H-Zcb05w-mdZoWLG-S1BriN2CUT_Dv8EENSU_zhgOIdqFT4qxpj_2BDlHxOC8wAnAvsTJa4pShryAICgmlkgnY0gmlwhKwSD--KbXVsdGlhZGRyc5YACASsEg_vBm2tAAoErBIP7wZtrt0DgnJzhQADAQAAiXNlY3AyNTZrMaECA9DYl51WpR2y7Oo1znEsJ2FexdybbNWafFLIBncjVBiDdGNwgm2tg3VkcIJtr4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.171.151 waku 04827f88dfe845a5d5fded209a5a9e2547130d331b1cb413b3197c23d2a21e8b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 04827f88dfe8. Setting up logs at ./log/docker/node3_2024-11-07_11-47-49__ac40609b-3d43-46f5-a41e-b41bf4a330b0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 62659
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62659/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62659/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.171.151/tcp/62660/p2p/16Uiu2HAmVg1ksyHo2MdEqafsmTuqhS5Y7gc6pKkR7WpkKrwyDVVy","/ip4/172.18.171.151/tcp/62661/ws/p2p/16Uiu2HAmVg1ksyHo2MdEqafsmTuqhS5Y7gc6pKkR7WpkKrwyDVVy"],"enrUri":"enr:-L24QJc6zIRXa4eAHUXvQkqIRz4WG5hjpw-GLLx8v8lCVXwoFegumR8Lr6ZhoSuLzWTaYtjTujX1DAGsFqu_HReu0fkCgmlkgnY0gmlwhKwSq5eKbXVsdGlhZGRyc5YACASsEquXBvTEAAoErBKrlwb0xd0DgnJzhQADAQAAiXNlY3AyNTZrMaED_NnZYT7GFQMNQC4_GI0cmglnetmkL0nDbiQJHv9h_-CDdGNwgvTEg3VkcIL0xoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62659/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.15.239/tcp/28077/p2p/16Uiu2HAkugZubTbBiVNiH94ZcNqc4CZnmbV8kbsL2fGwj7DSYaET"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-07_11-47-49__ac40609b-3d43-46f5-a41e-b41bf4a330b0__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.12.83
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['14864', '14865', '14866', '14867', '14868']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 14864:14864 -p 14865:14865 -p 14866:14866 -p 14867:14867 -p 14868:14868 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=14866 --rest-port=14864 --tcp-port=14865 --discv5-udp-port=14867 --rest-address=0.0.0.0 --nat=extip:172.18.12.83 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2b8dcecfbdb2de0efe63e8cc6669bcaabf5bbb3096eb45854ad1d69db2260f8a --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-L24QBAyek6H5H-Zcb05w-mdZoWLG-S1BriN2CUT_Dv8EENSU_zhgOIdqFT4qxpj_2BDlHxOC8wAnAvsTJa4pShryAICgmlkgnY0gmlwhKwSD--KbXVsdGlhZGRyc5YACASsEg_vBm2tAAoErBIP7wZtrt0DgnJzhQADAQAAiXNlY3AyNTZrMaECA9DYl51WpR2y7Oo1znEsJ2FexdybbNWafFLIBncjVBiDdGNwgm2tg3VkcIJtr4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.12.83 waku 9c4a479b5890bc3226ec0182b99a2fa6530eb40c56105b370214df096300e2f4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 9c4a479b5890. Setting up logs at ./log/docker/node4_2024-11-07_11-47-49__ac40609b-3d43-46f5-a41e-b41bf4a330b0__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 14864
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14864/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QItOKR8qOEtBgs98x9SppBJgckZSMCKjQPazc7-7xLklIz0aKnNcex6HU5Make5k47hRW1e8MyvmlcE_truj1ZiGAZMGc9FlgmlkgnY0gmlwhKwRAA2Jc2VjcDI1NmsxoQPNQqq0JVSK7xlbWUOnBYzbQO2_739RwxWVRhHHmv_rSoN0Y3CCOhGDdWRwgjoThXdha3UyAQ","listenAddresses":["/ip4/127.0.0.1/tcp/14865/p2p/16Uiu2HAmSUEtXJZarXqaGFg7Kawt3GPjc31BKBRCd9doq4CterX3","/ip4/127.0.0.1/tcp/14866/ws/p2p/16Uiu2HAmSUEtXJZarXqaGFg7Kawt3GPjc31BKBRCd9doq4CterX3","/ip4/172.17.0.13/tcp/14865/p2p/16Uiu2HAmSUEtXJZarXqaGFg7Kawt3GPjc31BKBRCd9doq4CterX3","/ip4/172.17.0.13/tcp/14866/ws/p2p/16Uiu2HAmSUEtXJZarXqaGFg7Kawt3GPjc31BKBRCd9doq4CterX3"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14864/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.15.239/tcp/28077/p2p/16Uiu2HAkugZubTbBiVNiH94ZcNqc4CZnmbV8kbsL2fGwj7DSYaET", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-07_11-47-49__ac40609b-3d43-46f5-a41e-b41bf4a330b0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.38.29
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['29697', '29698', '29699', '29700', '29701']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 29697:29697 -p 29698:29698 -p 29699:29699 -p 29700:29700 -p 29701:29701 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=29699 --rest-port=29697 --tcp-port=29698 --discv5-udp-port=29700 --rest-address=0.0.0.0 --nat=extip:172.18.38.29 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2ab9a56df4ed79b3baf93a8952af2fb1e8bbce577ee72e322e0f24d0e23a0413 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=29701 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QBAyek6H5H-Zcb05w-mdZoWLG-S1BriN2CUT_Dv8EENSU_zhgOIdqFT4qxpj_2BDlHxOC8wAnAvsTJa4pShryAICgmlkgnY0gmlwhKwSD--KbXVsdGlhZGRyc5YACASsEg_vBm2tAAoErBIP7wZtrt0DgnJzhQADAQAAiXNlY3AyNTZrMaECA9DYl51WpR2y7Oo1znEsJ2FexdybbNWafFLIBncjVBiDdGNwgm2tg3VkcIJtr4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.38.29 waku 7e4e448d2d1335465e95f39900837fac325592ec0a5fa5f992113d2ea27bf292
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 7e4e448d2d13. Setting up logs at ./log/docker/node5_2024-11-07_11-47-49__ac40609b-3d43-46f5-a41e-b41bf4a330b0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 29697
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29697/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29697/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.38.29/tcp/29698/p2p/16Uiu2HAmGbEGhUwuAHuWUxecLzG6Vk9hNvBkN4K9YAfgBzcpMAne","/ip4/172.18.38.29/tcp/29699/ws/p2p/16Uiu2HAmGbEGhUwuAHuWUxecLzG6Vk9hNvBkN4K9YAfgBzcpMAne"],"enrUri":"enr:-L24QOXVujxdMCJaCIvRSi50zxoGala_HRN4Qn-LXkK-XlI5BXaQwbOx2uYsHE1gDqephL3t4vD-WJpTtZdtZIBzfj4CgmlkgnY0gmlwhKwSJh2KbXVsdGlhZGRyc5YACASsEiYdBnQCAAoErBImHQZ0A90DgnJzhQADAQAAiXNlY3AyNTZrMaEDOngqMWx9fLmTJTHTXnwQO-_XazxB6kHJbe6FCPr8ksuDdGNwgnQCg3VkcIJ0BIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29697/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.15.239/tcp/28077/p2p/16Uiu2HAkugZubTbBiVNiH94ZcNqc4CZnmbV8kbsL2fGwj7DSYaET"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28076/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52390/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62659/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14864/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29697/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28076/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28076/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730980076564761088,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52390/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730980076564761088,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62659/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730980076564761088,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14864/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730980076564761088,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29697/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730980076564761088,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29697/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28076/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730980076692316416,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52390/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730980076692316416,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62659/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730980076692316416,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14864/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730980076692316416,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29697/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730980076692316416,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 7e6c0d1a955b
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id a74e85ae880e
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 7e6c0d1a955b. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 04827f88dfe8
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container a74e85ae880e. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 9c4a479b5890
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 04827f88dfe8. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 7e4e448d2d13
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 9c4a479b5890. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.