[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_light_push_with_missing_pubsub_topics with id: 2024-11-13_03-15-40__cec7b753-ffd4-411c-b183-d8783a77e092
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:28 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-11-13_03-15-40__cec7b753-ffd4-411c-b183-d8783a77e092__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.191.83
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['13788', '13789', '13790', '13791', '13792']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 13788:13788 -p 13789:13789 -p 13790:13790 -p 13791:13791 -p 13792:13792 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=13790 --rest-port=13788 --tcp-port=13789 --discv5-udp-port=13791 --rest-address=0.0.0.0 --nat=extip:172.18.191.83 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fa8abd85827ee0ef9ceded0d12fb7bc95ced0b33f9a28c69b41c0b653d5ca48a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=13792 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.191.83 waku deea63592cc5ad1fa5ee1da89ad960aa489d7550bcfe17c0656c8cc684ca5463
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID deea63592cc5. Setting up logs at ./log/docker/receiving_node1_2024-11-13_03-15-40__cec7b753-ffd4-411c-b183-d8783a77e092__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 13788
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 7f9463aa7314. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13788/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13788/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.191.83/tcp/13789/p2p/16Uiu2HAm18uRDpGfGdpg1rpdKU9GqLgJwtyvSzXQD1ornp6RZg1j","/ip4/172.18.191.83/tcp/13790/ws/p2p/16Uiu2HAm18uRDpGfGdpg1rpdKU9GqLgJwtyvSzXQD1ornp6RZg1j"],"enrUri":"enr:-L24QBjc0Ar_5hMbLLQof1tmQbFQdf7pAKPWtiO2qPZtlPIMYo-3vIkiXHOmoRHIz4A1JOYiGGr3pzyfD4_8zzblXykCgmlkgnY0gmlwhKwSv1OKbXVsdGlhZGRyc5YACASsEr9TBjXdAAoErBK_UwY13t0DgnJzhQADAQAAiXNlY3AyNTZrMaECVNpxUuzJaEbXlW10bfXlxzfMo41llPr37-RqNpasFoaDdGNwgjXdg3VkcII134V3YWt1Mgk"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-11-13_03-15-40__cec7b753-ffd4-411c-b183-d8783a77e092__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.51.210
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['46450', '46451', '46452', '46453', '46454']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 46450:46450 -p 46451:46451 -p 46452:46452 -p 46453:46453 -p 46454:46454 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=46452 --rest-port=46450 --tcp-port=46451 --discv5-udp-port=46453 --rest-address=0.0.0.0 --nat=extip:172.18.51.210 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cfaafefbdec0474d805b304d10fdbcbb2fcf2abf1ecbcbb50f8bffb19cdc48e3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=46454 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.51.210 waku cfd00141ce972bb068b3187eb54a459faafcbc12b7545b67bb2d2eb651dd41ef
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID cfd00141ce97. Setting up logs at ./log/docker/receiving_node2_2024-11-13_03-15-40__cec7b753-ffd4-411c-b183-d8783a77e092__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 46450
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46450/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46450/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.51.210/tcp/46451/p2p/16Uiu2HAmNi9D57Cp3NMgydi9oUCSt1PExx3w3Ym9Sc8XqqwXvKGa","/ip4/172.18.51.210/tcp/46452/ws/p2p/16Uiu2HAmNi9D57Cp3NMgydi9oUCSt1PExx3w3Ym9Sc8XqqwXvKGa"],"enrUri":"enr:-L24QIjD-r2W9OrobwyjL7-J-qZfzzvffPfiFn0paoHcScdwDP7LDl5er8aPTLL6Y83AsgDG6_73a8zH5MeBNa015S0CgmlkgnY0gmlwhKwSM9KKbXVsdGlhZGRyc5YACASsEjPSBrVzAAoErBIz0ga1dN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDlWOguBx3ywQbCDet9XReOKIjcA4h-o7A6pps1490vfeDdGNwgrVzg3VkcIK1dYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46450/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.191.83/tcp/13789/p2p/16Uiu2HAm18uRDpGfGdpg1rpdKU9GqLgJwtyvSzXQD1ornp6RZg1j"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-11-13_03-15-40__cec7b753-ffd4-411c-b183-d8783a77e092__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.157.56
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['22992', '22993', '22994', '22995', '22996']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 22992:22992 -p 22993:22993 -p 22994:22994 -p 22995:22995 -p 22996:22996 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=22994 --rest-port=22992 --tcp-port=22993 --discv5-udp-port=22995 --rest-address=0.0.0.0 --nat=extip:172.18.157.56 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fe65e5d91dbee6a14ad5c69cb931e956f6d03db474e3624ce5f4f9beadfbbd88 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-L24QBjc0Ar_5hMbLLQof1tmQbFQdf7pAKPWtiO2qPZtlPIMYo-3vIkiXHOmoRHIz4A1JOYiGGr3pzyfD4_8zzblXykCgmlkgnY0gmlwhKwSv1OKbXVsdGlhZGRyc5YACASsEr9TBjXdAAoErBK_UwY13t0DgnJzhQADAQAAiXNlY3AyNTZrMaECVNpxUuzJaEbXlW10bfXlxzfMo41llPr37-RqNpasFoaDdGNwgjXdg3VkcII134V3YWt1Mgk --lightpushnode=/ip4/172.18.191.83/tcp/13789/p2p/16Uiu2HAm18uRDpGfGdpg1rpdKU9GqLgJwtyvSzXQD1ornp6RZg1j --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.157.56 waku 97c947707f93fa35f8f36f0d03448960a6ba0eeaf6411496e4ee037090015cb5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 97c947707f93. Setting up logs at ./log/docker/lightpush_node1_2024-11-13_03-15-40__cec7b753-ffd4-411c-b183-d8783a77e092__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/go-waku:latest. REST: 22992
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22992/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QK-ihk2QFQAXdnehZAqfn-kbbb5lvbBIOU9QmPlxHsV4f03vOs0fS-Bv3ugnckqNIjBH07zj7JdmnoQT3jSYPJOGAZMjhRJjgmlkgnY0gmlwhKwRAA2Jc2VjcDI1NmsxoQJCQGj0w52ORrGwoP4T-SZePD_-FSCs5S0pMNRY_J0r9YN0Y3CCWdGDdWRwglnThXdha3UyCA","listenAddresses":["/ip4/127.0.0.1/tcp/22993/p2p/16Uiu2HAkytHrQJPeQzkU2tfxYW6rVke2berzdkPzPcMTmLmKy3Gg","/ip4/127.0.0.1/tcp/22994/ws/p2p/16Uiu2HAkytHrQJPeQzkU2tfxYW6rVke2berzdkPzPcMTmLmKy3Gg","/ip4/172.17.0.13/tcp/22993/p2p/16Uiu2HAkytHrQJPeQzkU2tfxYW6rVke2berzdkPzPcMTmLmKy3Gg","/ip4/172.17.0.13/tcp/22994/ws/p2p/16Uiu2HAkytHrQJPeQzkU2tfxYW6rVke2berzdkPzPcMTmLmKy3Gg"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22992/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.191.83/tcp/13789/p2p/16Uiu2HAm18uRDpGfGdpg1rpdKU9GqLgJwtyvSzXQD1ornp6RZg1j", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22992/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.51.210/tcp/46451/p2p/16Uiu2HAmNi9D57Cp3NMgydi9oUCSt1PExx3w3Ym9Sc8XqqwXvKGa", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13788/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46450/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22992/lightpush/v1/message" -H "Content-Type: application/json" -d '{"message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1731467744981574400}}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id deea63592cc5
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id cfd00141ce97
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container deea63592cc5. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 97c947707f93
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container cfd00141ce97. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.