[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_ping_on_subscribed_peer with id: 2024-10-02_03-17-53__23aa307b-b8f2-43cf-8745-4a068c3d3100
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-10-02_03-17-53__23aa307b-b8f2-43cf-8745-4a068c3d3100__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.137.162
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['52850', '52851', '52852', '52853', '52854']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 52850:52850 -p 52851:52851 -p 52852:52852 -p 52853:52853 -p 52854:52854 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=52852 --rest-port=52850 --tcp-port=52851 --discv5-udp-port=52853 --rest-address=0.0.0.0 --nat=extip:172.18.137.162 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dcca13e43c3a17bdefdee6270eddf0bb44b56b29390ae6063ae4ace64f7e55c8 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=52854 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.137.162 waku c93de94a4c6f3233b4b76bf34d5b20ee7d9eca46f92bd115c13169a51a06457f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID c93de94a4c6f. Setting up logs at ./log/docker/node1_2024-10-02_03-17-53__23aa307b-b8f2-43cf-8745-4a068c3d3100__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 52850
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52850/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52850/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.137.162/tcp/52851/p2p/16Uiu2HAmB5m76yRy2K8YaJFrNgZxQwW3ihMHMtTJDP3zpcZywbx9","/ip4/172.18.137.162/tcp/52852/ws/p2p/16Uiu2HAmB5m76yRy2K8YaJFrNgZxQwW3ihMHMtTJDP3zpcZywbx9"],"enrUri":"enr:-LO4QPJPYsgIMXEoia4kEU7dlHjByDfBg4YFnMpwEmSSXbvXCgyRt9o5R2324OSFHtFozv7q4xqWYQi5moTZAniVsUIBgmlkgnY0gmlwhKwSiaKKbXVsdGlhZGRyc4wACgSsEomiBs503QOCcnOFAAMBAACJc2VjcDI1NmsxoQLooSuxHQDgLtIvaSK2LeEke2DEGb0ATL4VoXOp7LF8doN0Y3CCznODdWRwgs51hXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-10-02_03-17-53__23aa307b-b8f2-43cf-8745-4a068c3d3100__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.68.232
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['15764', '15765', '15766', '15767', '15768']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 15764:15764 -p 15765:15765 -p 15766:15766 -p 15767:15767 -p 15768:15768 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=15766 --rest-port=15764 --tcp-port=15765 --discv5-udp-port=15767 --rest-address=0.0.0.0 --nat=extip:172.18.68.232 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dfa2674ba5ecfde1a9efc39dc8df0b5b43c933c9bbe447a4a9acdc415cbdb72a --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-LO4QPJPYsgIMXEoia4kEU7dlHjByDfBg4YFnMpwEmSSXbvXCgyRt9o5R2324OSFHtFozv7q4xqWYQi5moTZAniVsUIBgmlkgnY0gmlwhKwSiaKKbXVsdGlhZGRyc4wACgSsEomiBs503QOCcnOFAAMBAACJc2VjcDI1NmsxoQLooSuxHQDgLtIvaSK2LeEke2DEGb0ATL4VoXOp7LF8doN0Y3CCznODdWRwgs51hXdha3UyBQ --filternode=/ip4/172.18.137.162/tcp/52851/p2p/16Uiu2HAmB5m76yRy2K8YaJFrNgZxQwW3ihMHMtTJDP3zpcZywbx9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.68.232 waku 92a453e1ac8379d5644c3b19078ced44fe88a848019357c2bab8ef8638ddd15d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 92a453e1ac83. Setting up logs at ./log/docker/node2_2024-10-02_03-17-53__23aa307b-b8f2-43cf-8745-4a068c3d3100__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 15764
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15764/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QIA-GbNqdjF1WD1-fNIdtXlvj-Ka8JKdfFsp7zTU1SL0KaBXiUH0nIOHzIW_7BWeohJsLlzhAR7kdIbBrnTB4RuGAZJLPACBgmlkgnY0gmlwhKwRAAeJc2VjcDI1NmsxoQLpcj-JPEg08R0RxBkuoACRCcPgr8uATVTYl_N5mhBNsYN0Y3CCPZWDdWRwgj2XhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/15765/p2p/16Uiu2HAmB8x1qaHWDxvcYQUrNdv1ggfyYMXCsHjoETTkkXVqksig","/ip4/127.0.0.1/tcp/15766/ws/p2p/16Uiu2HAmB8x1qaHWDxvcYQUrNdv1ggfyYMXCsHjoETTkkXVqksig","/ip4/172.17.0.7/tcp/15765/p2p/16Uiu2HAmB8x1qaHWDxvcYQUrNdv1ggfyYMXCsHjoETTkkXVqksig","/ip4/172.17.0.7/tcp/15766/ws/p2p/16Uiu2HAmB8x1qaHWDxvcYQUrNdv1ggfyYMXCsHjoETTkkXVqksig"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15764/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.137.162/tcp/52851/p2p/16Uiu2HAmB5m76yRy2K8YaJFrNgZxQwW3ihMHMtTJDP3zpcZywbx9", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52850/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15764/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "207318ab-92a2-4a18-97af-617e2e6785c7", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"207318ab-92a2-4a18-97af-617e2e6785c7","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15764/filter/v2/subscriptions/f5fbc6d0-a7c3-44ae-844b-2eea09ed574e" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"f5fbc6d0-a7c3-44ae-844b-2eea09ed574e","statusDesc":"OK"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id c93de94a4c6f
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 92a453e1ac83
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.