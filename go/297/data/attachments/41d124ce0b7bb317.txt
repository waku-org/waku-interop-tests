[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_different_page_size[1] with id: 2024-10-02_03-28-31__9cca765b-eb21-402f-8818-ded028be942d
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-10-02_03-28-31__9cca765b-eb21-402f-8818-ded028be942d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.98.210
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['37161', '37162', '37163', '37164', '37165']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 37161:37161 -p 37162:37162 -p 37163:37163 -p 37164:37164 -p 37165:37165 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=37163 --rest-port=37161 --tcp-port=37162 --discv5-udp-port=37164 --rest-address=0.0.0.0 --nat=extip:172.18.98.210 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8609b4eeb0fba9d5dc14b5dcbbed98c15ddf5c3c9be124f4b53da77e923d55cf --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=37165 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.98.210 waku dc66779215a91e03082e9a7a97a90ffe5f810a0587a5144c47bf238829fcd14f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID dc66779215a9. Setting up logs at ./log/docker/publishing_node1_2024-10-02_03-28-31__9cca765b-eb21-402f-8818-ded028be942d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 37161
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37161/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37161/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.98.210/tcp/37162/p2p/16Uiu2HAkx4ugiSjfkUeuJXSqWvsktCvDFQYHcQ4afWq6wBoTJzjh","/ip4/172.18.98.210/tcp/37163/ws/p2p/16Uiu2HAkx4ugiSjfkUeuJXSqWvsktCvDFQYHcQ4afWq6wBoTJzjh"],"enrUri":"enr:-LO4QAhDOZSqEvJhH_8rrgxQ71aJP5itWrgmsHAqWkThUWY1GwaBJ0d_gKG7VsLkr-SkX7JVgflfB4fW98kY1yHYMt0BgmlkgnY0gmlwhKwSYtKKbXVsdGlhZGRyc4wACgSsEmLSBpEr3QOCcnOFAAMBAACJc2VjcDI1NmsxoQInQVxW-xwRR3Ae_tpew2RqCCwPPqNAndPx_WGPJZT4OIN0Y3CCkSqDdWRwgpEshXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-10-02_03-28-31__9cca765b-eb21-402f-8818-ded028be942d__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.75.169
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['34789', '34790', '34791', '34792', '34793']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 34789:34789 -p 34790:34790 -p 34791:34791 -p 34792:34792 -p 34793:34793 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=34791 --rest-port=34789 --tcp-port=34790 --discv5-udp-port=34792 --rest-address=0.0.0.0 --nat=extip:172.18.75.169 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ffaeba4a5c08ce3c5eae7d4efc3cc9253b1129ba7d9d2d1cc234350232ec1f9e --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-LO4QAhDOZSqEvJhH_8rrgxQ71aJP5itWrgmsHAqWkThUWY1GwaBJ0d_gKG7VsLkr-SkX7JVgflfB4fW98kY1yHYMt0BgmlkgnY0gmlwhKwSYtKKbXVsdGlhZGRyc4wACgSsEmLSBpEr3QOCcnOFAAMBAACJc2VjcDI1NmsxoQInQVxW-xwRR3Ae_tpew2RqCCwPPqNAndPx_WGPJZT4OIN0Y3CCkSqDdWRwgpEshXdha3UyAw --storenode=/ip4/172.18.98.210/tcp/37162/p2p/16Uiu2HAkx4ugiSjfkUeuJXSqWvsktCvDFQYHcQ4afWq6wBoTJzjh --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.75.169 waku cd877c861522749cd0eb32789211bb342b8ee45366368b5984f2d9813796cde0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID cd877c861522. Setting up logs at ./log/docker/store_node1_2024-10-02_03-28-31__9cca765b-eb21-402f-8818-ded028be942d__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 34789
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34789/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QKaBHal4MtjcMDb1XtC20ePiXb3OX8O4LFd2tDemRQyqf37BGKfcNHKJlWOESCpOXnPk9ExlADXyaHw05pMkZmWGAZJLRbnmgmlkgnY0gmlwhKwRAAaJc2VjcDI1NmsxoQPdYLfJPd5P48_BqAmsPccO6NtcmrlPUpdKPS_KodOv7IN0Y3CCh-aDdWRwgofohXdha3UyAw","listenAddresses":["/ip4/127.0.0.1/tcp/34790/p2p/16Uiu2HAmTZ9zMRgrgtwtBNaUN7kWPoSbBsW3zDHAafq55JuH6KDd","/ip4/127.0.0.1/tcp/34791/ws/p2p/16Uiu2HAmTZ9zMRgrgtwtBNaUN7kWPoSbBsW3zDHAafq55JuH6KDd","/ip4/172.17.0.6/tcp/34790/p2p/16Uiu2HAmTZ9zMRgrgtwtBNaUN7kWPoSbBsW3zDHAafq55JuH6KDd","/ip4/172.17.0.6/tcp/34791/ws/p2p/16Uiu2HAmTZ9zMRgrgtwtBNaUN7kWPoSbBsW3zDHAafq55JuH6KDd"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34789/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.98.210/tcp/37162/p2p/16Uiu2HAkx4ugiSjfkUeuJXSqWvsktCvDFQYHcQ4afWq6wBoTJzjh", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:37161/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34789/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:37161/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8w", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:37161/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8x", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37161/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=1&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"UzFA6L+z5W72kD+QlpvUU+Db78X70xhEoIuzM2IMeYE="}],"paginationCursor":"UzFA6L+z5W72kD+QlpvUU+Db78X70xhEoIuzM2IMeYE="}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34789/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=1&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"9d95c14ba52ea5984054942ccb558b573099c1ff5ab8e4f6737b9946656d9ee9","status_code":200,"status_desc":"OK","messages":[{"message_hash":"UzFA6L+z5W72kD+QlpvUU+Db78X70xhEoIuzM2IMeYE="}],"pagination_cursor":"UzFA6L+z5W72kD+QlpvUU+Db78X70xhEoIuzM2IMeYE="}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id dc66779215a9
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id cd877c861522
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.