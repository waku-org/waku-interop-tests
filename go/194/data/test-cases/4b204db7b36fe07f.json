{"uid":"4b204db7b36fe07f","name":"test_message_light_pushed_on_different_pubsub_topic_is_not_retrieved","fullName":"tests.light_push.test_publish.TestLightPushPublish#test_message_light_pushed_on_different_pubsub_topic_is_not_retrieved","historyId":"88c874acd5852c43d37fbe8b7f7a0144","time":{"start":1720582448002,"stop":1720582448018,"duration":16},"status":"broken","statusMessage":"Exception: Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:33320/lightpush/v1/message with response: b'stream reset'","statusTrace":"src/node/api_clients/base_client.py:14: in make_request\n    response.raise_for_status()\n/opt/hostedtoolcache/Python/3.12.4/x64/lib/python3.12/site-packages/requests/models.py:1021: in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\nE   requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: http://127.0.0.1:33320/lightpush/v1/message\n\nDuring handling of the above exception, another exception occurred:\ntests/light_push/test_publish.py:124: in test_message_light_pushed_on_different_pubsub_topic_is_not_retrieved\n    self.light_push_node1.send_light_push_message(payload)\nsrc/node/waku_node.py:337: in send_light_push_message\n    return self._api.send_light_push_message(payload)\nsrc/node/api_clients/rest.py:57: in send_light_push_message\n    return self.rest_call(\"post\", \"lightpush/v1/message\", json.dumps(payload))\nsrc/node/api_clients/rest.py:16: in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\nsrc/node/api_clients/base_client.py:17: in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\nE   Exception: Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:33320/lightpush/v1/message with response: b'stream reset'","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":2,"retriesStatusChange":false,"beforeStages":[{"name":"attach_logs_on_fail","time":{"start":1720582445038,"stop":1720582445038,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes","time":{"start":1720582445038,"stop":1720582445038,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_id","time":{"start":1720582445038,"stop":1720582445039,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"light_push_publish_setup","time":{"start":1720582445039,"stop":1720582448001,"duration":2962},"status":"passed","steps":[{"name":"setup_first_receiving_node","time":{"start":1720582445039,"stop":1720582446527,"duration":1488},"status":"passed","steps":[{"name":"start_receiving_node","time":{"start":1720582445039,"stop":1720582446526,"duration":1487},"status":"passed","steps":[{"name":"add_node_peer","time":{"start":1720582446526,"stop":1720582446526,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.light_push.test_publish.TestLightPushPublish object at 0x7f509cb41400>, <src.node.waku_node.WakuNode object at 0x7f509c3c47d0>, [])"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"image","value":"'harbor.status.im/wakuorg/nwaku:latest'"},{"name":"node_index","value":"1"},{"name":"lightpush","value":"'true'"},{"name":"relay","value":"'true'"},{"name":"nodekey","value":"'30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68'"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"lightpush","value":"'true'"},{"name":"relay","value":"'true'"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"setup_first_lightpush_node","time":{"start":1720582446527,"stop":1720582447997,"duration":1470},"status":"passed","steps":[{"name":"setup_lightpush_node","time":{"start":1720582446527,"stop":1720582447997,"duration":1470},"status":"passed","steps":[{"name":"add_node_peer","time":{"start":1720582447984,"stop":1720582447996,"duration":12},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.light_push.test_publish.TestLightPushPublish object at 0x7f509cb41400>, <src.node.waku_node.WakuNode object at 0x7f509c3c4d70>, ['/ip4/172.18.81.121/tcp/24040/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip'])"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"image","value":"'harbor.status.im/wakuorg/go-waku:latest'"},{"name":"node_index","value":"1"},{"name":"lightpush","value":"'true'"},{"name":"relay","value":"'false'"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"lightpush","value":"'true'"},{"name":"relay","value":"'false'"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"subscribe_to_pubsub_topics_via_relay","time":{"start":1720582447997,"stop":1720582448001,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"None"},{"name":"pubsub_topics","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":7,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"light_push_setup","time":{"start":1720582445039,"stop":1720582445039,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"common_setup","time":{"start":1720582445039,"stop":1720582445039,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_setup","time":{"start":1720582445039,"stop":1720582445039,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"broken","statusMessage":"Exception: Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:33320/lightpush/v1/message with response: b'stream reset'","statusTrace":"src/node/api_clients/base_client.py:14: in make_request\n    response.raise_for_status()\n/opt/hostedtoolcache/Python/3.12.4/x64/lib/python3.12/site-packages/requests/models.py:1021: in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\nE   requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: http://127.0.0.1:33320/lightpush/v1/message\n\nDuring handling of the above exception, another exception occurred:\ntests/light_push/test_publish.py:124: in test_message_light_pushed_on_different_pubsub_topic_is_not_retrieved\n    self.light_push_node1.send_light_push_message(payload)\nsrc/node/waku_node.py:337: in send_light_push_message\n    return self._api.send_light_push_message(payload)\nsrc/node/api_clients/rest.py:57: in send_light_push_message\n    return self.rest_call(\"post\", \"lightpush/v1/message\", json.dumps(payload))\nsrc/node/api_clients/rest.py:16: in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\nsrc/node/api_clients/base_client.py:17: in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\nE   Exception: Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:33320/lightpush/v1/message with response: b'stream reset'","steps":[{"name":"subscribe_to_pubsub_topics_via_relay","time":{"start":1720582448002,"stop":1720582448005,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"None"},{"name":"pubsub_topics","value":"['/waku/2/rs/0/0', '/waku/2/rs/0/1', '/waku/2/rs/0/9', '/waku/2/rs/0/25', '/waku/2/rs/0/1000']"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"create_payload","time":{"start":1720582448005,"stop":1720582448005,"duration":0},"status":"passed","steps":[{"name":"create_message","time":{"start":1720582448005,"stop":1720582448005,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"pubsub_topic","value":"'/waku/2/rs/0/0'"},{"name":"message","value":"None"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"de80e544b817a9c6","name":"log","source":"de80e544b817a9c6.txt","type":"text/plain","size":32461}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":3,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"test_setup::0","time":{"start":1720582448113,"stop":1720582448118,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes::0","time":{"start":1720582448118,"stop":1720582451320,"duration":3202},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail::0","time":{"start":1720582451321,"stop":1720582451324,"duration":3},"status":"passed","steps":[],"attachments":[{"uid":"c93cf524da78a1f9","name":"receiving_node1_2024-07-10_03-34-05__ed0bca02-e87b-4155-b969-d39a968c4b86__harbor.status.im_wakuorg_nwaku:latest.log","source":"c93cf524da78a1f9.txt","type":"text/plain","size":182290},{"uid":"b8b4f9eab125e2f8","name":"lightpush_node1_2024-07-10_03-34-05__ed0bca02-e87b-4155-b969-d39a968c4b86__harbor.status.im_wakuorg_go-waku:latest.log","source":"b8b4f9eab125e2f8.txt","type":"text/plain","size":66043}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"tests.light_push"},{"name":"suite","value":"test_publish"},{"name":"subSuite","value":"TestLightPushPublish"},{"name":"host","value":"fv-az2021-263"},{"name":"thread","value":"2146-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.light_push.test_publish"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"4733d51578c1f426","status":"broken","statusDetails":"Exception: Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:41034/lightpush/v1/message with response: b'stream reset'","time":{"start":1720582441277,"stop":1720582441296,"duration":19}},{"uid":"4f53ed8216325735","status":"broken","statusDetails":"Exception: Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:8712/lightpush/v1/message with response: b'stream reset'","time":{"start":1720582433417,"stop":1720582433438,"duration":21}}],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":5,"skipped":0,"passed":110,"unknown":0,"total":115},"items":[{"uid":"ac44d5441035a96d","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/193//#testresult/ac44d5441035a96d","status":"passed","time":{"start":1720527474123,"stop":1720527474235,"duration":112}},{"uid":"502573b32b1e917c","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/192//#testresult/502573b32b1e917c","status":"passed","time":{"start":1720517065178,"stop":1720517065291,"duration":113}},{"uid":"cc5de6493458d791","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/191//#testresult/cc5de6493458d791","status":"passed","time":{"start":1720495017005,"stop":1720495017117,"duration":112}},{"uid":"79560b2c9dcc4426","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/190//#testresult/79560b2c9dcc4426","status":"passed","time":{"start":1720408632688,"stop":1720408632805,"duration":117}},{"uid":"a2ee75693564be63","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/189//#testresult/a2ee75693564be63","status":"passed","time":{"start":1720322199203,"stop":1720322199327,"duration":124}},{"uid":"64a5b0cc3fa1ef12","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/188//#testresult/64a5b0cc3fa1ef12","status":"passed","time":{"start":1720235855064,"stop":1720235855178,"duration":114}},{"uid":"2df70dcfd9aa021c","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/187//#testresult/2df70dcfd9aa021c","status":"passed","time":{"start":1720149363657,"stop":1720149363770,"duration":113}},{"uid":"c184f1cb73e1e37c","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/186//#testresult/c184f1cb73e1e37c","status":"passed","time":{"start":1720078763443,"stop":1720078763561,"duration":118}},{"uid":"4e748f241385cd78","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/184//#testresult/4e748f241385cd78","status":"passed","time":{"start":1719991235913,"stop":1719991236028,"duration":115}},{"uid":"10446226e6f1aa78","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/183//#testresult/10446226e6f1aa78","status":"passed","time":{"start":1719976565335,"stop":1719976565447,"duration":112}},{"uid":"45a992470b348dba","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/182//#testresult/45a992470b348dba","status":"passed","time":{"start":1719890130959,"stop":1719890131083,"duration":124}},{"uid":"53d563d77a4a7b3c","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/181//#testresult/53d563d77a4a7b3c","status":"passed","time":{"start":1719803773732,"stop":1719803773844,"duration":112}},{"uid":"f506a61772c0ebef","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/180//#testresult/f506a61772c0ebef","status":"passed","time":{"start":1719717385930,"stop":1719717386049,"duration":119}},{"uid":"bd0308992d5bb9cd","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/179//#testresult/bd0308992d5bb9cd","status":"passed","time":{"start":1719630970273,"stop":1719630970426,"duration":153}},{"uid":"f79ec9ebdfe5810a","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/178//#testresult/f79ec9ebdfe5810a","status":"passed","time":{"start":1719544601786,"stop":1719544601900,"duration":114}},{"uid":"2d0fa2397fa96936","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/177//#testresult/2d0fa2397fa96936","status":"passed","time":{"start":1719458222922,"stop":1719458223037,"duration":115}},{"uid":"cddd49ca009b622c","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/176//#testresult/cddd49ca009b622c","status":"passed","time":{"start":1719371823658,"stop":1719371823776,"duration":118}},{"uid":"f4e4645f747255ef","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/175//#testresult/f4e4645f747255ef","status":"passed","time":{"start":1719285337685,"stop":1719285337846,"duration":161}},{"uid":"f4a5f44eb50b55cc","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/174//#testresult/f4a5f44eb50b55cc","status":"passed","time":{"start":1719198953833,"stop":1719198953945,"duration":112}},{"uid":"10d3c26d07f8baad","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/173//#testresult/10d3c26d07f8baad","status":"passed","time":{"start":1719112548304,"stop":1719112548419,"duration":115}}]},"tags":[]},"source":"4b204db7b36fe07f.json","parameterValues":[]}