[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_empty_cursor with id: 2024-11-17_03-32-11__615fac2c-a48a-4975-95ac-17e667779ad4
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-11-17_03-32-11__615fac2c-a48a-4975-95ac-17e667779ad4__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.164.176
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['26710', '26711', '26712', '26713', '26714']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 26710:26710 -p 26711:26711 -p 26712:26712 -p 26713:26713 -p 26714:26714 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=26712 --rest-port=26710 --tcp-port=26711 --discv5-udp-port=26713 --rest-address=0.0.0.0 --nat=extip:172.18.164.176 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ebafff3041cccd0afd8b87e4a3d63c072d6cf36108722ab7dedeaa7eb7f52118 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=26714 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.164.176 waku ce56cecb5ea01f383e8ac561ad21c05e9dd3c5f0f207bbcc3f862f64af6c1a8f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID ce56cecb5ea0. Setting up logs at ./log/docker/publishing_node1_2024-11-17_03-32-11__615fac2c-a48a-4975-95ac-17e667779ad4__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 26710
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container dae96df9284b. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26710/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26710/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.164.176/tcp/26711/p2p/16Uiu2HAkyxAVk3CREdTkNDYnPRhPvgmDoFN9EJnSCadgVcAx4SBc","/ip4/172.18.164.176/tcp/26712/ws/p2p/16Uiu2HAkyxAVk3CREdTkNDYnPRhPvgmDoFN9EJnSCadgVcAx4SBc"],"enrUri":"enr:-L24QMTN_LP5G6xSe4GyZWs2D6mKIjL0VC52ZjJ5pH3GDWMmUiXB5cq7oHhl5Li_gjkeuSVGsXGnmXKCeIul7nBHzHcCgmlkgnY0gmlwhKwSpLCKbXVsdGlhZGRyc5YACASsEqSwBmhXAAoErBKksAZoWN0DgnJzhQADAQAAiXNlY3AyNTZrMaECQz5qYKqeAuOkiBkXuE1s9vwW7dlrRzb7j-pwiQsnJjODdGNwgmhXg3VkcIJoWYV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-11-17_03-32-11__615fac2c-a48a-4975-95ac-17e667779ad4__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.183.71
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['35306', '35307', '35308', '35309', '35310']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 35306:35306 -p 35307:35307 -p 35308:35308 -p 35309:35309 -p 35310:35310 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=35308 --rest-port=35306 --tcp-port=35307 --discv5-udp-port=35309 --rest-address=0.0.0.0 --nat=extip:172.18.183.71 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=69276de33d4aae818fcba63cf9c20d7cdba111fb2cbe1aeff30eaca58c11b9ab --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-L24QMTN_LP5G6xSe4GyZWs2D6mKIjL0VC52ZjJ5pH3GDWMmUiXB5cq7oHhl5Li_gjkeuSVGsXGnmXKCeIul7nBHzHcCgmlkgnY0gmlwhKwSpLCKbXVsdGlhZGRyc5YACASsEqSwBmhXAAoErBKksAZoWN0DgnJzhQADAQAAiXNlY3AyNTZrMaECQz5qYKqeAuOkiBkXuE1s9vwW7dlrRzb7j-pwiQsnJjODdGNwgmhXg3VkcIJoWYV3YWt1MgM --storenode=/ip4/172.18.164.176/tcp/26711/p2p/16Uiu2HAkyxAVk3CREdTkNDYnPRhPvgmDoFN9EJnSCadgVcAx4SBc --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.183.71 waku a7661853864c2418651a774534de4d4232848bc7042effaad99a808b62ea358f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID a7661853864c. Setting up logs at ./log/docker/store_node1_2024-11-17_03-32-11__615fac2c-a48a-4975-95ac-17e667779ad4__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/go-waku:latest. REST: 35306
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35306/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QBg1xIekLx46USoPrvtvbVVVy07btryOkHi8oWrvcZCGetgAiqrgiR2bqxglbdZthHhsE6XlmLnNCNT9Q1o3Uv2GAZM4LZuMgmlkgnY0gmlwhKwRAAiJc2VjcDI1NmsxoQNUKs-X2hHRn2ZN7Uko0PwQfxoY5hTOBJgF20t6_c9D0oN0Y3CCieuDdWRwgonthXdha3UyAw","listenAddresses":["/ip4/127.0.0.1/tcp/35307/p2p/16Uiu2HAmJKYTbmHqJFAt4nN1KpeTzyzRGJit5kwGG97AH5qtq3uK","/ip4/127.0.0.1/tcp/35308/ws/p2p/16Uiu2HAmJKYTbmHqJFAt4nN1KpeTzyzRGJit5kwGG97AH5qtq3uK","/ip4/172.17.0.8/tcp/35307/p2p/16Uiu2HAmJKYTbmHqJFAt4nN1KpeTzyzRGJit5kwGG97AH5qtq3uK","/ip4/172.17.0.8/tcp/35308/ws/p2p/16Uiu2HAmJKYTbmHqJFAt4nN1KpeTzyzRGJit5kwGG97AH5qtq3uK"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35306/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.164.176/tcp/26711/p2p/16Uiu2HAkyxAVk3CREdTkNDYnPRhPvgmDoFN9EJnSCadgVcAx4SBc", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26710/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35306/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26710/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8w", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26710/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8x", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26710/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8y", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26710/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8z", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26710/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV80", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26710/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV81", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26710/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV82", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26710/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV83", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26710/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV84", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26710/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV85", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26710/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&cursor=&pageSize=5&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"DxEzsHoJhLgH37o8eP9SX/ke/OEjhZfxl1fQt3HkYkg="},{"messageHash":"sDThy51n1DqwqQov9V/jTCwZ5W/EWFFT0fMrBo1M/Ak="},{"messageHash":"Bi5VGSIMufSjoTPsYPnTdD6YXmK0nSt3TqAMXvsTxBg="},{"messageHash":"nmTb8/AomGfwvYbprakZQKKzCJ2dzW2rggLz0vM2U1s="},{"messageHash":"AdFGMveqPk/fh7mRLZp4wc85oaijn5L3/vCNimTuuUQ="}],"paginationCursor":"AdFGMveqPk/fh7mRLZp4wc85oaijn5L3/vCNimTuuUQ="}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35306/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&cursor=&pageSize=5&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"400eec823414d1c8147ffca3817a6d6707e6863298b1872f0d710478acc40f0e","status_code":200,"status_desc":"OK","messages":[{"message_hash":"DxEzsHoJhLgH37o8eP9SX/ke/OEjhZfxl1fQt3HkYkg="},{"message_hash":"sDThy51n1DqwqQov9V/jTCwZ5W/EWFFT0fMrBo1M/Ak="},{"message_hash":"Bi5VGSIMufSjoTPsYPnTdD6YXmK0nSt3TqAMXvsTxBg="},{"message_hash":"nmTb8/AomGfwvYbprakZQKKzCJ2dzW2rggLz0vM2U1s="},{"message_hash":"AdFGMveqPk/fh7mRLZp4wc85oaijn5L3/vCNimTuuUQ="}],"pagination_cursor":"AdFGMveqPk/fh7mRLZp4wc85oaijn5L3/vCNimTuuUQ="}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id ce56cecb5ea0
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id a7661853864c
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container ce56cecb5ea0. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.