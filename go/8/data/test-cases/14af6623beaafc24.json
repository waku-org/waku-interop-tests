{"uid":"14af6623beaafc24","name":"test_relay_get_message_after_one_peer_was_stopped","fullName":"tests.relay.test_multiple_nodes.TestRelayMultipleNodes#test_relay_get_message_after_one_peer_was_stopped","historyId":"ebdd589a82e31374a01e2a187088872e","time":{"start":1707990899998,"stop":1707990901945,"duration":1947},"status":"failed","statusMessage":"AssertionError: Peer NODE_2:harbor.status.im/wakuorg/nwaku:latest couldn't find any messages","statusTrace":"tests/relay/test_multiple_nodes.py:35: in test_relay_get_message_after_one_peer_was_stopped\n    self.check_published_message_reaches_relay_peer(peer_list=self.optional_nodes)\nsrc/steps/relay.py:114: in check_published_message_reaches_relay_peer\n    assert get_messages_response, f\"Peer NODE_{index}:{peer.image} couldn't find any messages\"\nE   AssertionError: Peer NODE_2:harbor.status.im/wakuorg/nwaku:latest couldn't find any messages","flaky":true,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":false,"beforeStages":[{"name":"set_allure_env_variables","time":{"start":1707990519189,"stop":1707990519189,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail","time":{"start":1707990882293,"stop":1707990882293,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes","time":{"start":1707990882293,"stop":1707990882293,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_setup","time":{"start":1707990882293,"stop":1707990882294,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_id","time":{"start":1707990882293,"stop":1707990882293,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"relay_setup","time":{"start":1707990882294,"stop":1707990882294,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_main_relay_nodes","time":{"start":1707990882294,"stop":1707990886059,"duration":3765},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_optional_relay_nodes","time":{"start":1707990886059,"stop":1707990891918,"duration":5859},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"subscribe_main_relay_nodes","time":{"start":1707990891918,"stop":1707990891952,"duration":34},"status":"passed","steps":[{"name":"ensure_relay_subscriptions_on_nodes","time":{"start":1707990891918,"stop":1707990891952,"duration":34},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node_list","value":"[<src.node.waku_node.WakuNode object at 0x7f72c4bebbc0>, <src.node.waku_node.WakuNode object at 0x7f72c5726480>]"},{"name":"pubsub_topic_list","value":"['/waku/2/rs/0/1']"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"subscribe_optional_relay_nodes","time":{"start":1707990891952,"stop":1707990892025,"duration":73},"status":"passed","steps":[{"name":"ensure_relay_subscriptions_on_nodes","time":{"start":1707990891953,"stop":1707990892025,"duration":72},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node_list","value":"[<src.node.waku_node.WakuNode object at 0x7f72c4bb2360>, <src.node.waku_node.WakuNode object at 0x7f72c4c30410>, <src.node.waku_node.WakuNode object at 0x7f72c4bb2510>]"},{"name":"pubsub_topic_list","value":"['/waku/2/rs/0/1']"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"relay_warm_up","time":{"start":1707990892025,"stop":1707990899997,"duration":7972},"status":"passed","steps":[{"name":"wait_for_published_message_to_reach_relay_peer","time":{"start":1707990892025,"stop":1707990899996,"duration":7971},"status":"passed","steps":[{"name":"check_published_message_reaches_relay_peer","time":{"start":1707990892026,"stop":1707990892146,"duration":120},"status":"failed","statusMessage":"AssertionError: Peer NODE_2:harbor.status.im/wakuorg/nwaku:latest couldn't find any messages\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/relay.py\", line 114, in check_published_message_reaches_relay_peer\n    assert get_messages_response, f\"Peer NODE_{index}:{peer.image} couldn't find any messages\"\n","steps":[{"name":"assert_received_message","time":{"start":1707990892137,"stop":1707990892137,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'UmVsYXkgd29ya3MhIQ==', 'contentTopic': '/test/1/waku-relay/proto', 'timestamp': 1707990892025540864}"},{"name":"index","value":"0"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1707990892143,"stop":1707990892143,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'UmVsYXkgd29ya3MhIQ==', 'contentTopic': '/test/1/waku-relay/proto', 'timestamp': 1707990892025540864}"},{"name":"index","value":"0"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"message","value":"{'payload': 'UmVsYXkgd29ya3MhIQ==', 'contentTopic': '/test/1/waku-relay/proto', 'timestamp': 1707990892025540864}"},{"name":"pubsub_topic","value":"None"},{"name":"message_propagation_delay","value":"0.1"},{"name":"sender","value":"None"},{"name":"peer_list","value":"None"}],"shouldDisplayMessage":true,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_published_message_reaches_relay_peer","time":{"start":1707990893147,"stop":1707990893264,"duration":117},"status":"failed","statusMessage":"AssertionError: Peer NODE_2:harbor.status.im/wakuorg/nwaku:latest couldn't find any messages\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/relay.py\", line 114, in check_published_message_reaches_relay_peer\n    assert get_messages_response, f\"Peer NODE_{index}:{peer.image} couldn't find any messages\"\n","steps":[{"name":"assert_received_message","time":{"start":1707990893256,"stop":1707990893256,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'UmVsYXkgd29ya3MhIQ==', 'contentTopic': '/test/1/waku-relay/proto', 'timestamp': 1707990893146574848}"},{"name":"index","value":"0"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1707990893260,"stop":1707990893260,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'UmVsYXkgd29ya3MhIQ==', 'contentTopic': '/test/1/waku-relay/proto', 'timestamp': 1707990893146574848}"},{"name":"index","value":"0"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"message","value":"{'payload': 'UmVsYXkgd29ya3MhIQ==', 'contentTopic': '/test/1/waku-relay/proto', 'timestamp': 1707990893146574848}"},{"name":"pubsub_topic","value":"None"},{"name":"message_propagation_delay","value":"0.1"},{"name":"sender","value":"None"},{"name":"peer_list","value":"None"}],"shouldDisplayMessage":true,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_published_message_reaches_relay_peer","time":{"start":1707990894265,"stop":1707990894379,"duration":114},"status":"failed","statusMessage":"AssertionError: Peer NODE_2:harbor.status.im/wakuorg/nwaku:latest couldn't find any messages\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/relay.py\", line 114, in check_published_message_reaches_relay_peer\n    assert get_messages_response, f\"Peer NODE_{index}:{peer.image} couldn't find any messages\"\n","steps":[{"name":"assert_received_message","time":{"start":1707990894374,"stop":1707990894374,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'UmVsYXkgd29ya3MhIQ==', 'contentTopic': '/test/1/waku-relay/proto', 'timestamp': 1707990894264506880}"},{"name":"index","value":"0"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1707990894376,"stop":1707990894376,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'UmVsYXkgd29ya3MhIQ==', 'contentTopic': '/test/1/waku-relay/proto', 'timestamp': 1707990894264506880}"},{"name":"index","value":"0"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"message","value":"{'payload': 'UmVsYXkgd29ya3MhIQ==', 'contentTopic': '/test/1/waku-relay/proto', 'timestamp': 1707990894264506880}"},{"name":"pubsub_topic","value":"None"},{"name":"message_propagation_delay","value":"0.1"},{"name":"sender","value":"None"},{"name":"peer_list","value":"None"}],"shouldDisplayMessage":true,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_published_message_reaches_relay_peer","time":{"start":1707990895380,"stop":1707990895496,"duration":116},"status":"failed","statusMessage":"AssertionError: Peer NODE_2:harbor.status.im/wakuorg/nwaku:latest couldn't find any messages\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/relay.py\", line 114, in check_published_message_reaches_relay_peer\n    assert get_messages_response, f\"Peer NODE_{index}:{peer.image} couldn't find any messages\"\n","steps":[{"name":"assert_received_message","time":{"start":1707990895490,"stop":1707990895490,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'UmVsYXkgd29ya3MhIQ==', 'contentTopic': '/test/1/waku-relay/proto', 'timestamp': 1707990895379488256}"},{"name":"index","value":"0"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1707990895493,"stop":1707990895493,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'UmVsYXkgd29ya3MhIQ==', 'contentTopic': '/test/1/waku-relay/proto', 'timestamp': 1707990895379488256}"},{"name":"index","value":"0"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"message","value":"{'payload': 'UmVsYXkgd29ya3MhIQ==', 'contentTopic': '/test/1/waku-relay/proto', 'timestamp': 1707990895379488256}"},{"name":"pubsub_topic","value":"None"},{"name":"message_propagation_delay","value":"0.1"},{"name":"sender","value":"None"},{"name":"peer_list","value":"None"}],"shouldDisplayMessage":true,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_published_message_reaches_relay_peer","time":{"start":1707990896497,"stop":1707990896613,"duration":116},"status":"failed","statusMessage":"AssertionError: Peer NODE_2:harbor.status.im/wakuorg/nwaku:latest couldn't find any messages\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/relay.py\", line 114, in check_published_message_reaches_relay_peer\n    assert get_messages_response, f\"Peer NODE_{index}:{peer.image} couldn't find any messages\"\n","steps":[{"name":"assert_received_message","time":{"start":1707990896606,"stop":1707990896606,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'UmVsYXkgd29ya3MhIQ==', 'contentTopic': '/test/1/waku-relay/proto', 'timestamp': 1707990896496713728}"},{"name":"index","value":"0"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1707990896610,"stop":1707990896610,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'UmVsYXkgd29ya3MhIQ==', 'contentTopic': '/test/1/waku-relay/proto', 'timestamp': 1707990896496713728}"},{"name":"index","value":"0"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"message","value":"{'payload': 'UmVsYXkgd29ya3MhIQ==', 'contentTopic': '/test/1/waku-relay/proto', 'timestamp': 1707990896496713728}"},{"name":"pubsub_topic","value":"None"},{"name":"message_propagation_delay","value":"0.1"},{"name":"sender","value":"None"},{"name":"peer_list","value":"None"}],"shouldDisplayMessage":true,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_published_message_reaches_relay_peer","time":{"start":1707990897614,"stop":1707990897744,"duration":130},"status":"failed","statusMessage":"AssertionError: Expected 1 message but got 6\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/relay.py\", line 115, in check_published_message_reaches_relay_peer\n    assert len(get_messages_response) == 1, f\"Expected 1 message but got {len(get_messages_response)}\"\n","steps":[{"name":"assert_received_message","time":{"start":1707990897728,"stop":1707990897728,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'UmVsYXkgd29ya3MhIQ==', 'contentTopic': '/test/1/waku-relay/proto', 'timestamp': 1707990897613257728}"},{"name":"index","value":"0"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1707990897736,"stop":1707990897736,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'UmVsYXkgd29ya3MhIQ==', 'contentTopic': '/test/1/waku-relay/proto', 'timestamp': 1707990897613257728}"},{"name":"index","value":"0"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1707990897739,"stop":1707990897740,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'UmVsYXkgd29ya3MhIQ==', 'contentTopic': '/test/1/waku-relay/proto', 'timestamp': 1707990897613257728}"},{"name":"index","value":"0"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"message","value":"{'payload': 'UmVsYXkgd29ya3MhIQ==', 'contentTopic': '/test/1/waku-relay/proto', 'timestamp': 1707990897613257728}"},{"name":"pubsub_topic","value":"None"},{"name":"message_propagation_delay","value":"0.1"},{"name":"sender","value":"None"},{"name":"peer_list","value":"None"}],"shouldDisplayMessage":true,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_published_message_reaches_relay_peer","time":{"start":1707990898745,"stop":1707990898864,"duration":119},"status":"failed","statusMessage":"AssertionError: Peer NODE_4:harbor.status.im/wakuorg/nwaku:latest couldn't find any messages\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/relay.py\", line 114, in check_published_message_reaches_relay_peer\n    assert get_messages_response, f\"Peer NODE_{index}:{peer.image} couldn't find any messages\"\n","steps":[{"name":"assert_received_message","time":{"start":1707990898853,"stop":1707990898853,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'UmVsYXkgd29ya3MhIQ==', 'contentTopic': '/test/1/waku-relay/proto', 'timestamp': 1707990898744270336}"},{"name":"index","value":"0"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1707990898856,"stop":1707990898856,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'UmVsYXkgd29ya3MhIQ==', 'contentTopic': '/test/1/waku-relay/proto', 'timestamp': 1707990898744270336}"},{"name":"index","value":"0"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1707990898858,"stop":1707990898859,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'UmVsYXkgd29ya3MhIQ==', 'contentTopic': '/test/1/waku-relay/proto', 'timestamp': 1707990898744270336}"},{"name":"index","value":"0"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1707990898861,"stop":1707990898861,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'UmVsYXkgd29ya3MhIQ==', 'contentTopic': '/test/1/waku-relay/proto', 'timestamp': 1707990898744270336}"},{"name":"index","value":"0"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"message","value":"{'payload': 'UmVsYXkgd29ya3MhIQ==', 'contentTopic': '/test/1/waku-relay/proto', 'timestamp': 1707990898744270336}"},{"name":"pubsub_topic","value":"None"},{"name":"message_propagation_delay","value":"0.1"},{"name":"sender","value":"None"},{"name":"peer_list","value":"None"}],"shouldDisplayMessage":true,"stepsCount":4,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_published_message_reaches_relay_peer","time":{"start":1707990899866,"stop":1707990899992,"duration":126},"status":"passed","steps":[{"name":"assert_received_message","time":{"start":1707990899977,"stop":1707990899977,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'UmVsYXkgd29ya3MhIQ==', 'contentTopic': '/test/1/waku-relay/proto', 'timestamp': 1707990899865223936}"},{"name":"index","value":"0"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1707990899980,"stop":1707990899980,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'UmVsYXkgd29ya3MhIQ==', 'contentTopic': '/test/1/waku-relay/proto', 'timestamp': 1707990899865223936}"},{"name":"index","value":"0"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1707990899984,"stop":1707990899984,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'UmVsYXkgd29ya3MhIQ==', 'contentTopic': '/test/1/waku-relay/proto', 'timestamp': 1707990899865223936}"},{"name":"index","value":"0"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1707990899987,"stop":1707990899987,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'UmVsYXkgd29ya3MhIQ==', 'contentTopic': '/test/1/waku-relay/proto', 'timestamp': 1707990899865223936}"},{"name":"index","value":"0"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1707990899992,"stop":1707990899992,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'UmVsYXkgd29ya3MhIQ==', 'contentTopic': '/test/1/waku-relay/proto', 'timestamp': 1707990899865223936}"},{"name":"index","value":"0"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"message","value":"{'payload': 'UmVsYXkgd29ya3MhIQ==', 'contentTopic': '/test/1/waku-relay/proto', 'timestamp': 1707990899865223936}"},{"name":"pubsub_topic","value":"None"},{"name":"message_propagation_delay","value":"0.1"},{"name":"sender","value":"None"},{"name":"peer_list","value":"None"}],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"timeout_duration","value":"120"},{"name":"time_between_retries","value":"1"},{"name":"pubsub_topic","value":"None"},{"name":"sender","value":"None"},{"name":"peer_list","value":"None"}],"shouldDisplayMessage":false,"stepsCount":30,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":31,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: Peer NODE_2:harbor.status.im/wakuorg/nwaku:latest couldn't find any messages","statusTrace":"tests/relay/test_multiple_nodes.py:35: in test_relay_get_message_after_one_peer_was_stopped\n    self.check_published_message_reaches_relay_peer(peer_list=self.optional_nodes)\nsrc/steps/relay.py:114: in check_published_message_reaches_relay_peer\n    assert get_messages_response, f\"Peer NODE_{index}:{peer.image} couldn't find any messages\"\nE   AssertionError: Peer NODE_2:harbor.status.im/wakuorg/nwaku:latest couldn't find any messages","steps":[{"name":"check_published_message_reaches_relay_peer","time":{"start":1707990899999,"stop":1707990900127,"duration":128},"status":"passed","steps":[{"name":"create_message","time":{"start":1707990899999,"stop":1707990899999,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1707990900110,"stop":1707990900110,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'UmVsYXkgd29ya3MhIQ==', 'contentTopic': '/test/1/waku-relay/proto', 'timestamp': 1707990899999127040}"},{"name":"index","value":"0"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1707990900115,"stop":1707990900115,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'UmVsYXkgd29ya3MhIQ==', 'contentTopic': '/test/1/waku-relay/proto', 'timestamp': 1707990899999127040}"},{"name":"index","value":"0"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1707990900118,"stop":1707990900118,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'UmVsYXkgd29ya3MhIQ==', 'contentTopic': '/test/1/waku-relay/proto', 'timestamp': 1707990899999127040}"},{"name":"index","value":"0"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1707990900121,"stop":1707990900121,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'UmVsYXkgd29ya3MhIQ==', 'contentTopic': '/test/1/waku-relay/proto', 'timestamp': 1707990899999127040}"},{"name":"index","value":"0"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1707990900127,"stop":1707990900127,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'UmVsYXkgd29ya3MhIQ==', 'contentTopic': '/test/1/waku-relay/proto', 'timestamp': 1707990899999127040}"},{"name":"index","value":"0"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"message","value":"None"},{"name":"pubsub_topic","value":"None"},{"name":"message_propagation_delay","value":"0.1"},{"name":"sender","value":"None"},{"name":"peer_list","value":"[<src.node.waku_node.WakuNode object at 0x7f72c4bebbc0>, <src.node.waku_node.WakuNode object at 0x7f72c5726480>, <src.node.waku_node.WakuNode object at 0x7f72c4bb2360>, <src.node.waku_node.WakuNode object at 0x7f72c4c30410>, <src.node.waku_node.WakuNode object at 0x7f72c4bb2510>]"}],"shouldDisplayMessage":false,"stepsCount":6,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_published_message_reaches_relay_peer","time":{"start":1707990901825,"stop":1707990901944,"duration":119},"status":"failed","statusMessage":"AssertionError: Peer NODE_2:harbor.status.im/wakuorg/nwaku:latest couldn't find any messages\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/relay.py\", line 114, in check_published_message_reaches_relay_peer\n    assert get_messages_response, f\"Peer NODE_{index}:{peer.image} couldn't find any messages\"\n","steps":[{"name":"create_message","time":{"start":1707990901825,"stop":1707990901825,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1707990901937,"stop":1707990901937,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'UmVsYXkgd29ya3MhIQ==', 'contentTopic': '/test/1/waku-relay/proto', 'timestamp': 1707990901825253376}"},{"name":"index","value":"0"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1707990901941,"stop":1707990901941,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'UmVsYXkgd29ya3MhIQ==', 'contentTopic': '/test/1/waku-relay/proto', 'timestamp': 1707990901825253376}"},{"name":"index","value":"0"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"message","value":"None"},{"name":"pubsub_topic","value":"None"},{"name":"message_propagation_delay","value":"0.1"},{"name":"sender","value":"None"},{"name":"peer_list","value":"[<src.node.waku_node.WakuNode object at 0x7f72c4bb2360>, <src.node.waku_node.WakuNode object at 0x7f72c4c30410>, <src.node.waku_node.WakuNode object at 0x7f72c4bb2510>]"}],"shouldDisplayMessage":true,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"2b902392f9b81d92","name":"log","source":"2b902392f9b81d92.txt","type":"text/plain","size":92414}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":11,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"test_setup::0","time":{"start":1707990901964,"stop":1707990901966,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes::0","time":{"start":1707990901967,"stop":1707990911355,"duration":9388},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail::0","time":{"start":1707990911356,"stop":1707990911362,"duration":6},"status":"passed","steps":[],"attachments":[{"uid":"2cffdd82f5c92bd7","name":"additional_node0_2024-02-15_09-54-42__e6a4d35a-ebcb-4b42-8771-71e0e4ae5ec2__harbor.status.im_wakuorg_nwaku:latest.log","source":"2cffdd82f5c92bd7.txt","type":"text/plain","size":217221},{"uid":"d1b0d0aa3b1ac962","name":"additional_node1_2024-02-15_09-54-42__e6a4d35a-ebcb-4b42-8771-71e0e4ae5ec2__harbor.status.im_wakuorg_go-waku:latest.log","source":"d1b0d0aa3b1ac962.txt","type":"text/plain","size":88842},{"uid":"49fb9a7a3eefb879","name":"node1_2024-02-15_09-54-42__e6a4d35a-ebcb-4b42-8771-71e0e4ae5ec2__harbor.status.im_wakuorg_nwaku:latest.log","source":"49fb9a7a3eefb879.txt","type":"text/plain","size":252347},{"uid":"49c528024a4ba8a9","name":"additional_node2_2024-02-15_09-54-42__e6a4d35a-ebcb-4b42-8771-71e0e4ae5ec2__harbor.status.im_wakuorg_nwaku:latest.log","source":"49c528024a4ba8a9.txt","type":"text/plain","size":193044},{"uid":"dac376f67fed272","name":"node2_2024-02-15_09-54-42__e6a4d35a-ebcb-4b42-8771-71e0e4ae5ec2__harbor.status.im_wakuorg_go-waku:latest.log","source":"dac376f67fed272.txt","type":"text/plain","size":91290}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":5,"hasContent":true,"attachmentStep":false},{"name":"set_allure_env_variables::0","time":{"start":1707990954566,"stop":1707990954566,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"@pytest.mark.usefixtures('setup_main_relay_nodes', 'setup_optional_relay_nodes', 'subscribe_main_relay_nodes')"},{"name":"parentSuite","value":"tests.relay"},{"name":"suite","value":"test_multiple_nodes"},{"name":"subSuite","value":"TestRelayMultipleNodes"},{"name":"host","value":"fv-az692-225"},{"name":"thread","value":"2060-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.relay.test_multiple_nodes"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"4866d4c11ce66cbe","status":"failed","statusDetails":"AssertionError: Peer NODE_0:harbor.status.im/wakuorg/nwaku:latest couldn't find any messages","time":{"start":1707990868901,"stop":1707990871215,"duration":2314}}],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":5,"broken":0,"skipped":0,"passed":26,"unknown":0,"total":31},"items":[{"uid":"7e7c9400e6372729","reportUrl":"https://waku-org.github.io/waku-interop-tests/7//#testresult/7e7c9400e6372729","status":"passed","time":{"start":1707966964870,"stop":1707966967010,"duration":2140}},{"uid":"7a6949d38094e2a7","reportUrl":"https://waku-org.github.io/waku-interop-tests/6//#testresult/7a6949d38094e2a7","status":"passed","time":{"start":1707880575908,"stop":1707880578865,"duration":2957}},{"uid":"7d4fc65f3945132a","reportUrl":"https://waku-org.github.io/waku-interop-tests/5//#testresult/7d4fc65f3945132a","status":"failed","statusDetails":"AssertionError: Peer NODE_0:harbor.status.im/wakuorg/nwaku:latest couldn't find any messages","time":{"start":1707794195110,"stop":1707794196975,"duration":1865}},{"uid":"77ca9d9c3a30537d","reportUrl":"https://waku-org.github.io/waku-interop-tests/4//#testresult/77ca9d9c3a30537d","status":"passed","time":{"start":1707707693743,"stop":1707707696061,"duration":2318}},{"uid":"9b3d62861f0272dd","reportUrl":"https://waku-org.github.io/waku-interop-tests/3//#testresult/9b3d62861f0272dd","status":"passed","time":{"start":1707621294779,"stop":1707621296687,"duration":1908}},{"uid":"dee6d90aba67030c","reportUrl":"https://waku-org.github.io/waku-interop-tests/2//#testresult/dee6d90aba67030c","status":"failed","statusDetails":"AssertionError: Peer NODE_0:harbor.status.im/wakuorg/nwaku:latest couldn't find any messages","time":{"start":1707534988264,"stop":1707534989846,"duration":1582}},{"uid":"e9995422b92fbaf5","reportUrl":"https://waku-org.github.io/waku-interop-tests/1//#testresult/e9995422b92fbaf5","status":"failed","statusDetails":"AssertionError: Peer NODE_0:harbor.status.im/wakuorg/nwaku:latest couldn't find any messages","time":{"start":1707448549995,"stop":1707448551443,"duration":1448}},{"uid":"a956751400d5ce52","reportUrl":"https://waku-org.github.io/waku-interop-tests/59//#testresult/a956751400d5ce52","status":"passed","time":{"start":1707362059356,"stop":1707362061528,"duration":2172}},{"uid":"89f99285b007cf8f","reportUrl":"https://waku-org.github.io/waku-interop-tests/58//#testresult/89f99285b007cf8f","status":"passed","time":{"start":1707275704143,"stop":1707275706128,"duration":1985}},{"uid":"120f2209c226c3e4","reportUrl":"https://waku-org.github.io/waku-interop-tests/57//#testresult/120f2209c226c3e4","status":"passed","time":{"start":1707189308058,"stop":1707189310938,"duration":2880}},{"uid":"d276b4573f15d7d8","reportUrl":"https://waku-org.github.io/waku-interop-tests/56//#testresult/d276b4573f15d7d8","status":"passed","time":{"start":1707102929087,"stop":1707102933278,"duration":4191}},{"uid":"d8c56912936b5346","reportUrl":"https://waku-org.github.io/waku-interop-tests/55//#testresult/d8c56912936b5346","status":"passed","time":{"start":1707016430577,"stop":1707016434565,"duration":3988}},{"uid":"b20b32bbb03b481","reportUrl":"https://waku-org.github.io/waku-interop-tests/54//#testresult/b20b32bbb03b481","status":"passed","time":{"start":1706930073977,"stop":1706930077897,"duration":3920}},{"uid":"d5c86636ac1bd404","reportUrl":"https://waku-org.github.io/waku-interop-tests/53//#testresult/d5c86636ac1bd404","status":"passed","time":{"start":1706843692432,"stop":1706843693833,"duration":1401}},{"uid":"b4a54838d833845d","reportUrl":"https://waku-org.github.io/waku-interop-tests/52//#testresult/b4a54838d833845d","status":"passed","time":{"start":1706757323318,"stop":1706757327377,"duration":4059}},{"uid":"ed0a852d28a50270","reportUrl":"https://waku-org.github.io/waku-interop-tests/51//#testresult/ed0a852d28a50270","status":"passed","time":{"start":1706670793191,"stop":1706670797219,"duration":4028}},{"uid":"e8e9030c42895f3f","reportUrl":"https://waku-org.github.io/waku-interop-tests/50//#testresult/e8e9030c42895f3f","status":"passed","time":{"start":1706584440150,"stop":1706584442571,"duration":2421}},{"uid":"63dd247c993b2de5","reportUrl":"https://waku-org.github.io/waku-interop-tests/49//#testresult/63dd247c993b2de5","status":"passed","time":{"start":1706498101654,"stop":1706498103243,"duration":1589}},{"uid":"ea4cc4a32f637b2a","reportUrl":"https://waku-org.github.io/waku-interop-tests/48//#testresult/ea4cc4a32f637b2a","status":"passed","time":{"start":1706411683873,"stop":1706411686340,"duration":2467}},{"uid":"7316fa2feb448a5f","reportUrl":"https://waku-org.github.io/waku-interop-tests/47//#testresult/7316fa2feb448a5f","status":"passed","time":{"start":1706325211916,"stop":1706325213709,"duration":1793}}]},"tags":["@pytest.mark.usefixtures('setup_main_relay_nodes', 'setup_optional_relay_nodes', 'subscribe_main_relay_nodes')"]},"source":"14af6623beaafc24.json","parameterValues":[]}