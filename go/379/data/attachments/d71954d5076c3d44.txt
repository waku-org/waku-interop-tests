[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_relay_get_message_after_one_peer_was_stopped with id: 2024-12-02_03-28-54__a03d0c9d-9a38-430a-b6c0-de12e6787819
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-02_03-28-54__a03d0c9d-9a38-430a-b6c0-de12e6787819__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.242.55
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['59604', '59605', '59606', '59607', '59608']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 59604:59604 -p 59605:59605 -p 59606:59606 -p 59607:59607 -p 59608:59608 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=59606 --rest-port=59604 --tcp-port=59605 --discv5-udp-port=59607 --rest-address=0.0.0.0 --nat=extip:172.18.242.55 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8dc0ad092db386bfda23cafa8b51e3e685c113ccbf0abd5ab8f6d4ab9fbc6d6d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=59608 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.242.55 waku 9841585f7d2651a017f0ed36a933263b73c5751c5313ccf51a992eef06436f81
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 9841585f7d26. Setting up logs at ./log/docker/node1_2024-12-02_03-28-54__a03d0c9d-9a38-430a-b6c0-de12e6787819__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 59604
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 9de23ea5d600. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59604/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59604/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.242.55/tcp/59605/p2p/16Uiu2HAm5CHiY6QZAkJBH7sRgKWeXjuvHx8Looag8pLNWNDzyE9x","/ip4/172.18.242.55/tcp/59606/ws/p2p/16Uiu2HAm5CHiY6QZAkJBH7sRgKWeXjuvHx8Looag8pLNWNDzyE9x"],"enrUri":"enr:-L24QL_b4HlLIXE4zqY0UCQlIhZOeph65TJT3Wy549JV9XT_GlS2ChOW150QBDdmeFdnnlqzlb0pSSYdYJQ69dXI88MCgmlkgnY0gmlwhKwS8jeKbXVsdGlhZGRyc5YACASsEvI3BujVAAoErBLyNwbo1t0DgnJzhQADAQAAiXNlY3AyNTZrMaECkSclVcovQrr6uIL6Y3myfrg5Zres41dHBhtnZS0q7GuDdGNwgujVg3VkcILo14V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-02_03-28-54__a03d0c9d-9a38-430a-b6c0-de12e6787819__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.226.134
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['2543', '2544', '2545', '2546', '2547']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 2543:2543 -p 2544:2544 -p 2545:2545 -p 2546:2546 -p 2547:2547 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=2545 --rest-port=2543 --tcp-port=2544 --discv5-udp-port=2546 --rest-address=0.0.0.0 --nat=extip:172.18.226.134 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a3e37bfc702c841df0e0fefd77f61fc0b67c1aa3012a66658d5c5e772bf769cd --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-L24QL_b4HlLIXE4zqY0UCQlIhZOeph65TJT3Wy549JV9XT_GlS2ChOW150QBDdmeFdnnlqzlb0pSSYdYJQ69dXI88MCgmlkgnY0gmlwhKwS8jeKbXVsdGlhZGRyc5YACASsEvI3BujVAAoErBLyNwbo1t0DgnJzhQADAQAAiXNlY3AyNTZrMaECkSclVcovQrr6uIL6Y3myfrg5Zres41dHBhtnZS0q7GuDdGNwgujVg3VkcILo14V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.226.134 waku bb47ad72471ac840dcb8e095ba4415eb092fa3efa7f1adf968d222b65f3b758b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID bb47ad72471a. Setting up logs at ./log/docker/node2_2024-12-02_03-28-54__a03d0c9d-9a38-430a-b6c0-de12e6787819__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 2543
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2543/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QO9aYztBAhFlrlyzAt-ZxL3E8_whPCDTaBWk8-aYGgzCYNs0G3vKHJy51hjMukXrfVLXax8VR-yi03AZtR5Qu3CGAZOFaf51gmlkgnY0gmlwhKwRAAqCcnODAAMAiXNlY3AyNTZrMaECXt0NcSmpStmixyern4GiQ-INObAL2u96pdzA6cX6RI-DdGNwggnwg3VkcIIJ8oV3YWt1MgE","listenAddresses":["/ip4/127.0.0.1/tcp/2544/p2p/16Uiu2HAm1oyoZPnSQ1foF1qB3jrRt8Hqhr4gqet5YcGQGEi2ALvA","/ip4/127.0.0.1/tcp/2545/ws/p2p/16Uiu2HAm1oyoZPnSQ1foF1qB3jrRt8Hqhr4gqet5YcGQGEi2ALvA","/ip4/172.17.0.10/tcp/2544/p2p/16Uiu2HAm1oyoZPnSQ1foF1qB3jrRt8Hqhr4gqet5YcGQGEi2ALvA","/ip4/172.17.0.10/tcp/2545/ws/p2p/16Uiu2HAm1oyoZPnSQ1foF1qB3jrRt8Hqhr4gqet5YcGQGEi2ALvA"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2543/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.242.55/tcp/59605/p2p/16Uiu2HAm5CHiY6QZAkJBH7sRgKWeXjuvHx8Looag8pLNWNDzyE9x", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-12-02_03-28-54__a03d0c9d-9a38-430a-b6c0-de12e6787819__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.215.23
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['64788', '64789', '64790', '64791', '64792']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 64788:64788 -p 64789:64789 -p 64790:64790 -p 64791:64791 -p 64792:64792 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=64790 --rest-port=64788 --tcp-port=64789 --discv5-udp-port=64791 --rest-address=0.0.0.0 --nat=extip:172.18.215.23 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6bc8acce9edbf1ddbada14cf7ab6f5b1cc8bd2a5bc20d6ab3fcf2c7bbbb80818 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=64792 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QL_b4HlLIXE4zqY0UCQlIhZOeph65TJT3Wy549JV9XT_GlS2ChOW150QBDdmeFdnnlqzlb0pSSYdYJQ69dXI88MCgmlkgnY0gmlwhKwS8jeKbXVsdGlhZGRyc5YACASsEvI3BujVAAoErBLyNwbo1t0DgnJzhQADAQAAiXNlY3AyNTZrMaECkSclVcovQrr6uIL6Y3myfrg5Zres41dHBhtnZS0q7GuDdGNwgujVg3VkcILo14V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.215.23 waku f6927185190fdb8ff8ae8875bb1e601fb4ab45572e863ac9eb14d6ce74d579fb
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID f6927185190f. Setting up logs at ./log/docker/node3_2024-12-02_03-28-54__a03d0c9d-9a38-430a-b6c0-de12e6787819__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 64788
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64788/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64788/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.215.23/tcp/64789/p2p/16Uiu2HAkxb85TE35UKFDeMaC7U8hQdzRsMNuLS9Uust1kodBbrCD","/ip4/172.18.215.23/tcp/64790/ws/p2p/16Uiu2HAkxb85TE35UKFDeMaC7U8hQdzRsMNuLS9Uust1kodBbrCD"],"enrUri":"enr:-L24QO0dQgiewSmDLxITc4SG0E5Jmt_kRuzN9teOAthW1W86JOK01YYm-14m9rgXyyHMhqeFtI_GKYgZ7-P6K_8XQ6ICgmlkgnY0gmlwhKwS1xeKbXVsdGlhZGRyc5YACASsEtcXBv0VAAoErBLXFwb9Ft0DgnJzhQADAQAAiXNlY3AyNTZrMaECLv7L84k9dlBLfWo2g8urPIwCaWe8We9I_YFLVTaddd6DdGNwgv0Vg3VkcIL9F4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:64788/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.242.55/tcp/59605/p2p/16Uiu2HAm5CHiY6QZAkJBH7sRgKWeXjuvHx8Looag8pLNWNDzyE9x"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-12-02_03-28-54__a03d0c9d-9a38-430a-b6c0-de12e6787819__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.127.186
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['20781', '20782', '20783', '20784', '20785']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 20781:20781 -p 20782:20782 -p 20783:20783 -p 20784:20784 -p 20785:20785 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=20783 --rest-port=20781 --tcp-port=20782 --discv5-udp-port=20784 --rest-address=0.0.0.0 --nat=extip:172.18.127.186 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fcaa7217cfbfcd988c0eb34d1fa529b0d4bbf8006f7949836c284e8dd99fde30 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-L24QL_b4HlLIXE4zqY0UCQlIhZOeph65TJT3Wy549JV9XT_GlS2ChOW150QBDdmeFdnnlqzlb0pSSYdYJQ69dXI88MCgmlkgnY0gmlwhKwS8jeKbXVsdGlhZGRyc5YACASsEvI3BujVAAoErBLyNwbo1t0DgnJzhQADAQAAiXNlY3AyNTZrMaECkSclVcovQrr6uIL6Y3myfrg5Zres41dHBhtnZS0q7GuDdGNwgujVg3VkcILo14V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.127.186 waku 0eae7ae5ee3eb1eaf48be8c1ef2a3627cb3fe9af7358d54779ed9bb398164a03
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 0eae7ae5ee3e. Setting up logs at ./log/docker/node4_2024-12-02_03-28-54__a03d0c9d-9a38-430a-b6c0-de12e6787819__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 20781
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20781/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QOi9eqLSdnYMUcH4Y4t8rJPIlgZnz2lcSZTXEymDD4XhC1UmhjfKDXpHww0Hv6xNMD5AKFRcWIfalxt7XwyuyByGAZOFagzqgmlkgnY0gmlwhKwRAA-CcnODAAMAiXNlY3AyNTZrMaEDjXRukJr57jAL8OAogBOL8Z9ud7kmDkgzLdHPiafsEeCDdGNwglEug3VkcIJRMIV3YWt1MgE","listenAddresses":["/ip4/127.0.0.1/tcp/20782/p2p/16Uiu2HAmNBAosdMDyxz1dxEyi7foZkrhNfE9Tu249TfK3KfZ2Sum","/ip4/127.0.0.1/tcp/20783/ws/p2p/16Uiu2HAmNBAosdMDyxz1dxEyi7foZkrhNfE9Tu249TfK3KfZ2Sum","/ip4/172.17.0.15/tcp/20782/p2p/16Uiu2HAmNBAosdMDyxz1dxEyi7foZkrhNfE9Tu249TfK3KfZ2Sum","/ip4/172.17.0.15/tcp/20783/ws/p2p/16Uiu2HAmNBAosdMDyxz1dxEyi7foZkrhNfE9Tu249TfK3KfZ2Sum"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20781/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.242.55/tcp/59605/p2p/16Uiu2HAm5CHiY6QZAkJBH7sRgKWeXjuvHx8Looag8pLNWNDzyE9x", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-12-02_03-28-54__a03d0c9d-9a38-430a-b6c0-de12e6787819__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.42.85
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['45007', '45008', '45009', '45010', '45011']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 45007:45007 -p 45008:45008 -p 45009:45009 -p 45010:45010 -p 45011:45011 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=45009 --rest-port=45007 --tcp-port=45008 --discv5-udp-port=45010 --rest-address=0.0.0.0 --nat=extip:172.18.42.85 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d0eab7ce0adbb5cc80bfed3321cc53ad1a9aa53b5e6d7efb3bc72c4aa53d39ce --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=45011 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QL_b4HlLIXE4zqY0UCQlIhZOeph65TJT3Wy549JV9XT_GlS2ChOW150QBDdmeFdnnlqzlb0pSSYdYJQ69dXI88MCgmlkgnY0gmlwhKwS8jeKbXVsdGlhZGRyc5YACASsEvI3BujVAAoErBLyNwbo1t0DgnJzhQADAQAAiXNlY3AyNTZrMaECkSclVcovQrr6uIL6Y3myfrg5Zres41dHBhtnZS0q7GuDdGNwgujVg3VkcILo14V3YWt1MgE
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.24.30
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['11866', '11867', '11868', '11869', '11870']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 11866:11866 -p 11867:11867 -p 11868:11868 -p 11869:11869 -p 11870:11870 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=11868 --rest-port=11866 --tcp-port=11867 --discv5-udp-port=11869 --rest-address=0.0.0.0 --nat=extip:172.18.24.30 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=423f157ae706e7e8fb791b6ebdaa29ce52bc7b43bcaf478eec02be848c2e17ef --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=11870 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QL_b4HlLIXE4zqY0UCQlIhZOeph65TJT3Wy549JV9XT_GlS2ChOW150QBDdmeFdnnlqzlb0pSSYdYJQ69dXI88MCgmlkgnY0gmlwhKwS8jeKbXVsdGlhZGRyc5YACASsEvI3BujVAAoErBLyNwbo1t0DgnJzhQADAQAAiXNlY3AyNTZrMaECkSclVcovQrr6uIL6Y3myfrg5Zres41dHBhtnZS0q7GuDdGNwgujVg3VkcILo14V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.24.30 waku 28aefa6afa931be76d4bb3472d2f7712082f7882d6796323d6c90bdd6f24ef4c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 28aefa6afa93. Setting up logs at ./log/docker/node5_2024-12-02_03-28-54__a03d0c9d-9a38-430a-b6c0-de12e6787819__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 11866
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11866/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11866/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.24.30/tcp/11867/p2p/16Uiu2HAmSUoPurGRVq9zDoiQALZDiQPUGYB6jGCk7T9DjCkwpP7Y","/ip4/172.18.24.30/tcp/11868/ws/p2p/16Uiu2HAmSUoPurGRVq9zDoiQALZDiQPUGYB6jGCk7T9DjCkwpP7Y"],"enrUri":"enr:-L24QKvDiyrkKDuxJ_o1FqeF4ZopZL_eawRa2SjuXsYHUE0fEBaKus86ihnssWoWJfHZwIGRUTRYRDUrpzw8cDv5Q_cCgmlkgnY0gmlwhKwSGB6KbXVsdGlhZGRyc5YACASsEhgeBi5bAAoErBIYHgYuXN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDzWdsGQWet_fvPRT2RkVCiJlSst9_oWPSPysFWj-ddOuDdGNwgi5bg3VkcIIuXYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11866/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.242.55/tcp/59605/p2p/16Uiu2HAm5CHiY6QZAkJBH7sRgKWeXjuvHx8Looag8pLNWNDzyE9x"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59604/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2543/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:64788/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20781/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11866/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59604/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59604/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733110144153718272,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2543/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733110144153718272,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64788/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733110144153718272,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20781/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733110144153718272,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11866/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733110144153718272,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59604/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59604/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733110144282573056,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2543/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733110144282573056,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64788/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733110144282573056,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20781/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733110144282573056,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11866/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733110144282573056,"ephemeral":false}]'
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id bb47ad72471a
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59604/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64788/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733110147246395136,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20781/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733110147246395136,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11866/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733110147246395136,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 9841585f7d26
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container bb47ad72471a. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id f6927185190f
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 9841585f7d26. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 0eae7ae5ee3e
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container f6927185190f. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 28aefa6afa93
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 0eae7ae5ee3e. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.