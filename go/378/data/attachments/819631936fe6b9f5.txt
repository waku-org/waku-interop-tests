[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_pubsub_topic with id: 2024-12-01_03-35-05__a0f574ef-3ccd-4d92-b54d-3a7bc78846da
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-01_03-35-05__a0f574ef-3ccd-4d92-b54d-3a7bc78846da__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.207.151
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['40146', '40147', '40148', '40149', '40150']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 40146:40146 -p 40147:40147 -p 40148:40148 -p 40149:40149 -p 40150:40150 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=40148 --rest-port=40146 --tcp-port=40147 --discv5-udp-port=40149 --rest-address=0.0.0.0 --nat=extip:172.18.207.151 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2cf8c9e7bd30c0eabd36debcd5c8ab4d5f53bc924e8f4cfdb3adcfca51f0225d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=40150 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.207.151 waku e5dd33bc02d2fd349f93708e7b93df9bec1f3063508cf6d99dff2ec7db2bc123
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID e5dd33bc02d2. Setting up logs at ./log/docker/node1_2024-12-01_03-35-05__a0f574ef-3ccd-4d92-b54d-3a7bc78846da__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 40146
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 0f9eaefddfee. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40146/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40146/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.207.151/tcp/40147/p2p/16Uiu2HAkwzK1KveB3zqLTNCzUno9Hkf843ihdjogqYKBWfpbxavJ","/ip4/172.18.207.151/tcp/40148/ws/p2p/16Uiu2HAkwzK1KveB3zqLTNCzUno9Hkf843ihdjogqYKBWfpbxavJ"],"enrUri":"enr:-L24QCI-C6MGKJ9IqG0IVJ_uKueRrAGREWHiaPiv8daqErMBNHdiFXDlmTVrIIwQN81aUKialoaBcIm8SUPz65EBGrgCgmlkgnY0gmlwhKwSz5eKbXVsdGlhZGRyc5YACASsEs-XBpzTAAoErBLPlwac1N0DgnJzhQADAQAAiXNlY3AyNTZrMaECJhPTX1kW66FG88-LgkzgKl_8TbxrqUU7pGsX-iOcOM-DdGNwgpzTg3VkcIKc1YV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-01_03-35-05__a0f574ef-3ccd-4d92-b54d-3a7bc78846da__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.122.23
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['32033', '32034', '32035', '32036', '32037']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 32033:32033 -p 32034:32034 -p 32035:32035 -p 32036:32036 -p 32037:32037 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=32035 --rest-port=32033 --tcp-port=32034 --discv5-udp-port=32036 --rest-address=0.0.0.0 --nat=extip:172.18.122.23 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e52eca5befb0db1f2d1aaa2f9dceaddd0a82fb4e639caae4aeae1f04ba1a44b0 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-L24QCI-C6MGKJ9IqG0IVJ_uKueRrAGREWHiaPiv8daqErMBNHdiFXDlmTVrIIwQN81aUKialoaBcIm8SUPz65EBGrgCgmlkgnY0gmlwhKwSz5eKbXVsdGlhZGRyc5YACASsEs-XBpzTAAoErBLPlwac1N0DgnJzhQADAQAAiXNlY3AyNTZrMaECJhPTX1kW66FG88-LgkzgKl_8TbxrqUU7pGsX-iOcOM-DdGNwgpzTg3VkcIKc1YV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.122.23 waku 5f1e623c3fcae15e2b6b597c885b9e79671023681d16dc9c13d44bc0f134d8e4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 5f1e623c3fca. Setting up logs at ./log/docker/node2_2024-12-01_03-35-05__a0f574ef-3ccd-4d92-b54d-3a7bc78846da__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 32033
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32033/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QJlpe1n0R0n041wDaeinZvBboZ-YCHQCBX8BeNGtWbtnCWpMy_gxC6lI3-dRrkbENDBCU7VL-2EM-FbQMnr_E6uGAZOASUwsgmlkgnY0gmlwhKwRAAWCcnODAAMAiXNlY3AyNTZrMaEDvFA5Jj6VkdavyREAWWpc2hH_jO3q07fYTS2K1x9TjwGDdGNwgn0ig3VkcIJ9JIV3YWt1MgE","listenAddresses":["/ip4/127.0.0.1/tcp/32034/p2p/16Uiu2HAmRL5wv8z8ePXT8aWqYsH9YDm8PK3E5FWTTJKU4sHRRmoe","/ip4/127.0.0.1/tcp/32035/ws/p2p/16Uiu2HAmRL5wv8z8ePXT8aWqYsH9YDm8PK3E5FWTTJKU4sHRRmoe","/ip4/172.17.0.5/tcp/32034/p2p/16Uiu2HAmRL5wv8z8ePXT8aWqYsH9YDm8PK3E5FWTTJKU4sHRRmoe","/ip4/172.17.0.5/tcp/32035/ws/p2p/16Uiu2HAmRL5wv8z8ePXT8aWqYsH9YDm8PK3E5FWTTJKU4sHRRmoe"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32033/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.207.151/tcp/40147/p2p/16Uiu2HAkwzK1KveB3zqLTNCzUno9Hkf843ihdjogqYKBWfpbxavJ", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-12-01_03-35-05__a0f574ef-3ccd-4d92-b54d-3a7bc78846da__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.126.249
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['59965', '59966', '59967', '59968', '59969']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 59965:59965 -p 59966:59966 -p 59967:59967 -p 59968:59968 -p 59969:59969 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=59967 --rest-port=59965 --tcp-port=59966 --discv5-udp-port=59968 --rest-address=0.0.0.0 --nat=extip:172.18.126.249 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=73c5c9ff7fbab2a6d77d6a1284aca90094dcd306bfb6ea5b29fceedb704d432b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=59969 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QCI-C6MGKJ9IqG0IVJ_uKueRrAGREWHiaPiv8daqErMBNHdiFXDlmTVrIIwQN81aUKialoaBcIm8SUPz65EBGrgCgmlkgnY0gmlwhKwSz5eKbXVsdGlhZGRyc5YACASsEs-XBpzTAAoErBLPlwac1N0DgnJzhQADAQAAiXNlY3AyNTZrMaECJhPTX1kW66FG88-LgkzgKl_8TbxrqUU7pGsX-iOcOM-DdGNwgpzTg3VkcIKc1YV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.126.249 waku 24d787bb22ec08f21fc677d9acc2f76c86acbb1aba98da68949adf779ae473ba
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 24d787bb22ec. Setting up logs at ./log/docker/node3_2024-12-01_03-35-05__a0f574ef-3ccd-4d92-b54d-3a7bc78846da__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 59965
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59965/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59965/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.126.249/tcp/59966/p2p/16Uiu2HAmPVxDDC5pLpCaZNqT8a3hSX3vGvQN6K97hDJQa3Faeew2","/ip4/172.18.126.249/tcp/59967/ws/p2p/16Uiu2HAmPVxDDC5pLpCaZNqT8a3hSX3vGvQN6K97hDJQa3Faeew2"],"enrUri":"enr:-L24QLI1VmOY-BO0BNPhDPnh0rTfQPa-4IYMsc4W9O5tD_TvQ915b17eo8e0IxdGn61lucex_F4JHu76hpMWKL-YXbICgmlkgnY0gmlwhKwSfvmKbXVsdGlhZGRyc5YACASsEn75Buo-AAoErBJ--QbqP90DgnJzhQADAQAAiXNlY3AyNTZrMaEDoR_o9gtjYiVmLjKbogIxxw7UKlRy7uLkZ-l7ba9DgAmDdGNwguo-g3VkcILqQIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59965/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.207.151/tcp/40147/p2p/16Uiu2HAkwzK1KveB3zqLTNCzUno9Hkf843ihdjogqYKBWfpbxavJ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-12-01_03-35-05__a0f574ef-3ccd-4d92-b54d-3a7bc78846da__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.93.32
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['3415', '3416', '3417', '3418', '3419']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 3415:3415 -p 3416:3416 -p 3417:3417 -p 3418:3418 -p 3419:3419 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=3417 --rest-port=3415 --tcp-port=3416 --discv5-udp-port=3418 --rest-address=0.0.0.0 --nat=extip:172.18.93.32 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1692d95d8fb5309bb3a8d3daa4c7444bbd2c4faca850a4ce70dd1cdab5ce497b --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-L24QCI-C6MGKJ9IqG0IVJ_uKueRrAGREWHiaPiv8daqErMBNHdiFXDlmTVrIIwQN81aUKialoaBcIm8SUPz65EBGrgCgmlkgnY0gmlwhKwSz5eKbXVsdGlhZGRyc5YACASsEs-XBpzTAAoErBLPlwac1N0DgnJzhQADAQAAiXNlY3AyNTZrMaECJhPTX1kW66FG88-LgkzgKl_8TbxrqUU7pGsX-iOcOM-DdGNwgpzTg3VkcIKc1YV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.93.32 waku bf2c97a498e564c8ed44101d8dc00c1e313a7b6fec9278649a809311690f0442
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID bf2c97a498e5. Setting up logs at ./log/docker/node4_2024-12-01_03-35-05__a0f574ef-3ccd-4d92-b54d-3a7bc78846da__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 3415
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3415/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QI2DsJyA9duiZNakfU4qhRBcxGVwsxV5jSVQBOIxpmHGFByZVT04UWhqs69RKKFeiYMi2ut8pBOEwTl_3Q1YgeGGAZOASVkzgmlkgnY0gmlwhKwRAAqCcnODAAMAiXNlY3AyNTZrMaED0owE9A9uAaYRE-CYLoY3HbaIYZ8AWsBpJcBJgG5ZETSDdGNwgg1Yg3VkcIINWoV3YWt1MgE","listenAddresses":["/ip4/127.0.0.1/tcp/3416/p2p/16Uiu2HAmSpsoQkUT8eVF5DvmwHPbyZi5oAsfAoePtJK2nJAVxUtb","/ip4/127.0.0.1/tcp/3417/ws/p2p/16Uiu2HAmSpsoQkUT8eVF5DvmwHPbyZi5oAsfAoePtJK2nJAVxUtb","/ip4/172.17.0.10/tcp/3416/p2p/16Uiu2HAmSpsoQkUT8eVF5DvmwHPbyZi5oAsfAoePtJK2nJAVxUtb","/ip4/172.17.0.10/tcp/3417/ws/p2p/16Uiu2HAmSpsoQkUT8eVF5DvmwHPbyZi5oAsfAoePtJK2nJAVxUtb"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3415/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.207.151/tcp/40147/p2p/16Uiu2HAkwzK1KveB3zqLTNCzUno9Hkf843ihdjogqYKBWfpbxavJ", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-12-01_03-35-05__a0f574ef-3ccd-4d92-b54d-3a7bc78846da__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.222.102
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['17823', '17824', '17825', '17826', '17827']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 17823:17823 -p 17824:17824 -p 17825:17825 -p 17826:17826 -p 17827:17827 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=17825 --rest-port=17823 --tcp-port=17824 --discv5-udp-port=17826 --rest-address=0.0.0.0 --nat=extip:172.18.222.102 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3ed6bb4ee7cea12b76cfbf56ca9ffcc56b42c7ac7cef2bec00fed59edd46d766 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=17827 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QCI-C6MGKJ9IqG0IVJ_uKueRrAGREWHiaPiv8daqErMBNHdiFXDlmTVrIIwQN81aUKialoaBcIm8SUPz65EBGrgCgmlkgnY0gmlwhKwSz5eKbXVsdGlhZGRyc5YACASsEs-XBpzTAAoErBLPlwac1N0DgnJzhQADAQAAiXNlY3AyNTZrMaECJhPTX1kW66FG88-LgkzgKl_8TbxrqUU7pGsX-iOcOM-DdGNwgpzTg3VkcIKc1YV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.222.102 waku 9cd5032d2e67850e0d20496ed48ef573b59f3da98eb486a61a8c62a05b84e0b4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 9cd5032d2e67. Setting up logs at ./log/docker/node5_2024-12-01_03-35-05__a0f574ef-3ccd-4d92-b54d-3a7bc78846da__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 17823
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17823/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17823/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.222.102/tcp/17824/p2p/16Uiu2HAkxATeuet6evePXPAqQM3kzY36S2VB3Wp9zu7Tj5BPQAsh","/ip4/172.18.222.102/tcp/17825/ws/p2p/16Uiu2HAkxATeuet6evePXPAqQM3kzY36S2VB3Wp9zu7Tj5BPQAsh"],"enrUri":"enr:-L24QNwxBo3GiBmCXL5LPVULulVefR6rQlIu-UYahUgnCFcsNBCcaUUSyznIKKPAkpz4YEAq7n67raz395oCAzIq_lICgmlkgnY0gmlwhKwS3maKbXVsdGlhZGRyc5YACASsEt5mBkWgAAoErBLeZgZFod0DgnJzhQADAQAAiXNlY3AyNTZrMaECKK1pe4KILMrmm4fdlfKWFUrGABvfsMA7cXthHxZ-EviDdGNwgkWgg3VkcIJFooV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17823/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.207.151/tcp/40147/p2p/16Uiu2HAkwzK1KveB3zqLTNCzUno9Hkf843ihdjogqYKBWfpbxavJ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40146/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32033/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40146/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40146/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733024113920721152,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32033/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40146/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40146/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733024115036622848,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32033/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733024115036622848,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40146/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59965/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:59965/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1. Response content: b''
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id e5dd33bc02d2
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 5f1e623c3fca
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container e5dd33bc02d2. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 24d787bb22ec
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 5f1e623c3fca. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id bf2c97a498e5
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 24d787bb22ec. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 9cd5032d2e67
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container bf2c97a498e5. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.