[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_unsubscribe_all_with_extra_field with id: 2024-08-25_03-16-00__1e27506d-badc-4fbe-a87b-434c02cc7635
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node1_2024-08-25_03-16-00__1e27506d-badc-4fbe-a87b-434c02cc7635__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.29.189
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['60340', '60341', '60342', '60343', '60344']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 60340:60340 -p 60341:60341 -p 60342:60342 -p 60343:60343 -p 60344:60344 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=60342 --rest-port=60340 --tcp-port=60341 --discv5-udp-port=60343 --rest-address=0.0.0.0 --nat=extip:172.18.29.189 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=83f64ca0f22bfaa874a32ecca7ecd13c351e6ecc43c64940aee6afb4ed84fee6 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=60344 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.29.189 waku 486c74aba61c4e88b7214986ff7fdb730d2f30ce66cda8ceebbc2ef35cbe46cb
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 486c74aba61c. Setting up logs at ./log/docker/node1_2024-08-25_03-16-00__1e27506d-badc-4fbe-a87b-434c02cc7635__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 60340
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60340/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60340/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.29.189/tcp/60341/p2p/16Uiu2HAmTmfYCk27ayCWngfB5unkeSp8fQNWef9Yzh8ZuTu5eRt2","/ip4/172.18.29.189/tcp/60342/ws/p2p/16Uiu2HAmTmfYCk27ayCWngfB5unkeSp8fQNWef9Yzh8ZuTu5eRt2"],"enrUri":"enr:-LO4QBNbTqolQR8-WnQtPOlYOaHu29EmT4osCaB5CUkxZcD1NQApcyEs1j6uoNNr8eG7DOW5PwpBKR6SlZrPO7tb6m4BgmlkgnY0gmlwhKwSHb2KbXVsdGlhZGRyc4wACgSsEh29Buu23QOCcnOFAAMBAACJc2VjcDI1NmsxoQPglRlUfo4TsQpGWBY5b8IZ9E_s27U_W8vb1kONfLV594N0Y3CC67WDdWRwguu3hXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node2_2024-08-25_03-16-00__1e27506d-badc-4fbe-a87b-434c02cc7635__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.226.211
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['58662', '58663', '58664', '58665', '58666']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 58662:58662 -p 58663:58663 -p 58664:58664 -p 58665:58665 -p 58666:58666 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=58664 --rest-port=58662 --tcp-port=58663 --discv5-udp-port=58665 --rest-address=0.0.0.0 --nat=extip:172.18.226.211 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2160886abb4ca0fff64aadb77ed51f501de8afabb7f3b27ab0317acb5d18fcdf --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-LO4QBNbTqolQR8-WnQtPOlYOaHu29EmT4osCaB5CUkxZcD1NQApcyEs1j6uoNNr8eG7DOW5PwpBKR6SlZrPO7tb6m4BgmlkgnY0gmlwhKwSHb2KbXVsdGlhZGRyc4wACgSsEh29Buu23QOCcnOFAAMBAACJc2VjcDI1NmsxoQPglRlUfo4TsQpGWBY5b8IZ9E_s27U_W8vb1kONfLV594N0Y3CC67WDdWRwguu3hXdha3UyBQ --filternode=/ip4/172.18.29.189/tcp/60341/p2p/16Uiu2HAmTmfYCk27ayCWngfB5unkeSp8fQNWef9Yzh8ZuTu5eRt2
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.157.138
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['9081', '9082', '9083', '9084', '9085']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 9081:9081 -p 9082:9082 -p 9083:9083 -p 9084:9084 -p 9085:9085 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=9083 --rest-port=9081 --tcp-port=9082 --discv5-udp-port=9084 --rest-address=0.0.0.0 --nat=extip:172.18.157.138 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=70bef2920bb2c0c7fcbf6381cf8ddeaba73048846c8c066c9733ba6d1789c2f1 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-LO4QBNbTqolQR8-WnQtPOlYOaHu29EmT4osCaB5CUkxZcD1NQApcyEs1j6uoNNr8eG7DOW5PwpBKR6SlZrPO7tb6m4BgmlkgnY0gmlwhKwSHb2KbXVsdGlhZGRyc4wACgSsEh29Buu23QOCcnOFAAMBAACJc2VjcDI1NmsxoQPglRlUfo4TsQpGWBY5b8IZ9E_s27U_W8vb1kONfLV594N0Y3CC67WDdWRwguu3hXdha3UyBQ --filternode=/ip4/172.18.29.189/tcp/60341/p2p/16Uiu2HAmTmfYCk27ayCWngfB5unkeSp8fQNWef9Yzh8ZuTu5eRt2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.157.138 waku 6a2ca30f9bab6d154de009fb7c34d136e57c2328f481128fe89794533c45d484
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 6a2ca30f9bab. Setting up logs at ./log/docker/node2_2024-08-25_03-16-00__1e27506d-badc-4fbe-a87b-434c02cc7635__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/go-waku:latest. REST: 9081
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9081/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QJKAEPL9tfCvEa15xZ5pao73YoHsjRm-CNtDEO8vhC70ZctV-GfHMejpX-gIbRsxAbgiL-IkvtEzryWW9PH2Dp2GAZGHiJvXgmlkgnY0gmlwhKwRAAmJc2VjcDI1NmsxoQJRp9TRU-RSt4hY_QR8QhB86IdIwZy28AKyUCAgiGQcxYN0Y3CCI3qDdWRwgiN8hXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/9082/p2p/16Uiu2HAkzvRS9YD6fRwSR9Te6NzjGXLMAXpMDhfFbi2YPMzFYCgC","/ip4/127.0.0.1/tcp/9083/ws/p2p/16Uiu2HAkzvRS9YD6fRwSR9Te6NzjGXLMAXpMDhfFbi2YPMzFYCgC","/ip4/172.17.0.9/tcp/9082/p2p/16Uiu2HAkzvRS9YD6fRwSR9Te6NzjGXLMAXpMDhfFbi2YPMzFYCgC","/ip4/172.17.0.9/tcp/9083/ws/p2p/16Uiu2HAkzvRS9YD6fRwSR9Te6NzjGXLMAXpMDhfFbi2YPMzFYCgC"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9081/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.29.189/tcp/60341/p2p/16Uiu2HAmTmfYCk27ayCWngfB5unkeSp8fQNWef9Yzh8ZuTu5eRt2", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60340/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9081/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "8e1e10a7-aee4-43be-81d5-e4108ece278b", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"8e1e10a7-aee4-43be-81d5-e4108ece278b","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:9081/filter/v2/subscriptions/all" -H "Content-Type: application/json" -d '{"requestId": 1, "extraField": "extraValue"}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:9081/filter/v2/subscriptions/all. Response content: b''
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 486c74aba61c
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 6a2ca30f9bab
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.