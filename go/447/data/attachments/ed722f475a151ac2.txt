[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_repeated_filter_requestID with id: 2025-01-29_12-32-14__c54db990-33db-4ae6-a768-f3528b1d8dc9
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:28 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-01-29_12-32-14__c54db990-33db-4ae6-a768-f3528b1d8dc9__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-01-29_12-32-14__c54db990-33db-4ae6-a768-f3528b1d8dc9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2025-01-29_12-32-14__c54db990-33db-4ae6-a768-f3528b1d8dc9__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:348 Create 3 nodes
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:349 Start 3 nodes with their corresponding config
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:33 Network waku created
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.20.216
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['8140', '8141', '8142', '8143', '8144']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 8140:8140 -p 8141:8141 -p 8142:8142 -p 8143:8143 -p 8144:8144 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=8142 --rest-port=8140 --tcp-port=8141 --discv5-udp-port=8143 --rest-address=0.0.0.0 --nat=extip:172.18.20.216 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=62ffd7f8c165fd8b2ecb16fabf7deb0ab6a365d2addde9dea3a8ddf23d1956c5 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --store=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.20.216 waku 2854a9c621b658337980a8b20f7804da9bcc9c5d08dfe4c20c71a94f31eb3a12
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 2854a9c621b6. Setting up logs at ./log/docker/node1_2025-01-29_12-32-14__c54db990-33db-4ae6-a768-f3528b1d8dc9__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 8140
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8140/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QIDI2w6sNuZApd7L4KFcxHCZxzK4i87KVIQLKo6qkh2EZ21M_IgXuADbc6cd1euwEsE1HTuDNtcbHwm_0YsgtAqGAZSyDExCgmlkgnY0gmlwhKwRAAKCcnODAAMAiXNlY3AyNTZrMaEDVpU6UFLvLBEwwYSHVYdbvDV6J_CiOlpNimU2UEcHxUeDdGNwgh_Ng3VkcIIfz4V3YWt1MgM","listenAddresses":["/ip4/127.0.0.1/tcp/8141/p2p/16Uiu2HAmJUyPbiia7xcZK4kNhqbknmrkUTm6RABDjucUaBDuLmQi","/ip4/127.0.0.1/tcp/8142/ws/p2p/16Uiu2HAmJUyPbiia7xcZK4kNhqbknmrkUTm6RABDjucUaBDuLmQi","/ip4/172.17.0.2/tcp/8141/p2p/16Uiu2HAmJUyPbiia7xcZK4kNhqbknmrkUTm6RABDjucUaBDuLmQi","/ip4/172.17.0.2/tcp/8142/ws/p2p/16Uiu2HAmJUyPbiia7xcZK4kNhqbknmrkUTm6RABDjucUaBDuLmQi"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.141.65
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['33170', '33171', '33172', '33173', '33174']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 33170:33170 -p 33171:33171 -p 33172:33172 -p 33173:33173 -p 33174:33174 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=33172 --rest-port=33170 --tcp-port=33171 --discv5-udp-port=33173 --rest-address=0.0.0.0 --nat=extip:172.18.141.65 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=168d7f48c0d9aa2a69cad2af194f054edb1bffd643f76383f7a7ef68db6ebe84 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=33174 --metrics-logging=true --relay=true --store=true --filter=true --discv5-bootstrap-node=enr:-J-4QIDI2w6sNuZApd7L4KFcxHCZxzK4i87KVIQLKo6qkh2EZ21M_IgXuADbc6cd1euwEsE1HTuDNtcbHwm_0YsgtAqGAZSyDExCgmlkgnY0gmlwhKwRAAKCcnODAAMAiXNlY3AyNTZrMaEDVpU6UFLvLBEwwYSHVYdbvDV6J_CiOlpNimU2UEcHxUeDdGNwgh_Ng3VkcIIfz4V3YWt1MgM
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.141.65 waku b72a34c40a10d7725c6a8a68d245925378fc30871789ab834ae96c86f4f55c5d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID b72a34c40a10. Setting up logs at ./log/docker/node2_2025-01-29_12-32-14__c54db990-33db-4ae6-a768-f3528b1d8dc9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 33170
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33170/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33170/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.141.65/tcp/33171/p2p/16Uiu2HAkxYgstmMHKKqG1o6eYDhH6R62fkcMtHktCCPNgmdBKakr","/ip4/172.18.141.65/tcp/33172/ws/p2p/16Uiu2HAkxYgstmMHKKqG1o6eYDhH6R62fkcMtHktCCPNgmdBKakr"],"enrUri":"enr:-L24QGskQUfZdtMNKa4p-tuKYuzl7xA9cP3fFcYNisX9HB6KMeii0C-nV28UwSGMKFi3HN32zA53CvEja6T-FFz4gugCgmlkgnY0gmlwhKwSjUGKbXVsdGlhZGRyc5YACASsEo1BBoGTAAoErBKNQQaBlN0DgnJzhQADAQAAiXNlY3AyNTZrMaECLl8kYiCsABkYyso12AJFwdQJ318Dm1Fc03tGAXX2MQODdGNwgoGTg3VkcIKBlYV3YWt1Mgc"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.109.15
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['29493', '29494', '29495', '29496', '29497']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:72 Cluster id was resolved to: 3
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 29493:29493 -p 29494:29494 -p 29495:29495 -p 29496:29496 -p 29497:29497 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=29495 --rest-port=29493 --tcp-port=29494 --discv5-udp-port=29496 --rest-address=0.0.0.0 --nat=extip:172.18.109.15 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fe6f4ddbfcefe192ed4dabcb5b5cdefcfdeab04e8cc7ac2d7efa5a6e11eaf328 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --filternode=/ip4/172.18.141.65/tcp/33171/p2p/16Uiu2HAkxYgstmMHKKqG1o6eYDhH6R62fkcMtHktCCPNgmdBKakr --store=false --pubsub-topic=/waku/2/rs/3/1 --discv5-bootstrap-node=enr:-L24QGskQUfZdtMNKa4p-tuKYuzl7xA9cP3fFcYNisX9HB6KMeii0C-nV28UwSGMKFi3HN32zA53CvEja6T-FFz4gugCgmlkgnY0gmlwhKwSjUGKbXVsdGlhZGRyc5YACASsEo1BBoGTAAoErBKNQQaBlN0DgnJzhQADAQAAiXNlY3AyNTZrMaECLl8kYiCsABkYyso12AJFwdQJ318Dm1Fc03tGAXX2MQODdGNwgoGTg3VkcIKBlYV3YWt1Mgc
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.109.15 waku 0d17615b1b694dd1d44407a6c243580f19e9423a36b2789804b39105a1bb9f8f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 0d17615b1b69. Setting up logs at ./log/docker/node3_2025-01-29_12-32-14__c54db990-33db-4ae6-a768-f3528b1d8dc9__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 29493
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29493/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QB4AcHGrgSsYgaqsUVpOJWq2CD8vG1vNgc7sCZURHhJbUyQOMvT3yBzNvUUYJV5yrt4f-N_ztJ-jWy4HiEspkVyGAZSyDGFEgmlkgnY0gmlwhKwRAASCcnOFAAMBAAGJc2VjcDI1NmsxoQPnntqkfPQOQKZUeqg2BgYWT_fJmjdTWiUBVHBxl1jezYN0Y3CCczaDdWRwgnM4hXdha3UyAQ","listenAddresses":["/ip4/127.0.0.1/tcp/29494/p2p/16Uiu2HAmUF9284gsHLa4oXV53Tq1HgTGi8LukyCqRfNBgBRRNxnQ","/ip4/127.0.0.1/tcp/29495/ws/p2p/16Uiu2HAmUF9284gsHLa4oXV53Tq1HgTGi8LukyCqRfNBgBRRNxnQ","/ip4/172.17.0.4/tcp/29494/p2p/16Uiu2HAmUF9284gsHLa4oXV53Tq1HgTGi8LukyCqRfNBgBRRNxnQ","/ip4/172.17.0.4/tcp/29495/ws/p2p/16Uiu2HAmUF9284gsHLa4oXV53Tq1HgTGi8LukyCqRfNBgBRRNxnQ"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:360 Subscribe nodes to relay  pubsub topics
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8140/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33170/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:364 Wait for all nodes auto connection
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8140/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"id":"16Uiu2HAkxYgstmMHKKqG1o6eYDhH6R62fkcMtHktCCPNgmdBKakr","multiaddrs":["/ip4/172.18.141.65/tcp/33172/ws/p2p/16Uiu2HAkxYgstmMHKKqG1o6eYDhH6R62fkcMtHktCCPNgmdBKakr","/ip4/172.18.141.65/tcp/33171/p2p/16Uiu2HAkxYgstmMHKKqG1o6eYDhH6R62fkcMtHktCCPNgmdBKakr"],"protocols":null,"connected":false,"pubsubTopics":[]}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33170/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8140/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"id":"16Uiu2HAkxYgstmMHKKqG1o6eYDhH6R62fkcMtHktCCPNgmdBKakr","multiaddrs":["/ip4/172.18.141.65/tcp/33171/p2p/16Uiu2HAkxYgstmMHKKqG1o6eYDhH6R62fkcMtHktCCPNgmdBKakr","/ip4/172.18.141.65/tcp/33172/ws/p2p/16Uiu2HAkxYgstmMHKKqG1o6eYDhH6R62fkcMtHktCCPNgmdBKakr"],"protocols":["/vac/waku/relay/2.0.0","/vac/waku/filter-subscribe/2.0.0-beta1","/vac/waku/filter-push/2.0.0-beta1","/vac/waku/store-query/3.0.0","/vac/waku/store/2.0.0-beta4"],"connected":true,"pubsubTopics":["/waku/2/rs/3/0","/waku/2/rs/3/1"]}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33170/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"multiaddr":"/ip4/172.17.0.4/tcp/29494/p2p/16Uiu2HAmUF9284gsHLa4oXV53Tq1HgTGi8LukyCqRfNBgBRRNxnQ","protocols":[{"protocol":"/vac/waku/relay/2.0.0","connected":true},{"protocol":"/vac/waku/peer-exchange/2.0.0-alpha1","connected":true}],"origin":"UnknownOrigin"},{"multiaddr":"/ip4/172.17.0.2/tcp/8141/p2p/16Uiu2HAmJUyPbiia7xcZK4kNhqbknmrkUTm6RABDjucUaBDuLmQi","protocols":[{"protocol":"/vac/waku/relay/2.0.0","connected":true},{"protocol":"/vac/waku/store/2.0.0-beta4","connected":true},{"protocol":"/vac/waku/peer-exchange/2.0.0-alpha1","connected":true}],"origin":"UnknownOrigin"}]'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 30 seconds
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:368 Node3 subscribe to filter for pubsubtopic  /waku/2/rs/3/1 2 times with same request id
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29493/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:29493/filter/v2/subscriptions. Response content: b'{"requestId":"1","statusDesc":"subscription failed"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 2854a9c621b6
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id b72a34c40a10
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 2854a9c621b6. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 0d17615b1b69
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node3_2025-01-29_12-32-14__c54db990-33db-4ae6-a768-f3528b1d8dc9__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node1_2025-01-29_12-32-14__c54db990-33db-4ae6-a768-f3528b1d8dc9__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node2_2025-01-29_12-32-14__c54db990-33db-4ae6-a768-f3528b1d8dc9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_repeated_filter_requestID with id: 2025-01-29_12-32-57__00abf83d-b613-44f4-babe-ab2ed7c41b85
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:28 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-01-29_12-32-57__00abf83d-b613-44f4-babe-ab2ed7c41b85__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-01-29_12-32-57__00abf83d-b613-44f4-babe-ab2ed7c41b85__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2025-01-29_12-32-57__00abf83d-b613-44f4-babe-ab2ed7c41b85__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:348 Create 3 nodes
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:349 Start 3 nodes with their corresponding config
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.113.161
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['40990', '40991', '40992', '40993', '40994']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 40990:40990 -p 40991:40991 -p 40992:40992 -p 40993:40993 -p 40994:40994 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=40992 --rest-port=40990 --tcp-port=40991 --discv5-udp-port=40993 --rest-address=0.0.0.0 --nat=extip:172.18.113.161 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=98ccd18e1e1abadfbf73de4ecfe1c94fa7fca98fbf3b29ca4ab67b4cddf3a00a --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --store=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.113.161 waku b50a686b3a73b6a766d31f61ce9fcc78ad6598274b7598cf2f0b602e95314b00
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container b72a34c40a10. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID b50a686b3a73. Setting up logs at ./log/docker/node1_2025-01-29_12-32-57__00abf83d-b613-44f4-babe-ab2ed7c41b85__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 40990
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 0d17615b1b69. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40990/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QLr6M3NJsdgvAv5y6L-CsDQ0VNLAGI8pcfbB87t1dlDePiBNhUfjNDDGiCuP9FJ16m5HGMh9Nsfl9rYIhl14Eg6GAZSyDOdxgmlkgnY0gmlwhKwRAAKCcnODAAMAiXNlY3AyNTZrMaECfOAnnnVuuO8psEwkgjboyHX0RGk1yNeJtaoftzPsgC-DdGNwgqAfg3VkcIKgIYV3YWt1MgM","listenAddresses":["/ip4/127.0.0.1/tcp/40991/p2p/16Uiu2HAm3q8n5tNNnDJ4jCdP598XNEUmiFHAkPwxKHjWpZojkxpv","/ip4/127.0.0.1/tcp/40992/ws/p2p/16Uiu2HAm3q8n5tNNnDJ4jCdP598XNEUmiFHAkPwxKHjWpZojkxpv","/ip4/172.17.0.2/tcp/40991/p2p/16Uiu2HAm3q8n5tNNnDJ4jCdP598XNEUmiFHAkPwxKHjWpZojkxpv","/ip4/172.17.0.2/tcp/40992/ws/p2p/16Uiu2HAm3q8n5tNNnDJ4jCdP598XNEUmiFHAkPwxKHjWpZojkxpv"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.54.84
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['42883', '42884', '42885', '42886', '42887']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 42883:42883 -p 42884:42884 -p 42885:42885 -p 42886:42886 -p 42887:42887 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=42885 --rest-port=42883 --tcp-port=42884 --discv5-udp-port=42886 --rest-address=0.0.0.0 --nat=extip:172.18.54.84 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=34b43b4b4cc5da3f6a0aa0f04cbf00aacdabcebafde3a18b5c9af79d8a4aa16c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=42887 --metrics-logging=true --relay=true --store=true --filter=true --discv5-bootstrap-node=enr:-J-4QLr6M3NJsdgvAv5y6L-CsDQ0VNLAGI8pcfbB87t1dlDePiBNhUfjNDDGiCuP9FJ16m5HGMh9Nsfl9rYIhl14Eg6GAZSyDOdxgmlkgnY0gmlwhKwRAAKCcnODAAMAiXNlY3AyNTZrMaECfOAnnnVuuO8psEwkgjboyHX0RGk1yNeJtaoftzPsgC-DdGNwgqAfg3VkcIKgIYV3YWt1MgM
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.54.84 waku 1dc6dd08a40eb7d9582acd3febd6c1c8c6da1059e9db40c580f989fa7f337d09
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 1dc6dd08a40e. Setting up logs at ./log/docker/node2_2025-01-29_12-32-57__00abf83d-b613-44f4-babe-ab2ed7c41b85__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 42883
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42883/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42883/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.54.84/tcp/42884/p2p/16Uiu2HAmD5wpi3TmJKxJVK5fjXTHDbB1wXTnt3kY5dwbnqM8MDSj","/ip4/172.18.54.84/tcp/42885/ws/p2p/16Uiu2HAmD5wpi3TmJKxJVK5fjXTHDbB1wXTnt3kY5dwbnqM8MDSj"],"enrUri":"enr:-L24QDROCJ7Ty8sohtPD9Y3bBt_g2sGttkBJg3esCCRkm0cDH0rhW-xv8pHE1F2kG7oIOpT7PappE1umKX338zbbS9gCgmlkgnY0gmlwhKwSNlSKbXVsdGlhZGRyc5YACASsEjZUBqeEAAoErBI2VAanhd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDBmSpoqVriKyxzrvdHoEHdMo1n_HzORDvL3ULaUpm3RSDdGNwgqeEg3VkcIKnhoV3YWt1Mgc"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.90.2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['47499', '47500', '47501', '47502', '47503']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:72 Cluster id was resolved to: 3
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 47499:47499 -p 47500:47500 -p 47501:47501 -p 47502:47502 -p 47503:47503 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=47501 --rest-port=47499 --tcp-port=47500 --discv5-udp-port=47502 --rest-address=0.0.0.0 --nat=extip:172.18.90.2 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7fdc93e152ef5e0c5344d1aa1e5bad140897a2dff1f72cba276ccdbb2de46dfe --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --filternode=/ip4/172.18.54.84/tcp/42884/p2p/16Uiu2HAmD5wpi3TmJKxJVK5fjXTHDbB1wXTnt3kY5dwbnqM8MDSj --store=false --pubsub-topic=/waku/2/rs/3/1 --discv5-bootstrap-node=enr:-L24QDROCJ7Ty8sohtPD9Y3bBt_g2sGttkBJg3esCCRkm0cDH0rhW-xv8pHE1F2kG7oIOpT7PappE1umKX338zbbS9gCgmlkgnY0gmlwhKwSNlSKbXVsdGlhZGRyc5YACASsEjZUBqeEAAoErBI2VAanhd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDBmSpoqVriKyxzrvdHoEHdMo1n_HzORDvL3ULaUpm3RSDdGNwgqeEg3VkcIKnhoV3YWt1Mgc
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.90.2 waku c920b288c268685769b8072f5f5d776ae89245288d6a38c0dd77e759f0bb27c3
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID c920b288c268. Setting up logs at ./log/docker/node3_2025-01-29_12-32-57__00abf83d-b613-44f4-babe-ab2ed7c41b85__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 47499
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47499/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QA_5hM0CpEY7Ra8mjz232HT_EKARUukx9P_QibZVe3qPTPxdHE7Z9RVE3-Jcux3rMB-ZVnmioRN1SyWOlu3BF2WGAZSyDPGLgmlkgnY0gmlwhKwRAASCcnOFAAMBAAGJc2VjcDI1NmsxoQLXmIr1_y0BLMYuQZAPYLCl1lbtCfUa0ppNAH8eCJVRloN0Y3CCuYyDdWRwgrmOhXdha3UyAQ","listenAddresses":["/ip4/127.0.0.1/tcp/47500/p2p/16Uiu2HAm9wGYYVJUJxXxpuEYgyGjUXMp35SMshty6k6ebNqJc9S5","/ip4/127.0.0.1/tcp/47501/ws/p2p/16Uiu2HAm9wGYYVJUJxXxpuEYgyGjUXMp35SMshty6k6ebNqJc9S5","/ip4/172.17.0.4/tcp/47500/p2p/16Uiu2HAm9wGYYVJUJxXxpuEYgyGjUXMp35SMshty6k6ebNqJc9S5","/ip4/172.17.0.4/tcp/47501/ws/p2p/16Uiu2HAm9wGYYVJUJxXxpuEYgyGjUXMp35SMshty6k6ebNqJc9S5"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:360 Subscribe nodes to relay  pubsub topics
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40990/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42883/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:364 Wait for all nodes auto connection
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40990/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"id":"16Uiu2HAmD5wpi3TmJKxJVK5fjXTHDbB1wXTnt3kY5dwbnqM8MDSj","multiaddrs":["/ip4/172.18.54.84/tcp/42884/p2p/16Uiu2HAmD5wpi3TmJKxJVK5fjXTHDbB1wXTnt3kY5dwbnqM8MDSj","/ip4/172.18.54.84/tcp/42885/ws/p2p/16Uiu2HAmD5wpi3TmJKxJVK5fjXTHDbB1wXTnt3kY5dwbnqM8MDSj"],"protocols":null,"connected":false,"pubsubTopics":[]}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42883/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40990/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"id":"16Uiu2HAmD5wpi3TmJKxJVK5fjXTHDbB1wXTnt3kY5dwbnqM8MDSj","multiaddrs":["/ip4/172.18.54.84/tcp/42884/p2p/16Uiu2HAmD5wpi3TmJKxJVK5fjXTHDbB1wXTnt3kY5dwbnqM8MDSj","/ip4/172.18.54.84/tcp/42885/ws/p2p/16Uiu2HAmD5wpi3TmJKxJVK5fjXTHDbB1wXTnt3kY5dwbnqM8MDSj"],"protocols":null,"connected":false,"pubsubTopics":[]}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42883/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"multiaddr":"/ip4/172.17.0.4/tcp/47500/p2p/16Uiu2HAm9wGYYVJUJxXxpuEYgyGjUXMp35SMshty6k6ebNqJc9S5","protocols":[{"protocol":"/vac/waku/relay/2.0.0","connected":true},{"protocol":"/vac/waku/peer-exchange/2.0.0-alpha1","connected":true}],"origin":"UnknownOrigin"}]'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 30 seconds
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:368 Node3 subscribe to filter for pubsubtopic  /waku/2/rs/3/1 2 times with same request id
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47499/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:47499/filter/v2/subscriptions. Response content: b'{"requestId":"1","statusDesc":"subscription failed"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id b50a686b3a73
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 1dc6dd08a40e
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id c920b288c268
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container b50a686b3a73. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node2_2025-01-29_12-32-57__00abf83d-b613-44f4-babe-ab2ed7c41b85__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node3_2025-01-29_12-32-57__00abf83d-b613-44f4-babe-ab2ed7c41b85__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node1_2025-01-29_12-32-57__00abf83d-b613-44f4-babe-ab2ed7c41b85__wakuorg_go-waku:latest.log