{"uid":"986734b31ac2e4e7","name":"test_main_node_only_lightpush__peer_only_filter","fullName":"tests.light_push.test_running_nodes.TestRunningNodes#test_main_node_only_lightpush__peer_only_filter","historyId":"d194072a0bc9b6a944d5100550c8ff70","time":{"start":1713792595533,"stop":1713792598862,"duration":3329},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"set_allure_env_variables","time":{"start":1713792284725,"stop":1713792284725,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_id","time":{"start":1713792595532,"stop":1713792595532,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail","time":{"start":1713792595532,"stop":1713792595532,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes","time":{"start":1713792595532,"stop":1713792595532,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"light_push_setup","time":{"start":1713792595533,"stop":1713792595533,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_setup","time":{"start":1713792595533,"stop":1713792595533,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[{"name":"setup_first_receiving_node","time":{"start":1713792595534,"stop":1713792597238,"duration":1704},"status":"passed","steps":[{"name":"start_receiving_node","time":{"start":1713792595534,"stop":1713792597237,"duration":1703},"status":"passed","steps":[{"name":"add_node_peer","time":{"start":1713792597237,"stop":1713792597237,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<src.steps.common.StepsCommon object at 0x7faf901e2210>, <src.node.waku_node.WakuNode object at 0x7faf901f77d0>, [])"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"image","value":"'harbor.status.im/wakuorg/nwaku:latest'"},{"name":"node_index","value":"1"},{"name":"lightpush","value":"'false'"},{"name":"relay","value":"'false'"},{"name":"nodekey","value":"'30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68'"},{"name":"filter","value":"'true'"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"lightpush","value":"'false'"},{"name":"relay","value":"'false'"},{"name":"filter","value":"'true'"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"setup_first_lightpush_node","time":{"start":1713792597238,"stop":1713792598857,"duration":1619},"status":"passed","steps":[{"name":"setup_lightpush_node","time":{"start":1713792597238,"stop":1713792598856,"duration":1618},"status":"passed","steps":[{"name":"add_node_peer","time":{"start":1713792598854,"stop":1713792598856,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<src.steps.common.StepsCommon object at 0x7faf901e2210>, <src.node.waku_node.WakuNode object at 0x7faf9025e7e0>, ['/ip4/172.18.133.185/tcp/28428/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip'])"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"image","value":"'harbor.status.im/wakuorg/go-waku:latest'"},{"name":"node_index","value":"1"},{"name":"lightpush","value":"'true'"},{"name":"relay","value":"'false'"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"lightpush","value":"'true'"},{"name":"relay","value":"'false'"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"create_payload","time":{"start":1713792598857,"stop":1713792598857,"duration":0},"status":"passed","steps":[{"name":"create_message","time":{"start":1713792598857,"stop":1713792598857,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"pubsub_topic","value":"None"},{"name":"message","value":"None"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"e25f51a2f357d4eb","name":"log","source":"e25f51a2f357d4eb.txt","type":"text/plain","size":22247}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":8,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"test_setup::0","time":{"start":1713792598863,"stop":1713792598866,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes::0","time":{"start":1713792598866,"stop":1713792602420,"duration":3554},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail::0","time":{"start":1713792602421,"stop":1713792602421,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"set_allure_env_variables::0","time":{"start":1713792948268,"stop":1713792948268,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"tests.light_push"},{"name":"suite","value":"test_running_nodes"},{"name":"subSuite","value":"TestRunningNodes"},{"name":"host","value":"fv-az738-130"},{"name":"thread","value":"2040-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.light_push.test_running_nodes"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"7897f1afe8716dd4","status":"broken","statusDetails":"Exception: Error: 500 Server Error: Internal Server Error for url: http://127.0.0.1:58621/admin/v1/peers with response: b''","time":{"start":1713792581653,"stop":1713792592140,"duration":10487}}],"categories":[],"history":{"statistic":{"failed":1,"broken":0,"skipped":0,"passed":21,"unknown":0,"total":22},"items":[{"uid":"26b1f4149865bdbd","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/97//#testresult/26b1f4149865bdbd","status":"passed","time":{"start":1713789888629,"stop":1713789892331,"duration":3702}},{"uid":"b73296f40c736c5c","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/96//#testresult/b73296f40c736c5c","status":"passed","time":{"start":1713788401085,"stop":1713788404452,"duration":3367}},{"uid":"bd4ad8eda0781773","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/95//#testresult/bd4ad8eda0781773","status":"passed","time":{"start":1713786376635,"stop":1713786379841,"duration":3206}},{"uid":"c84e482ad5156ad8","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/93//#testresult/c84e482ad5156ad8","status":"passed","time":{"start":1713755753463,"stop":1713755756582,"duration":3119}},{"uid":"fea3ec1dcdcd8e06","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/92//#testresult/fea3ec1dcdcd8e06","status":"passed","time":{"start":1713669265376,"stop":1713669268631,"duration":3255}},{"uid":"49fa7df76540f300","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/91//#testresult/49fa7df76540f300","status":"passed","time":{"start":1713582954954,"stop":1713582958125,"duration":3171}},{"uid":"7e86f1d883b7ae9d","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/90//#testresult/7e86f1d883b7ae9d","status":"passed","time":{"start":1713496487678,"stop":1713496490979,"duration":3301}},{"uid":"16c5ab93c1cab0f5","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/89//#testresult/16c5ab93c1cab0f5","status":"passed","time":{"start":1713422120777,"stop":1713422124063,"duration":3286}},{"uid":"4945842d06b92c8a","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/88//#testresult/4945842d06b92c8a","status":"passed","time":{"start":1713410072710,"stop":1713410076088,"duration":3378}},{"uid":"6b3cd252a11d511a","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/87//#testresult/6b3cd252a11d511a","status":"passed","time":{"start":1713323720261,"stop":1713323723732,"duration":3471}},{"uid":"75634d86f1562a6d","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/86//#testresult/75634d86f1562a6d","status":"passed","time":{"start":1713277591930,"stop":1713277595712,"duration":3782}},{"uid":"dff63f20a4e0af51","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/85//#testresult/dff63f20a4e0af51","status":"passed","time":{"start":1713237417465,"stop":1713237420857,"duration":3392}},{"uid":"a224c2a53b587551","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/84//#testresult/a224c2a53b587551","status":"passed","time":{"start":1713187385802,"stop":1713187388860,"duration":3058}},{"uid":"ad97b6ee43ff191","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/83//#testresult/ad97b6ee43ff191","status":"passed","time":{"start":1713154626127,"stop":1713154629362,"duration":3235}},{"uid":"f1fb4fb22e91f900","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/82//#testresult/f1fb4fb22e91f900","status":"passed","time":{"start":1713066934665,"stop":1713066937891,"duration":3226}},{"uid":"b0c3c76d52ea47b9","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/81//#testresult/b0c3c76d52ea47b9","status":"passed","time":{"start":1712978051555,"stop":1712978054734,"duration":3179}},{"uid":"b3c93ead9b2404b7","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/80//#testresult/b3c93ead9b2404b7","status":"passed","time":{"start":1712891772615,"stop":1712891775689,"duration":3074}},{"uid":"e5568d2ad983cacf","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/79//#testresult/e5568d2ad983cacf","status":"passed","time":{"start":1712824561722,"stop":1712824564945,"duration":3223}},{"uid":"e50e3517761fb4ca","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/77//#testresult/e50e3517761fb4ca","status":"failed","statusDetails":"AssertionError: assert ('Failed to request a message push: dial_failure' in \"Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:28342/lightpush/v1/message with response: b'failed to negotiate protocol: protocols not supported: [/vac/waku/lightpush/2.0.0-beta1]'\" or 'timed out' in \"Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:28342/lightpush/v1/message with response: b'failed to negotiate protocol: protocols not supported: [/vac/waku/lightpush/2.0.0-beta1]'\")\n +  where \"Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:28342/lightpush/v1/message with response: b'failed to negotiate protocol: protocols not supported: [/vac/waku/lightpush/2.0.0-beta1]'\" = str(Exception(\"Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:28342/lightpush/v1/message with response: b'failed to negotiate protocol: protocols not supported: [/vac/waku/lightpush/2.0.0-beta1]'\"))\n +  and   \"Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:28342/lightpush/v1/message with response: b'failed to negotiate protocol: protocols not supported: [/vac/waku/lightpush/2.0.0-beta1]'\" = str(Exception(\"Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:28342/lightpush/v1/message with response: b'failed to negotiate protocol: protocols not supported: [/vac/waku/lightpush/2.0.0-beta1]'\"))","time":{"start":1712820496352,"stop":1712820500217,"duration":3865}},{"uid":"80c3242b282dcba8","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/74//#testresult/80c3242b282dcba8","status":"passed","time":{"start":1712676936366,"stop":1712676959524,"duration":23158}}]},"tags":[]},"source":"986734b31ac2e4e7.json","parameterValues":[]}