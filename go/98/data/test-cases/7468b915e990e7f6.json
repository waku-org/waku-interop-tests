{"uid":"7468b915e990e7f6","name":"test_light_push_with_payload_more_than_1_MB","fullName":"tests.light_push.test_publish.TestLightPushPublish#test_light_push_with_payload_more_than_1_MB","historyId":"39e6b50a55a3e382e613ac2828551bac","time":{"start":1713792501040,"stop":1713792501040,"duration":0},"status":"skipped","statusMessage":"XFAIL https://github.com/waku-org/go-waku/issues/1076\n\nException: Error: 500 Server Error: Internal Server Error for url: http://127.0.0.1:17924/admin/v1/peers with response: b''","statusTrace":"src/node/api_clients/base_client.py:14: in make_request\n    response.raise_for_status()\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/requests/models.py:1021: in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\nE   requests.exceptions.HTTPError: 500 Server Error: Internal Server Error for url: http://127.0.0.1:17924/admin/v1/peers\n\nDuring handling of the above exception, another exception occurred:\ntests/light_push/test_publish.py:16: in light_push_publish_setup\n    self.setup_first_lightpush_node()\nsrc/steps/light_push.py:72: in setup_first_lightpush_node\n    self.light_push_node1 = self.setup_lightpush_node(NODE_2, node_index=1, lightpush=lightpush, relay=relay, **kwargs)\nsrc/steps/light_push.py:49: in setup_lightpush_node\n    self.common_steps.add_node_peer(node, self.multiaddr_list)\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/tenacity/__init__.py:289: in wrapped_f\n    return self(f, *args, **kw)\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/tenacity/__init__.py:379: in __call__\n    do = self.iter(retry_state=retry_state)\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/tenacity/__init__.py:325: in iter\n    raise retry_exc.reraise()\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/tenacity/__init__.py:158: in reraise\n    raise self.last_attempt.result()\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/concurrent/futures/_base.py:449: in result\n    return self.__get_result()\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/concurrent/futures/_base.py:401: in __get_result\n    raise self._exception\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/tenacity/__init__.py:382: in __call__\n    result = fn(*args, **kwargs)\nsrc/steps/common.py:15: in add_node_peer\n    node.add_peers(peer_info)\nsrc/node/waku_node.py:214: in add_peers\n    return self._api.add_peers(peers)\nsrc/node/api_clients/rest.py:27: in add_peers\n    return self.rest_call(\"post\", \"admin/v1/peers\", json.dumps(peers))\nsrc/node/api_clients/rest.py:16: in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\nsrc/node/api_clients/base_client.py:17: in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\nE   Exception: Error: 500 Server Error: Internal Server Error for url: http://127.0.0.1:17924/admin/v1/peers with response: b''","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"set_allure_env_variables","time":{"start":1713792284731,"stop":1713792284731,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_id","time":{"start":1713792501041,"stop":1713792501042,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes","time":{"start":1713792501041,"stop":1713792501041,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail","time":{"start":1713792501041,"stop":1713792501041,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_setup","time":{"start":1713792501042,"stop":1713792501042,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"light_push_publish_setup","time":{"start":1713792501042,"stop":1713792511152,"duration":10110},"status":"broken","statusMessage":"Exception: Error: 500 Server Error: Internal Server Error for url: http://127.0.0.1:17924/admin/v1/peers with response: b''\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/pluggy/_callers.py\", line 137, in _multicall\n    teardown.throw(outcome._exception)\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/_pytest/setuponly.py\", line 36, in pytest_fixture_setup\n    return (yield)\n            ^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/pluggy/_callers.py\", line 77, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/_pytest/fixtures.py\", line 1140, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/_pytest/fixtures.py\", line 917, in call_fixture_func\n    fixture_result = fixturefunc(**kwargs)\n                     ^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/tests/light_push/test_publish.py\", line 16, in light_push_publish_setup\n    self.setup_first_lightpush_node()\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/light_push.py\", line 72, in setup_first_lightpush_node\n    self.light_push_node1 = self.setup_lightpush_node(NODE_2, node_index=1, lightpush=lightpush, relay=relay, **kwargs)\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/light_push.py\", line 49, in setup_lightpush_node\n    self.common_steps.add_node_peer(node, self.multiaddr_list)\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/tenacity/__init__.py\", line 289, in wrapped_f\n    return self(f, *args, **kw)\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/tenacity/__init__.py\", line 379, in __call__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/tenacity/__init__.py\", line 325, in iter\n    raise retry_exc.reraise()\n          ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/tenacity/__init__.py\", line 158, in reraise\n    raise self.last_attempt.result()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/concurrent/futures/_base.py\", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/concurrent/futures/_base.py\", line 401, in __get_result\n    raise self._exception\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/tenacity/__init__.py\", line 382, in __call__\n    result = fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/common.py\", line 15, in add_node_peer\n    node.add_peers(peer_info)\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/waku_node.py\", line 214, in add_peers\n    return self._api.add_peers(peers)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 27, in add_peers\n    return self.rest_call(\"post\", \"admin/v1/peers\", json.dumps(peers))\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 16, in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/base_client.py\", line 17, in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\n","steps":[{"name":"setup_first_receiving_node","time":{"start":1713792501042,"stop":1713792502762,"duration":1720},"status":"passed","steps":[{"name":"start_receiving_node","time":{"start":1713792501043,"stop":1713792502762,"duration":1719},"status":"passed","steps":[{"name":"add_node_peer","time":{"start":1713792502762,"stop":1713792502762,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<src.steps.common.StepsCommon object at 0x7f49301be1b0>, <src.node.waku_node.WakuNode object at 0x7f493018c380>, [])"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"image","value":"'harbor.status.im/wakuorg/nwaku:latest'"},{"name":"node_index","value":"1"},{"name":"lightpush","value":"'true'"},{"name":"relay","value":"'true'"},{"name":"nodekey","value":"'30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68'"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"lightpush","value":"'true'"},{"name":"relay","value":"'true'"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"setup_first_lightpush_node","time":{"start":1713792502762,"stop":1713792511150,"duration":8388},"status":"broken","statusMessage":"Exception: Error: 500 Server Error: Internal Server Error for url: http://127.0.0.1:17924/admin/v1/peers with response: b''\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/light_push.py\", line 72, in setup_first_lightpush_node\n    self.light_push_node1 = self.setup_lightpush_node(NODE_2, node_index=1, lightpush=lightpush, relay=relay, **kwargs)\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/light_push.py\", line 49, in setup_lightpush_node\n    self.common_steps.add_node_peer(node, self.multiaddr_list)\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/tenacity/__init__.py\", line 289, in wrapped_f\n    return self(f, *args, **kw)\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/tenacity/__init__.py\", line 379, in __call__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/tenacity/__init__.py\", line 325, in iter\n    raise retry_exc.reraise()\n          ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/tenacity/__init__.py\", line 158, in reraise\n    raise self.last_attempt.result()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/concurrent/futures/_base.py\", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/concurrent/futures/_base.py\", line 401, in __get_result\n    raise self._exception\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/tenacity/__init__.py\", line 382, in __call__\n    result = fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/common.py\", line 15, in add_node_peer\n    node.add_peers(peer_info)\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/waku_node.py\", line 214, in add_peers\n    return self._api.add_peers(peers)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 27, in add_peers\n    return self.rest_call(\"post\", \"admin/v1/peers\", json.dumps(peers))\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 16, in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/base_client.py\", line 17, in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\n","steps":[{"name":"setup_lightpush_node","time":{"start":1713792502763,"stop":1713792511149,"duration":8386},"status":"broken","statusMessage":"Exception: Error: 500 Server Error: Internal Server Error for url: http://127.0.0.1:17924/admin/v1/peers with response: b''\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/light_push.py\", line 49, in setup_lightpush_node\n    self.common_steps.add_node_peer(node, self.multiaddr_list)\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/tenacity/__init__.py\", line 289, in wrapped_f\n    return self(f, *args, **kw)\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/tenacity/__init__.py\", line 379, in __call__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/tenacity/__init__.py\", line 325, in iter\n    raise retry_exc.reraise()\n          ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/tenacity/__init__.py\", line 158, in reraise\n    raise self.last_attempt.result()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/concurrent/futures/_base.py\", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/concurrent/futures/_base.py\", line 401, in __get_result\n    raise self._exception\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/tenacity/__init__.py\", line 382, in __call__\n    result = fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/common.py\", line 15, in add_node_peer\n    node.add_peers(peer_info)\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/waku_node.py\", line 214, in add_peers\n    return self._api.add_peers(peers)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 27, in add_peers\n    return self.rest_call(\"post\", \"admin/v1/peers\", json.dumps(peers))\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 16, in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/base_client.py\", line 17, in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\n","steps":[{"name":"add_node_peer","time":{"start":1713792504746,"stop":1713792511147,"duration":6401},"status":"broken","statusMessage":"Exception: Error: 500 Server Error: Internal Server Error for url: http://127.0.0.1:17924/admin/v1/peers with response: b''\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/tenacity/__init__.py\", line 289, in wrapped_f\n    return self(f, *args, **kw)\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/tenacity/__init__.py\", line 379, in __call__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/tenacity/__init__.py\", line 325, in iter\n    raise retry_exc.reraise()\n          ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/tenacity/__init__.py\", line 158, in reraise\n    raise self.last_attempt.result()\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/concurrent/futures/_base.py\", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/concurrent/futures/_base.py\", line 401, in __get_result\n    raise self._exception\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/tenacity/__init__.py\", line 382, in __call__\n    result = fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/common.py\", line 15, in add_node_peer\n    node.add_peers(peer_info)\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/waku_node.py\", line 214, in add_peers\n    return self._api.add_peers(peers)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 27, in add_peers\n    return self.rest_call(\"post\", \"admin/v1/peers\", json.dumps(peers))\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 16, in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/base_client.py\", line 17, in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\n","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<src.steps.common.StepsCommon object at 0x7f49301be1b0>, <src.node.waku_node.WakuNode object at 0x7f493018cf20>, ['/ip4/172.18.115.129/tcp/6909/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip'])"}],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"image","value":"'harbor.status.im/wakuorg/go-waku:latest'"},{"name":"node_index","value":"1"},{"name":"lightpush","value":"'true'"},{"name":"relay","value":"'false'"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"lightpush","value":"'true'"},{"name":"relay","value":"'false'"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":6,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"light_push_setup","time":{"start":1713792501042,"stop":1713792501042,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"skipped","statusMessage":"XFAIL https://github.com/waku-org/go-waku/issues/1076\n\nException: Error: 500 Server Error: Internal Server Error for url: http://127.0.0.1:17924/admin/v1/peers with response: b''","statusTrace":"src/node/api_clients/base_client.py:14: in make_request\n    response.raise_for_status()\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/requests/models.py:1021: in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\nE   requests.exceptions.HTTPError: 500 Server Error: Internal Server Error for url: http://127.0.0.1:17924/admin/v1/peers\n\nDuring handling of the above exception, another exception occurred:\ntests/light_push/test_publish.py:16: in light_push_publish_setup\n    self.setup_first_lightpush_node()\nsrc/steps/light_push.py:72: in setup_first_lightpush_node\n    self.light_push_node1 = self.setup_lightpush_node(NODE_2, node_index=1, lightpush=lightpush, relay=relay, **kwargs)\nsrc/steps/light_push.py:49: in setup_lightpush_node\n    self.common_steps.add_node_peer(node, self.multiaddr_list)\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/tenacity/__init__.py:289: in wrapped_f\n    return self(f, *args, **kw)\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/tenacity/__init__.py:379: in __call__\n    do = self.iter(retry_state=retry_state)\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/tenacity/__init__.py:325: in iter\n    raise retry_exc.reraise()\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/tenacity/__init__.py:158: in reraise\n    raise self.last_attempt.result()\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/concurrent/futures/_base.py:449: in result\n    return self.__get_result()\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/concurrent/futures/_base.py:401: in __get_result\n    raise self._exception\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/tenacity/__init__.py:382: in __call__\n    result = fn(*args, **kwargs)\nsrc/steps/common.py:15: in add_node_peer\n    node.add_peers(peer_info)\nsrc/node/waku_node.py:214: in add_peers\n    return self._api.add_peers(peers)\nsrc/node/api_clients/rest.py:27: in add_peers\n    return self.rest_call(\"post\", \"admin/v1/peers\", json.dumps(peers))\nsrc/node/api_clients/rest.py:16: in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\nsrc/node/api_clients/base_client.py:17: in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\nE   Exception: Error: 500 Server Error: Internal Server Error for url: http://127.0.0.1:17924/admin/v1/peers with response: b''","steps":[],"attachments":[{"uid":"96bd3c6747ef0d6a","name":"log","source":"96bd3c6747ef0d6a.txt","type":"text/plain","size":11167}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"test_setup::0","time":{"start":1713792511283,"stop":1713792511285,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes::0","time":{"start":1713792511286,"stop":1713792514096,"duration":2810},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail::0","time":{"start":1713792514096,"stop":1713792514096,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"set_allure_env_variables::0","time":{"start":1713792944790,"stop":1713792944790,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"@pytest.mark.xfail(True, reason='https://github.com/waku-org/go-waku/issues/1076')"},{"name":"parentSuite","value":"tests.light_push"},{"name":"suite","value":"test_publish"},{"name":"subSuite","value":"TestLightPushPublish"},{"name":"host","value":"fv-az738-130"},{"name":"thread","value":"2037-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.light_push.test_publish"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":22,"passed":0,"unknown":0,"total":22},"items":[{"uid":"7c3ef6f18f6d74ab","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/97//#testresult/7c3ef6f18f6d74ab","status":"skipped","statusDetails":"XFAIL https://github.com/waku-org/go-waku/issues/1076\n\nAssertionError: assert \"couldn't find any messages\" in 'Message with payload > 1MB was received'\n +  where 'Message with payload > 1MB was received' = str(AssertionError('Message with payload > 1MB was received'))","time":{"start":1713789807072,"stop":1713789809250,"duration":2178}},{"uid":"4d077561b6f8fe19","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/96//#testresult/4d077561b6f8fe19","status":"skipped","statusDetails":"XFAIL https://github.com/waku-org/go-waku/issues/1076\n\nAssertionError: assert \"couldn't find any messages\" in 'Message with payload > 1MB was received'\n +  where 'Message with payload > 1MB was received' = str(AssertionError('Message with payload > 1MB was received'))","time":{"start":1713788338888,"stop":1713788341077,"duration":2189}},{"uid":"30937fffa3a7f422","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/95//#testresult/30937fffa3a7f422","status":"skipped","statusDetails":"XFAIL https://github.com/waku-org/go-waku/issues/1076\n\nAssertionError: assert \"couldn't find any messages\" in 'Message with payload > 1MB was received'\n +  where 'Message with payload > 1MB was received' = str(AssertionError('Message with payload > 1MB was received'))","time":{"start":1713786327398,"stop":1713786329597,"duration":2199}},{"uid":"c3f98788039415c7","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/93//#testresult/c3f98788039415c7","status":"skipped","statusDetails":"XFAIL https://github.com/waku-org/go-waku/issues/1076\n\nAssertionError: assert \"couldn't find any messages\" in 'Message with payload > 1MB was received'\n +  where 'Message with payload > 1MB was received' = str(AssertionError('Message with payload > 1MB was received'))","time":{"start":1713755692584,"stop":1713755694789,"duration":2205}},{"uid":"559c71efb18a6a3c","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/92//#testresult/559c71efb18a6a3c","status":"skipped","statusDetails":"XFAIL https://github.com/waku-org/go-waku/issues/1076\n\nAssertionError: assert \"couldn't find any messages\" in 'Message with payload > 1MB was received'\n +  where 'Message with payload > 1MB was received' = str(AssertionError('Message with payload > 1MB was received'))","time":{"start":1713669216150,"stop":1713669218322,"duration":2172}},{"uid":"a0c5326386f4764d","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/91//#testresult/a0c5326386f4764d","status":"skipped","statusDetails":"XFAIL https://github.com/waku-org/go-waku/issues/1076\n\nAssertionError: assert \"couldn't find any messages\" in \"Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:55844/lightpush/v1/message with response: b'stream reset'\"\n +  where \"Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:55844/lightpush/v1/message with response: b'stream reset'\" = str(Exception(\"Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:55844/lightpush/v1/message with response: b'stream reset'\"))","time":{"start":1713582890805,"stop":1713582890876,"duration":71}},{"uid":"2027204a3a830588","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/90//#testresult/2027204a3a830588","status":"skipped","statusDetails":"XFAIL https://github.com/waku-org/go-waku/issues/1076\n\nAssertionError: assert \"couldn't find any messages\" in \"Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:31237/lightpush/v1/message with response: b'stream reset'\"\n +  where \"Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:31237/lightpush/v1/message with response: b'stream reset'\" = str(Exception(\"Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:31237/lightpush/v1/message with response: b'stream reset'\"))","time":{"start":1713496432042,"stop":1713496432129,"duration":87}},{"uid":"733eadde134f789","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/89//#testresult/733eadde134f789","status":"skipped","statusDetails":"XFAIL https://github.com/waku-org/go-waku/issues/1076\n\nAssertionError: assert \"couldn't find any messages\" in \"Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:33510/lightpush/v1/message with response: b'stream reset'\"\n +  where \"Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:33510/lightpush/v1/message with response: b'stream reset'\" = str(Exception(\"Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:33510/lightpush/v1/message with response: b'stream reset'\"))","time":{"start":1713422041509,"stop":1713422041596,"duration":87}},{"uid":"bfd5e0949353a983","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/88//#testresult/bfd5e0949353a983","status":"skipped","statusDetails":"XFAIL https://github.com/waku-org/go-waku/issues/1076\n\nAssertionError: assert \"couldn't find any messages\" in \"Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:1840/lightpush/v1/message with response: b'stream reset'\"\n +  where \"Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:1840/lightpush/v1/message with response: b'stream reset'\" = str(Exception(\"Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:1840/lightpush/v1/message with response: b'stream reset'\"))","time":{"start":1713410001031,"stop":1713410001106,"duration":75}},{"uid":"ef90ca5edc2feed1","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/87//#testresult/ef90ca5edc2feed1","status":"skipped","statusDetails":"XFAIL https://github.com/waku-org/go-waku/issues/1076\n\nAssertionError: assert \"couldn't find any messages\" in \"Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:7701/lightpush/v1/message with response: b'failed to dial: failed to dial 16Uiu2HAmJKuEaptTEt47BoJG6BBkQmJRSLjCMX2tBeqJDC978exa: all dials failed\\\\n  * [/ip4/172.18.229.194/tcp/59859] dial tcp4 0.0.0.0:7702->172.18.229.194:59859: i/o timeout\\\\n  * [/ip4/172.18.229.194/tcp/59860/ws] dial tcp 172.18.229.194:59860: i/o timeout'\"\n +  where \"Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:7701/lightpush/v1/message with response: b'failed to dial: failed to dial 16Uiu2HAmJKuEaptTEt47BoJG6BBkQmJRSLjCMX2tBeqJDC978exa: all dials failed\\\\n  * [/ip4/172.18.229.194/tcp/59859] dial tcp4 0.0.0.0:7702->172.18.229.194:59859: i/o timeout\\\\n  * [/ip4/172.18.229.194/tcp/59860/ws] dial tcp 172.18.229.194:59860: i/o timeout'\" = str(Exception(\"Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:7701/lightpush/v1/message with response: b'failed to dial: failed to dial 16Uiu2HAmJKuEaptTEt47BoJG6BBkQmJRSLjCMX2tBeqJDC978exa: all dials failed\\\\n  * [/ip4/172.18.229.194/tcp/59859] dial tcp4 0.0.0.0:7702->172.18.229.194:59859: i/o timeout\\\\n  * [/ip4/172.18.229.194/tcp/59860/ws] dial tcp 172.18.229.194:59860: i/o timeout'\"))","time":{"start":1713323663908,"stop":1713323667845,"duration":3937}},{"uid":"8ade5ab9197d4a6a","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/86//#testresult/8ade5ab9197d4a6a","status":"skipped","statusDetails":"XFAIL https://github.com/waku-org/go-waku/issues/1076\n\nAssertionError: assert \"couldn't find any messages\" in \"Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:42939/lightpush/v1/message with response: b'stream reset'\"\n +  where \"Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:42939/lightpush/v1/message with response: b'stream reset'\" = str(Exception(\"Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:42939/lightpush/v1/message with response: b'stream reset'\"))","time":{"start":1713277523893,"stop":1713277523953,"duration":60}},{"uid":"e0742b7319e5875c","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/85//#testresult/e0742b7319e5875c","status":"skipped","statusDetails":"XFAIL https://github.com/waku-org/go-waku/issues/1076\n\nAssertionError: assert \"couldn't find any messages\" in \"Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:7630/lightpush/v1/message with response: b'stream reset'\"\n +  where \"Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:7630/lightpush/v1/message with response: b'stream reset'\" = str(Exception(\"Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:7630/lightpush/v1/message with response: b'stream reset'\"))","time":{"start":1713237417913,"stop":1713237417976,"duration":63}},{"uid":"eaddfc8a9ffea45a","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/84//#testresult/eaddfc8a9ffea45a","status":"skipped","statusDetails":"XFAIL https://github.com/waku-org/go-waku/issues/1076\n\nAssertionError: assert \"couldn't find any messages\" in \"Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:22046/lightpush/v1/message with response: b'stream reset'\"\n +  where \"Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:22046/lightpush/v1/message with response: b'stream reset'\" = str(Exception(\"Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:22046/lightpush/v1/message with response: b'stream reset'\"))","time":{"start":1713187295336,"stop":1713187295419,"duration":83}},{"uid":"5f7d14c375ae3eed","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/83//#testresult/5f7d14c375ae3eed","status":"skipped","statusDetails":"XFAIL https://github.com/waku-org/go-waku/issues/1076\n\nAssertionError: assert \"couldn't find any messages\" in \"Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:34580/lightpush/v1/message with response: b'stream reset'\"\n +  where \"Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:34580/lightpush/v1/message with response: b'stream reset'\" = str(Exception(\"Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:34580/lightpush/v1/message with response: b'stream reset'\"))","time":{"start":1713154603347,"stop":1713154603431,"duration":84}},{"uid":"7a1e08178d519306","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/82//#testresult/7a1e08178d519306","status":"skipped","statusDetails":"XFAIL https://github.com/waku-org/go-waku/issues/1076\n\nAssertionError: assert \"couldn't find any messages\" in \"Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:8466/lightpush/v1/message with response: b'stream reset'\"\n +  where \"Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:8466/lightpush/v1/message with response: b'stream reset'\" = str(Exception(\"Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:8466/lightpush/v1/message with response: b'stream reset'\"))","time":{"start":1713066908096,"stop":1713066908185,"duration":89}},{"uid":"2622e8e30d89ab07","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/81//#testresult/2622e8e30d89ab07","status":"skipped","statusDetails":"XFAIL https://github.com/waku-org/go-waku/issues/1076\n\nAssertionError: assert \"couldn't find any messages\" in \"Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:38609/lightpush/v1/message with response: b'stream reset'\"\n +  where \"Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:38609/lightpush/v1/message with response: b'stream reset'\" = str(Exception(\"Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:38609/lightpush/v1/message with response: b'stream reset'\"))","time":{"start":1712977989573,"stop":1712977989662,"duration":89}},{"uid":"3125fa98f0f1c3fe","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/80//#testresult/3125fa98f0f1c3fe","status":"skipped","statusDetails":"XFAIL https://github.com/waku-org/go-waku/issues/1076\n\nAssertionError: assert \"couldn't find any messages\" in \"Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:9706/lightpush/v1/message with response: b'stream reset'\"\n +  where \"Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:9706/lightpush/v1/message with response: b'stream reset'\" = str(Exception(\"Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:9706/lightpush/v1/message with response: b'stream reset'\"))","time":{"start":1712891789818,"stop":1712891789885,"duration":67}},{"uid":"1273734a3579ef8b","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/79//#testresult/1273734a3579ef8b","status":"skipped","statusDetails":"XFAIL https://github.com/waku-org/go-waku/issues/1076\n\nAssertionError: assert \"couldn't find any messages\" in \"Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:60339/lightpush/v1/message with response: b'stream reset'\"\n +  where \"Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:60339/lightpush/v1/message with response: b'stream reset'\" = str(Exception(\"Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:60339/lightpush/v1/message with response: b'stream reset'\"))","time":{"start":1712824510767,"stop":1712824510848,"duration":81}},{"uid":"4d0647ca8d56e88a","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/77//#testresult/4d0647ca8d56e88a","status":"skipped","statusDetails":"XFAIL https://github.com/waku-org/go-waku/issues/1076\n\nAssertionError: assert \"couldn't find any messages\" in \"Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:5682/lightpush/v1/message with response: b'stream reset'\"\n +  where \"Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:5682/lightpush/v1/message with response: b'stream reset'\" = str(Exception(\"Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:5682/lightpush/v1/message with response: b'stream reset'\"))","time":{"start":1712820424667,"stop":1712820424761,"duration":94}},{"uid":"1690253572c9c376","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/74//#testresult/1690253572c9c376","status":"skipped","statusDetails":"XFAIL https://github.com/waku-org/go-waku/issues/1076\n\nAssertionError: assert \"couldn't find any messages\" in \"Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:11432/lightpush/v1/message with response: b'stream reset'\"\n +  where \"Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:11432/lightpush/v1/message with response: b'stream reset'\" = str(Exception(\"Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:11432/lightpush/v1/message with response: b'stream reset'\"))","time":{"start":1712676827897,"stop":1712676832173,"duration":4276}}]},"tags":["@pytest.mark.xfail(True, reason='https://github.com/waku-org/go-waku/issues/1076')"]},"source":"7468b915e990e7f6.json","parameterValues":[]}