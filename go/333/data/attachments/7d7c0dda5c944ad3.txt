[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_relay_get_message_after_one_peer_was_stopped with id: 2024-11-05_03-14-08__31d85d39-7baa-4f0c-a935-339b198433b5
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-05_03-14-08__31d85d39-7baa-4f0c-a935-339b198433b5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.96.169
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['59060', '59061', '59062', '59063', '59064']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 59060:59060 -p 59061:59061 -p 59062:59062 -p 59063:59063 -p 59064:59064 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=59062 --rest-port=59060 --tcp-port=59061 --discv5-udp-port=59063 --rest-address=0.0.0.0 --nat=extip:172.18.96.169 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fb9fc1bb09bdcf07c0bcaea58dd1becbbf98c5aedbde2c14908ef88f4f38a988 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=59064 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.96.169 waku ac69cdfdc6ae88f6529a23c0a382d95de46c667631806f41c8d92f256cda489e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID ac69cdfdc6ae. Setting up logs at ./log/docker/node1_2024-11-05_03-14-08__31d85d39-7baa-4f0c-a935-339b198433b5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 59060
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container b2340a6fb10f. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59060/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59060/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.96.169/tcp/59061/p2p/16Uiu2HAmC5q1AFEnbmR6amuyMTM5TFyeW2p7xGL6JzW8aqSHP8yZ","/ip4/172.18.96.169/tcp/59062/ws/p2p/16Uiu2HAmC5q1AFEnbmR6amuyMTM5TFyeW2p7xGL6JzW8aqSHP8yZ"],"enrUri":"enr:-L24QO7lFZWFjcJL5aIIe1YyaW9TQD6sTJVjifJOahLI7N__G9mZCSCAtVwxTJuJSiY1l9Ry5rV6M7xW3N56i7rNNZQCgmlkgnY0gmlwhKwSYKmKbXVsdGlhZGRyc5YACASsEmCpBua1AAoErBJgqQbmtt0DgnJzhQADAQAAiXNlY3AyNTZrMaEC94FDuRGrClX8i7tyN5W9fhG6N8wO1JDVwwDtYpCM8VyDdGNwgua1g3VkcILmt4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-05_03-14-08__31d85d39-7baa-4f0c-a935-339b198433b5__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.219.44
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['1284', '1285', '1286', '1287', '1288']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 1284:1284 -p 1285:1285 -p 1286:1286 -p 1287:1287 -p 1288:1288 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=1286 --rest-port=1284 --tcp-port=1285 --discv5-udp-port=1287 --rest-address=0.0.0.0 --nat=extip:172.18.219.44 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6194ff63b40ebbf7c92a5b1caaab212c24b9dfbd7f3150a42cae8c705faffa1b --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-L24QO7lFZWFjcJL5aIIe1YyaW9TQD6sTJVjifJOahLI7N__G9mZCSCAtVwxTJuJSiY1l9Ry5rV6M7xW3N56i7rNNZQCgmlkgnY0gmlwhKwSYKmKbXVsdGlhZGRyc5YACASsEmCpBua1AAoErBJgqQbmtt0DgnJzhQADAQAAiXNlY3AyNTZrMaEC94FDuRGrClX8i7tyN5W9fhG6N8wO1JDVwwDtYpCM8VyDdGNwgua1g3VkcILmt4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.219.44 waku ef7cdd87e7250e9a4186cfda022ff4bc51b4ee90cf7ce747c977f85391cb3a71
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID ef7cdd87e725. Setting up logs at ./log/docker/node2_2024-11-05_03-14-08__31d85d39-7baa-4f0c-a935-339b198433b5__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 1284
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1284/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QItdMIHmZ1lvlUmlEErvs3Aa4U9IYwzQ5VywSfc7U_4iH83oiaZ79jNXM9WCj7CJOBtmbJBONL26R2LregKIu_KGAZL6UMTpgmlkgnY0gmlwhKwRAAuJc2VjcDI1NmsxoQLuiA10UuZCOqStxc1z-XcjmJIkN7FD90BvgymUNMBgtIN0Y3CCBQWDdWRwggUHhXdha3UyAQ","listenAddresses":["/ip4/127.0.0.1/tcp/1285/p2p/16Uiu2HAmBUoLY52nSV2qi1Nfq1uzgMNvP9m6pDRsFZM4M266P5v3","/ip4/127.0.0.1/tcp/1286/ws/p2p/16Uiu2HAmBUoLY52nSV2qi1Nfq1uzgMNvP9m6pDRsFZM4M266P5v3","/ip4/172.17.0.11/tcp/1285/p2p/16Uiu2HAmBUoLY52nSV2qi1Nfq1uzgMNvP9m6pDRsFZM4M266P5v3","/ip4/172.17.0.11/tcp/1286/ws/p2p/16Uiu2HAmBUoLY52nSV2qi1Nfq1uzgMNvP9m6pDRsFZM4M266P5v3"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1284/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.96.169/tcp/59061/p2p/16Uiu2HAmC5q1AFEnbmR6amuyMTM5TFyeW2p7xGL6JzW8aqSHP8yZ", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-05_03-14-08__31d85d39-7baa-4f0c-a935-339b198433b5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.109.45
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['48990', '48991', '48992', '48993', '48994']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 48990:48990 -p 48991:48991 -p 48992:48992 -p 48993:48993 -p 48994:48994 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=48992 --rest-port=48990 --tcp-port=48991 --discv5-udp-port=48993 --rest-address=0.0.0.0 --nat=extip:172.18.109.45 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ccddfbfaaf049982beac9a69733bf2a0f7fb7b8a2adc87ba06eb92f08f376a76 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=48994 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QO7lFZWFjcJL5aIIe1YyaW9TQD6sTJVjifJOahLI7N__G9mZCSCAtVwxTJuJSiY1l9Ry5rV6M7xW3N56i7rNNZQCgmlkgnY0gmlwhKwSYKmKbXVsdGlhZGRyc5YACASsEmCpBua1AAoErBJgqQbmtt0DgnJzhQADAQAAiXNlY3AyNTZrMaEC94FDuRGrClX8i7tyN5W9fhG6N8wO1JDVwwDtYpCM8VyDdGNwgua1g3VkcILmt4V3YWt1MgE
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.164.174
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['29762', '29763', '29764', '29765', '29766']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 29762:29762 -p 29763:29763 -p 29764:29764 -p 29765:29765 -p 29766:29766 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=29764 --rest-port=29762 --tcp-port=29763 --discv5-udp-port=29765 --rest-address=0.0.0.0 --nat=extip:172.18.164.174 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ec42d6800eb6735ef48dfb0f216de47b1cc0e3bde3b0f54cef6aa8dc2d3d0de9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=29766 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QO7lFZWFjcJL5aIIe1YyaW9TQD6sTJVjifJOahLI7N__G9mZCSCAtVwxTJuJSiY1l9Ry5rV6M7xW3N56i7rNNZQCgmlkgnY0gmlwhKwSYKmKbXVsdGlhZGRyc5YACASsEmCpBua1AAoErBJgqQbmtt0DgnJzhQADAQAAiXNlY3AyNTZrMaEC94FDuRGrClX8i7tyN5W9fhG6N8wO1JDVwwDtYpCM8VyDdGNwgua1g3VkcILmt4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.164.174 waku 9320f44ea5a61b120f346c58fa226197f0162cb88100e96292ec0b2fa8d2e39c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 9320f44ea5a6. Setting up logs at ./log/docker/node3_2024-11-05_03-14-08__31d85d39-7baa-4f0c-a935-339b198433b5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 29762
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29762/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29762/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.164.174/tcp/29763/p2p/16Uiu2HAmUfCV8QkR1Xtu8qY2maXqSLyhZKpsSBjBHeWdC12Fb4Mt","/ip4/172.18.164.174/tcp/29764/ws/p2p/16Uiu2HAmUfCV8QkR1Xtu8qY2maXqSLyhZKpsSBjBHeWdC12Fb4Mt"],"enrUri":"enr:-L24QBW8ct-4QVUnqgvEttRMR-HynPBY14A2VDZsbEJUkUdAQKApddVSpiYAE2SrL8ulreRlnMxtMNuU6F5OKLi6fUYCgmlkgnY0gmlwhKwSpK6KbXVsdGlhZGRyc5YACASsEqSuBnRDAAoErBKkrgZ0RN0DgnJzhQADAQAAiXNlY3AyNTZrMaED7ci2StP4J_4kq5qN6U7dLSCpsKNdfp6kQGNJgwkO73eDdGNwgnRDg3VkcIJ0RYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29762/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.96.169/tcp/59061/p2p/16Uiu2HAmC5q1AFEnbmR6amuyMTM5TFyeW2p7xGL6JzW8aqSHP8yZ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-05_03-14-08__31d85d39-7baa-4f0c-a935-339b198433b5__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.244.212
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['12114', '12115', '12116', '12117', '12118']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 12114:12114 -p 12115:12115 -p 12116:12116 -p 12117:12117 -p 12118:12118 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=12116 --rest-port=12114 --tcp-port=12115 --discv5-udp-port=12117 --rest-address=0.0.0.0 --nat=extip:172.18.244.212 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5ff6f341aedeb8fb4d7c7c796eea2d81f8bc4ecc8b67e99df95b24c6bfeca6fa --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-L24QO7lFZWFjcJL5aIIe1YyaW9TQD6sTJVjifJOahLI7N__G9mZCSCAtVwxTJuJSiY1l9Ry5rV6M7xW3N56i7rNNZQCgmlkgnY0gmlwhKwSYKmKbXVsdGlhZGRyc5YACASsEmCpBua1AAoErBJgqQbmtt0DgnJzhQADAQAAiXNlY3AyNTZrMaEC94FDuRGrClX8i7tyN5W9fhG6N8wO1JDVwwDtYpCM8VyDdGNwgua1g3VkcILmt4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.244.212 waku 43bcf734bc90eeb8a545d7fc55bcc289d793ab88f03b0a3d6ddbbd03381d3329
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 43bcf734bc90. Setting up logs at ./log/docker/node4_2024-11-05_03-14-08__31d85d39-7baa-4f0c-a935-339b198433b5__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 12114
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12114/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QCZGELakd-2wPP74vTTwqbKyntGYqvaRS5QFFqx9KpeKNn0VheoGX95QrJKHI_kR8IPepnRQ2cmLpynBA0XNdq2GAZL6UNOGgmlkgnY0gmlwhKwRAA6Jc2VjcDI1NmsxoQOrwG8g-Fmf0halhBCBQLZbzMxVCqIhi4XiksflP6rAxYN0Y3CCL1ODdWRwgi9VhXdha3UyAQ","listenAddresses":["/ip4/127.0.0.1/tcp/12115/p2p/16Uiu2HAmQDSFqaRBJMk3qbMTyGn3EDANhu3wXpxa7Uog8wRhzTy6","/ip4/127.0.0.1/tcp/12116/ws/p2p/16Uiu2HAmQDSFqaRBJMk3qbMTyGn3EDANhu3wXpxa7Uog8wRhzTy6","/ip4/172.17.0.14/tcp/12115/p2p/16Uiu2HAmQDSFqaRBJMk3qbMTyGn3EDANhu3wXpxa7Uog8wRhzTy6","/ip4/172.17.0.14/tcp/12116/ws/p2p/16Uiu2HAmQDSFqaRBJMk3qbMTyGn3EDANhu3wXpxa7Uog8wRhzTy6"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12114/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.96.169/tcp/59061/p2p/16Uiu2HAmC5q1AFEnbmR6amuyMTM5TFyeW2p7xGL6JzW8aqSHP8yZ", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-05_03-14-08__31d85d39-7baa-4f0c-a935-339b198433b5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.22.162
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['20151', '20152', '20153', '20154', '20155']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 20151:20151 -p 20152:20152 -p 20153:20153 -p 20154:20154 -p 20155:20155 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=20153 --rest-port=20151 --tcp-port=20152 --discv5-udp-port=20154 --rest-address=0.0.0.0 --nat=extip:172.18.22.162 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dd8f5a551f7dc9feffc7baee7fa19bbb7edcc9c9ae8c1bee0dd2bdb131c8cabf --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=20155 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QO7lFZWFjcJL5aIIe1YyaW9TQD6sTJVjifJOahLI7N__G9mZCSCAtVwxTJuJSiY1l9Ry5rV6M7xW3N56i7rNNZQCgmlkgnY0gmlwhKwSYKmKbXVsdGlhZGRyc5YACASsEmCpBua1AAoErBJgqQbmtt0DgnJzhQADAQAAiXNlY3AyNTZrMaEC94FDuRGrClX8i7tyN5W9fhG6N8wO1JDVwwDtYpCM8VyDdGNwgua1g3VkcILmt4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.22.162 waku bdc54e0b51581c92e8885b30e9e380d8ac014c5f8a06ccbde8118f2b0de4f9a8
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID bdc54e0b5158. Setting up logs at ./log/docker/node5_2024-11-05_03-14-08__31d85d39-7baa-4f0c-a935-339b198433b5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 20151
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20151/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20151/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.22.162/tcp/20152/p2p/16Uiu2HAm1D3DmY3xpxJP2YpyXSfpgXg7D62pfA4c47UfVGDRkrYQ","/ip4/172.18.22.162/tcp/20153/ws/p2p/16Uiu2HAm1D3DmY3xpxJP2YpyXSfpgXg7D62pfA4c47UfVGDRkrYQ"],"enrUri":"enr:-L24QDKzMMcTNV54ZhQaaJFFn946QjQK4jNU1WlZVais8VLLDJn9RFpj8kBSFIAxPkQuEiXip02drsmlxTmEc48Pil0CgmlkgnY0gmlwhKwSFqKKbXVsdGlhZGRyc5YACASsEhaiBk64AAoErBIWogZOud0DgnJzhQADAQAAiXNlY3AyNTZrMaECVemWmDKpv-rbDcUDvXLPim-EIGnHmPXs3S_UyTPUlHmDdGNwgk64g3VkcIJOuoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20151/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.96.169/tcp/59061/p2p/16Uiu2HAmC5q1AFEnbmR6amuyMTM5TFyeW2p7xGL6JzW8aqSHP8yZ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59060/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1284/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29762/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12114/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20151/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59060/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59060/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730776456856903168,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1284/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730776456856903168,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29762/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730776456856903168,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12114/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730776456856903168,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20151/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730776456856903168,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59060/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59060/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730776457002816000,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1284/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730776457002816000,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29762/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730776457002816000,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12114/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730776457002816000,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20151/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730776457002816000,"ephemeral":false}]'
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id ef7cdd87e725
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59060/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29762/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730776458514719488,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12114/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730776458514719488,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20151/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730776458514719488,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id ac69cdfdc6ae
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container ef7cdd87e725. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 9320f44ea5a6
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container ac69cdfdc6ae. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 43bcf734bc90
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 9320f44ea5a6. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id bdc54e0b5158
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 43bcf734bc90. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.