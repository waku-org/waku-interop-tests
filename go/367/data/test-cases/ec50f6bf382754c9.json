{"uid":"ec50f6bf382754c9","name":"test_2_nodes_different_cluster_same_shard","fullName":"tests.sharding.test_running_nodes_static_sharding.TestRunningNodesStaticSharding#test_2_nodes_different_cluster_same_shard","historyId":"9e5f16b7f45b6244b7d0c9ca8350f865","time":{"start":1732247597044,"stop":1732247601129,"duration":4085},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"set_allure_env_variables","time":{"start":1732245237976,"stop":1732245237976,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"check_waku_log_errors","time":{"start":1732247597042,"stop":1732247597042,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes","time":{"start":1732247597042,"stop":1732247597042,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_id","time":{"start":1732247597042,"stop":1732247597043,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail","time":{"start":1732247597042,"stop":1732247597042,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"sharding_setup","time":{"start":1732247597043,"stop":1732247597043,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"common_setup","time":{"start":1732247597043,"stop":1732247597043,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"relay_setup","time":{"start":1732247597043,"stop":1732247597043,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_setup","time":{"start":1732247597043,"stop":1732247597043,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[{"name":"setup_first_relay_node_with_filter","time":{"start":1732247597044,"stop":1732247598971,"duration":1927},"status":"passed","steps":[{"name":"setup_first_relay_node","time":{"start":1732247597044,"stop":1732247598971,"duration":1927},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"filter","value":"'true'"},{"name":"pubsub_topic","value":"'/waku/2/rs/2/0'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"pubsub_topic","value":"'/waku/2/rs/2/0'"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"setup_second_relay_node","time":{"start":1732247598972,"stop":1732247600998,"duration":2026},"status":"passed","steps":[{"name":"add_node_peer","time":{"start":1732247600978,"stop":1732247600998,"duration":20},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.sharding.test_running_nodes_static_sharding.TestRunningNodesStaticSharding object at 0x7efea9c348f0>, <src.node.waku_node.WakuNode object at 0x7efea94f2ab0>, ['/ip4/172.18.230.163/tcp/64831/p2p/16Uiu2HAm5K7jDgGE3fNynD94dqzbr8MktpgfuX39V8W1EUeQ5L5T'])"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"pubsub_topic","value":"'/waku/2/rs/4/0'"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"subscribe_first_relay_node","time":{"start":1732247600998,"stop":1732247601006,"duration":8},"status":"passed","steps":[{"name":"subscribe_relay_node","time":{"start":1732247600999,"stop":1732247601006,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7efea95336b0>"},{"name":"content_topics","value":"None"},{"name":"pubsub_topics","value":"['/waku/2/rs/2/0']"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"content_topics","value":"None"},{"name":"pubsub_topics","value":"['/waku/2/rs/2/0']"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"subscribe_second_relay_node","time":{"start":1732247601006,"stop":1732247601014,"duration":8},"status":"passed","steps":[{"name":"subscribe_relay_node","time":{"start":1732247601006,"stop":1732247601014,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7efea94f2ab0>"},{"name":"content_topics","value":"None"},{"name":"pubsub_topics","value":"['/waku/2/rs/4/0']"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"content_topics","value":"None"},{"name":"pubsub_topics","value":"['/waku/2/rs/4/0']"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_published_message_reaches_relay_peer","time":{"start":1732247601014,"stop":1732247601128,"duration":114},"status":"broken","statusMessage":"Exception: Error: 404 Client Error: Not Found for url: http://127.0.0.1:24580/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0 with response: b'no subscription found for pubsubTopic'\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.7/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/sharding.py\", line 158, in check_published_message_reaches_relay_peer\n    get_messages_response = self.retrieve_relay_message(peer, content_topic, pubsub_topic)\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.7/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/sharding.py\", line 142, in retrieve_relay_message\n    return node.get_relay_messages(pubsub_topic)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/waku_node.py\", line 349, in get_relay_messages\n    return self._api.get_relay_messages(pubsub_topic)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 60, in get_relay_messages\n    get_messages_response = self.rest_call(\"get\", f\"relay/v1/messages/{quote(pubsub_topic, safe='')}\")\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 16, in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/base_client.py\", line 17, in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\n","steps":[{"name":"create_message","time":{"start":1732247601015,"stop":1732247601015,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"relay_message","time":{"start":1732247601015,"stop":1732247601019,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7efea95336b0>"},{"name":"message","value":"{'payload': 'U2hhcmRpbmcgd29ya3MhIQ==', 'contentTopic': '/myapp/1/latest/proto', 'timestamp': 1732247601014601984}"},{"name":"pubsub_topic","value":"'/waku/2/rs/2/0'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"retrieve_relay_message","time":{"start":1732247601120,"stop":1732247601122,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7efea95336b0>"},{"name":"content_topic","value":"None"},{"name":"pubsub_topic","value":"'/waku/2/rs/2/0'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1732247601124,"stop":1732247601124,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'U2hhcmRpbmcgd29ya3MhIQ==', 'contentTopic': '/myapp/1/latest/proto', 'timestamp': 1732247601014601984}"},{"name":"index","value":"0"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"retrieve_relay_message","time":{"start":1732247601124,"stop":1732247601127,"duration":3},"status":"broken","statusMessage":"Exception: Error: 404 Client Error: Not Found for url: http://127.0.0.1:24580/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0 with response: b'no subscription found for pubsubTopic'\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.7/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/sharding.py\", line 142, in retrieve_relay_message\n    return node.get_relay_messages(pubsub_topic)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/waku_node.py\", line 349, in get_relay_messages\n    return self._api.get_relay_messages(pubsub_topic)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 60, in get_relay_messages\n    get_messages_response = self.rest_call(\"get\", f\"relay/v1/messages/{quote(pubsub_topic, safe='')}\")\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 16, in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/base_client.py\", line 17, in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\n","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7efea94f2ab0>"},{"name":"content_topic","value":"None"},{"name":"pubsub_topic","value":"'/waku/2/rs/2/0'"}],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"content_topic","value":"None"},{"name":"pubsub_topic","value":"'/waku/2/rs/2/0'"},{"name":"sender","value":"None"},{"name":"peer_list","value":"None"}],"shouldDisplayMessage":false,"stepsCount":5,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"fbbf65823ddf7fca","name":"log","source":"fbbf65823ddf7fca.txt","type":"text/plain","size":11922}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":14,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"test_setup::0","time":{"start":1732247601131,"stop":1732247601138,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes::0","time":{"start":1732247601138,"stop":1732247605576,"duration":4438},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"check_waku_log_errors::0","time":{"start":1732247605577,"stop":1732247605600,"duration":23},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail::0","time":{"start":1732247605600,"stop":1732247605600,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"set_allure_env_variables::0","time":{"start":1732247971594,"stop":1732247971594,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"tests.sharding"},{"name":"suite","value":"test_running_nodes_static_sharding"},{"name":"subSuite","value":"TestRunningNodesStaticSharding"},{"name":"host","value":"fv-az1435-841"},{"name":"thread","value":"2212-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.sharding.test_running_nodes_static_sharding"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":1,"skipped":0,"passed":291,"unknown":0,"total":292},"items":[{"uid":"cade64a7ad058bc9","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/366//#testresult/cade64a7ad058bc9","status":"passed","time":{"start":1732161062272,"stop":1732161065318,"duration":3046}},{"uid":"c288973e37e2ba1","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/365//#testresult/c288973e37e2ba1","status":"passed","time":{"start":1732074696837,"stop":1732074700256,"duration":3419}},{"uid":"4b6f32d216cbb7a5","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/364//#testresult/4b6f32d216cbb7a5","status":"passed","time":{"start":1731988383570,"stop":1731988386884,"duration":3314}},{"uid":"5d4515c6fdc18475","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/363//#testresult/5d4515c6fdc18475","status":"passed","time":{"start":1731926842209,"stop":1731926845218,"duration":3009}},{"uid":"921e22b05ce01f28","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/362//#testresult/921e22b05ce01f28","status":"passed","time":{"start":1731924933891,"stop":1731924936867,"duration":2976}},{"uid":"38f8d37c6fc3b0f7","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/361//#testresult/38f8d37c6fc3b0f7","status":"passed","time":{"start":1731900616430,"stop":1731900620036,"duration":3606}},{"uid":"a61a65771002141a","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/360//#testresult/a61a65771002141a","status":"passed","time":{"start":1731814251165,"stop":1731814263927,"duration":12762}},{"uid":"19d64b74aa879800","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/359//#testresult/19d64b74aa879800","status":"passed","time":{"start":1731727641448,"stop":1731727645084,"duration":3636}},{"uid":"df4b74884d5ee1a2","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/358//#testresult/df4b74884d5ee1a2","status":"passed","time":{"start":1731641294779,"stop":1731641297752,"duration":2973}},{"uid":"145bd411479ce4ab","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/357//#testresult/145bd411479ce4ab","status":"passed","time":{"start":1731554598557,"stop":1731554601812,"duration":3255}},{"uid":"e7b7546af8962301","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/356//#testresult/e7b7546af8962301","status":"passed","time":{"start":1731468087006,"stop":1731468090090,"duration":3084}},{"uid":"19581a15403c073a","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/355//#testresult/19581a15403c073a","status":"passed","time":{"start":1731381549127,"stop":1731381552284,"duration":3157}},{"uid":"59625f9517770327","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/354//#testresult/59625f9517770327","status":"passed","time":{"start":1731295405891,"stop":1731295409365,"duration":3474}},{"uid":"499c1b6529c9f6fe","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/353//#testresult/499c1b6529c9f6fe","status":"passed","time":{"start":1731223724600,"stop":1731223729114,"duration":4514}},{"uid":"151319db9b0bb655","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/352//#testresult/151319db9b0bb655","status":"passed","time":{"start":1731208889228,"stop":1731208892475,"duration":3247}},{"uid":"96e78b417228237e","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/351//#testresult/96e78b417228237e","status":"passed","time":{"start":1731122315493,"stop":1731122328484,"duration":12991}},{"uid":"8cf9238192fed494","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/350//#testresult/8cf9238192fed494","status":"passed","time":{"start":1731035992723,"stop":1731035996007,"duration":3284}},{"uid":"aed4c1f1f425b6ec","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/349//#testresult/aed4c1f1f425b6ec","status":"passed","time":{"start":1730991418539,"stop":1730991421593,"duration":3054}},{"uid":"dd8852605130b1b1","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/348//#testresult/dd8852605130b1b1","status":"passed","time":{"start":1730983448573,"stop":1730983452008,"duration":3435}},{"uid":"edaa8265a4c9332c","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/347//#testresult/edaa8265a4c9332c","status":"passed","time":{"start":1730981368318,"stop":1730981371878,"duration":3560}}]},"tags":[]},"source":"ec50f6bf382754c9.json","parameterValues":[]}