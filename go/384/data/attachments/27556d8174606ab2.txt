[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_get_message_after_one_peer_was_stopped with id: 2024-12-06_03-20-44__eccec6e0-08ea-4a1d-91b1-c8a7070b32cb
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-06_03-20-44__eccec6e0-08ea-4a1d-91b1-c8a7070b32cb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.239.188
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['59424', '59425', '59426', '59427', '59428']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 59424:59424 -p 59425:59425 -p 59426:59426 -p 59427:59427 -p 59428:59428 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=59426 --rest-port=59424 --tcp-port=59425 --discv5-udp-port=59427 --rest-address=0.0.0.0 --nat=extip:172.18.239.188 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5c5ecd7b57e4f79cf4bcb1901be6c3895beefcde3c1a9aac1090cece3a55a3e3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=59428 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.239.188 waku 147245ffd667b0de39533e846632a01a3247e200cc0ed5fe8c0692627066994d
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container f78003f4a940. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 147245ffd667. Setting up logs at ./log/docker/node1_2024-12-06_03-20-44__eccec6e0-08ea-4a1d-91b1-c8a7070b32cb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 59424
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59424/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59424/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.239.188/tcp/59425/p2p/16Uiu2HAmCxnc7kCaia4G78Ay9qgjbaWzY16P1j94ajTZaEyJW4Ea","/ip4/172.18.239.188/tcp/59426/ws/p2p/16Uiu2HAmCxnc7kCaia4G78Ay9qgjbaWzY16P1j94ajTZaEyJW4Ea"],"enrUri":"enr:-L24QMqmt9kpDTNZc4hD2pajc75wKmsjADUj42TCxoGRzBQaRCWBw5Hms66xEv5wjcKx0xmoPd930Sypf1rU8N8WWkkCgmlkgnY0gmlwhKwS77yKbXVsdGlhZGRyc5YACASsEu-8BughAAoErBLvvAboIt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDBI8s2Eoa96MVLD5-_dkDDFnH7JmJ_tJ6n2vtNML56deDdGNwgughg3VkcILoI4V3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-06_03-20-44__eccec6e0-08ea-4a1d-91b1-c8a7070b32cb__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.146.164
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['9165', '9166', '9167', '9168', '9169']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 9165:9165 -p 9166:9166 -p 9167:9167 -p 9168:9168 -p 9169:9169 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=9167 --rest-port=9165 --tcp-port=9166 --discv5-udp-port=9168 --rest-address=0.0.0.0 --nat=extip:172.18.146.164 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5bbd7339d77b14f20accd503a4e1efe1c0da5edaaf4afffd40eeebbf379aabba --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QMqmt9kpDTNZc4hD2pajc75wKmsjADUj42TCxoGRzBQaRCWBw5Hms66xEv5wjcKx0xmoPd930Sypf1rU8N8WWkkCgmlkgnY0gmlwhKwS77yKbXVsdGlhZGRyc5YACASsEu-8BughAAoErBLvvAboIt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDBI8s2Eoa96MVLD5-_dkDDFnH7JmJ_tJ6n2vtNML56deDdGNwgughg3VkcILoI4V3YWt1MgU --filternode=/ip4/172.18.239.188/tcp/59425/p2p/16Uiu2HAmCxnc7kCaia4G78Ay9qgjbaWzY16P1j94ajTZaEyJW4Ea --pubsub-topic=/waku/2/rs/3/1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.146.164 waku 07afc2440c23cded26c9fda8d8b055bf575b884fa05c9db2105e1035d520c74f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 07afc2440c23. Setting up logs at ./log/docker/node2_2024-12-06_03-20-44__eccec6e0-08ea-4a1d-91b1-c8a7070b32cb__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 9165
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9165/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QND4htSn0Z0XLPtvxP9ghiVwzv0KVxZnQeiVNx8Oq530C2AdPlrS3ErJBGw2l5F0waEM0avKOMReyKPmW2jPBLyGAZOZ-_etgmlkgnY0gmlwhKwRAAOCcnOFAAMBAAGJc2VjcDI1NmsxoQIP20QXw1UZfHCbEZrh1x5Q0t80K7TzoPf-DZZVDSjoMYN0Y3CCI86DdWRwgiPQhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/9166/p2p/16Uiu2HAkvVa1r81AFacr9zE6aU3grJn2jJS3vJBBQNXyb4bUg3mi","/ip4/127.0.0.1/tcp/9167/ws/p2p/16Uiu2HAkvVa1r81AFacr9zE6aU3grJn2jJS3vJBBQNXyb4bUg3mi","/ip4/172.17.0.3/tcp/9166/p2p/16Uiu2HAkvVa1r81AFacr9zE6aU3grJn2jJS3vJBBQNXyb4bUg3mi","/ip4/172.17.0.3/tcp/9167/ws/p2p/16Uiu2HAkvVa1r81AFacr9zE6aU3grJn2jJS3vJBBQNXyb4bUg3mi"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9165/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.239.188/tcp/59425/p2p/16Uiu2HAmCxnc7kCaia4G78Ay9qgjbaWzY16P1j94ajTZaEyJW4Ea", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-12-06_03-20-44__eccec6e0-08ea-4a1d-91b1-c8a7070b32cb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.197.160
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['65072', '65073', '65074', '65075', '65076']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 65072:65072 -p 65073:65073 -p 65074:65074 -p 65075:65075 -p 65076:65076 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=65074 --rest-port=65072 --tcp-port=65073 --discv5-udp-port=65075 --rest-address=0.0.0.0 --nat=extip:172.18.197.160 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=15141bb0a0259d71e4e22e33404e1b7aae5fb1a7e2a52ea8b18d6fff97cbacde --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=65076 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QMqmt9kpDTNZc4hD2pajc75wKmsjADUj42TCxoGRzBQaRCWBw5Hms66xEv5wjcKx0xmoPd930Sypf1rU8N8WWkkCgmlkgnY0gmlwhKwS77yKbXVsdGlhZGRyc5YACASsEu-8BughAAoErBLvvAboIt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDBI8s2Eoa96MVLD5-_dkDDFnH7JmJ_tJ6n2vtNML56deDdGNwgughg3VkcILoI4V3YWt1MgU --filternode=/ip4/172.18.239.188/tcp/59425/p2p/16Uiu2HAmCxnc7kCaia4G78Ay9qgjbaWzY16P1j94ajTZaEyJW4Ea
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.197.160 waku c96c2ae9d480d53bfe7f6c5d80cd4c0c7b52756a7b6fc47f4668a608d3c0c0a4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID c96c2ae9d480. Setting up logs at ./log/docker/node3_2024-12-06_03-20-44__eccec6e0-08ea-4a1d-91b1-c8a7070b32cb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 65072
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:65072/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:65072/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.197.160/tcp/65073/p2p/16Uiu2HAmS7Ux7KrtcNeWZfyFLaD5NwE5hi5f5hR8DiiMy7rwksvb","/ip4/172.18.197.160/tcp/65074/ws/p2p/16Uiu2HAmS7Ux7KrtcNeWZfyFLaD5NwE5hi5f5hR8DiiMy7rwksvb"],"enrUri":"enr:-L24QE2Dxv7GQ7YHaTHV9MXOw5gaYc1M_dEdihycffC8sswiSjveheFHTTlkfaZhBzc-v_cHB5uvbkgrArtJ5JHJ-AMCgmlkgnY0gmlwhKwSxaCKbXVsdGlhZGRyc5YACASsEsWgBv4xAAoErBLFoAb-Mt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDx_FenYtAi8Y3zrwOxGnozVmemBWCxpx-9w2SJu20SmSDdGNwgv4xg3VkcIL-M4V3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:65072/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.239.188/tcp/59425/p2p/16Uiu2HAmCxnc7kCaia4G78Ay9qgjbaWzY16P1j94ajTZaEyJW4Ea"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-12-06_03-20-44__eccec6e0-08ea-4a1d-91b1-c8a7070b32cb__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.69.244
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['48522', '48523', '48524', '48525', '48526']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 48522:48522 -p 48523:48523 -p 48524:48524 -p 48525:48525 -p 48526:48526 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=48524 --rest-port=48522 --tcp-port=48523 --discv5-udp-port=48525 --rest-address=0.0.0.0 --nat=extip:172.18.69.244 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cb3ff5ce76ecd5be9f6f5cc8e49adeb7fb3fabdc4bde1e48a59accba91d3d215 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QMqmt9kpDTNZc4hD2pajc75wKmsjADUj42TCxoGRzBQaRCWBw5Hms66xEv5wjcKx0xmoPd930Sypf1rU8N8WWkkCgmlkgnY0gmlwhKwS77yKbXVsdGlhZGRyc5YACASsEu-8BughAAoErBLvvAboIt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDBI8s2Eoa96MVLD5-_dkDDFnH7JmJ_tJ6n2vtNML56deDdGNwgughg3VkcILoI4V3YWt1MgU --filternode=/ip4/172.18.239.188/tcp/59425/p2p/16Uiu2HAmCxnc7kCaia4G78Ay9qgjbaWzY16P1j94ajTZaEyJW4Ea --pubsub-topic=/waku/2/rs/3/1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.69.244 waku 115fa3f2b3dd6e6e32bbc33a323829c2691bec6c1300b4895fe7ed50cf15688e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 115fa3f2b3dd. Setting up logs at ./log/docker/node4_2024-12-06_03-20-44__eccec6e0-08ea-4a1d-91b1-c8a7070b32cb__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 48522
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48522/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QNhNDE4IhOZ_ot6yEJp3v-8Je9XiZroA6nmnhj45mEhHbkom6LdPCgXawfG8kAg9PuaCcBm99fil6JKqPx9d5m-GAZOZ_AVpgmlkgnY0gmlwhKwRAA2CcnOFAAMBAAGJc2VjcDI1NmsxoQNbzGeJOqTRf0eITxwrCOYKejwO_ju9huFcqc2W56m3CoN0Y3CCvYuDdWRwgr2NhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/48523/p2p/16Uiu2HAmJqLE9Nx6tTY6qUpLYJpvaYNWYDVa7WaxtnwKETDHGgMo","/ip4/127.0.0.1/tcp/48524/ws/p2p/16Uiu2HAmJqLE9Nx6tTY6qUpLYJpvaYNWYDVa7WaxtnwKETDHGgMo","/ip4/172.17.0.13/tcp/48523/p2p/16Uiu2HAmJqLE9Nx6tTY6qUpLYJpvaYNWYDVa7WaxtnwKETDHGgMo","/ip4/172.17.0.13/tcp/48524/ws/p2p/16Uiu2HAmJqLE9Nx6tTY6qUpLYJpvaYNWYDVa7WaxtnwKETDHGgMo"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48522/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.239.188/tcp/59425/p2p/16Uiu2HAmCxnc7kCaia4G78Ay9qgjbaWzY16P1j94ajTZaEyJW4Ea", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-12-06_03-20-44__eccec6e0-08ea-4a1d-91b1-c8a7070b32cb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.219.187
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['63812', '63813', '63814', '63815', '63816']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 63812:63812 -p 63813:63813 -p 63814:63814 -p 63815:63815 -p 63816:63816 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=63814 --rest-port=63812 --tcp-port=63813 --discv5-udp-port=63815 --rest-address=0.0.0.0 --nat=extip:172.18.219.187 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=de2eee9e1cd3f0b8140aae7aabbf5b885cbf479b081eabf6c7ced18aba2a4227 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=63816 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QMqmt9kpDTNZc4hD2pajc75wKmsjADUj42TCxoGRzBQaRCWBw5Hms66xEv5wjcKx0xmoPd930Sypf1rU8N8WWkkCgmlkgnY0gmlwhKwS77yKbXVsdGlhZGRyc5YACASsEu-8BughAAoErBLvvAboIt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDBI8s2Eoa96MVLD5-_dkDDFnH7JmJ_tJ6n2vtNML56deDdGNwgughg3VkcILoI4V3YWt1MgU --filternode=/ip4/172.18.239.188/tcp/59425/p2p/16Uiu2HAmCxnc7kCaia4G78Ay9qgjbaWzY16P1j94ajTZaEyJW4Ea
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.219.187 waku 4fa0254cbfb3725ff7a46aac8b5deb37f95749fffec824704fe1f2e20bddb4de
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 4fa0254cbfb3. Setting up logs at ./log/docker/node5_2024-12-06_03-20-44__eccec6e0-08ea-4a1d-91b1-c8a7070b32cb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 63812
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63812/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63812/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.219.187/tcp/63813/p2p/16Uiu2HAmVEec7sR8P7StyAw2yAqfLnXb7xb4EFZd33grKnWknayG","/ip4/172.18.219.187/tcp/63814/ws/p2p/16Uiu2HAmVEec7sR8P7StyAw2yAqfLnXb7xb4EFZd33grKnWknayG"],"enrUri":"enr:-L24QCBop9QZ0567DB41Dh2TGgB9-h2r0vUpFYFMHmB1X05acoFNQcGXyP4ESwudqYpToqZ_yj0s3hzMsSoOIMv-9VECgmlkgnY0gmlwhKwS27uKbXVsdGlhZGRyc5YACASsEtu7BvlFAAoErBLbuwb5Rt0DgnJzhQADAQAAiXNlY3AyNTZrMaED9lpp0aRl5KVWbQ0Dx_vFCkjnmIUEbQa294XyA4_Y0XuDdGNwgvlFg3VkcIL5R4V3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63812/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.239.188/tcp/59425/p2p/16Uiu2HAmCxnc7kCaia4G78Ay9qgjbaWzY16P1j94ajTZaEyJW4Ea"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59424/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9165/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "75a1a828-6f2e-4228-b339-26815a7b0d1b", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"75a1a828-6f2e-4228-b339-26815a7b0d1b","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:65072/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "a061396b-0d95-4716-8f80-426bc3d60f45", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"a061396b-0d95-4716-8f80-426bc3d60f45","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48522/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "63356210-831b-45e3-a8b9-5dd0e19f681b", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"63356210-831b-45e3-a8b9-5dd0e19f681b","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63812/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "3a5fe07e-2a0b-410e-86d0-368ac468bbf1", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"3a5fe07e-2a0b-410e-86d0-368ac468bbf1","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59424/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9165/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1733455254000690944,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:65072/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1733455254000690944,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_4:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48522/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1733455254000690944,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63812/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1733455254000690944,"ephemeral":false}]'
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 07afc2440c23
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59424/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 07afc2440c23. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:65072/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1733455256066502912,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_3:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48522/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1733455256066502912,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63812/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1733455256066502912,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 147245ffd667
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id c96c2ae9d480
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 147245ffd667. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 115fa3f2b3dd
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container c96c2ae9d480. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 4fa0254cbfb3
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 115fa3f2b3dd. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.