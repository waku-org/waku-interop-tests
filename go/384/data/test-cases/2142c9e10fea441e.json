{"uid":"2142c9e10fea441e","name":"test_metrics_after_light_push","fullName":"tests.metrics.test_metrics.TestMetrics#test_metrics_after_light_push","historyId":"12a1b651768a3661ea5d39bd86cf8306","time":{"start":1733455650944,"stop":1733455661065,"duration":10121},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"set_allure_env_variables","time":{"start":1733455019263,"stop":1733455019263,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"check_waku_log_errors","time":{"start":1733455650942,"stop":1733455650942,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"close_open_nodes","time":{"start":1733455650942,"stop":1733455650942,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"attach_logs_on_fail","time":{"start":1733455650942,"stop":1733455650942,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"test_setup","time":{"start":1733455650942,"stop":1733455650943,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"test_id","time":{"start":1733455650942,"stop":1733455650942,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"relay_setup","time":{"start":1733455650943,"stop":1733455650943,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"store_setup","time":{"start":1733455650943,"stop":1733455650944,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"filter_setup","time":{"start":1733455650943,"stop":1733455650943,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"light_push_setup","time":{"start":1733455650943,"stop":1733455650943,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"common_setup","time":{"start":1733455650943,"stop":1733455650943,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0}],"testStage":{"status":"passed","steps":[{"name":"setup_first_receiving_node","time":{"start":1733455650944,"stop":1733455652355,"duration":1411},"status":"passed","steps":[{"name":"start_receiving_node","time":{"start":1733455650944,"stop":1733455652355,"duration":1411},"status":"passed","steps":[{"name":"add_node_peer","time":{"start":1733455652355,"stop":1733455652355,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.metrics.test_metrics.TestMetrics object at 0x7fbd20cb5970>, <src.node.waku_node.WakuNode object at 0x7fbd202ea810>, [])"}],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0}],"attachments":[],"parameters":[{"name":"image","value":"'wakuorg/nwaku:latest'"},{"name":"node_index","value":"1"},{"name":"lightpush","value":"'true'"},{"name":"relay","value":"'true'"}],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0}],"attachments":[],"parameters":[{"name":"lightpush","value":"'true'"},{"name":"relay","value":"'true'"}],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0},{"name":"setup_second_receiving_node","time":{"start":1733455652355,"stop":1733455653885,"duration":1530},"status":"passed","steps":[{"name":"start_receiving_node","time":{"start":1733455652355,"stop":1733455653885,"duration":1530},"status":"passed","steps":[{"name":"add_node_peer","time":{"start":1733455653842,"stop":1733455653885,"duration":43},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.metrics.test_metrics.TestMetrics object at 0x7fbd20cb5970>, <src.node.waku_node.WakuNode object at 0x7fbd202eb2f0>, ['/ip4/172.18.56.165/tcp/25284/p2p/16Uiu2HAkukTdBhNVkpsP6QicqmtzmT9KHyjCSb74p1Jkuw432NWp'])"}],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0}],"attachments":[],"parameters":[{"name":"image","value":"'wakuorg/nwaku:latest'"},{"name":"node_index","value":"2"},{"name":"lightpush","value":"'false'"},{"name":"relay","value":"'true'"}],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0}],"attachments":[],"parameters":[{"name":"lightpush","value":"'false'"},{"name":"relay","value":"'true'"}],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0},{"name":"setup_first_lightpush_node","time":{"start":1733455653891,"stop":1733455655505,"duration":1614},"status":"passed","steps":[{"name":"setup_lightpush_node","time":{"start":1733455653891,"stop":1733455655505,"duration":1614},"status":"passed","steps":[{"name":"add_node_peer","time":{"start":1733455655482,"stop":1733455655505,"duration":23},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.metrics.test_metrics.TestMetrics object at 0x7fbd20cb5970>, <src.node.waku_node.WakuNode object at 0x7fbd20eae570>, ['/ip4/172.18.56.165/tcp/25284/p2p/16Uiu2HAkukTdBhNVkpsP6QicqmtzmT9KHyjCSb74p1Jkuw432NWp', '/ip4/172.18.153.159/tcp/12364/p2p/16Uiu2HAm8mGgctfga3tmajt5vo9v47cFG7cvFkawhmRFGUft3Sft'])"}],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0}],"attachments":[],"parameters":[{"name":"image","value":"'wakuorg/go-waku:latest'"},{"name":"node_index","value":"1"},{"name":"lightpush","value":"'true'"},{"name":"relay","value":"'false'"}],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0}],"attachments":[],"parameters":[{"name":"lightpush","value":"'true'"},{"name":"relay","value":"'false'"}],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0},{"name":"subscribe_to_pubsub_topics_via_relay","time":{"start":1733455655505,"stop":1733455655517,"duration":12},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"None"},{"name":"pubsub_topics","value":"None"}],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"create_payload","time":{"start":1733455655517,"stop":1733455655517,"duration":0},"status":"passed","steps":[{"name":"create_message","time":{"start":1733455655517,"stop":1733455655517,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0}],"attachments":[],"parameters":[{"name":"pubsub_topic","value":"'/waku/2/rs/3/1'"},{"name":"message","value":"None"}],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0},{"name":"check_metric","time":{"start":1733455661031,"stop":1733455661037,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7fbd202ea810>"},{"name":"metric_name","value":"'libp2p_peers'"},{"name":"expected_value","value":"1"},{"name":"exact","value":"False"}],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"check_metric","time":{"start":1733455661037,"stop":1733455661042,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7fbd202ea810>"},{"name":"metric_name","value":"'libp2p_pubsub_peers'"},{"name":"expected_value","value":"1"},{"name":"exact","value":"False"}],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"check_metric","time":{"start":1733455661042,"stop":1733455661046,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7fbd202ea810>"},{"name":"metric_name","value":"'libp2p_pubsub_topics'"},{"name":"expected_value","value":"1"},{"name":"exact","value":"False"}],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"check_metric","time":{"start":1733455661046,"stop":1733455661051,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7fbd202ea810>"},{"name":"metric_name","value":"'libp2p_pubsub_subscriptions_total'"},{"name":"expected_value","value":"1"},{"name":"exact","value":"False"}],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"check_metric","time":{"start":1733455661051,"stop":1733455661055,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7fbd202ea810>"},{"name":"metric_name","value":"'waku_peer_store_size'"},{"name":"expected_value","value":"1"},{"name":"exact","value":"False"}],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"check_metric","time":{"start":1733455661055,"stop":1733455661060,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7fbd202ea810>"},{"name":"metric_name","value":"'waku_histogram_message_size_count'"},{"name":"expected_value","value":"1"},{"name":"exact","value":"False"}],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"check_metric","time":{"start":1733455661060,"stop":1733455661065,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7fbd202ea810>"},{"name":"metric_name","value":"'waku_node_messages_total{type=\"relay\"}'"},{"name":"expected_value","value":"1"},{"name":"exact","value":"False"}],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0}],"attachments":[{"uid":"aba4b86292015e0c","name":"log","source":"aba4b86292015e0c.txt","type":"text/plain","size":17812}],"parameters":[],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":19,"attachmentsCount":1},"afterStages":[{"name":"test_setup::0","time":{"start":1733455661113,"stop":1733455661117,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"close_open_nodes::0","time":{"start":1733455661117,"stop":1733455666254,"duration":5137},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"check_waku_log_errors::0","time":{"start":1733455666255,"stop":1733455666285,"duration":30},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"attach_logs_on_fail::0","time":{"start":1733455666285,"stop":1733455666285,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"set_allure_env_variables::0","time":{"start":1733456259062,"stop":1733456259063,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0}],"labels":[{"name":"parentSuite","value":"tests.metrics"},{"name":"suite","value":"test_metrics"},{"name":"subSuite","value":"TestMetrics"},{"name":"host","value":"fv-az1269-632"},{"name":"thread","value":"2103-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.metrics.test_metrics"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":0,"passed":10,"unknown":0,"total":10},"items":[{"uid":"2617dbabd957ccef","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/383//#testresult/2617dbabd957ccef","status":"passed","time":{"start":1733369234045,"stop":1733369244399,"duration":10354}},{"uid":"23b36f836d32cd7d","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/382//#testresult/23b36f836d32cd7d","status":"passed","time":{"start":1733282832937,"stop":1733282843224,"duration":10287}},{"uid":"9a867c6b4190b03b","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/381//#testresult/9a867c6b4190b03b","status":"passed","time":{"start":1733196426098,"stop":1733196436400,"duration":10302}},{"uid":"128b966814bb75cb","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/379//#testresult/128b966814bb75cb","status":"passed","time":{"start":1733110045521,"stop":1733110056237,"duration":10716}},{"uid":"e0779b21e9cc663b","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/378//#testresult/e0779b21e9cc663b","status":"passed","time":{"start":1733024027620,"stop":1733024038615,"duration":10995}},{"uid":"9cc82dfc97b3b47c","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/377//#testresult/9cc82dfc97b3b47c","status":"passed","time":{"start":1732936962141,"stop":1732936972501,"duration":10360}},{"uid":"ed052c93bdc9e49","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/376//#testresult/ed052c93bdc9e49","status":"passed","time":{"start":1732850683763,"stop":1732850694422,"duration":10659}},{"uid":"d356aa55012dac4c","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/375//#testresult/d356aa55012dac4c","status":"passed","time":{"start":1732764420025,"stop":1732764430482,"duration":10457}},{"uid":"e5c440b55ffda0c8","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/374//#testresult/e5c440b55ffda0c8","status":"passed","time":{"start":1732718533955,"stop":1732718544084,"duration":10129}}]},"tags":[]},"source":"2142c9e10fea441e.json","parameterValues":[]}