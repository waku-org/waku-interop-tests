[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_time_filter_big_timestamp with id: 2024-10-25_03-27-11__7a88352f-d113-4194-a762-daf3b6411c27
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-10-25_03-27-11__7a88352f-d113-4194-a762-daf3b6411c27__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.107.3
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['45673', '45674', '45675', '45676', '45677']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 45673:45673 -p 45674:45674 -p 45675:45675 -p 45676:45676 -p 45677:45677 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=45675 --rest-port=45673 --tcp-port=45674 --discv5-udp-port=45676 --rest-address=0.0.0.0 --nat=extip:172.18.107.3 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8e1edb0fdb3eba1aa7adbdbcecb3cebfcb36bac8af154fb2fbf10990ecaf68fd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=45677 --metrics-logging=true --store=true --relay=true
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container e838d4818e28. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.107.3 waku fa7e9e15d4b41c119a0cd8f379a82aee56532775c816e70e77de0a174cb868fa
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID fa7e9e15d4b4. Setting up logs at ./log/docker/publishing_node1_2024-10-25_03-27-11__7a88352f-d113-4194-a762-daf3b6411c27__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 45673
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45673/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45673/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.107.3/tcp/45674/p2p/16Uiu2HAm2pVHvN9VhbN8JgtQuVqQEftvz6ySNWC4Ut9ECEnaTo7T","/ip4/172.18.107.3/tcp/45675/ws/p2p/16Uiu2HAm2pVHvN9VhbN8JgtQuVqQEftvz6ySNWC4Ut9ECEnaTo7T"],"enrUri":"enr:-LO4QD6BkaP9UrIv9V5NRj4EFab-8q42Ji8OXFP2nASDK4VBFGC65h6yrPk4eJv3NzlqmsnuXEahn8K4azStyMwz-DwBgmlkgnY0gmlwhKwSawOKbXVsdGlhZGRyc4wACgSsEmsDBrJr3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJt2hUuwyp6wr06peT865wCzdauaB8B1iwB0EEnKrx37oN0Y3CCsmqDdWRwgrJshXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-10-25_03-27-11__7a88352f-d113-4194-a762-daf3b6411c27__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.79.136
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['2854', '2855', '2856', '2857', '2858']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 2854:2854 -p 2855:2855 -p 2856:2856 -p 2857:2857 -p 2858:2858 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=2856 --rest-port=2854 --tcp-port=2855 --discv5-udp-port=2857 --rest-address=0.0.0.0 --nat=extip:172.18.79.136 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=4a10ce32ed99b1bebf5c889c1acac1c475a85dfbdb3818b61e2eafae771c84b0 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-LO4QD6BkaP9UrIv9V5NRj4EFab-8q42Ji8OXFP2nASDK4VBFGC65h6yrPk4eJv3NzlqmsnuXEahn8K4azStyMwz-DwBgmlkgnY0gmlwhKwSawOKbXVsdGlhZGRyc4wACgSsEmsDBrJr3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJt2hUuwyp6wr06peT865wCzdauaB8B1iwB0EEnKrx37oN0Y3CCsmqDdWRwgrJshXdha3UyAw --storenode=/ip4/172.18.107.3/tcp/45674/p2p/16Uiu2HAm2pVHvN9VhbN8JgtQuVqQEftvz6ySNWC4Ut9ECEnaTo7T --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.79.136 waku d90f6d1303b8ad5281fb05a1c01c7cb5fa60a76aa8fc45fef2d0ebde889f87a9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID d90f6d1303b8. Setting up logs at ./log/docker/store_node1_2024-10-25_03-27-11__7a88352f-d113-4194-a762-daf3b6411c27__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 2854
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2854/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QDvFdQ6vihbBsuRhBLQ7pWEr4YW_nyKJdv1pyeWHO2_2cwPv025Hh9OL2WfiyxQLybNwSeJYaaI7VjlqLgZl9dWGAZLBtsfdgmlkgnY0gmlwhKwRAAeJc2VjcDI1NmsxoQPAQmHXUsYbmXn2jxRCX4qonhRsExm8Y18QOcOOgKa-5oN0Y3CCCyeDdWRwggsphXdha3UyAw","listenAddresses":["/ip4/127.0.0.1/tcp/2855/p2p/16Uiu2HAmRbVLX5kQEJAEALWtWHAR79PsYKBLesSSNsDBNK5evJwo","/ip4/127.0.0.1/tcp/2856/ws/p2p/16Uiu2HAmRbVLX5kQEJAEALWtWHAR79PsYKBLesSSNsDBNK5evJwo","/ip4/172.17.0.7/tcp/2855/p2p/16Uiu2HAmRbVLX5kQEJAEALWtWHAR79PsYKBLesSSNsDBNK5evJwo","/ip4/172.17.0.7/tcp/2856/ws/p2p/16Uiu2HAmRbVLX5kQEJAEALWtWHAR79PsYKBLesSSNsDBNK5evJwo"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2854/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.107.3/tcp/45674/p2p/16Uiu2HAm2pVHvN9VhbN8JgtQuVqQEftvz6ySNWC4Ut9ECEnaTo7T", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45673/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2854/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45673/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45673/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45673/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45673/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45673/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45673/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:208 inquering stored messages with start time 1729826828636658944 after end time 2421026836705922048
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45673/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1729826828636658944&endTime=2421026836705922048&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"nohCQ+UnwxeGRIoZS+Kw/IfgF/5EwA3/TrJWKQiKOEs=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1729826828636658944,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"b3+rPLVDHxQ5XpRu8MlVl/t7clMxhXCISSnrDt7UXek=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1729826830636665088,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"1dlPSqao5lqyi5JLDx/T3Im09/mrCTlFl+WxBNkKVZc=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1729826831536667136,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"CRKMkwt+puo1UuO1mwwgsmSCbEPXkvlw3q0ia+un3rA=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1729826831736669952,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"xJqXwLWelgcyfvBOm1a+y1kCR1Q5z0A+zpuWTfXw3rg=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1729826833636672000,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0pBpLQz0bbo2jBDXBvVatOdh6RjvZkr988jqivyppBo=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1729826841636674048,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"}]}'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:211 number of messages stored for start time 1729826828636658944 and end time = 2421026836705922048 is  6
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2854/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&startTime=1729826828636658944&endTime=2421026836705922048&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"95ac3d241266690b9978721d9efdc7fed5de321a85c198791aa669ad183b6d69","status_code":200,"status_desc":"OK","messages":[{"message_hash":"nohCQ+UnwxeGRIoZS+Kw/IfgF/5EwA3/TrJWKQiKOEs=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":"1729826828636658944","meta":"","ephemeral":false,"rateLimitProof":""},"pubsub_topic":"/waku/2/rs/3/0"},{"message_hash":"b3+rPLVDHxQ5XpRu8MlVl/t7clMxhXCISSnrDt7UXek=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":"1729826830636665088","meta":"","ephemeral":false,"rateLimitProof":""},"pubsub_topic":"/waku/2/rs/3/0"},{"message_hash":"1dlPSqao5lqyi5JLDx/T3Im09/mrCTlFl+WxBNkKVZc=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":"1729826831536667136","meta":"","ephemeral":false,"rateLimitProof":""},"pubsub_topic":"/waku/2/rs/3/0"},{"message_hash":"CRKMkwt+puo1UuO1mwwgsmSCbEPXkvlw3q0ia+un3rA=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":"1729826831736669952","meta":"","ephemeral":false,"rateLimitProof":""},"pubsub_topic":"/waku/2/rs/3/0"},{"message_hash":"xJqXwLWelgcyfvBOm1a+y1kCR1Q5z0A+zpuWTfXw3rg=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":"1729826833636672000","meta":"","ephemeral":false,"rateLimitProof":""},"pubsub_topic":"/waku/2/rs/3/0"},{"message_hash":"0pBpLQz0bbo2jBDXBvVatOdh6RjvZkr988jqivyppBo=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":"1729826841636674048","meta":"","ephemeral":false,"rateLimitProof":""},"pubsub_topic":"/waku/2/rs/3/0"}]}'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:211 number of messages stored for start time 1729826828636658944 and end time = 2421026836705922048 is  6
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id fa7e9e15d4b4
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id d90f6d1303b8
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container fa7e9e15d4b4. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.