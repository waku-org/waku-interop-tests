[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-08-13_03-12-34__5b50502a-9e9b-418d-8d2f-c02c92ec17cb
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node1_2024-08-13_03-12-34__5b50502a-9e9b-418d-8d2f-c02c92ec17cb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.89.200
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['22613', '22614', '22615', '22616', '22617']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:429 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:161 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:163 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 22613:22613 -p 22614:22614 -p 22615:22615 -p 22616:22616 -p 22617:22617 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=22615 --rest-port=22613 --tcp-port=22614 --discv5-udp-port=22616 --rest-address=0.0.0.0 --nat=extip:172.18.89.200 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=22617 --metrics-logging=true --relay=true --filter=true --nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.89.200 waku 68249d97c39fe6aa89a9d5fa99697050c7075c3cf29d39444fc3aa685e6c0cd9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 68249d97c39f. Setting up logs at ./log/docker/node1_2024-08-13_03-12-34__5b50502a-9e9b-418d-8d2f-c02c92ec17cb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:175 Started container from image wakuorg/nwaku:latest. REST: 22613
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22613/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:275 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22613/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.89.200/tcp/22614/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","/ip4/172.18.89.200/tcp/22615/ws/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"],"enrUri":"enr:-LO4QI1SnNQyYAt1NxIDHzbMX8X66oe3ioKj0pXKD8KjzC61Rwe_OFsBnfO-rOPL4OUTIN7s8udPTbzX7OLz8aPRMdgBgmlkgnY0gmlwhKwSWciKbXVsdGlhZGRyc4wACgSsElnIBlhX3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCWFaDdWRwglhYhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:280 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node2_2024-08-13_03-12-34__5b50502a-9e9b-418d-8d2f-c02c92ec17cb__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.161.92
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['42018', '42019', '42020', '42021', '42022']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:429 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:161 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:163 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 42018:42018 -p 42019:42019 -p 42020:42020 -p 42021:42021 -p 42022:42022 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=42020 --rest-port=42018 --tcp-port=42019 --discv5-udp-port=42021 --rest-address=0.0.0.0 --nat=extip:172.18.161.92 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-LO4QI1SnNQyYAt1NxIDHzbMX8X66oe3ioKj0pXKD8KjzC61Rwe_OFsBnfO-rOPL4OUTIN7s8udPTbzX7OLz8aPRMdgBgmlkgnY0gmlwhKwSWciKbXVsdGlhZGRyc4wACgSsElnIBlhX3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCWFaDdWRwglhYhXdha3UyBQ --filternode=/ip4/172.18.89.200/tcp/22614/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.161.92 waku 062f44bcbef0ea488dbf485e4b7d9282ad76443c727af752006918523c34d9ed
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 062f44bcbef0. Setting up logs at ./log/docker/node2_2024-08-13_03-12-34__5b50502a-9e9b-418d-8d2f-c02c92ec17cb__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:175 Started container from image wakuorg/go-waku:latest. REST: 42018
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42018/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QMpfrfnTCIFE8XEv_vYhvw6HSv6cZ8K91RW1W1yhsjP9EZzdzo9JFfUeT1ff3AKmKsbdXIsCa1WR0hrPfICav1WGAZFJuSlPgmlkgnY0gmlwhKwRAASJc2VjcDI1NmsxoQLkj9eia3zi1w0pHP6-_ZpYaC6VFod8BL1WOmXZvtcyy4N0Y3CCpCODdWRwgqQlhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/42019/p2p/16Uiu2HAmAot9ekXAq8swZYmdniaD1aajxBTyLFxh7qArhNWvdZXp","/ip4/127.0.0.1/tcp/42020/ws/p2p/16Uiu2HAmAot9ekXAq8swZYmdniaD1aajxBTyLFxh7qArhNWvdZXp","/ip4/172.17.0.4/tcp/42019/p2p/16Uiu2HAmAot9ekXAq8swZYmdniaD1aajxBTyLFxh7qArhNWvdZXp","/ip4/172.17.0.4/tcp/42020/ws/p2p/16Uiu2HAmAot9ekXAq8swZYmdniaD1aajxBTyLFxh7qArhNWvdZXp"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:280 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42018/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.89.200/tcp/22614/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:42018/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42018/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.89.200/tcp/22614/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:42018/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42018/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.89.200/tcp/22614/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:42018/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42018/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.89.200/tcp/22614/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:42018/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42018/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.89.200/tcp/22614/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:42018/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42018/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.89.200/tcp/22614/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:42018/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42018/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.89.200/tcp/22614/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:42018/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42018/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.89.200/tcp/22614/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:42018/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42018/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.89.200/tcp/22614/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:42018/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42018/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.89.200/tcp/22614/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:42018/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42018/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.89.200/tcp/22614/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node3_2024-08-13_03-12-34__5b50502a-9e9b-418d-8d2f-c02c92ec17cb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.93.251
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['18304', '18305', '18306', '18307', '18308']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:429 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:161 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:163 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 18304:18304 -p 18305:18305 -p 18306:18306 -p 18307:18307 -p 18308:18308 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=18306 --rest-port=18304 --tcp-port=18305 --discv5-udp-port=18307 --rest-address=0.0.0.0 --nat=extip:172.18.93.251 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=18308 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QI1SnNQyYAt1NxIDHzbMX8X66oe3ioKj0pXKD8KjzC61Rwe_OFsBnfO-rOPL4OUTIN7s8udPTbzX7OLz8aPRMdgBgmlkgnY0gmlwhKwSWciKbXVsdGlhZGRyc4wACgSsElnIBlhX3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCWFaDdWRwglhYhXdha3UyBQ --filternode=/ip4/172.18.89.200/tcp/22614/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.93.251 waku 876f1772ccd345cb7df546bfcab2ffc3dc5efb23e9084d27f99bb19c393f0e5b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 876f1772ccd3. Setting up logs at ./log/docker/node3_2024-08-13_03-12-34__5b50502a-9e9b-418d-8d2f-c02c92ec17cb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:175 Started container from image wakuorg/nwaku:latest. REST: 18304
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18304/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:275 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18304/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.93.251/tcp/18305/p2p/16Uiu2HAmEMh3XHg9ee5t3gPbZUqM4BKLA9fefQVS9VbUkPSjfzcj","/ip4/172.18.93.251/tcp/18306/ws/p2p/16Uiu2HAmEMh3XHg9ee5t3gPbZUqM4BKLA9fefQVS9VbUkPSjfzcj"],"enrUri":"enr:-LO4QOqW2OOqzKzAhA4DgnaIkAHLNhIGiHRnSNDAv3WWvirdcN3tdnCfBbTb-nHSQQ7M3lEPTYdGWOB0LfOy-uAxH24BgmlkgnY0gmlwhKwSXfuKbXVsdGlhZGRyc4wACgSsEl37BkeC3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMZSO6IwBhI6ebavHxief18IzsmCXQWgZ4kag2lFTzUTIN0Y3CCR4GDdWRwgkeDhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:280 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:18304/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.89.200/tcp/22614/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node4_2024-08-13_03-12-34__5b50502a-9e9b-418d-8d2f-c02c92ec17cb__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.24.13
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['1791', '1792', '1793', '1794', '1795']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:429 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:161 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:163 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 1791:1791 -p 1792:1792 -p 1793:1793 -p 1794:1794 -p 1795:1795 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=1793 --rest-port=1791 --tcp-port=1792 --discv5-udp-port=1794 --rest-address=0.0.0.0 --nat=extip:172.18.24.13 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-LO4QI1SnNQyYAt1NxIDHzbMX8X66oe3ioKj0pXKD8KjzC61Rwe_OFsBnfO-rOPL4OUTIN7s8udPTbzX7OLz8aPRMdgBgmlkgnY0gmlwhKwSWciKbXVsdGlhZGRyc4wACgSsElnIBlhX3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCWFaDdWRwglhYhXdha3UyBQ --filternode=/ip4/172.18.89.200/tcp/22614/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.24.13 waku 9e9a15dd17f355d5cbf264ea109e314b0dcacf7d9c2c28860bef0f00393dd45a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 9e9a15dd17f3. Setting up logs at ./log/docker/node4_2024-08-13_03-12-34__5b50502a-9e9b-418d-8d2f-c02c92ec17cb__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:175 Started container from image wakuorg/go-waku:latest. REST: 1791
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1791/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QMsQUSM7QcF4NikqQS9lH2tLVG4ddrI6cv1Y0thQLb-HHDtPQDJ13GYI62yRmzSH0Q2K6KT9V9nY2Nfo0x4IbQ-GAZFJuVrPgmlkgnY0gmlwhKwRAAOJc2VjcDI1NmsxoQIGbtwnOfQ9h8nVEQ7UDhP8FqQySjha8qJE_IXZ8vKfUoN0Y3CCBwCDdWRwggcChXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/1792/p2p/16Uiu2HAkurnUHjxbNK1ccbkQopJwBJutCRDytw3c3ziGbK4A8Agq","/ip4/127.0.0.1/tcp/1793/ws/p2p/16Uiu2HAkurnUHjxbNK1ccbkQopJwBJutCRDytw3c3ziGbK4A8Agq","/ip4/172.17.0.3/tcp/1792/p2p/16Uiu2HAkurnUHjxbNK1ccbkQopJwBJutCRDytw3c3ziGbK4A8Agq","/ip4/172.17.0.3/tcp/1793/ws/p2p/16Uiu2HAkurnUHjxbNK1ccbkQopJwBJutCRDytw3c3ziGbK4A8Agq"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:280 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1791/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.89.200/tcp/22614/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node5_2024-08-13_03-12-34__5b50502a-9e9b-418d-8d2f-c02c92ec17cb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.74.195
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['38729', '38730', '38731', '38732', '38733']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:429 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:161 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:163 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 38729:38729 -p 38730:38730 -p 38731:38731 -p 38732:38732 -p 38733:38733 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=38731 --rest-port=38729 --tcp-port=38730 --discv5-udp-port=38732 --rest-address=0.0.0.0 --nat=extip:172.18.74.195 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=38733 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QI1SnNQyYAt1NxIDHzbMX8X66oe3ioKj0pXKD8KjzC61Rwe_OFsBnfO-rOPL4OUTIN7s8udPTbzX7OLz8aPRMdgBgmlkgnY0gmlwhKwSWciKbXVsdGlhZGRyc4wACgSsElnIBlhX3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCWFaDdWRwglhYhXdha3UyBQ --filternode=/ip4/172.18.89.200/tcp/22614/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.74.195 waku 7daa38fb7a41c2a70757da4b1c5f45e4afd7cee382ef95e153c4c488e063de01
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 7daa38fb7a41. Setting up logs at ./log/docker/node5_2024-08-13_03-12-34__5b50502a-9e9b-418d-8d2f-c02c92ec17cb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:175 Started container from image wakuorg/nwaku:latest. REST: 38729
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38729/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:275 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38729/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.74.195/tcp/38730/p2p/16Uiu2HAkvCyodSiasQ45k7MdR7trK4gz4hGFy7yPLTNpRX1ZX6Y9","/ip4/172.18.74.195/tcp/38731/ws/p2p/16Uiu2HAkvCyodSiasQ45k7MdR7trK4gz4hGFy7yPLTNpRX1ZX6Y9"],"enrUri":"enr:-LO4QHkrPhIVjHDbKOj8C_VVlhJ6p0pXItZOaC5j_PJZ6iZvZnf1djmZEKLE87K4W4ebk6y4qZtAflsPKH3S8QgKpcsBgmlkgnY0gmlwhKwSSsOKbXVsdGlhZGRyc4wACgSsEkrDBpdL3QOCcnOFAAMBAACJc2VjcDI1NmsxoQILm0p5vL7k1fPq2Z556lpl4ffoP2dEn6S1fL4F6vfD8oN0Y3CCl0qDdWRwgpdMhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:280 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38729/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.89.200/tcp/22614/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22613/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42018/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "45401cfb-f7e8-462e-b682-7aebf25cf78f", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"45401cfb-f7e8-462e-b682-7aebf25cf78f","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:18304/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "57ba3e94-ea14-43bf-9c57-a239238f1fa8", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"57ba3e94-ea14-43bf-9c57-a239238f1fa8","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1791/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "c1d0bab9-09ae-477a-b832-f8dc012c1d85", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"c1d0bab9-09ae-477a-b832-f8dc012c1d85","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38729/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "17ef67fb-57c1-411c-b868-dc0be49c1597", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"17ef67fb-57c1-411c-b868-dc0be49c1597","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22613/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42018/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1723518772701099520,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22613/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18304/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:18304/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:219 Stopping container with id 68249d97c39f
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:219 Stopping container with id 062f44bcbef0
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:219 Stopping container with id 876f1772ccd3
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:219 Stopping container with id 9e9a15dd17f3
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:219 Stopping container with id 7daa38fb7a41
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Container stopped.