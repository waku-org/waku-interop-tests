[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_store_node_paused_and_unpaused with id: 2024-06-17_03-23-38__2488fb7b-5dc6-435f-ba03-f33d4fc3aca0
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:27 Running fixture setup: store_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-06-17_03-23-38__2488fb7b-5dc6-435f-ba03-f33d4fc3aca0__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.251.186
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['40257', '40258', '40259', '40260', '40261']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:373 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:120 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 40257:40257 -p 40258:40258 -p 40259:40259 -p 40260:40260 -p 40261:40261 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=40259 --rest-port=40257 --tcp-port=40258 --discv5-udp-port=40260 --rest-address=0.0.0.0 --nat=extip:172.18.251.186 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=40261 --metrics-logging=true --store=true --relay=true --nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.251.186 waku c32b996374ecb29a4bb750b98c59973d81c9b9f4966c6ea427a73ced855c5553
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID c32b996374ec. Setting up logs at ./log/docker/publishing_node1_2024-06-17_03-23-38__2488fb7b-5dc6-435f-ba03-f33d4fc3aca0__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:134 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 40257
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40257/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:225 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40257/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.251.186/tcp/40258/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","/ip4/172.18.251.186/tcp/40259/ws/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"],"enrUri":"enr:-LO4QKKr35aFkP2FFvRs11e5Akue9sKs_-8Xy2rhDj7uBKotSgahuWb9FI5RdtBPmzCD3-0l6PaZmRBwXS0JxNH1A2IBgmlkgnY0gmlwhKwS-7qKbXVsdGlhZGRyc4wACgSsEvu6Bp1D3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCnUKDdWRwgp1EhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:230 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/store_node1_2024-06-17_03-23-38__2488fb7b-5dc6-435f-ba03-f33d4fc3aca0__harbor.status.im_wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.167.32
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['22377', '22378', '22379', '22380', '22381']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:373 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:120 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 22377:22377 -p 22378:22378 -p 22379:22379 -p 22380:22380 -p 22381:22381 harbor.status.im/wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=22379 --rest-port=22377 --tcp-port=22378 --discv5-udp-port=22380 --rest-address=0.0.0.0 --nat=extip:172.18.167.32 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --discv5-bootstrap-node=enr:-LO4QKKr35aFkP2FFvRs11e5Akue9sKs_-8Xy2rhDj7uBKotSgahuWb9FI5RdtBPmzCD3-0l6PaZmRBwXS0JxNH1A2IBgmlkgnY0gmlwhKwS-7qKbXVsdGlhZGRyc4wACgSsEvu6Bp1D3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCnUKDdWRwgp1EhXdha3UyAw --storenode=/ip4/172.18.251.186/tcp/40258/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.167.32 waku fde92710c1ffa8be161dfc1752916f0ab3efacef366c77c06cf56118a8aff005
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID fde92710c1ff. Setting up logs at ./log/docker/store_node1_2024-06-17_03-23-38__2488fb7b-5dc6-435f-ba03-f33d4fc3aca0__harbor.status.im_wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:134 Started container from image harbor.status.im/wakuorg/go-waku:latest. REST: 22377
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22377/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ly4QM9ZSnysNf5NW-M8Q5npVojgeIsyQ8ws7RSpXY4rCyenE6XovyOpiUVQfzp4XWSZ8m7hUrmsH8Lgmo879jy4vsSGAZAkOM9YgmlkgnY0gmlwhKwRAAmKbXVsdGlhZGRyc5gACgSsEQAJBldr3QMACgR_AAABBldr3QOJc2VjcDI1NmsxoQM2JvwGOeF5bDIOnx3SpRCXYuUla97mTMLN_tNrvUY57oN0Y3CCV2qDdWRwgldshXdha3UyAw","listenAddresses":["/ip4/127.0.0.1/tcp/22378/p2p/16Uiu2HAmGJNqviPRpkFUwd5Amred9gStybpKzywGRXWwKT6vLzv1","/ip4/127.0.0.1/tcp/22379/ws/p2p/16Uiu2HAmGJNqviPRpkFUwd5Amred9gStybpKzywGRXWwKT6vLzv1","/ip4/172.17.0.9/tcp/22378/p2p/16Uiu2HAmGJNqviPRpkFUwd5Amred9gStybpKzywGRXWwKT6vLzv1","/ip4/172.17.0.9/tcp/22379/ws/p2p/16Uiu2HAmGJNqviPRpkFUwd5Amred9gStybpKzywGRXWwKT6vLzv1"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:230 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22377/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.251.186/tcp/40258/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40257/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/0/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22377/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/0/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.steps.store:store.py:127 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40257/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.01 seconds
[35mDEBUG   [0m src.steps.store:store.py:209 Checking that peer harbor.status.im/wakuorg/nwaku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40257/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F0&pageSize=5" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"H/4pFCoOVrQu4RjXHxoOgHy3hgBc8sku+H4mEdJAkd0="}]}'
[35mDEBUG   [0m src.steps.store:store.py:209 Checking that peer harbor.status.im/wakuorg/go-waku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22377/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=5" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"780cce84d5d5776062f93a681371a96d29cca2f2fb3f3be85a6d01e130dba338","status_code":200,"status_desc":"OK","messages":[{"message_hash":"H/4pFCoOVrQu4RjXHxoOgHy3hgBc8sku+H4mEdJAkd0="}]}'
[35mDEBUG   [0m src.node.waku_node:waku_node.py:197 Pausing container with id fde92710c1ff
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[35mDEBUG   [0m src.node.waku_node:waku_node.py:202 Unpause container with id fde92710c1ff
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22377/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-MW4QCb3rC8TCUnXaome_dDgl1-ra8PoYX0q9PU_NkN_pgugQ6eG_tU91WTPv2U9eDovfFBkLzlsAC08eCKb1kAr7tqGAZAkOM9ZgmlkgnY0gmlwhKwRAAmKbXVsdGlhZGRyc5gACgSsEQAJBldr3QMACgR_AAABBldr3QOCcnOFAAABAACJc2VjcDI1NmsxoQM2JvwGOeF5bDIOnx3SpRCXYuUla97mTMLN_tNrvUY57oN0Y3CCV2qDdWRwgldshXdha3UyAw","listenAddresses":["/ip4/127.0.0.1/tcp/22378/p2p/16Uiu2HAmGJNqviPRpkFUwd5Amred9gStybpKzywGRXWwKT6vLzv1","/ip4/127.0.0.1/tcp/22379/ws/p2p/16Uiu2HAmGJNqviPRpkFUwd5Amred9gStybpKzywGRXWwKT6vLzv1","/ip4/172.17.0.9/tcp/22378/p2p/16Uiu2HAmGJNqviPRpkFUwd5Amred9gStybpKzywGRXWwKT6vLzv1","/ip4/172.17.0.9/tcp/22379/ws/p2p/16Uiu2HAmGJNqviPRpkFUwd5Amred9gStybpKzywGRXWwKT6vLzv1"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:230 REST service is ready !!
[35mDEBUG   [0m src.steps.store:store.py:127 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40257/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.01 seconds
[35mDEBUG   [0m src.steps.store:store.py:209 Checking that peer harbor.status.im/wakuorg/nwaku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40257/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F0&pageSize=5" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"H/4pFCoOVrQu4RjXHxoOgHy3hgBc8sku+H4mEdJAkd0="},{"messageHash":"nRJ09UX7UWuV3jkDWXpFElMURmxqZY/vWZWOVRxbAk0="}]}'
[35mDEBUG   [0m src.steps.store:store.py:209 Checking that peer harbor.status.im/wakuorg/go-waku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22377/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=5" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"1a7e999af5484ec9fc5d34a03d14da862379f7f2836377f80077be57879f2906","status_code":200,"status_desc":"OK","messages":[{"message_hash":"H/4pFCoOVrQu4RjXHxoOgHy3hgBc8sku+H4mEdJAkd0="},{"message_hash":"nRJ09UX7UWuV3jkDWXpFElMURmxqZY/vWZWOVRxbAk0="}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40257/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F0&pageSize=5&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"H/4pFCoOVrQu4RjXHxoOgHy3hgBc8sku+H4mEdJAkd0="},{"messageHash":"nRJ09UX7UWuV3jkDWXpFElMURmxqZY/vWZWOVRxbAk0="}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22377/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F0%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=5&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"a79c26d26222a65b50e54326311472c261bc876bb5814e388289aae7fde3d3cf","status_code":200,"status_desc":"OK","messages":[{"message_hash":"H/4pFCoOVrQu4RjXHxoOgHy3hgBc8sku+H4mEdJAkd0="},{"message_hash":"nRJ09UX7UWuV3jkDWXpFElMURmxqZY/vWZWOVRxbAk0="}]}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:181 Stopping container with id c32b996374ec
[35mDEBUG   [0m src.node.waku_node:waku_node.py:188 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:181 Stopping container with id fde92710c1ff
[35mDEBUG   [0m src.node.waku_node:waku_node.py:188 Container stopped.