[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-11-06_20-29-26__bbd19b79-239c-48db-ae6e-d9267b4fb4b0
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-06_20-29-26__bbd19b79-239c-48db-ae6e-d9267b4fb4b0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.73.62
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['41542', '41543', '41544', '41545', '41546']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:435 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:164 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:166 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 41542:41542 -p 41543:41543 -p 41544:41544 -p 41545:41545 -p 41546:41546 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=41544 --rest-port=41542 --tcp-port=41543 --discv5-udp-port=41545 --rest-address=0.0.0.0 --nat=extip:172.18.73.62 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6206bb1bbde6cdd605fc39ceab2edc20d5c6e38ad26d8fcfbe3dff8342aec047 --max-connections=1000 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=41546 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.73.62 waku 63f173322d21b67e9744dcecde2799c6fcf5111cb4cc8a8f572145224a8b7bc0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 63f173322d21. Setting up logs at ./log/docker/node1_2024-11-06_20-29-26__bbd19b79-239c-48db-ae6e-d9267b4fb4b0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:178 Started container from image wakuorg/nwaku:latest. REST: 41542
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 83dab857062a. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41542/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:278 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41542/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.73.62/tcp/41543/p2p/16Uiu2HAmHDwamA7F3JW4XoEmWkdmnX5kcvxK5UStkeyuhttmsBw8","/ip4/172.18.73.62/tcp/41544/ws/p2p/16Uiu2HAmHDwamA7F3JW4XoEmWkdmnX5kcvxK5UStkeyuhttmsBw8"],"enrUri":"enr:-L24QLw5XEEeV50vBvbo8Yz3SYW3VAubyxgYeZn7nDtzMv4Hc6wU7tIp-wxzNeveL_8ydYmk4XnFVlC5ppe0dUoY-1UCgmlkgnY0gmlwhKwSST6KbXVsdGlhZGRyc5YACASsEkk-BqJHAAoErBJJPgaiSN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDQ9_I8Xb3aXEWrRVY-zTKYTCSeB7n-MU584jbjC20e9uDdGNwgqJHg3VkcIKiSYV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:283 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-06_20-29-26__bbd19b79-239c-48db-ae6e-d9267b4fb4b0__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.186.219
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['34510', '34511', '34512', '34513', '34514']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:435 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:164 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:166 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 34510:34510 -p 34511:34511 -p 34512:34512 -p 34513:34513 -p 34514:34514 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=34512 --rest-port=34510 --tcp-port=34511 --discv5-udp-port=34513 --rest-address=0.0.0.0 --nat=extip:172.18.186.219 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5ed99adb30efb50192c6fc8e73d9acb32ef61caf645cc5e68bc516dddb0bf19e --max-connections=1000 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QLw5XEEeV50vBvbo8Yz3SYW3VAubyxgYeZn7nDtzMv4Hc6wU7tIp-wxzNeveL_8ydYmk4XnFVlC5ppe0dUoY-1UCgmlkgnY0gmlwhKwSST6KbXVsdGlhZGRyc5YACASsEkk-BqJHAAoErBJJPgaiSN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDQ9_I8Xb3aXEWrRVY-zTKYTCSeB7n-MU584jbjC20e9uDdGNwgqJHg3VkcIKiSYV3YWt1MgU --filternode=/ip4/172.18.73.62/tcp/41543/p2p/16Uiu2HAmHDwamA7F3JW4XoEmWkdmnX5kcvxK5UStkeyuhttmsBw8
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.186.219 waku e3197af7a82d8f649ee8635baa70ffe5a6d14157d6eb7cf8c5ffa7d9065b93bc
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID e3197af7a82d. Setting up logs at ./log/docker/node2_2024-11-06_20-29-26__bbd19b79-239c-48db-ae6e-d9267b4fb4b0__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:178 Started container from image wakuorg/go-waku:latest. REST: 34510
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34510/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QLwVdG2oamk1oMWtbCobvxSoIeXsjXmL51JRkoVQciamQ0p88D_6NtaiSuy5nhpQXRGm2Go2X5GqIQRdIrbOQVOGAZMDKvgkgmlkgnY0gmlwhKwRABuJc2VjcDI1NmsxoQLz63UyrAKhlZ-aHBiwh2R79jCqwjqMBkV7u6EWih7CQYN0Y3CChs-DdWRwgobRhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/34511/p2p/16Uiu2HAmBqqHowea98Q4j3tgDQCDdS2KKYVi6mJWWhzK7misbLRN","/ip4/127.0.0.1/tcp/34512/ws/p2p/16Uiu2HAmBqqHowea98Q4j3tgDQCDdS2KKYVi6mJWWhzK7misbLRN","/ip4/172.17.0.27/tcp/34511/p2p/16Uiu2HAmBqqHowea98Q4j3tgDQCDdS2KKYVi6mJWWhzK7misbLRN","/ip4/172.17.0.27/tcp/34512/ws/p2p/16Uiu2HAmBqqHowea98Q4j3tgDQCDdS2KKYVi6mJWWhzK7misbLRN"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:283 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34510/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.73.62/tcp/41543/p2p/16Uiu2HAmHDwamA7F3JW4XoEmWkdmnX5kcvxK5UStkeyuhttmsBw8", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-06_20-29-26__bbd19b79-239c-48db-ae6e-d9267b4fb4b0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.84.177
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['56449', '56450', '56451', '56452', '56453']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:435 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:164 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:166 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 56449:56449 -p 56450:56450 -p 56451:56451 -p 56452:56452 -p 56453:56453 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=56451 --rest-port=56449 --tcp-port=56450 --discv5-udp-port=56452 --rest-address=0.0.0.0 --nat=extip:172.18.84.177 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ef1a6befed6f8f99fef598f0d38706de1faf52fbad9bf46a4edbcbcb0bebebf7 --max-connections=1000 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=56453 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QLw5XEEeV50vBvbo8Yz3SYW3VAubyxgYeZn7nDtzMv4Hc6wU7tIp-wxzNeveL_8ydYmk4XnFVlC5ppe0dUoY-1UCgmlkgnY0gmlwhKwSST6KbXVsdGlhZGRyc5YACASsEkk-BqJHAAoErBJJPgaiSN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDQ9_I8Xb3aXEWrRVY-zTKYTCSeB7n-MU584jbjC20e9uDdGNwgqJHg3VkcIKiSYV3YWt1MgU --filternode=/ip4/172.18.73.62/tcp/41543/p2p/16Uiu2HAmHDwamA7F3JW4XoEmWkdmnX5kcvxK5UStkeyuhttmsBw8
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.84.177 waku 0894fb29d966e222a1e74992f1465af7a035eccb3d3acbd41f60a323056fc399
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 0894fb29d966. Setting up logs at ./log/docker/node3_2024-11-06_20-29-26__bbd19b79-239c-48db-ae6e-d9267b4fb4b0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:178 Started container from image wakuorg/nwaku:latest. REST: 56449
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56449/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:278 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56449/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.84.177/tcp/56450/p2p/16Uiu2HAmDfP7HHVxcZsXC3RFa5AsNNmSAHmpsa7Hsm323WXFqRbH","/ip4/172.18.84.177/tcp/56451/ws/p2p/16Uiu2HAmDfP7HHVxcZsXC3RFa5AsNNmSAHmpsa7Hsm323WXFqRbH"],"enrUri":"enr:-L24QG3eyh-ynZ6H3U6Pv9Djd68kMfxx6dtTifJuHT1JKZw9Tj6_fe4b0J8l2Zwum0ip1tOYClYZHdbBj8h30ZSrAdsCgmlkgnY0gmlwhKwSVLGKbXVsdGlhZGRyc5YACASsElSxBtyCAAoErBJUsQbcg90DgnJzhQADAQAAiXNlY3AyNTZrMaEDDvVrhl_D7vPCTL_4hY6AE1cg-1NBmNomrJA2XvQcKYSDdGNwgtyCg3VkcILchIV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:283 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56449/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.73.62/tcp/41543/p2p/16Uiu2HAmHDwamA7F3JW4XoEmWkdmnX5kcvxK5UStkeyuhttmsBw8"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-06_20-29-26__bbd19b79-239c-48db-ae6e-d9267b4fb4b0__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.78.0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['23583', '23584', '23585', '23586', '23587']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:435 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:164 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:166 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 23583:23583 -p 23584:23584 -p 23585:23585 -p 23586:23586 -p 23587:23587 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=23585 --rest-port=23583 --tcp-port=23584 --discv5-udp-port=23586 --rest-address=0.0.0.0 --nat=extip:172.18.78.0 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d5dcea9b4ffc6ad2b45cbd7d28cbcffb7fe7d80cdcdbcdc9e7e0344dfb5bace0 --max-connections=1000 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QLw5XEEeV50vBvbo8Yz3SYW3VAubyxgYeZn7nDtzMv4Hc6wU7tIp-wxzNeveL_8ydYmk4XnFVlC5ppe0dUoY-1UCgmlkgnY0gmlwhKwSST6KbXVsdGlhZGRyc5YACASsEkk-BqJHAAoErBJJPgaiSN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDQ9_I8Xb3aXEWrRVY-zTKYTCSeB7n-MU584jbjC20e9uDdGNwgqJHg3VkcIKiSYV3YWt1MgU --filternode=/ip4/172.18.73.62/tcp/41543/p2p/16Uiu2HAmHDwamA7F3JW4XoEmWkdmnX5kcvxK5UStkeyuhttmsBw8
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.78.0 waku 88b8481666c0fa79121a516dbe4fa19e111ffb5095971ba665b7a7fdf47dcd9d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 88b8481666c0. Setting up logs at ./log/docker/node4_2024-11-06_20-29-26__bbd19b79-239c-48db-ae6e-d9267b4fb4b0__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:178 Started container from image wakuorg/go-waku:latest. REST: 23583
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23583/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QPJ0kTPpz1oemQCbPbKlHHcr8Y-Abh61S06ptttHquPKVsdoIDzIBiuBwMQB83yiX94qVNSxRvQAS5p29qARZiCGAZMDKwSpgmlkgnY0gmlwhKwRACOJc2VjcDI1NmsxoQM8_Xyi1uzHl2SwMU5EprVs6D8L0JmwdndPOTEbQzNw8oN0Y3CCXCCDdWRwglwihXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/23584/p2p/16Uiu2HAmGm4zp36V1j1vuHnh7VHd4F4dxqTEPQHaZzB3qgm817iZ","/ip4/127.0.0.1/tcp/23585/ws/p2p/16Uiu2HAmGm4zp36V1j1vuHnh7VHd4F4dxqTEPQHaZzB3qgm817iZ","/ip4/172.17.0.35/tcp/23584/p2p/16Uiu2HAmGm4zp36V1j1vuHnh7VHd4F4dxqTEPQHaZzB3qgm817iZ","/ip4/172.17.0.35/tcp/23585/ws/p2p/16Uiu2HAmGm4zp36V1j1vuHnh7VHd4F4dxqTEPQHaZzB3qgm817iZ"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:283 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23583/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.73.62/tcp/41543/p2p/16Uiu2HAmHDwamA7F3JW4XoEmWkdmnX5kcvxK5UStkeyuhttmsBw8", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-06_20-29-26__bbd19b79-239c-48db-ae6e-d9267b4fb4b0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.7.181
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['15422', '15423', '15424', '15425', '15426']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:435 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:164 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:166 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 15422:15422 -p 15423:15423 -p 15424:15424 -p 15425:15425 -p 15426:15426 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=15424 --rest-port=15422 --tcp-port=15423 --discv5-udp-port=15425 --rest-address=0.0.0.0 --nat=extip:172.18.7.181 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e9868a39923baba3a172bed6ffd246a9d7c2ebdbed7eceb989d948f7ca34f3a2 --max-connections=1000 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=15426 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QLw5XEEeV50vBvbo8Yz3SYW3VAubyxgYeZn7nDtzMv4Hc6wU7tIp-wxzNeveL_8ydYmk4XnFVlC5ppe0dUoY-1UCgmlkgnY0gmlwhKwSST6KbXVsdGlhZGRyc5YACASsEkk-BqJHAAoErBJJPgaiSN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDQ9_I8Xb3aXEWrRVY-zTKYTCSeB7n-MU584jbjC20e9uDdGNwgqJHg3VkcIKiSYV3YWt1MgU --filternode=/ip4/172.18.73.62/tcp/41543/p2p/16Uiu2HAmHDwamA7F3JW4XoEmWkdmnX5kcvxK5UStkeyuhttmsBw8
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.7.181 waku 83dc5ae90e741fb0580a97031807fffed659228be464b036ead2decc9b3c9df7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 83dc5ae90e74. Setting up logs at ./log/docker/node5_2024-11-06_20-29-26__bbd19b79-239c-48db-ae6e-d9267b4fb4b0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:178 Started container from image wakuorg/nwaku:latest. REST: 15422
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15422/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:278 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15422/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.7.181/tcp/15423/p2p/16Uiu2HAm6fjvJYxEG2LnvTUbsZY5FKjzs5DyGy4jhx2fb93Egeaq","/ip4/172.18.7.181/tcp/15424/ws/p2p/16Uiu2HAm6fjvJYxEG2LnvTUbsZY5FKjzs5DyGy4jhx2fb93Egeaq"],"enrUri":"enr:-L24QMKZP1jOA15W35rA5cfuZWL2xRyftqx3cnuWgnpTYlwANjyKBXa4T28iz5eQ5e2JKaMCYj4kESYo4FwdHeWmogkCgmlkgnY0gmlwhKwSB7WKbXVsdGlhZGRyc5YACASsEge1Bjw_AAoErBIHtQY8QN0DgnJzhQADAQAAiXNlY3AyNTZrMaECpwskbUPa4koxpq8FLNrc9Efm3uUt4e3yFuGec8-E8gaDdGNwgjw_g3VkcII8QYV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:283 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15422/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.73.62/tcp/41543/p2p/16Uiu2HAmHDwamA7F3JW4XoEmWkdmnX5kcvxK5UStkeyuhttmsBw8"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41542/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34510/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "4cd62ba1-40ff-48f7-8c1f-34ebecf48651", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"4cd62ba1-40ff-48f7-8c1f-34ebecf48651","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56449/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "3e47863f-58ba-424f-887a-4a68775ca327", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"3e47863f-58ba-424f-887a-4a68775ca327","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23583/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "52f09d4d-67a4-472a-a34c-19110b958986", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"52f09d4d-67a4-472a-a34c-19110b958986","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15422/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "c2340fe3-8ccd-4028-8bed-daec7b6c84c0", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"c2340fe3-8ccd-4028-8bed-daec7b6c84c0","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41542/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34510/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1730924973926849536,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41542/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56449/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:56449/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:222 Stopping container with id 63f173322d21
[35mDEBUG   [0m src.node.waku_node:waku_node.py:229 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:222 Stopping container with id e3197af7a82d
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 63f173322d21. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:229 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:222 Stopping container with id 0894fb29d966
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container e3197af7a82d. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:229 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:222 Stopping container with id 88b8481666c0
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 0894fb29d966. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:229 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:222 Stopping container with id 83dc5ae90e74
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 88b8481666c0. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:229 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.