[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-12-07_03-20-45__bccfb885-4664-460a-8469-4c0063f6ccb0
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-07_03-20-45__bccfb885-4664-460a-8469-4c0063f6ccb0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.139.200
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['1754', '1755', '1756', '1757', '1758']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 1754:1754 -p 1755:1755 -p 1756:1756 -p 1757:1757 -p 1758:1758 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=1756 --rest-port=1754 --tcp-port=1755 --discv5-udp-port=1757 --rest-address=0.0.0.0 --nat=extip:172.18.139.200 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=23feea96dbdb7fceeec9e50effbd54ec26b6cb10a9ed540cdfdaecf77ff4d901 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=1758 --metrics-logging=true --relay=true --filter=true
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 482f0ec256b7. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.139.200 waku daac1bac2e4940e877a33223bae3a89fcf9c338e202a2b88cf4536c085080ccb
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID daac1bac2e49. Setting up logs at ./log/docker/node1_2024-12-07_03-20-45__bccfb885-4664-460a-8469-4c0063f6ccb0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 1754
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1754/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1754/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.139.200/tcp/1755/p2p/16Uiu2HAmMoo6hypcdXQrdhYdd9Kg3jcDf6xT1KS8PTroFeGkeokk","/ip4/172.18.139.200/tcp/1756/ws/p2p/16Uiu2HAmMoo6hypcdXQrdhYdd9Kg3jcDf6xT1KS8PTroFeGkeokk"],"enrUri":"enr:-L24QIu7iep043iDyXbBJRF8AjgqZX80erap2BKxeTK5G-eOL1nY28uYeNhQyx8kbV4diu2oshRImrkEqHuJosYA-KsCgmlkgnY0gmlwhKwSi8iKbXVsdGlhZGRyc5YACASsEovIBgbbAAoErBKLyAYG3N0DgnJzhQADAQAAiXNlY3AyNTZrMaEDh_qwBjTOKN1giuCqzPc1rnHXB3-ec1rRSb07Wx0JjnmDdGNwggbbg3VkcIIG3YV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-07_03-20-45__bccfb885-4664-460a-8469-4c0063f6ccb0__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.149.174
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['39259', '39260', '39261', '39262', '39263']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 39259:39259 -p 39260:39260 -p 39261:39261 -p 39262:39262 -p 39263:39263 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=39261 --rest-port=39259 --tcp-port=39260 --discv5-udp-port=39262 --rest-address=0.0.0.0 --nat=extip:172.18.149.174 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=af769f7dc9fa9c7adbb1a56dcba936dd16b66ea6af433f2ead3bbcec187d8bbb --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QIu7iep043iDyXbBJRF8AjgqZX80erap2BKxeTK5G-eOL1nY28uYeNhQyx8kbV4diu2oshRImrkEqHuJosYA-KsCgmlkgnY0gmlwhKwSi8iKbXVsdGlhZGRyc5YACASsEovIBgbbAAoErBKLyAYG3N0DgnJzhQADAQAAiXNlY3AyNTZrMaEDh_qwBjTOKN1giuCqzPc1rnHXB3-ec1rRSb07Wx0JjnmDdGNwggbbg3VkcIIG3YV3YWt1MgU --filternode=/ip4/172.18.139.200/tcp/1755/p2p/16Uiu2HAmMoo6hypcdXQrdhYdd9Kg3jcDf6xT1KS8PTroFeGkeokk --pubsub-topic=/waku/2/rs/3/1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.149.174 waku aa92f86680ecb7ca4c71b1d7df0e5064fae6c3b5a23b3d8137209669003cc91b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID aa92f86680ec. Setting up logs at ./log/docker/node2_2024-12-07_03-20-45__bccfb885-4664-460a-8469-4c0063f6ccb0__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 39259
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39259/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QMyXHc--brgbnPFAYslxMb59eqZ7krMYLrLngCTgc-a1OrVdiqeIGwFWWQrhFSjA-Yr3JH3G6fwcUOY1AEpsFcGGAZOfIlUTgmlkgnY0gmlwhKwRAAiCcnOFAAMBAAGJc2VjcDI1NmsxoQKTAXAIkaolVcTr5EEfUDIAMObuH3Qf-tX4CL20ly1CNIN0Y3CCmVyDdWRwgplehXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/39260/p2p/16Uiu2HAm5KXBZw4AvLGsuFANLGphuFvpsZppbJhXCkSX8xSuPnBD","/ip4/127.0.0.1/tcp/39261/ws/p2p/16Uiu2HAm5KXBZw4AvLGsuFANLGphuFvpsZppbJhXCkSX8xSuPnBD","/ip4/172.17.0.8/tcp/39260/p2p/16Uiu2HAm5KXBZw4AvLGsuFANLGphuFvpsZppbJhXCkSX8xSuPnBD","/ip4/172.17.0.8/tcp/39261/ws/p2p/16Uiu2HAm5KXBZw4AvLGsuFANLGphuFvpsZppbJhXCkSX8xSuPnBD"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39259/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.139.200/tcp/1755/p2p/16Uiu2HAmMoo6hypcdXQrdhYdd9Kg3jcDf6xT1KS8PTroFeGkeokk", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-12-07_03-20-45__bccfb885-4664-460a-8469-4c0063f6ccb0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.145.139
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['32718', '32719', '32720', '32721', '32722']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 32718:32718 -p 32719:32719 -p 32720:32720 -p 32721:32721 -p 32722:32722 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=32720 --rest-port=32718 --tcp-port=32719 --discv5-udp-port=32721 --rest-address=0.0.0.0 --nat=extip:172.18.145.139 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c239dc516aba09ad11bea52d2b8dbdb3fe5a14b986f0d5de807f499baea0177c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=32722 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QIu7iep043iDyXbBJRF8AjgqZX80erap2BKxeTK5G-eOL1nY28uYeNhQyx8kbV4diu2oshRImrkEqHuJosYA-KsCgmlkgnY0gmlwhKwSi8iKbXVsdGlhZGRyc5YACASsEovIBgbbAAoErBKLyAYG3N0DgnJzhQADAQAAiXNlY3AyNTZrMaEDh_qwBjTOKN1giuCqzPc1rnHXB3-ec1rRSb07Wx0JjnmDdGNwggbbg3VkcIIG3YV3YWt1MgU --filternode=/ip4/172.18.139.200/tcp/1755/p2p/16Uiu2HAmMoo6hypcdXQrdhYdd9Kg3jcDf6xT1KS8PTroFeGkeokk
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.145.139 waku ccd52dc3b13614a7aa9d9ea92456e48132b985668ed4f4c5178686321431e796
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID ccd52dc3b136. Setting up logs at ./log/docker/node3_2024-12-07_03-20-45__bccfb885-4664-460a-8469-4c0063f6ccb0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 32718
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32718/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32718/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.145.139/tcp/32719/p2p/16Uiu2HAmTWLX2yVtnwwveo5ua37WBQZcgBUKArsrtfqymLCVTjuQ","/ip4/172.18.145.139/tcp/32720/ws/p2p/16Uiu2HAmTWLX2yVtnwwveo5ua37WBQZcgBUKArsrtfqymLCVTjuQ"],"enrUri":"enr:-L24QGBMpcxzot72MgxAhpS2A2AP2u-JsbfACLcAa9S7aT-EFg3T_pA3PfDaSYl-3JxMJ_Xzx43n_hzyg3UoNKSF5jECgmlkgnY0gmlwhKwSkYuKbXVsdGlhZGRyc5YACASsEpGLBn_PAAoErBKRiwZ_0N0DgnJzhQADAQAAiXNlY3AyNTZrMaED3KfhcyCMe6m9zkPvfmKBotFlMUKgY37a_EFBvMRJdDeDdGNwgn_Pg3VkcIJ_0YV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32718/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.139.200/tcp/1755/p2p/16Uiu2HAmMoo6hypcdXQrdhYdd9Kg3jcDf6xT1KS8PTroFeGkeokk"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-12-07_03-20-45__bccfb885-4664-460a-8469-4c0063f6ccb0__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.40.36
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['27768', '27769', '27770', '27771', '27772']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 27768:27768 -p 27769:27769 -p 27770:27770 -p 27771:27771 -p 27772:27772 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=27770 --rest-port=27768 --tcp-port=27769 --discv5-udp-port=27771 --rest-address=0.0.0.0 --nat=extip:172.18.40.36 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6c6b015c066ad4be52c8a91ade3ff52cb6499459913efa4a5cddf290f61ae139 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QIu7iep043iDyXbBJRF8AjgqZX80erap2BKxeTK5G-eOL1nY28uYeNhQyx8kbV4diu2oshRImrkEqHuJosYA-KsCgmlkgnY0gmlwhKwSi8iKbXVsdGlhZGRyc5YACASsEovIBgbbAAoErBKLyAYG3N0DgnJzhQADAQAAiXNlY3AyNTZrMaEDh_qwBjTOKN1giuCqzPc1rnHXB3-ec1rRSb07Wx0JjnmDdGNwggbbg3VkcIIG3YV3YWt1MgU --filternode=/ip4/172.18.139.200/tcp/1755/p2p/16Uiu2HAmMoo6hypcdXQrdhYdd9Kg3jcDf6xT1KS8PTroFeGkeokk --pubsub-topic=/waku/2/rs/3/1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.40.36 waku 09bfd86d9ec14c3839720d9dc1df5c166ad40d64e576deee8136c24bb6ae231f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 09bfd86d9ec1. Setting up logs at ./log/docker/node4_2024-12-07_03-20-45__bccfb885-4664-460a-8469-4c0063f6ccb0__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 27768
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27768/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QPsXIwgx1-oaRNy30LGrj0InQ4QaIfiniS8EOBFCn4s0AAWTDSkJ6gf1NVxMHVQWlYa76O0DRcaxpLLSaCAEO7uGAZOfImLOgmlkgnY0gmlwhKwRABGCcnOFAAMBAAGJc2VjcDI1NmsxoQPexUVdahlOrT9hUhhYxNZG9rlCVe6Ylh2Fs9COQxuEioN0Y3CCbHmDdWRwgmx7hXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/27769/p2p/16Uiu2HAmTebKvAUoZRNvpQBjDuuEFPheWjeYJ22xs3Bz6MM85HYu","/ip4/127.0.0.1/tcp/27770/ws/p2p/16Uiu2HAmTebKvAUoZRNvpQBjDuuEFPheWjeYJ22xs3Bz6MM85HYu","/ip4/172.17.0.17/tcp/27769/p2p/16Uiu2HAmTebKvAUoZRNvpQBjDuuEFPheWjeYJ22xs3Bz6MM85HYu","/ip4/172.17.0.17/tcp/27770/ws/p2p/16Uiu2HAmTebKvAUoZRNvpQBjDuuEFPheWjeYJ22xs3Bz6MM85HYu"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27768/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.139.200/tcp/1755/p2p/16Uiu2HAmMoo6hypcdXQrdhYdd9Kg3jcDf6xT1KS8PTroFeGkeokk", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-12-07_03-20-45__bccfb885-4664-460a-8469-4c0063f6ccb0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.212.191
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['47282', '47283', '47284', '47285', '47286']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 47282:47282 -p 47283:47283 -p 47284:47284 -p 47285:47285 -p 47286:47286 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=47284 --rest-port=47282 --tcp-port=47283 --discv5-udp-port=47285 --rest-address=0.0.0.0 --nat=extip:172.18.212.191 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=acc3bfd1247fc2c6c64de87156c7b2e37f2aa9ebb198fc35e1efc15af6bae3af --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=47286 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QIu7iep043iDyXbBJRF8AjgqZX80erap2BKxeTK5G-eOL1nY28uYeNhQyx8kbV4diu2oshRImrkEqHuJosYA-KsCgmlkgnY0gmlwhKwSi8iKbXVsdGlhZGRyc5YACASsEovIBgbbAAoErBKLyAYG3N0DgnJzhQADAQAAiXNlY3AyNTZrMaEDh_qwBjTOKN1giuCqzPc1rnHXB3-ec1rRSb07Wx0JjnmDdGNwggbbg3VkcIIG3YV3YWt1MgU --filternode=/ip4/172.18.139.200/tcp/1755/p2p/16Uiu2HAmMoo6hypcdXQrdhYdd9Kg3jcDf6xT1KS8PTroFeGkeokk
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.212.191 waku 91eb44b79e040d6601d56dfe9b5f59adee666defe0d045283b3b284fb4ac0b54
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 91eb44b79e04. Setting up logs at ./log/docker/node5_2024-12-07_03-20-45__bccfb885-4664-460a-8469-4c0063f6ccb0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 47282
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47282/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47282/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.212.191/tcp/47283/p2p/16Uiu2HAmTz4GiGBfvpQch47MtvivA3uJFXEs3eT6uMDpofK32XXd","/ip4/172.18.212.191/tcp/47284/ws/p2p/16Uiu2HAmTz4GiGBfvpQch47MtvivA3uJFXEs3eT6uMDpofK32XXd"],"enrUri":"enr:-L24QLxeGXNZ2pw01VQ4wUygmkdmGHT9a5HpR8vk2d6ZAUyDWEzA_jZuR_9XCQvukxCea5gUCMuN1OhwM-K7u2gusJcCgmlkgnY0gmlwhKwS1L-KbXVsdGlhZGRyc5YACASsEtS_BrizAAoErBLUvwa4tN0DgnJzhQADAQAAiXNlY3AyNTZrMaED48HF2O5s4F3DRSz86tRGPxbtPwDtPVP0e0o4cWZIAjCDdGNwgrizg3VkcIK4tYV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47282/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.139.200/tcp/1755/p2p/16Uiu2HAmMoo6hypcdXQrdhYdd9Kg3jcDf6xT1KS8PTroFeGkeokk"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1754/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39259/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "4fbabbdc-e4e3-4382-8bc8-2d4038785785", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"4fbabbdc-e4e3-4382-8bc8-2d4038785785","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32718/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "dff95dd0-1472-4d31-9a58-f0dfa80c7eb4", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"dff95dd0-1472-4d31-9a58-f0dfa80c7eb4","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27768/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "cbce7807-cbe2-4909-afae-b98380a6bba9", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"cbce7807-cbe2-4909-afae-b98380a6bba9","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47282/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "d03ea3d3-c3d7-4223-a0ca-850637dadbcd", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"d03ea3d3-c3d7-4223-a0ca-850637dadbcd","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1754/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39259/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1733541653842698496,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1754/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32718/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:32718/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id daac1bac2e49
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id aa92f86680ec
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container daac1bac2e49. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id ccd52dc3b136
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container aa92f86680ec. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 09bfd86d9ec1
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container ccd52dc3b136. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 91eb44b79e04
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 09bfd86d9ec1. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.