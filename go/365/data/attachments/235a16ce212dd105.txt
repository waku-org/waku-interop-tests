[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_node_not_connected_directly_to_lightpushing_node with id: 2024-11-20_03-13-54__5e2206ff-3eeb-42be-8c9c-11542c2bf449
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:28 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-20_03-13-54__5e2206ff-3eeb-42be-8c9c-11542c2bf449__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-20_03-13-54__5e2206ff-3eeb-42be-8c9c-11542c2bf449__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-20_03-13-54__5e2206ff-3eeb-42be-8c9c-11542c2bf449__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.48.166
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['11478', '11479', '11480', '11481', '11482']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 11478:11478 -p 11479:11479 -p 11480:11480 -p 11481:11481 -p 11482:11482 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=11480 --rest-port=11478 --tcp-port=11479 --discv5-udp-port=11481 --rest-address=0.0.0.0 --nat=extip:172.18.48.166 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9d6b2fcbaae2afc6aec3a9aefda1cbfa8e4132f4cf2b48e3abfaf13bfe474f16 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --lightpush=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.48.166 waku ab760c73c997ff4ffadfcdd3278428d4ac021b76c2e95f80661f3477aed8c4bd
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID ab760c73c997. Setting up logs at ./log/docker/node1_2024-11-20_03-13-54__5e2206ff-3eeb-42be-8c9c-11542c2bf449__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/go-waku:latest. REST: 11478
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container c9c075bcef0a. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11478/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QG7BCvOjN2rVB00VvdELttxZwquMhQ8LBi2qhgYH7xT5WwAHb5BzoyZZ-xzTWxjwLwoZG7Mo48vHHtgBrFWTVYmGAZNHj-wfgmlkgnY0gmlwhKwRAAOCcnODAAMAiXNlY3AyNTZrMaED36qz4JKZZR6XqJjpMzG4r71hJ_QTb2pbpBFtv-U1VM6DdGNwgizXg3VkcIIs2YV3YWt1Mgk","listenAddresses":["/ip4/127.0.0.1/tcp/11479/p2p/16Uiu2HAmTi6EjFT8EQSCpVeEWYXNFqcSxYxib4vqXHvauADwJJWH","/ip4/127.0.0.1/tcp/11480/ws/p2p/16Uiu2HAmTi6EjFT8EQSCpVeEWYXNFqcSxYxib4vqXHvauADwJJWH","/ip4/172.17.0.3/tcp/11479/p2p/16Uiu2HAmTi6EjFT8EQSCpVeEWYXNFqcSxYxib4vqXHvauADwJJWH","/ip4/172.17.0.3/tcp/11480/ws/p2p/16Uiu2HAmTi6EjFT8EQSCpVeEWYXNFqcSxYxib4vqXHvauADwJJWH"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.68.38
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['61472', '61473', '61474', '61475', '61476']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 61472:61472 -p 61473:61473 -p 61474:61474 -p 61475:61475 -p 61476:61476 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=61474 --rest-port=61472 --tcp-port=61473 --discv5-udp-port=61475 --rest-address=0.0.0.0 --nat=extip:172.18.68.38 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0f24ba45814cb576c11fa1e3eb5fa4b6f1f3217ab12c0bfbc869de8f66e5155a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=61476 --metrics-logging=true --lightpush=true --filter=true --relay=true --discv5-bootstrap-node=enr:-J-4QG7BCvOjN2rVB00VvdELttxZwquMhQ8LBi2qhgYH7xT5WwAHb5BzoyZZ-xzTWxjwLwoZG7Mo48vHHtgBrFWTVYmGAZNHj-wfgmlkgnY0gmlwhKwRAAOCcnODAAMAiXNlY3AyNTZrMaED36qz4JKZZR6XqJjpMzG4r71hJ_QTb2pbpBFtv-U1VM6DdGNwgizXg3VkcIIs2YV3YWt1Mgk --lightpushnode=/ip4/172.18.48.166/tcp/11479/p2p/16Uiu2HAmTi6EjFT8EQSCpVeEWYXNFqcSxYxib4vqXHvauADwJJWH
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.68.38 waku 19b08bb5c9ad89066abed78af9386fc2676daa7bab8e4b18c0325f58fd28efdb
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 19b08bb5c9ad. Setting up logs at ./log/docker/node2_2024-11-20_03-13-54__5e2206ff-3eeb-42be-8c9c-11542c2bf449__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 61472
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61472/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61472/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.68.38/tcp/61473/p2p/16Uiu2HAm3AG6c7Ji1PBzPxDZUW92EpcWKAwBsWegqBZt3KGDKtnj","/ip4/172.18.68.38/tcp/61474/ws/p2p/16Uiu2HAm3AG6c7Ji1PBzPxDZUW92EpcWKAwBsWegqBZt3KGDKtnj"],"enrUri":"enr:-L24QEDoGEA5fz3ODyY3Hg8F1My1XKii34b-uYhyfrfQhAz6JQdxXcGFsDR_y5eLnoxQpNo4YdEvAKXXUVnua-KXAT4CgmlkgnY0gmlwhKwSRCaKbXVsdGlhZGRyc5YACASsEkQmBvAhAAoErBJEJgbwIt0DgnJzhQADAQAAiXNlY3AyNTZrMaECcurHeZ44ZHuMNZTiby1uAOMlUmv3mCewTddkRoolkPiDdGNwgvAhg3VkcILwI4V3YWt1Mg0"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.231.89
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['27566', '27567', '27568', '27569', '27570']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 27566:27566 -p 27567:27567 -p 27568:27568 -p 27569:27569 -p 27570:27570 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=27568 --rest-port=27566 --tcp-port=27567 --discv5-udp-port=27569 --rest-address=0.0.0.0 --nat=extip:172.18.231.89 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c02b94e2e8ce1e2a55ba85d3ad63b865f6c66d60bbdf4a9ac685f6fe82996a0f --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --filternode=/ip4/172.18.68.38/tcp/61473/p2p/16Uiu2HAm3AG6c7Ji1PBzPxDZUW92EpcWKAwBsWegqBZt3KGDKtnj --discv5-bootstrap-node=enr:-L24QEDoGEA5fz3ODyY3Hg8F1My1XKii34b-uYhyfrfQhAz6JQdxXcGFsDR_y5eLnoxQpNo4YdEvAKXXUVnua-KXAT4CgmlkgnY0gmlwhKwSRCaKbXVsdGlhZGRyc5YACASsEkQmBvAhAAoErBJEJgbwIt0DgnJzhQADAQAAiXNlY3AyNTZrMaECcurHeZ44ZHuMNZTiby1uAOMlUmv3mCewTddkRoolkPiDdGNwgvAhg3VkcILwI4V3YWt1Mg0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.231.89 waku 965211014c4cf3939bdaaf7f8fb6753510c8f35ccf428ec5f087b3d6d7cb6311
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 965211014c4c. Setting up logs at ./log/docker/node3_2024-11-20_03-13-54__5e2206ff-3eeb-42be-8c9c-11542c2bf449__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/go-waku:latest. REST: 27566
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27566/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QKm5MK2bT-YctFRAlp7zSt1hpLpfKVKxRQ2bgsI5FdwMX1v70-8v_KEPAXaj-2AJSYHNZJGkb2ibGGYPBHrWRWiGAZNHj_gBgmlkgnY0gmlwhKwRAAuCcnODAAMAiXNlY3AyNTZrMaEDyarCroj534bKFpcBPASV5-TahS5RO8AesRGtxs_sxm2DdGNwgmuvg3VkcIJrsYV3YWt1MoA","listenAddresses":["/ip4/127.0.0.1/tcp/27567/p2p/16Uiu2HAmSEDKUQZUJRx7fjC6skeQLXgm5tzEx9w92wrqnGz8kxCk","/ip4/127.0.0.1/tcp/27568/ws/p2p/16Uiu2HAmSEDKUQZUJRx7fjC6skeQLXgm5tzEx9w92wrqnGz8kxCk","/ip4/172.17.0.11/tcp/27567/p2p/16Uiu2HAmSEDKUQZUJRx7fjC6skeQLXgm5tzEx9w92wrqnGz8kxCk","/ip4/172.17.0.11/tcp/27568/ws/p2p/16Uiu2HAmSEDKUQZUJRx7fjC6skeQLXgm5tzEx9w92wrqnGz8kxCk"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11478/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61472/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27566/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:27566/filter/v2/subscriptions. Response content: b'{"requestId":"1","statusDesc":"subscription failed"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id ab760c73c997
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 19b08bb5c9ad
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container ab760c73c997. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 965211014c4c
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 19b08bb5c9ad. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node3_2024-11-20_03-13-54__5e2206ff-3eeb-42be-8c9c-11542c2bf449__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node1_2024-11-20_03-13-54__5e2206ff-3eeb-42be-8c9c-11542c2bf449__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node2_2024-11-20_03-13-54__5e2206ff-3eeb-42be-8c9c-11542c2bf449__wakuorg_nwaku:latest.log
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_node_not_connected_directly_to_lightpushing_node with id: 2024-11-20_03-14-10__51740ebe-9ee4-48bb-8ae1-5cd6f6de7482
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:28 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-20_03-14-10__51740ebe-9ee4-48bb-8ae1-5cd6f6de7482__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-20_03-14-10__51740ebe-9ee4-48bb-8ae1-5cd6f6de7482__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-20_03-14-10__51740ebe-9ee4-48bb-8ae1-5cd6f6de7482__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.246.21
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['56108', '56109', '56110', '56111', '56112']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 56108:56108 -p 56109:56109 -p 56110:56110 -p 56111:56111 -p 56112:56112 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=56110 --rest-port=56108 --tcp-port=56109 --discv5-udp-port=56111 --rest-address=0.0.0.0 --nat=extip:172.18.246.21 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a0a6b45bd83c9ca902646eb4e00cefa1f9acca03c393ec99d6d5710eb271ab5d --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --lightpush=true
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.120.212
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['51787', '51788', '51789', '51790', '51791']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 51787:51787 -p 51788:51788 -p 51789:51789 -p 51790:51790 -p 51791:51791 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=51789 --rest-port=51787 --tcp-port=51788 --discv5-udp-port=51790 --rest-address=0.0.0.0 --nat=extip:172.18.120.212 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fdd6ff6766b9687fadfcced17046ff5bee22fde855ad5cf8fd5ff19530b7b57b --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --lightpush=true
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 965211014c4c. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.120.212 waku ef597e3ea936353d403c441ae7bf54005080111c6619a41c1087e8a20cde9111
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID ef597e3ea936. Setting up logs at ./log/docker/node1_2024-11-20_03-14-10__51740ebe-9ee4-48bb-8ae1-5cd6f6de7482__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/go-waku:latest. REST: 51787
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51787/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QJaO6s7fmNbon1LWVlp888BfHdW5FZ-n-tcCTXdWOgj-ESt-PTTSnlepGlsLhqkNURwQi3jCGP3uRsTHprb9wtSGAZNHkCzagmlkgnY0gmlwhKwRAAOCcnODAAMAiXNlY3AyNTZrMaEDEcR5ogWQrYlaMPHgiyXEL_o5AoRZ3QDb0trBxUG19aKDdGNwgspMg3VkcILKToV3YWt1Mgk","listenAddresses":["/ip4/127.0.0.1/tcp/51788/p2p/16Uiu2HAmDrM3ZwBucxCZRZJPSw8RzJLxVjNgkvoDnneo5YnPhsmb","/ip4/127.0.0.1/tcp/51789/ws/p2p/16Uiu2HAmDrM3ZwBucxCZRZJPSw8RzJLxVjNgkvoDnneo5YnPhsmb","/ip4/172.17.0.3/tcp/51788/p2p/16Uiu2HAmDrM3ZwBucxCZRZJPSw8RzJLxVjNgkvoDnneo5YnPhsmb","/ip4/172.17.0.3/tcp/51789/ws/p2p/16Uiu2HAmDrM3ZwBucxCZRZJPSw8RzJLxVjNgkvoDnneo5YnPhsmb"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.18.81
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['21214', '21215', '21216', '21217', '21218']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 21214:21214 -p 21215:21215 -p 21216:21216 -p 21217:21217 -p 21218:21218 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=21216 --rest-port=21214 --tcp-port=21215 --discv5-udp-port=21217 --rest-address=0.0.0.0 --nat=extip:172.18.18.81 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3e7cc7d2aedd1dab5fdebf2a2bcffadad7cb2ec9da811bfcd3ac53ad6adf4d7d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=21218 --metrics-logging=true --lightpush=true --filter=true --relay=true --discv5-bootstrap-node=enr:-J-4QJaO6s7fmNbon1LWVlp888BfHdW5FZ-n-tcCTXdWOgj-ESt-PTTSnlepGlsLhqkNURwQi3jCGP3uRsTHprb9wtSGAZNHkCzagmlkgnY0gmlwhKwRAAOCcnODAAMAiXNlY3AyNTZrMaEDEcR5ogWQrYlaMPHgiyXEL_o5AoRZ3QDb0trBxUG19aKDdGNwgspMg3VkcILKToV3YWt1Mgk --lightpushnode=/ip4/172.18.120.212/tcp/51788/p2p/16Uiu2HAmDrM3ZwBucxCZRZJPSw8RzJLxVjNgkvoDnneo5YnPhsmb
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.18.81 waku 565f58f553b274ff10f6a70fe5ea16c9e4045354899a86a0b03e0bf0c1e243e4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 565f58f553b2. Setting up logs at ./log/docker/node2_2024-11-20_03-14-10__51740ebe-9ee4-48bb-8ae1-5cd6f6de7482__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 21214
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21214/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21214/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.18.81/tcp/21215/p2p/16Uiu2HAkuuQN9BKiTTMJcbiTFu42dhmMkCRVDM8NhCaQKTkMBoZk","/ip4/172.18.18.81/tcp/21216/ws/p2p/16Uiu2HAkuuQN9BKiTTMJcbiTFu42dhmMkCRVDM8NhCaQKTkMBoZk"],"enrUri":"enr:-L24QBcM7ct_U9iCYxV3PsDSVZH8rVmXmLNcL2tkEFjQSff6fjS8li4d45t3xkogNcfUju3FcwRLsXh-PS3vgcRss18CgmlkgnY0gmlwhKwSElGKbXVsdGlhZGRyc5YACASsEhJRBlLfAAoErBISUQZS4N0DgnJzhQADAQAAiXNlY3AyNTZrMaECBxqbaTR1ZntjgzhT0PlxjLhBg31MCospiEpsKL3ovRODdGNwglLfg3VkcIJS4YV3YWt1Mg0"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.182.76
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['47225', '47226', '47227', '47228', '47229']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 47225:47225 -p 47226:47226 -p 47227:47227 -p 47228:47228 -p 47229:47229 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=47227 --rest-port=47225 --tcp-port=47226 --discv5-udp-port=47228 --rest-address=0.0.0.0 --nat=extip:172.18.182.76 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=15ac38fa9eb7dc262623bdabbbe61f71fb9e63da9f04cfeacd0bbb23bdda8bec --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --filternode=/ip4/172.18.18.81/tcp/21215/p2p/16Uiu2HAkuuQN9BKiTTMJcbiTFu42dhmMkCRVDM8NhCaQKTkMBoZk --discv5-bootstrap-node=enr:-L24QBcM7ct_U9iCYxV3PsDSVZH8rVmXmLNcL2tkEFjQSff6fjS8li4d45t3xkogNcfUju3FcwRLsXh-PS3vgcRss18CgmlkgnY0gmlwhKwSElGKbXVsdGlhZGRyc5YACASsEhJRBlLfAAoErBISUQZS4N0DgnJzhQADAQAAiXNlY3AyNTZrMaECBxqbaTR1ZntjgzhT0PlxjLhBg31MCospiEpsKL3ovRODdGNwglLfg3VkcIJS4YV3YWt1Mg0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.182.76 waku 3c23bdf78f5797bec808362a9516ed854395d2a5bcaf89ff80e5ba09e400d744
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 3c23bdf78f57. Setting up logs at ./log/docker/node3_2024-11-20_03-14-10__51740ebe-9ee4-48bb-8ae1-5cd6f6de7482__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/go-waku:latest. REST: 47225
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47225/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QFoe-qrdTR5RIZVOMainooaC-8Z4APpaOmydou418cvrOnXIfoTOuRBAc99WkCQWL0SX--Kjij2lJH9DEsja9rKGAZNHkDl6gmlkgnY0gmlwhKwRAAuCcnODAAMAiXNlY3AyNTZrMaECnlNs_gM5lH_jmOOmWdj2dl8wb6xRv7e2D5D_BTLxSTaDdGNwgrh6g3VkcIK4fIV3YWt1MoA","listenAddresses":["/ip4/127.0.0.1/tcp/47226/p2p/16Uiu2HAm65iBJQWgyW1Z2kRhqSWAeZK9x6MUF9S2z2qZ6UjujuW5","/ip4/127.0.0.1/tcp/47227/ws/p2p/16Uiu2HAm65iBJQWgyW1Z2kRhqSWAeZK9x6MUF9S2z2qZ6UjujuW5","/ip4/172.17.0.11/tcp/47226/p2p/16Uiu2HAm65iBJQWgyW1Z2kRhqSWAeZK9x6MUF9S2z2qZ6UjujuW5","/ip4/172.17.0.11/tcp/47227/ws/p2p/16Uiu2HAm65iBJQWgyW1Z2kRhqSWAeZK9x6MUF9S2z2qZ6UjujuW5"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51787/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21214/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47225/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:47225/filter/v2/subscriptions. Response content: b'{"requestId":"1","statusDesc":"subscription failed"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id ef597e3ea936
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 565f58f553b2
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container ef597e3ea936. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 3c23bdf78f57
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 565f58f553b2. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node2_2024-11-20_03-14-10__51740ebe-9ee4-48bb-8ae1-5cd6f6de7482__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node3_2024-11-20_03-14-10__51740ebe-9ee4-48bb-8ae1-5cd6f6de7482__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node1_2024-11-20_03-14-10__51740ebe-9ee4-48bb-8ae1-5cd6f6de7482__wakuorg_go-waku:latest.log
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_node_not_connected_directly_to_lightpushing_node with id: 2024-11-20_03-14-30__dfe60af3-d5d4-4606-b0d6-049cdc14eb95
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:28 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-20_03-14-30__dfe60af3-d5d4-4606-b0d6-049cdc14eb95__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-20_03-14-30__dfe60af3-d5d4-4606-b0d6-049cdc14eb95__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-20_03-14-30__dfe60af3-d5d4-4606-b0d6-049cdc14eb95__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.244.248
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['40223', '40224', '40225', '40226', '40227']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 40223:40223 -p 40224:40224 -p 40225:40225 -p 40226:40226 -p 40227:40227 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=40225 --rest-port=40223 --tcp-port=40224 --discv5-udp-port=40226 --rest-address=0.0.0.0 --nat=extip:172.18.244.248 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8e3ebb70a7c5d2cde0dda498cef88dbbeabc980a0275beddd7ab0a33f7fea58c --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --lightpush=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.244.248 waku 8f94520603b3f7fa73c59c4cc7563f372fb10822cd603fcb8ad1283ee0ee6ca2
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 3c23bdf78f57. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 8f94520603b3. Setting up logs at ./log/docker/node1_2024-11-20_03-14-30__dfe60af3-d5d4-4606-b0d6-049cdc14eb95__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/go-waku:latest. REST: 40223
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40223/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QKRzynXb5naKJ2Af9117Cx9C5F8Ue4uzMuIfxRuiGG7gag6U5-IvU6bIJSa7St3PCAGavYcJ_t5RGVTCKsjAfwiGAZNHkHoVgmlkgnY0gmlwhKwRAAuCcnODAAMAiXNlY3AyNTZrMaECIl6Wfx6chiG_i8HD7AEk_rzUDhsvwHsKP7-hfjkM7haDdGNwgp0gg3VkcIKdIoV3YWt1Mgk","listenAddresses":["/ip4/127.0.0.1/tcp/40224/p2p/16Uiu2HAkwjqVhsC37sJXAT1S66Vm5mRFvcgVbBySq69wiyjuLjrV","/ip4/127.0.0.1/tcp/40225/ws/p2p/16Uiu2HAkwjqVhsC37sJXAT1S66Vm5mRFvcgVbBySq69wiyjuLjrV","/ip4/172.17.0.11/tcp/40224/p2p/16Uiu2HAkwjqVhsC37sJXAT1S66Vm5mRFvcgVbBySq69wiyjuLjrV","/ip4/172.17.0.11/tcp/40225/ws/p2p/16Uiu2HAkwjqVhsC37sJXAT1S66Vm5mRFvcgVbBySq69wiyjuLjrV"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.107.230
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['8034', '8035', '8036', '8037', '8038']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 8034:8034 -p 8035:8035 -p 8036:8036 -p 8037:8037 -p 8038:8038 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=8036 --rest-port=8034 --tcp-port=8035 --discv5-udp-port=8037 --rest-address=0.0.0.0 --nat=extip:172.18.107.230 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9a0bab7da807eb18d42a0e7a1b59b40b935b5bfc6a05fcab0f0d9534ebaaea4b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=8038 --metrics-logging=true --lightpush=true --filter=true --relay=true --discv5-bootstrap-node=enr:-J-4QKRzynXb5naKJ2Af9117Cx9C5F8Ue4uzMuIfxRuiGG7gag6U5-IvU6bIJSa7St3PCAGavYcJ_t5RGVTCKsjAfwiGAZNHkHoVgmlkgnY0gmlwhKwRAAuCcnODAAMAiXNlY3AyNTZrMaECIl6Wfx6chiG_i8HD7AEk_rzUDhsvwHsKP7-hfjkM7haDdGNwgp0gg3VkcIKdIoV3YWt1Mgk --lightpushnode=/ip4/172.18.244.248/tcp/40224/p2p/16Uiu2HAkwjqVhsC37sJXAT1S66Vm5mRFvcgVbBySq69wiyjuLjrV
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.107.230 waku 99586cfbd1d03af791b7ed9424a064e7e12b875a8f3669fce0f6ac41d6925a1c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 99586cfbd1d0. Setting up logs at ./log/docker/node2_2024-11-20_03-14-30__dfe60af3-d5d4-4606-b0d6-049cdc14eb95__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 8034
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8034/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8034/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.107.230/tcp/8035/p2p/16Uiu2HAmSuhSyAADqLvxCTVhVNEK1PmarYvej72nreQ8x7YfD9FD","/ip4/172.18.107.230/tcp/8036/ws/p2p/16Uiu2HAmSuhSyAADqLvxCTVhVNEK1PmarYvej72nreQ8x7YfD9FD"],"enrUri":"enr:-L24QBQSV28t_b_UK8YZjSAKuX099qRroamM2-VnB7QhOww4HLmRlTRPU32ual1Ej040mUO8lXoTFZvebziDVMS04igCgmlkgnY0gmlwhKwSa-aKbXVsdGlhZGRyc5YACASsEmvmBh9jAAoErBJr5gYfZN0DgnJzhQADAQAAiXNlY3AyNTZrMaED08g3xZeoixUvUK6V1YaGb_ZrbD2a5BdGLNl_Ubb-hPiDdGNwgh9jg3VkcIIfZYV3YWt1Mg0"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.57.105
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['43591', '43592', '43593', '43594', '43595']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 43591:43591 -p 43592:43592 -p 43593:43593 -p 43594:43594 -p 43595:43595 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=43593 --rest-port=43591 --tcp-port=43592 --discv5-udp-port=43594 --rest-address=0.0.0.0 --nat=extip:172.18.57.105 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3c0f5ef4fca4504cc5ef0255a5456fcc9baaeef6ca5e183d7a14bc86049db4e1 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --filternode=/ip4/172.18.107.230/tcp/8035/p2p/16Uiu2HAmSuhSyAADqLvxCTVhVNEK1PmarYvej72nreQ8x7YfD9FD --discv5-bootstrap-node=enr:-L24QBQSV28t_b_UK8YZjSAKuX099qRroamM2-VnB7QhOww4HLmRlTRPU32ual1Ej040mUO8lXoTFZvebziDVMS04igCgmlkgnY0gmlwhKwSa-aKbXVsdGlhZGRyc5YACASsEmvmBh9jAAoErBJr5gYfZN0DgnJzhQADAQAAiXNlY3AyNTZrMaED08g3xZeoixUvUK6V1YaGb_ZrbD2a5BdGLNl_Ubb-hPiDdGNwgh9jg3VkcIIfZYV3YWt1Mg0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.57.105 waku fd0a5818579bb4b8406047c1945f8d7d72141fbc9fc3759fdb68009bc591e468
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID fd0a5818579b. Setting up logs at ./log/docker/node3_2024-11-20_03-14-30__dfe60af3-d5d4-4606-b0d6-049cdc14eb95__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/go-waku:latest. REST: 43591
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43591/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QLfh7RQ0S57rrtniE-RkxowIOMTBOjLnbt_wGpbFNOXEcod14BRxlN2vp2DDrXxsJVA0BVTgafuBG8407AUzTeuGAZNHkIltgmlkgnY0gmlwhKwRABeCcnODAAMAiXNlY3AyNTZrMaED6tHOhUKEoKNAOXs1ymCUTSyzrL_OckAlKh2Yov08XsGDdGNwgqpIg3VkcIKqSoV3YWt1MoA","listenAddresses":["/ip4/127.0.0.1/tcp/43592/p2p/16Uiu2HAmUTdJhk7qKd3h9AN1ez2cFLwxCn5roN7u6QGyaZRr48fa","/ip4/127.0.0.1/tcp/43593/ws/p2p/16Uiu2HAmUTdJhk7qKd3h9AN1ez2cFLwxCn5roN7u6QGyaZRr48fa","/ip4/172.17.0.23/tcp/43592/p2p/16Uiu2HAmUTdJhk7qKd3h9AN1ez2cFLwxCn5roN7u6QGyaZRr48fa","/ip4/172.17.0.23/tcp/43593/ws/p2p/16Uiu2HAmUTdJhk7qKd3h9AN1ez2cFLwxCn5roN7u6QGyaZRr48fa"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40223/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8034/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43591/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:43591/filter/v2/subscriptions. Response content: b'{"requestId":"1","statusDesc":"subscription failed"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 8f94520603b3
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 99586cfbd1d0
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 8f94520603b3. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id fd0a5818579b
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 99586cfbd1d0. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node1_2024-11-20_03-14-30__dfe60af3-d5d4-4606-b0d6-049cdc14eb95__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node2_2024-11-20_03-14-30__dfe60af3-d5d4-4606-b0d6-049cdc14eb95__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node3_2024-11-20_03-14-30__dfe60af3-d5d4-4606-b0d6-049cdc14eb95__wakuorg_go-waku:latest.log