[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_pubsub_topic with id: 2024-11-20_03-48-19__9ec199e1-e4b4-4e32-b39e-aeb577ea763c
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-20_03-48-19__9ec199e1-e4b4-4e32-b39e-aeb577ea763c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.91.143
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['28623', '28624', '28625', '28626', '28627']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 28623:28623 -p 28624:28624 -p 28625:28625 -p 28626:28626 -p 28627:28627 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=28625 --rest-port=28623 --tcp-port=28624 --discv5-udp-port=28626 --rest-address=0.0.0.0 --nat=extip:172.18.91.143 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f7a82e8b54b9f8cdb4d410ff8dab8dd48c93e87d0a5ad4a19970bab1f1ab32ec --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=28627 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.91.143 waku a06c372a1f4e715b39ef4f6a6d0070be82f05c9eca3c1279a7017c0877c22090
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID a06c372a1f4e. Setting up logs at ./log/docker/node1_2024-11-20_03-48-19__9ec199e1-e4b4-4e32-b39e-aeb577ea763c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 28623
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 4ee5ad118e31. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28623/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28623/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.91.143/tcp/28624/p2p/16Uiu2HAmVpg33J7D4FDh8goU3JJ6nLV1UXLnVbsPF4P6eb9GFQaH","/ip4/172.18.91.143/tcp/28625/ws/p2p/16Uiu2HAmVpg33J7D4FDh8goU3JJ6nLV1UXLnVbsPF4P6eb9GFQaH"],"enrUri":"enr:-L24QH_11YKIVRb1q70Js5bDkU1k8WxVXU0sXYcsdTVwN9_0UaE0WDRBy2ln0PZmNBarQ0JDsH2sD5YD_E75UDDITNUCgmlkgnY0gmlwhKwSW4-KbXVsdGlhZGRyc5YACASsEluPBm_QAAoErBJbjwZv0d0DgnJzhQADAQAAiXNlY3AyNTZrMaED_xHHA9HFquSTh-zj0x7elZxcsD0WMpdV_Tfa7j7FSuaDdGNwgm_Qg3VkcIJv0oV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-20_03-48-19__9ec199e1-e4b4-4e32-b39e-aeb577ea763c__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.85.154
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['60907', '60908', '60909', '60910', '60911']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 60907:60907 -p 60908:60908 -p 60909:60909 -p 60910:60910 -p 60911:60911 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=60909 --rest-port=60907 --tcp-port=60908 --discv5-udp-port=60910 --rest-address=0.0.0.0 --nat=extip:172.18.85.154 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0daf8539b10dda14b92cb496186ccfcaeed1a9dcc249a63c8ae183c27ac80e4c --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-L24QH_11YKIVRb1q70Js5bDkU1k8WxVXU0sXYcsdTVwN9_0UaE0WDRBy2ln0PZmNBarQ0JDsH2sD5YD_E75UDDITNUCgmlkgnY0gmlwhKwSW4-KbXVsdGlhZGRyc5YACASsEluPBm_QAAoErBJbjwZv0d0DgnJzhQADAQAAiXNlY3AyNTZrMaED_xHHA9HFquSTh-zj0x7elZxcsD0WMpdV_Tfa7j7FSuaDdGNwgm_Qg3VkcIJv0oV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.85.154 waku e90bf7483850de93d980a60bc9786c423b7afe921b603851b81ca6c7f19cb6e8
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID e90bf7483850. Setting up logs at ./log/docker/node2_2024-11-20_03-48-19__9ec199e1-e4b4-4e32-b39e-aeb577ea763c__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/go-waku:latest. REST: 60907
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60907/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QEOgCkNtSehVkG4p_EhQo1LWUixsTO8gwyic36XaHGXkf0WCKiqRzzm4_QKPh8ps2dGSOCHLT7eJBUZUzRzh_KmGAZNHr3jpgmlkgnY0gmlwhKwRAAWCcnODAAMAiXNlY3AyNTZrMaEDEe5ixQ24mcOKVC6G1hm7ScwA2Zwl-CCiDVJq61DLQFCDdGNwgu3sg3VkcILt7oV3YWt1MgE","listenAddresses":["/ip4/127.0.0.1/tcp/60908/p2p/16Uiu2HAmDrz7Q3vhxkfKei39CsH8t2WKysehiTYRRMCPEqKXpz2T","/ip4/127.0.0.1/tcp/60909/ws/p2p/16Uiu2HAmDrz7Q3vhxkfKei39CsH8t2WKysehiTYRRMCPEqKXpz2T","/ip4/172.17.0.5/tcp/60908/p2p/16Uiu2HAmDrz7Q3vhxkfKei39CsH8t2WKysehiTYRRMCPEqKXpz2T","/ip4/172.17.0.5/tcp/60909/ws/p2p/16Uiu2HAmDrz7Q3vhxkfKei39CsH8t2WKysehiTYRRMCPEqKXpz2T"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60907/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.91.143/tcp/28624/p2p/16Uiu2HAmVpg33J7D4FDh8goU3JJ6nLV1UXLnVbsPF4P6eb9GFQaH", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-20_03-48-19__9ec199e1-e4b4-4e32-b39e-aeb577ea763c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.174.49
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['7049', '7050', '7051', '7052', '7053']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 7049:7049 -p 7050:7050 -p 7051:7051 -p 7052:7052 -p 7053:7053 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=7051 --rest-port=7049 --tcp-port=7050 --discv5-udp-port=7052 --rest-address=0.0.0.0 --nat=extip:172.18.174.49 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2c8bebc705add3c618cd427d92ca50cb1ae6c8dcd4ec4b2d20bc2bae5b05c92c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=7053 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QH_11YKIVRb1q70Js5bDkU1k8WxVXU0sXYcsdTVwN9_0UaE0WDRBy2ln0PZmNBarQ0JDsH2sD5YD_E75UDDITNUCgmlkgnY0gmlwhKwSW4-KbXVsdGlhZGRyc5YACASsEluPBm_QAAoErBJbjwZv0d0DgnJzhQADAQAAiXNlY3AyNTZrMaED_xHHA9HFquSTh-zj0x7elZxcsD0WMpdV_Tfa7j7FSuaDdGNwgm_Qg3VkcIJv0oV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.174.49 waku 3b993fe57235096d758d0d6815865a0e2612846ab52c9b9add848af664aad779
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 3b993fe57235. Setting up logs at ./log/docker/node3_2024-11-20_03-48-19__9ec199e1-e4b4-4e32-b39e-aeb577ea763c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 7049
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7049/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7049/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.174.49/tcp/7050/p2p/16Uiu2HAmQBkZ4PjyBQVUuJ5WscMp5oYoA3tasJqWHv4Sa8jbhVGw","/ip4/172.18.174.49/tcp/7051/ws/p2p/16Uiu2HAmQBkZ4PjyBQVUuJ5WscMp5oYoA3tasJqWHv4Sa8jbhVGw"],"enrUri":"enr:-L24QKUJ-X0jBhEclwHgSUFPpb7kZk3vUksf5E2je3Hc8vJNXc59CmTodua_sMPfVVWgnspJdHCiNQdBlKnpDpyMFIMCgmlkgnY0gmlwhKwSrjGKbXVsdGlhZGRyc5YACASsEq4xBhuKAAoErBKuMQYbi90DgnJzhQADAQAAiXNlY3AyNTZrMaEDq1H1-zUU_8DMNLPrCn5U42Rand0lIQ_ys_qsBTq7A2yDdGNwghuKg3VkcIIbjIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7049/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.91.143/tcp/28624/p2p/16Uiu2HAmVpg33J7D4FDh8goU3JJ6nLV1UXLnVbsPF4P6eb9GFQaH"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-20_03-48-19__9ec199e1-e4b4-4e32-b39e-aeb577ea763c__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.1.231
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['26896', '26897', '26898', '26899', '26900']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 26896:26896 -p 26897:26897 -p 26898:26898 -p 26899:26899 -p 26900:26900 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=26898 --rest-port=26896 --tcp-port=26897 --discv5-udp-port=26899 --rest-address=0.0.0.0 --nat=extip:172.18.1.231 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1b0d48736debb00975920d3635ae96c415ce0a8c5227ec561effc4ca2460b807 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-L24QH_11YKIVRb1q70Js5bDkU1k8WxVXU0sXYcsdTVwN9_0UaE0WDRBy2ln0PZmNBarQ0JDsH2sD5YD_E75UDDITNUCgmlkgnY0gmlwhKwSW4-KbXVsdGlhZGRyc5YACASsEluPBm_QAAoErBJbjwZv0d0DgnJzhQADAQAAiXNlY3AyNTZrMaED_xHHA9HFquSTh-zj0x7elZxcsD0WMpdV_Tfa7j7FSuaDdGNwgm_Qg3VkcIJv0oV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.1.231 waku 5c008afd35743d22807e81c02742ba428a8c23da1076d2bbe5a64e04a34c5d05
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 5c008afd3574. Setting up logs at ./log/docker/node4_2024-11-20_03-48-19__9ec199e1-e4b4-4e32-b39e-aeb577ea763c__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/go-waku:latest. REST: 26896
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26896/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QA-pzhyUyqG6MaZQJSz3yKBk6Kf9AamJr-_i7rMy3QHHdFn4r96kCAyHO52bUcRTjIifQ-Zw-3cTRE52DAmRVqaGAZNHr4kRgmlkgnY0gmlwhKwRAAaCcnODAAMAiXNlY3AyNTZrMaECJlXXzU-uyoKw8k0ik2EGqMilmrx_HPqwtEEzQtGQWqKDdGNwgmkRg3VkcIJpE4V3YWt1MgE","listenAddresses":["/ip4/127.0.0.1/tcp/26897/p2p/16Uiu2HAkx1KPiZANzGFgTV2xisp2KmRWQZVD6jF2tYQ98AKvD8Zw","/ip4/127.0.0.1/tcp/26898/ws/p2p/16Uiu2HAkx1KPiZANzGFgTV2xisp2KmRWQZVD6jF2tYQ98AKvD8Zw","/ip4/172.17.0.6/tcp/26897/p2p/16Uiu2HAkx1KPiZANzGFgTV2xisp2KmRWQZVD6jF2tYQ98AKvD8Zw","/ip4/172.17.0.6/tcp/26898/ws/p2p/16Uiu2HAkx1KPiZANzGFgTV2xisp2KmRWQZVD6jF2tYQ98AKvD8Zw"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26896/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.91.143/tcp/28624/p2p/16Uiu2HAmVpg33J7D4FDh8goU3JJ6nLV1UXLnVbsPF4P6eb9GFQaH", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-20_03-48-19__9ec199e1-e4b4-4e32-b39e-aeb577ea763c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.70.52
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['18380', '18381', '18382', '18383', '18384']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 18380:18380 -p 18381:18381 -p 18382:18382 -p 18383:18383 -p 18384:18384 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=18382 --rest-port=18380 --tcp-port=18381 --discv5-udp-port=18383 --rest-address=0.0.0.0 --nat=extip:172.18.70.52 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e16ea8c9a1974d25b622c7e7556d17abcfe9f6aec9cf8c72fe7e4fc052044f89 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=18384 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QH_11YKIVRb1q70Js5bDkU1k8WxVXU0sXYcsdTVwN9_0UaE0WDRBy2ln0PZmNBarQ0JDsH2sD5YD_E75UDDITNUCgmlkgnY0gmlwhKwSW4-KbXVsdGlhZGRyc5YACASsEluPBm_QAAoErBJbjwZv0d0DgnJzhQADAQAAiXNlY3AyNTZrMaED_xHHA9HFquSTh-zj0x7elZxcsD0WMpdV_Tfa7j7FSuaDdGNwgm_Qg3VkcIJv0oV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.70.52 waku c0fe58be972ab7eb5057604dbfe0878a86963aae58cc279bdd512672728693b0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID c0fe58be972a. Setting up logs at ./log/docker/node5_2024-11-20_03-48-19__9ec199e1-e4b4-4e32-b39e-aeb577ea763c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 18380
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18380/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18380/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.70.52/tcp/18381/p2p/16Uiu2HAmLL7dH35vaP56WHBS3MNbCqy9mh1obs9GnBMB4gmwofFD","/ip4/172.18.70.52/tcp/18382/ws/p2p/16Uiu2HAmLL7dH35vaP56WHBS3MNbCqy9mh1obs9GnBMB4gmwofFD"],"enrUri":"enr:-L24QI3fPChKHw4lbJsDZgJIYZ44zaS2V0T-PTfGKxZrO5AKNdLfX6ZFDTr9R7yaOOgmHqAs-odurcXfy9ITKRBI0HQCgmlkgnY0gmlwhKwSRjSKbXVsdGlhZGRyc5YACASsEkY0BkfNAAoErBJGNAZHzt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDcgevx2uLvrIbMUoP3bIHNcaeRZgyeHCy4INCmSfPJ-CDdGNwgkfNg3VkcIJHz4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:18380/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.91.143/tcp/28624/p2p/16Uiu2HAmVpg33J7D4FDh8goU3JJ6nLV1UXLnVbsPF4P6eb9GFQaH"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28623/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60907/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28623/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28623/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732074509813798912,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60907/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28623/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28623/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732074510927597312,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60907/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1732074510927597312,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28623/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7049/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:7049/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1. Response content: b''
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id a06c372a1f4e
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id e90bf7483850
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container a06c372a1f4e. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 3b993fe57235
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container e90bf7483850. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 5c008afd3574
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 3b993fe57235. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id c0fe58be972a
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 5c008afd3574. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.