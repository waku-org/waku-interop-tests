{"uid":"edec62d481a45c3b","name":"test_filter_node_not_connected_directly_to_relaying_node","fullName":"tests.e2e.test_e2e.TestE2E#test_filter_node_not_connected_directly_to_relaying_node","historyId":"3a3f0f730a859a3d2f5e05f56c2fef33","time":{"start":1732072304171,"stop":1732072310302,"duration":6131},"status":"broken","statusMessage":"Exception: Error: 400 Client Error: Bad Request for url: http://127.0.0.1:30797/filter/v2/subscriptions with response: b'{\"requestId\":\"1\",\"statusDesc\":\"subscription failed\"}'","statusTrace":"src/node/api_clients/base_client.py:14: in make_request\n    response.raise_for_status()\n/opt/hostedtoolcache/Python/3.12.7/x64/lib/python3.12/site-packages/requests/models.py:1021: in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\nE   requests.exceptions.HTTPError: 400 Client Error: Bad Request for url: http://127.0.0.1:30797/filter/v2/subscriptions\n\nDuring handling of the above exception, another exception occurred:\ntests/e2e/test_e2e.py:50: in test_filter_node_not_connected_directly_to_relaying_node\n    self.node3.set_filter_subscriptions({\"requestId\": \"1\", \"contentFilters\": [self.test_content_topic], \"pubsubTopic\": self.test_pubsub_topic})\nsrc/node/waku_node.py:355: in set_filter_subscriptions\n    return self._api.set_filter_subscriptions(subscription)\nsrc/node/api_clients/rest.py:68: in set_filter_subscriptions\n    set_subscriptions_response = self.rest_call(\"post\", \"filter/v2/subscriptions\", json.dumps(subscription))\nsrc/node/api_clients/rest.py:16: in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\nsrc/node/api_clients/base_client.py:17: in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\nE   Exception: Error: 400 Client Error: Bad Request for url: http://127.0.0.1:30797/filter/v2/subscriptions with response: b'{\"requestId\":\"1\",\"statusDesc\":\"subscription failed\"}'","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":2,"retriesStatusChange":false,"beforeStages":[{"name":"set_allure_env_variables","time":{"start":1732072261581,"stop":1732072261581,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"check_waku_log_errors","time":{"start":1732072304139,"stop":1732072304139,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes","time":{"start":1732072304139,"stop":1732072304140,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail","time":{"start":1732072304139,"stop":1732072304139,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"common_setup","time":{"start":1732072304140,"stop":1732072304141,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_setup","time":{"start":1732072304140,"stop":1732072304140,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_id","time":{"start":1732072304140,"stop":1732072304140,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"light_push_setup","time":{"start":1732072304141,"stop":1732072304141,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"filter_setup","time":{"start":1732072304141,"stop":1732072304141,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"nodes","time":{"start":1732072304141,"stop":1732072304170,"duration":29},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"store_setup","time":{"start":1732072304170,"stop":1732072304170,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"relay_setup","time":{"start":1732072304170,"stop":1732072304170,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"broken","statusMessage":"Exception: Error: 400 Client Error: Bad Request for url: http://127.0.0.1:30797/filter/v2/subscriptions with response: b'{\"requestId\":\"1\",\"statusDesc\":\"subscription failed\"}'","statusTrace":"src/node/api_clients/base_client.py:14: in make_request\n    response.raise_for_status()\n/opt/hostedtoolcache/Python/3.12.7/x64/lib/python3.12/site-packages/requests/models.py:1021: in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\nE   requests.exceptions.HTTPError: 400 Client Error: Bad Request for url: http://127.0.0.1:30797/filter/v2/subscriptions\n\nDuring handling of the above exception, another exception occurred:\ntests/e2e/test_e2e.py:50: in test_filter_node_not_connected_directly_to_relaying_node\n    self.node3.set_filter_subscriptions({\"requestId\": \"1\", \"contentFilters\": [self.test_content_topic], \"pubsubTopic\": self.test_pubsub_topic})\nsrc/node/waku_node.py:355: in set_filter_subscriptions\n    return self._api.set_filter_subscriptions(subscription)\nsrc/node/api_clients/rest.py:68: in set_filter_subscriptions\n    set_subscriptions_response = self.rest_call(\"post\", \"filter/v2/subscriptions\", json.dumps(subscription))\nsrc/node/api_clients/rest.py:16: in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\nsrc/node/api_clients/base_client.py:17: in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\nE   Exception: Error: 400 Client Error: Bad Request for url: http://127.0.0.1:30797/filter/v2/subscriptions with response: b'{\"requestId\":\"1\",\"statusDesc\":\"subscription failed\"}'","steps":[],"attachments":[{"uid":"cd7d67405fc39d1c","name":"log","source":"cd7d67405fc39d1c.txt","type":"text/plain","size":45258}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"test_setup::0","time":{"start":1732072310382,"stop":1732072310383,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes::0","time":{"start":1732072310383,"stop":1732072314517,"duration":4134},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"check_waku_log_errors::0","time":{"start":1732072314522,"stop":1732072314547,"duration":25},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail::0","time":{"start":1732072314548,"stop":1732072314551,"duration":3},"status":"passed","steps":[],"attachments":[{"uid":"b610c87ab3d2e036","name":"node3_2024-11-20_03-11-44__ebd58d70-324e-4896-9c5e-de1db73d90a1__wakuorg_go-waku:latest.log","source":"b610c87ab3d2e036.txt","type":"text/plain","size":53874},{"uid":"572e5a4a7c67e9ad","name":"node1_2024-11-20_03-11-44__ebd58d70-324e-4896-9c5e-de1db73d90a1__wakuorg_go-waku:latest.log","source":"572e5a4a7c67e9ad.txt","type":"text/plain","size":110502},{"uid":"98a008c75731fab6","name":"node2_2024-11-20_03-11-44__ebd58d70-324e-4896-9c5e-de1db73d90a1__wakuorg_nwaku:latest.log","source":"98a008c75731fab6.txt","type":"text/plain","size":90740}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"set_allure_env_variables::0","time":{"start":1732075071665,"stop":1732075071665,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"tests.e2e"},{"name":"suite","value":"test_e2e"},{"name":"subSuite","value":"TestE2E"},{"name":"host","value":"fv-az1249-58"},{"name":"thread","value":"2155-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.e2e.test_e2e"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"e182c9d096ac1abb","status":"broken","statusDetails":"Exception: Error: 400 Client Error: Bad Request for url: http://127.0.0.1:6846/filter/v2/subscriptions with response: b'{\"requestId\":\"1\",\"statusDesc\":\"subscription failed\"}'","time":{"start":1732072287037,"stop":1732072299088,"duration":12051}},{"uid":"c12df5c8571c5852","status":"broken","statusDetails":"Exception: Error: 400 Client Error: Bad Request for url: http://127.0.0.1:37975/filter/v2/subscriptions with response: b'{\"requestId\":\"1\",\"statusDesc\":\"subscription failed\"}'","time":{"start":1732072271096,"stop":1732072281953,"duration":10857}}],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":4,"skipped":0,"passed":114,"unknown":0,"total":118},"items":[{"uid":"636bd950f1e46f8e","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/364//#testresult/636bd950f1e46f8e","status":"broken","statusDetails":"Exception: Error: 400 Client Error: Bad Request for url: http://127.0.0.1:5363/filter/v2/subscriptions with response: b'{\"requestId\":\"1\",\"statusDesc\":\"subscription failed\"}'","time":{"start":1731986068987,"stop":1731986080758,"duration":11771}},{"uid":"2b993608502068f8","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/363//#testresult/2b993608502068f8","status":"passed","time":{"start":1731925886819,"stop":1731925929312,"duration":42493}},{"uid":"9e9e03a1a557414c","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/362//#testresult/9e9e03a1a557414c","status":"passed","time":{"start":1731924016450,"stop":1731924059588,"duration":43138}},{"uid":"536ecb218fdf6bcc","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/361//#testresult/536ecb218fdf6bcc","status":"passed","time":{"start":1731899710014,"stop":1731899754745,"duration":44731}},{"uid":"9103d04423fccf85","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/360//#testresult/9103d04423fccf85","status":"passed","time":{"start":1731813360603,"stop":1731813401294,"duration":40691}},{"uid":"a1381379d00c6485","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/359//#testresult/a1381379d00c6485","status":"passed","time":{"start":1731726717743,"stop":1731726761760,"duration":44017}},{"uid":"77663e553917f187","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/358//#testresult/77663e553917f187","status":"passed","time":{"start":1731640319353,"stop":1731640362905,"duration":43552}},{"uid":"290ac4a376af3208","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/357//#testresult/290ac4a376af3208","status":"passed","time":{"start":1731553674760,"stop":1731553716618,"duration":41858}},{"uid":"45fe7b4707701dc1","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/356//#testresult/45fe7b4707701dc1","status":"passed","time":{"start":1731467235306,"stop":1731467273747,"duration":38441}},{"uid":"d6bb16531a41d7d7","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/355//#testresult/d6bb16531a41d7d7","status":"passed","time":{"start":1731380665453,"stop":1731380705279,"duration":39826}},{"uid":"173b8b0a87999570","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/354//#testresult/173b8b0a87999570","status":"passed","time":{"start":1731294485541,"stop":1731294525807,"duration":40266}},{"uid":"69055f2f1d9b36cd","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/353//#testresult/69055f2f1d9b36cd","status":"passed","time":{"start":1731222757224,"stop":1731222793241,"duration":36017}},{"uid":"42388110bad222a0","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/352//#testresult/42388110bad222a0","status":"passed","time":{"start":1731208117172,"stop":1731208158414,"duration":41242}},{"uid":"287adc9dbe5a0a1b","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/351//#testresult/287adc9dbe5a0a1b","status":"passed","time":{"start":1731121517733,"stop":1731121561877,"duration":44144}},{"uid":"aedaf03f2430098d","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/350//#testresult/aedaf03f2430098d","status":"passed","time":{"start":1731035208225,"stop":1731035248958,"duration":40733}},{"uid":"f65692184ef555b1","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/349//#testresult/f65692184ef555b1","status":"passed","time":{"start":1730990641240,"stop":1730990684470,"duration":43230}},{"uid":"2027e8c07be4b88f","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/348//#testresult/2027e8c07be4b88f","status":"passed","time":{"start":1730982601245,"stop":1730982640859,"duration":39614}},{"uid":"22a27bfd6b4636a3","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/347//#testresult/22a27bfd6b4636a3","status":"passed","time":{"start":1730980452681,"stop":1730980494203,"duration":41522}},{"uid":"b53f139d9a69d1ca","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/346//#testresult/b53f139d9a69d1ca","status":"passed","time":{"start":1730979491563,"stop":1730979528240,"duration":36677}},{"uid":"61cfb1d002070a59","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/345//#testresult/61cfb1d002070a59","status":"passed","time":{"start":1730979474279,"stop":1730979513250,"duration":38971}}]},"tags":[]},"source":"edec62d481a45c3b.json","parameterValues":[]}