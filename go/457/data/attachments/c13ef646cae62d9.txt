2025-02-07 03:08:33.642 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-07 03:08:33.642 DEBUG [tests.conftest] Running test: test_filter_update_subscription_with_invalid_request_id with id: 2025-02-07_03-08-33__790ae842-a558-48bf-a23c-501edb5289cf
2025-02-07 03:08:33.642 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-07 03:08:33.643 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2025-02-07 03:08:33.643 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2025-02-07 03:08:33.648 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-07 03:08:33.649 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-07_03-08-33__790ae842-a558-48bf-a23c-501edb5289cf__wakuorg_nwaku:latest.log
2025-02-07 03:08:33.649 DEBUG [src.node.waku_node] Starting Node...
2025-02-07 03:08:33.649 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-07 03:08:33.650 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-07 03:08:33.650 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.183.74
2025-02-07 03:08:33.650 DEBUG [src.node.docker_mananger] Generated ports ['10299', '10300', '10301', '10302', '10303']
2025-02-07 03:08:33.650 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-07 03:08:33.651 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-07 03:08:33.651 DEBUG [src.node.waku_node] Using volumes []
2025-02-07 03:08:33.651 DEBUG [src.node.docker_mananger] docker run -i -t -p 10299:10299 -p 10300:10300 -p 10301:10301 -p 10302:10302 -p 10303:10303 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=10301 --rest-port=10299 --tcp-port=10300 --discv5-udp-port=10302 --rest-address=0.0.0.0 --nat=extip:172.18.183.74 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7f63e6feddbcafaabe802d8882ae2eb4d6b35cf2d2bb8046cdd2cdd258e0ef86 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=10303 --metrics-logging=true --relay=true --filter=true
2025-02-07 03:08:33.880 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.183.74 waku 78a9209bd51f08edd193c4c037d41d3b291f10c437b2b0798867f4ef739dc8d8
2025-02-07 03:08:33.929 DEBUG [src.node.docker_mananger] Container started with ID 78a9209bd51f. Setting up logs at ./log/docker/node1_2025-02-07_03-08-33__790ae842-a558-48bf-a23c-501edb5289cf__wakuorg_nwaku:latest.log
2025-02-07 03:08:33.929 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 10299
2025-02-07 03:08:33.930 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-07 03:08:34.423 ERROR [src.node.docker_mananger] Max retries reached for container 4f3b6ee2baa4. Exiting log stream.
2025-02-07 03:08:34.930 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10299/health" -H "Content-Type: application/json" -d 'None'
2025-02-07 03:08:34.933 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-07 03:08:34.933 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-07 03:08:34.933 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10299/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-07 03:08:34.935 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.183.74/tcp/10300/p2p/16Uiu2HAmPCVZ8T4ys4VzHvV84ozsJzdPmwopSTRTp3JY7tH7gihR","/ip4/172.18.183.74/tcp/10301/ws/p2p/16Uiu2HAmPCVZ8T4ys4VzHvV84ozsJzdPmwopSTRTp3JY7tH7gihR"],"enrUri":"enr:-L24QCQmSy3zChROefeFpdA6wB-Ws_ub1sh2QpMI6UC83_GIIvWHs8p6DNTZ71L-vcHKPOvlWZV6nvHkIvME7m_UdXICgmlkgnY0gmlwhKwSt0qKbXVsdGlhZGRyc5YACASsErdKBig8AAoErBK3SgYoPd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDnKblQzWRNTnFA3uv2KzDT1TBq9Rl6Gbn7cHXa-XzHySDdGNwgig8g3VkcIIoPoV3YWt1MgU"}'
2025-02-07 03:08:34.936 INFO [src.node.waku_node] REST service is ready !!
2025-02-07 03:08:34.936 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2025-02-07 03:08:34.942 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-07 03:08:34.942 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-07_03-08-33__790ae842-a558-48bf-a23c-501edb5289cf__wakuorg_go-waku:latest.log
2025-02-07 03:08:34.942 DEBUG [src.node.waku_node] Starting Node...
2025-02-07 03:08:34.942 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-07 03:08:34.943 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-07 03:08:34.944 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.98.187
2025-02-07 03:08:34.944 DEBUG [src.node.docker_mananger] Generated ports ['64127', '64128', '64129', '64130', '64131']
2025-02-07 03:08:34.944 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-07 03:08:34.944 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-07 03:08:34.944 DEBUG [src.node.waku_node] Using volumes []
2025-02-07 03:08:34.944 DEBUG [src.node.docker_mananger] docker run -i -t -p 64127:64127 -p 64128:64128 -p 64129:64129 -p 64130:64130 -p 64131:64131 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=64129 --rest-port=64127 --tcp-port=64128 --discv5-udp-port=64130 --rest-address=0.0.0.0 --nat=extip:172.18.98.187 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fdbd18bd3147e26acabbb783ba621f07dcb8aaa4f8ed67b85141b00c6ddc87ad --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QCQmSy3zChROefeFpdA6wB-Ws_ub1sh2QpMI6UC83_GIIvWHs8p6DNTZ71L-vcHKPOvlWZV6nvHkIvME7m_UdXICgmlkgnY0gmlwhKwSt0qKbXVsdGlhZGRyc5YACASsErdKBig8AAoErBK3SgYoPd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDnKblQzWRNTnFA3uv2KzDT1TBq9Rl6Gbn7cHXa-XzHySDdGNwgig8g3VkcIIoPoV3YWt1MgU --filternode=/ip4/172.18.183.74/tcp/10300/p2p/16Uiu2HAmPCVZ8T4ys4VzHvV84ozsJzdPmwopSTRTp3JY7tH7gihR --pubsub-topic=/waku/2/rs/3/1
2025-02-07 03:08:35.171 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.98.187 waku 2258d717d17b38d6e16c0dde02534eab890fd40e97668a1905d0c018cd9a4c29
2025-02-07 03:08:35.222 DEBUG [src.node.docker_mananger] Container started with ID 2258d717d17b. Setting up logs at ./log/docker/node2_2025-02-07_03-08-33__790ae842-a558-48bf-a23c-501edb5289cf__wakuorg_go-waku:latest.log
2025-02-07 03:08:35.224 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 64127
2025-02-07 03:08:35.224 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-07 03:08:36.224 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64127/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-07 03:08:36.226 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QJTwhFEab4jZgEwUfpQDdBHmsa2y01qtjJn_SJWvN0PiY_U4jivq_p0CmldrDvhpyAz6P6myQ4AZ2a7MigTMSrWGAZTeYXARgmlkgnY0gmlwhKwRAAOCcnOFAAMBAAGJc2VjcDI1NmsxoQOyPSV4zSV22Ea3ZAMSMMQ3q7GuU-4mzNTI_ZnetXQa5IN0Y3CC-oCDdWRwgvqChXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/64128/p2p/16Uiu2HAmQekztsDDCkNJNUQYVGUVG1Ata6XoLdgrxsHyX6chZ7Qw","/ip4/127.0.0.1/tcp/64129/ws/p2p/16Uiu2HAmQekztsDDCkNJNUQYVGUVG1Ata6XoLdgrxsHyX6chZ7Qw","/ip4/172.17.0.3/tcp/64128/p2p/16Uiu2HAmQekztsDDCkNJNUQYVGUVG1Ata6XoLdgrxsHyX6chZ7Qw","/ip4/172.17.0.3/tcp/64129/ws/p2p/16Uiu2HAmQekztsDDCkNJNUQYVGUVG1Ata6XoLdgrxsHyX6chZ7Qw"]}'
2025-02-07 03:08:36.227 INFO [src.node.waku_node] REST service is ready !!
2025-02-07 03:08:36.227 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:64127/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.183.74/tcp/10300/p2p/16Uiu2HAmPCVZ8T4ys4VzHvV84ozsJzdPmwopSTRTp3JY7tH7gihR", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-07 03:08:36.229 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-07 03:08:36.230 DEBUG [src.steps.filter] Running fixture setup: subscribe_main_nodes
2025-02-07 03:08:36.230 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10299/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-07 03:08:36.233 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 03:08:36.234 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:64127/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "37c17b99-9887-46f3-9692-f980126c1fb1", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2025-02-07 03:08:36.239 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"37c17b99-9887-46f3-9692-f980126c1fb1","statusDesc":"OK"}'
2025-02-07 03:08:36.243 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-07 03:08:36.244 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-07 03:08:36.244 DEBUG [src.node.waku_node] Stopping container with id 78a9209bd51f
2025-02-07 03:08:36.850 DEBUG [src.node.waku_node] Container stopped.
2025-02-07 03:08:36.852 DEBUG [src.node.waku_node] Stopping container with id 2258d717d17b
2025-02-07 03:08:37.683 ERROR [src.node.docker_mananger] Max retries reached for container 78a9209bd51f. Exiting log stream.
2025-02-07 03:08:37.717 DEBUG [src.node.waku_node] Container stopped.
2025-02-07 03:08:37.718 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-07 03:08:37.726 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-07 03:08:37.729 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
