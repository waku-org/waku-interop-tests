2025-02-07 03:07:25.513 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-07 03:07:25.514 DEBUG [tests.conftest] Running test: test_filter_subscribe_with_no_content_topic with id: 2025-02-07_03-07-25__742790ec-23c6-4539-8ddd-43065803fcc1
2025-02-07 03:07:25.514 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-07 03:07:25.514 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2025-02-07 03:07:25.515 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2025-02-07 03:07:25.522 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-07 03:07:25.522 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-07_03-07-25__742790ec-23c6-4539-8ddd-43065803fcc1__wakuorg_nwaku:latest.log
2025-02-07 03:07:25.522 DEBUG [src.node.waku_node] Starting Node...
2025-02-07 03:07:25.522 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-07 03:07:25.524 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-07 03:07:25.524 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.57.97
2025-02-07 03:07:25.524 DEBUG [src.node.docker_mananger] Generated ports ['58377', '58378', '58379', '58380', '58381']
2025-02-07 03:07:25.524 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-07 03:07:25.524 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-07 03:07:25.524 DEBUG [src.node.waku_node] Using volumes []
2025-02-07 03:07:25.524 DEBUG [src.node.docker_mananger] docker run -i -t -p 58377:58377 -p 58378:58378 -p 58379:58379 -p 58380:58380 -p 58381:58381 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=58379 --rest-port=58377 --tcp-port=58378 --discv5-udp-port=58380 --rest-address=0.0.0.0 --nat=extip:172.18.57.97 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ef10e9ea90ac7d90dd5ffba7bde3da58559d105e9ff2d8d2dedcd93a8b98e63f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=58381 --metrics-logging=true --relay=true --filter=true
2025-02-07 03:07:25.748 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.57.97 waku b850d504933fea9fe6e471f56387347d0fcc4065053d2b1e90ff6c50be4ce6f8
2025-02-07 03:07:25.798 DEBUG [src.node.docker_mananger] Container started with ID b850d504933f. Setting up logs at ./log/docker/node1_2025-02-07_03-07-25__742790ec-23c6-4539-8ddd-43065803fcc1__wakuorg_nwaku:latest.log
2025-02-07 03:07:25.799 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 58377
2025-02-07 03:07:25.800 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-07 03:07:26.330 ERROR [src.node.docker_mananger] Max retries reached for container 0110c7f6c827. Exiting log stream.
2025-02-07 03:07:26.800 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58377/health" -H "Content-Type: application/json" -d 'None'
2025-02-07 03:07:26.803 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-07 03:07:26.803 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-07 03:07:26.803 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58377/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-07 03:07:26.805 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.57.97/tcp/58378/p2p/16Uiu2HAm5xBknUgn6sGMXZpaY9ASuQjSaa5RWYNArGxz5JvPamWK","/ip4/172.18.57.97/tcp/58379/ws/p2p/16Uiu2HAm5xBknUgn6sGMXZpaY9ASuQjSaa5RWYNArGxz5JvPamWK"],"enrUri":"enr:-L24QB1KYk_McN3wBL16cfVB-C70LVy43MnAXZaXOT4SwC-tHEhpKBeC10NMvNJwKC2AZnW34QwgHRCQoQGg8zuM4_8CgmlkgnY0gmlwhKwSOWGKbXVsdGlhZGRyc5YACASsEjlhBuQKAAoErBI5YQbkC90DgnJzhQADAQAAiXNlY3AyNTZrMaECnGX2BuIVVjCG3b0YC8THgUwnmA51Zx3LZaht1TNt-LyDdGNwguQKg3VkcILkDIV3YWt1MgU"}'
2025-02-07 03:07:26.806 INFO [src.node.waku_node] REST service is ready !!
2025-02-07 03:07:26.806 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2025-02-07 03:07:26.812 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-07 03:07:26.812 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-07_03-07-25__742790ec-23c6-4539-8ddd-43065803fcc1__wakuorg_go-waku:latest.log
2025-02-07 03:07:26.813 DEBUG [src.node.waku_node] Starting Node...
2025-02-07 03:07:26.813 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-07 03:07:26.814 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-07 03:07:26.814 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.0.194
2025-02-07 03:07:26.814 DEBUG [src.node.docker_mananger] Generated ports ['62682', '62683', '62684', '62685', '62686']
2025-02-07 03:07:26.815 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-07 03:07:26.815 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-07 03:07:26.815 DEBUG [src.node.waku_node] Using volumes []
2025-02-07 03:07:26.815 DEBUG [src.node.docker_mananger] docker run -i -t -p 62682:62682 -p 62683:62683 -p 62684:62684 -p 62685:62685 -p 62686:62686 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=62684 --rest-port=62682 --tcp-port=62683 --discv5-udp-port=62685 --rest-address=0.0.0.0 --nat=extip:172.18.0.194 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=82685de09cda9c4c21dfdfbc605b1db3feb6cc60a4354f8e560f9cc1afdd588d --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QB1KYk_McN3wBL16cfVB-C70LVy43MnAXZaXOT4SwC-tHEhpKBeC10NMvNJwKC2AZnW34QwgHRCQoQGg8zuM4_8CgmlkgnY0gmlwhKwSOWGKbXVsdGlhZGRyc5YACASsEjlhBuQKAAoErBI5YQbkC90DgnJzhQADAQAAiXNlY3AyNTZrMaECnGX2BuIVVjCG3b0YC8THgUwnmA51Zx3LZaht1TNt-LyDdGNwguQKg3VkcILkDIV3YWt1MgU --filternode=/ip4/172.18.57.97/tcp/58378/p2p/16Uiu2HAm5xBknUgn6sGMXZpaY9ASuQjSaa5RWYNArGxz5JvPamWK --pubsub-topic=/waku/2/rs/3/1
2025-02-07 03:07:27.042 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.0.194 waku 7fdc13919d750ad27a079dd42bef5eff22e5c731f96884a33f0f5f088651d98a
2025-02-07 03:07:27.107 DEBUG [src.node.docker_mananger] Container started with ID 7fdc13919d75. Setting up logs at ./log/docker/node2_2025-02-07_03-07-25__742790ec-23c6-4539-8ddd-43065803fcc1__wakuorg_go-waku:latest.log
2025-02-07 03:07:27.107 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 62682
2025-02-07 03:07:27.107 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-07 03:07:28.108 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:62682/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-07 03:07:28.110 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QNIMqSvxQfvD0AnB2gm2Q3dw55B7OnwF2TCl5EoBJ-AzTwZFvSYFIQsUH4xMP3wyBo0NCxkljnDJ0qdszG7SUH-GAZTeYGXwgmlkgnY0gmlwhKwRAAOCcnOFAAMBAAGJc2VjcDI1NmsxoQLcXsvSFXrsGVHYsfo6iHOsxmg_OCljkT81soDsTKh-1YN0Y3CC9NuDdWRwgvTdhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/62683/p2p/16Uiu2HAmAFuWdhWHc5Zb9qRhKSzhTpNXzoHEkWwWcyq48JE1xouW","/ip4/127.0.0.1/tcp/62684/ws/p2p/16Uiu2HAmAFuWdhWHc5Zb9qRhKSzhTpNXzoHEkWwWcyq48JE1xouW","/ip4/172.17.0.3/tcp/62683/p2p/16Uiu2HAmAFuWdhWHc5Zb9qRhKSzhTpNXzoHEkWwWcyq48JE1xouW","/ip4/172.17.0.3/tcp/62684/ws/p2p/16Uiu2HAmAFuWdhWHc5Zb9qRhKSzhTpNXzoHEkWwWcyq48JE1xouW"]}'
2025-02-07 03:07:28.110 INFO [src.node.waku_node] REST service is ready !!
2025-02-07 03:07:28.111 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:62682/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.57.97/tcp/58378/p2p/16Uiu2HAm5xBknUgn6sGMXZpaY9ASuQjSaa5RWYNArGxz5JvPamWK", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-07 03:07:28.113 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-07 03:07:28.113 DEBUG [src.steps.filter] Running fixture setup: subscribe_main_nodes
2025-02-07 03:07:28.113 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58377/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-07 03:07:28.116 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 03:07:28.117 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:62682/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "4bd8da6c-09f4-4f3d-b754-428c71003273", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2025-02-07 03:07:28.122 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"4bd8da6c-09f4-4f3d-b754-428c71003273","statusDesc":"OK"}'
2025-02-07 03:07:28.124 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:62682/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "pubsubTopic": "/waku/2/rs/3/1"}'
2025-02-07 03:07:28.126 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"1","statusDesc":"OK"}'
2025-02-07 03:07:28.128 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-07 03:07:28.129 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-07 03:07:28.129 DEBUG [src.node.waku_node] Stopping container with id b850d504933f
2025-02-07 03:07:28.719 DEBUG [src.node.waku_node] Container stopped.
2025-02-07 03:07:28.719 DEBUG [src.node.waku_node] Stopping container with id 7fdc13919d75
2025-02-07 03:07:29.533 ERROR [src.node.docker_mananger] Max retries reached for container b850d504933f. Exiting log stream.
2025-02-07 03:07:29.597 DEBUG [src.node.waku_node] Container stopped.
2025-02-07 03:07:29.600 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-07 03:07:29.603 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-07 03:07:29.606 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
