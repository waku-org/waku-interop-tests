2025-02-07 03:09:07.630 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-07 03:09:07.630 DEBUG [tests.conftest] Running test: test_relay_unsubscribe_from_some_pubsub_topics with id: 2025-02-07_03-09-07__72fc2deb-a89f-4ef7-b8a3-cde85062f767
2025-02-07 03:09:07.630 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-07 03:09:07.630 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-07 03:09:07.631 DEBUG [src.steps.relay] Running fixture setup: setup_main_relay_nodes
2025-02-07 03:09:07.637 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-07 03:09:07.637 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-07_03-09-07__72fc2deb-a89f-4ef7-b8a3-cde85062f767__wakuorg_nwaku:latest.log
2025-02-07 03:09:07.637 DEBUG [src.node.waku_node] Starting Node...
2025-02-07 03:09:07.637 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-07 03:09:07.639 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-07 03:09:07.639 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.126.24
2025-02-07 03:09:07.639 DEBUG [src.node.docker_mananger] Generated ports ['20072', '20073', '20074', '20075', '20076']
2025-02-07 03:09:07.639 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-07 03:09:07.639 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-07 03:09:07.639 DEBUG [src.node.waku_node] Using volumes []
2025-02-07 03:09:07.639 DEBUG [src.node.docker_mananger] docker run -i -t -p 20072:20072 -p 20073:20073 -p 20074:20074 -p 20075:20075 -p 20076:20076 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=20074 --rest-port=20072 --tcp-port=20073 --discv5-udp-port=20075 --rest-address=0.0.0.0 --nat=extip:172.18.126.24 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e9f97abad9acfb44e3dd3edd3adec9fc6fb3b5ecea7fb0c4a33f331f8e64dcac --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=20076 --metrics-logging=true --relay=true
2025-02-07 03:09:07.876 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.126.24 waku 3e5cec48c503b8ef23905b6507cffa18c3b7eb2a458fad6a39b52443db87bee1
2025-02-07 03:09:07.897 ERROR [src.node.docker_mananger] Max retries reached for container 5ea039849a07. Exiting log stream.
2025-02-07 03:09:07.932 DEBUG [src.node.docker_mananger] Container started with ID 3e5cec48c503. Setting up logs at ./log/docker/node1_2025-02-07_03-09-07__72fc2deb-a89f-4ef7-b8a3-cde85062f767__wakuorg_nwaku:latest.log
2025-02-07 03:09:07.933 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 20072
2025-02-07 03:09:07.933 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-07 03:09:08.434 ERROR [src.node.docker_mananger] Max retries reached for container 65a79bf8297b. Exiting log stream.
2025-02-07 03:09:08.933 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:20072/health" -H "Content-Type: application/json" -d 'None'
2025-02-07 03:09:08.936 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-07 03:09:08.936 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-07 03:09:08.937 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:20072/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-07 03:09:08.939 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.126.24/tcp/20073/p2p/16Uiu2HAmUnuProBKtwwgW9QHaV2uen2zzfACRQnAiZSFyXmTb7jb","/ip4/172.18.126.24/tcp/20074/ws/p2p/16Uiu2HAmUnuProBKtwwgW9QHaV2uen2zzfACRQnAiZSFyXmTb7jb"],"enrUri":"enr:-L24QNpJ15ri98a6jmzG-k2FB6vi6EGWrpRrbDmFxoglY1yQGeRNz7c9Ix_fIjqzHTTssYCdeB85lKTtAPB0jOyB2FwCgmlkgnY0gmlwhKwSfhiKbXVsdGlhZGRyc5YACASsEn4YBk5pAAoErBJ-GAZOat0DgnJzhQADAQAAiXNlY3AyNTZrMaED78IIq5a81x5WM35oTPCHC2zThgJag1ay_S80YaVqNG6DdGNwgk5pg3VkcIJOa4V3YWt1MgE"}'
2025-02-07 03:09:08.939 INFO [src.node.waku_node] REST service is ready !!
2025-02-07 03:09:08.945 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-07 03:09:08.945 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-07_03-09-07__72fc2deb-a89f-4ef7-b8a3-cde85062f767__wakuorg_go-waku:latest.log
2025-02-07 03:09:08.945 DEBUG [src.node.waku_node] Starting Node...
2025-02-07 03:09:08.945 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-07 03:09:08.947 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-07 03:09:08.947 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.70.154
2025-02-07 03:09:08.947 DEBUG [src.node.docker_mananger] Generated ports ['37276', '37277', '37278', '37279', '37280']
2025-02-07 03:09:08.947 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-07 03:09:08.947 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-07 03:09:08.947 DEBUG [src.node.waku_node] Using volumes []
2025-02-07 03:09:08.947 DEBUG [src.node.docker_mananger] docker run -i -t -p 37276:37276 -p 37277:37277 -p 37278:37278 -p 37279:37279 -p 37280:37280 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=37278 --rest-port=37276 --tcp-port=37277 --discv5-udp-port=37279 --rest-address=0.0.0.0 --nat=extip:172.18.70.154 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5ab2f835baea205dcacc8059ebfd7a5779e99bffcbef8bd7cd8def4fc5cf2e10 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-L24QNpJ15ri98a6jmzG-k2FB6vi6EGWrpRrbDmFxoglY1yQGeRNz7c9Ix_fIjqzHTTssYCdeB85lKTtAPB0jOyB2FwCgmlkgnY0gmlwhKwSfhiKbXVsdGlhZGRyc5YACASsEn4YBk5pAAoErBJ-GAZOat0DgnJzhQADAQAAiXNlY3AyNTZrMaED78IIq5a81x5WM35oTPCHC2zThgJag1ay_S80YaVqNG6DdGNwgk5pg3VkcIJOa4V3YWt1MgE
2025-02-07 03:09:09.179 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.70.154 waku 6d2d01484dfd9e29549fe7042a9338166577b274b367bfc025c6b1861b1b363a
2025-02-07 03:09:09.229 DEBUG [src.node.docker_mananger] Container started with ID 6d2d01484dfd. Setting up logs at ./log/docker/node2_2025-02-07_03-09-07__72fc2deb-a89f-4ef7-b8a3-cde85062f767__wakuorg_go-waku:latest.log
2025-02-07 03:09:09.231 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 37276
2025-02-07 03:09:09.231 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-07 03:09:10.231 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:37276/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-07 03:09:10.234 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QBM0cPyJ-8HCzOQ5J0xt8H5AgP3x1BH_VjPIz4DlIDXuTJNnFcPIaAyOpUSiQpFl9UIuzUvxifzzX2dB-MuVcNKGAZTeYfTpgmlkgnY0gmlwhKwRAAOCcnODAAMAiXNlY3AyNTZrMaEDY3D-n095tA4hI5hvauvEENo19xCFweftzNa8n0oPUlmDdGNwgpGdg3VkcIKRn4V3YWt1MgE","listenAddresses":["/ip4/127.0.0.1/tcp/37277/p2p/16Uiu2HAmKMAeQTKmgzvEy93Vmkt4jzizV8N8KibEBgDrqPqeFeU8","/ip4/127.0.0.1/tcp/37278/ws/p2p/16Uiu2HAmKMAeQTKmgzvEy93Vmkt4jzizV8N8KibEBgDrqPqeFeU8","/ip4/172.17.0.3/tcp/37277/p2p/16Uiu2HAmKMAeQTKmgzvEy93Vmkt4jzizV8N8KibEBgDrqPqeFeU8","/ip4/172.17.0.3/tcp/37278/ws/p2p/16Uiu2HAmKMAeQTKmgzvEy93Vmkt4jzizV8N8KibEBgDrqPqeFeU8"]}'
2025-02-07 03:09:10.235 INFO [src.node.waku_node] REST service is ready !!
2025-02-07 03:09:10.235 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:37276/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.126.24/tcp/20073/p2p/16Uiu2HAmUnuProBKtwwgW9QHaV2uen2zzfACRQnAiZSFyXmTb7jb", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-07 03:09:10.252 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-07 03:09:10.255 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:20072/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9", "/waku/2/rs/3/25", "/waku/2/rs/3/1000"]'
2025-02-07 03:09:10.277 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 03:09:10.277 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:37276/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9", "/waku/2/rs/3/25", "/waku/2/rs/3/1000"]'
2025-02-07 03:09:10.282 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-07 03:09:10.283 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:20072/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-07 03:09:10.296 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 03:09:10.297 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-07 03:09:10.397 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-07 03:09:10.397 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:20072/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-07 03:09:10.400 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738897750283535872,"ephemeral":false}]'
2025-02-07 03:09:10.402 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-07 03:09:10.402 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:37276/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-07 03:09:10.404 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-07 03:09:11.405 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:20072/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-07 03:09:11.410 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 03:09:11.411 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-07 03:09:11.511 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-07 03:09:11.511 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:20072/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-07 03:09:11.514 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738897751405428480,"ephemeral":false}]'
2025-02-07 03:09:11.516 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-07 03:09:11.516 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:37276/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-07 03:09:11.517 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738897751405428480,"ephemeral":false}]'
2025-02-07 03:09:11.519 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:20072/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-07 03:09:11.523 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 03:09:11.524 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-07 03:09:11.624 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-07 03:09:11.624 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:20072/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-07 03:09:11.627 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738897751519388416,"ephemeral":false}]'
2025-02-07 03:09:11.629 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-07 03:09:11.629 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:37276/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-07 03:09:11.631 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738897751519388416,"ephemeral":false}]'
2025-02-07 03:09:11.632 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:20072/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F9" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-07 03:09:11.637 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 03:09:11.637 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-07 03:09:11.737 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-07 03:09:11.738 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:20072/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F9" -H "Content-Type: application/json" -d 'None'
2025-02-07 03:09:11.740 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738897751632748800,"ephemeral":false}]'
2025-02-07 03:09:11.742 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-07 03:09:11.742 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:37276/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F9" -H "Content-Type: application/json" -d 'None'
2025-02-07 03:09:11.743 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738897751632748800,"ephemeral":false}]'
2025-02-07 03:09:11.745 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:20072/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-07 03:09:11.750 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 03:09:11.750 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-07 03:09:11.850 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-07 03:09:11.850 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:20072/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d 'None'
2025-02-07 03:09:11.853 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738897751745636608,"ephemeral":false}]'
2025-02-07 03:09:11.855 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-07 03:09:11.855 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:37276/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d 'None'
2025-02-07 03:09:11.856 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738897751745636608,"ephemeral":false}]'
2025-02-07 03:09:11.858 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:20072/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-07 03:09:11.863 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 03:09:11.863 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-07 03:09:11.963 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-07 03:09:11.964 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:20072/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d 'None'
2025-02-07 03:09:11.967 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738897751858686976,"ephemeral":false}]'
2025-02-07 03:09:11.968 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-07 03:09:11.968 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:37276/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d 'None'
2025-02-07 03:09:11.970 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738897751858686976,"ephemeral":false}]'
2025-02-07 03:09:11.971 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:20072/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9"]'
2025-02-07 03:09:11.979 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 03:09:11.979 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:37276/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9"]'
2025-02-07 03:09:11.981 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-07 03:09:11.982 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:20072/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-07 03:09:11.986 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:20072/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/3/0'
2025-02-07 03:09:11.986 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:20072/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-07 03:09:11.988 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:20072/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/3/1'
2025-02-07 03:09:11.989 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:20072/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F9" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-07 03:09:11.991 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:20072/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F9. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/3/9'
2025-02-07 03:09:11.991 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:20072/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-07 03:09:11.996 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 03:09:11.996 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-07 03:09:12.096 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-07 03:09:12.096 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:20072/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d 'None'
2025-02-07 03:09:12.099 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738897751991853568,"ephemeral":false}]'
2025-02-07 03:09:12.101 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-07 03:09:12.101 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:37276/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d 'None'
2025-02-07 03:09:12.102 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738897751991853568,"ephemeral":false}]'
2025-02-07 03:09:12.104 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:20072/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-07 03:09:12.108 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-07 03:09:12.108 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-07 03:09:12.209 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-07 03:09:12.209 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:20072/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d 'None'
2025-02-07 03:09:12.211 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738897752104425472,"ephemeral":false}]'
2025-02-07 03:09:12.213 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-07 03:09:12.213 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:37276/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d 'None'
2025-02-07 03:09:12.215 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738897752104425472,"ephemeral":false}]'
2025-02-07 03:09:12.217 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-07 03:09:12.218 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-07 03:09:12.219 DEBUG [src.node.waku_node] Stopping container with id 3e5cec48c503
2025-02-07 03:09:13.433 DEBUG [src.node.waku_node] Container stopped.
2025-02-07 03:09:13.435 DEBUG [src.node.waku_node] Stopping container with id 6d2d01484dfd
2025-02-07 03:09:13.943 DEBUG [src.node.waku_node] Container stopped.
2025-02-07 03:09:13.944 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-07 03:09:13.960 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-07 03:09:13.965 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
