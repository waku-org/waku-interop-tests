[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_multiple_lightpush_nodes with id: 2024-08-29_03-17-37__8aed1a4c-d336-418d-b568-7a3eff97ad63
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-08-29_03-17-37__8aed1a4c-d336-418d-b568-7a3eff97ad63__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.181.236
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['47330', '47331', '47332', '47333', '47334']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 47330:47330 -p 47331:47331 -p 47332:47332 -p 47333:47333 -p 47334:47334 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=47332 --rest-port=47330 --tcp-port=47331 --discv5-udp-port=47333 --rest-address=0.0.0.0 --nat=extip:172.18.181.236 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=438fcc670d6f3eb4683b1e67e1ed87eec3fb9f0b24b067a2ffcdbe9fbaa15d8e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=47334 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.181.236 waku 153a738d6f339c90427e7d89c490730efae9ef3bbfb654ba8a64fc70e06da30e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 153a738d6f33. Setting up logs at ./log/docker/receiving_node1_2024-08-29_03-17-37__8aed1a4c-d336-418d-b568-7a3eff97ad63__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 47330
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47330/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47330/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.181.236/tcp/47331/p2p/16Uiu2HAmQHs8prcitYnDJB8Co5BqREcHdrfmAYJLUwTst6T6WoiC","/ip4/172.18.181.236/tcp/47332/ws/p2p/16Uiu2HAmQHs8prcitYnDJB8Co5BqREcHdrfmAYJLUwTst6T6WoiC"],"enrUri":"enr:-LO4QBUvHUz5SE8KJ9lE4tp68PmBFH8HyONRxcPO7KsuvBrxSp_rufEaPcXwPcTEP9gQ7wjqcUBbuTsRRW57MO_C7M0BgmlkgnY0gmlwhKwSteyKbXVsdGlhZGRyc4wACgSsErXsBrjk3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOs4uNiLM1tMeOLvhs1pdT1rV4ry8xwxr5nJMiidmP8pYN0Y3CCuOODdWRwgrjlhXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-08-29_03-17-37__8aed1a4c-d336-418d-b568-7a3eff97ad63__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.82.170
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['16465', '16466', '16467', '16468', '16469']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 16465:16465 -p 16466:16466 -p 16467:16467 -p 16468:16468 -p 16469:16469 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=16467 --rest-port=16465 --tcp-port=16466 --discv5-udp-port=16468 --rest-address=0.0.0.0 --nat=extip:172.18.82.170 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d8f49bcca4633fa1a889de41fbbbab8d15479fc476a1a657b39ccfdedbcac761 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=16469 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.82.170 waku 774e63afcd4da4b1344c9245087dec3e9597a4731e1f13bae468349afe55a11c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 774e63afcd4d. Setting up logs at ./log/docker/receiving_node2_2024-08-29_03-17-37__8aed1a4c-d336-418d-b568-7a3eff97ad63__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 16465
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16465/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16465/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.82.170/tcp/16466/p2p/16Uiu2HAmDBDxor4F3ayhADrQkE36yKPc2u4B3agbbbgoZD18CnnJ","/ip4/172.18.82.170/tcp/16467/ws/p2p/16Uiu2HAmDBDxor4F3ayhADrQkE36yKPc2u4B3agbbbgoZD18CnnJ"],"enrUri":"enr:-LO4QL92s2ykZpNO8HltPxN-r5Ar8dirnd-D43CupI1T8qRmaMMl-xPWTME8wBXiuKAGbR_MFt-DMyLr1YAMS4EBnD4BgmlkgnY0gmlwhKwSUqqKbXVsdGlhZGRyc4wACgSsElKqBkBT3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMHvtDbmWfCneV-Dt3Wu2eX-uo7MrW6wHCcixHdowhLv4N0Y3CCQFKDdWRwgkBUhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16465/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.181.236/tcp/47331/p2p/16Uiu2HAmQHs8prcitYnDJB8Co5BqREcHdrfmAYJLUwTst6T6WoiC"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-08-29_03-17-37__8aed1a4c-d336-418d-b568-7a3eff97ad63__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.11.207
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['50094', '50095', '50096', '50097', '50098']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 50094:50094 -p 50095:50095 -p 50096:50096 -p 50097:50097 -p 50098:50098 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=50096 --rest-port=50094 --tcp-port=50095 --discv5-udp-port=50097 --rest-address=0.0.0.0 --nat=extip:172.18.11.207 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ddda7443d3def13e4b5d0e458d10cc4aa7b1091b2d4f55dedbad6f4d8749df74 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-LO4QBUvHUz5SE8KJ9lE4tp68PmBFH8HyONRxcPO7KsuvBrxSp_rufEaPcXwPcTEP9gQ7wjqcUBbuTsRRW57MO_C7M0BgmlkgnY0gmlwhKwSteyKbXVsdGlhZGRyc4wACgSsErXsBrjk3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOs4uNiLM1tMeOLvhs1pdT1rV4ry8xwxr5nJMiidmP8pYN0Y3CCuOODdWRwgrjlhXdha3UyCQ --lightpushnode=/ip4/172.18.181.236/tcp/47331/p2p/16Uiu2HAmQHs8prcitYnDJB8Co5BqREcHdrfmAYJLUwTst6T6WoiC --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.11.207 waku 4e6f743c75fa253ed16e804eab9a3e7c35785c7ff88bc974c77006fdce80f9e7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 4e6f743c75fa. Setting up logs at ./log/docker/lightpush_node1_2024-08-29_03-17-37__8aed1a4c-d336-418d-b568-7a3eff97ad63__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 50094
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50094/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QLbJqAFt_Hi9ka0nmWr_LKLZ_VttIdKUbie723v_wLBHIf9g1E_bhLo6JMLA4kzvSmla3UfnjJxB4WKOpaPQd1GGAZGcI4-mgmlkgnY0gmlwhKwRAAWJc2VjcDI1NmsxoQNRXNToNhu5i8Vu6_rDkHmYsE8gcNdwnou0RgcHgMNNo4N0Y3CCw6-DdWRwgsOxhXdha3UyCA","listenAddresses":["/ip4/127.0.0.1/tcp/50095/p2p/16Uiu2HAmJ8bUVy58vq9d2pZ4GoRxtLj8zVvYudEhR3EbemsAh53G","/ip4/127.0.0.1/tcp/50096/ws/p2p/16Uiu2HAmJ8bUVy58vq9d2pZ4GoRxtLj8zVvYudEhR3EbemsAh53G","/ip4/172.17.0.5/tcp/50095/p2p/16Uiu2HAmJ8bUVy58vq9d2pZ4GoRxtLj8zVvYudEhR3EbemsAh53G","/ip4/172.17.0.5/tcp/50096/ws/p2p/16Uiu2HAmJ8bUVy58vq9d2pZ4GoRxtLj8zVvYudEhR3EbemsAh53G"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50094/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.181.236/tcp/47331/p2p/16Uiu2HAmQHs8prcitYnDJB8Co5BqREcHdrfmAYJLUwTst6T6WoiC", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50094/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.82.170/tcp/16466/p2p/16Uiu2HAmDBDxor4F3ayhADrQkE36yKPc2u4B3agbbbgoZD18CnnJ", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node2_2024-08-29_03-17-37__8aed1a4c-d336-418d-b568-7a3eff97ad63__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.53.1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['10658', '10659', '10660', '10661', '10662']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 10658:10658 -p 10659:10659 -p 10660:10660 -p 10661:10661 -p 10662:10662 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=10660 --rest-port=10658 --tcp-port=10659 --discv5-udp-port=10661 --rest-address=0.0.0.0 --nat=extip:172.18.53.1 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b8fc99f2e2f5fb58edcae01662568a72171c4e498868c6a5c4d75cfe93c94cf0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=10662 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QBUvHUz5SE8KJ9lE4tp68PmBFH8HyONRxcPO7KsuvBrxSp_rufEaPcXwPcTEP9gQ7wjqcUBbuTsRRW57MO_C7M0BgmlkgnY0gmlwhKwSteyKbXVsdGlhZGRyc4wACgSsErXsBrjk3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOs4uNiLM1tMeOLvhs1pdT1rV4ry8xwxr5nJMiidmP8pYN0Y3CCuOODdWRwgrjlhXdha3UyCQ --lightpushnode=/ip4/172.18.181.236/tcp/47331/p2p/16Uiu2HAmQHs8prcitYnDJB8Co5BqREcHdrfmAYJLUwTst6T6WoiC --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.53.1 waku 1ac72a8c95c82cdb8b0a5f63a41306d95ea8c7964983ba96cd65e611b0505842
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 1ac72a8c95c8. Setting up logs at ./log/docker/lightpush_node2_2024-08-29_03-17-37__8aed1a4c-d336-418d-b568-7a3eff97ad63__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 10658
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10658/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10658/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.53.1/tcp/10659/p2p/16Uiu2HAmK9bUcVkP23hqaWjdFhnvHRhyBiGW7wUGNbrrhupWfsUp","/ip4/172.18.53.1/tcp/10660/ws/p2p/16Uiu2HAmK9bUcVkP23hqaWjdFhnvHRhyBiGW7wUGNbrrhupWfsUp"],"enrUri":"enr:-LO4QEGIhz0UXyeXdoMzkAUCiGO337ye1YcnTAsYsFAmWWkRe2U5MWWIs-4APjmNpf2R8-3WuU6zjALPVuZNHoHBVrMBgmlkgnY0gmlwhKwSNQGKbXVsdGlhZGRyc4wACgSsEjUBBimk3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNgehoCVpvllJ9DZawtdpOrA6TdrXgYif5d9ECCWaAgdYN0Y3CCKaODdWRwgimlhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10658/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.181.236/tcp/47331/p2p/16Uiu2HAmQHs8prcitYnDJB8Co5BqREcHdrfmAYJLUwTst6T6WoiC"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10658/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.82.170/tcp/16466/p2p/16Uiu2HAmDBDxor4F3ayhADrQkE36yKPc2u4B3agbbbgoZD18CnnJ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node3_2024-08-29_03-17-37__8aed1a4c-d336-418d-b568-7a3eff97ad63__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.127.66
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['20605', '20606', '20607', '20608', '20609']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 20605:20605 -p 20606:20606 -p 20607:20607 -p 20608:20608 -p 20609:20609 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=20607 --rest-port=20605 --tcp-port=20606 --discv5-udp-port=20608 --rest-address=0.0.0.0 --nat=extip:172.18.127.66 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c3fa87d01fec5ebec9aca9aa2ebe44dd8eeb60ce68d9aecc4edac760abca69aa --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-LO4QBUvHUz5SE8KJ9lE4tp68PmBFH8HyONRxcPO7KsuvBrxSp_rufEaPcXwPcTEP9gQ7wjqcUBbuTsRRW57MO_C7M0BgmlkgnY0gmlwhKwSteyKbXVsdGlhZGRyc4wACgSsErXsBrjk3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOs4uNiLM1tMeOLvhs1pdT1rV4ry8xwxr5nJMiidmP8pYN0Y3CCuOODdWRwgrjlhXdha3UyCQ --lightpushnode=/ip4/172.18.181.236/tcp/47331/p2p/16Uiu2HAmQHs8prcitYnDJB8Co5BqREcHdrfmAYJLUwTst6T6WoiC --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.127.66 waku 190c06a8dce6c21a576bbb025059f85a8cc1987a2569d07d19a7ad8a0daf497e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 190c06a8dce6. Setting up logs at ./log/docker/lightpush_node3_2024-08-29_03-17-37__8aed1a4c-d336-418d-b568-7a3eff97ad63__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 20605
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20605/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QDZ6ST1085ACtOpOfk21Q3wVTVLQ5uMwZ9qedahhxalXFXEqR-rkfuUPTsADZqYNjN4iUaRXu_3XFSZtBaI7nS-GAZGcI53AgmlkgnY0gmlwhKwRAAiJc2VjcDI1NmsxoQLG6kVpTCI8-G3gIduiek4fCK_4w1BjaGNCxYvaB-1qB4N0Y3CCUH6DdWRwglCAhXdha3UyCA","listenAddresses":["/ip4/127.0.0.1/tcp/20606/p2p/16Uiu2HAm8p9trA9oNm3spjydPRHUmH5tdxSwTt2ZWNTxP1DrPS3G","/ip4/127.0.0.1/tcp/20607/ws/p2p/16Uiu2HAm8p9trA9oNm3spjydPRHUmH5tdxSwTt2ZWNTxP1DrPS3G","/ip4/172.17.0.8/tcp/20606/p2p/16Uiu2HAm8p9trA9oNm3spjydPRHUmH5tdxSwTt2ZWNTxP1DrPS3G","/ip4/172.17.0.8/tcp/20607/ws/p2p/16Uiu2HAm8p9trA9oNm3spjydPRHUmH5tdxSwTt2ZWNTxP1DrPS3G"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20605/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.181.236/tcp/47331/p2p/16Uiu2HAmQHs8prcitYnDJB8Co5BqREcHdrfmAYJLUwTst6T6WoiC", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20605/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.82.170/tcp/16466/p2p/16Uiu2HAmDBDxor4F3ayhADrQkE36yKPc2u4B3agbbbgoZD18CnnJ", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node4_2024-08-29_03-17-37__8aed1a4c-d336-418d-b568-7a3eff97ad63__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.140.215
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['44256', '44257', '44258', '44259', '44260']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 44256:44256 -p 44257:44257 -p 44258:44258 -p 44259:44259 -p 44260:44260 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=44258 --rest-port=44256 --tcp-port=44257 --discv5-udp-port=44259 --rest-address=0.0.0.0 --nat=extip:172.18.140.215 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5e4bf098de03a9eeccdc46f331aed3defd6313628dcac1b533edb6bf3f97febe --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=44260 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QBUvHUz5SE8KJ9lE4tp68PmBFH8HyONRxcPO7KsuvBrxSp_rufEaPcXwPcTEP9gQ7wjqcUBbuTsRRW57MO_C7M0BgmlkgnY0gmlwhKwSteyKbXVsdGlhZGRyc4wACgSsErXsBrjk3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOs4uNiLM1tMeOLvhs1pdT1rV4ry8xwxr5nJMiidmP8pYN0Y3CCuOODdWRwgrjlhXdha3UyCQ --lightpushnode=/ip4/172.18.181.236/tcp/47331/p2p/16Uiu2HAmQHs8prcitYnDJB8Co5BqREcHdrfmAYJLUwTst6T6WoiC --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.140.215 waku 7a50d117941a25c8da0c6461cade47a300a59d602b0dc9af5d94ec4566dbb4da
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 7a50d117941a. Setting up logs at ./log/docker/lightpush_node4_2024-08-29_03-17-37__8aed1a4c-d336-418d-b568-7a3eff97ad63__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 44256
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44256/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44256/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.140.215/tcp/44257/p2p/16Uiu2HAm1jGUuv3y4t7H8V2fkobEAMVSbzC3ZyNPT5f4QKC89CT3","/ip4/172.18.140.215/tcp/44258/ws/p2p/16Uiu2HAm1jGUuv3y4t7H8V2fkobEAMVSbzC3ZyNPT5f4QKC89CT3"],"enrUri":"enr:-LO4QFNWooAwyKPlgq3PvrNxBH-HROWXInLtkiI2DL-ULrQbL3G6qTOtiwvbhEYp9se7YMRxkanTINglLXHkOsnJ0RUBgmlkgnY0gmlwhKwSjNeKbXVsdGlhZGRyc4wACgSsEozXBqzi3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJdqAHFbYJAzOsyPGB4pz3gyDb5K6iCjnH4e3c_XniSAoN0Y3CCrOGDdWRwgqzjhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44256/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.181.236/tcp/47331/p2p/16Uiu2HAmQHs8prcitYnDJB8Co5BqREcHdrfmAYJLUwTst6T6WoiC"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44256/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.82.170/tcp/16466/p2p/16Uiu2HAmDBDxor4F3ayhADrQkE36yKPc2u4B3agbbbgoZD18CnnJ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47330/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16465/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50094/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1724901468404354048}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47330/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724901468404354048,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16465/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724901468404354048,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10658/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1724901468523793920}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47330/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724901468523793920,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16465/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724901468523793920,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20605/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1724901468641543424}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47330/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724901468641543424,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16465/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724901468641543424,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44256/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1724901468763608064}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47330/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724901468763608064,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16465/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724901468763608064,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 153a738d6f33
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 774e63afcd4d
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 4e6f743c75fa
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 1ac72a8c95c8
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 190c06a8dce6
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 7a50d117941a
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.