[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_get_message_after_one_peer_was_stopped with id: 2024-08-29_03-14-06__3cd62a2b-43ef-44e5-840f-44a6fd8ed0ac
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-08-29_03-14-06__3cd62a2b-43ef-44e5-840f-44a6fd8ed0ac__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.161.191
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['46785', '46786', '46787', '46788', '46789']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 46785:46785 -p 46786:46786 -p 46787:46787 -p 46788:46788 -p 46789:46789 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=46787 --rest-port=46785 --tcp-port=46786 --discv5-udp-port=46788 --rest-address=0.0.0.0 --nat=extip:172.18.161.191 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=03c4fb751c89bfda2afdadab0b0bcde644ed2aaf979e1f87ec62c5c3537dfa1b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=46789 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.161.191 waku 98b4aaa168344c7b10579e2523fbbaf298de740a514ec3766e8ad3a9577c21cc
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 98b4aaa16834. Setting up logs at ./log/docker/node1_2024-08-29_03-14-06__3cd62a2b-43ef-44e5-840f-44a6fd8ed0ac__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 46785
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46785/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46785/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.161.191/tcp/46786/p2p/16Uiu2HAmDkyXjCdKdYBeNCM7kNUk2REZsZZ3sEiqCQbE4WVajMHd","/ip4/172.18.161.191/tcp/46787/ws/p2p/16Uiu2HAmDkyXjCdKdYBeNCM7kNUk2REZsZZ3sEiqCQbE4WVajMHd"],"enrUri":"enr:-LO4QACnjV35gRmTU7WPriAcLuPlcaUACOj87rW0xNlb9xpOLLpTplVTCjhxQEoVILL8fDDSKUWcH2QAPM16mMv3iBMBgmlkgnY0gmlwhKwSob-KbXVsdGlhZGRyc4wACgSsEqG_BrbD3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMQZD6cfDR0FnAUKGUYEz21Cz8Kb4b-zlmBmW0YCVFLdIN0Y3CCtsKDdWRwgrbEhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-08-29_03-14-06__3cd62a2b-43ef-44e5-840f-44a6fd8ed0ac__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.105.221
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['31882', '31883', '31884', '31885', '31886']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 31882:31882 -p 31883:31883 -p 31884:31884 -p 31885:31885 -p 31886:31886 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=31884 --rest-port=31882 --tcp-port=31883 --discv5-udp-port=31885 --rest-address=0.0.0.0 --nat=extip:172.18.105.221 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5d6bbd87bea4cc039edecc80e7ba6d0000fb6adadcfa9c3e2d0b7aa09a31de7d --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-LO4QACnjV35gRmTU7WPriAcLuPlcaUACOj87rW0xNlb9xpOLLpTplVTCjhxQEoVILL8fDDSKUWcH2QAPM16mMv3iBMBgmlkgnY0gmlwhKwSob-KbXVsdGlhZGRyc4wACgSsEqG_BrbD3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMQZD6cfDR0FnAUKGUYEz21Cz8Kb4b-zlmBmW0YCVFLdIN0Y3CCtsKDdWRwgrbEhXdha3UyBQ --filternode=/ip4/172.18.161.191/tcp/46786/p2p/16Uiu2HAmDkyXjCdKdYBeNCM7kNUk2REZsZZ3sEiqCQbE4WVajMHd
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.105.221 waku 02d588f0ba53cf7aca20e8c382d970f91ca503658fa3bdb8f9fe1fe1848a6d45
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 02d588f0ba53. Setting up logs at ./log/docker/node2_2024-08-29_03-14-06__3cd62a2b-43ef-44e5-840f-44a6fd8ed0ac__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 31882
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31882/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QBFBbju1JqH0TP7eize03FT1Or6hcbCRQLn6tMDGdxtHS3jJgAfmikD_AtcrPfexgkzym_nCMNRMnleXfrJtvviGAZGcIE1-gmlkgnY0gmlwhKwRAAmJc2VjcDI1NmsxoQJp1ByPtDKNCO9FCD-C_IUlH-NJrdJ72tIMQSBicuAOD4N0Y3CCfIuDdWRwgnyNhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/31883/p2p/16Uiu2HAm2YnP3JdKudtQFusCejvpzNzsTFgSezBrJYu9vWVqhtFx","/ip4/127.0.0.1/tcp/31884/ws/p2p/16Uiu2HAm2YnP3JdKudtQFusCejvpzNzsTFgSezBrJYu9vWVqhtFx","/ip4/172.17.0.9/tcp/31883/p2p/16Uiu2HAm2YnP3JdKudtQFusCejvpzNzsTFgSezBrJYu9vWVqhtFx","/ip4/172.17.0.9/tcp/31884/ws/p2p/16Uiu2HAm2YnP3JdKudtQFusCejvpzNzsTFgSezBrJYu9vWVqhtFx"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31882/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.161.191/tcp/46786/p2p/16Uiu2HAmDkyXjCdKdYBeNCM7kNUk2REZsZZ3sEiqCQbE4WVajMHd", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-08-29_03-14-06__3cd62a2b-43ef-44e5-840f-44a6fd8ed0ac__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.199.120
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['16288', '16289', '16290', '16291', '16292']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 16288:16288 -p 16289:16289 -p 16290:16290 -p 16291:16291 -p 16292:16292 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=16290 --rest-port=16288 --tcp-port=16289 --discv5-udp-port=16291 --rest-address=0.0.0.0 --nat=extip:172.18.199.120 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d0f596c8752c0c1addedd6a243ae31b1abd2faf9c5cbe08ebbe2e25bf2922ada --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=16292 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QACnjV35gRmTU7WPriAcLuPlcaUACOj87rW0xNlb9xpOLLpTplVTCjhxQEoVILL8fDDSKUWcH2QAPM16mMv3iBMBgmlkgnY0gmlwhKwSob-KbXVsdGlhZGRyc4wACgSsEqG_BrbD3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMQZD6cfDR0FnAUKGUYEz21Cz8Kb4b-zlmBmW0YCVFLdIN0Y3CCtsKDdWRwgrbEhXdha3UyBQ --filternode=/ip4/172.18.161.191/tcp/46786/p2p/16Uiu2HAmDkyXjCdKdYBeNCM7kNUk2REZsZZ3sEiqCQbE4WVajMHd
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.199.120 waku ec035f6227761487e345868edabbe19edc467def31bcdf9875e33b5ef9a84cfe
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID ec035f622776. Setting up logs at ./log/docker/node3_2024-08-29_03-14-06__3cd62a2b-43ef-44e5-840f-44a6fd8ed0ac__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 16288
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16288/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16288/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.199.120/tcp/16289/p2p/16Uiu2HAmCXXj2VjGsQS9ysEa4o43NRsibV3dSkkc42R6LeQuKM7V","/ip4/172.18.199.120/tcp/16290/ws/p2p/16Uiu2HAmCXXj2VjGsQS9ysEa4o43NRsibV3dSkkc42R6LeQuKM7V"],"enrUri":"enr:-LO4QCnSh2hmIUHcDMGdlnPBIwTwTLohl2riE7-howsMc2khO_CB2gRQQ7r7qLoOEHSpqYJXKP65ZDfPMJe7Ao-T5mYBgmlkgnY0gmlwhKwSx3iKbXVsdGlhZGRyc4wACgSsEsd4Bj-i3QOCcnOFAAMBAACJc2VjcDI1NmsxoQL-FtQ_g4DO1y5i491BlsdUeLQXWWX9zO-aBmxJdRnHeIN0Y3CCP6GDdWRwgj-jhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16288/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.161.191/tcp/46786/p2p/16Uiu2HAmDkyXjCdKdYBeNCM7kNUk2REZsZZ3sEiqCQbE4WVajMHd"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-08-29_03-14-06__3cd62a2b-43ef-44e5-840f-44a6fd8ed0ac__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.156.222
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['62635', '62636', '62637', '62638', '62639']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 62635:62635 -p 62636:62636 -p 62637:62637 -p 62638:62638 -p 62639:62639 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=62637 --rest-port=62635 --tcp-port=62636 --discv5-udp-port=62638 --rest-address=0.0.0.0 --nat=extip:172.18.156.222 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ebda6378760de0ae3e0edadb919c8cce4aba1e98bf2c1fcbfca4c5fbfcafea02 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-LO4QACnjV35gRmTU7WPriAcLuPlcaUACOj87rW0xNlb9xpOLLpTplVTCjhxQEoVILL8fDDSKUWcH2QAPM16mMv3iBMBgmlkgnY0gmlwhKwSob-KbXVsdGlhZGRyc4wACgSsEqG_BrbD3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMQZD6cfDR0FnAUKGUYEz21Cz8Kb4b-zlmBmW0YCVFLdIN0Y3CCtsKDdWRwgrbEhXdha3UyBQ --filternode=/ip4/172.18.161.191/tcp/46786/p2p/16Uiu2HAmDkyXjCdKdYBeNCM7kNUk2REZsZZ3sEiqCQbE4WVajMHd
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.156.222 waku 5d8973cf0cb6d04323612fd840d14cf4aaaacbb0791c059525fe61ea0b199ffa
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 5d8973cf0cb6. Setting up logs at ./log/docker/node4_2024-08-29_03-14-06__3cd62a2b-43ef-44e5-840f-44a6fd8ed0ac__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 62635
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62635/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QIZkAfFmbaJLRaNyLzKGVh9ChyvAiEYfHHcK0XdcQp8tGla94rqcP843DWFuqGRWKlndzGDWdvvQZskNIIUNanuGAZGcIFoGgmlkgnY0gmlwhKwRAAyJc2VjcDI1NmsxoQOCKymGTs9MkoMD9jtPoafLdd-2vEY10PVYpOfhEvuVloN0Y3CC9KyDdWRwgvSuhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/62636/p2p/16Uiu2HAmMR7XMhQoGtt6WuEs5wgSyRa4GBifvNWpSFKovgBCN57s","/ip4/127.0.0.1/tcp/62637/ws/p2p/16Uiu2HAmMR7XMhQoGtt6WuEs5wgSyRa4GBifvNWpSFKovgBCN57s","/ip4/172.17.0.12/tcp/62636/p2p/16Uiu2HAmMR7XMhQoGtt6WuEs5wgSyRa4GBifvNWpSFKovgBCN57s","/ip4/172.17.0.12/tcp/62637/ws/p2p/16Uiu2HAmMR7XMhQoGtt6WuEs5wgSyRa4GBifvNWpSFKovgBCN57s"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62635/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.161.191/tcp/46786/p2p/16Uiu2HAmDkyXjCdKdYBeNCM7kNUk2REZsZZ3sEiqCQbE4WVajMHd", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-08-29_03-14-06__3cd62a2b-43ef-44e5-840f-44a6fd8ed0ac__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.81.31
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['47523', '47524', '47525', '47526', '47527']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 47523:47523 -p 47524:47524 -p 47525:47525 -p 47526:47526 -p 47527:47527 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=47525 --rest-port=47523 --tcp-port=47524 --discv5-udp-port=47526 --rest-address=0.0.0.0 --nat=extip:172.18.81.31 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f9d0e9bad2ef829db6adedebd50f3d327bec1cb8b34269bedf9e7456fa864fe5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=47527 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QACnjV35gRmTU7WPriAcLuPlcaUACOj87rW0xNlb9xpOLLpTplVTCjhxQEoVILL8fDDSKUWcH2QAPM16mMv3iBMBgmlkgnY0gmlwhKwSob-KbXVsdGlhZGRyc4wACgSsEqG_BrbD3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMQZD6cfDR0FnAUKGUYEz21Cz8Kb4b-zlmBmW0YCVFLdIN0Y3CCtsKDdWRwgrbEhXdha3UyBQ --filternode=/ip4/172.18.161.191/tcp/46786/p2p/16Uiu2HAmDkyXjCdKdYBeNCM7kNUk2REZsZZ3sEiqCQbE4WVajMHd
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.81.31 waku 88dc8e0e6ae77046661e96a8d70562b3680f1fb86971ff79eac1ab1ce647dda2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 88dc8e0e6ae7. Setting up logs at ./log/docker/node5_2024-08-29_03-14-06__3cd62a2b-43ef-44e5-840f-44a6fd8ed0ac__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 47523
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47523/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47523/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.81.31/tcp/47524/p2p/16Uiu2HAm6NdG43xKyXQ1ZBZfr35x56NNQ2TuRYEHkcgMS9CzFp4P","/ip4/172.18.81.31/tcp/47525/ws/p2p/16Uiu2HAm6NdG43xKyXQ1ZBZfr35x56NNQ2TuRYEHkcgMS9CzFp4P"],"enrUri":"enr:-LO4QLtg39_ICxRtYmXYwZRvgRpK2jF1l2B-yDVs9evPggL9cBMcSBDORznzOWo1s6T4WRTs9uKal1ffhFRM3y25bq8BgmlkgnY0gmlwhKwSUR-KbXVsdGlhZGRyc4wACgSsElEfBrml3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKiqL0XTZIuSSLaEivqa7zI0fsZfoJy1KmMlE9wnuH1gIN0Y3CCuaSDdWRwgrmmhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47523/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.161.191/tcp/46786/p2p/16Uiu2HAmDkyXjCdKdYBeNCM7kNUk2REZsZZ3sEiqCQbE4WVajMHd"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46785/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31882/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "39e0422a-ea8f-47b0-bb62-96eb0270bd40", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"39e0422a-ea8f-47b0-bb62-96eb0270bd40","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16288/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "5d269f51-0b16-4fe8-b5ea-bcd0d9e0b69b", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"5d269f51-0b16-4fe8-b5ea-bcd0d9e0b69b","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62635/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "ac336342-1eb8-4e82-9c37-fd96223880af", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"ac336342-1eb8-4e82-9c37-fd96223880af","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47523/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "ae5acc06-9b31-4b03-b9e8-972836db0a26", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"ae5acc06-9b31-4b03-b9e8-972836db0a26","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46785/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31882/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1724901254571067648,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16288/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1724901254571067648,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_4:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62635/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1724901254571067648,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47523/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1724901254571067648,"ephemeral":false}]'
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 02d588f0ba53
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46785/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16288/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1724901256184975360,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_3:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62635/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1724901256184975360,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47523/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1724901256184975360,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 98b4aaa16834
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id ec035f622776
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 5d8973cf0cb6
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 88dc8e0e6ae7
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:114 Found matches for keyword 'unreachable': ['DBG 2024-08-29 03:14:19.242+00:00 Dialing failed                             topics="libp2p dialer" tid=1 file=dialer.nim:68 err="(113) Host is unreachable" peerId=16U*VqhtFx']
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_get_message_after_one_peer_was_stopped with id: 2024-08-29_03-14-29__dda53cf3-f641-4566-bb5a-9a44c2b700e4
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-08-29_03-14-29__dda53cf3-f641-4566-bb5a-9a44c2b700e4__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.225.230
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['56258', '56259', '56260', '56261', '56262']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 56258:56258 -p 56259:56259 -p 56260:56260 -p 56261:56261 -p 56262:56262 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=56260 --rest-port=56258 --tcp-port=56259 --discv5-udp-port=56261 --rest-address=0.0.0.0 --nat=extip:172.18.225.230 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=daf14eaba71840d4a47aac50bf6717c85137ac1ae134440c4ff2fc36238fb711 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=56262 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.225.230 waku e48cf9de0d06fc9b2046491ede3b123403032b1870781ab81517070eb6d66728
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID e48cf9de0d06. Setting up logs at ./log/docker/node1_2024-08-29_03-14-29__dda53cf3-f641-4566-bb5a-9a44c2b700e4__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 56258
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56258/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56258/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.225.230/tcp/56259/p2p/16Uiu2HAmJUR2sGZiNf7Ycni8Rnu5LjXVzJVv9rgkjB2WcYaHXXJM","/ip4/172.18.225.230/tcp/56260/ws/p2p/16Uiu2HAmJUR2sGZiNf7Ycni8Rnu5LjXVzJVv9rgkjB2WcYaHXXJM"],"enrUri":"enr:-LO4QN7_fANsottxFamldLYUozxgdECc11u2M7tZQM1t3V_hdr-XxdkA_DFVpKBZ6lB6nR2kd1IUa_R44DXxgCZdf40BgmlkgnY0gmlwhKwS4eaKbXVsdGlhZGRyc4wACgSsEuHmBtvE3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNWcKQfjWvQIInMPR9nlPZdzk1c-iVyL_83bGDerZmJtoN0Y3CC28ODdWRwgtvFhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-08-29_03-14-29__dda53cf3-f641-4566-bb5a-9a44c2b700e4__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.177.251
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['48335', '48336', '48337', '48338', '48339']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 48335:48335 -p 48336:48336 -p 48337:48337 -p 48338:48338 -p 48339:48339 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=48337 --rest-port=48335 --tcp-port=48336 --discv5-udp-port=48338 --rest-address=0.0.0.0 --nat=extip:172.18.177.251 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3cb214fa546c6ebd6be50947a5f3cbbed9dacbc02fc6bf1e4581dd6fc7a3a212 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-LO4QN7_fANsottxFamldLYUozxgdECc11u2M7tZQM1t3V_hdr-XxdkA_DFVpKBZ6lB6nR2kd1IUa_R44DXxgCZdf40BgmlkgnY0gmlwhKwS4eaKbXVsdGlhZGRyc4wACgSsEuHmBtvE3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNWcKQfjWvQIInMPR9nlPZdzk1c-iVyL_83bGDerZmJtoN0Y3CC28ODdWRwgtvFhXdha3UyBQ --filternode=/ip4/172.18.225.230/tcp/56259/p2p/16Uiu2HAmJUR2sGZiNf7Ycni8Rnu5LjXVzJVv9rgkjB2WcYaHXXJM
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.177.251 waku c53a377737b99839ad826f8826e321585da4a8a7748706e8f1a75b8bd44d712c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID c53a377737b9. Setting up logs at ./log/docker/node2_2024-08-29_03-14-29__dda53cf3-f641-4566-bb5a-9a44c2b700e4__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 48335
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48335/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QOvmws2TvBKOPtcki8X3C7X2IiB0bFitiwH52TQMErBUD1yQPBu29kfTGl87s6Gr117K0PVd3arjuoWZLJam3peGAZGcIKesgmlkgnY0gmlwhKwRAAeJc2VjcDI1NmsxoQPoRdgV2xu6h-Q13nuUPIWSJ8j1MQTVrDt8VIBo9r-JjoN0Y3CCvNCDdWRwgrzShXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/48336/p2p/16Uiu2HAmUHghxW2AKpj8dgz4UWADzhgSoC3XmKG7QBuyhfWW9qAM","/ip4/127.0.0.1/tcp/48337/ws/p2p/16Uiu2HAmUHghxW2AKpj8dgz4UWADzhgSoC3XmKG7QBuyhfWW9qAM","/ip4/172.17.0.7/tcp/48336/p2p/16Uiu2HAmUHghxW2AKpj8dgz4UWADzhgSoC3XmKG7QBuyhfWW9qAM","/ip4/172.17.0.7/tcp/48337/ws/p2p/16Uiu2HAmUHghxW2AKpj8dgz4UWADzhgSoC3XmKG7QBuyhfWW9qAM"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48335/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.225.230/tcp/56259/p2p/16Uiu2HAmJUR2sGZiNf7Ycni8Rnu5LjXVzJVv9rgkjB2WcYaHXXJM", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-08-29_03-14-29__dda53cf3-f641-4566-bb5a-9a44c2b700e4__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.93.239
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['33674', '33675', '33676', '33677', '33678']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 33674:33674 -p 33675:33675 -p 33676:33676 -p 33677:33677 -p 33678:33678 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=33676 --rest-port=33674 --tcp-port=33675 --discv5-udp-port=33677 --rest-address=0.0.0.0 --nat=extip:172.18.93.239 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=10debd1f192fae8b1fbe7fef7ee20bd064502e19bdf830672ef987cfa5b11097 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=33678 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QN7_fANsottxFamldLYUozxgdECc11u2M7tZQM1t3V_hdr-XxdkA_DFVpKBZ6lB6nR2kd1IUa_R44DXxgCZdf40BgmlkgnY0gmlwhKwS4eaKbXVsdGlhZGRyc4wACgSsEuHmBtvE3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNWcKQfjWvQIInMPR9nlPZdzk1c-iVyL_83bGDerZmJtoN0Y3CC28ODdWRwgtvFhXdha3UyBQ --filternode=/ip4/172.18.225.230/tcp/56259/p2p/16Uiu2HAmJUR2sGZiNf7Ycni8Rnu5LjXVzJVv9rgkjB2WcYaHXXJM
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.93.239 waku 6a2c4ceee23afc8d68701646445eb2bcf1ab7931cef4e6e683728cc115c16544
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 6a2c4ceee23a. Setting up logs at ./log/docker/node3_2024-08-29_03-14-29__dda53cf3-f641-4566-bb5a-9a44c2b700e4__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 33674
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33674/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33674/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.93.239/tcp/33675/p2p/16Uiu2HAmBZNqN7Xh9ZEBPApxBRratw5wy95Wu2RQBmi7EHvQMfF8","/ip4/172.18.93.239/tcp/33676/ws/p2p/16Uiu2HAmBZNqN7Xh9ZEBPApxBRratw5wy95Wu2RQBmi7EHvQMfF8"],"enrUri":"enr:-LO4QK4g8pb12X2OF1641y9vdmDAl6SzVhWXknmsNOQcVdBwMWBLC6Yho_K6V9IwqCzhkKXakGbbOvG4R3XiW_hdk3QBgmlkgnY0gmlwhKwSXe-KbXVsdGlhZGRyc4wACgSsEl3vBoOM3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLvtEBCnw6ibxsDUQ_VZu6NQVrDwNsj-dzKR3Ddbrf0u4N0Y3CCg4uDdWRwgoONhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33674/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.225.230/tcp/56259/p2p/16Uiu2HAmJUR2sGZiNf7Ycni8Rnu5LjXVzJVv9rgkjB2WcYaHXXJM"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-08-29_03-14-29__dda53cf3-f641-4566-bb5a-9a44c2b700e4__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.68.78
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['57098', '57099', '57100', '57101', '57102']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 57098:57098 -p 57099:57099 -p 57100:57100 -p 57101:57101 -p 57102:57102 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=57100 --rest-port=57098 --tcp-port=57099 --discv5-udp-port=57101 --rest-address=0.0.0.0 --nat=extip:172.18.68.78 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cd3b9f0fca316cd5eeea7aaecfe0701bdbfaaa6f3ccec11fe1d9ab8307519c31 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-LO4QN7_fANsottxFamldLYUozxgdECc11u2M7tZQM1t3V_hdr-XxdkA_DFVpKBZ6lB6nR2kd1IUa_R44DXxgCZdf40BgmlkgnY0gmlwhKwS4eaKbXVsdGlhZGRyc4wACgSsEuHmBtvE3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNWcKQfjWvQIInMPR9nlPZdzk1c-iVyL_83bGDerZmJtoN0Y3CC28ODdWRwgtvFhXdha3UyBQ --filternode=/ip4/172.18.225.230/tcp/56259/p2p/16Uiu2HAmJUR2sGZiNf7Ycni8Rnu5LjXVzJVv9rgkjB2WcYaHXXJM
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.68.78 waku 3ce26015a4e7646b7a8fef39d1131b4fae0a6f90ae01dfc556b851818925fe80
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 3ce26015a4e7. Setting up logs at ./log/docker/node4_2024-08-29_03-14-29__dda53cf3-f641-4566-bb5a-9a44c2b700e4__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 57098
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57098/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QLzA2l0uaU23CTae7PKf-tE2HIk4-RnIJhjz0KD-cFahC8wV0VAJNc9wUfNw12rGqJxmu8Dfqq_RCZ4TX2I8fhKGAZGcILPygmlkgnY0gmlwhKwRAAaJc2VjcDI1NmsxoQIhPKmnHfHmVSwYi7RoMnKyIxKjFnTIIfDWpdm3AHNmtoN0Y3CC3wuDdWRwgt8NhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/57099/p2p/16Uiu2HAkwfR5rHQ17rV3ALrYiaDEG8DtoZWf63dJnr7aCzt9nJUD","/ip4/127.0.0.1/tcp/57100/ws/p2p/16Uiu2HAkwfR5rHQ17rV3ALrYiaDEG8DtoZWf63dJnr7aCzt9nJUD","/ip4/172.17.0.6/tcp/57099/p2p/16Uiu2HAkwfR5rHQ17rV3ALrYiaDEG8DtoZWf63dJnr7aCzt9nJUD","/ip4/172.17.0.6/tcp/57100/ws/p2p/16Uiu2HAkwfR5rHQ17rV3ALrYiaDEG8DtoZWf63dJnr7aCzt9nJUD"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57098/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.225.230/tcp/56259/p2p/16Uiu2HAmJUR2sGZiNf7Ycni8Rnu5LjXVzJVv9rgkjB2WcYaHXXJM", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-08-29_03-14-29__dda53cf3-f641-4566-bb5a-9a44c2b700e4__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.210.6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['48734', '48735', '48736', '48737', '48738']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 48734:48734 -p 48735:48735 -p 48736:48736 -p 48737:48737 -p 48738:48738 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=48736 --rest-port=48734 --tcp-port=48735 --discv5-udp-port=48737 --rest-address=0.0.0.0 --nat=extip:172.18.210.6 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bc29a14ec29ebb8ff3c65aef58cfa56c7efd32accd438e6f452d25aafc5dea7b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=48738 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QN7_fANsottxFamldLYUozxgdECc11u2M7tZQM1t3V_hdr-XxdkA_DFVpKBZ6lB6nR2kd1IUa_R44DXxgCZdf40BgmlkgnY0gmlwhKwS4eaKbXVsdGlhZGRyc4wACgSsEuHmBtvE3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNWcKQfjWvQIInMPR9nlPZdzk1c-iVyL_83bGDerZmJtoN0Y3CC28ODdWRwgtvFhXdha3UyBQ --filternode=/ip4/172.18.225.230/tcp/56259/p2p/16Uiu2HAmJUR2sGZiNf7Ycni8Rnu5LjXVzJVv9rgkjB2WcYaHXXJM
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.210.6 waku fceef0d205121171ebbcfdd566bc609e860f748b1cdca27ea85f4923b9f65381
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID fceef0d20512. Setting up logs at ./log/docker/node5_2024-08-29_03-14-29__dda53cf3-f641-4566-bb5a-9a44c2b700e4__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 48734
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48734/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48734/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.210.6/tcp/48735/p2p/16Uiu2HAm6noPWHy2wUbzC564sT3ynwdHtefmXVFG8m5booqSEd5m","/ip4/172.18.210.6/tcp/48736/ws/p2p/16Uiu2HAm6noPWHy2wUbzC564sT3ynwdHtefmXVFG8m5booqSEd5m"],"enrUri":"enr:-LO4QCCvysGkS_yHZLsPDGSK4OKEpUG-PBvBlP1hud-FNX7OSDF3z5CmsBhxWva2o6tylc5cVGkxjORScoaWni9zgcgBgmlkgnY0gmlwhKwS0gaKbXVsdGlhZGRyc4wACgSsEtIGBr5g3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKo2iFgRMhIcBoVs_QrFASKIws8JwKLSykjBkdH2HFHPIN0Y3CCvl-DdWRwgr5hhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48734/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.225.230/tcp/56259/p2p/16Uiu2HAmJUR2sGZiNf7Ycni8Rnu5LjXVzJVv9rgkjB2WcYaHXXJM"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56258/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48335/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "4a1188d5-04dd-4004-8f1d-5d36b972ee29", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"4a1188d5-04dd-4004-8f1d-5d36b972ee29","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33674/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "2ea65bee-b244-4368-be02-c1c7542f6b12", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"2ea65bee-b244-4368-be02-c1c7542f6b12","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57098/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1473c2b5-d867-4f6f-9e1b-54313db86237", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"1473c2b5-d867-4f6f-9e1b-54313db86237","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48734/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "727ccbf2-2ffa-47f2-9927-e36f839dbabb", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"727ccbf2-2ffa-47f2-9927-e36f839dbabb","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56258/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48335/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1724901277415673088,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33674/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1724901277415673088,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_4:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57098/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1724901277415673088,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48734/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1724901277415673088,"ephemeral":false}]'
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id c53a377737b9
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56258/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33674/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1724901279903779584,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_3:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57098/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1724901279903779584,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48734/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1724901279903779584,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id e48cf9de0d06
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 6a2c4ceee23a
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 3ce26015a4e7
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id fceef0d20512
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:114 Found matches for keyword 'oom': ['INF 2024-08-29 03:14:32.932+00:00 DNS: discoverable ENR                      topics="waku node" tid=1 file=waku_node.nim:1302 enr=enr:-LO4QK4g8pb12X2OF1641y9vdmDAl6SzVhWXknmsNOQcVdBwMWBLC6Yho_K6V9IwqCzhkKXakGbbOvG4R3XiW_hdk3QBgmlkgnY0gmlwhKwSXe-KbXVsdGlhZGRyc4wACgSsEl3vBoOM3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLvtEBCnw6ibxsDUQ_VZu6NQVrDwNsj-dzKR3Ddbrf0u4N0Y3CCg4uDdWRwgoONhXdha3UyAA', 'INF 2024-08-29 03:14:32.932+00:00 Discv5: discoverable ENR                   topics="waku discv5" tid=1 file=waku_discv5.nim:317 enr=enr:-LO4QK4g8pb12X2OF1641y9vdmDAl6SzVhWXknmsNOQcVdBwMWBLC6Yho_K6V9IwqCzhkKXakGbbOvG4R3XiW_hdk3QBgmlkgnY0gmlwhKwSXe-KbXVsdGlhZGRyc4wACgSsEl3vBoOM3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLvtEBCnw6ibxsDUQ_VZu6NQVrDwNsj-dzKR3Ddbrf0u4N0Y3CCg4uDdWRwgoONhXdha3UyAA']
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_get_message_after_one_peer_was_stopped with id: 2024-08-29_03-14-49__796dc5a5-79e2-447e-98e0-2e99a7f51ad9
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-08-29_03-14-49__796dc5a5-79e2-447e-98e0-2e99a7f51ad9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.113.34
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['1798', '1799', '1800', '1801', '1802']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 1798:1798 -p 1799:1799 -p 1800:1800 -p 1801:1801 -p 1802:1802 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=1800 --rest-port=1798 --tcp-port=1799 --discv5-udp-port=1801 --rest-address=0.0.0.0 --nat=extip:172.18.113.34 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e27c9fad1bfbdedc640be29c1ea4406a340a84060ea2afd5acba13d09c3ae5e5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=1802 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.113.34 waku 2f83fc6cee4411c343fd161ac6e70d627754127c11196964e6dfe7bc8f6ad01d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 2f83fc6cee44. Setting up logs at ./log/docker/node1_2024-08-29_03-14-49__796dc5a5-79e2-447e-98e0-2e99a7f51ad9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 1798
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1798/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1798/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.113.34/tcp/1799/p2p/16Uiu2HAkzaQX5m2yuC8w15uPCBcYMJZuDMwWrVuDgzPEjgpM5GXZ","/ip4/172.18.113.34/tcp/1800/ws/p2p/16Uiu2HAkzaQX5m2yuC8w15uPCBcYMJZuDMwWrVuDgzPEjgpM5GXZ"],"enrUri":"enr:-LO4QA3ips2hMbuGR4BCHPFDC5BoObNNzkwER3bdpIVizcNNHS5hxh7x1IuxFwJ7gF9KA20-58zlTA0I_VrP0d5KdbYBgmlkgnY0gmlwhKwScSKKbXVsdGlhZGRyc4wACgSsEnEiBgcI3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJMhy4-T3b0KCHZri_30fnmhJYajvwjYF9NLDXULavkCIN0Y3CCBweDdWRwggcJhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-08-29_03-14-49__796dc5a5-79e2-447e-98e0-2e99a7f51ad9__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.26.250
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['39315', '39316', '39317', '39318', '39319']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 39315:39315 -p 39316:39316 -p 39317:39317 -p 39318:39318 -p 39319:39319 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=39317 --rest-port=39315 --tcp-port=39316 --discv5-udp-port=39318 --rest-address=0.0.0.0 --nat=extip:172.18.26.250 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5b0bcccaf1dcc0a36e7038ceda72fc27cf6a69526c9580af3ae4f47bcc88ebfc --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-LO4QA3ips2hMbuGR4BCHPFDC5BoObNNzkwER3bdpIVizcNNHS5hxh7x1IuxFwJ7gF9KA20-58zlTA0I_VrP0d5KdbYBgmlkgnY0gmlwhKwScSKKbXVsdGlhZGRyc4wACgSsEnEiBgcI3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJMhy4-T3b0KCHZri_30fnmhJYajvwjYF9NLDXULavkCIN0Y3CCBweDdWRwggcJhXdha3UyBQ --filternode=/ip4/172.18.113.34/tcp/1799/p2p/16Uiu2HAkzaQX5m2yuC8w15uPCBcYMJZuDMwWrVuDgzPEjgpM5GXZ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.26.250 waku 7884354ace6245e03c66c3972f38596d9882a00343e84db96b49a5998db54143
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 7884354ace62. Setting up logs at ./log/docker/node2_2024-08-29_03-14-49__796dc5a5-79e2-447e-98e0-2e99a7f51ad9__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 39315
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39315/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QNEM-n0_qM_mRFN9aIFEDhzp36L6-DJLPiO6RcHiwZIsP8YX9Qf0zqBOnhMovHZKl5XNm8Ck-FSdS3Aj6KJoYF2GAZGcIPeIgmlkgnY0gmlwhKwRAAaJc2VjcDI1NmsxoQJ6eFFoJul-eEo1ZuT2VQu6SZb7749rwyeB_507sl8zAYN0Y3CCmZSDdWRwgpmWhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/39316/p2p/16Uiu2HAm3fk8S7sd46usBS5adw35C64MhnwbneVsh1LwjYdhrqXE","/ip4/127.0.0.1/tcp/39317/ws/p2p/16Uiu2HAm3fk8S7sd46usBS5adw35C64MhnwbneVsh1LwjYdhrqXE","/ip4/172.17.0.6/tcp/39316/p2p/16Uiu2HAm3fk8S7sd46usBS5adw35C64MhnwbneVsh1LwjYdhrqXE","/ip4/172.17.0.6/tcp/39317/ws/p2p/16Uiu2HAm3fk8S7sd46usBS5adw35C64MhnwbneVsh1LwjYdhrqXE"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39315/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.113.34/tcp/1799/p2p/16Uiu2HAkzaQX5m2yuC8w15uPCBcYMJZuDMwWrVuDgzPEjgpM5GXZ", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-08-29_03-14-49__796dc5a5-79e2-447e-98e0-2e99a7f51ad9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.93.88
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['48491', '48492', '48493', '48494', '48495']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 48491:48491 -p 48492:48492 -p 48493:48493 -p 48494:48494 -p 48495:48495 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=48493 --rest-port=48491 --tcp-port=48492 --discv5-udp-port=48494 --rest-address=0.0.0.0 --nat=extip:172.18.93.88 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9ac4f212e504acc0bcd067e646c64bbbfe762e2c50bb340fbaf5f0ad7dc72cdb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=48495 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QA3ips2hMbuGR4BCHPFDC5BoObNNzkwER3bdpIVizcNNHS5hxh7x1IuxFwJ7gF9KA20-58zlTA0I_VrP0d5KdbYBgmlkgnY0gmlwhKwScSKKbXVsdGlhZGRyc4wACgSsEnEiBgcI3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJMhy4-T3b0KCHZri_30fnmhJYajvwjYF9NLDXULavkCIN0Y3CCBweDdWRwggcJhXdha3UyBQ --filternode=/ip4/172.18.113.34/tcp/1799/p2p/16Uiu2HAkzaQX5m2yuC8w15uPCBcYMJZuDMwWrVuDgzPEjgpM5GXZ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.93.88 waku f1b769986133922fa0d220be941beaa7158e1538463a25cc4345c469fc24a873
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID f1b769986133. Setting up logs at ./log/docker/node3_2024-08-29_03-14-49__796dc5a5-79e2-447e-98e0-2e99a7f51ad9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 48491
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48491/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48491/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.93.88/tcp/48492/p2p/16Uiu2HAmCpcef19VrR74Kp9aCCNoYg9KUMset8TtS8URNasZSiQw","/ip4/172.18.93.88/tcp/48493/ws/p2p/16Uiu2HAmCpcef19VrR74Kp9aCCNoYg9KUMset8TtS8URNasZSiQw"],"enrUri":"enr:-LO4QOTWXQW1_jboRWS1SuESyA9va1sDy9SAVUKuj0q0rvmuaP7Um5ULRm7_INthUjSc2m_w0wZW64wEmqB9AOdXqdcBgmlkgnY0gmlwhKwSXViKbXVsdGlhZGRyc4wACgSsEl1YBr1t3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMCd0Vq7AHg5XuIPlfAxy6cKBmS39-ZH6u30LgQr9aeGIN0Y3CCvWyDdWRwgr1uhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48491/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.113.34/tcp/1799/p2p/16Uiu2HAkzaQX5m2yuC8w15uPCBcYMJZuDMwWrVuDgzPEjgpM5GXZ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-08-29_03-14-49__796dc5a5-79e2-447e-98e0-2e99a7f51ad9__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.72.53
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['9530', '9531', '9532', '9533', '9534']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 9530:9530 -p 9531:9531 -p 9532:9532 -p 9533:9533 -p 9534:9534 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=9532 --rest-port=9530 --tcp-port=9531 --discv5-udp-port=9533 --rest-address=0.0.0.0 --nat=extip:172.18.72.53 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f01bf8801abadb6ddbfdef3ad8daa2ae0cefadd331aacdafb31375bbbdfcb1ac --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-LO4QA3ips2hMbuGR4BCHPFDC5BoObNNzkwER3bdpIVizcNNHS5hxh7x1IuxFwJ7gF9KA20-58zlTA0I_VrP0d5KdbYBgmlkgnY0gmlwhKwScSKKbXVsdGlhZGRyc4wACgSsEnEiBgcI3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJMhy4-T3b0KCHZri_30fnmhJYajvwjYF9NLDXULavkCIN0Y3CCBweDdWRwggcJhXdha3UyBQ --filternode=/ip4/172.18.113.34/tcp/1799/p2p/16Uiu2HAkzaQX5m2yuC8w15uPCBcYMJZuDMwWrVuDgzPEjgpM5GXZ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.72.53 waku d9426c35642cd5de0474cc7c14427b8e2512e81a5536c4d77c0fd62273a1b3ad
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID d9426c35642c. Setting up logs at ./log/docker/node4_2024-08-29_03-14-49__796dc5a5-79e2-447e-98e0-2e99a7f51ad9__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 9530
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9530/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QA7lgEvZxkN7NNzG791OZruMjjRqVjYqfXqOkF9Q88k2V89J_ApdMykAOEm_swCCnsjUoc8kAHIJ_jvKW2xKiWSGAZGcIQOxgmlkgnY0gmlwhKwRAAqJc2VjcDI1NmsxoQMTy4MoO60JeQcQ4Q7FB-E08SNJEDFFLr60RL6vCO8J04N0Y3CCJTuDdWRwgiU9hXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/9531/p2p/16Uiu2HAmDzG5qaot9pGDMQ3FUGLzrX8v8XxjhbxoKMCWqYVAa8XL","/ip4/127.0.0.1/tcp/9532/ws/p2p/16Uiu2HAmDzG5qaot9pGDMQ3FUGLzrX8v8XxjhbxoKMCWqYVAa8XL","/ip4/172.17.0.10/tcp/9531/p2p/16Uiu2HAmDzG5qaot9pGDMQ3FUGLzrX8v8XxjhbxoKMCWqYVAa8XL","/ip4/172.17.0.10/tcp/9532/ws/p2p/16Uiu2HAmDzG5qaot9pGDMQ3FUGLzrX8v8XxjhbxoKMCWqYVAa8XL"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9530/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.113.34/tcp/1799/p2p/16Uiu2HAkzaQX5m2yuC8w15uPCBcYMJZuDMwWrVuDgzPEjgpM5GXZ", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-08-29_03-14-49__796dc5a5-79e2-447e-98e0-2e99a7f51ad9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.242.47
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['40146', '40147', '40148', '40149', '40150']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 40146:40146 -p 40147:40147 -p 40148:40148 -p 40149:40149 -p 40150:40150 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=40148 --rest-port=40146 --tcp-port=40147 --discv5-udp-port=40149 --rest-address=0.0.0.0 --nat=extip:172.18.242.47 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7675dcba350762bca18a3a80a6c56a8ad32ead1ad2ecd175e19a945fd8bcc5fd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=40150 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QA3ips2hMbuGR4BCHPFDC5BoObNNzkwER3bdpIVizcNNHS5hxh7x1IuxFwJ7gF9KA20-58zlTA0I_VrP0d5KdbYBgmlkgnY0gmlwhKwScSKKbXVsdGlhZGRyc4wACgSsEnEiBgcI3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJMhy4-T3b0KCHZri_30fnmhJYajvwjYF9NLDXULavkCIN0Y3CCBweDdWRwggcJhXdha3UyBQ --filternode=/ip4/172.18.113.34/tcp/1799/p2p/16Uiu2HAkzaQX5m2yuC8w15uPCBcYMJZuDMwWrVuDgzPEjgpM5GXZ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.242.47 waku 6c89ab34361c059f36453fd5e28b1979370aca286b56c93cb2e0c83df3430c8a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 6c89ab34361c. Setting up logs at ./log/docker/node5_2024-08-29_03-14-49__796dc5a5-79e2-447e-98e0-2e99a7f51ad9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 40146
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40146/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40146/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.242.47/tcp/40147/p2p/16Uiu2HAkunyG4Xfxj4zhWLTpGRYGJTB7Q4wYfdnc8M8n6dMgGY7m","/ip4/172.18.242.47/tcp/40148/ws/p2p/16Uiu2HAkunyG4Xfxj4zhWLTpGRYGJTB7Q4wYfdnc8M8n6dMgGY7m"],"enrUri":"enr:-LO4QDS9qgjYpFRGgHweNICUC6DwBgXpUZ8ecjO6tqxm5sI2ISCRWyFa6Qt9d0LnrcbAQ-XGWgWyEw_jIKU7Qda-yvQBgmlkgnY0gmlwhKwS8i-KbXVsdGlhZGRyc4wACgSsEvIvBpzU3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIFdLxw4lM9LqeSpu5ueqbIExn9qQZVMZLMk6ufPrVfrIN0Y3CCnNODdWRwgpzVhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40146/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.113.34/tcp/1799/p2p/16Uiu2HAkzaQX5m2yuC8w15uPCBcYMJZuDMwWrVuDgzPEjgpM5GXZ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1798/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39315/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "608d9b3d-a653-40e2-80f8-68d3cef4a71d", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"608d9b3d-a653-40e2-80f8-68d3cef4a71d","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48491/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "8d73fa07-76ae-4b16-8f27-1974bf5d6d5a", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"8d73fa07-76ae-4b16-8f27-1974bf5d6d5a","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9530/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "0a9498cd-6503-4724-b719-2db98f4c659d", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"0a9498cd-6503-4724-b719-2db98f4c659d","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40146/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "37aa7598-8925-45c3-82d9-dc201f7286c1", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"37aa7598-8925-45c3-82d9-dc201f7286c1","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1798/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39315/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1724901298221749760,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48491/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1724901298221749760,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_4:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9530/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1724901298221749760,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40146/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1724901298221749760,"ephemeral":false}]'
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 7884354ace62
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1798/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48491/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1724901299725841152,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_3:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9530/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1724901299725841152,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40146/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1724901299725841152,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 2f83fc6cee44
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id f1b769986133
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id d9426c35642c
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 6c89ab34361c
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.