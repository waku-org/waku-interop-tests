[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_ping_only_some_nodes_have_subscriptions with id: 2024-08-29_03-14-06__fbad7c93-9175-42dd-9fc0-897704feb4a9
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-08-29_03-14-06__fbad7c93-9175-42dd-9fc0-897704feb4a9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.161.25
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['23278', '23279', '23280', '23281', '23282']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 23278:23278 -p 23279:23279 -p 23280:23280 -p 23281:23281 -p 23282:23282 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=23280 --rest-port=23278 --tcp-port=23279 --discv5-udp-port=23281 --rest-address=0.0.0.0 --nat=extip:172.18.161.25 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2ffdbf1cd20f80a5becddf77b1e1df38d564acfd927ae6e72eee3bc24ef8ae9e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=23282 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.161.25 waku 59d59d3ea0806f3c5d20a98e2b22fcef59212bf1d34edf3e375de485e39d4f01
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 59d59d3ea080. Setting up logs at ./log/docker/node1_2024-08-29_03-14-06__fbad7c93-9175-42dd-9fc0-897704feb4a9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 23278
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23278/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23278/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.161.25/tcp/23279/p2p/16Uiu2HAmA3YRMkzRhaV35ZBZGaHfvGcq5ePudTcj3ucrDXR7jTtY","/ip4/172.18.161.25/tcp/23280/ws/p2p/16Uiu2HAmA3YRMkzRhaV35ZBZGaHfvGcq5ePudTcj3ucrDXR7jTtY"],"enrUri":"enr:-LO4QHPDZ-v2jutyTWcxsVHpN6-QZxZjDdCxQxn8IEC4nTLDWv602FO5psRK5PaM6EfMg15BKVPuGZEdQx1tQIq033EBgmlkgnY0gmlwhKwSoRmKbXVsdGlhZGRyc4wACgSsEqEZBlrw3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLZM_qWack-Bo8xUi9qQDpYSELX55ikneUOUKfM3-sZxYN0Y3CCWu-DdWRwglrxhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-08-29_03-14-06__fbad7c93-9175-42dd-9fc0-897704feb4a9__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.145.230
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['18462', '18463', '18464', '18465', '18466']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 18462:18462 -p 18463:18463 -p 18464:18464 -p 18465:18465 -p 18466:18466 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=18464 --rest-port=18462 --tcp-port=18463 --discv5-udp-port=18465 --rest-address=0.0.0.0 --nat=extip:172.18.145.230 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b70d5b756c3ef4dbcfdfe5be6cdebdab595e2bfecff6dee16b8eaec029e0a430 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-LO4QHPDZ-v2jutyTWcxsVHpN6-QZxZjDdCxQxn8IEC4nTLDWv602FO5psRK5PaM6EfMg15BKVPuGZEdQx1tQIq033EBgmlkgnY0gmlwhKwSoRmKbXVsdGlhZGRyc4wACgSsEqEZBlrw3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLZM_qWack-Bo8xUi9qQDpYSELX55ikneUOUKfM3-sZxYN0Y3CCWu-DdWRwglrxhXdha3UyBQ --filternode=/ip4/172.18.161.25/tcp/23279/p2p/16Uiu2HAmA3YRMkzRhaV35ZBZGaHfvGcq5ePudTcj3ucrDXR7jTtY
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.145.230 waku 6830ebf7b1684864c25d1bc5353006969c0f94bd1a8b0225ed62cb8286a94778
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 6830ebf7b168. Setting up logs at ./log/docker/node2_2024-08-29_03-14-06__fbad7c93-9175-42dd-9fc0-897704feb4a9__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 18462
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18462/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QAId6UXIP553LCrbb79FEg_F-IHU3OzamWmxJu1HxX9ta_VGLrHiD8Av27JejBg3YsptrhMkvdMv_Ap2thiyWjCGAZGcIEzegmlkgnY0gmlwhKwRAAiJc2VjcDI1NmsxoQMAOZz-XNjElqySFFkJQjmP9S2QfJ1AsHTQCMh2a2JoSIN0Y3CCSB-DdWRwgkghhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/18463/p2p/16Uiu2HAmCfsJbC5wuFfxbwE2pEn467CkG6AxXAzHULCxXrAfnpwh","/ip4/127.0.0.1/tcp/18464/ws/p2p/16Uiu2HAmCfsJbC5wuFfxbwE2pEn467CkG6AxXAzHULCxXrAfnpwh","/ip4/172.17.0.8/tcp/18463/p2p/16Uiu2HAmCfsJbC5wuFfxbwE2pEn467CkG6AxXAzHULCxXrAfnpwh","/ip4/172.17.0.8/tcp/18464/ws/p2p/16Uiu2HAmCfsJbC5wuFfxbwE2pEn467CkG6AxXAzHULCxXrAfnpwh"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:18462/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.161.25/tcp/23279/p2p/16Uiu2HAmA3YRMkzRhaV35ZBZGaHfvGcq5ePudTcj3ucrDXR7jTtY", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23278/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:18462/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "51f008a5-f403-47e1-99d5-26360fe86a8b", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"51f008a5-f403-47e1-99d5-26360fe86a8b","statusDesc":"OK"}'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-08-29_03-14-06__fbad7c93-9175-42dd-9fc0-897704feb4a9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.79.182
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['40537', '40538', '40539', '40540', '40541']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 40537:40537 -p 40538:40538 -p 40539:40539 -p 40540:40540 -p 40541:40541 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=40539 --rest-port=40537 --tcp-port=40538 --discv5-udp-port=40540 --rest-address=0.0.0.0 --nat=extip:172.18.79.182 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6aebd5bbeb7aeee9b50b80fe62b2b9252d7eaf7ba46e2fdd51b6bf8fb2db51b3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=40541 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QHPDZ-v2jutyTWcxsVHpN6-QZxZjDdCxQxn8IEC4nTLDWv602FO5psRK5PaM6EfMg15BKVPuGZEdQx1tQIq033EBgmlkgnY0gmlwhKwSoRmKbXVsdGlhZGRyc4wACgSsEqEZBlrw3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLZM_qWack-Bo8xUi9qQDpYSELX55ikneUOUKfM3-sZxYN0Y3CCWu-DdWRwglrxhXdha3UyBQ --filternode=/ip4/172.18.161.25/tcp/23279/p2p/16Uiu2HAmA3YRMkzRhaV35ZBZGaHfvGcq5ePudTcj3ucrDXR7jTtY
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.79.182 waku ae443a0d0b5aa35e5cb1c7703fe62bf2cdb4537bc1f0831b2dfb923cb2491597
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID ae443a0d0b5a. Setting up logs at ./log/docker/node3_2024-08-29_03-14-06__fbad7c93-9175-42dd-9fc0-897704feb4a9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 40537
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40537/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40537/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.79.182/tcp/40538/p2p/16Uiu2HAmToHi4d3hStrbV959QVVcmtPWr4KRMu8ndbTZbKR16A9Q","/ip4/172.18.79.182/tcp/40539/ws/p2p/16Uiu2HAmToHi4d3hStrbV959QVVcmtPWr4KRMu8ndbTZbKR16A9Q"],"enrUri":"enr:-LO4QDXRa2Ji_SQIxFwn7hTqD8h3T3ytJh_zWva7_i3CNClwOT6najsTrKSnGXCRaPX9O6pYH5npfguOJeuumf9LmYEBgmlkgnY0gmlwhKwST7aKbXVsdGlhZGRyc4wACgSsEk-2Bp5b3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPg_5PKMIFwK62lB5VIAdf9AhGyyM1hwkO4PuUoPTfTc4N0Y3CCnlqDdWRwgp5chXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40537/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.161.25/tcp/23279/p2p/16Uiu2HAmA3YRMkzRhaV35ZBZGaHfvGcq5ePudTcj3ucrDXR7jTtY"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-08-29_03-14-06__fbad7c93-9175-42dd-9fc0-897704feb4a9__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.12.216
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['20775', '20776', '20777', '20778', '20779']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 20775:20775 -p 20776:20776 -p 20777:20777 -p 20778:20778 -p 20779:20779 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=20777 --rest-port=20775 --tcp-port=20776 --discv5-udp-port=20778 --rest-address=0.0.0.0 --nat=extip:172.18.12.216 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9abe2b8ce6fb602dcfe5d1f15cffdc781ce81ac8600e7cd18dbb7af468eddc7b --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-LO4QHPDZ-v2jutyTWcxsVHpN6-QZxZjDdCxQxn8IEC4nTLDWv602FO5psRK5PaM6EfMg15BKVPuGZEdQx1tQIq033EBgmlkgnY0gmlwhKwSoRmKbXVsdGlhZGRyc4wACgSsEqEZBlrw3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLZM_qWack-Bo8xUi9qQDpYSELX55ikneUOUKfM3-sZxYN0Y3CCWu-DdWRwglrxhXdha3UyBQ --filternode=/ip4/172.18.161.25/tcp/23279/p2p/16Uiu2HAmA3YRMkzRhaV35ZBZGaHfvGcq5ePudTcj3ucrDXR7jTtY
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.12.216 waku 0c6c3ac86038786057f61dc428603358cd2cb582ec16aa537d013fe46fcb8729
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 0c6c3ac86038. Setting up logs at ./log/docker/node4_2024-08-29_03-14-06__fbad7c93-9175-42dd-9fc0-897704feb4a9__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 20775
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20775/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QCnKsxWjQ0KLsnvCe6TYiPzG_4eoAlIEcSBeSKrMfRD6PEO0QKbIlbdCms1_dIcNu4qLHK5cWlFXG00oWclO96WGAZGcIFkLgmlkgnY0gmlwhKwRAAOJc2VjcDI1NmsxoQLHWA8_QF3YFMB9AQHrlrWwZiqMfeOZFJkXDuiBeK04NIN0Y3CCUSiDdWRwglEqhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/20776/p2p/16Uiu2HAm8qpzVw6EcoofPheppAqZCVN6wbrWM21P6Ca7QRt9KZmD","/ip4/127.0.0.1/tcp/20777/ws/p2p/16Uiu2HAm8qpzVw6EcoofPheppAqZCVN6wbrWM21P6Ca7QRt9KZmD","/ip4/172.17.0.3/tcp/20776/p2p/16Uiu2HAm8qpzVw6EcoofPheppAqZCVN6wbrWM21P6Ca7QRt9KZmD","/ip4/172.17.0.3/tcp/20777/ws/p2p/16Uiu2HAm8qpzVw6EcoofPheppAqZCVN6wbrWM21P6Ca7QRt9KZmD"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20775/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.161.25/tcp/23279/p2p/16Uiu2HAmA3YRMkzRhaV35ZBZGaHfvGcq5ePudTcj3ucrDXR7jTtY", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-08-29_03-14-06__fbad7c93-9175-42dd-9fc0-897704feb4a9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.153.202
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['38084', '38085', '38086', '38087', '38088']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 38084:38084 -p 38085:38085 -p 38086:38086 -p 38087:38087 -p 38088:38088 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=38086 --rest-port=38084 --tcp-port=38085 --discv5-udp-port=38087 --rest-address=0.0.0.0 --nat=extip:172.18.153.202 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=765eac9d6f830cbb6c28d2a228a3b8636a5fa7da1a9eab8cdbf5f5e19c8e0e22 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=38088 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QHPDZ-v2jutyTWcxsVHpN6-QZxZjDdCxQxn8IEC4nTLDWv602FO5psRK5PaM6EfMg15BKVPuGZEdQx1tQIq033EBgmlkgnY0gmlwhKwSoRmKbXVsdGlhZGRyc4wACgSsEqEZBlrw3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLZM_qWack-Bo8xUi9qQDpYSELX55ikneUOUKfM3-sZxYN0Y3CCWu-DdWRwglrxhXdha3UyBQ --filternode=/ip4/172.18.161.25/tcp/23279/p2p/16Uiu2HAmA3YRMkzRhaV35ZBZGaHfvGcq5ePudTcj3ucrDXR7jTtY
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.153.202 waku 22d1bb5212eb7856c74273da667a08abbd99944c9de358e7c493bd5ef1134dc6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 22d1bb5212eb. Setting up logs at ./log/docker/node5_2024-08-29_03-14-06__fbad7c93-9175-42dd-9fc0-897704feb4a9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 38084
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38084/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38084/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.153.202/tcp/38085/p2p/16Uiu2HAmTjp2PCGKsyP4CWmr9Qzsx52u6nk3dKezSvGV7zcBnG8G","/ip4/172.18.153.202/tcp/38086/ws/p2p/16Uiu2HAmTjp2PCGKsyP4CWmr9Qzsx52u6nk3dKezSvGV7zcBnG8G"],"enrUri":"enr:-LO4QMxv0eLnHnJwiCHvsGXr401ADNqlbvf6zM7SRGVOaUxXFSmPLWDEFVziX_UtRCG2nVVMorFWv_xuqdQP4KKz9mMBgmlkgnY0gmlwhKwSmcqKbXVsdGlhZGRyc4wACgSsEpnKBpTG3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPgG4hGizpbyoTZ9NPN-maoRwIxKaK5izEft__YEKYoiYN0Y3CClMWDdWRwgpTHhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38084/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.161.25/tcp/23279/p2p/16Uiu2HAmA3YRMkzRhaV35ZBZGaHfvGcq5ePudTcj3ucrDXR7jTtY"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18462/filter/v2/subscriptions/1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"1","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40537/filter/v2/subscriptions/121cfda6-9a67-4e09-a8c3-2a89e08f1f2e" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:40537/filter/v2/subscriptions/121cfda6-9a67-4e09-a8c3-2a89e08f1f2e. Response content: b'{"requestId":"121cfda6-9a67-4e09-a8c3-2a89e08f1f2e","statusDesc":"NOT_FOUND: peer has no subscriptions"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20775/filter/v2/subscriptions/f4790681-3196-4b1f-93d6-2226328414a1" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:20775/filter/v2/subscriptions/f4790681-3196-4b1f-93d6-2226328414a1. Response content: b'{"requestId":"f4790681-3196-4b1f-93d6-2226328414a1","statusDesc":"peer has no subscription"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38084/filter/v2/subscriptions/4f210d1a-2f3f-4c38-9cd7-65163268edf9" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:38084/filter/v2/subscriptions/4f210d1a-2f3f-4c38-9cd7-65163268edf9. Response content: b'{"requestId":"4f210d1a-2f3f-4c38-9cd7-65163268edf9","statusDesc":"NOT_FOUND: peer has no subscriptions"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 59d59d3ea080
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 6830ebf7b168
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id ae443a0d0b5a
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 0c6c3ac86038
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 22d1bb5212eb
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.