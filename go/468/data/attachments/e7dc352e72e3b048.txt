2025-02-16 03:13:43.914 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-16 03:13:43.914 DEBUG [tests.conftest] Running test: test_filter_update_subscription_with_no_content_topic with id: 2025-02-16_03-13-43__8187c254-cc4f-4cbb-89a8-39f827994ce7
2025-02-16 03:13:43.914 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-16 03:13:43.914 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2025-02-16 03:13:43.915 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2025-02-16 03:13:43.921 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-16 03:13:43.921 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-16_03-13-43__8187c254-cc4f-4cbb-89a8-39f827994ce7__wakuorg_nwaku:latest.log
2025-02-16 03:13:43.921 DEBUG [src.node.waku_node] Starting Node...
2025-02-16 03:13:43.921 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-16 03:13:43.922 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-16 03:13:43.922 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.57.6
2025-02-16 03:13:43.923 DEBUG [src.node.docker_mananger] Generated ports ['20747', '20748', '20749', '20750', '20751']
2025-02-16 03:13:43.923 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-16 03:13:43.923 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-16 03:13:43.923 DEBUG [src.node.waku_node] Using volumes []
2025-02-16 03:13:43.923 DEBUG [src.node.docker_mananger] docker run -i -t -p 20747:20747 -p 20748:20748 -p 20749:20749 -p 20750:20750 -p 20751:20751 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=20749 --rest-port=20747 --tcp-port=20748 --discv5-udp-port=20750 --rest-address=0.0.0.0 --nat=extip:172.18.57.6 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ec543f9b1fac98be9dcfafcdcaaee09beedfbe68c77c13edd73593ff0c24afd1 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=20751 --metrics-logging=true --relay=true --filter=true
2025-02-16 03:13:44.041 ERROR [src.node.docker_mananger] Max retries reached for container 362908e4ac7a. Exiting log stream.
2025-02-16 03:13:44.146 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.57.6 waku fce094d0fcd432cd0b142ae7625a963ef5c10531af58dd82ccf8f9e66e74d19c
2025-02-16 03:13:44.194 DEBUG [src.node.docker_mananger] Container started with ID fce094d0fcd4. Setting up logs at ./log/docker/node1_2025-02-16_03-13-43__8187c254-cc4f-4cbb-89a8-39f827994ce7__wakuorg_nwaku:latest.log
2025-02-16 03:13:44.194 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 20747
2025-02-16 03:13:44.194 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-16 03:13:44.722 ERROR [src.node.docker_mananger] Max retries reached for container 6e17d1dc848e. Exiting log stream.
2025-02-16 03:13:45.195 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:20747/health" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:13:45.198 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-16 03:13:45.198 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-16 03:13:45.198 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:20747/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:13:45.200 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.57.6/tcp/20748/p2p/16Uiu2HAmQdqbk72BhwGz8MgGryckLhpLXGEfZYbFoBtfWuwVmdWy","/ip4/172.18.57.6/tcp/20749/ws/p2p/16Uiu2HAmQdqbk72BhwGz8MgGryckLhpLXGEfZYbFoBtfWuwVmdWy"],"enrUri":"enr:-L24QD5sjHSeNmhxEcngBXNHu297c3snf_D84xeVRtXvfy-gHBn1cQmDNrmOJHHABvRDX79N6BdK5GDaBYeifzxAQbkCgmlkgnY0gmlwhKwSOQaKbXVsdGlhZGRyc5YACASsEjkGBlEMAAoErBI5BgZRDd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDsgDEi6fivfegKxFITqagsoQ-oFjYC5IYoQYcXPHt3bqDdGNwglEMg3VkcIJRDoV3YWt1MgU"}'
2025-02-16 03:13:45.201 INFO [src.node.waku_node] REST service is ready !!
2025-02-16 03:13:45.201 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2025-02-16 03:13:45.207 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-16 03:13:45.207 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-16_03-13-43__8187c254-cc4f-4cbb-89a8-39f827994ce7__wakuorg_go-waku:latest.log
2025-02-16 03:13:45.207 DEBUG [src.node.waku_node] Starting Node...
2025-02-16 03:13:45.208 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-16 03:13:45.209 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-16 03:13:45.209 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.9.51
2025-02-16 03:13:45.209 DEBUG [src.node.docker_mananger] Generated ports ['30197', '30198', '30199', '30200', '30201']
2025-02-16 03:13:45.209 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-16 03:13:45.209 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-16 03:13:45.210 DEBUG [src.node.waku_node] Using volumes []
2025-02-16 03:13:45.210 DEBUG [src.node.docker_mananger] docker run -i -t -p 30197:30197 -p 30198:30198 -p 30199:30199 -p 30200:30200 -p 30201:30201 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=30199 --rest-port=30197 --tcp-port=30198 --discv5-udp-port=30200 --rest-address=0.0.0.0 --nat=extip:172.18.9.51 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bd0ca219d55281b8fcd40ad27daa56b2a20d31b9156eff8cb3cb7bb02f181c5e --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QD5sjHSeNmhxEcngBXNHu297c3snf_D84xeVRtXvfy-gHBn1cQmDNrmOJHHABvRDX79N6BdK5GDaBYeifzxAQbkCgmlkgnY0gmlwhKwSOQaKbXVsdGlhZGRyc5YACASsEjkGBlEMAAoErBI5BgZRDd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDsgDEi6fivfegKxFITqagsoQ-oFjYC5IYoQYcXPHt3bqDdGNwglEMg3VkcIJRDoV3YWt1MgU --filternode=/ip4/172.18.57.6/tcp/20748/p2p/16Uiu2HAmQdqbk72BhwGz8MgGryckLhpLXGEfZYbFoBtfWuwVmdWy --pubsub-topic=/waku/2/rs/3/1
2025-02-16 03:13:45.438 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.9.51 waku 6c059fabfb40fe2ab0a2127fd8e0926af4eab501c9887efa3ee7692bedf5e909
2025-02-16 03:13:45.489 DEBUG [src.node.docker_mananger] Container started with ID 6c059fabfb40. Setting up logs at ./log/docker/node2_2025-02-16_03-13-43__8187c254-cc4f-4cbb-89a8-39f827994ce7__wakuorg_go-waku:latest.log
2025-02-16 03:13:45.490 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 30197
2025-02-16 03:13:45.492 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-16 03:13:46.492 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:30197/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:13:46.494 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QMVgZekTJ0LUuYP-xw7CAg0ZtbWwOhuOLbHcrq1FinvSSPJxaCSbinGLGuZMehfQK61NzmF-868Wy3HYRJ6ScNiGAZUMv2gPgmlkgnY0gmlwhKwRAAOCcnOFAAMBAAGJc2VjcDI1NmsxoQKA3E_kMKeo96dfDo-2hAKhioNcFoc2Gh4WHsJQHl0JKoN0Y3CCdfaDdWRwgnX4hXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/30198/p2p/16Uiu2HAm46h1ZLuJpvcMqqsTdqoBrDmiF1g7WiKeyQhnDriq1rBb","/ip4/127.0.0.1/tcp/30199/ws/p2p/16Uiu2HAm46h1ZLuJpvcMqqsTdqoBrDmiF1g7WiKeyQhnDriq1rBb","/ip4/172.17.0.3/tcp/30198/p2p/16Uiu2HAm46h1ZLuJpvcMqqsTdqoBrDmiF1g7WiKeyQhnDriq1rBb","/ip4/172.17.0.3/tcp/30199/ws/p2p/16Uiu2HAm46h1ZLuJpvcMqqsTdqoBrDmiF1g7WiKeyQhnDriq1rBb"]}'
2025-02-16 03:13:46.495 INFO [src.node.waku_node] REST service is ready !!
2025-02-16 03:13:46.495 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:30197/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.57.6/tcp/20748/p2p/16Uiu2HAmQdqbk72BhwGz8MgGryckLhpLXGEfZYbFoBtfWuwVmdWy", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-16 03:13:46.497 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-16 03:13:46.498 DEBUG [src.steps.filter] Running fixture setup: subscribe_main_nodes
2025-02-16 03:13:46.498 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:20747/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-16 03:13:46.501 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 03:13:46.501 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:30197/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "42716db4-33a7-4247-8ab6-e765edc0c2cd", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2025-02-16 03:13:46.507 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"42716db4-33a7-4247-8ab6-e765edc0c2cd","statusDesc":"OK"}'
2025-02-16 03:13:46.510 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-16 03:13:46.511 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-16 03:13:46.511 DEBUG [src.node.waku_node] Stopping container with id fce094d0fcd4
2025-02-16 03:13:47.087 DEBUG [src.node.waku_node] Container stopped.
2025-02-16 03:13:47.088 DEBUG [src.node.waku_node] Stopping container with id 6c059fabfb40
2025-02-16 03:13:47.900 ERROR [src.node.docker_mananger] Max retries reached for container fce094d0fcd4. Exiting log stream.
2025-02-16 03:13:47.986 DEBUG [src.node.waku_node] Container stopped.
2025-02-16 03:13:47.986 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-16 03:13:47.991 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-16 03:13:47.994 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
