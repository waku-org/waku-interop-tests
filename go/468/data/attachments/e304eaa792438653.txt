2025-02-16 03:09:23.901 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-16 03:09:23.901 DEBUG [tests.conftest] Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2025-02-16_03-09-23__1870284d-06a8-41ee-88f1-892b2cb79921
2025-02-16 03:09:23.901 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-16 03:09:23.902 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2025-02-16 03:09:23.902 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2025-02-16 03:09:23.908 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-16 03:09:23.908 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-16_03-09-23__1870284d-06a8-41ee-88f1-892b2cb79921__wakuorg_nwaku:latest.log
2025-02-16 03:09:23.908 DEBUG [src.node.waku_node] Starting Node...
2025-02-16 03:09:23.908 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-16 03:09:23.910 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-16 03:09:23.910 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.246.203
2025-02-16 03:09:23.910 DEBUG [src.node.docker_mananger] Generated ports ['40349', '40350', '40351', '40352', '40353']
2025-02-16 03:09:23.910 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-16 03:09:23.911 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-16 03:09:23.911 DEBUG [src.node.waku_node] Using volumes []
2025-02-16 03:09:23.911 DEBUG [src.node.docker_mananger] docker run -i -t -p 40349:40349 -p 40350:40350 -p 40351:40351 -p 40352:40352 -p 40353:40353 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=40351 --rest-port=40349 --tcp-port=40350 --discv5-udp-port=40352 --rest-address=0.0.0.0 --nat=extip:172.18.246.203 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=af2f38dffd2dbaf3f7ca0b9bcdfda5be35ddc2d5d7b90cc43bd0a26c8bbcfaab --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=40353 --metrics-logging=true --relay=true --filter=true
2025-02-16 03:09:24.145 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.246.203 waku 801cb61bbe48c25924b4aac667a6e08d1ecb93c2b64bde8afc3663b1aed3c431
2025-02-16 03:09:24.194 DEBUG [src.node.docker_mananger] Container started with ID 801cb61bbe48. Setting up logs at ./log/docker/node1_2025-02-16_03-09-23__1870284d-06a8-41ee-88f1-892b2cb79921__wakuorg_nwaku:latest.log
2025-02-16 03:09:24.195 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 40349
2025-02-16 03:09:24.195 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-16 03:09:24.214 ERROR [src.node.docker_mananger] Max retries reached for container 1533fe294246. Exiting log stream.
2025-02-16 03:09:24.704 ERROR [src.node.docker_mananger] Max retries reached for container d0ef036f7701. Exiting log stream.
2025-02-16 03:09:25.195 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40349/health" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:09:25.198 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-16 03:09:25.199 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-16 03:09:25.199 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40349/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:09:25.201 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.246.203/tcp/40350/p2p/16Uiu2HAmCRt92aJXjrwTnLEgZhf2ZZ3epjEAbcGTf15gnijEqzyz","/ip4/172.18.246.203/tcp/40351/ws/p2p/16Uiu2HAmCRt92aJXjrwTnLEgZhf2ZZ3epjEAbcGTf15gnijEqzyz"],"enrUri":"enr:-L24QMZlkdi6J4mXpJO3PWmGqDSCUURrKytrqflRRa6D6mlRJIDwqTvAqf3RGrHlKoYXjXlOlQbPlcZgEcWjkkKbUXUCgmlkgnY0gmlwhKwS9suKbXVsdGlhZGRyc5YACASsEvbLBp2eAAoErBL2ywadn90DgnJzhQADAQAAiXNlY3AyNTZrMaEC_KRtHHfqi91vTPG3TC9W7dRb2OvMA4yxs10Q9N5mrz2DdGNwgp2eg3VkcIKdoIV3YWt1MgU"}'
2025-02-16 03:09:25.201 INFO [src.node.waku_node] REST service is ready !!
2025-02-16 03:09:25.202 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2025-02-16 03:09:25.208 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-16 03:09:25.208 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-16_03-09-23__1870284d-06a8-41ee-88f1-892b2cb79921__wakuorg_go-waku:latest.log
2025-02-16 03:09:25.208 DEBUG [src.node.waku_node] Starting Node...
2025-02-16 03:09:25.208 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-16 03:09:25.210 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-16 03:09:25.210 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.21.91
2025-02-16 03:09:25.210 DEBUG [src.node.docker_mananger] Generated ports ['60056', '60057', '60058', '60059', '60060']
2025-02-16 03:09:25.210 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-16 03:09:25.210 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-16 03:09:25.210 DEBUG [src.node.waku_node] Using volumes []
2025-02-16 03:09:25.211 DEBUG [src.node.docker_mananger] docker run -i -t -p 60056:60056 -p 60057:60057 -p 60058:60058 -p 60059:60059 -p 60060:60060 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=60058 --rest-port=60056 --tcp-port=60057 --discv5-udp-port=60059 --rest-address=0.0.0.0 --nat=extip:172.18.21.91 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e10f1bd736539bbf1a1e87ada9c403f58a34b2dea33b0c4ca6da2158536ef765 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QMZlkdi6J4mXpJO3PWmGqDSCUURrKytrqflRRa6D6mlRJIDwqTvAqf3RGrHlKoYXjXlOlQbPlcZgEcWjkkKbUXUCgmlkgnY0gmlwhKwS9suKbXVsdGlhZGRyc5YACASsEvbLBp2eAAoErBL2ywadn90DgnJzhQADAQAAiXNlY3AyNTZrMaEC_KRtHHfqi91vTPG3TC9W7dRb2OvMA4yxs10Q9N5mrz2DdGNwgp2eg3VkcIKdoIV3YWt1MgU --filternode=/ip4/172.18.246.203/tcp/40350/p2p/16Uiu2HAmCRt92aJXjrwTnLEgZhf2ZZ3epjEAbcGTf15gnijEqzyz --pubsub-topic=/waku/2/rs/3/1
2025-02-16 03:09:25.443 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.21.91 waku a30e9e55fd0f0e6aa67429bc28cdd5aba99e91ae596ea0644dd5698c3395eae7
2025-02-16 03:09:25.497 DEBUG [src.node.docker_mananger] Container started with ID a30e9e55fd0f. Setting up logs at ./log/docker/node2_2025-02-16_03-09-23__1870284d-06a8-41ee-88f1-892b2cb79921__wakuorg_go-waku:latest.log
2025-02-16 03:09:25.497 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 60056
2025-02-16 03:09:25.499 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-16 03:09:26.499 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60056/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:09:26.502 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QJkP_ZfrQ293IBogxCEBA5gEYmtjuCEN3vkKxlBzUbzWYmsBbdA9Sb4bOsWFMbJt3sYLR6y69fsS6DAtjIuA2OSGAZUMu3BvgmlkgnY0gmlwhKwRAAOCcnOFAAMBAAGJc2VjcDI1NmsxoQNUAH8KOwaSv8Fpm0eYRsFqJ_QP48PqlP2I94QHxTZ38IN0Y3CC6pmDdWRwguqbhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/60057/p2p/16Uiu2HAmJJu33nFVb2C7yvELjJauvgtgtx2UdLsStJ61hXJXNPxT","/ip4/127.0.0.1/tcp/60058/ws/p2p/16Uiu2HAmJJu33nFVb2C7yvELjJauvgtgtx2UdLsStJ61hXJXNPxT","/ip4/172.17.0.3/tcp/60057/p2p/16Uiu2HAmJJu33nFVb2C7yvELjJauvgtgtx2UdLsStJ61hXJXNPxT","/ip4/172.17.0.3/tcp/60058/ws/p2p/16Uiu2HAmJJu33nFVb2C7yvELjJauvgtgtx2UdLsStJ61hXJXNPxT"]}'
2025-02-16 03:09:26.502 INFO [src.node.waku_node] REST service is ready !!
2025-02-16 03:09:26.502 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60056/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.246.203/tcp/40350/p2p/16Uiu2HAmCRt92aJXjrwTnLEgZhf2ZZ3epjEAbcGTf15gnijEqzyz", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-16 03:09:26.504 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-16 03:09:26.512 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-16 03:09:26.512 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node3_2025-02-16_03-09-23__1870284d-06a8-41ee-88f1-892b2cb79921__wakuorg_nwaku:latest.log
2025-02-16 03:09:26.512 DEBUG [src.node.waku_node] Starting Node...
2025-02-16 03:09:26.512 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-16 03:09:26.514 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-16 03:09:26.514 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.116.66
2025-02-16 03:09:26.514 DEBUG [src.node.docker_mananger] Generated ports ['12651', '12652', '12653', '12654', '12655']
2025-02-16 03:09:26.514 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-16 03:09:26.514 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-16 03:09:26.514 DEBUG [src.node.waku_node] Using volumes []
2025-02-16 03:09:26.515 DEBUG [src.node.docker_mananger] docker run -i -t -p 12651:12651 -p 12652:12652 -p 12653:12653 -p 12654:12654 -p 12655:12655 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=12653 --rest-port=12651 --tcp-port=12652 --discv5-udp-port=12654 --rest-address=0.0.0.0 --nat=extip:172.18.116.66 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=be4abf64cceda4c6822e205eb0cefc2b36a5abbbe8a9e6eebeab03765dce291f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=12655 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QMZlkdi6J4mXpJO3PWmGqDSCUURrKytrqflRRa6D6mlRJIDwqTvAqf3RGrHlKoYXjXlOlQbPlcZgEcWjkkKbUXUCgmlkgnY0gmlwhKwS9suKbXVsdGlhZGRyc5YACASsEvbLBp2eAAoErBL2ywadn90DgnJzhQADAQAAiXNlY3AyNTZrMaEC_KRtHHfqi91vTPG3TC9W7dRb2OvMA4yxs10Q9N5mrz2DdGNwgp2eg3VkcIKdoIV3YWt1MgU --filternode=/ip4/172.18.246.203/tcp/40350/p2p/16Uiu2HAmCRt92aJXjrwTnLEgZhf2ZZ3epjEAbcGTf15gnijEqzyz
2025-02-16 03:09:26.750 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.116.66 waku d344a7281b7df82e5437d7bf9df4674f51861a52e4e1b0dc83ed2964e3b99b2d
2025-02-16 03:09:26.805 DEBUG [src.node.docker_mananger] Container started with ID d344a7281b7d. Setting up logs at ./log/docker/node3_2025-02-16_03-09-23__1870284d-06a8-41ee-88f1-892b2cb79921__wakuorg_nwaku:latest.log
2025-02-16 03:09:26.806 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 12651
2025-02-16 03:09:26.807 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-16 03:09:27.807 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12651/health" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:09:27.810 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-16 03:09:27.810 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-16 03:09:27.811 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12651/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:09:27.813 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.116.66/tcp/12652/p2p/16Uiu2HAmQLyg8SqVVssQivQ5ABSJ6Anudrbi5hUPPGYzSU5JzzfV","/ip4/172.18.116.66/tcp/12653/ws/p2p/16Uiu2HAmQLyg8SqVVssQivQ5ABSJ6Anudrbi5hUPPGYzSU5JzzfV"],"enrUri":"enr:-L24QMarUBfzshbZ40mplNFQ9wlNHaHoRUE3LhT1r3zwFVrKVFvjJ1Lbw-zswCAab4anjHkz-mI7p0P7bfyA9DS11CMCgmlkgnY0gmlwhKwSdEKKbXVsdGlhZGRyc5YACASsEnRCBjFsAAoErBJ0QgYxbd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDra8GbjwTXf4xQ6ZNe2zp2y77bA8uTGnCT0PsB81gl3SDdGNwgjFsg3VkcIIxboV3YWt1MgA"}'
2025-02-16 03:09:27.813 INFO [src.node.waku_node] REST service is ready !!
2025-02-16 03:09:27.813 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12651/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.246.203/tcp/40350/p2p/16Uiu2HAmCRt92aJXjrwTnLEgZhf2ZZ3epjEAbcGTf15gnijEqzyz"]'
2025-02-16 03:09:27.855 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 03:09:27.865 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-16 03:09:27.865 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node4_2025-02-16_03-09-23__1870284d-06a8-41ee-88f1-892b2cb79921__wakuorg_go-waku:latest.log
2025-02-16 03:09:27.865 DEBUG [src.node.waku_node] Starting Node...
2025-02-16 03:09:27.866 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-16 03:09:27.867 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-16 03:09:27.867 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.3.144
2025-02-16 03:09:27.867 DEBUG [src.node.docker_mananger] Generated ports ['19610', '19611', '19612', '19613', '19614']
2025-02-16 03:09:27.867 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-16 03:09:27.868 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-16 03:09:27.868 DEBUG [src.node.waku_node] Using volumes []
2025-02-16 03:09:27.868 DEBUG [src.node.docker_mananger] docker run -i -t -p 19610:19610 -p 19611:19611 -p 19612:19612 -p 19613:19613 -p 19614:19614 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=19612 --rest-port=19610 --tcp-port=19611 --discv5-udp-port=19613 --rest-address=0.0.0.0 --nat=extip:172.18.3.144 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9d2b46d1bed9d399b667e5daaff3b6b1aeac6f31fb977b36bdf0ef1a36de42bc --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QMZlkdi6J4mXpJO3PWmGqDSCUURrKytrqflRRa6D6mlRJIDwqTvAqf3RGrHlKoYXjXlOlQbPlcZgEcWjkkKbUXUCgmlkgnY0gmlwhKwS9suKbXVsdGlhZGRyc5YACASsEvbLBp2eAAoErBL2ywadn90DgnJzhQADAQAAiXNlY3AyNTZrMaEC_KRtHHfqi91vTPG3TC9W7dRb2OvMA4yxs10Q9N5mrz2DdGNwgp2eg3VkcIKdoIV3YWt1MgU --filternode=/ip4/172.18.246.203/tcp/40350/p2p/16Uiu2HAmCRt92aJXjrwTnLEgZhf2ZZ3epjEAbcGTf15gnijEqzyz --pubsub-topic=/waku/2/rs/3/1
2025-02-16 03:09:28.100 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.3.144 waku 1f70b035c5c587172c170a6765b9de37410cfe6360a9cbb344e20f7b70a8da2c
2025-02-16 03:09:28.156 DEBUG [src.node.docker_mananger] Container started with ID 1f70b035c5c5. Setting up logs at ./log/docker/node4_2025-02-16_03-09-23__1870284d-06a8-41ee-88f1-892b2cb79921__wakuorg_go-waku:latest.log
2025-02-16 03:09:28.156 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 19610
2025-02-16 03:09:28.157 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-16 03:09:29.158 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19610/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:09:29.160 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QMNXR0wLVk6OkdqRFi2Y7a_SCSXWq25FzJ_4EZsVG8amL7lQ9S-ZCSkvTVib17ozM45zdoltn87PVgYhNIjcZCGGAZUMu3rVgmlkgnY0gmlwhKwRAAWCcnOFAAMBAAGJc2VjcDI1NmsxoQOEJ0ZBtTSiu7kDv_3M7-GjDSJimDSGSyYEfciR_qPqx4N0Y3CCTJuDdWRwgkydhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/19611/p2p/16Uiu2HAmMYruE3fDaKB94Q6PwdNpgumvf2JkpiGLJvFoPBCKZWKY","/ip4/127.0.0.1/tcp/19612/ws/p2p/16Uiu2HAmMYruE3fDaKB94Q6PwdNpgumvf2JkpiGLJvFoPBCKZWKY","/ip4/172.17.0.5/tcp/19611/p2p/16Uiu2HAmMYruE3fDaKB94Q6PwdNpgumvf2JkpiGLJvFoPBCKZWKY","/ip4/172.17.0.5/tcp/19612/ws/p2p/16Uiu2HAmMYruE3fDaKB94Q6PwdNpgumvf2JkpiGLJvFoPBCKZWKY"]}'
2025-02-16 03:09:29.161 INFO [src.node.waku_node] REST service is ready !!
2025-02-16 03:09:29.161 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:19610/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.246.203/tcp/40350/p2p/16Uiu2HAmCRt92aJXjrwTnLEgZhf2ZZ3epjEAbcGTf15gnijEqzyz", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-16 03:09:29.163 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-16 03:09:29.170 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-16 03:09:29.170 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node5_2025-02-16_03-09-23__1870284d-06a8-41ee-88f1-892b2cb79921__wakuorg_nwaku:latest.log
2025-02-16 03:09:29.170 DEBUG [src.node.waku_node] Starting Node...
2025-02-16 03:09:29.170 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-16 03:09:29.172 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-16 03:09:29.172 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.164.197
2025-02-16 03:09:29.172 DEBUG [src.node.docker_mananger] Generated ports ['24550', '24551', '24552', '24553', '24554']
2025-02-16 03:09:29.172 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-16 03:09:29.172 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-16 03:09:29.172 DEBUG [src.node.waku_node] Using volumes []
2025-02-16 03:09:29.173 DEBUG [src.node.docker_mananger] docker run -i -t -p 24550:24550 -p 24551:24551 -p 24552:24552 -p 24553:24553 -p 24554:24554 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=24552 --rest-port=24550 --tcp-port=24551 --discv5-udp-port=24553 --rest-address=0.0.0.0 --nat=extip:172.18.164.197 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bf1b86c64cf9b09ac6b518e0cb30400db1774a6e3ce9ece4eb93afd8d370b6cf --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=24554 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QMZlkdi6J4mXpJO3PWmGqDSCUURrKytrqflRRa6D6mlRJIDwqTvAqf3RGrHlKoYXjXlOlQbPlcZgEcWjkkKbUXUCgmlkgnY0gmlwhKwS9suKbXVsdGlhZGRyc5YACASsEvbLBp2eAAoErBL2ywadn90DgnJzhQADAQAAiXNlY3AyNTZrMaEC_KRtHHfqi91vTPG3TC9W7dRb2OvMA4yxs10Q9N5mrz2DdGNwgp2eg3VkcIKdoIV3YWt1MgU --filternode=/ip4/172.18.246.203/tcp/40350/p2p/16Uiu2HAmCRt92aJXjrwTnLEgZhf2ZZ3epjEAbcGTf15gnijEqzyz
2025-02-16 03:09:29.410 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.164.197 waku c6d316eca9b041e28f4d20a362116db5c751f1c6a3299d47f3f57f805d7d620d
2025-02-16 03:09:29.455 DEBUG [src.node.docker_mananger] Container started with ID c6d316eca9b0. Setting up logs at ./log/docker/node5_2025-02-16_03-09-23__1870284d-06a8-41ee-88f1-892b2cb79921__wakuorg_nwaku:latest.log
2025-02-16 03:09:29.455 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 24550
2025-02-16 03:09:29.456 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-16 03:09:30.457 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:24550/health" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:09:30.460 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-16 03:09:30.460 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-16 03:09:30.460 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:24550/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:09:30.463 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.164.197/tcp/24551/p2p/16Uiu2HAmTLfHaX2sKz2GLxZ9qDdnq16CYETByYs7c1vb45TVBThM","/ip4/172.18.164.197/tcp/24552/ws/p2p/16Uiu2HAmTLfHaX2sKz2GLxZ9qDdnq16CYETByYs7c1vb45TVBThM"],"enrUri":"enr:-L24QP6uoFRNS7019X40FXbGq1IpC7IcDw7hPI2D24X42IOcT3URbvVc5DtMi3yVMv3F30DErpx3UEDoiRfQPbbl014CgmlkgnY0gmlwhKwSpMWKbXVsdGlhZGRyc5YACASsEqTFBl_nAAoErBKkxQZf6N0DgnJzhQADAQAAiXNlY3AyNTZrMaED2i1LKlSXe2YNp-BIB3OZUe3zCqC-sn4fVgMBWd2QmNyDdGNwgl_ng3VkcIJf6YV3YWt1MgA"}'
2025-02-16 03:09:30.463 INFO [src.node.waku_node] REST service is ready !!
2025-02-16 03:09:30.463 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:24550/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.246.203/tcp/40350/p2p/16Uiu2HAmCRt92aJXjrwTnLEgZhf2ZZ3epjEAbcGTf15gnijEqzyz"]'
2025-02-16 03:09:30.499 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 03:09:30.500 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40349/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-16 03:09:30.508 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 03:09:30.510 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60056/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "cb12483c-3f1d-4d06-967a-b855360f9af3", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2025-02-16 03:09:30.518 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"cb12483c-3f1d-4d06-967a-b855360f9af3","statusDesc":"OK"}'
2025-02-16 03:09:30.519 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12651/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "c0265b65-97c4-4363-8071-f3189c106ff0", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2025-02-16 03:09:30.529 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"c0265b65-97c4-4363-8071-f3189c106ff0","statusDesc":"OK"}'
2025-02-16 03:09:30.529 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:19610/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "b63e6f77-67b9-4191-a072-3510fa30cf42", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2025-02-16 03:09:30.535 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"b63e6f77-67b9-4191-a072-3510fa30cf42","statusDesc":"OK"}'
2025-02-16 03:09:30.536 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:24550/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "35222259-5bab-4225-9c41-cc86ff257232", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2025-02-16 03:09:30.545 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"35222259-5bab-4225-9c41-cc86ff257232","statusDesc":"OK"}'
2025-02-16 03:09:30.545 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40349/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
2025-02-16 03:09:30.553 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 03:09:30.553 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 03:09:30.653 DEBUG [src.steps.filter] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-16 03:09:30.654 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60056/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:09:30.656 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1739675370545816320,"ephemeral":false}]'
2025-02-16 03:09:30.658 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40349/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
2025-02-16 03:09:30.665 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 03:09:30.666 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 03:09:30.766 DEBUG [src.steps.filter] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-16 03:09:30.766 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12651/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:09:30.769 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:12651/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
2025-02-16 03:09:30.772 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-16 03:09:30.773 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-16 03:09:30.773 DEBUG [src.node.waku_node] Stopping container with id 801cb61bbe48
2025-02-16 03:09:31.349 DEBUG [src.node.waku_node] Container stopped.
2025-02-16 03:09:31.349 DEBUG [src.node.waku_node] Stopping container with id a30e9e55fd0f
2025-02-16 03:09:31.891 DEBUG [src.node.waku_node] Container stopped.
2025-02-16 03:09:31.891 DEBUG [src.node.waku_node] Stopping container with id d344a7281b7d
2025-02-16 03:09:32.162 ERROR [src.node.docker_mananger] Max retries reached for container 801cb61bbe48. Exiting log stream.
2025-02-16 03:09:32.703 ERROR [src.node.docker_mananger] Max retries reached for container a30e9e55fd0f. Exiting log stream.
2025-02-16 03:09:33.253 DEBUG [src.node.waku_node] Container stopped.
2025-02-16 03:09:33.253 DEBUG [src.node.waku_node] Stopping container with id 1f70b035c5c5
2025-02-16 03:09:33.752 DEBUG [src.node.waku_node] Container stopped.
2025-02-16 03:09:33.753 DEBUG [src.node.waku_node] Stopping container with id c6d316eca9b0
2025-02-16 03:09:34.065 ERROR [src.node.docker_mananger] Max retries reached for container d344a7281b7d. Exiting log stream.
2025-02-16 03:09:34.565 ERROR [src.node.docker_mananger] Max retries reached for container 1f70b035c5c5. Exiting log stream.
2025-02-16 03:09:35.268 DEBUG [src.node.waku_node] Container stopped.
2025-02-16 03:09:35.269 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-16 03:09:35.283 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-16 03:09:35.286 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-16 03:09:35.290 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-16 03:09:35.293 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-16 03:09:35.297 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
