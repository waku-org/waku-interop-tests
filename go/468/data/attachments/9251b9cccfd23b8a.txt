2025-02-16 03:12:23.861 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-16 03:12:23.861 DEBUG [tests.conftest] Running test: test_filter_unsubscribe_with_extra_field with id: 2025-02-16_03-12-23__51bfd40f-1654-48d8-a27b-3fdcfc027233
2025-02-16 03:12:23.861 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-16 03:12:23.862 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2025-02-16 03:12:23.862 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2025-02-16 03:12:23.868 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-16 03:12:23.868 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-16_03-12-23__51bfd40f-1654-48d8-a27b-3fdcfc027233__wakuorg_nwaku:latest.log
2025-02-16 03:12:23.868 DEBUG [src.node.waku_node] Starting Node...
2025-02-16 03:12:23.868 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-16 03:12:23.870 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-16 03:12:23.870 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.198.25
2025-02-16 03:12:23.870 DEBUG [src.node.docker_mananger] Generated ports ['65092', '65093', '65094', '65095', '65096']
2025-02-16 03:12:23.870 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-16 03:12:23.870 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-16 03:12:23.870 DEBUG [src.node.waku_node] Using volumes []
2025-02-16 03:12:23.870 DEBUG [src.node.docker_mananger] docker run -i -t -p 65092:65092 -p 65093:65093 -p 65094:65094 -p 65095:65095 -p 65096:65096 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=65094 --rest-port=65092 --tcp-port=65093 --discv5-udp-port=65095 --rest-address=0.0.0.0 --nat=extip:172.18.198.25 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8bf7d91c11f980e66b7fb81fbd62a3b6b45a36aa0ecd221f3efb0ae9156e5908 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=65096 --metrics-logging=true --relay=true --filter=true
2025-02-16 03:12:23.910 ERROR [src.node.docker_mananger] Max retries reached for container 575e8fb7fcb5. Exiting log stream.
2025-02-16 03:12:24.101 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.198.25 waku 94773a563e1d2918539afbe0230536b87c43c3c927d4c3e14d6220f350e9cfa9
2025-02-16 03:12:24.151 DEBUG [src.node.docker_mananger] Container started with ID 94773a563e1d. Setting up logs at ./log/docker/node1_2025-02-16_03-12-23__51bfd40f-1654-48d8-a27b-3fdcfc027233__wakuorg_nwaku:latest.log
2025-02-16 03:12:24.152 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 65092
2025-02-16 03:12:24.152 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-16 03:12:24.664 ERROR [src.node.docker_mananger] Max retries reached for container 87188bbbde2a. Exiting log stream.
2025-02-16 03:12:25.153 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65092/health" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:12:25.156 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-16 03:12:25.156 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-16 03:12:25.156 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65092/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:12:25.158 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.198.25/tcp/65093/p2p/16Uiu2HAkujv1YPPiwBsm7hyb5iv2muVCsGzLdQt45sNxY84oGZPj","/ip4/172.18.198.25/tcp/65094/ws/p2p/16Uiu2HAkujv1YPPiwBsm7hyb5iv2muVCsGzLdQt45sNxY84oGZPj"],"enrUri":"enr:-L24QL-DNHulH6dFWXE0Lwa0fyrTfYpb8AwuWyxnUmdVxOlcApQ_tYosRvAejOuGy1JT3cBO42jH029QT0JcTT2kB1ECgmlkgnY0gmlwhKwSxhmKbXVsdGlhZGRyc5YACASsEsYZBv5FAAoErBLGGQb-Rt0DgnJzhQADAQAAiXNlY3AyNTZrMaECBKxRiS3B3tPj2tAdSPyWnASvFQNjeJmLRk7zvNgmzf6DdGNwgv5Fg3VkcIL-R4V3YWt1MgU"}'
2025-02-16 03:12:25.159 INFO [src.node.waku_node] REST service is ready !!
2025-02-16 03:12:25.159 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2025-02-16 03:12:25.165 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-16 03:12:25.165 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-16_03-12-23__51bfd40f-1654-48d8-a27b-3fdcfc027233__wakuorg_go-waku:latest.log
2025-02-16 03:12:25.165 DEBUG [src.node.waku_node] Starting Node...
2025-02-16 03:12:25.165 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-16 03:12:25.167 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-16 03:12:25.167 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.36.222
2025-02-16 03:12:25.167 DEBUG [src.node.docker_mananger] Generated ports ['24550', '24551', '24552', '24553', '24554']
2025-02-16 03:12:25.167 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-16 03:12:25.167 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-16 03:12:25.167 DEBUG [src.node.waku_node] Using volumes []
2025-02-16 03:12:25.168 DEBUG [src.node.docker_mananger] docker run -i -t -p 24550:24550 -p 24551:24551 -p 24552:24552 -p 24553:24553 -p 24554:24554 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=24552 --rest-port=24550 --tcp-port=24551 --discv5-udp-port=24553 --rest-address=0.0.0.0 --nat=extip:172.18.36.222 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7ddf86d8809249ecb01b974d453b62acee2d5229df01ec6c720ee1e2561f8915 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QL-DNHulH6dFWXE0Lwa0fyrTfYpb8AwuWyxnUmdVxOlcApQ_tYosRvAejOuGy1JT3cBO42jH029QT0JcTT2kB1ECgmlkgnY0gmlwhKwSxhmKbXVsdGlhZGRyc5YACASsEsYZBv5FAAoErBLGGQb-Rt0DgnJzhQADAQAAiXNlY3AyNTZrMaECBKxRiS3B3tPj2tAdSPyWnASvFQNjeJmLRk7zvNgmzf6DdGNwgv5Fg3VkcIL-R4V3YWt1MgU --filternode=/ip4/172.18.198.25/tcp/65093/p2p/16Uiu2HAkujv1YPPiwBsm7hyb5iv2muVCsGzLdQt45sNxY84oGZPj --pubsub-topic=/waku/2/rs/3/1
2025-02-16 03:12:25.403 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.36.222 waku 0724e1c26e71af69cf23e7add00f3b9c40c29d878e505aada6b3b927add7f6ff
2025-02-16 03:12:25.455 DEBUG [src.node.docker_mananger] Container started with ID 0724e1c26e71. Setting up logs at ./log/docker/node2_2025-02-16_03-12-23__51bfd40f-1654-48d8-a27b-3fdcfc027233__wakuorg_go-waku:latest.log
2025-02-16 03:12:25.457 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 24550
2025-02-16 03:12:25.458 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-16 03:12:26.458 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:24550/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:12:26.460 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QH7DT-Sfxdw6f7xojJppePye1MtHGX3cHU3CDR4ddCe6JrLSzFXdopH2GR0L4BzUoqSZ9jQozJtnbNNg-dT4VAmGAZUMvi9rgmlkgnY0gmlwhKwRAAOCcnOFAAMBAAGJc2VjcDI1NmsxoQNiaCtVjEpgXXa0ZeRc_nimc89R_bWz3zJLXiVCRHCl-YN0Y3CCX-eDdWRwgl_phXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/24551/p2p/16Uiu2HAmKH8S4LUJj5wKdsNHVbhYZUXuR2e5Zh8dA4meroZntLGY","/ip4/127.0.0.1/tcp/24552/ws/p2p/16Uiu2HAmKH8S4LUJj5wKdsNHVbhYZUXuR2e5Zh8dA4meroZntLGY","/ip4/172.17.0.3/tcp/24551/p2p/16Uiu2HAmKH8S4LUJj5wKdsNHVbhYZUXuR2e5Zh8dA4meroZntLGY","/ip4/172.17.0.3/tcp/24552/ws/p2p/16Uiu2HAmKH8S4LUJj5wKdsNHVbhYZUXuR2e5Zh8dA4meroZntLGY"]}'
2025-02-16 03:12:26.461 INFO [src.node.waku_node] REST service is ready !!
2025-02-16 03:12:26.461 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:24550/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.198.25/tcp/65093/p2p/16Uiu2HAkujv1YPPiwBsm7hyb5iv2muVCsGzLdQt45sNxY84oGZPj", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-16 03:12:26.463 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-16 03:12:26.463 DEBUG [src.steps.filter] Running fixture setup: subscribe_main_nodes
2025-02-16 03:12:26.464 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:65092/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-16 03:12:26.467 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 03:12:26.467 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:24550/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "b2f94145-a0d7-4111-9b63-fcce1ecf05fe", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2025-02-16 03:12:26.472 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"b2f94145-a0d7-4111-9b63-fcce1ecf05fe","statusDesc":"OK"}'
2025-02-16 03:12:26.474 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:24550/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1", "extraField": "extraValue"}'
2025-02-16 03:12:26.479 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"1","statusDesc":"OK"}'
2025-02-16 03:12:26.481 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-16 03:12:26.482 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-16 03:12:26.482 DEBUG [src.node.waku_node] Stopping container with id 94773a563e1d
2025-02-16 03:12:27.102 DEBUG [src.node.waku_node] Container stopped.
2025-02-16 03:12:27.103 DEBUG [src.node.waku_node] Stopping container with id 0724e1c26e71
2025-02-16 03:12:27.915 ERROR [src.node.docker_mananger] Max retries reached for container 94773a563e1d. Exiting log stream.
2025-02-16 03:12:27.969 DEBUG [src.node.waku_node] Container stopped.
2025-02-16 03:12:27.971 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-16 03:12:27.975 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-16 03:12:27.978 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
