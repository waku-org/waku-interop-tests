2025-02-16 03:12:22.964 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-16 03:12:22.964 DEBUG [tests.conftest] Running test: test_get_store_messages_with_different_content_topics with id: 2025-02-16_03-12-22__3c7c06f4-0cca-4653-a8f2-a617ad06ccb7
2025-02-16 03:12:22.964 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-16 03:12:22.965 DEBUG [src.steps.store] Running fixture setup: store_setup
2025-02-16 03:12:22.965 DEBUG [src.steps.store] Running fixture setup: node_setup
2025-02-16 03:12:22.971 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-16 03:12:22.971 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-16_03-12-22__3c7c06f4-0cca-4653-a8f2-a617ad06ccb7__wakuorg_nwaku:latest.log
2025-02-16 03:12:22.972 DEBUG [src.node.waku_node] Starting Node...
2025-02-16 03:12:22.972 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-16 03:12:22.973 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-16 03:12:22.973 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.94.163
2025-02-16 03:12:22.973 DEBUG [src.node.docker_mananger] Generated ports ['21098', '21099', '21100', '21101', '21102']
2025-02-16 03:12:22.973 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-16 03:12:22.974 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-16 03:12:22.974 DEBUG [src.node.waku_node] Using volumes []
2025-02-16 03:12:22.974 DEBUG [src.node.docker_mananger] docker run -i -t -p 21098:21098 -p 21099:21099 -p 21100:21100 -p 21101:21101 -p 21102:21102 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=21100 --rest-port=21098 --tcp-port=21099 --discv5-udp-port=21101 --rest-address=0.0.0.0 --nat=extip:172.18.94.163 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f9be3cc6db5faedd3bfb94d26bdd6fd0df31fa694fcbab1fff44e8f1d5bab0e6 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=21102 --metrics-logging=true --store=true --relay=true
2025-02-16 03:12:23.195 ERROR [src.node.docker_mananger] Max retries reached for container a80df49a4026. Exiting log stream.
2025-02-16 03:12:23.207 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.94.163 waku 6c42a416a075f6adb3af838cf2dadbb07938743652202870856b3930508b6aaf
2025-02-16 03:12:23.263 DEBUG [src.node.docker_mananger] Container started with ID 6c42a416a075. Setting up logs at ./log/docker/publishing_node1_2025-02-16_03-12-22__3c7c06f4-0cca-4653-a8f2-a617ad06ccb7__wakuorg_nwaku:latest.log
2025-02-16 03:12:23.263 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 21098
2025-02-16 03:12:23.263 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-16 03:12:23.702 ERROR [src.node.docker_mananger] Max retries reached for container 344ff6a92165. Exiting log stream.
2025-02-16 03:12:24.265 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21098/health" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:12:24.268 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-16 03:12:24.268 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-16 03:12:24.268 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21098/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:12:24.270 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.94.163/tcp/21099/p2p/16Uiu2HAmJadY57JUf4BbLFERiqSMgZPvQGjXydzdC8PKq7TPmdTd","/ip4/172.18.94.163/tcp/21100/ws/p2p/16Uiu2HAmJadY57JUf4BbLFERiqSMgZPvQGjXydzdC8PKq7TPmdTd"],"enrUri":"enr:-L24QL87V8vm-lywE0uMggZOCbiHwRQwd7CMzRR9p92ODXASJ-8K8k6B3-PXlN-mn5qX0whtZ-4yBGu0BLq362J6EqMCgmlkgnY0gmlwhKwSXqOKbXVsdGlhZGRyc5YACASsEl6jBlJrAAoErBJeowZSbN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDWAhDhC7w6hIHBi-R57OsyaQT40vXTom2BXeLaUNv7xiDdGNwglJrg3VkcIJSbYV3YWt1MgM"}'
2025-02-16 03:12:24.270 INFO [src.node.waku_node] REST service is ready !!
2025-02-16 03:12:24.277 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-16 03:12:24.277 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-16_03-12-22__3c7c06f4-0cca-4653-a8f2-a617ad06ccb7__wakuorg_go-waku:latest.log
2025-02-16 03:12:24.277 DEBUG [src.node.waku_node] Starting Node...
2025-02-16 03:12:24.277 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-16 03:12:24.279 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-16 03:12:24.279 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.63.181
2025-02-16 03:12:24.279 DEBUG [src.node.docker_mananger] Generated ports ['26763', '26764', '26765', '26766', '26767']
2025-02-16 03:12:24.279 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-16 03:12:24.279 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-16 03:12:24.279 DEBUG [src.node.waku_node] Using volumes []
2025-02-16 03:12:24.280 DEBUG [src.node.docker_mananger] docker run -i -t -p 26763:26763 -p 26764:26764 -p 26765:26765 -p 26766:26766 -p 26767:26767 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=26765 --rest-port=26763 --tcp-port=26764 --discv5-udp-port=26766 --rest-address=0.0.0.0 --nat=extip:172.18.63.181 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8f5879cddfe9b4fe3cf1f181214d7ccda2ce07fbf98ad6b72d28904badee7aff --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-L24QL87V8vm-lywE0uMggZOCbiHwRQwd7CMzRR9p92ODXASJ-8K8k6B3-PXlN-mn5qX0whtZ-4yBGu0BLq362J6EqMCgmlkgnY0gmlwhKwSXqOKbXVsdGlhZGRyc5YACASsEl6jBlJrAAoErBJeowZSbN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDWAhDhC7w6hIHBi-R57OsyaQT40vXTom2BXeLaUNv7xiDdGNwglJrg3VkcIJSbYV3YWt1MgM --storenode=/ip4/172.18.94.163/tcp/21099/p2p/16Uiu2HAmJadY57JUf4BbLFERiqSMgZPvQGjXydzdC8PKq7TPmdTd --store=true --relay=true
2025-02-16 03:12:24.509 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.63.181 waku cef7932010737ba09ea9f89ab9d5ea15128ed56c742bec8d82165c09c1810495
2025-02-16 03:12:24.564 DEBUG [src.node.docker_mananger] Container started with ID cef793201073. Setting up logs at ./log/docker/store_node1_2025-02-16_03-12-22__3c7c06f4-0cca-4653-a8f2-a617ad06ccb7__wakuorg_go-waku:latest.log
2025-02-16 03:12:24.565 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 26763
2025-02-16 03:12:24.565 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-16 03:12:25.566 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26763/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:12:25.568 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QCxMHEEqifyYaVBgagDNrFXH-_83nH_eY3YsVGcjk5H5GtHL8VgFfE2k9Gm6ZnnGF3Ab-zH-Rw8EK2_SAKYyO5SGAZUMvivzgmlkgnY0gmlwhKwRAAOCcnODAAMAiXNlY3AyNTZrMaECKkPW1m1B2h_kdwsNrJI8FqBlpX8RVgX_8VzmvD2Oo3WDdGNwgmiMg3VkcIJojoV3YWt1MgM","listenAddresses":["/ip4/127.0.0.1/tcp/26764/p2p/16Uiu2HAkxGf6nqFstWvya12qxjzqKdnAcD2zue2EDtrWAvSffxPE","/ip4/127.0.0.1/tcp/26765/ws/p2p/16Uiu2HAkxGf6nqFstWvya12qxjzqKdnAcD2zue2EDtrWAvSffxPE","/ip4/172.17.0.3/tcp/26764/p2p/16Uiu2HAkxGf6nqFstWvya12qxjzqKdnAcD2zue2EDtrWAvSffxPE","/ip4/172.17.0.3/tcp/26765/ws/p2p/16Uiu2HAkxGf6nqFstWvya12qxjzqKdnAcD2zue2EDtrWAvSffxPE"]}'
2025-02-16 03:12:25.569 INFO [src.node.waku_node] REST service is ready !!
2025-02-16 03:12:25.569 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:26763/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.94.163/tcp/21099/p2p/16Uiu2HAmJadY57JUf4BbLFERiqSMgZPvQGjXydzdC8PKq7TPmdTd", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-16 03:12:25.588 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-16 03:12:25.589 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21098/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-16 03:12:25.608 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 03:12:25.608 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:26763/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-16 03:12:25.610 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-16 03:12:25.612 DEBUG [tests.store.test_get_messages] Running test with content topic /myapp/1/latest/proto
2025-02-16 03:12:25.615 DEBUG [src.steps.store] Relaying message
2025-02-16 03:12:25.616 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21098/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-16 03:12:25.628 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 03:12:25.628 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-16 03:12:25.829 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-16 03:12:25.829 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21098/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:12:25.832 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x44fe6a361a42fa15d62b917c9a725b193817b5b8b181f8491753cd7ab90f9390"}]}'
2025-02-16 03:12:25.833 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-16 03:12:25.833 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26763/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:12:25.838 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"d15a9913b6763992afeab7de6d03db14ca8673d90c23c3248fb090d257abe21e","status_code":200,"status_desc":"OK","messages":[{"message_hash":"RP5qNhpC+hXWK5F8mnJbGTgXtbixgfhJF1PNerkPk5A="}]}'
2025-02-16 03:12:25.839 DEBUG [tests.store.test_get_messages] Running test with content topic /waku/2/content/test.js
2025-02-16 03:12:25.839 DEBUG [src.steps.store] Relaying message
2025-02-16 03:12:25.840 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21098/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-16 03:12:25.846 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 03:12:25.846 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-16 03:12:26.046 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-16 03:12:26.047 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21098/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fwaku%2F2%2Fcontent%2Ftest.js&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:12:26.050 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x8ad2e71a84a6e9d96f412dadfc97c583ee686d3233420a72480a1b8b1c258c0b"}]}'
2025-02-16 03:12:26.050 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-16 03:12:26.051 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26763/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fwaku%2F2%2Fcontent%2Ftest.js&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:12:26.055 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"72e778e15bdf4490857b9275eec2469cbb9501b49728da6575390ce0836b3201","status_code":200,"status_desc":"OK","messages":[{"message_hash":"itLnGoSm6dlvQS2t/JfFg+5obTIzQgpySAobixwljAs="}]}'
2025-02-16 03:12:26.056 DEBUG [tests.store.test_get_messages] Running test with content topic /app/22/sometopic/someencoding
2025-02-16 03:12:26.057 DEBUG [src.steps.store] Relaying message
2025-02-16 03:12:26.057 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21098/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-16 03:12:26.062 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 03:12:26.062 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-16 03:12:26.263 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-16 03:12:26.263 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21098/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F22%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:12:26.266 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xfa1821ab94c11987d32609293875fed696f5ef1f12c32f79a1ded35af3006fe5"}]}'
2025-02-16 03:12:26.266 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-16 03:12:26.267 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26763/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F22%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:12:26.271 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"f8a41ecd48b49a4550a673847c29652b32e5cbb8326c305a4633887df5484708","status_code":200,"status_desc":"OK","messages":[{"message_hash":"+hghq5TBGYfTJgkpOHX+1pb17x8Swy95od7TWvMAb+U="}]}'
2025-02-16 03:12:26.272 DEBUG [tests.store.test_get_messages] Running test with content topic /toychat/2/huilong/proto
2025-02-16 03:12:26.273 DEBUG [src.steps.store] Relaying message
2025-02-16 03:12:26.273 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21098/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-16 03:12:26.278 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 03:12:26.278 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-16 03:12:26.478 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-16 03:12:26.479 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21098/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Ftoychat%2F2%2Fhuilong%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:12:26.482 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x6b2b08cc371d420e60443d18173ca9f4275264e93fcc29ae4cb8178ac1e7ff8a"}]}'
2025-02-16 03:12:26.482 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-16 03:12:26.483 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26763/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Ftoychat%2F2%2Fhuilong%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:12:26.487 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"7e4935ca7f866ab9d32fc7c022e6895813639bb22a1355508541a97560b6de65","status_code":200,"status_desc":"OK","messages":[{"message_hash":"aysIzDcdQg5gRD0YFzyp9CdSZOk/zCmuTLgXisHn/4o="}]}'
2025-02-16 03:12:26.488 DEBUG [tests.store.test_get_messages] Running test with content topic /statusim/1/community/cbor
2025-02-16 03:12:26.489 DEBUG [src.steps.store] Relaying message
2025-02-16 03:12:26.489 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21098/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-16 03:12:26.495 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 03:12:26.495 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-16 03:12:26.695 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-16 03:12:26.695 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21098/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fstatusim%2F1%2Fcommunity%2Fcbor&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:12:26.698 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x477fdf79617beadfc23ef47916c87e7038dfa2e3ba502964b1f657ab31a50da9"}]}'
2025-02-16 03:12:26.699 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-16 03:12:26.699 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26763/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fstatusim%2F1%2Fcommunity%2Fcbor&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:12:26.703 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"4e6b1364b54f3455585497e31841baf602ca0a080ec493de57e3605e85958f0c","status_code":200,"status_desc":"OK","messages":[{"message_hash":"R3/feWF76t/CPvR5Fsh+cDjfouO6UClksfZXqzGlDak="}]}'
2025-02-16 03:12:26.704 DEBUG [tests.store.test_get_messages] Running test with content topic /app/27/sometopic/someencoding
2025-02-16 03:12:26.705 DEBUG [src.steps.store] Relaying message
2025-02-16 03:12:26.705 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21098/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-16 03:12:26.711 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 03:12:26.711 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-16 03:12:26.912 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-16 03:12:26.912 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21098/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F27%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:12:26.915 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xa6fd7ec64cd426f79eeab2bee0c369be3c45788efc4253e912037412d5b80b54"}]}'
2025-02-16 03:12:26.916 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-16 03:12:26.916 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26763/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F27%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:12:26.921 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"2d115fe8912a4c732d7c8c314501bbc40b56977f24364505b2046b7cc93a1d3c","status_code":200,"status_desc":"OK","messages":[{"message_hash":"pv1+xkzUJvee6rK+4MNpvjxFeI78QlPpEgN0EtW4C1Q="}]}'
2025-02-16 03:12:26.922 DEBUG [tests.store.test_get_messages] Running test with content topic /app/29/sometopic/someencoding
2025-02-16 03:12:26.923 DEBUG [src.steps.store] Relaying message
2025-02-16 03:12:26.923 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21098/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-16 03:12:26.928 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 03:12:26.928 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-16 03:12:27.129 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-16 03:12:27.129 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21098/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F29%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:12:27.132 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x69e1564540fc4557faa69a6be1110679300bfc7f85f460012e489799515b54b1"}]}'
2025-02-16 03:12:27.132 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-16 03:12:27.133 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26763/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F29%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:12:27.137 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"aa974eeae3b79bd52715d7c5d54ff8d4a3dcdbfdfbbe5ec21ab0858b024be51b","status_code":200,"status_desc":"OK","messages":[{"message_hash":"aeFWRUD8RVf6pppr4REGeTAL/H+F9GABLkiXmVFbVLE="}]}'
2025-02-16 03:12:27.138 DEBUG [tests.store.test_get_messages] Running test with content topic /app/20/sometopic/someencoding
2025-02-16 03:12:27.139 DEBUG [src.steps.store] Relaying message
2025-02-16 03:12:27.139 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21098/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-16 03:12:27.144 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 03:12:27.144 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-16 03:12:27.344 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-16 03:12:27.345 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21098/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F20%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:12:27.348 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x1a9f50880f7050735ac186dc051251b14f9d912efa60c78534ba2609d89667e9"}]}'
2025-02-16 03:12:27.348 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-16 03:12:27.349 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26763/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F20%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:12:27.353 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"03197a648fbe5cdb552f4f4dcf2d58dbbb5bc0f011b76ae30c1290517264bd1c","status_code":200,"status_desc":"OK","messages":[{"message_hash":"Gp9QiA9wUHNawYbcBRJRsU+dkS76YMeFNLomCdiWZ+k="}]}'
2025-02-16 03:12:27.356 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-16 03:12:27.357 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-16 03:12:27.357 DEBUG [src.node.waku_node] Stopping container with id 6c42a416a075
2025-02-16 03:12:28.827 DEBUG [src.node.waku_node] Container stopped.
2025-02-16 03:12:28.827 DEBUG [src.node.waku_node] Stopping container with id cef793201073
2025-02-16 03:12:29.331 DEBUG [src.node.waku_node] Container stopped.
2025-02-16 03:12:29.332 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-16 03:12:29.354 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-16 03:12:29.358 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
