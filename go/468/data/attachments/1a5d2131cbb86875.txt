2025-02-16 03:08:49.544 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-16 03:08:49.545 DEBUG [tests.conftest] Running test: test_light_push_with_valid_content_topics with id: 2025-02-16_03-08-49__75aa4ef1-5906-489b-8ea7-839e8404ae1d
2025-02-16 03:08:49.545 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-16 03:08:49.546 DEBUG [src.steps.light_push] Running fixture setup: light_push_setup
2025-02-16 03:08:49.555 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-16 03:08:49.555 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node1_2025-02-16_03-08-49__75aa4ef1-5906-489b-8ea7-839e8404ae1d__wakuorg_nwaku:latest.log
2025-02-16 03:08:49.555 DEBUG [src.node.waku_node] Starting Node...
2025-02-16 03:08:49.555 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-16 03:08:49.556 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-16 03:08:49.557 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.134.74
2025-02-16 03:08:49.557 DEBUG [src.node.docker_mananger] Generated ports ['50334', '50335', '50336', '50337', '50338']
2025-02-16 03:08:49.557 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-16 03:08:49.557 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-16 03:08:49.557 DEBUG [src.node.waku_node] Using volumes []
2025-02-16 03:08:49.557 DEBUG [src.node.docker_mananger] docker run -i -t -p 50334:50334 -p 50335:50335 -p 50336:50336 -p 50337:50337 -p 50338:50338 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=50336 --rest-port=50334 --tcp-port=50335 --discv5-udp-port=50337 --rest-address=0.0.0.0 --nat=extip:172.18.134.74 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a0b20d32f44f5b1bfdaa5a9f5533732dc4fd2f67fd8fcecffaec236d9db36de5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=50338 --metrics-logging=true --lightpush=true --relay=true
2025-02-16 03:08:49.779 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.134.74 waku f1e90ba3d7d3ea6a4a3f12165e5752c49ede9aeaec24ff28b56ee8e01d40f651
2025-02-16 03:08:49.828 DEBUG [src.node.docker_mananger] Container started with ID f1e90ba3d7d3. Setting up logs at ./log/docker/receiving_node1_2025-02-16_03-08-49__75aa4ef1-5906-489b-8ea7-839e8404ae1d__wakuorg_nwaku:latest.log
2025-02-16 03:08:49.828 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 50334
2025-02-16 03:08:49.828 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-16 03:08:49.841 ERROR [src.node.docker_mananger] Max retries reached for container ea6c96b824dc. Exiting log stream.
2025-02-16 03:08:50.363 ERROR [src.node.docker_mananger] Max retries reached for container e4d5e98b1323. Exiting log stream.
2025-02-16 03:08:50.830 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50334/health" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:50.833 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-16 03:08:50.833 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-16 03:08:50.833 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50334/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:50.836 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.134.74/tcp/50335/p2p/16Uiu2HAmTMJswXFLyP5ZX1TGacjpjrgH4H9r7eM2AcSo4zFerqZy","/ip4/172.18.134.74/tcp/50336/ws/p2p/16Uiu2HAmTMJswXFLyP5ZX1TGacjpjrgH4H9r7eM2AcSo4zFerqZy"],"enrUri":"enr:-L24QKw90MYbYT6FUOpFRfAGYh8woFvPN9pWMEraPaAv4pTnTTXOBl4hwY-bHPva3Ls9sqLIca1wSJ7PL0PDPddkYpUCgmlkgnY0gmlwhKwShkqKbXVsdGlhZGRyc5YACASsEoZKBsSfAAoErBKGSgbEoN0DgnJzhQADAQAAiXNlY3AyNTZrMaED2lfMrkMaIzM_k3MzcGmo1Wjl65_U2WnIVjl_88LeUbCDdGNwgsSfg3VkcILEoYV3YWt1Mgk"}'
2025-02-16 03:08:50.836 INFO [src.node.waku_node] REST service is ready !!
2025-02-16 03:08:50.842 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-16 03:08:50.842 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node2_2025-02-16_03-08-49__75aa4ef1-5906-489b-8ea7-839e8404ae1d__wakuorg_nwaku:latest.log
2025-02-16 03:08:50.842 DEBUG [src.node.waku_node] Starting Node...
2025-02-16 03:08:50.843 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-16 03:08:50.844 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-16 03:08:50.844 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.164.250
2025-02-16 03:08:50.844 DEBUG [src.node.docker_mananger] Generated ports ['48307', '48308', '48309', '48310', '48311']
2025-02-16 03:08:50.844 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-16 03:08:50.844 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-16 03:08:50.845 DEBUG [src.node.waku_node] Using volumes []
2025-02-16 03:08:50.845 DEBUG [src.node.docker_mananger] docker run -i -t -p 48307:48307 -p 48308:48308 -p 48309:48309 -p 48310:48310 -p 48311:48311 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=48309 --rest-port=48307 --tcp-port=48308 --discv5-udp-port=48310 --rest-address=0.0.0.0 --nat=extip:172.18.164.250 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=371fe4ca6644307a8d4fc05be93ef266ec5b3601c1fab8ac5542f5bbdafefdf5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=48311 --metrics-logging=true --lightpush=false --relay=true
2025-02-16 03:08:51.075 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.164.250 waku 56392ba27a936e9abcc6cf03c2ff0c16c8e96c68ed63f52e1cf0422bfea7482a
2025-02-16 03:08:51.124 DEBUG [src.node.docker_mananger] Container started with ID 56392ba27a93. Setting up logs at ./log/docker/receiving_node2_2025-02-16_03-08-49__75aa4ef1-5906-489b-8ea7-839e8404ae1d__wakuorg_nwaku:latest.log
2025-02-16 03:08:51.124 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 48307
2025-02-16 03:08:51.124 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-16 03:08:52.125 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48307/health" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:52.127 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-16 03:08:52.128 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-16 03:08:52.128 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48307/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:52.130 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.164.250/tcp/48308/p2p/16Uiu2HAkvKvbS1UUpBtFc7zTMjgUAMa7dA2ttRS61wEsHyPTMb1t","/ip4/172.18.164.250/tcp/48309/ws/p2p/16Uiu2HAkvKvbS1UUpBtFc7zTMjgUAMa7dA2ttRS61wEsHyPTMb1t"],"enrUri":"enr:-L24QHMPE3mgYhxeXGAmHHzW0yW7lnYEQqWKrudE1i1F9HxOEIoP1foe8sSEjH6KcBMgNFtyXNpQOAV_FvLRAyN8TlsCgmlkgnY0gmlwhKwSpPqKbXVsdGlhZGRyc5YACASsEqT6Bry0AAoErBKk-ga8td0DgnJzhQADAQAAiXNlY3AyNTZrMaECDWK6CGOJFTO6oV-bLA1fK1lS39BHWhxAVYs5-NiBK3uDdGNwgry0g3VkcIK8toV3YWt1MgE"}'
2025-02-16 03:08:52.130 INFO [src.node.waku_node] REST service is ready !!
2025-02-16 03:08:52.130 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:48307/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.134.74/tcp/50335/p2p/16Uiu2HAmTMJswXFLyP5ZX1TGacjpjrgH4H9r7eM2AcSo4zFerqZy"]'
2025-02-16 03:08:52.167 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 03:08:52.176 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-16 03:08:52.176 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/lightpush_node1_2025-02-16_03-08-49__75aa4ef1-5906-489b-8ea7-839e8404ae1d__wakuorg_go-waku:latest.log
2025-02-16 03:08:52.176 DEBUG [src.node.waku_node] Starting Node...
2025-02-16 03:08:52.176 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-16 03:08:52.178 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-16 03:08:52.178 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.102.19
2025-02-16 03:08:52.178 DEBUG [src.node.docker_mananger] Generated ports ['65273', '65274', '65275', '65276', '65277']
2025-02-16 03:08:52.178 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-16 03:08:52.178 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-16 03:08:52.178 DEBUG [src.node.waku_node] Using volumes []
2025-02-16 03:08:52.179 DEBUG [src.node.docker_mananger] docker run -i -t -p 65273:65273 -p 65274:65274 -p 65275:65275 -p 65276:65276 -p 65277:65277 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=65275 --rest-port=65273 --tcp-port=65274 --discv5-udp-port=65276 --rest-address=0.0.0.0 --nat=extip:172.18.102.19 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=db862d677b645dcee1b24cff937af3347fffadc6c884af10a689d42d758138e1 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-L24QKw90MYbYT6FUOpFRfAGYh8woFvPN9pWMEraPaAv4pTnTTXOBl4hwY-bHPva3Ls9sqLIca1wSJ7PL0PDPddkYpUCgmlkgnY0gmlwhKwShkqKbXVsdGlhZGRyc5YACASsEoZKBsSfAAoErBKGSgbEoN0DgnJzhQADAQAAiXNlY3AyNTZrMaED2lfMrkMaIzM_k3MzcGmo1Wjl65_U2WnIVjl_88LeUbCDdGNwgsSfg3VkcILEoYV3YWt1Mgk --lightpushnode=/ip4/172.18.134.74/tcp/50335/p2p/16Uiu2HAmTMJswXFLyP5ZX1TGacjpjrgH4H9r7eM2AcSo4zFerqZy --lightpush=true --relay=false --pubsub-topic=/waku/2/rs/3/1
2025-02-16 03:08:52.415 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.102.19 waku 5a81395fa21b3472f003ff8c1d437a66c72a0b77cb0ac045820f6f2a5a434cc9
2025-02-16 03:08:52.475 DEBUG [src.node.docker_mananger] Container started with ID 5a81395fa21b. Setting up logs at ./log/docker/lightpush_node1_2025-02-16_03-08-49__75aa4ef1-5906-489b-8ea7-839e8404ae1d__wakuorg_go-waku:latest.log
2025-02-16 03:08:52.476 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 65273
2025-02-16 03:08:52.477 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-16 03:08:53.477 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65273/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:53.480 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QG_epJxkm2IFn_8mLIeQOB6tHy70h_jwrYBHd-aWpXNQW3WmbyDZQ4aCaEjpUhqgJv8uBf4VQ2g03XiCgIgr6fiGAZUMuu9sgmlkgnY0gmlwhKwRAASCcnOFAAMBAAGJc2VjcDI1NmsxoQJMJdyhjdEOVWu5kLPnqIiUw3_Gf97bm5Pusc9tQRYMooN0Y3CC_vqDdWRwgv78hXdha3UyCA","listenAddresses":["/ip4/127.0.0.1/tcp/65274/p2p/16Uiu2HAkzYvT4qnS6ZdWRzDXWsaAeWFfDwADkwK2Q7n2EVxxAyER","/ip4/127.0.0.1/tcp/65275/ws/p2p/16Uiu2HAkzYvT4qnS6ZdWRzDXWsaAeWFfDwADkwK2Q7n2EVxxAyER","/ip4/172.17.0.4/tcp/65274/p2p/16Uiu2HAkzYvT4qnS6ZdWRzDXWsaAeWFfDwADkwK2Q7n2EVxxAyER","/ip4/172.17.0.4/tcp/65275/ws/p2p/16Uiu2HAkzYvT4qnS6ZdWRzDXWsaAeWFfDwADkwK2Q7n2EVxxAyER"]}'
2025-02-16 03:08:53.480 INFO [src.node.waku_node] REST service is ready !!
2025-02-16 03:08:53.481 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:65273/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.134.74/tcp/50335/p2p/16Uiu2HAmTMJswXFLyP5ZX1TGacjpjrgH4H9r7eM2AcSo4zFerqZy", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-16 03:08:53.483 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-16 03:08:53.483 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:65273/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.164.250/tcp/48308/p2p/16Uiu2HAkvKvbS1UUpBtFc7zTMjgUAMa7dA2ttRS61wEsHyPTMb1t", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-16 03:08:53.500 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-16 03:08:53.502 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:50334/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-16 03:08:53.509 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 03:08:53.510 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:48307/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-16 03:08:53.514 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 03:08:53.515 DEBUG [tests.light_push.test_publish] Running test with content topic A simple string
2025-02-16 03:08:53.516 DEBUG [src.steps.light_push] Lightpushing message
2025-02-16 03:08:53.516 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:65273/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "Hello World!", "timestamp": 1739675333515748608}}'
2025-02-16 03:08:53.522 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-16 03:08:53.523 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 03:08:53.624 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:53.625 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:53.627 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Hello World!","version":0,"timestamp":1739675333515748608,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:53.629 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:53.629 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48307/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:53.631 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Hello World!","version":0,"timestamp":1739675333515748608,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:53.633 DEBUG [tests.light_push.test_publish] Running test with content topic An integer
2025-02-16 03:08:53.633 DEBUG [src.steps.light_push] Lightpushing message
2025-02-16 03:08:53.633 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:65273/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "1234567890", "timestamp": 1739675333633595904}}'
2025-02-16 03:08:53.639 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-16 03:08:53.642 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 03:08:53.742 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:53.743 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:53.745 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"1234567890","version":0,"timestamp":1739675333633595904,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:53.747 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:53.747 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48307/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:53.749 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"1234567890","version":0,"timestamp":1739675333633595904,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:53.750 DEBUG [tests.light_push.test_publish] Running test with content topic A dictionary
2025-02-16 03:08:53.751 DEBUG [src.steps.light_push] Lightpushing message
2025-02-16 03:08:53.751 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:65273/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "{\"key\": \"value\"}", "timestamp": 1739675333751008000}}'
2025-02-16 03:08:53.756 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-16 03:08:53.758 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 03:08:53.858 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:53.859 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:53.861 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"{\\"key\\": \\"value\\"}","version":0,"timestamp":1739675333751008000,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:53.863 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:53.863 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48307/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:53.865 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"{\\"key\\": \\"value\\"}","version":0,"timestamp":1739675333751008000,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:53.867 DEBUG [tests.light_push.test_publish] Running test with content topic Chinese characters
2025-02-16 03:08:53.867 DEBUG [src.steps.light_push] Lightpushing message
2025-02-16 03:08:53.867 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:65273/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "\u8fd9\u662f\u4e00\u4e9b\u4e2d\u6587", "timestamp": 1739675333867390720}}'
2025-02-16 03:08:53.873 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-16 03:08:53.874 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 03:08:53.975 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:53.976 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:53.978 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xe8\xbf\x99\xe6\x98\xaf\xe4\xb8\x80\xe4\xba\x9b\xe4\xb8\xad\xe6\x96\x87","version":0,"timestamp":1739675333867390720,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:53.980 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:53.980 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48307/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:53.982 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xe8\xbf\x99\xe6\x98\xaf\xe4\xb8\x80\xe4\xba\x9b\xe4\xb8\xad\xe6\x96\x87","version":0,"timestamp":1739675333867390720,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:53.984 DEBUG [tests.light_push.test_publish] Running test with content topic Emojis
2025-02-16 03:08:53.984 DEBUG [src.steps.light_push] Lightpushing message
2025-02-16 03:08:53.984 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:65273/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "\ud83d\ude80\ud83c\udf1f\u2728", "timestamp": 1739675333984340480}}'
2025-02-16 03:08:53.991 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-16 03:08:53.992 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 03:08:54.093 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:54.093 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:54.096 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xf0\x9f\x9a\x80\xf0\x9f\x8c\x9f\xe2\x9c\xa8","version":0,"timestamp":1739675333984340480,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:54.097 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:54.097 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48307/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:54.099 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xf0\x9f\x9a\x80\xf0\x9f\x8c\x9f\xe2\x9c\xa8","version":0,"timestamp":1739675333984340480,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:54.101 DEBUG [tests.light_push.test_publish] Running test with content topic Lorem ipsum text
2025-02-16 03:08:54.101 DEBUG [src.steps.light_push] Lightpushing message
2025-02-16 03:08:54.101 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:65273/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "Lorem ipsum dolor sit amet", "timestamp": 1739675334101550592}}'
2025-02-16 03:08:54.107 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-16 03:08:54.108 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 03:08:54.209 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:54.210 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:54.212 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Lorem ipsum dolor sit amet","version":0,"timestamp":1739675334101550592,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:54.214 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:54.214 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48307/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:54.216 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Lorem ipsum dolor sit amet","version":0,"timestamp":1739675334101550592,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:54.217 DEBUG [tests.light_push.test_publish] Running test with content topic HTML content
2025-02-16 03:08:54.218 DEBUG [src.steps.light_push] Lightpushing message
2025-02-16 03:08:54.218 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:65273/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "<html><body>Hello</body></html>", "timestamp": 1739675334217981184}}'
2025-02-16 03:08:54.225 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-16 03:08:54.226 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 03:08:54.327 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:54.327 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:54.330 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"<html><body>Hello</body></html>","version":0,"timestamp":1739675334217981184,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:54.331 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:54.331 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48307/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:54.334 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"<html><body>Hello</body></html>","version":0,"timestamp":1739675334217981184,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:54.335 DEBUG [tests.light_push.test_publish] Running test with content topic Cyrillic characters
2025-02-16 03:08:54.335 DEBUG [src.steps.light_push] Lightpushing message
2025-02-16 03:08:54.335 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:65273/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "\u041f\u0440\u0438\u0432\u0435\u0442", "timestamp": 1739675334335473408}}'
2025-02-16 03:08:54.341 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-16 03:08:54.343 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 03:08:54.443 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:54.443 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:54.446 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xd0\x9f\xd1\x80\xd0\xb8\xd0\xb2\xd0\xb5\xd1\x82","version":0,"timestamp":1739675334335473408,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:54.447 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:54.448 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48307/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:54.450 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xd0\x9f\xd1\x80\xd0\xb8\xd0\xb2\xd0\xb5\xd1\x82","version":0,"timestamp":1739675334335473408,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:54.451 DEBUG [tests.light_push.test_publish] Running test with content topic Base64 encoded string
2025-02-16 03:08:54.452 DEBUG [src.steps.light_push] Lightpushing message
2025-02-16 03:08:54.452 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:65273/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "Base64==dGVzdA==", "timestamp": 1739675334452075776}}'
2025-02-16 03:08:54.458 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-16 03:08:54.459 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 03:08:54.559 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:54.559 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:54.562 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Base64==dGVzdA==","version":0,"timestamp":1739675334452075776,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:54.563 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:54.563 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48307/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:54.565 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Base64==dGVzdA==","version":0,"timestamp":1739675334452075776,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:54.568 DEBUG [tests.light_push.test_publish] Running test with content topic Binary data
2025-02-16 03:08:54.568 DEBUG [src.steps.light_push] Lightpushing message
2025-02-16 03:08:54.568 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:65273/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "d29ya2luZyB3aXRoIGJpbmFyeSBkYXRh: PQ", "timestamp": 1739675334568278272}}'
2025-02-16 03:08:54.575 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-16 03:08:54.578 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 03:08:54.678 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:54.678 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:54.681 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"d29ya2luZyB3aXRoIGJpbmFyeSBkYXRh: PQ","version":0,"timestamp":1739675334568278272,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:54.682 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:54.683 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48307/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:54.685 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"d29ya2luZyB3aXRoIGJpbmFyeSBkYXRh: PQ","version":0,"timestamp":1739675334568278272,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:54.686 DEBUG [tests.light_push.test_publish] Running test with content topic Special characters with whitespace
2025-02-16 03:08:54.687 DEBUG [src.steps.light_push] Lightpushing message
2025-02-16 03:08:54.687 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:65273/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "\t\nSpecial\tCharacters\n", "timestamp": 1739675334686877696}}'
2025-02-16 03:08:54.694 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-16 03:08:54.695 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 03:08:54.796 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:54.796 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:54.798 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\\t\\nSpecial\\tCharacters\\n","version":0,"timestamp":1739675334686877696,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:54.800 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:54.800 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48307/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:54.802 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\\t\\nSpecial\\tCharacters\\n","version":0,"timestamp":1739675334686877696,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:54.804 DEBUG [tests.light_push.test_publish] Running test with content topic Boolean false as a string
2025-02-16 03:08:54.804 DEBUG [src.steps.light_push] Lightpushing message
2025-02-16 03:08:54.804 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:65273/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "False", "timestamp": 1739675334804515840}}'
2025-02-16 03:08:54.811 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-16 03:08:54.812 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 03:08:54.913 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:54.913 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:54.915 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"False","version":0,"timestamp":1739675334804515840,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:54.917 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:54.917 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48307/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:54.919 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"False","version":0,"timestamp":1739675334804515840,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:54.921 DEBUG [tests.light_push.test_publish] Running test with content topic A float number
2025-02-16 03:08:54.921 DEBUG [src.steps.light_push] Lightpushing message
2025-02-16 03:08:54.921 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:65273/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "3.1415926535", "timestamp": 1739675334921580800}}'
2025-02-16 03:08:54.928 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-16 03:08:54.929 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 03:08:55.030 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:55.030 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:55.033 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"3.1415926535","version":0,"timestamp":1739675334921580800,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:55.034 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:55.034 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48307/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:55.036 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"3.1415926535","version":0,"timestamp":1739675334921580800,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:55.038 DEBUG [tests.light_push.test_publish] Running test with content topic A list
2025-02-16 03:08:55.038 DEBUG [src.steps.light_push] Lightpushing message
2025-02-16 03:08:55.038 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:65273/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "[1, 2, 3, 4, 5]", "timestamp": 1739675335038302976}}'
2025-02-16 03:08:55.044 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-16 03:08:55.045 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 03:08:55.145 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:55.146 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:55.148 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"[1, 2, 3, 4, 5]","version":0,"timestamp":1739675335038302976,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:55.150 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:55.150 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48307/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:55.152 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"[1, 2, 3, 4, 5]","version":0,"timestamp":1739675335038302976,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:55.154 DEBUG [tests.light_push.test_publish] Running test with content topic Hexadecimal number as a string
2025-02-16 03:08:55.154 DEBUG [src.steps.light_push] Lightpushing message
2025-02-16 03:08:55.154 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:65273/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "0xDEADBEEF", "timestamp": 1739675335154425344}}'
2025-02-16 03:08:55.161 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-16 03:08:55.163 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 03:08:55.263 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:55.264 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:55.266 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"0xDEADBEEF","version":0,"timestamp":1739675335154425344,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:55.268 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:55.268 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48307/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:55.271 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"0xDEADBEEF","version":0,"timestamp":1739675335154425344,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:55.272 DEBUG [tests.light_push.test_publish] Running test with content topic Email format
2025-02-16 03:08:55.272 DEBUG [src.steps.light_push] Lightpushing message
2025-02-16 03:08:55.272 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:65273/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "user@example.com", "timestamp": 1739675335272540160}}'
2025-02-16 03:08:55.278 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-16 03:08:55.281 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 03:08:55.381 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:55.382 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:55.384 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"user@example.com","version":0,"timestamp":1739675335272540160,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:55.386 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:55.386 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48307/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:55.388 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"user@example.com","version":0,"timestamp":1739675335272540160,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:55.390 DEBUG [tests.light_push.test_publish] Running test with content topic URL format
2025-02-16 03:08:55.390 DEBUG [src.steps.light_push] Lightpushing message
2025-02-16 03:08:55.390 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:65273/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "http://example.com", "timestamp": 1739675335390575104}}'
2025-02-16 03:08:55.397 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-16 03:08:55.398 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 03:08:55.499 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:55.499 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:55.501 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"http://example.com","version":0,"timestamp":1739675335390575104,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:55.503 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:55.503 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48307/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:55.505 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"http://example.com","version":0,"timestamp":1739675335390575104,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:55.506 DEBUG [tests.light_push.test_publish] Running test with content topic Date and time in ISO format
2025-02-16 03:08:55.507 DEBUG [src.steps.light_push] Lightpushing message
2025-02-16 03:08:55.507 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:65273/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "2023-11-01T12:00:00Z", "timestamp": 1739675335507258368}}'
2025-02-16 03:08:55.513 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-16 03:08:55.515 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 03:08:55.616 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:55.616 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:55.618 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"2023-11-01T12:00:00Z","version":0,"timestamp":1739675335507258368,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:55.620 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:55.620 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48307/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:55.622 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"2023-11-01T12:00:00Z","version":0,"timestamp":1739675335507258368,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:55.624 DEBUG [tests.light_push.test_publish] Running test with content topic String with escaped quotes
2025-02-16 03:08:55.624 DEBUG [src.steps.light_push] Lightpushing message
2025-02-16 03:08:55.624 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:65273/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "\"Escaped\" \\\"quotes\\\"", "timestamp": 1739675335624422144}}'
2025-02-16 03:08:55.630 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-16 03:08:55.631 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 03:08:55.732 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:55.733 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:55.735 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\\"Escaped\\" \\\\\\"quotes\\\\\\"","version":0,"timestamp":1739675335624422144,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:55.737 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:55.737 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48307/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:55.739 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\\"Escaped\\" \\\\\\"quotes\\\\\\"","version":0,"timestamp":1739675335624422144,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:55.741 DEBUG [tests.light_push.test_publish] Running test with content topic A regular expression
2025-02-16 03:08:55.741 DEBUG [src.steps.light_push] Lightpushing message
2025-02-16 03:08:55.741 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:65273/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "Regular expression: ^[a-z0-9_-]{3,16}$", "timestamp": 1739675335741330688}}'
2025-02-16 03:08:55.748 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-16 03:08:55.748 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 03:08:55.849 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:55.850 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:55.852 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Regular expression: ^[a-z0-9_-]{3,16}$","version":0,"timestamp":1739675335741330688,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:55.853 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:55.854 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48307/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:55.856 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Regular expression: ^[a-z0-9_-]{3,16}$","version":0,"timestamp":1739675335741330688,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:55.857 DEBUG [tests.light_push.test_publish] Running test with content topic A very long string
2025-02-16 03:08:55.858 DEBUG [src.steps.light_push] Lightpushing message
2025-02-16 03:08:55.858 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:65273/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx", "timestamp": 1739675335857981440}}'
2025-02-16 03:08:55.867 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-16 03:08:55.867 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 03:08:55.967 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:55.967 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:55.970 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx","version":0,"timestamp":1739675335857981440,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:55.972 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:55.972 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48307/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:55.974 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx","version":0,"timestamp":1739675335857981440,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:55.976 DEBUG [tests.light_push.test_publish] Running test with content topic A JSON string
2025-02-16 03:08:55.976 DEBUG [src.steps.light_push] Lightpushing message
2025-02-16 03:08:55.977 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:65273/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "{\"name\": \"John\", \"age\": 30, \"city\": \"New York\"}", "timestamp": 1739675335976628224}}'
2025-02-16 03:08:55.984 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-16 03:08:55.986 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 03:08:56.086 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:56.086 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:56.089 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"{\\"name\\": \\"John\\", \\"age\\": 30, \\"city\\": \\"New York\\"}","version":0,"timestamp":1739675335976628224,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:56.090 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:56.091 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48307/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:56.093 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"{\\"name\\": \\"John\\", \\"age\\": 30, \\"city\\": \\"New York\\"}","version":0,"timestamp":1739675335976628224,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:56.094 DEBUG [tests.light_push.test_publish] Running test with content topic A Unix path
2025-02-16 03:08:56.094 DEBUG [src.steps.light_push] Lightpushing message
2025-02-16 03:08:56.095 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:65273/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/usr/local/bin", "timestamp": 1739675336094792448}}'
2025-02-16 03:08:56.102 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-16 03:08:56.103 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 03:08:56.203 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:56.203 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:56.206 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/usr/local/bin","version":0,"timestamp":1739675336094792448,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:56.207 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:56.208 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48307/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:56.210 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/usr/local/bin","version":0,"timestamp":1739675336094792448,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:56.211 DEBUG [tests.light_push.test_publish] Running test with content topic A Windows path
2025-02-16 03:08:56.212 DEBUG [src.steps.light_push] Lightpushing message
2025-02-16 03:08:56.212 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:65273/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "C:\\Windows\\System32", "timestamp": 1739675336211930368}}'
2025-02-16 03:08:56.218 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-16 03:08:56.219 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 03:08:56.321 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:56.321 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:56.324 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"C:\\\\Windows\\\\System32","version":0,"timestamp":1739675336211930368,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:56.325 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:56.325 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48307/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:56.328 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"C:\\\\Windows\\\\System32","version":0,"timestamp":1739675336211930368,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:56.330 DEBUG [tests.light_push.test_publish] Running test with content topic An SQL query
2025-02-16 03:08:56.330 DEBUG [src.steps.light_push] Lightpushing message
2025-02-16 03:08:56.330 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:65273/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "SELECT * FROM users WHERE id = 1;", "timestamp": 1739675336330300416}}'
2025-02-16 03:08:56.337 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-16 03:08:56.338 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 03:08:56.438 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:56.439 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:56.441 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"SELECT * FROM users WHERE id = 1;","version":0,"timestamp":1739675336330300416,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:56.443 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:56.443 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48307/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:56.446 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"SELECT * FROM users WHERE id = 1;","version":0,"timestamp":1739675336330300416,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:56.448 DEBUG [tests.light_push.test_publish] Running test with content topic JavaScript code snippet
2025-02-16 03:08:56.448 DEBUG [src.steps.light_push] Lightpushing message
2025-02-16 03:08:56.448 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:65273/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "function test() { console.log('Hello World'); }", "timestamp": 1739675336448412416}}'
2025-02-16 03:08:56.456 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-16 03:08:56.456 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 03:08:56.557 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:56.557 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:56.560 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"function test() { console.log(\'Hello World\'); }","version":0,"timestamp":1739675336448412416,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:56.562 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:56.562 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48307/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:56.565 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"function test() { console.log(\'Hello World\'); }","version":0,"timestamp":1739675336448412416,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:56.566 DEBUG [tests.light_push.test_publish] Running test with content topic A CSS snippet
2025-02-16 03:08:56.566 DEBUG [src.steps.light_push] Lightpushing message
2025-02-16 03:08:56.567 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:65273/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "body { background-color: #fff; }", "timestamp": 1739675336566794240}}'
2025-02-16 03:08:56.574 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-16 03:08:56.574 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 03:08:56.675 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:56.675 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:56.678 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"body { background-color: #fff; }","version":0,"timestamp":1739675336566794240,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:56.679 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:56.679 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48307/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:56.681 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"body { background-color: #fff; }","version":0,"timestamp":1739675336566794240,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:56.683 DEBUG [tests.light_push.test_publish] Running test with content topic A Python one-liner
2025-02-16 03:08:56.683 DEBUG [src.steps.light_push] Lightpushing message
2025-02-16 03:08:56.683 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:65273/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "print('Hello World')", "timestamp": 1739675336683433728}}'
2025-02-16 03:08:56.690 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-16 03:08:56.691 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 03:08:56.791 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:56.791 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:56.794 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"print(\'Hello World\')","version":0,"timestamp":1739675336683433728,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:56.796 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:56.796 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48307/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:56.798 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"print(\'Hello World\')","version":0,"timestamp":1739675336683433728,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:56.800 DEBUG [tests.light_push.test_publish] Running test with content topic An IP address
2025-02-16 03:08:56.800 DEBUG [src.steps.light_push] Lightpushing message
2025-02-16 03:08:56.800 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:65273/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "192.168.1.1", "timestamp": 1739675336800540672}}'
2025-02-16 03:08:56.806 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-16 03:08:56.807 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 03:08:56.907 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:56.908 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:56.911 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"192.168.1.1","version":0,"timestamp":1739675336800540672,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:56.912 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:56.912 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48307/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:56.914 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"192.168.1.1","version":0,"timestamp":1739675336800540672,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:56.916 DEBUG [tests.light_push.test_publish] Running test with content topic A domain name
2025-02-16 03:08:56.916 DEBUG [src.steps.light_push] Lightpushing message
2025-02-16 03:08:56.916 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:65273/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "www.example.com", "timestamp": 1739675336916491776}}'
2025-02-16 03:08:56.923 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-16 03:08:56.923 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 03:08:57.024 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:57.024 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:57.027 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"www.example.com","version":0,"timestamp":1739675336916491776,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:57.028 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:57.028 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48307/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:57.031 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"www.example.com","version":0,"timestamp":1739675336916491776,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:57.032 DEBUG [tests.light_push.test_publish] Running test with content topic A user agent string
2025-02-16 03:08:57.032 DEBUG [src.steps.light_push] Lightpushing message
2025-02-16 03:08:57.032 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:65273/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "Mozilla/5.0 (Windows NT 10.0; Win64; x64)", "timestamp": 1739675337032613888}}'
2025-02-16 03:08:57.040 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-16 03:08:57.040 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 03:08:57.141 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:57.141 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:57.143 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Mozilla/5.0 (Windows NT 10.0; Win64; x64)","version":0,"timestamp":1739675337032613888,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:57.145 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:57.145 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48307/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:57.147 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Mozilla/5.0 (Windows NT 10.0; Win64; x64)","version":0,"timestamp":1739675337032613888,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:57.148 DEBUG [tests.light_push.test_publish] Running test with content topic A credit card number
2025-02-16 03:08:57.149 DEBUG [src.steps.light_push] Lightpushing message
2025-02-16 03:08:57.149 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:65273/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "1234-5678-9012-3456", "timestamp": 1739675337149206272}}'
2025-02-16 03:08:57.155 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-16 03:08:57.155 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 03:08:57.257 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:57.257 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:57.260 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"1234-5678-9012-3456","version":0,"timestamp":1739675337149206272,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:57.261 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:57.261 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48307/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:57.264 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"1234-5678-9012-3456","version":0,"timestamp":1739675337149206272,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:57.265 DEBUG [tests.light_push.test_publish] Running test with content topic A phone number
2025-02-16 03:08:57.266 DEBUG [src.steps.light_push] Lightpushing message
2025-02-16 03:08:57.266 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:65273/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "+1234567890", "timestamp": 1739675337265819904}}'
2025-02-16 03:08:57.273 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-16 03:08:57.275 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 03:08:57.375 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:57.375 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:57.378 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"+1234567890","version":0,"timestamp":1739675337265819904,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:57.380 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:57.380 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48307/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:57.382 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"+1234567890","version":0,"timestamp":1739675337265819904,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:57.384 DEBUG [tests.light_push.test_publish] Running test with content topic A UUID
2025-02-16 03:08:57.384 DEBUG [src.steps.light_push] Lightpushing message
2025-02-16 03:08:57.384 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:65273/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "123e4567-e89b-12d3-a456-426614174000", "timestamp": 1739675337384349952}}'
2025-02-16 03:08:57.392 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-16 03:08:57.394 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 03:08:57.494 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:57.494 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:57.497 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"123e4567-e89b-12d3-a456-426614174000","version":0,"timestamp":1739675337384349952,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:57.498 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:57.498 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48307/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:57.500 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"123e4567-e89b-12d3-a456-426614174000","version":0,"timestamp":1739675337384349952,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:57.502 DEBUG [tests.light_push.test_publish] Running test with content topic A hashtag
2025-02-16 03:08:57.502 DEBUG [src.steps.light_push] Lightpushing message
2025-02-16 03:08:57.502 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:65273/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "#helloWorld", "timestamp": 1739675337502348544}}'
2025-02-16 03:08:57.508 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-16 03:08:57.509 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 03:08:57.610 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:57.611 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:57.613 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"#helloWorld","version":0,"timestamp":1739675337502348544,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:57.615 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:57.615 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48307/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:57.617 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"#helloWorld","version":0,"timestamp":1739675337502348544,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:57.619 DEBUG [tests.light_push.test_publish] Running test with content topic A Twitter handle
2025-02-16 03:08:57.619 DEBUG [src.steps.light_push] Lightpushing message
2025-02-16 03:08:57.619 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:65273/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "@username", "timestamp": 1739675337619267584}}'
2025-02-16 03:08:57.624 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-16 03:08:57.626 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 03:08:57.727 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:57.728 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:57.730 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"@username","version":0,"timestamp":1739675337619267584,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:57.731 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:57.732 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48307/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:57.734 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"@username","version":0,"timestamp":1739675337619267584,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:57.735 DEBUG [tests.light_push.test_publish] Running test with content topic A password
2025-02-16 03:08:57.736 DEBUG [src.steps.light_push] Lightpushing message
2025-02-16 03:08:57.736 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:65273/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "P@ssw0rd!", "timestamp": 1739675337736037888}}'
2025-02-16 03:08:57.744 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-16 03:08:57.746 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 03:08:57.846 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:57.846 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:57.849 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"P@ssw0rd!","version":0,"timestamp":1739675337736037888,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:57.851 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:57.851 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48307/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:57.853 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"P@ssw0rd!","version":0,"timestamp":1739675337736037888,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:57.854 DEBUG [tests.light_push.test_publish] Running test with content topic A date in common format
2025-02-16 03:08:57.855 DEBUG [src.steps.light_push] Lightpushing message
2025-02-16 03:08:57.855 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:65273/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "01/11/2023", "timestamp": 1739675337855208448}}'
2025-02-16 03:08:57.861 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-16 03:08:57.862 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 03:08:57.963 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:57.963 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:57.966 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"01/11/2023","version":0,"timestamp":1739675337855208448,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:57.967 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:57.968 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48307/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:57.970 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"01/11/2023","version":0,"timestamp":1739675337855208448,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:57.971 DEBUG [tests.light_push.test_publish] Running test with content topic A time string
2025-02-16 03:08:57.971 DEBUG [src.steps.light_push] Lightpushing message
2025-02-16 03:08:57.972 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:65273/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "12:00:00", "timestamp": 1739675337971814912}}'
2025-02-16 03:08:57.977 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-16 03:08:57.978 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 03:08:58.079 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:58.079 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:58.082 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"12:00:00","version":0,"timestamp":1739675337971814912,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:58.083 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:58.083 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48307/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:58.086 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"12:00:00","version":0,"timestamp":1739675337971814912,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:58.087 DEBUG [tests.light_push.test_publish] Running test with content topic A mathematical equation
2025-02-16 03:08:58.088 DEBUG [src.steps.light_push] Lightpushing message
2025-02-16 03:08:58.088 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:65273/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "E = mc^2", "timestamp": 1739675338088046592}}'
2025-02-16 03:08:58.094 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-16 03:08:58.095 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 03:08:58.195 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:58.196 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:58.198 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"E = mc^2","version":0,"timestamp":1739675338088046592,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:58.200 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-16 03:08:58.200 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48307/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:08:58.202 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"E = mc^2","version":0,"timestamp":1739675338088046592,"ephemeral":false,"proof":""}]'
2025-02-16 03:08:58.205 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-16 03:08:58.206 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-16 03:08:58.206 DEBUG [src.node.waku_node] Stopping container with id f1e90ba3d7d3
2025-02-16 03:08:58.806 DEBUG [src.node.waku_node] Container stopped.
2025-02-16 03:08:58.807 DEBUG [src.node.waku_node] Stopping container with id 56392ba27a93
2025-02-16 03:08:59.671 DEBUG [src.node.waku_node] Container stopped.
2025-02-16 03:08:59.672 DEBUG [src.node.waku_node] Stopping container with id 5a81395fa21b
2025-02-16 03:08:59.687 ERROR [src.node.docker_mananger] Max retries reached for container f1e90ba3d7d3. Exiting log stream.
2025-02-16 03:09:00.157 DEBUG [src.node.waku_node] Container stopped.
2025-02-16 03:09:00.158 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-16 03:09:00.210 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-16 03:09:00.226 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-16 03:09:00.232 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
