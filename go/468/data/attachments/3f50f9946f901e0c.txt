2025-02-16 03:13:22.226 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-16 03:13:22.226 DEBUG [tests.conftest] Running test: test_unsubscribe_from_some_pubsub_topics with id: 2025-02-16_03-13-22__73836add-f32c-4f47-b81d-20c26fa5c364
2025-02-16 03:13:22.226 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-16 03:13:22.226 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-16 03:13:22.227 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-16 03:13:22.233 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-16 03:13:22.233 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-16_03-13-22__73836add-f32c-4f47-b81d-20c26fa5c364__wakuorg_nwaku:latest.log
2025-02-16 03:13:22.234 DEBUG [src.node.waku_node] Starting Node...
2025-02-16 03:13:22.234 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-16 03:13:22.235 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-16 03:13:22.235 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.9.199
2025-02-16 03:13:22.236 DEBUG [src.node.docker_mananger] Generated ports ['58411', '58412', '58413', '58414', '58415']
2025-02-16 03:13:22.236 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-16 03:13:22.236 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-16 03:13:22.236 DEBUG [src.node.waku_node] Using volumes []
2025-02-16 03:13:22.236 DEBUG [src.node.docker_mananger] docker run -i -t -p 58411:58411 -p 58412:58412 -p 58413:58413 -p 58414:58414 -p 58415:58415 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=58413 --rest-port=58411 --tcp-port=58412 --discv5-udp-port=58414 --rest-address=0.0.0.0 --nat=extip:172.18.9.199 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=d1c8544c8b3f4a8decfdfbfed403b0dafa0bcf0fecc5a5edd10dabfac7ddf8e5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=58415 --metrics-logging=true --relay=true --filter=true --pubsub-topic=/waku/2/rs/2/0 --pubsub-topic=/waku/2/rs/2/1 --pubsub-topic=/waku/2/rs/2/2 --pubsub-topic=/waku/2/rs/2/3 --pubsub-topic=/waku/2/rs/2/4 --pubsub-topic=/waku/2/rs/2/5 --pubsub-topic=/waku/2/rs/2/6 --pubsub-topic=/waku/2/rs/2/7
2025-02-16 03:13:22.483 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.9.199 waku 77522a024631f8150b6ea155ac4b6ce7742f3d43b5e82108a4e0f25ee7bcd81d
2025-02-16 03:13:22.532 DEBUG [src.node.docker_mananger] Container started with ID 77522a024631. Setting up logs at ./log/docker/node1_2025-02-16_03-13-22__73836add-f32c-4f47-b81d-20c26fa5c364__wakuorg_nwaku:latest.log
2025-02-16 03:13:22.533 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 58411
2025-02-16 03:13:22.534 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-16 03:13:23.032 ERROR [src.node.docker_mananger] Max retries reached for container ff9d1b45f0f5. Exiting log stream.
2025-02-16 03:13:23.534 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58411/health" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:13:23.537 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-16 03:13:23.537 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-16 03:13:23.537 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58411/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:13:23.539 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.9.199/tcp/58412/p2p/16Uiu2HAkyV8aA1YABAJAQyqzeKo5nK9Y87FXPGoK1LEB91uGVFXX","/ip4/172.18.9.199/tcp/58413/ws/p2p/16Uiu2HAkyV8aA1YABAJAQyqzeKo5nK9Y87FXPGoK1LEB91uGVFXX"],"enrUri":"enr:-Mu4QIJb4aUfnQxI9M_Bb8sLrcFZjxMJ0WY8feFR24GTYsptPCs6j5zLdc36nssf-X-6EwId5a5QPSioPvejfMQO_JICgmlkgnY0gmlwhKwSCceKbXVsdGlhZGRyc5YACASsEgnHBuQsAAoErBIJxwbkLd0DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQI8UY7uMfX4wgnUjuyk-X0jey_BhkLDB4fjkwVO0QS_soN0Y3CC5CyDdWRwguQuhXdha3UyBQ"}'
2025-02-16 03:13:23.540 INFO [src.node.waku_node] REST service is ready !!
2025-02-16 03:13:23.546 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-16 03:13:23.546 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-16_03-13-22__73836add-f32c-4f47-b81d-20c26fa5c364__wakuorg_go-waku:latest.log
2025-02-16 03:13:23.546 DEBUG [src.node.waku_node] Starting Node...
2025-02-16 03:13:23.547 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-16 03:13:23.548 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-16 03:13:23.548 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.66.108
2025-02-16 03:13:23.548 DEBUG [src.node.docker_mananger] Generated ports ['55191', '55192', '55193', '55194', '55195']
2025-02-16 03:13:23.548 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-16 03:13:23.549 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-16 03:13:23.549 DEBUG [src.node.waku_node] Using volumes []
2025-02-16 03:13:23.549 DEBUG [src.node.docker_mananger] docker run -i -t -p 55191:55191 -p 55192:55192 -p 55193:55193 -p 55194:55194 -p 55195:55195 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=55193 --rest-port=55191 --tcp-port=55192 --discv5-udp-port=55194 --rest-address=0.0.0.0 --nat=extip:172.18.66.108 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=55a6c32cabeeffb5bda0ba7cafe50954523cc349bf16affd6d5dd3fa9e346a8f --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-Mu4QIJb4aUfnQxI9M_Bb8sLrcFZjxMJ0WY8feFR24GTYsptPCs6j5zLdc36nssf-X-6EwId5a5QPSioPvejfMQO_JICgmlkgnY0gmlwhKwSCceKbXVsdGlhZGRyc5YACASsEgnHBuQsAAoErBIJxwbkLd0DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQI8UY7uMfX4wgnUjuyk-X0jey_BhkLDB4fjkwVO0QS_soN0Y3CC5CyDdWRwguQuhXdha3UyBQ --pubsub-topic=/waku/2/rs/2/0 --pubsub-topic=/waku/2/rs/2/1 --pubsub-topic=/waku/2/rs/2/2 --pubsub-topic=/waku/2/rs/2/3 --pubsub-topic=/waku/2/rs/2/4 --pubsub-topic=/waku/2/rs/2/5 --pubsub-topic=/waku/2/rs/2/6 --pubsub-topic=/waku/2/rs/2/7
2025-02-16 03:13:23.788 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.66.108 waku 1f623b66593487bb373ad3c8d938394804ec3b0f463c3d0705444fa374e89e0e
2025-02-16 03:13:23.841 DEBUG [src.node.docker_mananger] Container started with ID 1f623b665934. Setting up logs at ./log/docker/node2_2025-02-16_03-13-22__73836add-f32c-4f47-b81d-20c26fa5c364__wakuorg_go-waku:latest.log
2025-02-16 03:13:23.842 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 55191
2025-02-16 03:13:23.842 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-16 03:13:24.842 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55191/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:13:24.845 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-K-4QF72asrXQiyKL_OR7Rbgwwz1TAqhTammsM7qBH3wfyB5LB55rc1lnxs0MdaAjh0pdiywIYcjgo2Y0MFy0yBg3nuGAZUMvxN8gmlkgnY0gmlwhKwRAAOCcnOTAAIIAAAAAQACAAMABAAFAAYAB4lzZWNwMjU2azGhAq7xSqGHtv9Nriz3IKY4F9Xdk52-bvzrH4ugEiHBCI2Og3RjcILXmIN1ZHCC15qFd2FrdTIB","listenAddresses":["/ip4/127.0.0.1/tcp/55192/p2p/16Uiu2HAm7CaKSuNJhvxSqq2SdJHUFiNRZMzoBKt68W33nPy29WEy","/ip4/127.0.0.1/tcp/55193/ws/p2p/16Uiu2HAm7CaKSuNJhvxSqq2SdJHUFiNRZMzoBKt68W33nPy29WEy","/ip4/172.17.0.3/tcp/55192/p2p/16Uiu2HAm7CaKSuNJhvxSqq2SdJHUFiNRZMzoBKt68W33nPy29WEy","/ip4/172.17.0.3/tcp/55193/ws/p2p/16Uiu2HAm7CaKSuNJhvxSqq2SdJHUFiNRZMzoBKt68W33nPy29WEy"]}'
2025-02-16 03:13:24.845 INFO [src.node.waku_node] REST service is ready !!
2025-02-16 03:13:24.846 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55191/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.9.199/tcp/58412/p2p/16Uiu2HAkyV8aA1YABAJAQyqzeKo5nK9Y87FXPGoK1LEB91uGVFXX", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-16 03:13:24.848 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-16 03:13:24.848 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58411/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2", "/waku/2/rs/2/3", "/waku/2/rs/2/4", "/waku/2/rs/2/5", "/waku/2/rs/2/6", "/waku/2/rs/2/7"]'
2025-02-16 03:13:24.851 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 03:13:24.851 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55191/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2", "/waku/2/rs/2/3", "/waku/2/rs/2/4", "/waku/2/rs/2/5", "/waku/2/rs/2/6", "/waku/2/rs/2/7"]'
2025-02-16 03:13:24.853 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-16 03:13:24.854 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58411/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-16 03:13:24.858 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 03:13:24.859 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 03:13:24.959 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 03:13:24.959 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58411/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:13:24.962 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739675604853870848,"ephemeral":false,"proof":""}]'
2025-02-16 03:13:24.964 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-16 03:13:24.964 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55191/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:13:24.966 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739675604853870848,"ephemeral":false}]'
2025-02-16 03:13:24.968 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58411/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-16 03:13:24.972 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 03:13:24.973 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 03:13:25.073 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 03:13:25.073 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58411/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:13:25.076 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739675604968054272,"ephemeral":false,"proof":""}]'
2025-02-16 03:13:25.077 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-16 03:13:25.078 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55191/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:13:25.079 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739675604968054272,"ephemeral":false}]'
2025-02-16 03:13:25.081 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58411/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-16 03:13:25.086 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 03:13:25.086 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 03:13:25.186 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 03:13:25.187 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58411/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:13:25.189 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739675605081463808,"ephemeral":false,"proof":""}]'
2025-02-16 03:13:25.191 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-16 03:13:25.191 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55191/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:13:25.193 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739675605081463808,"ephemeral":false}]'
2025-02-16 03:13:25.194 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58411/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-16 03:13:25.199 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 03:13:25.199 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 03:13:25.300 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 03:13:25.300 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58411/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:13:25.303 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739675605194849280,"ephemeral":false,"proof":""}]'
2025-02-16 03:13:25.305 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-16 03:13:25.305 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55191/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:13:25.307 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739675605194849280,"ephemeral":false}]'
2025-02-16 03:13:25.308 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58411/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-16 03:13:25.313 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 03:13:25.313 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 03:13:25.413 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 03:13:25.414 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58411/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:13:25.417 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739675605308601600,"ephemeral":false,"proof":""}]'
2025-02-16 03:13:25.418 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-16 03:13:25.418 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55191/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:13:25.420 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739675605308601600,"ephemeral":false}]'
2025-02-16 03:13:25.422 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58411/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-16 03:13:25.426 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 03:13:25.427 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 03:13:25.527 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 03:13:25.527 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58411/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:13:25.530 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739675605422208256,"ephemeral":false,"proof":""}]'
2025-02-16 03:13:25.532 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-16 03:13:25.532 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55191/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:13:25.534 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739675605422208256,"ephemeral":false}]'
2025-02-16 03:13:25.535 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58411/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-16 03:13:25.540 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 03:13:25.540 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 03:13:25.641 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 03:13:25.641 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58411/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:13:25.644 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739675605535860992,"ephemeral":false,"proof":""}]'
2025-02-16 03:13:25.645 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-16 03:13:25.645 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55191/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:13:25.647 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739675605535860992,"ephemeral":false}]'
2025-02-16 03:13:25.649 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58411/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-16 03:13:25.654 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 03:13:25.654 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 03:13:25.754 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 03:13:25.755 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58411/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:13:25.757 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739675605649236224,"ephemeral":false,"proof":""}]'
2025-02-16 03:13:25.759 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-16 03:13:25.759 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55191/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:13:25.761 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739675605649236224,"ephemeral":false}]'
2025-02-16 03:13:25.762 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:58411/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2"]'
2025-02-16 03:13:25.769 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 03:13:25.770 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:55191/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2"]'
2025-02-16 03:13:25.772 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-16 03:13:25.774 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58411/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-16 03:13:25.778 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:58411/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/2/0'
2025-02-16 03:13:25.779 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58411/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-16 03:13:25.781 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:58411/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/2/1'
2025-02-16 03:13:25.783 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58411/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-16 03:13:25.785 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:58411/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/2/2'
2025-02-16 03:13:25.786 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58411/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-16 03:13:25.790 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 03:13:25.791 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 03:13:25.891 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 03:13:25.891 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58411/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:13:25.894 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739675605786414592,"ephemeral":false,"proof":""}]'
2025-02-16 03:13:25.896 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-16 03:13:25.896 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55191/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:13:25.898 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739675605786414592,"ephemeral":false}]'
2025-02-16 03:13:25.899 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58411/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-16 03:13:25.904 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 03:13:25.904 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 03:13:26.005 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 03:13:26.005 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58411/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:13:26.008 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739675605899743744,"ephemeral":false,"proof":""}]'
2025-02-16 03:13:26.009 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-16 03:13:26.010 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55191/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:13:26.011 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739675605899743744,"ephemeral":false}]'
2025-02-16 03:13:26.013 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58411/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-16 03:13:26.018 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 03:13:26.018 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 03:13:26.118 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 03:13:26.119 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58411/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:13:26.121 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739675606013302016,"ephemeral":false,"proof":""}]'
2025-02-16 03:13:26.123 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-16 03:13:26.123 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55191/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:13:26.125 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739675606013302016,"ephemeral":false}]'
2025-02-16 03:13:26.127 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58411/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-16 03:13:26.131 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 03:13:26.131 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 03:13:26.232 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 03:13:26.232 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58411/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:13:26.235 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739675606126946304,"ephemeral":false,"proof":""}]'
2025-02-16 03:13:26.237 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-16 03:13:26.237 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55191/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:13:26.239 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739675606126946304,"ephemeral":false}]'
2025-02-16 03:13:26.240 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58411/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-16 03:13:26.245 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-16 03:13:26.245 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-16 03:13:26.346 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-16 03:13:26.346 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58411/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:13:26.349 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739675606240824576,"ephemeral":false,"proof":""}]'
2025-02-16 03:13:26.350 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-16 03:13:26.350 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55191/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-16 03:13:26.353 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739675606240824576,"ephemeral":false}]'
2025-02-16 03:13:26.356 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-16 03:13:26.357 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-16 03:13:26.357 DEBUG [src.node.waku_node] Stopping container with id 77522a024631
2025-02-16 03:13:27.049 DEBUG [src.node.waku_node] Container stopped.
2025-02-16 03:13:27.049 DEBUG [src.node.waku_node] Stopping container with id 1f623b665934
2025-02-16 03:13:27.863 ERROR [src.node.docker_mananger] Max retries reached for container 77522a024631. Exiting log stream.
2025-02-16 03:13:37.555 DEBUG [src.node.waku_node] Container stopped.
2025-02-16 03:13:37.556 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-16 03:13:37.567 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-16 03:13:37.571 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
