[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-11-11_03-11-07__429a9dfe-a257-4a52-87e0-89c248f29093
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-11_03-11-07__429a9dfe-a257-4a52-87e0-89c248f29093__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.118.31
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['13747', '13748', '13749', '13750', '13751']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 13747:13747 -p 13748:13748 -p 13749:13749 -p 13750:13750 -p 13751:13751 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=13749 --rest-port=13747 --tcp-port=13748 --discv5-udp-port=13750 --rest-address=0.0.0.0 --nat=extip:172.18.118.31 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ed7b63fefcbbaafd0c02ccfabdeb8389ca8ab6bcbbdbe6e5d5547809ddb2afc5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=13751 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.91.71
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['27055', '27056', '27057', '27058', '27059']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 27055:27055 -p 27056:27056 -p 27057:27057 -p 27058:27058 -p 27059:27059 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=27057 --rest-port=27055 --tcp-port=27056 --discv5-udp-port=27058 --rest-address=0.0.0.0 --nat=extip:172.18.91.71 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=55313b0ddcd3ddcea7d021fcecb5f6728f056c10bcb671fbbf61c8cff9b71e67 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=27059 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.91.71 waku 8c2dfbad1f1983e04f4a2703c8d7c84ef0c86ccdcc28a07337f177645c7d5916
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 8c2dfbad1f19. Setting up logs at ./log/docker/node1_2024-11-11_03-11-07__429a9dfe-a257-4a52-87e0-89c248f29093__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 27055
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 19b17186e326. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27055/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27055/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.91.71/tcp/27056/p2p/16Uiu2HAmJTKYBrn6MasW5k3xu2fpJQguvPgT8bY49j2omZzciCt4","/ip4/172.18.91.71/tcp/27057/ws/p2p/16Uiu2HAmJTKYBrn6MasW5k3xu2fpJQguvPgT8bY49j2omZzciCt4"],"enrUri":"enr:-L24QIga6v413D9_jEt9sxrovz51jFrB0W3kL3GDHITu3p0IF1tMTZxRLjgWDOfqdX986UXh48V9ebES-POPIm7CzaUCgmlkgnY0gmlwhKwSW0eKbXVsdGlhZGRyc5YACASsEltHBmmwAAoErBJbRwZpsd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDVijZAUqxsmPKdxK_-opVUt3x05HGsSYzcmbxwZacfFWDdGNwgmmwg3VkcIJpsoV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-11_03-11-07__429a9dfe-a257-4a52-87e0-89c248f29093__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.162.253
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['4015', '4016', '4017', '4018', '4019']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 4015:4015 -p 4016:4016 -p 4017:4017 -p 4018:4018 -p 4019:4019 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=4017 --rest-port=4015 --tcp-port=4016 --discv5-udp-port=4018 --rest-address=0.0.0.0 --nat=extip:172.18.162.253 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=007ac14893a0af7b4d291bafea222de6f4ba0c9b15c8dd297a24e5afda5129d2 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QIga6v413D9_jEt9sxrovz51jFrB0W3kL3GDHITu3p0IF1tMTZxRLjgWDOfqdX986UXh48V9ebES-POPIm7CzaUCgmlkgnY0gmlwhKwSW0eKbXVsdGlhZGRyc5YACASsEltHBmmwAAoErBJbRwZpsd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDVijZAUqxsmPKdxK_-opVUt3x05HGsSYzcmbxwZacfFWDdGNwgmmwg3VkcIJpsoV3YWt1MgU --filternode=/ip4/172.18.91.71/tcp/27056/p2p/16Uiu2HAmJTKYBrn6MasW5k3xu2fpJQguvPgT8bY49j2omZzciCt4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.162.253 waku e89bd54e85e0a1064bf418f1abe543e658dab1a6a857ae25494d3341cdff8b5a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID e89bd54e85e0. Setting up logs at ./log/docker/node2_2024-11-11_03-11-07__429a9dfe-a257-4a52-87e0-89c248f29093__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/go-waku:latest. REST: 4015
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4015/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QC_ZSwugIPsH1mY8kWAGsT-2hIUB1snPOKoy6qbM-kHRav2M7ZYtKjHEgwoQvW8lN3dGASXJ6KpHstOpiQaSQgCGAZMZNCnOgmlkgnY0gmlwhKwRACKJc2VjcDI1NmsxoQJpx3pAVGyifyUEPw6FcGS48MW5z8ZzDUgeCxKJHWVed4N0Y3CCD7CDdWRwgg-yhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/4016/p2p/16Uiu2HAm2YbCyLF87iCX7pniJSbcNXXtmrW2VvwrNFm2xyKc53MQ","/ip4/127.0.0.1/tcp/4017/ws/p2p/16Uiu2HAm2YbCyLF87iCX7pniJSbcNXXtmrW2VvwrNFm2xyKc53MQ","/ip4/172.17.0.34/tcp/4016/p2p/16Uiu2HAm2YbCyLF87iCX7pniJSbcNXXtmrW2VvwrNFm2xyKc53MQ","/ip4/172.17.0.34/tcp/4017/ws/p2p/16Uiu2HAm2YbCyLF87iCX7pniJSbcNXXtmrW2VvwrNFm2xyKc53MQ"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4015/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.91.71/tcp/27056/p2p/16Uiu2HAmJTKYBrn6MasW5k3xu2fpJQguvPgT8bY49j2omZzciCt4", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-11_03-11-07__429a9dfe-a257-4a52-87e0-89c248f29093__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.221.150
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['12517', '12518', '12519', '12520', '12521']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 12517:12517 -p 12518:12518 -p 12519:12519 -p 12520:12520 -p 12521:12521 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=12519 --rest-port=12517 --tcp-port=12518 --discv5-udp-port=12520 --rest-address=0.0.0.0 --nat=extip:172.18.221.150 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b86a11a893ed2a782f83bc35ca8ffac7ad9de3ea474f57e36e1260214eef8e78 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=12521 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QIga6v413D9_jEt9sxrovz51jFrB0W3kL3GDHITu3p0IF1tMTZxRLjgWDOfqdX986UXh48V9ebES-POPIm7CzaUCgmlkgnY0gmlwhKwSW0eKbXVsdGlhZGRyc5YACASsEltHBmmwAAoErBJbRwZpsd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDVijZAUqxsmPKdxK_-opVUt3x05HGsSYzcmbxwZacfFWDdGNwgmmwg3VkcIJpsoV3YWt1MgU --filternode=/ip4/172.18.91.71/tcp/27056/p2p/16Uiu2HAmJTKYBrn6MasW5k3xu2fpJQguvPgT8bY49j2omZzciCt4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.221.150 waku 0e7698a4c88ca178b4104f5b7f69e195f18f60688dbb7fcb2d8937bfbadb3223
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 0e7698a4c88c. Setting up logs at ./log/docker/node3_2024-11-11_03-11-07__429a9dfe-a257-4a52-87e0-89c248f29093__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 12517
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12517/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12517/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.221.150/tcp/12518/p2p/16Uiu2HAm8zH6N9g7GYJqUcvmtmd1NcXz71vxpqU2FYN5DZMqHT5A","/ip4/172.18.221.150/tcp/12519/ws/p2p/16Uiu2HAm8zH6N9g7GYJqUcvmtmd1NcXz71vxpqU2FYN5DZMqHT5A"],"enrUri":"enr:-L24QIVByZQFS4tHpInmpuVukWwQbYxiJFXMzSRhlBfHXpU_b9M_WPxvprDqzfAtyreu7jsRdoRqaceaj7BWwhLl7C8CgmlkgnY0gmlwhKwS3ZaKbXVsdGlhZGRyc5YACASsEt2WBjDmAAoErBLdlgYw590DgnJzhQADAQAAiXNlY3AyNTZrMaECyYI3-1Dna9q6ZjhulyAlQqqTAlM_TNC1XGSHOPOlZJmDdGNwgjDmg3VkcIIw6IV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12517/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.91.71/tcp/27056/p2p/16Uiu2HAmJTKYBrn6MasW5k3xu2fpJQguvPgT8bY49j2omZzciCt4"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-11_03-11-07__429a9dfe-a257-4a52-87e0-89c248f29093__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.19.211
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['64617', '64618', '64619', '64620', '64621']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 64617:64617 -p 64618:64618 -p 64619:64619 -p 64620:64620 -p 64621:64621 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=64619 --rest-port=64617 --tcp-port=64618 --discv5-udp-port=64620 --rest-address=0.0.0.0 --nat=extip:172.18.19.211 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=edfd5cc55beed3d3cca65336e0a6fccb9c31341ef32845cfbcd8fa5dfa377b4f --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QIga6v413D9_jEt9sxrovz51jFrB0W3kL3GDHITu3p0IF1tMTZxRLjgWDOfqdX986UXh48V9ebES-POPIm7CzaUCgmlkgnY0gmlwhKwSW0eKbXVsdGlhZGRyc5YACASsEltHBmmwAAoErBJbRwZpsd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDVijZAUqxsmPKdxK_-opVUt3x05HGsSYzcmbxwZacfFWDdGNwgmmwg3VkcIJpsoV3YWt1MgU --filternode=/ip4/172.18.91.71/tcp/27056/p2p/16Uiu2HAmJTKYBrn6MasW5k3xu2fpJQguvPgT8bY49j2omZzciCt4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.19.211 waku e05dcd4128538c2eb7bb2b2effa18306f698741850c593483bae4b584ae79ae7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID e05dcd412853. Setting up logs at ./log/docker/node4_2024-11-11_03-11-07__429a9dfe-a257-4a52-87e0-89c248f29093__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/go-waku:latest. REST: 64617
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64617/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QI-lwS6A21-995WpiviZO5vLoh0btPlCBlFgbdRLt_oMOJCcMYgMYxOwh_MgSwOcw-Roqv-qa8vEAAipzUd7dxiGAZMZNDaZgmlkgnY0gmlwhKwRACeJc2VjcDI1NmsxoQPBvwQbe9AIHoIlu05MrhU51VERNh2Zyf7K7ECEg4ikcoN0Y3CC_GqDdWRwgvxshXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/64618/p2p/16Uiu2HAmRhHyKa2KzmsHWcNSTJxVPQMN3SgDdc4cU4HiwfNTJMSH","/ip4/127.0.0.1/tcp/64619/ws/p2p/16Uiu2HAmRhHyKa2KzmsHWcNSTJxVPQMN3SgDdc4cU4HiwfNTJMSH","/ip4/172.17.0.39/tcp/64618/p2p/16Uiu2HAmRhHyKa2KzmsHWcNSTJxVPQMN3SgDdc4cU4HiwfNTJMSH","/ip4/172.17.0.39/tcp/64619/ws/p2p/16Uiu2HAmRhHyKa2KzmsHWcNSTJxVPQMN3SgDdc4cU4HiwfNTJMSH"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:64617/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.91.71/tcp/27056/p2p/16Uiu2HAmJTKYBrn6MasW5k3xu2fpJQguvPgT8bY49j2omZzciCt4", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-11_03-11-07__429a9dfe-a257-4a52-87e0-89c248f29093__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.238.179
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['6729', '6730', '6731', '6732', '6733']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 6729:6729 -p 6730:6730 -p 6731:6731 -p 6732:6732 -p 6733:6733 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=6731 --rest-port=6729 --tcp-port=6730 --discv5-udp-port=6732 --rest-address=0.0.0.0 --nat=extip:172.18.238.179 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fd4b032abe7eac1a9de767fadca5bfd6bcdcc08aadb5106cf8f318ac805cd935 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=6733 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QIga6v413D9_jEt9sxrovz51jFrB0W3kL3GDHITu3p0IF1tMTZxRLjgWDOfqdX986UXh48V9ebES-POPIm7CzaUCgmlkgnY0gmlwhKwSW0eKbXVsdGlhZGRyc5YACASsEltHBmmwAAoErBJbRwZpsd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDVijZAUqxsmPKdxK_-opVUt3x05HGsSYzcmbxwZacfFWDdGNwgmmwg3VkcIJpsoV3YWt1MgU --filternode=/ip4/172.18.91.71/tcp/27056/p2p/16Uiu2HAmJTKYBrn6MasW5k3xu2fpJQguvPgT8bY49j2omZzciCt4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.238.179 waku 4573f8e6ceff501b8853b7e7e0e1944ab43c5811515e31ab05a03342b3aff7d8
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 4573f8e6ceff. Setting up logs at ./log/docker/node5_2024-11-11_03-11-07__429a9dfe-a257-4a52-87e0-89c248f29093__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 6729
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6729/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6729/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.238.179/tcp/6730/p2p/16Uiu2HAmQss1nFkwBJJo72jQCMHE6YxQssMwhwYLT8S8WVZ9Ey64","/ip4/172.18.238.179/tcp/6731/ws/p2p/16Uiu2HAmQss1nFkwBJJo72jQCMHE6YxQssMwhwYLT8S8WVZ9Ey64"],"enrUri":"enr:-L24QAbNyvZOEYSiFgFHFXOjCeeUYXTWydbYvpbPIZIf0ghaLYj8GIIYanHRWR0j4HLb4rDVgv3fQaNRa4cAooQPX2gCgmlkgnY0gmlwhKwS7rOKbXVsdGlhZGRyc5YACASsEu6zBhpKAAoErBLuswYaS90DgnJzhQADAQAAiXNlY3AyNTZrMaEDtZh_lkf2OIO0O041Vi9y80YfKW5yysxG7nVHEvYzHg2DdGNwghpKg3VkcIIaTIV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6729/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.91.71/tcp/27056/p2p/16Uiu2HAmJTKYBrn6MasW5k3xu2fpJQguvPgT8bY49j2omZzciCt4"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27055/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4015/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "bf4ae689-bb66-4307-9dce-6e92b5340749", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"bf4ae689-bb66-4307-9dce-6e92b5340749","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12517/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "e139c63c-94ed-46d7-93fe-ff67c2c672e6", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"e139c63c-94ed-46d7-93fe-ff67c2c672e6","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:64617/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "942e6e25-81f0-4180-942d-ac4a877b6405", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"942e6e25-81f0-4180-942d-ac4a877b6405","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6729/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "eeb85f59-accb-43dd-b8e6-806344ba8bec", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"eeb85f59-accb-43dd-b8e6-806344ba8bec","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27055/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4015/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1731294675882894592,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27055/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12517/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:12517/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 8c2dfbad1f19
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id e89bd54e85e0
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 8c2dfbad1f19. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 0e7698a4c88c
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container e89bd54e85e0. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id e05dcd412853
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 0e7698a4c88c. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 4573f8e6ceff
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container e05dcd412853. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.