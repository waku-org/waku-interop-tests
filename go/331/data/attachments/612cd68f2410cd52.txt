[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-11-03_03-12-38__9cbb1f95-a07f-4949-a4ba-27ffe9804a70
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-03_03-12-38__9cbb1f95-a07f-4949-a4ba-27ffe9804a70__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.146.159
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['61046', '61047', '61048', '61049', '61050']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 61046:61046 -p 61047:61047 -p 61048:61048 -p 61049:61049 -p 61050:61050 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=61048 --rest-port=61046 --tcp-port=61047 --discv5-udp-port=61049 --rest-address=0.0.0.0 --nat=extip:172.18.146.159 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=31d25ff4e4f0f12d5286d2b06ab45ed57fa6b131e16be418a2cf9a01ba8c1caa --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=61050 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.146.159 waku f9651ce7b84677d7b085f681df371552e7549dd50cde4423062e5c9fc423579c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID f9651ce7b846. Setting up logs at ./log/docker/node1_2024-11-03_03-12-38__9cbb1f95-a07f-4949-a4ba-27ffe9804a70__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 61046
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container a1a679eb4675. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61046/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61046/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.146.159/tcp/61047/p2p/16Uiu2HAkxVDaBfyLoScCCJwUGKJSr1PAVf3nbAK8f2EYLpPFHjH1","/ip4/172.18.146.159/tcp/61048/ws/p2p/16Uiu2HAkxVDaBfyLoScCCJwUGKJSr1PAVf3nbAK8f2EYLpPFHjH1"],"enrUri":"enr:-L24QOh_hf-Vv4NQFje4tUPGabEuL_T5Q2lB1GBwjQhw-rdZF_nR3rX85hiMfc4dDL1sMEcR_RwCQedIaYldLOXCNaECgmlkgnY0gmlwhKwSkp-KbXVsdGlhZGRyc5YACASsEpKfBu53AAoErBKSnwbueN0DgnJzhQADAQAAiXNlY3AyNTZrMaECLXuGhV8srroPJ_QyvPZX3LG6s5lSrbgWOWZxJitDwuiDdGNwgu53g3VkcILueYV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-03_03-12-38__9cbb1f95-a07f-4949-a4ba-27ffe9804a70__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.84.17
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['56250', '56251', '56252', '56253', '56254']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 56250:56250 -p 56251:56251 -p 56252:56252 -p 56253:56253 -p 56254:56254 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=56252 --rest-port=56250 --tcp-port=56251 --discv5-udp-port=56253 --rest-address=0.0.0.0 --nat=extip:172.18.84.17 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b3a7a7d40f60aaa5fb61eaedc9ffaaffb9e97b7715aeefa9be32b82b20fcd2ec --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QOh_hf-Vv4NQFje4tUPGabEuL_T5Q2lB1GBwjQhw-rdZF_nR3rX85hiMfc4dDL1sMEcR_RwCQedIaYldLOXCNaECgmlkgnY0gmlwhKwSkp-KbXVsdGlhZGRyc5YACASsEpKfBu53AAoErBKSnwbueN0DgnJzhQADAQAAiXNlY3AyNTZrMaECLXuGhV8srroPJ_QyvPZX3LG6s5lSrbgWOWZxJitDwuiDdGNwgu53g3VkcILueYV3YWt1MgU --filternode=/ip4/172.18.146.159/tcp/61047/p2p/16Uiu2HAkxVDaBfyLoScCCJwUGKJSr1PAVf3nbAK8f2EYLpPFHjH1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.84.17 waku 788cbb2df9095b8cc790ec4114733bf15a30201a0d75f54c5714f52266e005a9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 788cbb2df909. Setting up logs at ./log/docker/node2_2024-11-03_03-12-38__9cbb1f95-a07f-4949-a4ba-27ffe9804a70__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 56250
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56250/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QB5EcW-VEVyxCOsnVjaRWcZMbPhua3wPDu72Gm5FVjJvOVfpgD9f-syMa6fMY9LfSiEI8JTtaYvcxgsN4dRJtSeGAZLwAq-egmlkgnY0gmlwhKwRAAqJc2VjcDI1NmsxoQKDvhF1PjLov65M4_EZJvtm9bCiBK_CULswa1KGcFddxIN0Y3CC27uDdWRwgtu9hXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/56251/p2p/16Uiu2HAm4HwV86J4yKrraEP7XzPDoQmo6N7jciZu3G9q2JtZDQJo","/ip4/127.0.0.1/tcp/56252/ws/p2p/16Uiu2HAm4HwV86J4yKrraEP7XzPDoQmo6N7jciZu3G9q2JtZDQJo","/ip4/172.17.0.10/tcp/56251/p2p/16Uiu2HAm4HwV86J4yKrraEP7XzPDoQmo6N7jciZu3G9q2JtZDQJo","/ip4/172.17.0.10/tcp/56252/ws/p2p/16Uiu2HAm4HwV86J4yKrraEP7XzPDoQmo6N7jciZu3G9q2JtZDQJo"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56250/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.146.159/tcp/61047/p2p/16Uiu2HAkxVDaBfyLoScCCJwUGKJSr1PAVf3nbAK8f2EYLpPFHjH1", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-03_03-12-38__9cbb1f95-a07f-4949-a4ba-27ffe9804a70__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.185.150
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['20990', '20991', '20992', '20993', '20994']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 20990:20990 -p 20991:20991 -p 20992:20992 -p 20993:20993 -p 20994:20994 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=20992 --rest-port=20990 --tcp-port=20991 --discv5-udp-port=20993 --rest-address=0.0.0.0 --nat=extip:172.18.185.150 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b5fba4ac26eeb1bceac7016ea729c26eaf7ecda97aa1c38c638cba6ab2520e3b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=20994 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QOh_hf-Vv4NQFje4tUPGabEuL_T5Q2lB1GBwjQhw-rdZF_nR3rX85hiMfc4dDL1sMEcR_RwCQedIaYldLOXCNaECgmlkgnY0gmlwhKwSkp-KbXVsdGlhZGRyc5YACASsEpKfBu53AAoErBKSnwbueN0DgnJzhQADAQAAiXNlY3AyNTZrMaECLXuGhV8srroPJ_QyvPZX3LG6s5lSrbgWOWZxJitDwuiDdGNwgu53g3VkcILueYV3YWt1MgU --filternode=/ip4/172.18.146.159/tcp/61047/p2p/16Uiu2HAkxVDaBfyLoScCCJwUGKJSr1PAVf3nbAK8f2EYLpPFHjH1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.185.150 waku 51c6d10e16890a43f632e314a6e198aafe2f295e9008f69243a7589ebc18a605
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 51c6d10e1689. Setting up logs at ./log/docker/node3_2024-11-03_03-12-38__9cbb1f95-a07f-4949-a4ba-27ffe9804a70__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 20990
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20990/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20990/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.185.150/tcp/20991/p2p/16Uiu2HAkyd2MtK46DKDdPPb3W7FFhpAj3DcxMKHb5wCYQbkHR7Ef","/ip4/172.18.185.150/tcp/20992/ws/p2p/16Uiu2HAkyd2MtK46DKDdPPb3W7FFhpAj3DcxMKHb5wCYQbkHR7Ef"],"enrUri":"enr:-L24QKp6z13ofPIjBVpI3-E89W1_KJMRZRB0btltSdcyP8J5Jw6QTwX1ZR4DopDITDAOcbhQhSfDj8u0CYwbXekjW-ICgmlkgnY0gmlwhKwSuZaKbXVsdGlhZGRyc5YACASsErmWBlH_AAoErBK5lgZSAN0DgnJzhQADAQAAiXNlY3AyNTZrMaECPlcubXngHTYKQpmTY87NnL5esF7zpxCDGps-bTY6k5CDdGNwglH_g3VkcIJSAYV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20990/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.146.159/tcp/61047/p2p/16Uiu2HAkxVDaBfyLoScCCJwUGKJSr1PAVf3nbAK8f2EYLpPFHjH1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-03_03-12-38__9cbb1f95-a07f-4949-a4ba-27ffe9804a70__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.10.149
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['3252', '3253', '3254', '3255', '3256']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 3252:3252 -p 3253:3253 -p 3254:3254 -p 3255:3255 -p 3256:3256 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=3254 --rest-port=3252 --tcp-port=3253 --discv5-udp-port=3255 --rest-address=0.0.0.0 --nat=extip:172.18.10.149 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=aa1cc7ef4ddf4390dd1e95e66b0a5d3ac806efdc7c3fccf50c6ca000bcee67e8 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QOh_hf-Vv4NQFje4tUPGabEuL_T5Q2lB1GBwjQhw-rdZF_nR3rX85hiMfc4dDL1sMEcR_RwCQedIaYldLOXCNaECgmlkgnY0gmlwhKwSkp-KbXVsdGlhZGRyc5YACASsEpKfBu53AAoErBKSnwbueN0DgnJzhQADAQAAiXNlY3AyNTZrMaECLXuGhV8srroPJ_QyvPZX3LG6s5lSrbgWOWZxJitDwuiDdGNwgu53g3VkcILueYV3YWt1MgU --filternode=/ip4/172.18.146.159/tcp/61047/p2p/16Uiu2HAkxVDaBfyLoScCCJwUGKJSr1PAVf3nbAK8f2EYLpPFHjH1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.10.149 waku 875a9ba4aae1682ab26a0379a3de750f78e806e128c6066cb8d33e5bcbec9449
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 875a9ba4aae1. Setting up logs at ./log/docker/node4_2024-11-03_03-12-38__9cbb1f95-a07f-4949-a4ba-27ffe9804a70__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 3252
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3252/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QGILPLLtw-O8oEA0e0MFuCURuwyiFj2VLiCdXRjDZzI1Y6sFQ3MSJfvweZN698NDod0C0kYrQMMdcacM_R4zhCSGAZLwAr2-gmlkgnY0gmlwhKwRAAmJc2VjcDI1NmsxoQPVOL18t6dDOb5CHhuMehB8IR-NBILzmr9_qb4mH_wAMIN0Y3CCDLWDdWRwggy3hXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/3253/p2p/16Uiu2HAmT1KNWB3d58FpipDks3ZjQxDqUf6MygsVThjkD3brFmXu","/ip4/127.0.0.1/tcp/3254/ws/p2p/16Uiu2HAmT1KNWB3d58FpipDks3ZjQxDqUf6MygsVThjkD3brFmXu","/ip4/172.17.0.9/tcp/3253/p2p/16Uiu2HAmT1KNWB3d58FpipDks3ZjQxDqUf6MygsVThjkD3brFmXu","/ip4/172.17.0.9/tcp/3254/ws/p2p/16Uiu2HAmT1KNWB3d58FpipDks3ZjQxDqUf6MygsVThjkD3brFmXu"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3252/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.146.159/tcp/61047/p2p/16Uiu2HAkxVDaBfyLoScCCJwUGKJSr1PAVf3nbAK8f2EYLpPFHjH1", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:3252/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3252/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.146.159/tcp/61047/p2p/16Uiu2HAkxVDaBfyLoScCCJwUGKJSr1PAVf3nbAK8f2EYLpPFHjH1", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:3252/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3252/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.146.159/tcp/61047/p2p/16Uiu2HAkxVDaBfyLoScCCJwUGKJSr1PAVf3nbAK8f2EYLpPFHjH1", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:3252/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3252/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.146.159/tcp/61047/p2p/16Uiu2HAkxVDaBfyLoScCCJwUGKJSr1PAVf3nbAK8f2EYLpPFHjH1", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:3252/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3252/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.146.159/tcp/61047/p2p/16Uiu2HAkxVDaBfyLoScCCJwUGKJSr1PAVf3nbAK8f2EYLpPFHjH1", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:3252/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3252/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.146.159/tcp/61047/p2p/16Uiu2HAkxVDaBfyLoScCCJwUGKJSr1PAVf3nbAK8f2EYLpPFHjH1", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:3252/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3252/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.146.159/tcp/61047/p2p/16Uiu2HAkxVDaBfyLoScCCJwUGKJSr1PAVf3nbAK8f2EYLpPFHjH1", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:3252/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3252/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.146.159/tcp/61047/p2p/16Uiu2HAkxVDaBfyLoScCCJwUGKJSr1PAVf3nbAK8f2EYLpPFHjH1", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:3252/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3252/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.146.159/tcp/61047/p2p/16Uiu2HAkxVDaBfyLoScCCJwUGKJSr1PAVf3nbAK8f2EYLpPFHjH1", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:3252/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3252/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.146.159/tcp/61047/p2p/16Uiu2HAkxVDaBfyLoScCCJwUGKJSr1PAVf3nbAK8f2EYLpPFHjH1", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:3252/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3252/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.146.159/tcp/61047/p2p/16Uiu2HAkxVDaBfyLoScCCJwUGKJSr1PAVf3nbAK8f2EYLpPFHjH1", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-03_03-12-38__9cbb1f95-a07f-4949-a4ba-27ffe9804a70__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.190.52
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['51084', '51085', '51086', '51087', '51088']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 51084:51084 -p 51085:51085 -p 51086:51086 -p 51087:51087 -p 51088:51088 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=51086 --rest-port=51084 --tcp-port=51085 --discv5-udp-port=51087 --rest-address=0.0.0.0 --nat=extip:172.18.190.52 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=65e4dfb2d5bbf55dafe6abd9bb4e375a9c5d4aff75a0b1e4ceeb2b5cd24fbf89 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=51088 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QOh_hf-Vv4NQFje4tUPGabEuL_T5Q2lB1GBwjQhw-rdZF_nR3rX85hiMfc4dDL1sMEcR_RwCQedIaYldLOXCNaECgmlkgnY0gmlwhKwSkp-KbXVsdGlhZGRyc5YACASsEpKfBu53AAoErBKSnwbueN0DgnJzhQADAQAAiXNlY3AyNTZrMaECLXuGhV8srroPJ_QyvPZX3LG6s5lSrbgWOWZxJitDwuiDdGNwgu53g3VkcILueYV3YWt1MgU --filternode=/ip4/172.18.146.159/tcp/61047/p2p/16Uiu2HAkxVDaBfyLoScCCJwUGKJSr1PAVf3nbAK8f2EYLpPFHjH1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.190.52 waku 69519b3a0d1394f699b967a567439ccb4e442b2deb3db95eadbf44897d661803
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 69519b3a0d13. Setting up logs at ./log/docker/node5_2024-11-03_03-12-38__9cbb1f95-a07f-4949-a4ba-27ffe9804a70__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 51084
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51084/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51084/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.190.52/tcp/51085/p2p/16Uiu2HAmHvM833nPcTBUwZouoE925KvitSzwa9BKKJd6g8XagqDk","/ip4/172.18.190.52/tcp/51086/ws/p2p/16Uiu2HAmHvM833nPcTBUwZouoE925KvitSzwa9BKKJd6g8XagqDk"],"enrUri":"enr:-L24QGN4Hkst5MawXrmz2AjevN70J5XuMiK-pm_naBSUvx_NM1AAXyVYSeo2kwgeYDlVHymXoYhImQp4lByzQKOytSUCgmlkgnY0gmlwhKwSvjSKbXVsdGlhZGRyc5YACASsEr40BseNAAoErBK-NAbHjt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDTjmiFvu7SSFQ11CxmMLqCulp4sp1gltfvA0VPjLfE8uDdGNwgseNg3VkcILHj4V3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51084/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.146.159/tcp/61047/p2p/16Uiu2HAkxVDaBfyLoScCCJwUGKJSr1PAVf3nbAK8f2EYLpPFHjH1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61046/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56250/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "eb12b3fe-7f37-4778-9435-53402aa960ae", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"eb12b3fe-7f37-4778-9435-53402aa960ae","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20990/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "7defece8-e343-41f4-94bd-5020bd013f00", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"7defece8-e343-41f4-94bd-5020bd013f00","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3252/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "183d4c62-209d-4fc4-bfcd-1ae376194e7d", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"183d4c62-209d-4fc4-bfcd-1ae376194e7d","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51084/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "2e3d571b-08c4-435d-97ba-66d46a55bb17", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"2e3d571b-08c4-435d-97ba-66d46a55bb17","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61046/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56250/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1730603576251599360,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61046/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20990/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:20990/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id f9651ce7b846
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 788cbb2df909
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container f9651ce7b846. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 51c6d10e1689
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 788cbb2df909. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 875a9ba4aae1
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 51c6d10e1689. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 69519b3a0d13
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 875a9ba4aae1. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.