[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_multiple_lightpush_nodes with id: 2024-10-23_03-12-33__7bc29969-74f0-486f-bf10-c126a7460a14
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-10-23_03-12-33__7bc29969-74f0-486f-bf10-c126a7460a14__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.31.215
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['46767', '46768', '46769', '46770', '46771']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 46767:46767 -p 46768:46768 -p 46769:46769 -p 46770:46770 -p 46771:46771 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=46769 --rest-port=46767 --tcp-port=46768 --discv5-udp-port=46770 --rest-address=0.0.0.0 --nat=extip:172.18.31.215 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8eefec8bfaacaac7cbfed6c301afd5ad94deeab9497194e8bd0b06f4daf5ba87 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=46771 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.31.215 waku 1beeab5703dcdbf2f7a8bae0c6d84a4d2f3f41d9ce28d22e26bc83508592af4e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 1beeab5703dc. Setting up logs at ./log/docker/receiving_node1_2024-10-23_03-12-33__7bc29969-74f0-486f-bf10-c126a7460a14__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 46767
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46767/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46767/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.31.215/tcp/46768/p2p/16Uiu2HAmCqBd5xAbkWXgqRMuWsZ8kCgE4CYYLFfUmJ2RW3TpSLj1","/ip4/172.18.31.215/tcp/46769/ws/p2p/16Uiu2HAmCqBd5xAbkWXgqRMuWsZ8kCgE4CYYLFfUmJ2RW3TpSLj1"],"enrUri":"enr:-LO4QHfTAjDZYnSj6Vg598234F-47cWnhckVnr2Vl_OzMGqZM0sHNqSCyM-5iNP3Hg9CKKKYfwhJhPiRGiilhcoROLEBgmlkgnY0gmlwhKwSH9eKbXVsdGlhZGRyc4wACgSsEh_XBrax3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMCnI3EXr-yieGnIt-dNlf-9PbzMFwPDNWinQB-1LMMSIN0Y3CCtrCDdWRwgrayhXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-10-23_03-12-33__7bc29969-74f0-486f-bf10-c126a7460a14__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.178.144
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['32967', '32968', '32969', '32970', '32971']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 32967:32967 -p 32968:32968 -p 32969:32969 -p 32970:32970 -p 32971:32971 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=32969 --rest-port=32967 --tcp-port=32968 --discv5-udp-port=32970 --rest-address=0.0.0.0 --nat=extip:172.18.178.144 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e2ab5f15f6e3cb91fddd1f1eecbddb9de8cd4efc0b9ae6de9ea5ee788caa0a98 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=32971 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.178.144 waku e26facec51e4395ed477d3e7e05194ea933a3c5b59e18aa2ae016f0e9c50ce58
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID e26facec51e4. Setting up logs at ./log/docker/receiving_node2_2024-10-23_03-12-33__7bc29969-74f0-486f-bf10-c126a7460a14__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 32967
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32967/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32967/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.178.144/tcp/32968/p2p/16Uiu2HAm8MKDRfMeYhpNqjSAm4P3igHaZruD7gjqHvRYcSAXPyRq","/ip4/172.18.178.144/tcp/32969/ws/p2p/16Uiu2HAm8MKDRfMeYhpNqjSAm4P3igHaZruD7gjqHvRYcSAXPyRq"],"enrUri":"enr:-LO4QJOgeUoJxfoSEol-YoYKqrGrA5Bz_-Bg9pBpByzfQ1ghVkl0LB_rLBk6c31BYT9QmFjyauFaCWvz4TUhFBIeL68BgmlkgnY0gmlwhKwSspCKbXVsdGlhZGRyc4wACgSsErKQBoDJ3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLACiC3JN3ZMQTz3YA1LXwxNHh6HRNP5HjYiaHC4ND-MIN0Y3CCgMiDdWRwgoDKhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32967/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.31.215/tcp/46768/p2p/16Uiu2HAmCqBd5xAbkWXgqRMuWsZ8kCgE4CYYLFfUmJ2RW3TpSLj1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-10-23_03-12-33__7bc29969-74f0-486f-bf10-c126a7460a14__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.123.3
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['54664', '54665', '54666', '54667', '54668']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 54664:54664 -p 54665:54665 -p 54666:54666 -p 54667:54667 -p 54668:54668 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=54666 --rest-port=54664 --tcp-port=54665 --discv5-udp-port=54667 --rest-address=0.0.0.0 --nat=extip:172.18.123.3 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=049bb43bdb8e089f7aaea405d97dbbccf197c689719f7de4aecf035f9d6da47b --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-LO4QHfTAjDZYnSj6Vg598234F-47cWnhckVnr2Vl_OzMGqZM0sHNqSCyM-5iNP3Hg9CKKKYfwhJhPiRGiilhcoROLEBgmlkgnY0gmlwhKwSH9eKbXVsdGlhZGRyc4wACgSsEh_XBrax3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMCnI3EXr-yieGnIt-dNlf-9PbzMFwPDNWinQB-1LMMSIN0Y3CCtrCDdWRwgrayhXdha3UyCQ --lightpushnode=/ip4/172.18.31.215/tcp/46768/p2p/16Uiu2HAmCqBd5xAbkWXgqRMuWsZ8kCgE4CYYLFfUmJ2RW3TpSLj1 --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.123.3 waku bf9f76e11fa163757ad1a28e11a7bd7d3dddc740897aeb12fdc579057d1a59cf
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID bf9f76e11fa1. Setting up logs at ./log/docker/lightpush_node1_2024-10-23_03-12-33__7bc29969-74f0-486f-bf10-c126a7460a14__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 54664
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54664/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QFLyL-1CVylGS4XjZ-adZnSE48c4OESvGkwQLcOigR5zdqF1xOBVUYmD27_0WmbTkfWihtd18U_hHr1IZYlrbr2GAZK3XLEVgmlkgnY0gmlwhKwRAAiJc2VjcDI1NmsxoQNQ3ST7_n-EVxXT81FSIQYcc8np_Rhmr685sJMg69qLSYN0Y3CC1YmDdWRwgtWLhXdha3UyCA","listenAddresses":["/ip4/127.0.0.1/tcp/54665/p2p/16Uiu2HAmJ6eYirBjyXrgng7jCsWH3i2YQCjQTZTMiKNRtsMMeaAL","/ip4/127.0.0.1/tcp/54666/ws/p2p/16Uiu2HAmJ6eYirBjyXrgng7jCsWH3i2YQCjQTZTMiKNRtsMMeaAL","/ip4/172.17.0.8/tcp/54665/p2p/16Uiu2HAmJ6eYirBjyXrgng7jCsWH3i2YQCjQTZTMiKNRtsMMeaAL","/ip4/172.17.0.8/tcp/54666/ws/p2p/16Uiu2HAmJ6eYirBjyXrgng7jCsWH3i2YQCjQTZTMiKNRtsMMeaAL"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54664/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.31.215/tcp/46768/p2p/16Uiu2HAmCqBd5xAbkWXgqRMuWsZ8kCgE4CYYLFfUmJ2RW3TpSLj1", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54664/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.178.144/tcp/32968/p2p/16Uiu2HAm8MKDRfMeYhpNqjSAm4P3igHaZruD7gjqHvRYcSAXPyRq", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node2_2024-10-23_03-12-33__7bc29969-74f0-486f-bf10-c126a7460a14__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.167.0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['59058', '59059', '59060', '59061', '59062']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 59058:59058 -p 59059:59059 -p 59060:59060 -p 59061:59061 -p 59062:59062 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=59060 --rest-port=59058 --tcp-port=59059 --discv5-udp-port=59061 --rest-address=0.0.0.0 --nat=extip:172.18.167.0 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=eb3bbdbb8610a619dfa5d4f9da824f8eb02a4d1cddfb9e9cbd27a1ece7bcc1bb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=59062 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QHfTAjDZYnSj6Vg598234F-47cWnhckVnr2Vl_OzMGqZM0sHNqSCyM-5iNP3Hg9CKKKYfwhJhPiRGiilhcoROLEBgmlkgnY0gmlwhKwSH9eKbXVsdGlhZGRyc4wACgSsEh_XBrax3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMCnI3EXr-yieGnIt-dNlf-9PbzMFwPDNWinQB-1LMMSIN0Y3CCtrCDdWRwgrayhXdha3UyCQ --lightpushnode=/ip4/172.18.31.215/tcp/46768/p2p/16Uiu2HAmCqBd5xAbkWXgqRMuWsZ8kCgE4CYYLFfUmJ2RW3TpSLj1 --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.167.0 waku 673462f8b18cc4c7ebc25c68ba610b76967d45905ada82ac5a7c6749ff2a4509
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 673462f8b18c. Setting up logs at ./log/docker/lightpush_node2_2024-10-23_03-12-33__7bc29969-74f0-486f-bf10-c126a7460a14__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 59058
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59058/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59058/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.167.0/tcp/59059/p2p/16Uiu2HAm1dpS8PHEAN9L8BfZPzzV7YyaycXTPwC9WjrSww78oL7k","/ip4/172.18.167.0/tcp/59060/ws/p2p/16Uiu2HAm1dpS8PHEAN9L8BfZPzzV7YyaycXTPwC9WjrSww78oL7k"],"enrUri":"enr:-LO4QOXlF5L39BmHIRV5BC63FDRPsXKsRbcOaW60HGGnNdvEbYw_g9ASK2sD5Fx07zhaiso1jyjHVZhF2tNbwWY_46YBgmlkgnY0gmlwhKwSpwCKbXVsdGlhZGRyc4wACgSsEqcABua03QOCcnOFAAMBAACJc2VjcDI1NmsxoQJcQqZ5KDbgZm46ehA1cepp9QKUN-ugKGBAsSNU2IRXE4N0Y3CC5rODdWRwgua1hXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59058/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.31.215/tcp/46768/p2p/16Uiu2HAmCqBd5xAbkWXgqRMuWsZ8kCgE4CYYLFfUmJ2RW3TpSLj1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59058/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.178.144/tcp/32968/p2p/16Uiu2HAm8MKDRfMeYhpNqjSAm4P3igHaZruD7gjqHvRYcSAXPyRq"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node3_2024-10-23_03-12-33__7bc29969-74f0-486f-bf10-c126a7460a14__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.170.222
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['6166', '6167', '6168', '6169', '6170']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 6166:6166 -p 6167:6167 -p 6168:6168 -p 6169:6169 -p 6170:6170 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=6168 --rest-port=6166 --tcp-port=6167 --discv5-udp-port=6169 --rest-address=0.0.0.0 --nat=extip:172.18.170.222 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1f92cbfb3d0bfaebd5f7e20d2f08d99efe70c1a0ccc14bafac51fdf096531d7e --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-LO4QHfTAjDZYnSj6Vg598234F-47cWnhckVnr2Vl_OzMGqZM0sHNqSCyM-5iNP3Hg9CKKKYfwhJhPiRGiilhcoROLEBgmlkgnY0gmlwhKwSH9eKbXVsdGlhZGRyc4wACgSsEh_XBrax3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMCnI3EXr-yieGnIt-dNlf-9PbzMFwPDNWinQB-1LMMSIN0Y3CCtrCDdWRwgrayhXdha3UyCQ --lightpushnode=/ip4/172.18.31.215/tcp/46768/p2p/16Uiu2HAmCqBd5xAbkWXgqRMuWsZ8kCgE4CYYLFfUmJ2RW3TpSLj1 --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.170.222 waku 1f949e4b1cddf3b7a0c0200ce82c0e29e64148020bbc120d279510471aa6d864
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 1f949e4b1cdd. Setting up logs at ./log/docker/lightpush_node3_2024-10-23_03-12-33__7bc29969-74f0-486f-bf10-c126a7460a14__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 6166
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6166/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QNww9tfpo7oOT1v_8TwFElqTnNJUtgybtdba7czy3LquSKNRtACOpgQYykU2FxkC1OUfQY46cDYZnbcIvJvKU6SGAZK3XMEmgmlkgnY0gmlwhKwRAAeJc2VjcDI1NmsxoQOQ66eHjVwaHMsbipx8WmMslr3g7q3GvjdS7CXg-zLcFIN0Y3CCGBeDdWRwghgZhXdha3UyCA","listenAddresses":["/ip4/127.0.0.1/tcp/6167/p2p/16Uiu2HAmNQhUPdoRbcuYvZ737h3mQpAqEba3y2up6RZLXPxJEchZ","/ip4/127.0.0.1/tcp/6168/ws/p2p/16Uiu2HAmNQhUPdoRbcuYvZ737h3mQpAqEba3y2up6RZLXPxJEchZ","/ip4/172.17.0.7/tcp/6167/p2p/16Uiu2HAmNQhUPdoRbcuYvZ737h3mQpAqEba3y2up6RZLXPxJEchZ","/ip4/172.17.0.7/tcp/6168/ws/p2p/16Uiu2HAmNQhUPdoRbcuYvZ737h3mQpAqEba3y2up6RZLXPxJEchZ"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6166/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.31.215/tcp/46768/p2p/16Uiu2HAmCqBd5xAbkWXgqRMuWsZ8kCgE4CYYLFfUmJ2RW3TpSLj1", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6166/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.178.144/tcp/32968/p2p/16Uiu2HAm8MKDRfMeYhpNqjSAm4P3igHaZruD7gjqHvRYcSAXPyRq", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node4_2024-10-23_03-12-33__7bc29969-74f0-486f-bf10-c126a7460a14__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.90.147
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['31727', '31728', '31729', '31730', '31731']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 31727:31727 -p 31728:31728 -p 31729:31729 -p 31730:31730 -p 31731:31731 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=31729 --rest-port=31727 --tcp-port=31728 --discv5-udp-port=31730 --rest-address=0.0.0.0 --nat=extip:172.18.90.147 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=39a4bd214abaa0d291e43abd8f93b61eedd86e8e4be7eaa370f8aecf1bcc7ea7 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=31731 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QHfTAjDZYnSj6Vg598234F-47cWnhckVnr2Vl_OzMGqZM0sHNqSCyM-5iNP3Hg9CKKKYfwhJhPiRGiilhcoROLEBgmlkgnY0gmlwhKwSH9eKbXVsdGlhZGRyc4wACgSsEh_XBrax3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMCnI3EXr-yieGnIt-dNlf-9PbzMFwPDNWinQB-1LMMSIN0Y3CCtrCDdWRwgrayhXdha3UyCQ --lightpushnode=/ip4/172.18.31.215/tcp/46768/p2p/16Uiu2HAmCqBd5xAbkWXgqRMuWsZ8kCgE4CYYLFfUmJ2RW3TpSLj1 --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.90.147 waku a971e5fd52f00d2af19af76f1398ae18e1278dc8b776fc02431cb9545c3e4270
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID a971e5fd52f0. Setting up logs at ./log/docker/lightpush_node4_2024-10-23_03-12-33__7bc29969-74f0-486f-bf10-c126a7460a14__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 31727
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31727/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31727/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.90.147/tcp/31728/p2p/16Uiu2HAmBK1Mv4KGEUah33xutRZFx5bSnXXDqJLiLVK7pXbVU5dC","/ip4/172.18.90.147/tcp/31729/ws/p2p/16Uiu2HAmBK1Mv4KGEUah33xutRZFx5bSnXXDqJLiLVK7pXbVU5dC"],"enrUri":"enr:-LO4QLkNL49F5AhH_JhsZpfVJKttOm0ip2upXOGTNT6uFg9FIcu6Wi49FCHzbEmZqj84m-MCeomzYxAuRGNwOrnOzjcBgmlkgnY0gmlwhKwSWpOKbXVsdGlhZGRyc4wACgSsElqTBnvx3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLsBdb8volM8B5QWkxY_wYaNyil_Y2o9XnyN6KPJAlm-4N0Y3CCe_CDdWRwgnvyhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31727/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.31.215/tcp/46768/p2p/16Uiu2HAmCqBd5xAbkWXgqRMuWsZ8kCgE4CYYLFfUmJ2RW3TpSLj1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31727/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.178.144/tcp/32968/p2p/16Uiu2HAm8MKDRfMeYhpNqjSAm4P3igHaZruD7gjqHvRYcSAXPyRq"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46767/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32967/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54664/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1729653165696365056}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46767/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1729653165696365056,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32967/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1729653165696365056,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59058/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1729653165822501376}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46767/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1729653165822501376,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32967/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1729653165822501376,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6166/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1729653165945110528}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46767/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1729653165945110528,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32967/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1729653165945110528,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31727/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1729653166074140928}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46767/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1729653166074140928,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32967/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1729653166074140928,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 1beeab5703dc
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id e26facec51e4
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id bf9f76e11fa1
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 673462f8b18c
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 1f949e4b1cdd
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id a971e5fd52f0
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.