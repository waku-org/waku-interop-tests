[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_ping_on_subscribed_peer with id: 2024-10-15_03-20-16__f60e3bcc-e270-4284-89b7-742f6eaeaf8f
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-10-15_03-20-16__f60e3bcc-e270-4284-89b7-742f6eaeaf8f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.203.229
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['50495', '50496', '50497', '50498', '50499']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 50495:50495 -p 50496:50496 -p 50497:50497 -p 50498:50498 -p 50499:50499 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=50497 --rest-port=50495 --tcp-port=50496 --discv5-udp-port=50498 --rest-address=0.0.0.0 --nat=extip:172.18.203.229 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f4f4f9a2ecf8db1bacf049fde011fccac3051e97ac06e702899a2da07fbd206a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=50499 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.203.229 waku e7822fb6464b0a55f6e12c3b3ebff88ee88e62ecc950c9242a336ec584964b80
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID e7822fb6464b. Setting up logs at ./log/docker/node1_2024-10-15_03-20-16__f60e3bcc-e270-4284-89b7-742f6eaeaf8f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 50495
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50495/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50495/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.203.229/tcp/50496/p2p/16Uiu2HAmUhNTT8awX5RSxc4ThdFY3U4JztKcFWbconek1swHugj9","/ip4/172.18.203.229/tcp/50497/ws/p2p/16Uiu2HAmUhNTT8awX5RSxc4ThdFY3U4JztKcFWbconek1swHugj9"],"enrUri":"enr:-LO4QIy2q0WSXojwy7Wn0m9M3U7kuPCv1kdCzBT_IeAfwZ9sePHljEJfYoY7BhtHsHlgLxeYt-Iz-nhxAP7J8ssvwxkBgmlkgnY0gmlwhKwSy-WKbXVsdGlhZGRyc4wACgSsEsvlBsVB3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPuVyXltNNPL5ndOZLNOSks4o5Ba5zP4jJRfaPajFXUaIN0Y3CCxUCDdWRwgsVChXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-10-15_03-20-16__f60e3bcc-e270-4284-89b7-742f6eaeaf8f__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.92.32
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['4396', '4397', '4398', '4399', '4400']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 4396:4396 -p 4397:4397 -p 4398:4398 -p 4399:4399 -p 4400:4400 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=4398 --rest-port=4396 --tcp-port=4397 --discv5-udp-port=4399 --rest-address=0.0.0.0 --nat=extip:172.18.92.32 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=adfcac0545aa40aed3f31abc63dda0baf65d4fde0939d7b3fd33f4bbdf2c7937 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-LO4QIy2q0WSXojwy7Wn0m9M3U7kuPCv1kdCzBT_IeAfwZ9sePHljEJfYoY7BhtHsHlgLxeYt-Iz-nhxAP7J8ssvwxkBgmlkgnY0gmlwhKwSy-WKbXVsdGlhZGRyc4wACgSsEsvlBsVB3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPuVyXltNNPL5ndOZLNOSks4o5Ba5zP4jJRfaPajFXUaIN0Y3CCxUCDdWRwgsVChXdha3UyBQ --filternode=/ip4/172.18.203.229/tcp/50496/p2p/16Uiu2HAmUhNTT8awX5RSxc4ThdFY3U4JztKcFWbconek1swHugj9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.92.32 waku 1554cb6afcda4c795d9e34c90fc1a9eb2ca5cb604b9e73f8707ea66a3f35d765
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 1554cb6afcda. Setting up logs at ./log/docker/node2_2024-10-15_03-20-16__f60e3bcc-e270-4284-89b7-742f6eaeaf8f__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 4396
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4396/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QDeloanUyR50XQwTBmWJJ8qerObFQmOsPo6Dvhw10VzKEC_JAeTLYgRCnOR-M99KgU34Roqhii4_iEMFg4lsHCaGAZKOMNjzgmlkgnY0gmlwhKwRAAKJc2VjcDI1NmsxoQMH4bbbDrzWxbHbMa-d6958bVIsW0NnCAnABqJSY1wP7IN0Y3CCES2DdWRwghEvhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/4397/p2p/16Uiu2HAmDBkpwWfrdWSyXVgiTHDLGcK75MQrJDNC9UynMkdg2CRR","/ip4/127.0.0.1/tcp/4398/ws/p2p/16Uiu2HAmDBkpwWfrdWSyXVgiTHDLGcK75MQrJDNC9UynMkdg2CRR","/ip4/172.17.0.2/tcp/4397/p2p/16Uiu2HAmDBkpwWfrdWSyXVgiTHDLGcK75MQrJDNC9UynMkdg2CRR","/ip4/172.17.0.2/tcp/4398/ws/p2p/16Uiu2HAmDBkpwWfrdWSyXVgiTHDLGcK75MQrJDNC9UynMkdg2CRR"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4396/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.203.229/tcp/50496/p2p/16Uiu2HAmUhNTT8awX5RSxc4ThdFY3U4JztKcFWbconek1swHugj9", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50495/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4396/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "83fa4f3e-d345-4c73-ad3c-9ff3f84e922c", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"83fa4f3e-d345-4c73-ad3c-9ff3f84e922c","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4396/filter/v2/subscriptions/106f99b7-b6e8-41a3-a3b2-d4cfe5aa32fc" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"106f99b7-b6e8-41a3-a3b2-d4cfe5aa32fc","statusDesc":"OK"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id e7822fb6464b
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 1554cb6afcda
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.