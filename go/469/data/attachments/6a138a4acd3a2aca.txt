2025-02-17 03:09:29.800 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-17 03:09:29.800 DEBUG [tests.conftest] Running test: test_filter_update_subscription_with_no_pubsub_topic with id: 2025-02-17_03-09-29__39b03230-2975-42cb-a1a7-8614da31f6fd
2025-02-17 03:09:29.801 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-17 03:09:29.801 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2025-02-17 03:09:29.801 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2025-02-17 03:09:29.807 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-17 03:09:29.807 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-17_03-09-29__39b03230-2975-42cb-a1a7-8614da31f6fd__wakuorg_nwaku:latest.log
2025-02-17 03:09:29.807 DEBUG [src.node.waku_node] Starting Node...
2025-02-17 03:09:29.808 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-17 03:09:29.809 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-17 03:09:29.809 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.94.41
2025-02-17 03:09:29.809 DEBUG [src.node.docker_mananger] Generated ports ['6463', '6464', '6465', '6466', '6467']
2025-02-17 03:09:29.809 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-17 03:09:29.810 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-17 03:09:29.810 DEBUG [src.node.waku_node] Using volumes []
2025-02-17 03:09:29.810 DEBUG [src.node.docker_mananger] docker run -i -t -p 6463:6463 -p 6464:6464 -p 6465:6465 -p 6466:6466 -p 6467:6467 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=6465 --rest-port=6463 --tcp-port=6464 --discv5-udp-port=6466 --rest-address=0.0.0.0 --nat=extip:172.18.94.41 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=87bce5b323bf1ceb8acd0f43ccdfb30d5b90acaf342c027ebe49b9e87bb6bbc1 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=6467 --metrics-logging=true --relay=true --filter=true
2025-02-17 03:09:30.038 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.94.41 waku 276a40f607b979445c1d9368724ea9c9e829bdb61aa60cbd679f0527fa29a138
2025-02-17 03:09:30.090 DEBUG [src.node.docker_mananger] Container started with ID 276a40f607b9. Setting up logs at ./log/docker/node1_2025-02-17_03-09-29__39b03230-2975-42cb-a1a7-8614da31f6fd__wakuorg_nwaku:latest.log
2025-02-17 03:09:30.092 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 6463
2025-02-17 03:09:30.092 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-17 03:09:30.596 ERROR [src.node.docker_mananger] Max retries reached for container f015ed1e9374. Exiting log stream.
2025-02-17 03:09:31.092 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:6463/health" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:31.096 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-17 03:09:31.096 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-17 03:09:31.096 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:6463/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:31.099 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.94.41/tcp/6464/p2p/16Uiu2HAmUSV1WE2vvvLektyyTBcRMrqFEieBnfRFgqmd4iwbuWC9","/ip4/172.18.94.41/tcp/6465/ws/p2p/16Uiu2HAmUSV1WE2vvvLektyyTBcRMrqFEieBnfRFgqmd4iwbuWC9"],"enrUri":"enr:-L24QCdIcsWTIdfxdBSj3Pb6ZzxqBBdWTsoY39mOuKLvmFdGDErSSIltNhS3YbGIGsAaOKLq1GOBlwZcQBd6aRxHeLYCgmlkgnY0gmlwhKwSXimKbXVsdGlhZGRyc5YACASsEl4pBhlAAAoErBJeKQYZQd0DgnJzhQADAQAAiXNlY3AyNTZrMaED6obYUc04xzFCfJWjbEXSDVMudkt4QL-cBbCAzYhUD1qDdGNwghlAg3VkcIIZQoV3YWt1MgU"}'
2025-02-17 03:09:31.099 INFO [src.node.waku_node] REST service is ready !!
2025-02-17 03:09:31.099 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2025-02-17 03:09:31.106 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-17 03:09:31.106 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-17_03-09-29__39b03230-2975-42cb-a1a7-8614da31f6fd__wakuorg_go-waku:latest.log
2025-02-17 03:09:31.106 DEBUG [src.node.waku_node] Starting Node...
2025-02-17 03:09:31.106 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-17 03:09:31.108 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-17 03:09:31.108 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.23.157
2025-02-17 03:09:31.108 DEBUG [src.node.docker_mananger] Generated ports ['32303', '32304', '32305', '32306', '32307']
2025-02-17 03:09:31.108 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-17 03:09:31.108 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-17 03:09:31.108 DEBUG [src.node.waku_node] Using volumes []
2025-02-17 03:09:31.108 DEBUG [src.node.docker_mananger] docker run -i -t -p 32303:32303 -p 32304:32304 -p 32305:32305 -p 32306:32306 -p 32307:32307 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=32305 --rest-port=32303 --tcp-port=32304 --discv5-udp-port=32306 --rest-address=0.0.0.0 --nat=extip:172.18.23.157 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=67e6dba8f5b26c6171fa62f30d2a76d8fe64af3eaa3ddc60d84ebc363b6cec83 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QCdIcsWTIdfxdBSj3Pb6ZzxqBBdWTsoY39mOuKLvmFdGDErSSIltNhS3YbGIGsAaOKLq1GOBlwZcQBd6aRxHeLYCgmlkgnY0gmlwhKwSXimKbXVsdGlhZGRyc5YACASsEl4pBhlAAAoErBJeKQYZQd0DgnJzhQADAQAAiXNlY3AyNTZrMaED6obYUc04xzFCfJWjbEXSDVMudkt4QL-cBbCAzYhUD1qDdGNwghlAg3VkcIIZQoV3YWt1MgU --filternode=/ip4/172.18.94.41/tcp/6464/p2p/16Uiu2HAmUSV1WE2vvvLektyyTBcRMrqFEieBnfRFgqmd4iwbuWC9 --pubsub-topic=/waku/2/rs/3/1
2025-02-17 03:09:31.349 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.23.157 waku bf918da0286ac274474cca7340052b40398703d80685fdf4ac5440a0ed63207e
2025-02-17 03:09:31.407 DEBUG [src.node.docker_mananger] Container started with ID bf918da0286a. Setting up logs at ./log/docker/node2_2025-02-17_03-09-29__39b03230-2975-42cb-a1a7-8614da31f6fd__wakuorg_go-waku:latest.log
2025-02-17 03:09:31.409 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 32303
2025-02-17 03:09:31.409 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-17 03:09:32.410 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32303/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:32.412 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QKTxt6iMKrBb7Ff7H3ttOF2udkgsEiYVJtw2BmI3C_GJJDA0QzBg5-mDDNF7aVljmuF5JDHSy6AwIiKrVgcncriGAZUR4eOHgmlkgnY0gmlwhKwRAAOCcnOFAAMBAAGJc2VjcDI1NmsxoQOp9RIXb5mwzX9yuZjrQu2l4KvK0YR2Z29FEUrfbBI_34N0Y3CCfjCDdWRwgn4yhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/32304/p2p/16Uiu2HAmQ6RzZgyv5nG9mSjZa5Y7niCV76WTdpy2ZxEV8GMD77Rg","/ip4/127.0.0.1/tcp/32305/ws/p2p/16Uiu2HAmQ6RzZgyv5nG9mSjZa5Y7niCV76WTdpy2ZxEV8GMD77Rg","/ip4/172.17.0.3/tcp/32304/p2p/16Uiu2HAmQ6RzZgyv5nG9mSjZa5Y7niCV76WTdpy2ZxEV8GMD77Rg","/ip4/172.17.0.3/tcp/32305/ws/p2p/16Uiu2HAmQ6RzZgyv5nG9mSjZa5Y7niCV76WTdpy2ZxEV8GMD77Rg"]}'
2025-02-17 03:09:32.413 INFO [src.node.waku_node] REST service is ready !!
2025-02-17 03:09:32.413 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:32303/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.94.41/tcp/6464/p2p/16Uiu2HAmUSV1WE2vvvLektyyTBcRMrqFEieBnfRFgqmd4iwbuWC9", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-17 03:09:32.415 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-17 03:09:32.416 DEBUG [src.steps.filter] Running fixture setup: subscribe_main_nodes
2025-02-17 03:09:32.416 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:6463/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-17 03:09:32.419 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 03:09:32.419 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:32303/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "ecba77a0-3a82-470e-b768-03ed6c2cdc10", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2025-02-17 03:09:32.425 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"ecba77a0-3a82-470e-b768-03ed6c2cdc10","statusDesc":"OK"}'
2025-02-17 03:09:32.429 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-17 03:09:32.430 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-17 03:09:32.430 DEBUG [src.node.waku_node] Stopping container with id 276a40f607b9
2025-02-17 03:09:33.021 DEBUG [src.node.waku_node] Container stopped.
2025-02-17 03:09:33.021 DEBUG [src.node.waku_node] Stopping container with id bf918da0286a
2025-02-17 03:09:33.839 ERROR [src.node.docker_mananger] Max retries reached for container 276a40f607b9. Exiting log stream.
2025-02-17 03:09:33.903 DEBUG [src.node.waku_node] Container stopped.
2025-02-17 03:09:33.904 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-17 03:09:33.908 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-17 03:09:33.912 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
