2025-02-17 03:13:04.879 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-17 03:13:04.879 DEBUG [tests.conftest] Running test: test_unsubscribe_from_all_pubsub_topics with id: 2025-02-17_03-13-04__cd17fa1b-e4db-40fe-8558-fd947cc12c27
2025-02-17 03:13:04.879 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-17 03:13:04.879 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-17 03:13:04.880 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-17 03:13:04.886 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-17 03:13:04.887 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-17_03-13-04__cd17fa1b-e4db-40fe-8558-fd947cc12c27__wakuorg_nwaku:latest.log
2025-02-17 03:13:04.887 DEBUG [src.node.waku_node] Starting Node...
2025-02-17 03:13:04.887 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-17 03:13:04.888 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-17 03:13:04.888 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.107.211
2025-02-17 03:13:04.888 DEBUG [src.node.docker_mananger] Generated ports ['57860', '57861', '57862', '57863', '57864']
2025-02-17 03:13:04.889 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-17 03:13:04.889 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-17 03:13:04.889 DEBUG [src.node.waku_node] Using volumes []
2025-02-17 03:13:04.889 DEBUG [src.node.docker_mananger] docker run -i -t -p 57860:57860 -p 57861:57861 -p 57862:57862 -p 57863:57863 -p 57864:57864 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=57862 --rest-port=57860 --tcp-port=57861 --discv5-udp-port=57863 --rest-address=0.0.0.0 --nat=extip:172.18.107.211 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=14ec399eb3b29a4cbbf571c8a9afcb28b8d2640f7abff41dfc00acb67ac4ba5c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=57864 --metrics-logging=true --relay=true --filter=true --pubsub-topic=/waku/2/rs/2/0 --pubsub-topic=/waku/2/rs/2/1 --pubsub-topic=/waku/2/rs/2/2 --pubsub-topic=/waku/2/rs/2/3 --pubsub-topic=/waku/2/rs/2/4 --pubsub-topic=/waku/2/rs/2/5 --pubsub-topic=/waku/2/rs/2/6 --pubsub-topic=/waku/2/rs/2/7
2025-02-17 03:13:05.116 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.107.211 waku bd5723ccc9e28a2d0df73bd408b27f2ec24e2730711f251f6df0d0f99987ff2e
2025-02-17 03:13:05.168 DEBUG [src.node.docker_mananger] Container started with ID bd5723ccc9e2. Setting up logs at ./log/docker/node1_2025-02-17_03-13-04__cd17fa1b-e4db-40fe-8558-fd947cc12c27__wakuorg_nwaku:latest.log
2025-02-17 03:13:05.168 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 57860
2025-02-17 03:13:05.168 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-17 03:13:05.668 ERROR [src.node.docker_mananger] Max retries reached for container d552de280e92. Exiting log stream.
2025-02-17 03:13:06.169 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57860/health" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:13:06.172 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-17 03:13:06.172 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-17 03:13:06.172 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57860/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:13:06.174 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.107.211/tcp/57861/p2p/16Uiu2HAmRFmRq45yF2p3EG2AVkuTLJjUJiKRWGecdB9c1mDgx36S","/ip4/172.18.107.211/tcp/57862/ws/p2p/16Uiu2HAmRFmRq45yF2p3EG2AVkuTLJjUJiKRWGecdB9c1mDgx36S"],"enrUri":"enr:-Mu4QOv6lR9e20O5U8Q8kuM0Fv-RSZmotifNF_3o9wnyH-kuSLYBSQgqJ96k4eTrzWrNBohVfqoosVFt1-FCcz5FIEkCgmlkgnY0gmlwhKwSa9OKbXVsdGlhZGRyc5YACASsEmvTBuIFAAoErBJr0wbiBt0DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQO7NPX13xXz2yMGK7NuEwVYGxWh20PxSrv_t5GYrHq5C4N0Y3CC4gWDdWRwguIHhXdha3UyBQ"}'
2025-02-17 03:13:06.174 INFO [src.node.waku_node] REST service is ready !!
2025-02-17 03:13:06.180 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-17 03:13:06.181 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-17_03-13-04__cd17fa1b-e4db-40fe-8558-fd947cc12c27__wakuorg_go-waku:latest.log
2025-02-17 03:13:06.181 DEBUG [src.node.waku_node] Starting Node...
2025-02-17 03:13:06.181 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-17 03:13:06.182 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-17 03:13:06.182 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.152.36
2025-02-17 03:13:06.182 DEBUG [src.node.docker_mananger] Generated ports ['38356', '38357', '38358', '38359', '38360']
2025-02-17 03:13:06.183 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-17 03:13:06.183 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-17 03:13:06.183 DEBUG [src.node.waku_node] Using volumes []
2025-02-17 03:13:06.183 DEBUG [src.node.docker_mananger] docker run -i -t -p 38356:38356 -p 38357:38357 -p 38358:38358 -p 38359:38359 -p 38360:38360 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=38358 --rest-port=38356 --tcp-port=38357 --discv5-udp-port=38359 --rest-address=0.0.0.0 --nat=extip:172.18.152.36 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=df46bbb5c2ea0c5fb80841af112cb9db9c9ab3c552aecbe2dc6ca197aa4b05d1 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-Mu4QOv6lR9e20O5U8Q8kuM0Fv-RSZmotifNF_3o9wnyH-kuSLYBSQgqJ96k4eTrzWrNBohVfqoosVFt1-FCcz5FIEkCgmlkgnY0gmlwhKwSa9OKbXVsdGlhZGRyc5YACASsEmvTBuIFAAoErBJr0wbiBt0DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQO7NPX13xXz2yMGK7NuEwVYGxWh20PxSrv_t5GYrHq5C4N0Y3CC4gWDdWRwguIHhXdha3UyBQ --pubsub-topic=/waku/2/rs/2/0 --pubsub-topic=/waku/2/rs/2/1 --pubsub-topic=/waku/2/rs/2/2 --pubsub-topic=/waku/2/rs/2/3 --pubsub-topic=/waku/2/rs/2/4 --pubsub-topic=/waku/2/rs/2/5 --pubsub-topic=/waku/2/rs/2/6 --pubsub-topic=/waku/2/rs/2/7
2025-02-17 03:13:06.425 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.152.36 waku 19ec04281f97e5f47cf18877344b2a950315b276da9376e60a6a6a6d51172b18
2025-02-17 03:13:06.476 DEBUG [src.node.docker_mananger] Container started with ID 19ec04281f97. Setting up logs at ./log/docker/node2_2025-02-17_03-13-04__cd17fa1b-e4db-40fe-8558-fd947cc12c27__wakuorg_go-waku:latest.log
2025-02-17 03:13:06.476 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 38356
2025-02-17 03:13:06.478 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-17 03:13:07.478 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38356/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:13:07.480 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-K-4QJp0B_l9S_KatuIT_LPHFzEZyp6ajvAtLq-ei1YW8MIBXVPoNoslIgMKTauX4xP0hTY_NMBgc-oyYRMhY-0-PCCGAZUR5SusgmlkgnY0gmlwhKwRAAOCcnOTAAIIAAUABgAHAAAAAQACAAMABIlzZWNwMjU2azGhA5AK3Fqclx3qBEOrJOu4krO_KQY-CqjPFhLAL1-KL4zUg3RjcIKV1YN1ZHCCldeFd2FrdTIB","listenAddresses":["/ip4/127.0.0.1/tcp/38357/p2p/16Uiu2HAmNMGfVLxAn1EhWLeoUwHRS6uqrZyuVepCiBHpVN4EYFYF","/ip4/127.0.0.1/tcp/38358/ws/p2p/16Uiu2HAmNMGfVLxAn1EhWLeoUwHRS6uqrZyuVepCiBHpVN4EYFYF","/ip4/172.17.0.3/tcp/38357/p2p/16Uiu2HAmNMGfVLxAn1EhWLeoUwHRS6uqrZyuVepCiBHpVN4EYFYF","/ip4/172.17.0.3/tcp/38358/ws/p2p/16Uiu2HAmNMGfVLxAn1EhWLeoUwHRS6uqrZyuVepCiBHpVN4EYFYF"]}'
2025-02-17 03:13:07.481 INFO [src.node.waku_node] REST service is ready !!
2025-02-17 03:13:07.481 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:38356/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.107.211/tcp/57861/p2p/16Uiu2HAmRFmRq45yF2p3EG2AVkuTLJjUJiKRWGecdB9c1mDgx36S", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-17 03:13:07.483 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-17 03:13:07.484 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:57860/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2", "/waku/2/rs/2/3", "/waku/2/rs/2/4", "/waku/2/rs/2/5", "/waku/2/rs/2/6", "/waku/2/rs/2/7"]'
2025-02-17 03:13:07.486 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 03:13:07.486 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:38356/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2", "/waku/2/rs/2/3", "/waku/2/rs/2/4", "/waku/2/rs/2/5", "/waku/2/rs/2/6", "/waku/2/rs/2/7"]'
2025-02-17 03:13:07.488 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-17 03:13:07.489 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:57860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 03:13:07.494 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 03:13:07.494 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 03:13:07.594 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 03:13:07.594 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:13:07.597 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739761987489409536,"ephemeral":false,"proof":""}]'
2025-02-17 03:13:07.598 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-17 03:13:07.598 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38356/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:13:07.600 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739761987489409536,"ephemeral":false}]'
2025-02-17 03:13:07.602 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:57860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 03:13:07.606 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 03:13:07.606 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 03:13:07.707 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 03:13:07.707 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:13:07.709 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739761987602336768,"ephemeral":false,"proof":""}]'
2025-02-17 03:13:07.711 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-17 03:13:07.711 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38356/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:13:07.712 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739761987602336768,"ephemeral":false}]'
2025-02-17 03:13:07.714 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:57860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 03:13:07.718 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 03:13:07.719 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 03:13:07.819 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 03:13:07.819 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:13:07.822 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739761987714504448,"ephemeral":false,"proof":""}]'
2025-02-17 03:13:07.823 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-17 03:13:07.823 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38356/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:13:07.825 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739761987714504448,"ephemeral":false}]'
2025-02-17 03:13:07.826 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:57860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 03:13:07.831 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 03:13:07.831 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 03:13:07.931 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 03:13:07.931 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:13:07.934 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739761987826788352,"ephemeral":false,"proof":""}]'
2025-02-17 03:13:07.935 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-17 03:13:07.936 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38356/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:13:07.937 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739761987826788352,"ephemeral":false}]'
2025-02-17 03:13:07.939 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:57860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 03:13:07.943 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 03:13:07.943 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 03:13:08.044 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 03:13:08.044 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:13:08.046 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739761987939226624,"ephemeral":false,"proof":""}]'
2025-02-17 03:13:08.048 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-17 03:13:08.048 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38356/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:13:08.050 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739761987939226624,"ephemeral":false}]'
2025-02-17 03:13:08.052 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:57860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 03:13:08.056 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 03:13:08.056 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 03:13:08.156 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 03:13:08.157 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:13:08.159 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739761988051917568,"ephemeral":false,"proof":""}]'
2025-02-17 03:13:08.160 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-17 03:13:08.160 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38356/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:13:08.162 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739761988051917568,"ephemeral":false}]'
2025-02-17 03:13:08.164 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:57860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 03:13:08.168 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 03:13:08.168 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 03:13:08.269 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 03:13:08.269 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:13:08.271 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739761988164102656,"ephemeral":false,"proof":""}]'
2025-02-17 03:13:08.273 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-17 03:13:08.273 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38356/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:13:08.274 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739761988164102656,"ephemeral":false}]'
2025-02-17 03:13:08.276 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:57860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 03:13:08.280 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 03:13:08.280 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 03:13:08.381 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-17 03:13:08.381 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:57860/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:13:08.383 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739761988276433408,"ephemeral":false,"proof":""}]'
2025-02-17 03:13:08.385 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-17 03:13:08.385 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38356/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:13:08.386 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739761988276433408,"ephemeral":false}]'
2025-02-17 03:13:08.388 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:57860/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2", "/waku/2/rs/2/3", "/waku/2/rs/2/4", "/waku/2/rs/2/5", "/waku/2/rs/2/6", "/waku/2/rs/2/7"]'
2025-02-17 03:13:08.401 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 03:13:08.402 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:38356/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2", "/waku/2/rs/2/3", "/waku/2/rs/2/4", "/waku/2/rs/2/5", "/waku/2/rs/2/6", "/waku/2/rs/2/7"]'
2025-02-17 03:13:28.589 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-17 03:13:28.590 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-17 03:13:28.590 DEBUG [src.node.waku_node] Stopping container with id bd5723ccc9e2
2025-02-17 03:13:30.096 DEBUG [src.node.waku_node] Container stopped.
2025-02-17 03:13:30.096 DEBUG [src.node.waku_node] Stopping container with id 19ec04281f97
2025-02-17 03:13:30.908 ERROR [src.node.docker_mananger] Max retries reached for container bd5723ccc9e2. Exiting log stream.
2025-02-17 03:13:40.576 DEBUG [src.node.waku_node] Container stopped.
2025-02-17 03:13:40.579 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-17 03:13:40.590 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-17 03:13:40.594 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
