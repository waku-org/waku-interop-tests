2025-02-17 03:11:58.502 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-17 03:11:58.503 DEBUG [tests.conftest] Running test: test_get_store_messages_with_different_content_topics with id: 2025-02-17_03-11-58__fb217ad7-fc2d-4c08-baf0-2f0243f5b5e0
2025-02-17 03:11:58.503 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-17 03:11:58.503 DEBUG [src.steps.store] Running fixture setup: store_setup
2025-02-17 03:11:58.503 DEBUG [src.steps.store] Running fixture setup: node_setup
2025-02-17 03:11:58.510 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-17 03:11:58.510 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-17_03-11-58__fb217ad7-fc2d-4c08-baf0-2f0243f5b5e0__wakuorg_nwaku:latest.log
2025-02-17 03:11:58.510 DEBUG [src.node.waku_node] Starting Node...
2025-02-17 03:11:58.510 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-17 03:11:58.512 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-17 03:11:58.512 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.52.103
2025-02-17 03:11:58.512 DEBUG [src.node.docker_mananger] Generated ports ['35838', '35839', '35840', '35841', '35842']
2025-02-17 03:11:58.512 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-17 03:11:58.512 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-17 03:11:58.512 DEBUG [src.node.waku_node] Using volumes []
2025-02-17 03:11:58.512 DEBUG [src.node.docker_mananger] docker run -i -t -p 35838:35838 -p 35839:35839 -p 35840:35840 -p 35841:35841 -p 35842:35842 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=35840 --rest-port=35838 --tcp-port=35839 --discv5-udp-port=35841 --rest-address=0.0.0.0 --nat=extip:172.18.52.103 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5ffec9cc718aa5db897fd5db59df0e7ab4ab381826a47d825f1310a38b497835 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=35842 --metrics-logging=true --store=true --relay=true
2025-02-17 03:11:58.739 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.52.103 waku 92f21445a7412c97ea995f278f4a4e47409fe32ffac40b4a2c1cb735b0ca19d9
2025-02-17 03:11:58.772 ERROR [src.node.docker_mananger] Max retries reached for container 1e5ebbf46b12. Exiting log stream.
2025-02-17 03:11:58.787 DEBUG [src.node.docker_mananger] Container started with ID 92f21445a741. Setting up logs at ./log/docker/publishing_node1_2025-02-17_03-11-58__fb217ad7-fc2d-4c08-baf0-2f0243f5b5e0__wakuorg_nwaku:latest.log
2025-02-17 03:11:58.788 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 35838
2025-02-17 03:11:58.789 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-17 03:11:59.265 ERROR [src.node.docker_mananger] Max retries reached for container ce591b2332fe. Exiting log stream.
2025-02-17 03:11:59.789 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:35838/health" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:11:59.792 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-17 03:11:59.792 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-17 03:11:59.793 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:35838/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:11:59.795 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.52.103/tcp/35839/p2p/16Uiu2HAmHsF23WZwVzgbzijYx9Pwt3rHbj7sKnKJDbfVD7TXj3HV","/ip4/172.18.52.103/tcp/35840/ws/p2p/16Uiu2HAmHsF23WZwVzgbzijYx9Pwt3rHbj7sKnKJDbfVD7TXj3HV"],"enrUri":"enr:-L24QMSSw1PhtJL1D2rekeF5VvEZ-4WI1E7TIkGKry2zs3ToQVICUxEd_IDt_BXrPGepATMZv7EycBITKWKtUhmeehoCgmlkgnY0gmlwhKwSNGeKbXVsdGlhZGRyc5YACASsEjRnBov_AAoErBI0ZwaMAN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDTW39XP6MVFgIibG6rdSs9qfD8lYXLCcZuxWhKa0AtjSDdGNwgov_g3VkcIKMAYV3YWt1MgM"}'
2025-02-17 03:11:59.795 INFO [src.node.waku_node] REST service is ready !!
2025-02-17 03:11:59.802 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-17 03:11:59.802 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-17_03-11-58__fb217ad7-fc2d-4c08-baf0-2f0243f5b5e0__wakuorg_go-waku:latest.log
2025-02-17 03:11:59.802 DEBUG [src.node.waku_node] Starting Node...
2025-02-17 03:11:59.802 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-17 03:11:59.803 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-17 03:11:59.804 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.217.162
2025-02-17 03:11:59.804 DEBUG [src.node.docker_mananger] Generated ports ['49379', '49380', '49381', '49382', '49383']
2025-02-17 03:11:59.804 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-17 03:11:59.804 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-17 03:11:59.804 DEBUG [src.node.waku_node] Using volumes []
2025-02-17 03:11:59.804 DEBUG [src.node.docker_mananger] docker run -i -t -p 49379:49379 -p 49380:49380 -p 49381:49381 -p 49382:49382 -p 49383:49383 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=49381 --rest-port=49379 --tcp-port=49380 --discv5-udp-port=49382 --rest-address=0.0.0.0 --nat=extip:172.18.217.162 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=00a16e2a87a9d443618a1f49ac8b04618fbdf8c97bd3e6ecce1355f1724d4253 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-L24QMSSw1PhtJL1D2rekeF5VvEZ-4WI1E7TIkGKry2zs3ToQVICUxEd_IDt_BXrPGepATMZv7EycBITKWKtUhmeehoCgmlkgnY0gmlwhKwSNGeKbXVsdGlhZGRyc5YACASsEjRnBov_AAoErBI0ZwaMAN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDTW39XP6MVFgIibG6rdSs9qfD8lYXLCcZuxWhKa0AtjSDdGNwgov_g3VkcIKMAYV3YWt1MgM --storenode=/ip4/172.18.52.103/tcp/35839/p2p/16Uiu2HAmHsF23WZwVzgbzijYx9Pwt3rHbj7sKnKJDbfVD7TXj3HV --store=true --relay=true
2025-02-17 03:12:00.034 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.217.162 waku 1872dedf147e8b2e0eba0a02cf2f6e3d187fcf1e548b98b67dcb1305df35e729
2025-02-17 03:12:00.082 DEBUG [src.node.docker_mananger] Container started with ID 1872dedf147e. Setting up logs at ./log/docker/store_node1_2025-02-17_03-11-58__fb217ad7-fc2d-4c08-baf0-2f0243f5b5e0__wakuorg_go-waku:latest.log
2025-02-17 03:12:00.082 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 49379
2025-02-17 03:12:00.082 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-17 03:12:01.084 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49379/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:12:01.086 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QNNpMjaKxfl3i9YakoL8jJoQoBQ6lEhkMNrNJwlc2aZrR3itc6D7h-pu9U_qBOJkCxB1ziqoNzv1KDuFLzy3QWaGAZUR5ChfgmlkgnY0gmlwhKwRAASCcnODAAMAiXNlY3AyNTZrMaEDRnGpQPJ1CsWkOC_SvC3Kl-_hZnnS45dzmKh90aYFx5eDdGNwgsDkg3VkcILA5oV3YWt1MgM","listenAddresses":["/ip4/127.0.0.1/tcp/49380/p2p/16Uiu2HAmHPyQr7CazEzCFeN6GSTkNHGaJ1YRr7MXSUrgm2hriSLE","/ip4/127.0.0.1/tcp/49381/ws/p2p/16Uiu2HAmHPyQr7CazEzCFeN6GSTkNHGaJ1YRr7MXSUrgm2hriSLE","/ip4/172.17.0.4/tcp/49380/p2p/16Uiu2HAmHPyQr7CazEzCFeN6GSTkNHGaJ1YRr7MXSUrgm2hriSLE","/ip4/172.17.0.4/tcp/49381/ws/p2p/16Uiu2HAmHPyQr7CazEzCFeN6GSTkNHGaJ1YRr7MXSUrgm2hriSLE"]}'
2025-02-17 03:12:01.087 INFO [src.node.waku_node] REST service is ready !!
2025-02-17 03:12:01.087 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:49379/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.52.103/tcp/35839/p2p/16Uiu2HAmHsF23WZwVzgbzijYx9Pwt3rHbj7sKnKJDbfVD7TXj3HV", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-17 03:12:01.103 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-17 03:12:01.104 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35838/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-17 03:12:01.125 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 03:12:01.125 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:49379/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-17 03:12:01.128 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-17 03:12:01.131 DEBUG [tests.store.test_get_messages] Running test with content topic /myapp/1/latest/proto
2025-02-17 03:12:01.131 DEBUG [src.steps.store] Relaying message
2025-02-17 03:12:01.131 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35838/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 03:12:01.143 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 03:12:01.143 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-17 03:12:01.344 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-17 03:12:01.344 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:35838/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:12:01.348 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x9324a1c30bef7c5bf59aa1efaf493715d48e3d07e3e61cc07ca1fe2e559086c0"}]}'
2025-02-17 03:12:01.348 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-17 03:12:01.348 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49379/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:12:01.354 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"d65a872e3739c3a7d7918723439aff9cbdc99b0387c79cdda948421bb032fb93","status_code":200,"status_desc":"OK","messages":[{"message_hash":"kyShwwvvfFv1mqHvr0k3FdSOPQfj5hzAfKH+LlWQhsA="}]}'
2025-02-17 03:12:01.355 DEBUG [tests.store.test_get_messages] Running test with content topic /waku/2/content/test.js
2025-02-17 03:12:01.355 DEBUG [src.steps.store] Relaying message
2025-02-17 03:12:01.355 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35838/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-17 03:12:01.360 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 03:12:01.361 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-17 03:12:01.561 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-17 03:12:01.561 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:35838/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fwaku%2F2%2Fcontent%2Ftest.js&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:12:01.565 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x197e298023e2aa4ce457d456f5ad457d2a3c9213d33ec003089b9727412e6f87"}]}'
2025-02-17 03:12:01.565 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-17 03:12:01.565 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49379/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fwaku%2F2%2Fcontent%2Ftest.js&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:12:01.570 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"01a3b196a2766b07d2c99dcc6f3eff82c70739541b9fc5c6f4c197f2d4c82afa","status_code":200,"status_desc":"OK","messages":[{"message_hash":"GX4pgCPiqkzkV9RW9a1FfSo8khPTPsADCJuXJ0Eub4c="}]}'
2025-02-17 03:12:01.571 DEBUG [tests.store.test_get_messages] Running test with content topic /app/22/sometopic/someencoding
2025-02-17 03:12:01.571 DEBUG [src.steps.store] Relaying message
2025-02-17 03:12:01.571 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35838/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-17 03:12:01.576 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 03:12:01.576 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-17 03:12:01.777 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-17 03:12:01.777 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:35838/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F22%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:12:01.781 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x6ebca4b0dd9fc103daf95b8781d468e3b334a38e92fd8ce44458a10884cce34f"}]}'
2025-02-17 03:12:01.781 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-17 03:12:01.781 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49379/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F22%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:12:01.786 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"56fe338c166609a23c7a513e0af56b9b40cdb6e61183b815c394711f0fa73685","status_code":200,"status_desc":"OK","messages":[{"message_hash":"bryksN2fwQPa+VuHgdRo47M0o46S/YzkRFihCITM408="}]}'
2025-02-17 03:12:01.787 DEBUG [tests.store.test_get_messages] Running test with content topic /toychat/2/huilong/proto
2025-02-17 03:12:01.787 DEBUG [src.steps.store] Relaying message
2025-02-17 03:12:01.787 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35838/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 03:12:01.793 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 03:12:01.793 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-17 03:12:01.993 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-17 03:12:01.994 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:35838/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Ftoychat%2F2%2Fhuilong%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:12:01.997 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xce08865988603e91df033a1c9dba93367bd11ef91b5b4c7c905f854cd9911336"}]}'
2025-02-17 03:12:01.997 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-17 03:12:01.998 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49379/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Ftoychat%2F2%2Fhuilong%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:12:02.002 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"dfcfbc6ff3e0c793131e33e1738651ddfbaf1cdadbf26165cce34b2a3d62b99f","status_code":200,"status_desc":"OK","messages":[{"message_hash":"zgiGWYhgPpHfAzocnbqTNnvRHvkbW0x8kF+FTNmREzY="}]}'
2025-02-17 03:12:02.003 DEBUG [tests.store.test_get_messages] Running test with content topic /statusim/1/community/cbor
2025-02-17 03:12:02.004 DEBUG [src.steps.store] Relaying message
2025-02-17 03:12:02.004 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35838/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-17 03:12:02.009 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 03:12:02.009 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-17 03:12:02.209 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-17 03:12:02.210 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:35838/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fstatusim%2F1%2Fcommunity%2Fcbor&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:12:02.213 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xc7ad3e65bc3892c935f9c56e6d3e40f02be19ea2a5bebfc729cb3f7fbee470e8"}]}'
2025-02-17 03:12:02.213 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-17 03:12:02.213 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49379/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fstatusim%2F1%2Fcommunity%2Fcbor&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:12:02.218 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"b25227e48a277d688261b132968db4eb7cb03a604c0dbad1b258af1753ce0773","status_code":200,"status_desc":"OK","messages":[{"message_hash":"x60+Zbw4ksk1+cVubT5A8CvhnqKlvr/HKcs/f77kcOg="}]}'
2025-02-17 03:12:02.218 DEBUG [tests.store.test_get_messages] Running test with content topic /app/27/sometopic/someencoding
2025-02-17 03:12:02.219 DEBUG [src.steps.store] Relaying message
2025-02-17 03:12:02.219 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35838/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-17 03:12:02.224 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 03:12:02.225 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-17 03:12:02.425 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-17 03:12:02.425 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:35838/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F27%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:12:02.428 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x9c6521a17e3519313a358ae9ca63412aafd6bbf9271988b16dd2a0d711df9f89"}]}'
2025-02-17 03:12:02.429 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-17 03:12:02.429 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49379/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F27%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:12:02.434 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"ff21a2d839ad90194a95a06366133b96d43a0755ec970085005c9018c834fa31","status_code":200,"status_desc":"OK","messages":[{"message_hash":"nGUhoX41GTE6NYrpymNBKq/Wu/knGYixbdKg1xHfn4k="}]}'
2025-02-17 03:12:02.435 DEBUG [tests.store.test_get_messages] Running test with content topic /app/29/sometopic/someencoding
2025-02-17 03:12:02.435 DEBUG [src.steps.store] Relaying message
2025-02-17 03:12:02.435 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35838/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-17 03:12:02.440 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 03:12:02.440 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-17 03:12:02.641 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-17 03:12:02.641 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:35838/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F29%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:12:02.644 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xeeaa6618e9b355ecededfdd67671b17e0991f9dbc04996c89d299f029486ae74"}]}'
2025-02-17 03:12:02.645 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-17 03:12:02.645 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49379/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F29%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:12:02.650 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"736df62cca44f55b09abff4b923baf9f9b6c86c1d76bd3033129061332abe020","status_code":200,"status_desc":"OK","messages":[{"message_hash":"7qpmGOmzVezt7f3WdnGxfgmR+dvASZbInSmfApSGrnQ="}]}'
2025-02-17 03:12:02.650 DEBUG [tests.store.test_get_messages] Running test with content topic /app/20/sometopic/someencoding
2025-02-17 03:12:02.651 DEBUG [src.steps.store] Relaying message
2025-02-17 03:12:02.651 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35838/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-17 03:12:02.656 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 03:12:02.656 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-17 03:12:02.857 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-17 03:12:02.857 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:35838/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F20%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:12:02.860 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x7354b8ff30f2a2c91ae9e445b64bce0c980998fde639eaeb77f39c2d12462248"}]}'
2025-02-17 03:12:02.861 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-17 03:12:02.861 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49379/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F20%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:12:02.865 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"4ef26d192919bbe4e6fa333a6462f75d1e65e8a8fc53652ecf98f93526092f05","status_code":200,"status_desc":"OK","messages":[{"message_hash":"c1S4/zDyoska6eRFtkvODJgJmP3mOerrd/OcLRJGIkg="}]}'
2025-02-17 03:12:02.868 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-17 03:12:02.869 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-17 03:12:02.869 DEBUG [src.node.waku_node] Stopping container with id 92f21445a741
2025-02-17 03:12:04.311 DEBUG [src.node.waku_node] Container stopped.
2025-02-17 03:12:04.312 DEBUG [src.node.waku_node] Stopping container with id 1872dedf147e
2025-02-17 03:12:04.811 DEBUG [src.node.waku_node] Container stopped.
2025-02-17 03:12:04.812 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-17 03:12:04.823 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-17 03:12:04.828 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
