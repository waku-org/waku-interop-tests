2025-02-17 03:07:57.313 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-17 03:07:57.313 DEBUG [tests.conftest] Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2025-02-17_03-07-57__b96c26dc-eadf-4bf1-a171-e55d3de26b3c
2025-02-17 03:07:57.314 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-17 03:07:57.314 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2025-02-17 03:07:57.314 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2025-02-17 03:07:57.320 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-17 03:07:57.320 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-17_03-07-57__b96c26dc-eadf-4bf1-a171-e55d3de26b3c__wakuorg_nwaku:latest.log
2025-02-17 03:07:57.320 DEBUG [src.node.waku_node] Starting Node...
2025-02-17 03:07:57.320 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-17 03:07:57.322 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-17 03:07:57.322 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.230.95
2025-02-17 03:07:57.322 DEBUG [src.node.docker_mananger] Generated ports ['62622', '62623', '62624', '62625', '62626']
2025-02-17 03:07:57.322 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-17 03:07:57.322 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-17 03:07:57.322 DEBUG [src.node.waku_node] Using volumes []
2025-02-17 03:07:57.323 DEBUG [src.node.docker_mananger] docker run -i -t -p 62622:62622 -p 62623:62623 -p 62624:62624 -p 62625:62625 -p 62626:62626 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=62624 --rest-port=62622 --tcp-port=62623 --discv5-udp-port=62625 --rest-address=0.0.0.0 --nat=extip:172.18.230.95 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2eadaf7eb3b1b7aa0086bcebb8746b5db606ad310d6b9e3a9c7de5071f9e93a0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=62626 --metrics-logging=true --relay=true --filter=true
2025-02-17 03:07:57.550 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.230.95 waku a7622d9bb3cec99b9a176dae7a63ad7ff342802319890e0396163d45960aa47c
2025-02-17 03:07:57.596 DEBUG [src.node.docker_mananger] Container started with ID a7622d9bb3ce. Setting up logs at ./log/docker/node1_2025-02-17_03-07-57__b96c26dc-eadf-4bf1-a171-e55d3de26b3c__wakuorg_nwaku:latest.log
2025-02-17 03:07:57.596 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 62622
2025-02-17 03:07:57.596 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-17 03:07:57.609 ERROR [src.node.docker_mananger] Max retries reached for container 7f21fae1de67. Exiting log stream.
2025-02-17 03:07:58.116 ERROR [src.node.docker_mananger] Max retries reached for container 0404dcff3413. Exiting log stream.
2025-02-17 03:07:58.597 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:62622/health" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:07:58.600 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-17 03:07:58.600 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-17 03:07:58.600 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:62622/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:07:58.603 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.230.95/tcp/62623/p2p/16Uiu2HAm5RgU5zbd2DMDv1i6SuKQ8Xt4qCrHZ8ypArcqgXHNRnFC","/ip4/172.18.230.95/tcp/62624/ws/p2p/16Uiu2HAm5RgU5zbd2DMDv1i6SuKQ8Xt4qCrHZ8ypArcqgXHNRnFC"],"enrUri":"enr:-L24QHrjwGKGLum0geiDGQx8IWrkioc8BSuGbLecu-V66ifqTFlU58c6jdomjfTcLBRTqS8xrr9gF7tOmC6NCR4ltPQCgmlkgnY0gmlwhKwS5l-KbXVsdGlhZGRyc5YACASsEuZfBvSfAAoErBLmXwb0oN0DgnJzhQADAQAAiXNlY3AyNTZrMaEClJVrvCsgCEvakT-HKhbtGrJ55saTirNGOMw0ogI8IZuDdGNwgvSfg3VkcIL0oYV3YWt1MgU"}'
2025-02-17 03:07:58.603 INFO [src.node.waku_node] REST service is ready !!
2025-02-17 03:07:58.603 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2025-02-17 03:07:58.609 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-17 03:07:58.609 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-17_03-07-57__b96c26dc-eadf-4bf1-a171-e55d3de26b3c__wakuorg_go-waku:latest.log
2025-02-17 03:07:58.609 DEBUG [src.node.waku_node] Starting Node...
2025-02-17 03:07:58.610 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-17 03:07:58.611 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-17 03:07:58.611 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.20.193
2025-02-17 03:07:58.611 DEBUG [src.node.docker_mananger] Generated ports ['23624', '23625', '23626', '23627', '23628']
2025-02-17 03:07:58.611 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-17 03:07:58.611 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-17 03:07:58.611 DEBUG [src.node.waku_node] Using volumes []
2025-02-17 03:07:58.612 DEBUG [src.node.docker_mananger] docker run -i -t -p 23624:23624 -p 23625:23625 -p 23626:23626 -p 23627:23627 -p 23628:23628 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=23626 --rest-port=23624 --tcp-port=23625 --discv5-udp-port=23627 --rest-address=0.0.0.0 --nat=extip:172.18.20.193 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f9b6f53aee4f0f3ec75e79ede894dd7dfd4cbdc1cbeeb51cf6181cba7b7ecdf9 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QHrjwGKGLum0geiDGQx8IWrkioc8BSuGbLecu-V66ifqTFlU58c6jdomjfTcLBRTqS8xrr9gF7tOmC6NCR4ltPQCgmlkgnY0gmlwhKwS5l-KbXVsdGlhZGRyc5YACASsEuZfBvSfAAoErBLmXwb0oN0DgnJzhQADAQAAiXNlY3AyNTZrMaEClJVrvCsgCEvakT-HKhbtGrJ55saTirNGOMw0ogI8IZuDdGNwgvSfg3VkcIL0oYV3YWt1MgU --filternode=/ip4/172.18.230.95/tcp/62623/p2p/16Uiu2HAm5RgU5zbd2DMDv1i6SuKQ8Xt4qCrHZ8ypArcqgXHNRnFC --pubsub-topic=/waku/2/rs/3/1
2025-02-17 03:07:58.851 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.20.193 waku aff05bca303077786f90e9df97de88dc70059b3ad1b62d4499ff9f8e34b8e3d5
2025-02-17 03:07:58.901 DEBUG [src.node.docker_mananger] Container started with ID aff05bca3030. Setting up logs at ./log/docker/node2_2025-02-17_03-07-57__b96c26dc-eadf-4bf1-a171-e55d3de26b3c__wakuorg_go-waku:latest.log
2025-02-17 03:07:58.902 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 23624
2025-02-17 03:07:58.902 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-17 03:07:59.902 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23624/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:07:59.905 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QH0ss718yFi-L7hmN6Es-2DV4r2su6siE1a3bUpbQ0ucNwsK6Ri898yRc7tyYl3I2ttcCkjsCdWj-uNUkIUokXaGAZUR4Ho0gmlkgnY0gmlwhKwRAAOCcnOFAAMBAAGJc2VjcDI1NmsxoQJzperzivx0U9rE5hPzkLF6jSxAbhlDxutveBQ3_JY454N0Y3CCXEmDdWRwglxLhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/23625/p2p/16Uiu2HAm3D7byL6HuGwswwjmux1JB3jreAPDvFmrc1QEdoR3resQ","/ip4/127.0.0.1/tcp/23626/ws/p2p/16Uiu2HAm3D7byL6HuGwswwjmux1JB3jreAPDvFmrc1QEdoR3resQ","/ip4/172.17.0.3/tcp/23625/p2p/16Uiu2HAm3D7byL6HuGwswwjmux1JB3jreAPDvFmrc1QEdoR3resQ","/ip4/172.17.0.3/tcp/23626/ws/p2p/16Uiu2HAm3D7byL6HuGwswwjmux1JB3jreAPDvFmrc1QEdoR3resQ"]}'
2025-02-17 03:07:59.905 INFO [src.node.waku_node] REST service is ready !!
2025-02-17 03:07:59.905 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23624/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.230.95/tcp/62623/p2p/16Uiu2HAm5RgU5zbd2DMDv1i6SuKQ8Xt4qCrHZ8ypArcqgXHNRnFC", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-17 03:07:59.907 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-17 03:07:59.914 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-17 03:07:59.914 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node3_2025-02-17_03-07-57__b96c26dc-eadf-4bf1-a171-e55d3de26b3c__wakuorg_nwaku:latest.log
2025-02-17 03:07:59.914 DEBUG [src.node.waku_node] Starting Node...
2025-02-17 03:07:59.914 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-17 03:07:59.916 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-17 03:07:59.916 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.3.153
2025-02-17 03:07:59.916 DEBUG [src.node.docker_mananger] Generated ports ['32862', '32863', '32864', '32865', '32866']
2025-02-17 03:07:59.916 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-17 03:07:59.916 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-17 03:07:59.917 DEBUG [src.node.waku_node] Using volumes []
2025-02-17 03:07:59.917 DEBUG [src.node.docker_mananger] docker run -i -t -p 32862:32862 -p 32863:32863 -p 32864:32864 -p 32865:32865 -p 32866:32866 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=32864 --rest-port=32862 --tcp-port=32863 --discv5-udp-port=32865 --rest-address=0.0.0.0 --nat=extip:172.18.3.153 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=efcd1bad2c96f43ed3575ea063b5bbafb9eeb93cbdecc7e9f2edfaecc3c161da --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=32866 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QHrjwGKGLum0geiDGQx8IWrkioc8BSuGbLecu-V66ifqTFlU58c6jdomjfTcLBRTqS8xrr9gF7tOmC6NCR4ltPQCgmlkgnY0gmlwhKwS5l-KbXVsdGlhZGRyc5YACASsEuZfBvSfAAoErBLmXwb0oN0DgnJzhQADAQAAiXNlY3AyNTZrMaEClJVrvCsgCEvakT-HKhbtGrJ55saTirNGOMw0ogI8IZuDdGNwgvSfg3VkcIL0oYV3YWt1MgU --filternode=/ip4/172.18.230.95/tcp/62623/p2p/16Uiu2HAm5RgU5zbd2DMDv1i6SuKQ8Xt4qCrHZ8ypArcqgXHNRnFC
2025-02-17 03:08:00.144 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.3.153 waku 9417c4b0240bfd012a20468f143bd4986d92b550bf5dc298a01cfa945a5982fe
2025-02-17 03:08:00.193 DEBUG [src.node.docker_mananger] Container started with ID 9417c4b0240b. Setting up logs at ./log/docker/node3_2025-02-17_03-07-57__b96c26dc-eadf-4bf1-a171-e55d3de26b3c__wakuorg_nwaku:latest.log
2025-02-17 03:08:00.194 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 32862
2025-02-17 03:08:00.194 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-17 03:08:01.194 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32862/health" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:08:01.198 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-17 03:08:01.198 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-17 03:08:01.198 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32862/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:08:01.200 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.3.153/tcp/32863/p2p/16Uiu2HAmCoJJQKiBXZxLyNP7b8K4BHVNCFqmMv86yGqBD1wU8x1i","/ip4/172.18.3.153/tcp/32864/ws/p2p/16Uiu2HAmCoJJQKiBXZxLyNP7b8K4BHVNCFqmMv86yGqBD1wU8x1i"],"enrUri":"enr:-L24QOaRGXzsgsfGjXKWVKd4O8SoGfmyJ84NpaKMFg_hRaiDQsL12h1LTgI_cL06qLc9WoCEWJjZcuoCYJniHrPnDaMCgmlkgnY0gmlwhKwSA5mKbXVsdGlhZGRyc5YACASsEgOZBoBfAAoErBIDmQaAYN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDAiDxXxAGwmFchk8KJXyZt6seC1k0XNHJzyN8ABsrrm2DdGNwgoBfg3VkcIKAYYV3YWt1MgA"}'
2025-02-17 03:08:01.201 INFO [src.node.waku_node] REST service is ready !!
2025-02-17 03:08:01.201 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:32862/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.230.95/tcp/62623/p2p/16Uiu2HAm5RgU5zbd2DMDv1i6SuKQ8Xt4qCrHZ8ypArcqgXHNRnFC"]'
2025-02-17 03:08:01.234 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 03:08:01.248 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-17 03:08:01.249 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node4_2025-02-17_03-07-57__b96c26dc-eadf-4bf1-a171-e55d3de26b3c__wakuorg_go-waku:latest.log
2025-02-17 03:08:01.249 DEBUG [src.node.waku_node] Starting Node...
2025-02-17 03:08:01.249 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-17 03:08:01.253 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-17 03:08:01.253 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.255.153
2025-02-17 03:08:01.253 DEBUG [src.node.docker_mananger] Generated ports ['59160', '59161', '59162', '59163', '59164']
2025-02-17 03:08:01.254 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-17 03:08:01.254 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-17 03:08:01.254 DEBUG [src.node.waku_node] Using volumes []
2025-02-17 03:08:01.254 DEBUG [src.node.docker_mananger] docker run -i -t -p 59160:59160 -p 59161:59161 -p 59162:59162 -p 59163:59163 -p 59164:59164 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=59162 --rest-port=59160 --tcp-port=59161 --discv5-udp-port=59163 --rest-address=0.0.0.0 --nat=extip:172.18.255.153 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a8de1aa621d0f970fae0b6bedf27fdc1c3e30ab54ff1afcccd8f6b01c2e02793 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QHrjwGKGLum0geiDGQx8IWrkioc8BSuGbLecu-V66ifqTFlU58c6jdomjfTcLBRTqS8xrr9gF7tOmC6NCR4ltPQCgmlkgnY0gmlwhKwS5l-KbXVsdGlhZGRyc5YACASsEuZfBvSfAAoErBLmXwb0oN0DgnJzhQADAQAAiXNlY3AyNTZrMaEClJVrvCsgCEvakT-HKhbtGrJ55saTirNGOMw0ogI8IZuDdGNwgvSfg3VkcIL0oYV3YWt1MgU --filternode=/ip4/172.18.230.95/tcp/62623/p2p/16Uiu2HAm5RgU5zbd2DMDv1i6SuKQ8Xt4qCrHZ8ypArcqgXHNRnFC --pubsub-topic=/waku/2/rs/3/1
2025-02-17 03:08:01.499 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.255.153 waku d9c8a5173ed288c290219dc245de6e6cc71bfc2061b4372cbf08f4313887da5e
2025-02-17 03:08:01.542 DEBUG [src.node.docker_mananger] Container started with ID d9c8a5173ed2. Setting up logs at ./log/docker/node4_2025-02-17_03-07-57__b96c26dc-eadf-4bf1-a171-e55d3de26b3c__wakuorg_go-waku:latest.log
2025-02-17 03:08:01.544 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 59160
2025-02-17 03:08:01.544 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-17 03:08:02.546 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:59160/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:08:02.548 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QK2RFFai_xHoltQeM0rbnd_YLB_rHvEGIVoPQAuOSBNKIhk1L64t5IIrfZEoSMYVYr-ikKWAPF3QNGNTZzYG-oiGAZUR4ISPgmlkgnY0gmlwhKwRAAWCcnOFAAMBAAGJc2VjcDI1NmsxoQMSlI6XOrViVYYEO-x7F4AH0Z6geq9XCyocCBo81SgwU4N0Y3CC5xmDdWRwgucbhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/59161/p2p/16Uiu2HAmDuX5ELdzUFF947H9k4sDJZysWfNySygFeTTd74Wur97G","/ip4/127.0.0.1/tcp/59162/ws/p2p/16Uiu2HAmDuX5ELdzUFF947H9k4sDJZysWfNySygFeTTd74Wur97G","/ip4/172.17.0.5/tcp/59161/p2p/16Uiu2HAmDuX5ELdzUFF947H9k4sDJZysWfNySygFeTTd74Wur97G","/ip4/172.17.0.5/tcp/59162/ws/p2p/16Uiu2HAmDuX5ELdzUFF947H9k4sDJZysWfNySygFeTTd74Wur97G"]}'
2025-02-17 03:08:02.548 INFO [src.node.waku_node] REST service is ready !!
2025-02-17 03:08:02.549 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:59160/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.230.95/tcp/62623/p2p/16Uiu2HAm5RgU5zbd2DMDv1i6SuKQ8Xt4qCrHZ8ypArcqgXHNRnFC", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-17 03:08:02.551 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-17 03:08:02.557 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-17 03:08:02.557 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node5_2025-02-17_03-07-57__b96c26dc-eadf-4bf1-a171-e55d3de26b3c__wakuorg_nwaku:latest.log
2025-02-17 03:08:02.557 DEBUG [src.node.waku_node] Starting Node...
2025-02-17 03:08:02.557 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-17 03:08:02.559 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-17 03:08:02.559 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.139.146
2025-02-17 03:08:02.559 DEBUG [src.node.docker_mananger] Generated ports ['45202', '45203', '45204', '45205', '45206']
2025-02-17 03:08:02.559 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-17 03:08:02.559 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-17 03:08:02.559 DEBUG [src.node.waku_node] Using volumes []
2025-02-17 03:08:02.560 DEBUG [src.node.docker_mananger] docker run -i -t -p 45202:45202 -p 45203:45203 -p 45204:45204 -p 45205:45205 -p 45206:45206 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=45204 --rest-port=45202 --tcp-port=45203 --discv5-udp-port=45205 --rest-address=0.0.0.0 --nat=extip:172.18.139.146 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dfbc6aedd80f41ad9dccef3ddaade4f49cdecb7d7aaf096b6fa99de2816eac5e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=45206 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QHrjwGKGLum0geiDGQx8IWrkioc8BSuGbLecu-V66ifqTFlU58c6jdomjfTcLBRTqS8xrr9gF7tOmC6NCR4ltPQCgmlkgnY0gmlwhKwS5l-KbXVsdGlhZGRyc5YACASsEuZfBvSfAAoErBLmXwb0oN0DgnJzhQADAQAAiXNlY3AyNTZrMaEClJVrvCsgCEvakT-HKhbtGrJ55saTirNGOMw0ogI8IZuDdGNwgvSfg3VkcIL0oYV3YWt1MgU --filternode=/ip4/172.18.230.95/tcp/62623/p2p/16Uiu2HAm5RgU5zbd2DMDv1i6SuKQ8Xt4qCrHZ8ypArcqgXHNRnFC
2025-02-17 03:08:02.794 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.139.146 waku 023fb00af34ffb1b2f877eb5645d8db7b9b97225bf0cb5558f147ccd5c1b16b1
2025-02-17 03:08:02.839 DEBUG [src.node.docker_mananger] Container started with ID 023fb00af34f. Setting up logs at ./log/docker/node5_2025-02-17_03-07-57__b96c26dc-eadf-4bf1-a171-e55d3de26b3c__wakuorg_nwaku:latest.log
2025-02-17 03:08:02.839 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 45202
2025-02-17 03:08:02.839 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-17 03:08:03.840 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45202/health" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:08:03.843 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-17 03:08:03.843 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-17 03:08:03.843 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45202/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:08:03.845 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.139.146/tcp/45203/p2p/16Uiu2HAmJ8326mLPyNS6s9ix11FjVVfKhwbc3SsiUXwFt53Md5mz","/ip4/172.18.139.146/tcp/45204/ws/p2p/16Uiu2HAmJ8326mLPyNS6s9ix11FjVVfKhwbc3SsiUXwFt53Md5mz"],"enrUri":"enr:-L24QAe2C--iFJ5M8Um2ccOVoPllB9ui31IRpycQms2CNhe5Btpx7wz4KQBy5XX3skudYiPizGiBWcpnifY3SrTbVl8CgmlkgnY0gmlwhKwSi5KKbXVsdGlhZGRyc5YACASsEouSBrCTAAoErBKLkgawlN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDUTgibb3zcvj9YEiiJyOcGILsepMBAoSWnV3t2iPZ92GDdGNwgrCTg3VkcIKwlYV3YWt1MgA"}'
2025-02-17 03:08:03.846 INFO [src.node.waku_node] REST service is ready !!
2025-02-17 03:08:03.846 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45202/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.230.95/tcp/62623/p2p/16Uiu2HAm5RgU5zbd2DMDv1i6SuKQ8Xt4qCrHZ8ypArcqgXHNRnFC"]'
2025-02-17 03:08:03.888 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 03:08:03.889 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:62622/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-17 03:08:03.898 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 03:08:03.898 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23624/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "b4cceb11-5909-4907-8013-6d171e9bb127", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2025-02-17 03:08:03.906 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"b4cceb11-5909-4907-8013-6d171e9bb127","statusDesc":"OK"}'
2025-02-17 03:08:03.907 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:32862/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "5cf8acf0-0c13-438a-89a6-5291a1f93441", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2025-02-17 03:08:03.916 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"5cf8acf0-0c13-438a-89a6-5291a1f93441","statusDesc":"OK"}'
2025-02-17 03:08:03.916 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:59160/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "b222a39f-6200-483e-971f-64360e157570", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2025-02-17 03:08:03.922 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"b222a39f-6200-483e-971f-64360e157570","statusDesc":"OK"}'
2025-02-17 03:08:03.923 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45202/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "6bab1a3d-054e-4baa-b3a9-299cb105bf39", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2025-02-17 03:08:03.931 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"6bab1a3d-054e-4baa-b3a9-299cb105bf39","statusDesc":"OK"}'
2025-02-17 03:08:03.932 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:62622/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 03:08:03.939 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 03:08:03.939 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 03:08:04.040 DEBUG [src.steps.filter] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-17 03:08:04.040 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23624/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:08:04.042 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1739761683932336384,"ephemeral":false}]'
2025-02-17 03:08:04.044 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:62622/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
2025-02-17 03:08:04.051 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 03:08:04.052 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 03:08:04.152 DEBUG [src.steps.filter] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-17 03:08:04.152 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32862/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:08:04.155 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:32862/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
2025-02-17 03:08:04.158 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-17 03:08:04.159 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-17 03:08:04.159 DEBUG [src.node.waku_node] Stopping container with id a7622d9bb3ce
2025-02-17 03:08:04.748 DEBUG [src.node.waku_node] Container stopped.
2025-02-17 03:08:04.749 DEBUG [src.node.waku_node] Stopping container with id aff05bca3030
2025-02-17 03:08:05.270 DEBUG [src.node.waku_node] Container stopped.
2025-02-17 03:08:05.271 DEBUG [src.node.waku_node] Stopping container with id 9417c4b0240b
2025-02-17 03:08:05.562 ERROR [src.node.docker_mananger] Max retries reached for container a7622d9bb3ce. Exiting log stream.
2025-02-17 03:08:06.086 ERROR [src.node.docker_mananger] Max retries reached for container aff05bca3030. Exiting log stream.
2025-02-17 03:08:06.756 DEBUG [src.node.waku_node] Container stopped.
2025-02-17 03:08:06.756 DEBUG [src.node.waku_node] Stopping container with id d9c8a5173ed2
2025-02-17 03:08:07.264 DEBUG [src.node.waku_node] Container stopped.
2025-02-17 03:08:07.266 DEBUG [src.node.waku_node] Stopping container with id 023fb00af34f
2025-02-17 03:08:07.568 ERROR [src.node.docker_mananger] Max retries reached for container 9417c4b0240b. Exiting log stream.
2025-02-17 03:08:08.077 ERROR [src.node.docker_mananger] Max retries reached for container d9c8a5173ed2. Exiting log stream.
2025-02-17 03:08:08.755 DEBUG [src.node.waku_node] Container stopped.
2025-02-17 03:08:08.756 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-17 03:08:08.770 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-17 03:08:08.773 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-17 03:08:08.777 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-17 03:08:08.780 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-17 03:08:08.784 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
