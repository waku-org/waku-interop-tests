2025-02-17 03:09:11.504 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-17 03:09:11.504 DEBUG [tests.conftest] Running test: test_light_push_with_valid_content_topics with id: 2025-02-17_03-09-11__068ae6ae-23b9-40e6-87bc-04f9e97c3415
2025-02-17 03:09:11.505 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-17 03:09:11.505 DEBUG [src.steps.light_push] Running fixture setup: light_push_setup
2025-02-17 03:09:11.511 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-17 03:09:11.511 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node1_2025-02-17_03-09-11__068ae6ae-23b9-40e6-87bc-04f9e97c3415__wakuorg_nwaku:latest.log
2025-02-17 03:09:11.511 DEBUG [src.node.waku_node] Starting Node...
2025-02-17 03:09:11.511 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-17 03:09:11.513 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-17 03:09:11.513 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.161.237
2025-02-17 03:09:11.513 DEBUG [src.node.docker_mananger] Generated ports ['19257', '19258', '19259', '19260', '19261']
2025-02-17 03:09:11.513 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-17 03:09:11.513 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-17 03:09:11.513 DEBUG [src.node.waku_node] Using volumes []
2025-02-17 03:09:11.513 DEBUG [src.node.docker_mananger] docker run -i -t -p 19257:19257 -p 19258:19258 -p 19259:19259 -p 19260:19260 -p 19261:19261 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=19259 --rest-port=19257 --tcp-port=19258 --discv5-udp-port=19260 --rest-address=0.0.0.0 --nat=extip:172.18.161.237 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=addbae015e7a6f6de8e569cbba61bccafefe52ec4827d061cbde0e1ccf13cace --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=19261 --metrics-logging=true --lightpush=true --relay=true
2025-02-17 03:09:11.736 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.161.237 waku 5c5821e0619f376a59083ec6a282e3ac611496511b88c836f0a1cc47a1c15f13
2025-02-17 03:09:11.788 DEBUG [src.node.docker_mananger] Container started with ID 5c5821e0619f. Setting up logs at ./log/docker/receiving_node1_2025-02-17_03-09-11__068ae6ae-23b9-40e6-87bc-04f9e97c3415__wakuorg_nwaku:latest.log
2025-02-17 03:09:11.789 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 19257
2025-02-17 03:09:11.789 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-17 03:09:11.839 ERROR [src.node.docker_mananger] Max retries reached for container ecce8dbdd88d. Exiting log stream.
2025-02-17 03:09:12.309 ERROR [src.node.docker_mananger] Max retries reached for container f49fe1976132. Exiting log stream.
2025-02-17 03:09:12.789 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19257/health" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:12.792 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-17 03:09:12.792 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-17 03:09:12.792 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19257/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:12.794 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.161.237/tcp/19258/p2p/16Uiu2HAmD5ButWAbncTL31KP3ax6FqPJcSqKmqLTDFfgrZmsz451","/ip4/172.18.161.237/tcp/19259/ws/p2p/16Uiu2HAmD5ButWAbncTL31KP3ax6FqPJcSqKmqLTDFfgrZmsz451"],"enrUri":"enr:-L24QL3hT1RZOk_sTcIqkIZFAUscc7w63QyUy3v-xmjNg9itDHx7mCsQB_1MQ8lN-z78BaEy-imUfnhDTyYvxJ2nkPICgmlkgnY0gmlwhKwSoe2KbXVsdGlhZGRyc5YACASsEqHtBks6AAoErBKh7QZLO90DgnJzhQADAQAAiXNlY3AyNTZrMaEDBjMDPlQ7-T_WTzeFTGyOLMoNgiJ6EPCmRJxuETh-RVyDdGNwgks6g3VkcIJLPIV3YWt1Mgk"}'
2025-02-17 03:09:12.795 INFO [src.node.waku_node] REST service is ready !!
2025-02-17 03:09:12.801 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-17 03:09:12.801 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node2_2025-02-17_03-09-11__068ae6ae-23b9-40e6-87bc-04f9e97c3415__wakuorg_nwaku:latest.log
2025-02-17 03:09:12.801 DEBUG [src.node.waku_node] Starting Node...
2025-02-17 03:09:12.801 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-17 03:09:12.803 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-17 03:09:12.803 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.30.78
2025-02-17 03:09:12.803 DEBUG [src.node.docker_mananger] Generated ports ['10487', '10488', '10489', '10490', '10491']
2025-02-17 03:09:12.803 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-17 03:09:12.803 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-17 03:09:12.803 DEBUG [src.node.waku_node] Using volumes []
2025-02-17 03:09:12.803 DEBUG [src.node.docker_mananger] docker run -i -t -p 10487:10487 -p 10488:10488 -p 10489:10489 -p 10490:10490 -p 10491:10491 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=10489 --rest-port=10487 --tcp-port=10488 --discv5-udp-port=10490 --rest-address=0.0.0.0 --nat=extip:172.18.30.78 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f8daace21ff2a22310ac7803fce5e5ea0ecfab4ad2961f0973bda0b6c5ce820b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=10491 --metrics-logging=true --lightpush=false --relay=true
2025-02-17 03:09:13.026 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.30.78 waku 60be9178ccc643e2c71a69d482cc604f1e5d357813a9c59ca9e4918269b563f7
2025-02-17 03:09:13.073 DEBUG [src.node.docker_mananger] Container started with ID 60be9178ccc6. Setting up logs at ./log/docker/receiving_node2_2025-02-17_03-09-11__068ae6ae-23b9-40e6-87bc-04f9e97c3415__wakuorg_nwaku:latest.log
2025-02-17 03:09:13.073 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 10487
2025-02-17 03:09:13.073 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-17 03:09:14.074 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10487/health" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:14.076 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-17 03:09:14.076 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-17 03:09:14.077 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10487/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:14.079 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.30.78/tcp/10488/p2p/16Uiu2HAmVD2GotwxLsEH5oXnMUHpDsEGrnAnTTEwCAXXkeJbQS9j","/ip4/172.18.30.78/tcp/10489/ws/p2p/16Uiu2HAmVD2GotwxLsEH5oXnMUHpDsEGrnAnTTEwCAXXkeJbQS9j"],"enrUri":"enr:-L24QOU0YIutaDSbdH1WUGaACI32j0x7dMcC2SlKSWbTZ_W7GtbBgLQEwPXdO1OUT41CYn4d15wtSWB4fuNOGpuecYYCgmlkgnY0gmlwhKwSHk6KbXVsdGlhZGRyc5YACASsEh5OBij4AAoErBIeTgYo-d0DgnJzhQADAQAAiXNlY3AyNTZrMaED9e_AMpoPOonB5-5ILUoAlVb8tcfAPiXv3TmSUBjpIJaDdGNwgij4g3VkcIIo-oV3YWt1MgE"}'
2025-02-17 03:09:14.079 INFO [src.node.waku_node] REST service is ready !!
2025-02-17 03:09:14.079 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10487/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.161.237/tcp/19258/p2p/16Uiu2HAmD5ButWAbncTL31KP3ax6FqPJcSqKmqLTDFfgrZmsz451"]'
2025-02-17 03:09:14.114 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 03:09:14.124 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-17 03:09:14.124 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/lightpush_node1_2025-02-17_03-09-11__068ae6ae-23b9-40e6-87bc-04f9e97c3415__wakuorg_go-waku:latest.log
2025-02-17 03:09:14.124 DEBUG [src.node.waku_node] Starting Node...
2025-02-17 03:09:14.124 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-17 03:09:14.125 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-17 03:09:14.126 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.24.167
2025-02-17 03:09:14.126 DEBUG [src.node.docker_mananger] Generated ports ['55741', '55742', '55743', '55744', '55745']
2025-02-17 03:09:14.126 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-17 03:09:14.126 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-17 03:09:14.126 DEBUG [src.node.waku_node] Using volumes []
2025-02-17 03:09:14.126 DEBUG [src.node.docker_mananger] docker run -i -t -p 55741:55741 -p 55742:55742 -p 55743:55743 -p 55744:55744 -p 55745:55745 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=55743 --rest-port=55741 --tcp-port=55742 --discv5-udp-port=55744 --rest-address=0.0.0.0 --nat=extip:172.18.24.167 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cebd0608253cdf420bb7e2bcdac5bdbcddaa53bbd826c27e40565faee0df2ac6 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-L24QL3hT1RZOk_sTcIqkIZFAUscc7w63QyUy3v-xmjNg9itDHx7mCsQB_1MQ8lN-z78BaEy-imUfnhDTyYvxJ2nkPICgmlkgnY0gmlwhKwSoe2KbXVsdGlhZGRyc5YACASsEqHtBks6AAoErBKh7QZLO90DgnJzhQADAQAAiXNlY3AyNTZrMaEDBjMDPlQ7-T_WTzeFTGyOLMoNgiJ6EPCmRJxuETh-RVyDdGNwgks6g3VkcIJLPIV3YWt1Mgk --lightpushnode=/ip4/172.18.161.237/tcp/19258/p2p/16Uiu2HAmD5ButWAbncTL31KP3ax6FqPJcSqKmqLTDFfgrZmsz451 --lightpush=true --relay=false --pubsub-topic=/waku/2/rs/3/1
2025-02-17 03:09:14.364 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.24.167 waku 80fa5ed64f41c2d0e319a45a2b766ea556ceb9c7e7d4b4eba3eb7fbb291ec165
2025-02-17 03:09:14.421 DEBUG [src.node.docker_mananger] Container started with ID 80fa5ed64f41. Setting up logs at ./log/docker/lightpush_node1_2025-02-17_03-09-11__068ae6ae-23b9-40e6-87bc-04f9e97c3415__wakuorg_go-waku:latest.log
2025-02-17 03:09:14.422 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 55741
2025-02-17 03:09:14.423 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-17 03:09:15.423 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55741/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:15.425 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QKAk_Y4TFfbik0cg428G3wajChJ6UtiQQg0qrptmJErJeeHHbJ6s5HqYKMoQSj97UKzYjH2w5SAFbphe12aDe8qGAZUR4aEogmlkgnY0gmlwhKwRAASCcnOFAAMBAAGJc2VjcDI1NmsxoQJvFzzTXxLVi-QZNeyF_ZIGT8xUTiT8koWTML67a5AlQIN0Y3CC2b6DdWRwgtnAhXdha3UyCA","listenAddresses":["/ip4/127.0.0.1/tcp/55742/p2p/16Uiu2HAm2uKnY2zEvbFkswm4RMN3J4LwwENPvkykzfkyGE4uEHAF","/ip4/127.0.0.1/tcp/55743/ws/p2p/16Uiu2HAm2uKnY2zEvbFkswm4RMN3J4LwwENPvkykzfkyGE4uEHAF","/ip4/172.17.0.4/tcp/55742/p2p/16Uiu2HAm2uKnY2zEvbFkswm4RMN3J4LwwENPvkykzfkyGE4uEHAF","/ip4/172.17.0.4/tcp/55743/ws/p2p/16Uiu2HAm2uKnY2zEvbFkswm4RMN3J4LwwENPvkykzfkyGE4uEHAF"]}'
2025-02-17 03:09:15.426 INFO [src.node.waku_node] REST service is ready !!
2025-02-17 03:09:15.426 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55741/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.161.237/tcp/19258/p2p/16Uiu2HAmD5ButWAbncTL31KP3ax6FqPJcSqKmqLTDFfgrZmsz451", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-17 03:09:15.428 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-17 03:09:15.428 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55741/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.30.78/tcp/10488/p2p/16Uiu2HAmVD2GotwxLsEH5oXnMUHpDsEGrnAnTTEwCAXXkeJbQS9j", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-17 03:09:15.444 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-17 03:09:15.445 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:19257/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-17 03:09:15.451 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 03:09:15.451 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10487/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-17 03:09:15.455 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 03:09:15.456 DEBUG [tests.light_push.test_publish] Running test with content topic A simple string
2025-02-17 03:09:15.456 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 03:09:15.457 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55741/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "Hello World!", "timestamp": 1739761755456693504}}'
2025-02-17 03:09:15.463 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-17 03:09:15.464 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 03:09:15.565 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:15.565 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19257/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:15.567 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Hello World!","version":0,"timestamp":1739761755456693504,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:15.569 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:15.569 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10487/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:15.571 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Hello World!","version":0,"timestamp":1739761755456693504,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:15.572 DEBUG [tests.light_push.test_publish] Running test with content topic An integer
2025-02-17 03:09:15.573 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 03:09:15.573 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55741/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "1234567890", "timestamp": 1739761755572896768}}'
2025-02-17 03:09:15.578 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-17 03:09:15.579 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 03:09:15.679 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:15.679 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19257/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:15.681 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"1234567890","version":0,"timestamp":1739761755572896768,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:15.682 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:15.683 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10487/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:15.685 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"1234567890","version":0,"timestamp":1739761755572896768,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:15.686 DEBUG [tests.light_push.test_publish] Running test with content topic A dictionary
2025-02-17 03:09:15.687 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 03:09:15.687 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55741/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "{\"key\": \"value\"}", "timestamp": 1739761755686864896}}'
2025-02-17 03:09:15.692 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-17 03:09:15.694 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 03:09:15.795 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:15.795 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19257/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:15.798 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"{\\"key\\": \\"value\\"}","version":0,"timestamp":1739761755686864896,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:15.799 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:15.799 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10487/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:15.801 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"{\\"key\\": \\"value\\"}","version":0,"timestamp":1739761755686864896,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:15.802 DEBUG [tests.light_push.test_publish] Running test with content topic Chinese characters
2025-02-17 03:09:15.803 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 03:09:15.803 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55741/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "\u8fd9\u662f\u4e00\u4e9b\u4e2d\u6587", "timestamp": 1739761755803112192}}'
2025-02-17 03:09:15.809 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-17 03:09:15.810 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 03:09:15.911 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:15.911 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19257/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:15.913 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xe8\xbf\x99\xe6\x98\xaf\xe4\xb8\x80\xe4\xba\x9b\xe4\xb8\xad\xe6\x96\x87","version":0,"timestamp":1739761755803112192,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:15.914 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:15.914 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10487/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:15.916 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xe8\xbf\x99\xe6\x98\xaf\xe4\xb8\x80\xe4\xba\x9b\xe4\xb8\xad\xe6\x96\x87","version":0,"timestamp":1739761755803112192,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:15.918 DEBUG [tests.light_push.test_publish] Running test with content topic Emojis
2025-02-17 03:09:15.918 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 03:09:15.919 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55741/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "\ud83d\ude80\ud83c\udf1f\u2728", "timestamp": 1739761755918625792}}'
2025-02-17 03:09:15.924 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-17 03:09:15.924 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 03:09:16.025 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:16.025 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19257/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:16.027 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xf0\x9f\x9a\x80\xf0\x9f\x8c\x9f\xe2\x9c\xa8","version":0,"timestamp":1739761755918625792,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:16.029 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:16.029 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10487/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:16.031 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xf0\x9f\x9a\x80\xf0\x9f\x8c\x9f\xe2\x9c\xa8","version":0,"timestamp":1739761755918625792,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:16.032 DEBUG [tests.light_push.test_publish] Running test with content topic Lorem ipsum text
2025-02-17 03:09:16.033 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 03:09:16.033 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55741/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "Lorem ipsum dolor sit amet", "timestamp": 1739761756033121792}}'
2025-02-17 03:09:16.039 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-17 03:09:16.041 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 03:09:16.141 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:16.142 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19257/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:16.144 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Lorem ipsum dolor sit amet","version":0,"timestamp":1739761756033121792,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:16.145 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:16.146 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10487/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:16.148 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Lorem ipsum dolor sit amet","version":0,"timestamp":1739761756033121792,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:16.149 DEBUG [tests.light_push.test_publish] Running test with content topic HTML content
2025-02-17 03:09:16.150 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 03:09:16.150 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55741/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "<html><body>Hello</body></html>", "timestamp": 1739761756149899008}}'
2025-02-17 03:09:16.156 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-17 03:09:16.157 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 03:09:16.257 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:16.257 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19257/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:16.260 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"<html><body>Hello</body></html>","version":0,"timestamp":1739761756149899008,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:16.262 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:16.262 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10487/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:16.264 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"<html><body>Hello</body></html>","version":0,"timestamp":1739761756149899008,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:16.265 DEBUG [tests.light_push.test_publish] Running test with content topic Cyrillic characters
2025-02-17 03:09:16.266 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 03:09:16.266 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55741/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "\u041f\u0440\u0438\u0432\u0435\u0442", "timestamp": 1739761756265904640}}'
2025-02-17 03:09:16.272 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-17 03:09:16.273 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 03:09:16.373 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:16.374 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19257/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:16.376 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xd0\x9f\xd1\x80\xd0\xb8\xd0\xb2\xd0\xb5\xd1\x82","version":0,"timestamp":1739761756265904640,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:16.378 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:16.378 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10487/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:16.380 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xd0\x9f\xd1\x80\xd0\xb8\xd0\xb2\xd0\xb5\xd1\x82","version":0,"timestamp":1739761756265904640,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:16.381 DEBUG [tests.light_push.test_publish] Running test with content topic Base64 encoded string
2025-02-17 03:09:16.382 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 03:09:16.382 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55741/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "Base64==dGVzdA==", "timestamp": 1739761756382022400}}'
2025-02-17 03:09:16.389 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-17 03:09:16.389 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 03:09:16.490 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:16.490 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19257/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:16.493 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Base64==dGVzdA==","version":0,"timestamp":1739761756382022400,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:16.494 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:16.494 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10487/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:16.496 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Base64==dGVzdA==","version":0,"timestamp":1739761756382022400,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:16.499 DEBUG [tests.light_push.test_publish] Running test with content topic Binary data
2025-02-17 03:09:16.499 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 03:09:16.499 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55741/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "d29ya2luZyB3aXRoIGJpbmFyeSBkYXRh: PQ", "timestamp": 1739761756499375872}}'
2025-02-17 03:09:16.507 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-17 03:09:16.508 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 03:09:16.608 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:16.608 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19257/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:16.611 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"d29ya2luZyB3aXRoIGJpbmFyeSBkYXRh: PQ","version":0,"timestamp":1739761756499375872,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:16.612 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:16.612 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10487/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:16.615 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"d29ya2luZyB3aXRoIGJpbmFyeSBkYXRh: PQ","version":0,"timestamp":1739761756499375872,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:16.616 DEBUG [tests.light_push.test_publish] Running test with content topic Special characters with whitespace
2025-02-17 03:09:16.616 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 03:09:16.616 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55741/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "\t\nSpecial\tCharacters\n", "timestamp": 1739761756616538624}}'
2025-02-17 03:09:16.623 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-17 03:09:16.624 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 03:09:16.725 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:16.725 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19257/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:16.728 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\\t\\nSpecial\\tCharacters\\n","version":0,"timestamp":1739761756616538624,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:16.729 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:16.729 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10487/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:16.731 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\\t\\nSpecial\\tCharacters\\n","version":0,"timestamp":1739761756616538624,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:16.732 DEBUG [tests.light_push.test_publish] Running test with content topic Boolean false as a string
2025-02-17 03:09:16.733 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 03:09:16.733 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55741/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "False", "timestamp": 1739761756733196544}}'
2025-02-17 03:09:16.740 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-17 03:09:16.741 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 03:09:16.841 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:16.842 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19257/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:16.844 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"False","version":0,"timestamp":1739761756733196544,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:16.845 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:16.845 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10487/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:16.848 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"False","version":0,"timestamp":1739761756733196544,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:16.849 DEBUG [tests.light_push.test_publish] Running test with content topic A float number
2025-02-17 03:09:16.849 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 03:09:16.850 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55741/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "3.1415926535", "timestamp": 1739761756849717760}}'
2025-02-17 03:09:16.856 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-17 03:09:16.857 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 03:09:16.958 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:16.958 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19257/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:16.960 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"3.1415926535","version":0,"timestamp":1739761756849717760,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:16.962 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:16.962 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10487/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:16.964 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"3.1415926535","version":0,"timestamp":1739761756849717760,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:16.965 DEBUG [tests.light_push.test_publish] Running test with content topic A list
2025-02-17 03:09:16.966 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 03:09:16.966 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55741/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "[1, 2, 3, 4, 5]", "timestamp": 1739761756965959168}}'
2025-02-17 03:09:16.972 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-17 03:09:16.973 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 03:09:17.073 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:17.073 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19257/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:17.076 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"[1, 2, 3, 4, 5]","version":0,"timestamp":1739761756965959168,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:17.077 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:17.077 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10487/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:17.079 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"[1, 2, 3, 4, 5]","version":0,"timestamp":1739761756965959168,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:17.081 DEBUG [tests.light_push.test_publish] Running test with content topic Hexadecimal number as a string
2025-02-17 03:09:17.081 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 03:09:17.081 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55741/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "0xDEADBEEF", "timestamp": 1739761757081497856}}'
2025-02-17 03:09:17.087 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-17 03:09:17.090 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 03:09:17.190 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:17.190 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19257/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:17.192 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"0xDEADBEEF","version":0,"timestamp":1739761757081497856,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:17.194 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:17.194 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10487/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:17.196 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"0xDEADBEEF","version":0,"timestamp":1739761757081497856,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:17.198 DEBUG [tests.light_push.test_publish] Running test with content topic Email format
2025-02-17 03:09:17.198 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 03:09:17.198 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55741/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "user@example.com", "timestamp": 1739761757198464000}}'
2025-02-17 03:09:17.205 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-17 03:09:17.206 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 03:09:17.306 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:17.306 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19257/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:17.309 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"user@example.com","version":0,"timestamp":1739761757198464000,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:17.310 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:17.310 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10487/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:17.312 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"user@example.com","version":0,"timestamp":1739761757198464000,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:17.314 DEBUG [tests.light_push.test_publish] Running test with content topic URL format
2025-02-17 03:09:17.314 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 03:09:17.314 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55741/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "http://example.com", "timestamp": 1739761757314338048}}'
2025-02-17 03:09:17.320 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-17 03:09:17.322 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 03:09:17.422 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:17.422 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19257/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:17.425 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"http://example.com","version":0,"timestamp":1739761757314338048,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:17.427 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:17.427 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10487/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:17.429 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"http://example.com","version":0,"timestamp":1739761757314338048,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:17.430 DEBUG [tests.light_push.test_publish] Running test with content topic Date and time in ISO format
2025-02-17 03:09:17.431 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 03:09:17.431 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55741/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "2023-11-01T12:00:00Z", "timestamp": 1739761757431136512}}'
2025-02-17 03:09:17.437 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-17 03:09:17.438 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 03:09:17.539 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:17.539 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19257/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:17.541 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"2023-11-01T12:00:00Z","version":0,"timestamp":1739761757431136512,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:17.542 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:17.543 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10487/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:17.545 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"2023-11-01T12:00:00Z","version":0,"timestamp":1739761757431136512,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:17.546 DEBUG [tests.light_push.test_publish] Running test with content topic String with escaped quotes
2025-02-17 03:09:17.546 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 03:09:17.546 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55741/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "\"Escaped\" \\\"quotes\\\"", "timestamp": 1739761757546566656}}'
2025-02-17 03:09:17.552 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-17 03:09:17.553 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 03:09:17.653 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:17.653 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19257/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:17.656 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\\"Escaped\\" \\\\\\"quotes\\\\\\"","version":0,"timestamp":1739761757546566656,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:17.658 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:17.658 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10487/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:17.660 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\\"Escaped\\" \\\\\\"quotes\\\\\\"","version":0,"timestamp":1739761757546566656,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:17.662 DEBUG [tests.light_push.test_publish] Running test with content topic A regular expression
2025-02-17 03:09:17.662 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 03:09:17.662 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55741/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "Regular expression: ^[a-z0-9_-]{3,16}$", "timestamp": 1739761757662314240}}'
2025-02-17 03:09:17.668 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-17 03:09:17.669 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 03:09:17.769 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:17.770 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19257/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:17.772 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Regular expression: ^[a-z0-9_-]{3,16}$","version":0,"timestamp":1739761757662314240,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:17.773 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:17.774 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10487/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:17.776 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Regular expression: ^[a-z0-9_-]{3,16}$","version":0,"timestamp":1739761757662314240,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:17.777 DEBUG [tests.light_push.test_publish] Running test with content topic A very long string
2025-02-17 03:09:17.778 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 03:09:17.778 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55741/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx", "timestamp": 1739761757777790976}}'
2025-02-17 03:09:17.784 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-17 03:09:17.785 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 03:09:17.885 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:17.886 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19257/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:17.889 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx","version":0,"timestamp":1739761757777790976,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:17.890 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:17.891 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10487/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:17.893 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx","version":0,"timestamp":1739761757777790976,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:17.895 DEBUG [tests.light_push.test_publish] Running test with content topic A JSON string
2025-02-17 03:09:17.895 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 03:09:17.895 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55741/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "{\"name\": \"John\", \"age\": 30, \"city\": \"New York\"}", "timestamp": 1739761757895445504}}'
2025-02-17 03:09:17.902 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-17 03:09:17.903 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 03:09:18.004 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:18.004 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19257/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:18.006 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"{\\"name\\": \\"John\\", \\"age\\": 30, \\"city\\": \\"New York\\"}","version":0,"timestamp":1739761757895445504,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:18.007 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:18.008 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10487/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:18.010 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"{\\"name\\": \\"John\\", \\"age\\": 30, \\"city\\": \\"New York\\"}","version":0,"timestamp":1739761757895445504,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:18.011 DEBUG [tests.light_push.test_publish] Running test with content topic A Unix path
2025-02-17 03:09:18.011 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 03:09:18.011 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55741/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/usr/local/bin", "timestamp": 1739761758011620352}}'
2025-02-17 03:09:18.017 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-17 03:09:18.018 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 03:09:18.119 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:18.119 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19257/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:18.122 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/usr/local/bin","version":0,"timestamp":1739761758011620352,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:18.123 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:18.123 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10487/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:18.126 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/usr/local/bin","version":0,"timestamp":1739761758011620352,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:18.127 DEBUG [tests.light_push.test_publish] Running test with content topic A Windows path
2025-02-17 03:09:18.128 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 03:09:18.128 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55741/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "C:\\Windows\\System32", "timestamp": 1739761758127894272}}'
2025-02-17 03:09:18.134 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-17 03:09:18.135 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 03:09:18.236 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:18.237 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19257/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:18.239 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"C:\\\\Windows\\\\System32","version":0,"timestamp":1739761758127894272,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:18.241 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:18.241 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10487/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:18.244 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"C:\\\\Windows\\\\System32","version":0,"timestamp":1739761758127894272,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:18.245 DEBUG [tests.light_push.test_publish] Running test with content topic An SQL query
2025-02-17 03:09:18.246 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 03:09:18.246 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55741/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "SELECT * FROM users WHERE id = 1;", "timestamp": 1739761758245956352}}'
2025-02-17 03:09:18.252 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-17 03:09:18.253 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 03:09:18.353 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:18.354 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19257/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:18.357 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"SELECT * FROM users WHERE id = 1;","version":0,"timestamp":1739761758245956352,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:18.358 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:18.358 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10487/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:18.362 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"SELECT * FROM users WHERE id = 1;","version":0,"timestamp":1739761758245956352,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:18.363 DEBUG [tests.light_push.test_publish] Running test with content topic JavaScript code snippet
2025-02-17 03:09:18.364 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 03:09:18.364 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55741/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "function test() { console.log('Hello World'); }", "timestamp": 1739761758364001024}}'
2025-02-17 03:09:18.370 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-17 03:09:18.372 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 03:09:18.473 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:18.473 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19257/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:18.476 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"function test() { console.log(\'Hello World\'); }","version":0,"timestamp":1739761758364001024,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:18.478 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:18.478 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10487/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:18.480 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"function test() { console.log(\'Hello World\'); }","version":0,"timestamp":1739761758364001024,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:18.482 DEBUG [tests.light_push.test_publish] Running test with content topic A CSS snippet
2025-02-17 03:09:18.482 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 03:09:18.483 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55741/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "body { background-color: #fff; }", "timestamp": 1739761758482707456}}'
2025-02-17 03:09:18.489 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-17 03:09:18.490 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 03:09:18.590 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:18.590 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19257/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:18.593 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"body { background-color: #fff; }","version":0,"timestamp":1739761758482707456,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:18.594 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:18.594 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10487/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:18.596 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"body { background-color: #fff; }","version":0,"timestamp":1739761758482707456,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:18.598 DEBUG [tests.light_push.test_publish] Running test with content topic A Python one-liner
2025-02-17 03:09:18.598 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 03:09:18.598 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55741/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "print('Hello World')", "timestamp": 1739761758598271232}}'
2025-02-17 03:09:18.605 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-17 03:09:18.606 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 03:09:18.706 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:18.706 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19257/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:18.709 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"print(\'Hello World\')","version":0,"timestamp":1739761758598271232,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:18.710 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:18.711 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10487/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:18.713 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"print(\'Hello World\')","version":0,"timestamp":1739761758598271232,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:18.714 DEBUG [tests.light_push.test_publish] Running test with content topic An IP address
2025-02-17 03:09:18.715 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 03:09:18.715 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55741/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "192.168.1.1", "timestamp": 1739761758714863616}}'
2025-02-17 03:09:18.721 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-17 03:09:18.722 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 03:09:18.823 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:18.823 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19257/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:18.825 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"192.168.1.1","version":0,"timestamp":1739761758714863616,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:18.827 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:18.827 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10487/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:18.829 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"192.168.1.1","version":0,"timestamp":1739761758714863616,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:18.831 DEBUG [tests.light_push.test_publish] Running test with content topic A domain name
2025-02-17 03:09:18.831 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 03:09:18.831 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55741/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "www.example.com", "timestamp": 1739761758831294976}}'
2025-02-17 03:09:18.837 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-17 03:09:18.839 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 03:09:18.939 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:18.939 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19257/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:18.941 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"www.example.com","version":0,"timestamp":1739761758831294976,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:18.943 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:18.943 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10487/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:18.945 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"www.example.com","version":0,"timestamp":1739761758831294976,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:18.946 DEBUG [tests.light_push.test_publish] Running test with content topic A user agent string
2025-02-17 03:09:18.946 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 03:09:18.947 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55741/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "Mozilla/5.0 (Windows NT 10.0; Win64; x64)", "timestamp": 1739761758946790400}}'
2025-02-17 03:09:18.952 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-17 03:09:18.954 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 03:09:19.054 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:19.055 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19257/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:19.057 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Mozilla/5.0 (Windows NT 10.0; Win64; x64)","version":0,"timestamp":1739761758946790400,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:19.058 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:19.059 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10487/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:19.061 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Mozilla/5.0 (Windows NT 10.0; Win64; x64)","version":0,"timestamp":1739761758946790400,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:19.062 DEBUG [tests.light_push.test_publish] Running test with content topic A credit card number
2025-02-17 03:09:19.063 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 03:09:19.063 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55741/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "1234-5678-9012-3456", "timestamp": 1739761759062846720}}'
2025-02-17 03:09:19.069 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-17 03:09:19.070 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 03:09:19.170 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:19.171 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19257/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:19.173 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"1234-5678-9012-3456","version":0,"timestamp":1739761759062846720,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:19.175 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:19.175 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10487/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:19.177 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"1234-5678-9012-3456","version":0,"timestamp":1739761759062846720,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:19.178 DEBUG [tests.light_push.test_publish] Running test with content topic A phone number
2025-02-17 03:09:19.179 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 03:09:19.179 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55741/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "+1234567890", "timestamp": 1739761759179067904}}'
2025-02-17 03:09:19.185 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-17 03:09:19.186 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 03:09:19.286 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:19.287 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19257/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:19.289 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"+1234567890","version":0,"timestamp":1739761759179067904,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:19.290 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:19.290 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10487/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:19.293 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"+1234567890","version":0,"timestamp":1739761759179067904,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:19.294 DEBUG [tests.light_push.test_publish] Running test with content topic A UUID
2025-02-17 03:09:19.294 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 03:09:19.294 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55741/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "123e4567-e89b-12d3-a456-426614174000", "timestamp": 1739761759294596608}}'
2025-02-17 03:09:19.301 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-17 03:09:19.301 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 03:09:19.402 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:19.402 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19257/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:19.404 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"123e4567-e89b-12d3-a456-426614174000","version":0,"timestamp":1739761759294596608,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:19.406 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:19.406 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10487/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:19.408 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"123e4567-e89b-12d3-a456-426614174000","version":0,"timestamp":1739761759294596608,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:19.409 DEBUG [tests.light_push.test_publish] Running test with content topic A hashtag
2025-02-17 03:09:19.409 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 03:09:19.410 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55741/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "#helloWorld", "timestamp": 1739761759409806336}}'
2025-02-17 03:09:19.416 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-17 03:09:19.416 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 03:09:19.517 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:19.517 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19257/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:19.519 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"#helloWorld","version":0,"timestamp":1739761759409806336,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:19.521 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:19.521 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10487/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:19.523 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"#helloWorld","version":0,"timestamp":1739761759409806336,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:19.524 DEBUG [tests.light_push.test_publish] Running test with content topic A Twitter handle
2025-02-17 03:09:19.525 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 03:09:19.525 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55741/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "@username", "timestamp": 1739761759525008640}}'
2025-02-17 03:09:19.531 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-17 03:09:19.533 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 03:09:19.633 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:19.634 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19257/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:19.636 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"@username","version":0,"timestamp":1739761759525008640,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:19.638 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:19.638 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10487/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:19.640 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"@username","version":0,"timestamp":1739761759525008640,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:19.641 DEBUG [tests.light_push.test_publish] Running test with content topic A password
2025-02-17 03:09:19.642 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 03:09:19.642 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55741/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "P@ssw0rd!", "timestamp": 1739761759642096128}}'
2025-02-17 03:09:19.651 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-17 03:09:19.651 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 03:09:19.752 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:19.752 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19257/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:19.755 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"P@ssw0rd!","version":0,"timestamp":1739761759642096128,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:19.756 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:19.756 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10487/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:19.758 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"P@ssw0rd!","version":0,"timestamp":1739761759642096128,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:19.760 DEBUG [tests.light_push.test_publish] Running test with content topic A date in common format
2025-02-17 03:09:19.760 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 03:09:19.760 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55741/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "01/11/2023", "timestamp": 1739761759760417280}}'
2025-02-17 03:09:19.767 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-17 03:09:19.768 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 03:09:19.869 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:19.869 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19257/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:19.871 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"01/11/2023","version":0,"timestamp":1739761759760417280,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:19.872 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:19.873 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10487/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:19.875 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"01/11/2023","version":0,"timestamp":1739761759760417280,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:19.876 DEBUG [tests.light_push.test_publish] Running test with content topic A time string
2025-02-17 03:09:19.876 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 03:09:19.877 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55741/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "12:00:00", "timestamp": 1739761759876753920}}'
2025-02-17 03:09:19.883 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-17 03:09:19.884 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 03:09:19.985 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:19.985 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19257/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:19.987 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"12:00:00","version":0,"timestamp":1739761759876753920,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:19.989 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:19.989 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10487/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:19.991 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"12:00:00","version":0,"timestamp":1739761759876753920,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:19.992 DEBUG [tests.light_push.test_publish] Running test with content topic A mathematical equation
2025-02-17 03:09:19.993 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 03:09:19.993 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55741/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "E = mc^2", "timestamp": 1739761759993004032}}'
2025-02-17 03:09:19.999 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-17 03:09:20.000 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 03:09:20.101 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:20.101 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19257/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:20.103 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"E = mc^2","version":0,"timestamp":1739761759993004032,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:20.105 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:09:20.105 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10487/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:09:20.107 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"E = mc^2","version":0,"timestamp":1739761759993004032,"ephemeral":false,"proof":""}]'
2025-02-17 03:09:20.110 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-17 03:09:20.111 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-17 03:09:20.111 DEBUG [src.node.waku_node] Stopping container with id 5c5821e0619f
2025-02-17 03:09:21.254 DEBUG [src.node.waku_node] Container stopped.
2025-02-17 03:09:21.255 DEBUG [src.node.waku_node] Stopping container with id 60be9178ccc6
2025-02-17 03:09:22.066 ERROR [src.node.docker_mananger] Max retries reached for container 5c5821e0619f. Exiting log stream.
2025-02-17 03:09:22.771 DEBUG [src.node.waku_node] Container stopped.
2025-02-17 03:09:22.771 DEBUG [src.node.waku_node] Stopping container with id 80fa5ed64f41
2025-02-17 03:09:23.269 DEBUG [src.node.waku_node] Container stopped.
2025-02-17 03:09:23.270 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-17 03:09:23.296 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-17 03:09:23.310 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-17 03:09:23.315 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
