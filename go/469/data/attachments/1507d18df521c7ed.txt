2025-02-17 03:10:17.704 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-17 03:10:17.705 DEBUG [tests.conftest] Running test: test_filter_unsubscribe_with_extra_field with id: 2025-02-17_03-10-17__ed0bcafb-ceca-42aa-939d-33ba60c3c24f
2025-02-17 03:10:17.705 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-17 03:10:17.705 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2025-02-17 03:10:17.705 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2025-02-17 03:10:17.712 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-17 03:10:17.712 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-17_03-10-17__ed0bcafb-ceca-42aa-939d-33ba60c3c24f__wakuorg_nwaku:latest.log
2025-02-17 03:10:17.712 DEBUG [src.node.waku_node] Starting Node...
2025-02-17 03:10:17.712 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-17 03:10:17.714 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-17 03:10:17.714 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.82.165
2025-02-17 03:10:17.714 DEBUG [src.node.docker_mananger] Generated ports ['63888', '63889', '63890', '63891', '63892']
2025-02-17 03:10:17.714 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-17 03:10:17.714 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-17 03:10:17.714 DEBUG [src.node.waku_node] Using volumes []
2025-02-17 03:10:17.714 DEBUG [src.node.docker_mananger] docker run -i -t -p 63888:63888 -p 63889:63889 -p 63890:63890 -p 63891:63891 -p 63892:63892 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=63890 --rest-port=63888 --tcp-port=63889 --discv5-udp-port=63891 --rest-address=0.0.0.0 --nat=extip:172.18.82.165 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a4fbb084eedbaa05deaceffcbffcbcffde5f6487cfd307e8eb4b403f18eb0e7b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=63892 --metrics-logging=true --relay=true --filter=true
2025-02-17 03:10:17.719 ERROR [src.node.docker_mananger] Max retries reached for container 56a80512ca51. Exiting log stream.
2025-02-17 03:10:17.942 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.82.165 waku 171d6bb1e517d99d0b1c4e1df826786fb84d6b5125c681d573d92f2f2435271b
2025-02-17 03:10:17.996 DEBUG [src.node.docker_mananger] Container started with ID 171d6bb1e517. Setting up logs at ./log/docker/node1_2025-02-17_03-10-17__ed0bcafb-ceca-42aa-939d-33ba60c3c24f__wakuorg_nwaku:latest.log
2025-02-17 03:10:17.997 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 63888
2025-02-17 03:10:17.997 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-17 03:10:18.512 ERROR [src.node.docker_mananger] Max retries reached for container dfdfdc6a77ff. Exiting log stream.
2025-02-17 03:10:18.998 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63888/health" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:10:19.000 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-17 03:10:19.001 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-17 03:10:19.001 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63888/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:10:19.003 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.82.165/tcp/63889/p2p/16Uiu2HAm985fhxA7PNBfartzWTMzzmfPwaTqHwFEtNs91AB5CpSF","/ip4/172.18.82.165/tcp/63890/ws/p2p/16Uiu2HAm985fhxA7PNBfartzWTMzzmfPwaTqHwFEtNs91AB5CpSF"],"enrUri":"enr:-L24QNqCpj8cquEDCNAMdH5tHy43UJygFIJ3-E9GASUAgaM8E6Cp6lod-JoZt9iA9bxYw2tra_TUqO4EvOaMOTGngjgCgmlkgnY0gmlwhKwSUqWKbXVsdGlhZGRyc5YACASsElKlBvmRAAoErBJSpQb5kt0DgnJzhQADAQAAiXNlY3AyNTZrMaECy4HyWpg74rKeLfvCsPS_M5k1v3HnM3jJ4trX-8THq8yDdGNwgvmRg3VkcIL5k4V3YWt1MgU"}'
2025-02-17 03:10:19.003 INFO [src.node.waku_node] REST service is ready !!
2025-02-17 03:10:19.004 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2025-02-17 03:10:19.010 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-17 03:10:19.010 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-17_03-10-17__ed0bcafb-ceca-42aa-939d-33ba60c3c24f__wakuorg_go-waku:latest.log
2025-02-17 03:10:19.010 DEBUG [src.node.waku_node] Starting Node...
2025-02-17 03:10:19.011 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-17 03:10:19.012 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-17 03:10:19.012 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.59.72
2025-02-17 03:10:19.012 DEBUG [src.node.docker_mananger] Generated ports ['35546', '35547', '35548', '35549', '35550']
2025-02-17 03:10:19.012 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-17 03:10:19.013 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-17 03:10:19.013 DEBUG [src.node.waku_node] Using volumes []
2025-02-17 03:10:19.013 DEBUG [src.node.docker_mananger] docker run -i -t -p 35546:35546 -p 35547:35547 -p 35548:35548 -p 35549:35549 -p 35550:35550 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=35548 --rest-port=35546 --tcp-port=35547 --discv5-udp-port=35549 --rest-address=0.0.0.0 --nat=extip:172.18.59.72 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ab04d22a5c8f22b8d54c1eeadb8f88bf879ddf140d2bf2a2a0ae67dba9f3b1a1 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QNqCpj8cquEDCNAMdH5tHy43UJygFIJ3-E9GASUAgaM8E6Cp6lod-JoZt9iA9bxYw2tra_TUqO4EvOaMOTGngjgCgmlkgnY0gmlwhKwSUqWKbXVsdGlhZGRyc5YACASsElKlBvmRAAoErBJSpQb5kt0DgnJzhQADAQAAiXNlY3AyNTZrMaECy4HyWpg74rKeLfvCsPS_M5k1v3HnM3jJ4trX-8THq8yDdGNwgvmRg3VkcIL5k4V3YWt1MgU --filternode=/ip4/172.18.82.165/tcp/63889/p2p/16Uiu2HAm985fhxA7PNBfartzWTMzzmfPwaTqHwFEtNs91AB5CpSF --pubsub-topic=/waku/2/rs/3/1
2025-02-17 03:10:19.239 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.59.72 waku 179b9f60c9823650ed5aacee9b822e40e739683e2c2ea88aa30e72b5129cae1a
2025-02-17 03:10:19.292 DEBUG [src.node.docker_mananger] Container started with ID 179b9f60c982. Setting up logs at ./log/docker/node2_2025-02-17_03-10-17__ed0bcafb-ceca-42aa-939d-33ba60c3c24f__wakuorg_go-waku:latest.log
2025-02-17 03:10:19.293 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 35546
2025-02-17 03:10:19.293 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-17 03:10:20.293 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:35546/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:10:20.296 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QB4WjqBX-2r72dZHCj-YJ1LXU8Vxv8wvBcj9unz6EQEfOkXfnpIB1UUXmeIekERmcVPZwizhXnoObjL7wjD-DgiGAZUR4p6WgmlkgnY0gmlwhKwRAAOCcnOFAAMBAAGJc2VjcDI1NmsxoQKg46qX8kuQzIYtK7vkSEXS6WRcg1VAtgTZHf1H-HjTJ4N0Y3CCituDdWRwgordhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/35547/p2p/16Uiu2HAm6FiZVGewVW2yEva2CcEfEGV4yRLRDZhEmpN5dz6FYQX8","/ip4/127.0.0.1/tcp/35548/ws/p2p/16Uiu2HAm6FiZVGewVW2yEva2CcEfEGV4yRLRDZhEmpN5dz6FYQX8","/ip4/172.17.0.3/tcp/35547/p2p/16Uiu2HAm6FiZVGewVW2yEva2CcEfEGV4yRLRDZhEmpN5dz6FYQX8","/ip4/172.17.0.3/tcp/35548/ws/p2p/16Uiu2HAm6FiZVGewVW2yEva2CcEfEGV4yRLRDZhEmpN5dz6FYQX8"]}'
2025-02-17 03:10:20.296 INFO [src.node.waku_node] REST service is ready !!
2025-02-17 03:10:20.296 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35546/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.82.165/tcp/63889/p2p/16Uiu2HAm985fhxA7PNBfartzWTMzzmfPwaTqHwFEtNs91AB5CpSF", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-17 03:10:20.298 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-17 03:10:20.298 DEBUG [src.steps.filter] Running fixture setup: subscribe_main_nodes
2025-02-17 03:10:20.299 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63888/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-17 03:10:20.302 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 03:10:20.302 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:35546/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "4ce4cfaa-cdc3-493b-9eb5-73a3a92cc580", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2025-02-17 03:10:20.307 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"4ce4cfaa-cdc3-493b-9eb5-73a3a92cc580","statusDesc":"OK"}'
2025-02-17 03:10:20.309 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:35546/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1", "extraField": "extraValue"}'
2025-02-17 03:10:20.313 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"1","statusDesc":"OK"}'
2025-02-17 03:10:20.316 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-17 03:10:20.317 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-17 03:10:20.317 DEBUG [src.node.waku_node] Stopping container with id 171d6bb1e517
2025-02-17 03:10:20.896 DEBUG [src.node.waku_node] Container stopped.
2025-02-17 03:10:20.896 DEBUG [src.node.waku_node] Stopping container with id 179b9f60c982
2025-02-17 03:10:21.727 ERROR [src.node.docker_mananger] Max retries reached for container 171d6bb1e517. Exiting log stream.
2025-02-17 03:10:21.817 DEBUG [src.node.waku_node] Container stopped.
2025-02-17 03:10:21.818 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-17 03:10:21.828 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-17 03:10:21.831 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
