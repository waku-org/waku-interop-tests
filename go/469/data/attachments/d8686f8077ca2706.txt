2025-02-17 03:11:26.321 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-17 03:11:26.321 DEBUG [tests.conftest] Running test: test_light_push_on_multiple_pubsub_topics with id: 2025-02-17_03-11-26__3053cd10-9e89-466d-94ff-cc0550caf01b
2025-02-17 03:11:26.322 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-17 03:11:26.322 DEBUG [src.steps.light_push] Running fixture setup: light_push_setup
2025-02-17 03:11:26.328 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-17 03:11:26.328 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node1_2025-02-17_03-11-26__3053cd10-9e89-466d-94ff-cc0550caf01b__wakuorg_nwaku:latest.log
2025-02-17 03:11:26.328 DEBUG [src.node.waku_node] Starting Node...
2025-02-17 03:11:26.328 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-17 03:11:26.330 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-17 03:11:26.330 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.79.22
2025-02-17 03:11:26.330 DEBUG [src.node.docker_mananger] Generated ports ['64695', '64696', '64697', '64698', '64699']
2025-02-17 03:11:26.330 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-17 03:11:26.330 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-17 03:11:26.330 DEBUG [src.node.waku_node] Using volumes []
2025-02-17 03:11:26.330 DEBUG [src.node.docker_mananger] docker run -i -t -p 64695:64695 -p 64696:64696 -p 64697:64697 -p 64698:64698 -p 64699:64699 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=64697 --rest-port=64695 --tcp-port=64696 --discv5-udp-port=64698 --rest-address=0.0.0.0 --nat=extip:172.18.79.22 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=34b7dfe40631ca4ccfccec5188455efe9c30dcebba5e99570aa6cca74bd434d3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=64699 --metrics-logging=true --lightpush=true --relay=true
2025-02-17 03:11:26.554 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.79.22 waku 0bd9d36b30809d8c9887c6f9d74a1cc92f3ff3e290f367df38beb681c1e327aa
2025-02-17 03:11:26.601 DEBUG [src.node.docker_mananger] Container started with ID 0bd9d36b3080. Setting up logs at ./log/docker/receiving_node1_2025-02-17_03-11-26__3053cd10-9e89-466d-94ff-cc0550caf01b__wakuorg_nwaku:latest.log
2025-02-17 03:11:26.602 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 64695
2025-02-17 03:11:26.602 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-17 03:11:27.127 ERROR [src.node.docker_mananger] Max retries reached for container ec1961a3bee5. Exiting log stream.
2025-02-17 03:11:27.603 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64695/health" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:11:27.606 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-17 03:11:27.606 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-17 03:11:27.606 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64695/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:11:27.608 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.79.22/tcp/64696/p2p/16Uiu2HAmHEPfQFjccMCG8kYBC3o4PR8AtpCSXgHtCwQ4z9pKNMxq","/ip4/172.18.79.22/tcp/64697/ws/p2p/16Uiu2HAmHEPfQFjccMCG8kYBC3o4PR8AtpCSXgHtCwQ4z9pKNMxq"],"enrUri":"enr:-L24QDMOc4uJoqcMGcMB0FCXj5veHWlE7ZRAi4FzcZaiLev6UuUiweJqvOX8tKau_ZwEOOcZ8vPYPzK4yR8Z0LmC1gUCgmlkgnY0gmlwhKwSTxaKbXVsdGlhZGRyc5YACASsEk8WBvy4AAoErBJPFgb8ud0DgnJzhQADAQAAiXNlY3AyNTZrMaEDQ_1GD63jpYU8N8YZqe0SQ2vWQyWh2ps_vMhdhdoT3b6DdGNwgvy4g3VkcIL8uoV3YWt1Mgk"}'
2025-02-17 03:11:27.609 INFO [src.node.waku_node] REST service is ready !!
2025-02-17 03:11:27.615 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-17 03:11:27.615 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node2_2025-02-17_03-11-26__3053cd10-9e89-466d-94ff-cc0550caf01b__wakuorg_nwaku:latest.log
2025-02-17 03:11:27.615 DEBUG [src.node.waku_node] Starting Node...
2025-02-17 03:11:27.615 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-17 03:11:27.617 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-17 03:11:27.617 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.174.16
2025-02-17 03:11:27.617 DEBUG [src.node.docker_mananger] Generated ports ['27196', '27197', '27198', '27199', '27200']
2025-02-17 03:11:27.617 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-17 03:11:27.617 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-17 03:11:27.617 DEBUG [src.node.waku_node] Using volumes []
2025-02-17 03:11:27.617 DEBUG [src.node.docker_mananger] docker run -i -t -p 27196:27196 -p 27197:27197 -p 27198:27198 -p 27199:27199 -p 27200:27200 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=27198 --rest-port=27196 --tcp-port=27197 --discv5-udp-port=27199 --rest-address=0.0.0.0 --nat=extip:172.18.174.16 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cef59ceb9fed5c516c823a7bbdfdc6d1505dced6fea9ecf8ce945651a4ce3d1d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=27200 --metrics-logging=true --lightpush=false --relay=true
2025-02-17 03:11:27.843 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.174.16 waku 17d031776a2bd281890b1caf0020b542d1c1478111335c853e521512ea843f14
2025-02-17 03:11:27.901 DEBUG [src.node.docker_mananger] Container started with ID 17d031776a2b. Setting up logs at ./log/docker/receiving_node2_2025-02-17_03-11-26__3053cd10-9e89-466d-94ff-cc0550caf01b__wakuorg_nwaku:latest.log
2025-02-17 03:11:27.902 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 27196
2025-02-17 03:11:27.902 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-17 03:11:28.902 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27196/health" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:11:28.905 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-17 03:11:28.905 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-17 03:11:28.905 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27196/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:11:28.907 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.174.16/tcp/27197/p2p/16Uiu2HAmCCC4Z99Y2VzY3D3fsSP156hAiobqMgAtXb3DY6gxYdn3","/ip4/172.18.174.16/tcp/27198/ws/p2p/16Uiu2HAmCCC4Z99Y2VzY3D3fsSP156hAiobqMgAtXb3DY6gxYdn3"],"enrUri":"enr:-L24QCBMOXtZHULP7ZUml-syyFGCBvrga3aY7eBjFtkMEevxfjTpQ_heDn_nKaRrKlGexRUludzpToGwIV77KBx8D8kCgmlkgnY0gmlwhKwSrhCKbXVsdGlhZGRyc5YACASsEq4QBmo9AAoErBKuEAZqPt0DgnJzhQADAQAAiXNlY3AyNTZrMaEC-SKPc0o4lGy1vrgpZ8nKifDQJx3PoHbZpkLZHd23dKyDdGNwgmo9g3VkcIJqP4V3YWt1MgE"}'
2025-02-17 03:11:28.908 INFO [src.node.waku_node] REST service is ready !!
2025-02-17 03:11:28.908 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27196/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.79.22/tcp/64696/p2p/16Uiu2HAmHEPfQFjccMCG8kYBC3o4PR8AtpCSXgHtCwQ4z9pKNMxq"]'
2025-02-17 03:11:28.948 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 03:11:28.962 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-17 03:11:28.962 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/lightpush_node1_2025-02-17_03-11-26__3053cd10-9e89-466d-94ff-cc0550caf01b__wakuorg_go-waku:latest.log
2025-02-17 03:11:28.962 DEBUG [src.node.waku_node] Starting Node...
2025-02-17 03:11:28.962 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-17 03:11:28.964 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-17 03:11:28.964 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.46.132
2025-02-17 03:11:28.964 DEBUG [src.node.docker_mananger] Generated ports ['60470', '60471', '60472', '60473', '60474']
2025-02-17 03:11:28.964 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-17 03:11:28.965 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-17 03:11:28.965 DEBUG [src.node.waku_node] Using volumes []
2025-02-17 03:11:28.965 DEBUG [src.node.docker_mananger] docker run -i -t -p 60470:60470 -p 60471:60471 -p 60472:60472 -p 60473:60473 -p 60474:60474 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=60472 --rest-port=60470 --tcp-port=60471 --discv5-udp-port=60473 --rest-address=0.0.0.0 --nat=extip:172.18.46.132 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cc7d7de2d43acba7f7bbcf1aed65cc35f7f09f1cd17fb28b9987a37b7bb45f20 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-L24QDMOc4uJoqcMGcMB0FCXj5veHWlE7ZRAi4FzcZaiLev6UuUiweJqvOX8tKau_ZwEOOcZ8vPYPzK4yR8Z0LmC1gUCgmlkgnY0gmlwhKwSTxaKbXVsdGlhZGRyc5YACASsEk8WBvy4AAoErBJPFgb8ud0DgnJzhQADAQAAiXNlY3AyNTZrMaEDQ_1GD63jpYU8N8YZqe0SQ2vWQyWh2ps_vMhdhdoT3b6DdGNwgvy4g3VkcIL8uoV3YWt1Mgk --lightpushnode=/ip4/172.18.79.22/tcp/64696/p2p/16Uiu2HAmHEPfQFjccMCG8kYBC3o4PR8AtpCSXgHtCwQ4z9pKNMxq --lightpush=true --relay=false --pubsub-topic=/waku/2/rs/3/1
2025-02-17 03:11:29.198 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.46.132 waku bf80e74c9f41d59118b3a4d1292f2e20d9cc53a864aa93cdeee4dd85a326a0ec
2025-02-17 03:11:29.249 DEBUG [src.node.docker_mananger] Container started with ID bf80e74c9f41. Setting up logs at ./log/docker/lightpush_node1_2025-02-17_03-11-26__3053cd10-9e89-466d-94ff-cc0550caf01b__wakuorg_go-waku:latest.log
2025-02-17 03:11:29.249 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 60470
2025-02-17 03:11:29.250 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-17 03:11:30.251 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60470/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:11:30.253 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QJ6baeL3b22ltRmapW7wBQYTJHLS-QKkax8iY2Q7RU0kVSRUYFa8dGFIgVUCS7EBsoczA4EAVU3_-Aei0nzZM7OGAZUR46_egmlkgnY0gmlwhKwRAASCcnOFAAMBAAGJc2VjcDI1NmsxoQMOyLCBFw27YBiXqfPmZAhliPZVMt809hlprpsEa_zUsIN0Y3CC7DeDdWRwguw5hXdha3UyCA","listenAddresses":["/ip4/127.0.0.1/tcp/60471/p2p/16Uiu2HAmDehYohVAnxbJaquF44aND27hHJkHeYAvTNQ7XW8rVNxw","/ip4/127.0.0.1/tcp/60472/ws/p2p/16Uiu2HAmDehYohVAnxbJaquF44aND27hHJkHeYAvTNQ7XW8rVNxw","/ip4/172.17.0.4/tcp/60471/p2p/16Uiu2HAmDehYohVAnxbJaquF44aND27hHJkHeYAvTNQ7XW8rVNxw","/ip4/172.17.0.4/tcp/60472/ws/p2p/16Uiu2HAmDehYohVAnxbJaquF44aND27hHJkHeYAvTNQ7XW8rVNxw"]}'
2025-02-17 03:11:30.253 INFO [src.node.waku_node] REST service is ready !!
2025-02-17 03:11:30.254 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60470/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.79.22/tcp/64696/p2p/16Uiu2HAmHEPfQFjccMCG8kYBC3o4PR8AtpCSXgHtCwQ4z9pKNMxq", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-17 03:11:30.255 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-17 03:11:30.256 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60470/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.174.16/tcp/27197/p2p/16Uiu2HAmCCC4Z99Y2VzY3D3fsSP156hAiobqMgAtXb3DY6gxYdn3", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-17 03:11:30.271 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-17 03:11:30.273 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:64695/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-17 03:11:30.282 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 03:11:30.283 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27196/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-17 03:11:30.285 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 03:11:30.286 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:64695/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9", "/waku/2/rs/3/25", "/waku/2/rs/3/1000"]'
2025-02-17 03:11:30.293 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 03:11:30.294 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27196/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9", "/waku/2/rs/3/25", "/waku/2/rs/3/1000"]'
2025-02-17 03:11:30.306 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-17 03:11:30.307 DEBUG [tests.light_push.test_publish] Running test with pubsub topic /waku/2/rs/3/0
2025-02-17 03:11:30.308 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 03:11:30.309 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60470/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739761890308625408}}'
2025-02-17 03:11:30.321 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-17 03:11:30.322 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 03:11:30.422 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:11:30.423 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64695/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:11:30.425 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739761890308625408,"ephemeral":false,"proof":""}]'
2025-02-17 03:11:30.427 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:11:30.427 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27196/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:11:30.429 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739761890308625408,"ephemeral":false,"proof":""}]'
2025-02-17 03:11:30.430 DEBUG [tests.light_push.test_publish] Running test with pubsub topic /waku/2/rs/3/1
2025-02-17 03:11:30.431 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 03:11:30.431 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60470/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/1", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739761890431210496}}'
2025-02-17 03:11:30.437 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-17 03:11:30.439 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 03:11:30.539 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:11:30.540 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64695/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:11:30.542 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739761890431210496,"ephemeral":false,"proof":""}]'
2025-02-17 03:11:30.544 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:11:30.544 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27196/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:11:30.546 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739761890431210496,"ephemeral":false,"proof":""}]'
2025-02-17 03:11:30.547 DEBUG [tests.light_push.test_publish] Running test with pubsub topic /waku/2/rs/3/9
2025-02-17 03:11:30.548 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 03:11:30.548 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60470/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/9", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739761890548143104}}'
2025-02-17 03:11:37.190 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-17 03:11:37.192 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 03:11:37.292 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:11:37.292 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64695/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F9" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:11:37.295 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739761890548143104,"ephemeral":false,"proof":""}]'
2025-02-17 03:11:37.297 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:11:37.297 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27196/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F9" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:11:37.299 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739761890548143104,"ephemeral":false,"proof":""}]'
2025-02-17 03:11:37.300 DEBUG [tests.light_push.test_publish] Running test with pubsub topic /waku/2/rs/3/25
2025-02-17 03:11:37.301 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 03:11:37.301 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60470/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/25", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739761897301302784}}'
2025-02-17 03:11:37.307 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-17 03:11:37.307 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 03:11:37.408 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:11:37.408 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64695/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:11:37.410 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739761897301302784,"ephemeral":false,"proof":""}]'
2025-02-17 03:11:37.412 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:11:37.412 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27196/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:11:37.414 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739761897301302784,"ephemeral":false,"proof":""}]'
2025-02-17 03:11:37.415 DEBUG [tests.light_push.test_publish] Running test with pubsub topic /waku/2/rs/3/1000
2025-02-17 03:11:37.416 DEBUG [src.steps.light_push] Lightpushing message
2025-02-17 03:11:37.416 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60470/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/1000", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739761897416107008}}'
2025-02-17 03:11:37.423 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-17 03:11:37.425 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-17 03:11:37.525 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:11:37.525 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64695/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:11:37.527 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739761897416107008,"ephemeral":false,"proof":""}]'
2025-02-17 03:11:37.529 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-17 03:11:37.529 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27196/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d 'None'
2025-02-17 03:11:37.531 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739761897416107008,"ephemeral":false,"proof":""}]'
2025-02-17 03:11:37.535 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-17 03:11:37.536 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-17 03:11:37.536 DEBUG [src.node.waku_node] Stopping container with id 0bd9d36b3080
2025-02-17 03:11:38.104 DEBUG [src.node.waku_node] Container stopped.
2025-02-17 03:11:38.105 DEBUG [src.node.waku_node] Stopping container with id 17d031776a2b
2025-02-17 03:11:38.917 ERROR [src.node.docker_mananger] Max retries reached for container 0bd9d36b3080. Exiting log stream.
2025-02-17 03:11:39.518 DEBUG [src.node.waku_node] Container stopped.
2025-02-17 03:11:39.518 DEBUG [src.node.waku_node] Stopping container with id bf80e74c9f41
2025-02-17 03:11:40.054 DEBUG [src.node.waku_node] Container stopped.
2025-02-17 03:11:40.055 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-17 03:11:40.067 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-17 03:11:40.079 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-17 03:11:40.083 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
