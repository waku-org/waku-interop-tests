[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_multiple_receiving_nodes with id: 2024-10-12_03-19-53__9a621c59-a680-41b9-b8c7-705bf68ba031
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-10-12_03-19-53__9a621c59-a680-41b9-b8c7-705bf68ba031__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.80.200
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['12004', '12005', '12006', '12007', '12008']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 12004:12004 -p 12005:12005 -p 12006:12006 -p 12007:12007 -p 12008:12008 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=12006 --rest-port=12004 --tcp-port=12005 --discv5-udp-port=12007 --rest-address=0.0.0.0 --nat=extip:172.18.80.200 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c83ee0798aa3525d380de4c590fa642adbfad9ce84bd6aba82f9ae0f7de5cbd0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=12008 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.80.200 waku fed559f3ff038977541607395bf09cc04599b9912d919a553555d7140ba4dde0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID fed559f3ff03. Setting up logs at ./log/docker/receiving_node1_2024-10-12_03-19-53__9a621c59-a680-41b9-b8c7-705bf68ba031__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 12004
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12004/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12004/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.80.200/tcp/12005/p2p/16Uiu2HAmPSyv7WTQwVuovU1vn4wS7NzFt14uxVYzz4YKEwD8vS8Z","/ip4/172.18.80.200/tcp/12006/ws/p2p/16Uiu2HAmPSyv7WTQwVuovU1vn4wS7NzFt14uxVYzz4YKEwD8vS8Z"],"enrUri":"enr:-LO4QN7eS8QWE2Y0wXK2-txHFYO3aLQxfFfOqaUIl4Scn9cGSqqTsGxXvogTkV7wRV9S8xgi8OhKSffQ2FU-ilUOvZwBgmlkgnY0gmlwhKwSUMiKbXVsdGlhZGRyc4wACgSsElDIBi7m3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOgXRh9PIxK2hibTT2Sl8AYSLHpi6NxN1CQ1GVF5rtpcoN0Y3CCLuWDdWRwgi7nhXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-10-12_03-19-53__9a621c59-a680-41b9-b8c7-705bf68ba031__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.199.161
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['52249', '52250', '52251', '52252', '52253']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 52249:52249 -p 52250:52250 -p 52251:52251 -p 52252:52252 -p 52253:52253 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=52251 --rest-port=52249 --tcp-port=52250 --discv5-udp-port=52252 --rest-address=0.0.0.0 --nat=extip:172.18.199.161 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=03ddecd271a3520ce607db4fcd8cbdde213d6bfe4aaca4c6eac66a25a3e4f5c5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=52253 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.179.201
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['41755', '41756', '41757', '41758', '41759']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 41755:41755 -p 41756:41756 -p 41757:41757 -p 41758:41758 -p 41759:41759 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=41757 --rest-port=41755 --tcp-port=41756 --discv5-udp-port=41758 --rest-address=0.0.0.0 --nat=extip:172.18.179.201 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f16bdab764f231baf3ec4f85b26d325a038b79c429aaee1cbfd5f74e3e8b447e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=41759 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.179.201 waku dfad5f07c92766bd2242fe155247bd606df0152a7ddfa6c3ca1f8df432d600c1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID dfad5f07c927. Setting up logs at ./log/docker/receiving_node2_2024-10-12_03-19-53__9a621c59-a680-41b9-b8c7-705bf68ba031__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 41755
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41755/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41755/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.179.201/tcp/41756/p2p/16Uiu2HAmTkYnemjCvusvJBgyRSra9RcD8eEr5S3RHhNN797S2Dov","/ip4/172.18.179.201/tcp/41757/ws/p2p/16Uiu2HAmTkYnemjCvusvJBgyRSra9RcD8eEr5S3RHhNN797S2Dov"],"enrUri":"enr:-LO4QA5nhehJ0z_gS73KtX9wf4e3X0ir2WDeetAkjKiY2cLzOZz_ducpDGVxg20K0ax7g1yfPbYzGigDrZqeLvx_vZwBgmlkgnY0gmlwhKwSs8mKbXVsdGlhZGRyc4wACgSsErPJBqMd3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPgS-KIEFY3VnpFkMMaZ4EfsS_kbzo1Y85lSupJ8PRSyYN0Y3CCoxyDdWRwgqMehXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41755/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.80.200/tcp/12005/p2p/16Uiu2HAmPSyv7WTQwVuovU1vn4wS7NzFt14uxVYzz4YKEwD8vS8Z"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node3_2024-10-12_03-19-53__9a621c59-a680-41b9-b8c7-705bf68ba031__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.190.230
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['21099', '21100', '21101', '21102', '21103']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 21099:21099 -p 21100:21100 -p 21101:21101 -p 21102:21102 -p 21103:21103 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=21101 --rest-port=21099 --tcp-port=21100 --discv5-udp-port=21102 --rest-address=0.0.0.0 --nat=extip:172.18.190.230 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a7cbace93eb3d2fb8aaf62363ec5db4afdfefde4acdba3aee90a6deb6bfbed0e --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.190.230 waku 0587f2ee2a04e5f0b202250a1b8b7dd65b02921d4a73eb82fa815dd6d959d6ca
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 0587f2ee2a04. Setting up logs at ./log/docker/receiving_node3_2024-10-12_03-19-53__9a621c59-a680-41b9-b8c7-705bf68ba031__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 21099
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21099/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QGOW_y7nRUP7mlzWunZQx7V4EG6ash4J_S_GX2NbydzbOn26ZWa33klpzxtlbg_iTrmkK_E_lQbvGAtGaJeK9A6GAZJ-vXMjgmlkgnY0gmlwhKwRAAmJc2VjcDI1NmsxoQMw1TNRba_07vms9PXpzLp-78Rur0q8KDx01NiriRZchoN0Y3CCUmyDdWRwglJuhXdha3UyCQ","listenAddresses":["/ip4/127.0.0.1/tcp/21100/p2p/16Uiu2HAmFwcUYUMHttFyxWUrMiho5nx7b5u9DuMzJHUa7xXYj6NH","/ip4/127.0.0.1/tcp/21101/ws/p2p/16Uiu2HAmFwcUYUMHttFyxWUrMiho5nx7b5u9DuMzJHUa7xXYj6NH","/ip4/172.17.0.9/tcp/21100/p2p/16Uiu2HAmFwcUYUMHttFyxWUrMiho5nx7b5u9DuMzJHUa7xXYj6NH","/ip4/172.17.0.9/tcp/21101/ws/p2p/16Uiu2HAmFwcUYUMHttFyxWUrMiho5nx7b5u9DuMzJHUa7xXYj6NH"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21099/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.80.200/tcp/12005/p2p/16Uiu2HAmPSyv7WTQwVuovU1vn4wS7NzFt14uxVYzz4YKEwD8vS8Z", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21099/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.179.201/tcp/41756/p2p/16Uiu2HAmTkYnemjCvusvJBgyRSra9RcD8eEr5S3RHhNN797S2Dov", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node4_2024-10-12_03-19-53__9a621c59-a680-41b9-b8c7-705bf68ba031__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.41.18
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['62247', '62248', '62249', '62250', '62251']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 62247:62247 -p 62248:62248 -p 62249:62249 -p 62250:62250 -p 62251:62251 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=62249 --rest-port=62247 --tcp-port=62248 --discv5-udp-port=62250 --rest-address=0.0.0.0 --nat=extip:172.18.41.18 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=accc2e2f2fee9ff89c104f1e38a97b7e90ed12cabb78a9e3fd2028b929ed9ad3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=62251 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.41.18 waku 61ee940299115f6f13ee1ffe4a544e3b00b9ebd0d1e627f16ee6c63523ce925f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 61ee94029911. Setting up logs at ./log/docker/receiving_node4_2024-10-12_03-19-53__9a621c59-a680-41b9-b8c7-705bf68ba031__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 62247
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62247/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62247/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.41.18/tcp/62248/p2p/16Uiu2HAmRFuKUncAtnZ5pfXuLtLeqNQKb2Qn4nFyhPUVu978hMhd","/ip4/172.18.41.18/tcp/62249/ws/p2p/16Uiu2HAmRFuKUncAtnZ5pfXuLtLeqNQKb2Qn4nFyhPUVu978hMhd"],"enrUri":"enr:-LO4QPqsA_cZH3f3K8HihybM2qZBxneE8oJ3uFLXNVVTUT75UCTetsf84t9HlqaS_4qWFz6G3IfKRrWroeuvDo3A-SsBgmlkgnY0gmlwhKwSKRKKbXVsdGlhZGRyc4wACgSsEikSBvMp3QOCcnOFAAMBAACJc2VjcDI1NmsxoQO7PeH0EFn0c9zIbck1pr6_n6X-4XRmHA6X0WG7i57JdIN0Y3CC8yiDdWRwgvMqhXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62247/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.80.200/tcp/12005/p2p/16Uiu2HAmPSyv7WTQwVuovU1vn4wS7NzFt14uxVYzz4YKEwD8vS8Z"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62247/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.179.201/tcp/41756/p2p/16Uiu2HAmTkYnemjCvusvJBgyRSra9RcD8eEr5S3RHhNN797S2Dov"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62247/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.190.230/tcp/21100/p2p/16Uiu2HAmFwcUYUMHttFyxWUrMiho5nx7b5u9DuMzJHUa7xXYj6NH"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-10-12_03-19-53__9a621c59-a680-41b9-b8c7-705bf68ba031__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.103.201
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['48419', '48420', '48421', '48422', '48423']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 48419:48419 -p 48420:48420 -p 48421:48421 -p 48422:48422 -p 48423:48423 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=48421 --rest-port=48419 --tcp-port=48420 --discv5-udp-port=48422 --rest-address=0.0.0.0 --nat=extip:172.18.103.201 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a242a6dca1e7341ec1184e2dfd929c9a3b500089d1d65a9c9712ad609ba885ba --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-LO4QN7eS8QWE2Y0wXK2-txHFYO3aLQxfFfOqaUIl4Scn9cGSqqTsGxXvogTkV7wRV9S8xgi8OhKSffQ2FU-ilUOvZwBgmlkgnY0gmlwhKwSUMiKbXVsdGlhZGRyc4wACgSsElDIBi7m3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOgXRh9PIxK2hibTT2Sl8AYSLHpi6NxN1CQ1GVF5rtpcoN0Y3CCLuWDdWRwgi7nhXdha3UyCQ --lightpushnode=/ip4/172.18.80.200/tcp/12005/p2p/16Uiu2HAmPSyv7WTQwVuovU1vn4wS7NzFt14uxVYzz4YKEwD8vS8Z --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.103.201 waku 03021e136949448b2477d9c39af9317bddfad096352534f38171ab2f19eb86c9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 03021e136949. Setting up logs at ./log/docker/lightpush_node1_2024-10-12_03-19-53__9a621c59-a680-41b9-b8c7-705bf68ba031__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 48419
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48419/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QIz-d6mbaQz0WZNbVUWNhXAuLSWXVlC7zEuwhcrRBgPQWwbrB2KLlBVSet3atpoyCuGLyRpZQ-rloSY0InttwC-GAZJ-vYBVgmlkgnY0gmlwhKwRAAWJc2VjcDI1NmsxoQMbFRuUuFm5kkxtOkirDG8V5zA0XcGuNS_iwJrWfZU4WYN0Y3CCvSSDdWRwgr0mhXdha3UyCA","listenAddresses":["/ip4/127.0.0.1/tcp/48420/p2p/16Uiu2HAmEUi2Uaw5wq8oQwAamvbtYZKX817diSBf7JKvC2kpmxd6","/ip4/127.0.0.1/tcp/48421/ws/p2p/16Uiu2HAmEUi2Uaw5wq8oQwAamvbtYZKX817diSBf7JKvC2kpmxd6","/ip4/172.17.0.5/tcp/48420/p2p/16Uiu2HAmEUi2Uaw5wq8oQwAamvbtYZKX817diSBf7JKvC2kpmxd6","/ip4/172.17.0.5/tcp/48421/ws/p2p/16Uiu2HAmEUi2Uaw5wq8oQwAamvbtYZKX817diSBf7JKvC2kpmxd6"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48419/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.80.200/tcp/12005/p2p/16Uiu2HAmPSyv7WTQwVuovU1vn4wS7NzFt14uxVYzz4YKEwD8vS8Z", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48419/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.179.201/tcp/41756/p2p/16Uiu2HAmTkYnemjCvusvJBgyRSra9RcD8eEr5S3RHhNN797S2Dov", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48419/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.190.230/tcp/21100/p2p/16Uiu2HAmFwcUYUMHttFyxWUrMiho5nx7b5u9DuMzJHUa7xXYj6NH", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48419/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.41.18/tcp/62248/p2p/16Uiu2HAmRFuKUncAtnZ5pfXuLtLeqNQKb2Qn4nFyhPUVu978hMhd", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12004/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41755/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21099/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62247/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48419/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1728703202503523584}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12004/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1728703202503523584,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41755/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1728703202503523584,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_3:wakuorg/go-waku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21099/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1728703202503523584,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_4:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62247/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1728703202503523584,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id fed559f3ff03
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id dfad5f07c927
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 0587f2ee2a04
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 61ee94029911
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 03021e136949
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.