[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_subscribe_with_no_request_id with id: 2024-10-12_03-17-38__c2f7bbae-3848-43cf-8b4a-25256a27ea01
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-10-12_03-17-38__c2f7bbae-3848-43cf-8b4a-25256a27ea01__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.164.169
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['28840', '28841', '28842', '28843', '28844']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 28840:28840 -p 28841:28841 -p 28842:28842 -p 28843:28843 -p 28844:28844 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=28842 --rest-port=28840 --tcp-port=28841 --discv5-udp-port=28843 --rest-address=0.0.0.0 --nat=extip:172.18.164.169 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5edfd4ac8aabdf5baf8bec6aede313ebcceedcaf22704ece3077c32788acfd7d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=28844 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.164.169 waku 94cc624ba1d828fdf1925997733fe2e576a6f33b3a7db2e88347c504dec97451
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 94cc624ba1d8. Setting up logs at ./log/docker/node1_2024-10-12_03-17-38__c2f7bbae-3848-43cf-8b4a-25256a27ea01__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 28840
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28840/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28840/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.164.169/tcp/28841/p2p/16Uiu2HAmCp2hifMQLTaWXsVHx8LPmyoMj5WMmMD739sSpPWSZdzL","/ip4/172.18.164.169/tcp/28842/ws/p2p/16Uiu2HAmCp2hifMQLTaWXsVHx8LPmyoMj5WMmMD739sSpPWSZdzL"],"enrUri":"enr:-LO4QE-oNhOuHmfRTGvmCZ5qFBRFipjIAjGRNMmauSF4nUDZbcOrb-M-yaKtvodNhGFEoX-LaQpUmEBi1eTy10bJV6MBgmlkgnY0gmlwhKwSpKmKbXVsdGlhZGRyc4wACgSsEqSpBnCq3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMCUOMPdTbw9gAr0LaZ0v6ujCvdZBFWnasHwo5ZkcGYvYN0Y3CCcKmDdWRwgnCrhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-10-12_03-17-38__c2f7bbae-3848-43cf-8b4a-25256a27ea01__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.90.98
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['55260', '55261', '55262', '55263', '55264']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 55260:55260 -p 55261:55261 -p 55262:55262 -p 55263:55263 -p 55264:55264 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=55262 --rest-port=55260 --tcp-port=55261 --discv5-udp-port=55263 --rest-address=0.0.0.0 --nat=extip:172.18.90.98 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ebcf1ba6a8eacbcbe5a39dd890dedbd9406d274b07fb69c1fc4cfce9ebf8bdeb --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-LO4QE-oNhOuHmfRTGvmCZ5qFBRFipjIAjGRNMmauSF4nUDZbcOrb-M-yaKtvodNhGFEoX-LaQpUmEBi1eTy10bJV6MBgmlkgnY0gmlwhKwSpKmKbXVsdGlhZGRyc4wACgSsEqSpBnCq3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMCUOMPdTbw9gAr0LaZ0v6ujCvdZBFWnasHwo5ZkcGYvYN0Y3CCcKmDdWRwgnCrhXdha3UyBQ --filternode=/ip4/172.18.164.169/tcp/28841/p2p/16Uiu2HAmCp2hifMQLTaWXsVHx8LPmyoMj5WMmMD739sSpPWSZdzL
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.90.98 waku cb49707959ffbd9dcb7418366819c94944d89b6890f8cb2edb88ad5163858bcb
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID cb49707959ff. Setting up logs at ./log/docker/node2_2024-10-12_03-17-38__c2f7bbae-3848-43cf-8b4a-25256a27ea01__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 55260
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55260/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QN43y87Ayw38dIDwd6OsdHxeIrHvWiK9-cW848h3JA_cfM5psI7LV75Dw1K46R_DpGKhrTsHErf51oEQYFJtX32GAZJ-u1vegmlkgnY0gmlwhKwRAAWJc2VjcDI1NmsxoQKx7Sj0l4tC6xXwsC250cvcSg3AWcvkS73KpcAYe7zP3YN0Y3CC192DdWRwgtffhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/55261/p2p/16Uiu2HAm7QDtTUDWKS8XGxnJfL5hMz26ivdHAXFqenfQVFRPupFN","/ip4/127.0.0.1/tcp/55262/ws/p2p/16Uiu2HAm7QDtTUDWKS8XGxnJfL5hMz26ivdHAXFqenfQVFRPupFN","/ip4/172.17.0.5/tcp/55261/p2p/16Uiu2HAm7QDtTUDWKS8XGxnJfL5hMz26ivdHAXFqenfQVFRPupFN","/ip4/172.17.0.5/tcp/55262/ws/p2p/16Uiu2HAm7QDtTUDWKS8XGxnJfL5hMz26ivdHAXFqenfQVFRPupFN"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55260/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.164.169/tcp/28841/p2p/16Uiu2HAmCp2hifMQLTaWXsVHx8LPmyoMj5WMmMD739sSpPWSZdzL", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28840/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55260/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "a5fa3797-8eed-4299-8120-666558bb285d", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"a5fa3797-8eed-4299-8120-666558bb285d","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55260/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:55260/filter/v2/subscriptions. Response content: b'{"requestId":"","statusDesc":"subscription failed"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 94cc624ba1d8
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id cb49707959ff
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.