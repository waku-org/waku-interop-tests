[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_multiple_lightpush_nodes with id: 2024-10-12_03-20-13__99f201f6-8379-44e4-b24a-6512920d315c
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-10-12_03-20-13__99f201f6-8379-44e4-b24a-6512920d315c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.218.83
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['16447', '16448', '16449', '16450', '16451']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 16447:16447 -p 16448:16448 -p 16449:16449 -p 16450:16450 -p 16451:16451 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=16449 --rest-port=16447 --tcp-port=16448 --discv5-udp-port=16450 --rest-address=0.0.0.0 --nat=extip:172.18.218.83 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=de7680bb3596afc23b833fe107eeecebf84ccd7aaa1d3a48f07dd6e9bc9acfaf --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=16451 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.218.83 waku d34165d078fe831b9c0eac8a55ea9282d4cead1e6942c21ecd3abfa313db4667
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID d34165d078fe. Setting up logs at ./log/docker/receiving_node1_2024-10-12_03-20-13__99f201f6-8379-44e4-b24a-6512920d315c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 16447
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16447/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16447/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.218.83/tcp/16448/p2p/16Uiu2HAmJH5UoEsZrS2Kig6KZ4oZpSVrXgzcxcuwCqqK3uZF3U1x","/ip4/172.18.218.83/tcp/16449/ws/p2p/16Uiu2HAmJH5UoEsZrS2Kig6KZ4oZpSVrXgzcxcuwCqqK3uZF3U1x"],"enrUri":"enr:-LO4QNKlOUYXcd9V6yAFTbOzfaefc-aS5ET9LQWBmLf_oneyRKoN7YmWh9dRzivaGczK2lBOVfI9L8cxPk3s3k9I_eEBgmlkgnY0gmlwhKwS2lOKbXVsdGlhZGRyc4wACgSsEtpTBkBB3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNTiSTGEyxVH_WPjIAfBIkOYb-M0UIy4BJ4L4ZsmLdmM4N0Y3CCQECDdWRwgkBChXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-10-12_03-20-13__99f201f6-8379-44e4-b24a-6512920d315c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.38.190
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['8486', '8487', '8488', '8489', '8490']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 8486:8486 -p 8487:8487 -p 8488:8488 -p 8489:8489 -p 8490:8490 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=8488 --rest-port=8486 --tcp-port=8487 --discv5-udp-port=8489 --rest-address=0.0.0.0 --nat=extip:172.18.38.190 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b092fcda9bd1e1b24fece1cb7a75d43ecebe9e00ed4ee41a57e7a7aef653fdfc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=8490 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.38.190 waku 0c87ba4392e0a054d535fcf315b4b8164a3fb3ead32baeff24da510ba25eb44c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 0c87ba4392e0. Setting up logs at ./log/docker/receiving_node2_2024-10-12_03-20-13__99f201f6-8379-44e4-b24a-6512920d315c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 8486
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8486/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8486/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.38.190/tcp/8487/p2p/16Uiu2HAmH52HGwpoTgNboaHbU56peAgycX9GJbVKXyZ3Z1yGNmpg","/ip4/172.18.38.190/tcp/8488/ws/p2p/16Uiu2HAmH52HGwpoTgNboaHbU56peAgycX9GJbVKXyZ3Z1yGNmpg"],"enrUri":"enr:-LO4QLja4W2ktB-NE9Hk7NTWjm9_OCFxrkdbJV6oVKBshHG9GjMBPXme1wNsVZeiB4X9OlkVQHWbdgCnFrWpz73FjiMBgmlkgnY0gmlwhKwSJr6KbXVsdGlhZGRyc4wACgSsEia-BiEo3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNBlt7KWodF2qMlf4lG-dk0aeMUehOl5zWnaQO_xSGzNYN0Y3CCISeDdWRwgiEphXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8486/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.218.83/tcp/16448/p2p/16Uiu2HAmJH5UoEsZrS2Kig6KZ4oZpSVrXgzcxcuwCqqK3uZF3U1x"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-10-12_03-20-13__99f201f6-8379-44e4-b24a-6512920d315c__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.234.196
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['23216', '23217', '23218', '23219', '23220']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 23216:23216 -p 23217:23217 -p 23218:23218 -p 23219:23219 -p 23220:23220 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=23218 --rest-port=23216 --tcp-port=23217 --discv5-udp-port=23219 --rest-address=0.0.0.0 --nat=extip:172.18.234.196 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=abbfafe7cdf18bfdcb0ee9ea5e6b555ebb45eb7c55ff94bfbdbb3dde00d8fb6b --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-LO4QNKlOUYXcd9V6yAFTbOzfaefc-aS5ET9LQWBmLf_oneyRKoN7YmWh9dRzivaGczK2lBOVfI9L8cxPk3s3k9I_eEBgmlkgnY0gmlwhKwS2lOKbXVsdGlhZGRyc4wACgSsEtpTBkBB3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNTiSTGEyxVH_WPjIAfBIkOYb-M0UIy4BJ4L4ZsmLdmM4N0Y3CCQECDdWRwgkBChXdha3UyCQ --lightpushnode=/ip4/172.18.218.83/tcp/16448/p2p/16Uiu2HAmJH5UoEsZrS2Kig6KZ4oZpSVrXgzcxcuwCqqK3uZF3U1x --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.234.196 waku ba6e7d416a35bf069dcc6a24d7230c955efd7b80e8803574967d2db218fa7446
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID ba6e7d416a35. Setting up logs at ./log/docker/lightpush_node1_2024-10-12_03-20-13__99f201f6-8379-44e4-b24a-6512920d315c__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 23216
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23216/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QPbBv6ha3BqXCFf-cJ60ZIFqgYC94qHtEmII95gDt2UCQ10-2aJ9MihQ0uYOfUroZJ9vSXbLwruXDyaXtjYV2MGGAZJ-vcF2gmlkgnY0gmlwhKwRAAqJc2VjcDI1NmsxoQLIGOWZA4j2fEwWI0pFxLDKLmv4ek1eFoyP2wthVunzmoN0Y3CCWrGDdWRwglqzhXdha3UyCA","listenAddresses":["/ip4/127.0.0.1/tcp/23217/p2p/16Uiu2HAm8tmYBfDirPu1LQhgb4ivD3not3z4k847qfApF88R5bt5","/ip4/127.0.0.1/tcp/23218/ws/p2p/16Uiu2HAm8tmYBfDirPu1LQhgb4ivD3not3z4k847qfApF88R5bt5","/ip4/172.17.0.10/tcp/23217/p2p/16Uiu2HAm8tmYBfDirPu1LQhgb4ivD3not3z4k847qfApF88R5bt5","/ip4/172.17.0.10/tcp/23218/ws/p2p/16Uiu2HAm8tmYBfDirPu1LQhgb4ivD3not3z4k847qfApF88R5bt5"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23216/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.218.83/tcp/16448/p2p/16Uiu2HAmJH5UoEsZrS2Kig6KZ4oZpSVrXgzcxcuwCqqK3uZF3U1x", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23216/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.38.190/tcp/8487/p2p/16Uiu2HAmH52HGwpoTgNboaHbU56peAgycX9GJbVKXyZ3Z1yGNmpg", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node2_2024-10-12_03-20-13__99f201f6-8379-44e4-b24a-6512920d315c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.16.124
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['48463', '48464', '48465', '48466', '48467']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 48463:48463 -p 48464:48464 -p 48465:48465 -p 48466:48466 -p 48467:48467 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=48465 --rest-port=48463 --tcp-port=48464 --discv5-udp-port=48466 --rest-address=0.0.0.0 --nat=extip:172.18.16.124 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dc0edd78ac1bcdca1fa97bbce7966e2f151ffe5d8d83fc1c45cdfe2837e0d81e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=48467 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QNKlOUYXcd9V6yAFTbOzfaefc-aS5ET9LQWBmLf_oneyRKoN7YmWh9dRzivaGczK2lBOVfI9L8cxPk3s3k9I_eEBgmlkgnY0gmlwhKwS2lOKbXVsdGlhZGRyc4wACgSsEtpTBkBB3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNTiSTGEyxVH_WPjIAfBIkOYb-M0UIy4BJ4L4ZsmLdmM4N0Y3CCQECDdWRwgkBChXdha3UyCQ --lightpushnode=/ip4/172.18.218.83/tcp/16448/p2p/16Uiu2HAmJH5UoEsZrS2Kig6KZ4oZpSVrXgzcxcuwCqqK3uZF3U1x --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.16.124 waku 50366e2d93ed5eb523b604b8c0d2eea1cebf8458a231942e0898dd41e96e35a1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 50366e2d93ed. Setting up logs at ./log/docker/lightpush_node2_2024-10-12_03-20-13__99f201f6-8379-44e4-b24a-6512920d315c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 48463
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48463/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48463/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.16.124/tcp/48464/p2p/16Uiu2HAm7yFZxHyDsdnPrri2aQeQzfayVJfHLWnaUpAH5wQNYdEP","/ip4/172.18.16.124/tcp/48465/ws/p2p/16Uiu2HAm7yFZxHyDsdnPrri2aQeQzfayVJfHLWnaUpAH5wQNYdEP"],"enrUri":"enr:-LO4QLT02SOBulvABkyrsAL2-DkB08FgS04aVKgKnQpXGCltNKKT9sP1gSRV1sjj23pb-pVfcOkQS0B2FPSvj70_sVQBgmlkgnY0gmlwhKwSEHyKbXVsdGlhZGRyc4wACgSsEhB8Br1R3QOCcnOFAAMBAACJc2VjcDI1NmsxoQK6Yzo1Lx5D6sWiblMwBIe_HfCkwL2B1dTv6E0WjUKEIIN0Y3CCvVCDdWRwgr1ShXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48463/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.218.83/tcp/16448/p2p/16Uiu2HAmJH5UoEsZrS2Kig6KZ4oZpSVrXgzcxcuwCqqK3uZF3U1x"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48463/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.38.190/tcp/8487/p2p/16Uiu2HAmH52HGwpoTgNboaHbU56peAgycX9GJbVKXyZ3Z1yGNmpg"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node3_2024-10-12_03-20-13__99f201f6-8379-44e4-b24a-6512920d315c__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.44.69
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['28565', '28566', '28567', '28568', '28569']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 28565:28565 -p 28566:28566 -p 28567:28567 -p 28568:28568 -p 28569:28569 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=28567 --rest-port=28565 --tcp-port=28566 --discv5-udp-port=28568 --rest-address=0.0.0.0 --nat=extip:172.18.44.69 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=91ae1f2be9bbcd1ea9ce5bbaba31925cba2c1f2d68c1aedac0dbdeecadd6beb6 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-LO4QNKlOUYXcd9V6yAFTbOzfaefc-aS5ET9LQWBmLf_oneyRKoN7YmWh9dRzivaGczK2lBOVfI9L8cxPk3s3k9I_eEBgmlkgnY0gmlwhKwS2lOKbXVsdGlhZGRyc4wACgSsEtpTBkBB3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNTiSTGEyxVH_WPjIAfBIkOYb-M0UIy4BJ4L4ZsmLdmM4N0Y3CCQECDdWRwgkBChXdha3UyCQ --lightpushnode=/ip4/172.18.218.83/tcp/16448/p2p/16Uiu2HAmJH5UoEsZrS2Kig6KZ4oZpSVrXgzcxcuwCqqK3uZF3U1x --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.44.69 waku 2eb1abe6a9e054f1cd3ffef206e7ea264832283acf0b7e33778793e985bc1cef
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 2eb1abe6a9e0. Setting up logs at ./log/docker/lightpush_node3_2024-10-12_03-20-13__99f201f6-8379-44e4-b24a-6512920d315c__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 28565
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28565/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QCXn8b_lL0klWhia9rli8PGoGyIF_givzeMHgroGiVEeS2EWPHjDIOqripYRK_L1xho2nn1IfGCU1NtY-8fjOh-GAZJ-vc_BgmlkgnY0gmlwhKwRAAaJc2VjcDI1NmsxoQOHls5hHb7tn0IUJkkrf06ScP5ReGb7wPLPdCzp4fvmN4N0Y3CCb5aDdWRwgm-YhXdha3UyCA","listenAddresses":["/ip4/127.0.0.1/tcp/28566/p2p/16Uiu2HAmMnGmEteQwn6TcFN3XF59LkMjXrdYfbRwZsho1VkKFfCr","/ip4/127.0.0.1/tcp/28567/ws/p2p/16Uiu2HAmMnGmEteQwn6TcFN3XF59LkMjXrdYfbRwZsho1VkKFfCr","/ip4/172.17.0.6/tcp/28566/p2p/16Uiu2HAmMnGmEteQwn6TcFN3XF59LkMjXrdYfbRwZsho1VkKFfCr","/ip4/172.17.0.6/tcp/28567/ws/p2p/16Uiu2HAmMnGmEteQwn6TcFN3XF59LkMjXrdYfbRwZsho1VkKFfCr"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28565/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.218.83/tcp/16448/p2p/16Uiu2HAmJH5UoEsZrS2Kig6KZ4oZpSVrXgzcxcuwCqqK3uZF3U1x", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28565/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.38.190/tcp/8487/p2p/16Uiu2HAmH52HGwpoTgNboaHbU56peAgycX9GJbVKXyZ3Z1yGNmpg", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node4_2024-10-12_03-20-13__99f201f6-8379-44e4-b24a-6512920d315c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.156.142
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['16012', '16013', '16014', '16015', '16016']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 16012:16012 -p 16013:16013 -p 16014:16014 -p 16015:16015 -p 16016:16016 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=16014 --rest-port=16012 --tcp-port=16013 --discv5-udp-port=16015 --rest-address=0.0.0.0 --nat=extip:172.18.156.142 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c43bca7dd0eade0112ffe21eef0c0020b0f0eb47c0cf24f3d96461fe746addd0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=16016 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QNKlOUYXcd9V6yAFTbOzfaefc-aS5ET9LQWBmLf_oneyRKoN7YmWh9dRzivaGczK2lBOVfI9L8cxPk3s3k9I_eEBgmlkgnY0gmlwhKwS2lOKbXVsdGlhZGRyc4wACgSsEtpTBkBB3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNTiSTGEyxVH_WPjIAfBIkOYb-M0UIy4BJ4L4ZsmLdmM4N0Y3CCQECDdWRwgkBChXdha3UyCQ --lightpushnode=/ip4/172.18.218.83/tcp/16448/p2p/16Uiu2HAmJH5UoEsZrS2Kig6KZ4oZpSVrXgzcxcuwCqqK3uZF3U1x --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.156.142 waku 9ec53c118f34b2dc48aa8d5a8488fb7169ed473d105b59b8e3db0f1d314b97e7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 9ec53c118f34. Setting up logs at ./log/docker/lightpush_node4_2024-10-12_03-20-13__99f201f6-8379-44e4-b24a-6512920d315c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 16012
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16012/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16012/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.156.142/tcp/16013/p2p/16Uiu2HAmN1AdTC7ep4zcJQCKPxYqc3yk1Y35BJy33PqazK1ybhga","/ip4/172.18.156.142/tcp/16014/ws/p2p/16Uiu2HAmN1AdTC7ep4zcJQCKPxYqc3yk1Y35BJy33PqazK1ybhga"],"enrUri":"enr:-LO4QKo3ZLzj2WFxKeKECUjjkxxvLQ1e2k801UUrQdFgrzijd3PnUI56wLvhiCCllCa78_8bMcVAmg9aUA__wfkmfugBgmlkgnY0gmlwhKwSnI6KbXVsdGlhZGRyc4wACgSsEpyOBj6O3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOK5GuvJW9Y02t0-wYvPWkN46fOJYVg4H4OsFXCcy47Z4N0Y3CCPo2DdWRwgj6PhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16012/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.218.83/tcp/16448/p2p/16Uiu2HAmJH5UoEsZrS2Kig6KZ4oZpSVrXgzcxcuwCqqK3uZF3U1x"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16012/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.38.190/tcp/8487/p2p/16Uiu2HAmH52HGwpoTgNboaHbU56peAgycX9GJbVKXyZ3Z1yGNmpg"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16447/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8486/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23216/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1728703225261537280}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16447/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1728703225261537280,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8486/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1728703225261537280,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48463/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1728703225378898944}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16447/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1728703225378898944,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8486/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1728703225378898944,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28565/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1728703225494807808}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16447/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1728703225494807808,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8486/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1728703225494807808,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16012/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1728703225614727168}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16447/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1728703225614727168,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8486/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1728703225614727168,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id d34165d078fe
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 0c87ba4392e0
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id ba6e7d416a35
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 50366e2d93ed
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 2eb1abe6a9e0
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 9ec53c118f34
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.