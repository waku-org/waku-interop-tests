[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_unsubscribe_from_single_content_topic with id: 2024-08-30_03-16-04__6ba7a948-90ba-4d5b-9a43-d49d328c9e3b
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-08-30_03-16-04__6ba7a948-90ba-4d5b-9a43-d49d328c9e3b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.79.159
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['35752', '35753', '35754', '35755', '35756']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 35752:35752 -p 35753:35753 -p 35754:35754 -p 35755:35755 -p 35756:35756 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=35754 --rest-port=35752 --tcp-port=35753 --discv5-udp-port=35755 --rest-address=0.0.0.0 --nat=extip:172.18.79.159 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=aacddbb8a5a2b4ee8d9a0f9cfc7b0abf280fa055620aedaaca6ba1222572eecc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=35756 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.79.159 waku 8aabba074d4dacf45c08c782b8077f90f25017d8df2e88f9ae6f36e657acddb3
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 8aabba074d4d. Setting up logs at ./log/docker/node1_2024-08-30_03-16-04__6ba7a948-90ba-4d5b-9a43-d49d328c9e3b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 35752
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35752/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35752/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.79.159/tcp/35753/p2p/16Uiu2HAmJuiZiZYMEVWA3eNJR4jmonVQpB2noDphfdj1ayfziQ3Y","/ip4/172.18.79.159/tcp/35754/ws/p2p/16Uiu2HAmJuiZiZYMEVWA3eNJR4jmonVQpB2noDphfdj1ayfziQ3Y"],"enrUri":"enr:-LO4QKvl15dnbPoHJ4FU2LggBbqY-enL0vHVIjwV_61LqyAJbwg8hhZHX4ygMdKmZz9Aqc5fikGjEC4q-dYpWMYMj-0BgmlkgnY0gmlwhKwST5-KbXVsdGlhZGRyc4wACgSsEk-fBouq3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNc6_wV7AUQpZnKfad4ytEEZZA2GDL0Qhhtv5K3STz6B4N0Y3CCi6mDdWRwgourhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-08-30_03-16-04__6ba7a948-90ba-4d5b-9a43-d49d328c9e3b__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.11.60
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['2783', '2784', '2785', '2786', '2787']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 2783:2783 -p 2784:2784 -p 2785:2785 -p 2786:2786 -p 2787:2787 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=2785 --rest-port=2783 --tcp-port=2784 --discv5-udp-port=2786 --rest-address=0.0.0.0 --nat=extip:172.18.11.60 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ea1eeeacf2a133cfbfbc0dc6cb36ee16c1e57f2e5db79ce6b0aa045be40fdfb0 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-LO4QKvl15dnbPoHJ4FU2LggBbqY-enL0vHVIjwV_61LqyAJbwg8hhZHX4ygMdKmZz9Aqc5fikGjEC4q-dYpWMYMj-0BgmlkgnY0gmlwhKwST5-KbXVsdGlhZGRyc4wACgSsEk-fBouq3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNc6_wV7AUQpZnKfad4ytEEZZA2GDL0Qhhtv5K3STz6B4N0Y3CCi6mDdWRwgourhXdha3UyBQ --filternode=/ip4/172.18.79.159/tcp/35753/p2p/16Uiu2HAmJuiZiZYMEVWA3eNJR4jmonVQpB2noDphfdj1ayfziQ3Y
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.11.60 waku f88bd28a4acd8384261cd507df19cc31da40ac8d08f6ad0498076ed1b5c91f39
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID f88bd28a4acd. Setting up logs at ./log/docker/node2_2024-08-30_03-16-04__6ba7a948-90ba-4d5b-9a43-d49d328c9e3b__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 2783
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2783/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QJrjfskvvjlfgM5r74ZgnyVTcrAshDM_RsbheCTPJt50W2A16Tj7aoYEReLttQJ0dWtxoT8AJ1N3uDDdVNgJXhqGAZGhSHsKgmlkgnY0gmlwhKwRAAeJc2VjcDI1NmsxoQN_L_m37GOavyx6x86nyGPOnOd9tFGQ2hG8XhANwbFvf4N0Y3CCCuCDdWRwggrihXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/2784/p2p/16Uiu2HAmMDUZKKT49yzdutPxBdbW4h8ZEgM5YWsSPv2Xo64WtEN2","/ip4/127.0.0.1/tcp/2785/ws/p2p/16Uiu2HAmMDUZKKT49yzdutPxBdbW4h8ZEgM5YWsSPv2Xo64WtEN2","/ip4/172.17.0.7/tcp/2784/p2p/16Uiu2HAmMDUZKKT49yzdutPxBdbW4h8ZEgM5YWsSPv2Xo64WtEN2","/ip4/172.17.0.7/tcp/2785/ws/p2p/16Uiu2HAmMDUZKKT49yzdutPxBdbW4h8ZEgM5YWsSPv2Xo64WtEN2"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2783/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.79.159/tcp/35753/p2p/16Uiu2HAmJuiZiZYMEVWA3eNJR4jmonVQpB2noDphfdj1ayfziQ3Y", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35752/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2783/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1485fca1-0325-4e33-af3c-27b0432b4b45", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"1485fca1-0325-4e33-af3c-27b0432b4b45","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35752/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2783/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1724987768717412352,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:2783/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"1","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35752/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2783/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:2783/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'not subscribed to pubsubTopic:/waku/2/rs/3/1 contentTopic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 8aabba074d4d
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id f88bd28a4acd
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:114 Found matches for keyword 'crash': ['2024-08-30T03:16:07.589Z\t\x1b[34mINFO\x1b[0m\tgowaku.node2.discv5\tdiscv5/discover.go:194\tDiscovery V5: discoverable ENR \t{"node": "16Uiu2HAmMDUZKKT49yzdutPxBdbW4h8ZEgM5YWsSPv2Xo64WtEN2", "enr": "enr:-Ji4QJrjfskvvjlfgM5r74ZgnyVTcrAshDM_RsbheCTPJt50W2A16Tj7aoYEReLttQJ0dWtxoT8AJ1N3uDDdVNgJXhqGAZGhSHsKgmlkgnY0gmlwhKwRAAeJc2VjcDI1NmsxoQN_L_m37GOavyx6x86nyGPOnOd9tFGQ2hG8XhANwbFvf4N0Y3CCCuCDdWRwggrihXdha3UygA"}', '2024-08-30T03:16:07.591Z\t\x1b[34mINFO\x1b[0m\tgowaku.node2\tnode/wakunode2.go:565\tlocal node enr record\t{"node": "16Uiu2HAmMDUZKKT49yzdutPxBdbW4h8ZEgM5YWsSPv2Xo64WtEN2", "enr": "enr:-Ji4QJrjfskvvjlfgM5r74ZgnyVTcrAshDM_RsbheCTPJt50W2A16Tj7aoYEReLttQJ0dWtxoT8AJ1N3uDDdVNgJXhqGAZGhSHsKgmlkgnY0gmlwhKwRAAeJc2VjcDI1NmsxoQN_L_m37GOavyx6x86nyGPOnOd9tFGQ2hG8XhANwbFvf4N0Y3CCCuCDdWRwggrihXdha3UygA"}']
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_unsubscribe_from_single_content_topic with id: 2024-08-30_03-16-13__59eb373b-06da-4e99-89f7-a1bf2522fae5
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-08-30_03-16-13__59eb373b-06da-4e99-89f7-a1bf2522fae5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.103.173
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['34118', '34119', '34120', '34121', '34122']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 34118:34118 -p 34119:34119 -p 34120:34120 -p 34121:34121 -p 34122:34122 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=34120 --rest-port=34118 --tcp-port=34119 --discv5-udp-port=34121 --rest-address=0.0.0.0 --nat=extip:172.18.103.173 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=da5eab0fd9ea36f2ca3c64dcc07f7bed5758c1b7f8b6f4cf0f28b8ecd79bf6fd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=34122 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.103.173 waku 5e68d826607f9d57528d0d056d430b287a3bc3d60c2d9ade00453ddc1ce22775
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 5e68d826607f. Setting up logs at ./log/docker/node1_2024-08-30_03-16-13__59eb373b-06da-4e99-89f7-a1bf2522fae5__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 34118
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34118/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34118/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.103.173/tcp/34119/p2p/16Uiu2HAmTEd1o7Fp1Rj3JbkAakMqAYXiuk7m8R5HXs4kbmfuNUro","/ip4/172.18.103.173/tcp/34120/ws/p2p/16Uiu2HAmTEd1o7Fp1Rj3JbkAakMqAYXiuk7m8R5HXs4kbmfuNUro"],"enrUri":"enr:-LO4QHbQu6JRb_j81n-8nmBATuPUzNrulBivJbrKzSfB5hPwdn8enQ3Yifuk22L8SlpOPwMQ_Pgep6SOOURgq0kE8WABgmlkgnY0gmlwhKwSZ62KbXVsdGlhZGRyc4wACgSsEmetBoVI3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPYoT1ayPcmAMzbak7eUxBf_kr776IY0xY88yZMTkh5XIN0Y3CChUeDdWRwgoVJhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-08-30_03-16-13__59eb373b-06da-4e99-89f7-a1bf2522fae5__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.153.254
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['65206', '65207', '65208', '65209', '65210']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 65206:65206 -p 65207:65207 -p 65208:65208 -p 65209:65209 -p 65210:65210 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=65208 --rest-port=65206 --tcp-port=65207 --discv5-udp-port=65209 --rest-address=0.0.0.0 --nat=extip:172.18.153.254 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ef6f683ebf2ffc63aeab7eebfdbcb445ba9b76eddfb45cf0c575ede9efbe6728 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-LO4QHbQu6JRb_j81n-8nmBATuPUzNrulBivJbrKzSfB5hPwdn8enQ3Yifuk22L8SlpOPwMQ_Pgep6SOOURgq0kE8WABgmlkgnY0gmlwhKwSZ62KbXVsdGlhZGRyc4wACgSsEmetBoVI3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPYoT1ayPcmAMzbak7eUxBf_kr776IY0xY88yZMTkh5XIN0Y3CChUeDdWRwgoVJhXdha3UyBQ --filternode=/ip4/172.18.103.173/tcp/34119/p2p/16Uiu2HAmTEd1o7Fp1Rj3JbkAakMqAYXiuk7m8R5HXs4kbmfuNUro
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.153.254 waku 38b189c4852175c0b524e86d996ab156f4c665f1c5c97672f5e9d5d6ed622906
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 38b189c48521. Setting up logs at ./log/docker/node2_2024-08-30_03-16-13__59eb373b-06da-4e99-89f7-a1bf2522fae5__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 65206
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:65206/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QNzPWypYRgb8nGEd-wq0SoIkwz3jKCSP1iCdsjTlfsZ5SYaDtw6Jo1swsDkQ28ejdB3vIFN3mL1KYR4DXddMSFWGAZGhSJnsgmlkgnY0gmlwhKwRAAeJc2VjcDI1NmsxoQPB23dbwhVoV1ly104LKXbLKzWyX09rUKrJ878A-I27OYN0Y3CC_reDdWRwgv65hXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/65207/p2p/16Uiu2HAmRhj8grjwYVUbmGCeLthim7HQ9ovi2ywtve772rj215CU","/ip4/127.0.0.1/tcp/65208/ws/p2p/16Uiu2HAmRhj8grjwYVUbmGCeLthim7HQ9ovi2ywtve772rj215CU","/ip4/172.17.0.7/tcp/65207/p2p/16Uiu2HAmRhj8grjwYVUbmGCeLthim7HQ9ovi2ywtve772rj215CU","/ip4/172.17.0.7/tcp/65208/ws/p2p/16Uiu2HAmRhj8grjwYVUbmGCeLthim7HQ9ovi2ywtve772rj215CU"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:65206/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.103.173/tcp/34119/p2p/16Uiu2HAmTEd1o7Fp1Rj3JbkAakMqAYXiuk7m8R5HXs4kbmfuNUro", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34118/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:65206/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "0b94e6ba-e8d3-414c-ab14-21e66c166e13", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"0b94e6ba-e8d3-414c-ab14-21e66c166e13","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34118/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:65206/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1724987776530685184,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:65206/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"1","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34118/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:65206/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:65206/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'not subscribed to pubsubTopic:/waku/2/rs/3/1 contentTopic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 5e68d826607f
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 38b189c48521
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.