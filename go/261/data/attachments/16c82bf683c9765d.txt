[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_multiple_lightpush_nodes with id: 2024-08-30_03-17-03__01ce4695-1ef3-4fe3-833e-612d76e7a9ce
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-08-30_03-17-03__01ce4695-1ef3-4fe3-833e-612d76e7a9ce__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.123.50
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['50901', '50902', '50903', '50904', '50905']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 50901:50901 -p 50902:50902 -p 50903:50903 -p 50904:50904 -p 50905:50905 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=50903 --rest-port=50901 --tcp-port=50902 --discv5-udp-port=50904 --rest-address=0.0.0.0 --nat=extip:172.18.123.50 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=44d7629c4c60c3eac4b9b1f9b0b1b2d352770df70dafd871eba48ebe57a7aa72 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=50905 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.123.50 waku 79dc1134fc7b04961da79366940c4aeb3a66c21b6bd02935da9d820fdd3c0af2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 79dc1134fc7b. Setting up logs at ./log/docker/receiving_node1_2024-08-30_03-17-03__01ce4695-1ef3-4fe3-833e-612d76e7a9ce__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 50901
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50901/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50901/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.123.50/tcp/50902/p2p/16Uiu2HAmQzUWctEh98yXmSdenpUSUGE2NGAt4ykqWL38qZfXKQcT","/ip4/172.18.123.50/tcp/50903/ws/p2p/16Uiu2HAmQzUWctEh98yXmSdenpUSUGE2NGAt4ykqWL38qZfXKQcT"],"enrUri":"enr:-LO4QLpoH2eMqP6U6d93YbOYPhvQHlDtBU4Oywe_hHvbQweqXTUYMQ0q3yu2-xE06esojGcmt5AmMXK3OKaMrEm64vYBgmlkgnY0gmlwhKwSezKKbXVsdGlhZGRyc4wACgSsEnsyBsbX3QOCcnOFAAMBAACJc2VjcDI1NmsxoQO3Sh6837kAQO6HxfSNX1hCTLIApTl8K-PJiPshUHk5tIN0Y3CCxtaDdWRwgsbYhXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-08-30_03-17-03__01ce4695-1ef3-4fe3-833e-612d76e7a9ce__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.51.59
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['16588', '16589', '16590', '16591', '16592']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 16588:16588 -p 16589:16589 -p 16590:16590 -p 16591:16591 -p 16592:16592 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=16590 --rest-port=16588 --tcp-port=16589 --discv5-udp-port=16591 --rest-address=0.0.0.0 --nat=extip:172.18.51.59 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bae668caaa23a8f575200511ff747fda81e903ecf9ccdee8dbb8faaa0eb0fcd4 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=16592 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.51.59 waku 717e5b52668e37bc13146c1b99d785aa9a1191af2cf1da46cbf8b8a8bc873e40
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 717e5b52668e. Setting up logs at ./log/docker/receiving_node2_2024-08-30_03-17-03__01ce4695-1ef3-4fe3-833e-612d76e7a9ce__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 16588
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16588/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16588/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.51.59/tcp/16589/p2p/16Uiu2HAmJNzmKmpaaT7w92okoJ2xk9JdR49fqpZqBbCMibJkR4eh","/ip4/172.18.51.59/tcp/16590/ws/p2p/16Uiu2HAmJNzmKmpaaT7w92okoJ2xk9JdR49fqpZqBbCMibJkR4eh"],"enrUri":"enr:-LO4QElB7EFTkRQO5Ev7JQ6cLD99wagxrK7_BJhk0whh3NgESAuKIE_B_hxXVXzRyTsqx9vIJtXT0SlVJMLyQU5ZPsMBgmlkgnY0gmlwhKwSMzuKbXVsdGlhZGRyc4wACgSsEjM7BkDO3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNVDUwTALmt8lQueuALddIs5Ls3tQ3M862HzTs8pf-SBoN0Y3CCQM2DdWRwgkDPhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16588/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.123.50/tcp/50902/p2p/16Uiu2HAmQzUWctEh98yXmSdenpUSUGE2NGAt4ykqWL38qZfXKQcT"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-08-30_03-17-03__01ce4695-1ef3-4fe3-833e-612d76e7a9ce__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.179.193
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['8467', '8468', '8469', '8470', '8471']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 8467:8467 -p 8468:8468 -p 8469:8469 -p 8470:8470 -p 8471:8471 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=8469 --rest-port=8467 --tcp-port=8468 --discv5-udp-port=8470 --rest-address=0.0.0.0 --nat=extip:172.18.179.193 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ac9d5edbe8916e5df70cbe0b1cd68e1bcb8ec946d38eeb2615fdfc39e8d7eae3 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-LO4QLpoH2eMqP6U6d93YbOYPhvQHlDtBU4Oywe_hHvbQweqXTUYMQ0q3yu2-xE06esojGcmt5AmMXK3OKaMrEm64vYBgmlkgnY0gmlwhKwSezKKbXVsdGlhZGRyc4wACgSsEnsyBsbX3QOCcnOFAAMBAACJc2VjcDI1NmsxoQO3Sh6837kAQO6HxfSNX1hCTLIApTl8K-PJiPshUHk5tIN0Y3CCxtaDdWRwgsbYhXdha3UyCQ --lightpushnode=/ip4/172.18.123.50/tcp/50902/p2p/16Uiu2HAmQzUWctEh98yXmSdenpUSUGE2NGAt4ykqWL38qZfXKQcT --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.179.193 waku 06dbf9942f369322689f779a79b882bac06c68020b2102282465e18be953f728
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 06dbf9942f36. Setting up logs at ./log/docker/lightpush_node1_2024-08-30_03-17-03__01ce4695-1ef3-4fe3-833e-612d76e7a9ce__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 8467
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8467/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QLwmgFhNOmmmf8WUYAEgIkH824-thjiruWHQSrMmFnlvIgojC6IM1xm5Nd98tQF_s3TEqltd2D0Zg3ZmqMLDq0yGAZGhSWP8gmlkgnY0gmlwhKwRAA-Jc2VjcDI1NmsxoQN420EvpraLjKy08_gBt9IKrzlWoDecUdmuhWZ6gvfy1YN0Y3CCIRSDdWRwgiEWhXdha3UyCA","listenAddresses":["/ip4/127.0.0.1/tcp/8468/p2p/16Uiu2HAmLnmBe8gBACimkuq42UkJhwgjYeCVrGycogZkmgPNZxKv","/ip4/127.0.0.1/tcp/8469/ws/p2p/16Uiu2HAmLnmBe8gBACimkuq42UkJhwgjYeCVrGycogZkmgPNZxKv","/ip4/172.17.0.15/tcp/8468/p2p/16Uiu2HAmLnmBe8gBACimkuq42UkJhwgjYeCVrGycogZkmgPNZxKv","/ip4/172.17.0.15/tcp/8469/ws/p2p/16Uiu2HAmLnmBe8gBACimkuq42UkJhwgjYeCVrGycogZkmgPNZxKv"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8467/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.123.50/tcp/50902/p2p/16Uiu2HAmQzUWctEh98yXmSdenpUSUGE2NGAt4ykqWL38qZfXKQcT", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8467/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.51.59/tcp/16589/p2p/16Uiu2HAmJNzmKmpaaT7w92okoJ2xk9JdR49fqpZqBbCMibJkR4eh", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node2_2024-08-30_03-17-03__01ce4695-1ef3-4fe3-833e-612d76e7a9ce__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.193.220
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['53953', '53954', '53955', '53956', '53957']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 53953:53953 -p 53954:53954 -p 53955:53955 -p 53956:53956 -p 53957:53957 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=53955 --rest-port=53953 --tcp-port=53954 --discv5-udp-port=53956 --rest-address=0.0.0.0 --nat=extip:172.18.193.220 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f1ab2a4a1aaab52cc0ca1c2ec670b7a3a8b7761ee7c7c78e8fb8a6cb0b3917dd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=53957 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QLpoH2eMqP6U6d93YbOYPhvQHlDtBU4Oywe_hHvbQweqXTUYMQ0q3yu2-xE06esojGcmt5AmMXK3OKaMrEm64vYBgmlkgnY0gmlwhKwSezKKbXVsdGlhZGRyc4wACgSsEnsyBsbX3QOCcnOFAAMBAACJc2VjcDI1NmsxoQO3Sh6837kAQO6HxfSNX1hCTLIApTl8K-PJiPshUHk5tIN0Y3CCxtaDdWRwgsbYhXdha3UyCQ --lightpushnode=/ip4/172.18.123.50/tcp/50902/p2p/16Uiu2HAmQzUWctEh98yXmSdenpUSUGE2NGAt4ykqWL38qZfXKQcT --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.193.220 waku b52b14ffd1c1d80f2ae9f2580d9982aa23887c95fd4796252973bacf9ad427dd
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID b52b14ffd1c1. Setting up logs at ./log/docker/lightpush_node2_2024-08-30_03-17-03__01ce4695-1ef3-4fe3-833e-612d76e7a9ce__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 53953
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53953/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53953/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.193.220/tcp/53954/p2p/16Uiu2HAmEhitFymoz3UvPcu5ZDd2FfFZmzLmP7JCB4CfyyLQd57s","/ip4/172.18.193.220/tcp/53955/ws/p2p/16Uiu2HAmEhitFymoz3UvPcu5ZDd2FfFZmzLmP7JCB4CfyyLQd57s"],"enrUri":"enr:-LO4QFC8pLtsmiKwZkU66zdMBVBhA0tSluYQKDXJK1bSb_GDaFafQNAMbRnDpM-8RG1VZBiSPcRBOpjKdTPf8EUfm1kBgmlkgnY0gmlwhKwSwdyKbXVsdGlhZGRyc4wACgSsEsHcBtLD3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMeaqD2ogMlf2mUGItJPlN0wS8-3oERBhttXvQL910FDoN0Y3CC0sKDdWRwgtLEhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53953/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.123.50/tcp/50902/p2p/16Uiu2HAmQzUWctEh98yXmSdenpUSUGE2NGAt4ykqWL38qZfXKQcT"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53953/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.51.59/tcp/16589/p2p/16Uiu2HAmJNzmKmpaaT7w92okoJ2xk9JdR49fqpZqBbCMibJkR4eh"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node3_2024-08-30_03-17-03__01ce4695-1ef3-4fe3-833e-612d76e7a9ce__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.82.89
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['49723', '49724', '49725', '49726', '49727']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 49723:49723 -p 49724:49724 -p 49725:49725 -p 49726:49726 -p 49727:49727 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=49725 --rest-port=49723 --tcp-port=49724 --discv5-udp-port=49726 --rest-address=0.0.0.0 --nat=extip:172.18.82.89 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fff105ca9ee99bba1ac37b5edd4fe3256f8924ee5d2684dcacfcbbb058c91a09 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-LO4QLpoH2eMqP6U6d93YbOYPhvQHlDtBU4Oywe_hHvbQweqXTUYMQ0q3yu2-xE06esojGcmt5AmMXK3OKaMrEm64vYBgmlkgnY0gmlwhKwSezKKbXVsdGlhZGRyc4wACgSsEnsyBsbX3QOCcnOFAAMBAACJc2VjcDI1NmsxoQO3Sh6837kAQO6HxfSNX1hCTLIApTl8K-PJiPshUHk5tIN0Y3CCxtaDdWRwgsbYhXdha3UyCQ --lightpushnode=/ip4/172.18.123.50/tcp/50902/p2p/16Uiu2HAmQzUWctEh98yXmSdenpUSUGE2NGAt4ykqWL38qZfXKQcT --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.82.89 waku a010d4e76ab3d825b621ea699606652304030e940ef7e6cfce6a296afc10d70a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID a010d4e76ab3. Setting up logs at ./log/docker/lightpush_node3_2024-08-30_03-17-03__01ce4695-1ef3-4fe3-833e-612d76e7a9ce__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 49723
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49723/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QBRGG2EwZQGBrI3pMSloUqRA2P6fTnJsBF_-J44VGepvWoggLvZWmIrrmOQpPobzAgM_aRXFGxiScqfmNC41GKeGAZGhSXEzgmlkgnY0gmlwhKwRAASJc2VjcDI1NmsxoQMdPhSzofvs0ku-p5o6WhWVw25Venta_yHBLvJT5XxXnIN0Y3CCwjyDdWRwgsI-hXdha3UyCA","listenAddresses":["/ip4/127.0.0.1/tcp/49724/p2p/16Uiu2HAmEd95WK7TNat1WBiQk1tFTwAhBSvRkyk8phnSyb39Hrm1","/ip4/127.0.0.1/tcp/49725/ws/p2p/16Uiu2HAmEd95WK7TNat1WBiQk1tFTwAhBSvRkyk8phnSyb39Hrm1","/ip4/172.17.0.4/tcp/49724/p2p/16Uiu2HAmEd95WK7TNat1WBiQk1tFTwAhBSvRkyk8phnSyb39Hrm1","/ip4/172.17.0.4/tcp/49725/ws/p2p/16Uiu2HAmEd95WK7TNat1WBiQk1tFTwAhBSvRkyk8phnSyb39Hrm1"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49723/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.123.50/tcp/50902/p2p/16Uiu2HAmQzUWctEh98yXmSdenpUSUGE2NGAt4ykqWL38qZfXKQcT", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49723/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.51.59/tcp/16589/p2p/16Uiu2HAmJNzmKmpaaT7w92okoJ2xk9JdR49fqpZqBbCMibJkR4eh", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node4_2024-08-30_03-17-03__01ce4695-1ef3-4fe3-833e-612d76e7a9ce__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.24.97
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['61271', '61272', '61273', '61274', '61275']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 61271:61271 -p 61272:61272 -p 61273:61273 -p 61274:61274 -p 61275:61275 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=61273 --rest-port=61271 --tcp-port=61272 --discv5-udp-port=61274 --rest-address=0.0.0.0 --nat=extip:172.18.24.97 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dceeabcac268db10a1d0c1d70dae8db9a0d8edb14aa546f0eca63e7a1afa46da --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=61275 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QLpoH2eMqP6U6d93YbOYPhvQHlDtBU4Oywe_hHvbQweqXTUYMQ0q3yu2-xE06esojGcmt5AmMXK3OKaMrEm64vYBgmlkgnY0gmlwhKwSezKKbXVsdGlhZGRyc4wACgSsEnsyBsbX3QOCcnOFAAMBAACJc2VjcDI1NmsxoQO3Sh6837kAQO6HxfSNX1hCTLIApTl8K-PJiPshUHk5tIN0Y3CCxtaDdWRwgsbYhXdha3UyCQ --lightpushnode=/ip4/172.18.123.50/tcp/50902/p2p/16Uiu2HAmQzUWctEh98yXmSdenpUSUGE2NGAt4ykqWL38qZfXKQcT --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.24.97 waku a5151bbef73fb708eabda5f58daca1439b513b43d0762ff6d4fe3c2d2de3bbcb
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID a5151bbef73f. Setting up logs at ./log/docker/lightpush_node4_2024-08-30_03-17-03__01ce4695-1ef3-4fe3-833e-612d76e7a9ce__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 61271
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61271/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61271/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.24.97/tcp/61272/p2p/16Uiu2HAm73A1s4RUtqaKWRBrWDrHsFztrGfxRqKfdjQdUdcyoQve","/ip4/172.18.24.97/tcp/61273/ws/p2p/16Uiu2HAm73A1s4RUtqaKWRBrWDrHsFztrGfxRqKfdjQdUdcyoQve"],"enrUri":"enr:-LO4QPIc7Kp4Wabiv6d_ZBW9f8Vs8gLUAsacmqzUL_4gpKqtPp4eK2R43OS71eBcqJqbTzfYuyOd3nIi9rUg1S24oDUBgmlkgnY0gmlwhKwSGGGKbXVsdGlhZGRyc4wACgSsEhhhBu9Z3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKsh5WmZ3BXljavx5ow02vNLufiql4C8YfZ6xTVxBR8c4N0Y3CC71iDdWRwgu9ahXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61271/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.123.50/tcp/50902/p2p/16Uiu2HAmQzUWctEh98yXmSdenpUSUGE2NGAt4ykqWL38qZfXKQcT"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61271/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.51.59/tcp/16589/p2p/16Uiu2HAmJNzmKmpaaT7w92okoJ2xk9JdR49fqpZqBbCMibJkR4eh"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50901/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16588/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8467/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1724987833578017792}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50901/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724987833578017792,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16588/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724987833578017792,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53953/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1724987833698599424}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50901/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724987833698599424,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16588/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724987833698599424,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49723/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1724987833823752704}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50901/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724987833823752704,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16588/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724987833823752704,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61271/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1724987833940931328}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50901/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724987833940931328,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16588/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724987833940931328,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 79dc1134fc7b
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 717e5b52668e
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 06dbf9942f36
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id b52b14ffd1c1
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id a010d4e76ab3
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id a5151bbef73f
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.