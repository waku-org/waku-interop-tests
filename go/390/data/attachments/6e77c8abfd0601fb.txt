[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_first_node_to_start_publishes with id: 2024-12-11_03-24-29__b91d718a-fd45-4756-8aff-7bd26f77cde6
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-11_03-24-29__b91d718a-fd45-4756-8aff-7bd26f77cde6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.189.11
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['5996', '5997', '5998', '5999', '6000']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 5996:5996 -p 5997:5997 -p 5998:5998 -p 5999:5999 -p 6000:6000 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=5998 --rest-port=5996 --tcp-port=5997 --discv5-udp-port=5999 --rest-address=0.0.0.0 --nat=extip:172.18.189.11 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9d684cd1cd40cd15166c283bbc05049ead58b3e4bb9f04aafe7e33c5c2741648 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=6000 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.189.11 waku 7c119540b19777dc06ecdaa23a182368fac6693e6a7b2ee64fdf3cde98c378ed
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 7c119540b197. Setting up logs at ./log/docker/node1_2024-12-11_03-24-29__b91d718a-fd45-4756-8aff-7bd26f77cde6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 5996
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 202747ed44e8. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5996/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5996/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.189.11/tcp/5997/p2p/16Uiu2HAmMgBUCwhLS6KeMg1fHVJ7r58HJNmhXSTbjCFh4Cm8WbVt","/ip4/172.18.189.11/tcp/5998/ws/p2p/16Uiu2HAmMgBUCwhLS6KeMg1fHVJ7r58HJNmhXSTbjCFh4Cm8WbVt"],"enrUri":"enr:-L24QFheYU3XpPuHb33hSvZntDcQ5cYvKCLURgUZ1rKlT97CaXy59XvyvYRMjFaZNRBQv0ED4aqKaj8dWJAuyzKQx3cCgmlkgnY0gmlwhKwSvQuKbXVsdGlhZGRyc5YACASsEr0LBhdtAAoErBK9CwYXbt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDhgdV8lmSl73ZOO6VEUvZAuNb6V-Z6oID2Y4OKGZVwwuDdGNwghdtg3VkcIIXb4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-11_03-24-29__b91d718a-fd45-4756-8aff-7bd26f77cde6__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.55.226
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['24804', '24805', '24806', '24807', '24808']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 24804:24804 -p 24805:24805 -p 24806:24806 -p 24807:24807 -p 24808:24808 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=24806 --rest-port=24804 --tcp-port=24805 --discv5-udp-port=24807 --rest-address=0.0.0.0 --nat=extip:172.18.55.226 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=eaec69bf8ab6d7ea0ee6be00fcd7cae1a5f933eda008dd4c898e82fa6d7bd29b --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-L24QFheYU3XpPuHb33hSvZntDcQ5cYvKCLURgUZ1rKlT97CaXy59XvyvYRMjFaZNRBQv0ED4aqKaj8dWJAuyzKQx3cCgmlkgnY0gmlwhKwSvQuKbXVsdGlhZGRyc5YACASsEr0LBhdtAAoErBK9CwYXbt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDhgdV8lmSl73ZOO6VEUvZAuNb6V-Z6oID2Y4OKGZVwwuDdGNwghdtg3VkcIIXb4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.55.226 waku a9455fce7add3eaeffc193f138df56fc5a4b23f55a46b8d07647f14f21123e29
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID a9455fce7add. Setting up logs at ./log/docker/node2_2024-12-11_03-24-29__b91d718a-fd45-4756-8aff-7bd26f77cde6__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 24804
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24804/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QNx95-xePfY1QlRAJ3YQpYc1TNCsNzUVYzVYaG7yQsZuMkf67_xdewp8L3WvLKo9dIWn3wZxNleGFKhZgL_bLQSGAZOzvzLZgmlkgnY0gmlwhKwRAAmCcnODAAMAiXNlY3AyNTZrMaECCGphMy4qlRv-bHjb-g4KGOY5JiDs6EG6OSVvb4fIyrGDdGNwgmDlg3VkcIJg54V3YWt1MgE","listenAddresses":["/ip4/127.0.0.1/tcp/24805/p2p/16Uiu2HAkuzXKmFyHh3fchJ13wztL5UWvPvZm16H8wxbqLftMgUCp","/ip4/127.0.0.1/tcp/24806/ws/p2p/16Uiu2HAkuzXKmFyHh3fchJ13wztL5UWvPvZm16H8wxbqLftMgUCp","/ip4/172.17.0.9/tcp/24805/p2p/16Uiu2HAkuzXKmFyHh3fchJ13wztL5UWvPvZm16H8wxbqLftMgUCp","/ip4/172.17.0.9/tcp/24806/ws/p2p/16Uiu2HAkuzXKmFyHh3fchJ13wztL5UWvPvZm16H8wxbqLftMgUCp"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24804/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.189.11/tcp/5997/p2p/16Uiu2HAmMgBUCwhLS6KeMg1fHVJ7r58HJNmhXSTbjCFh4Cm8WbVt", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-12-11_03-24-29__b91d718a-fd45-4756-8aff-7bd26f77cde6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.84.39
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['37674', '37675', '37676', '37677', '37678']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 37674:37674 -p 37675:37675 -p 37676:37676 -p 37677:37677 -p 37678:37678 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=37676 --rest-port=37674 --tcp-port=37675 --discv5-udp-port=37677 --rest-address=0.0.0.0 --nat=extip:172.18.84.39 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=77f0dcfe52ba9ae542e6a304837dc425e656d489255a52d7b37ab02033e851ba --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=37678 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QFheYU3XpPuHb33hSvZntDcQ5cYvKCLURgUZ1rKlT97CaXy59XvyvYRMjFaZNRBQv0ED4aqKaj8dWJAuyzKQx3cCgmlkgnY0gmlwhKwSvQuKbXVsdGlhZGRyc5YACASsEr0LBhdtAAoErBK9CwYXbt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDhgdV8lmSl73ZOO6VEUvZAuNb6V-Z6oID2Y4OKGZVwwuDdGNwghdtg3VkcIIXb4V3YWt1MgE
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.30.220
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['50347', '50348', '50349', '50350', '50351']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 50347:50347 -p 50348:50348 -p 50349:50349 -p 50350:50350 -p 50351:50351 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=50349 --rest-port=50347 --tcp-port=50348 --discv5-udp-port=50350 --rest-address=0.0.0.0 --nat=extip:172.18.30.220 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2223e26edc93647b956c59c8f11a6cf9c3cade45b80adbc4cbd0befc9b80f2ac --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=50351 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QFheYU3XpPuHb33hSvZntDcQ5cYvKCLURgUZ1rKlT97CaXy59XvyvYRMjFaZNRBQv0ED4aqKaj8dWJAuyzKQx3cCgmlkgnY0gmlwhKwSvQuKbXVsdGlhZGRyc5YACASsEr0LBhdtAAoErBK9CwYXbt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDhgdV8lmSl73ZOO6VEUvZAuNb6V-Z6oID2Y4OKGZVwwuDdGNwghdtg3VkcIIXb4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.30.220 waku 7edf47759900b035cf51481cdc2f714fa80d165d1cc53b410f61cce01ad55c85
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 7edf47759900. Setting up logs at ./log/docker/node3_2024-12-11_03-24-29__b91d718a-fd45-4756-8aff-7bd26f77cde6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 50347
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50347/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50347/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.30.220/tcp/50348/p2p/16Uiu2HAkwbnwVgzXTdXepmoCR6spdGCsqFezuy6bWx7neJtGoG1e","/ip4/172.18.30.220/tcp/50349/ws/p2p/16Uiu2HAkwbnwVgzXTdXepmoCR6spdGCsqFezuy6bWx7neJtGoG1e"],"enrUri":"enr:-L24QIYkPrfcVGzfuH4D_cOhz4gj3w_8O6yxCgIJYIOqbTBXfTiy1KEbggM24GQ4ZgVy_P2AruTpJP6Ja4yHkEROpIsCgmlkgnY0gmlwhKwSHtyKbXVsdGlhZGRyc5YACASsEh7cBsSsAAoErBIe3AbErd0DgnJzhQADAQAAiXNlY3AyNTZrMaECIE8NVFp-6MnoHxEWlByxLjypEyjc2Z56qGgusUlM5wGDdGNwgsSsg3VkcILEroV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50347/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.189.11/tcp/5997/p2p/16Uiu2HAmMgBUCwhLS6KeMg1fHVJ7r58HJNmhXSTbjCFh4Cm8WbVt"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-12-11_03-24-29__b91d718a-fd45-4756-8aff-7bd26f77cde6__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.140.210
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['35468', '35469', '35470', '35471', '35472']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 35468:35468 -p 35469:35469 -p 35470:35470 -p 35471:35471 -p 35472:35472 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=35470 --rest-port=35468 --tcp-port=35469 --discv5-udp-port=35471 --rest-address=0.0.0.0 --nat=extip:172.18.140.210 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ac7de8ea943aa2f68ca25f6559dc5fc36d2c5a8521f2cf34c295a3e05abb7493 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-L24QFheYU3XpPuHb33hSvZntDcQ5cYvKCLURgUZ1rKlT97CaXy59XvyvYRMjFaZNRBQv0ED4aqKaj8dWJAuyzKQx3cCgmlkgnY0gmlwhKwSvQuKbXVsdGlhZGRyc5YACASsEr0LBhdtAAoErBK9CwYXbt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDhgdV8lmSl73ZOO6VEUvZAuNb6V-Z6oID2Y4OKGZVwwuDdGNwghdtg3VkcIIXb4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.140.210 waku 64e8a62e719111904f2a8f3ed3615d17b1d5774b551e3f11b6957f4f0cecab12
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 64e8a62e7191. Setting up logs at ./log/docker/node4_2024-12-11_03-24-29__b91d718a-fd45-4756-8aff-7bd26f77cde6__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 35468
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35468/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QIUEaFPL_1ALSss50UXUrHMG8Z6DXnf-ITqBtAi0QUNdL3Dczgc5ORvjDgcwfzOWe_wpCUj2m_tBe0_7HSOHu_yGAZOzvz-tgmlkgnY0gmlwhKwRAA-CcnODAAMAiXNlY3AyNTZrMaEDf6tIBSP0y6FqVmEs8wo4pISjduTaV0M9t2TCz9fStuqDdGNwgoqNg3VkcIKKj4V3YWt1MgE","listenAddresses":["/ip4/127.0.0.1/tcp/35469/p2p/16Uiu2HAmMFMcMNCLfKNcw81oCuafZn8cd9juNPR23KtVbwTBBjvH","/ip4/127.0.0.1/tcp/35470/ws/p2p/16Uiu2HAmMFMcMNCLfKNcw81oCuafZn8cd9juNPR23KtVbwTBBjvH","/ip4/172.17.0.15/tcp/35469/p2p/16Uiu2HAmMFMcMNCLfKNcw81oCuafZn8cd9juNPR23KtVbwTBBjvH","/ip4/172.17.0.15/tcp/35470/ws/p2p/16Uiu2HAmMFMcMNCLfKNcw81oCuafZn8cd9juNPR23KtVbwTBBjvH"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35468/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.189.11/tcp/5997/p2p/16Uiu2HAmMgBUCwhLS6KeMg1fHVJ7r58HJNmhXSTbjCFh4Cm8WbVt", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-12-11_03-24-29__b91d718a-fd45-4756-8aff-7bd26f77cde6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.111.81
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['38633', '38634', '38635', '38636', '38637']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 38633:38633 -p 38634:38634 -p 38635:38635 -p 38636:38636 -p 38637:38637 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=38635 --rest-port=38633 --tcp-port=38634 --discv5-udp-port=38636 --rest-address=0.0.0.0 --nat=extip:172.18.111.81 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b9df9c45da6e9fed6cba026cddc79d2534d2553cbb2d1823ffe947d825df02cb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=38637 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QFheYU3XpPuHb33hSvZntDcQ5cYvKCLURgUZ1rKlT97CaXy59XvyvYRMjFaZNRBQv0ED4aqKaj8dWJAuyzKQx3cCgmlkgnY0gmlwhKwSvQuKbXVsdGlhZGRyc5YACASsEr0LBhdtAAoErBK9CwYXbt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDhgdV8lmSl73ZOO6VEUvZAuNb6V-Z6oID2Y4OKGZVwwuDdGNwghdtg3VkcIIXb4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.111.81 waku 87172c3d57aedbe39163cec3f0f42ea11fea99db01951acd4aaba6fc6f652c13
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 87172c3d57ae. Setting up logs at ./log/docker/node5_2024-12-11_03-24-29__b91d718a-fd45-4756-8aff-7bd26f77cde6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 38633
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38633/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38633/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.111.81/tcp/38634/p2p/16Uiu2HAmK15jCkEJySPDvBaFetaenkxWSMMNMR7J2a2jDGDQ5tvL","/ip4/172.18.111.81/tcp/38635/ws/p2p/16Uiu2HAmK15jCkEJySPDvBaFetaenkxWSMMNMR7J2a2jDGDQ5tvL"],"enrUri":"enr:-L24QJteJqRs5ryzZ7NCgGK07-6nMvKd0QrCaf1NouyZMRMFWBRdOhCJ82iG-q14lJP1xkbrtIDLNJqCEFivfcQAWtACgmlkgnY0gmlwhKwSb1GKbXVsdGlhZGRyc5YACASsEm9RBpbqAAoErBJvUQaW690DgnJzhQADAQAAiXNlY3AyNTZrMaEDXkvRhnQ5WTkf1TpoFeljFVVfbGKrkgV_HSfXPh9J3pGDdGNwgpbqg3VkcIKW7IV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38633/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.189.11/tcp/5997/p2p/16Uiu2HAmMgBUCwhLS6KeMg1fHVJ7r58HJNmhXSTbjCFh4Cm8WbVt"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5996/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24804/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50347/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35468/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38633/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5996/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5996/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733887478798558976,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24804/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733887478798558976,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50347/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733887478798558976,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35468/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733887478798558976,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38633/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733887478798558976,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5996/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5996/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733887478937202432,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24804/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733887478937202432,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50347/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733887478937202432,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35468/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733887478937202432,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38633/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733887478937202432,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 7c119540b197
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id a9455fce7add
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 7c119540b197. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 7edf47759900
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container a9455fce7add. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 64e8a62e7191
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 87172c3d57ae
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 7edf47759900. Exiting log stream.
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 64e8a62e7191. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.