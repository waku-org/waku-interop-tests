[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-12-20_03-10-56__fa8ee652-a0e6-469c-9c44-c407337eee94
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-20_03-10-56__fa8ee652-a0e6-469c-9c44-c407337eee94__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.223.142
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['50341', '50342', '50343', '50344', '50345']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 50341:50341 -p 50342:50342 -p 50343:50343 -p 50344:50344 -p 50345:50345 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=50343 --rest-port=50341 --tcp-port=50342 --discv5-udp-port=50344 --rest-address=0.0.0.0 --nat=extip:172.18.223.142 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e9bda91fc9a2ca1bfe09c9a53a6fdc7db956668f73eaf1d6a1da90cebbe71171 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=50345 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.223.142 waku 019ba8e6b3a9d2f30e8850f139de28b2c2608d87b813ce45184608b3f12156f5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 019ba8e6b3a9. Setting up logs at ./log/docker/node1_2024-12-20_03-10-56__fa8ee652-a0e6-469c-9c44-c407337eee94__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 50341
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 7f24bdd8a422. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50341/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50341/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.223.142/tcp/50342/p2p/16Uiu2HAmRwmiR7mBF4B9pKESGxR11daoAunvgsPmhoiSQ6JE62Bj","/ip4/172.18.223.142/tcp/50343/ws/p2p/16Uiu2HAmRwmiR7mBF4B9pKESGxR11daoAunvgsPmhoiSQ6JE62Bj"],"enrUri":"enr:-L24QAG_GgpgNhJp-ca0MBTdBhI-OhL1Wwz10MPelXJ869oHGFl1sJwKSEfbuJ5Izkdx4TJNvbmvXAOh_Ervmgeq1NwCgmlkgnY0gmlwhKwS346KbXVsdGlhZGRyc5YACASsEt-OBsSmAAoErBLfjgbEp90DgnJzhQADAQAAiXNlY3AyNTZrMaEDxXSEOjsMnBRpe0rkw5HXHtQMtKmW-gdgA1fq0a4m14qDdGNwgsSmg3VkcILEqIV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-20_03-10-56__fa8ee652-a0e6-469c-9c44-c407337eee94__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.64.41
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['48071', '48072', '48073', '48074', '48075']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 48071:48071 -p 48072:48072 -p 48073:48073 -p 48074:48074 -p 48075:48075 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=48073 --rest-port=48071 --tcp-port=48072 --discv5-udp-port=48074 --rest-address=0.0.0.0 --nat=extip:172.18.64.41 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=da53b68e6fa6fb1ddd6b44d5753e2fa7cfe36184c4abab2d98d9ccb458b28fde --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QAG_GgpgNhJp-ca0MBTdBhI-OhL1Wwz10MPelXJ869oHGFl1sJwKSEfbuJ5Izkdx4TJNvbmvXAOh_Ervmgeq1NwCgmlkgnY0gmlwhKwS346KbXVsdGlhZGRyc5YACASsEt-OBsSmAAoErBLfjgbEp90DgnJzhQADAQAAiXNlY3AyNTZrMaEDxXSEOjsMnBRpe0rkw5HXHtQMtKmW-gdgA1fq0a4m14qDdGNwgsSmg3VkcILEqIV3YWt1MgU --filternode=/ip4/172.18.223.142/tcp/50342/p2p/16Uiu2HAmRwmiR7mBF4B9pKESGxR11daoAunvgsPmhoiSQ6JE62Bj --pubsub-topic=/waku/2/rs/3/1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.64.41 waku efd765a1461a266416b613d67a1bc950a10fd2b3ee3756798c607a6cc31933e2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID efd765a1461a. Setting up logs at ./log/docker/node2_2024-12-20_03-10-56__fa8ee652-a0e6-469c-9c44-c407337eee94__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 48071
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48071/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QID9Nd8YenQCXaBJwP18m1OUArLHe0gPOxYMq1AcoT9rS_kty4m90vLdKx6dVECf6UZvgxmLP68QrFDS_ecUp7qGAZPiDAJHgmlkgnY0gmlwhKwRAAyCcnOFAAMBAAGJc2VjcDI1NmsxoQME8Vs-7o-1U8BkvfUByOlIrNJc6zdJdTploN50oQsAdYN0Y3CCu8iDdWRwgrvKhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/48072/p2p/16Uiu2HAmCzHSNb6A9MBfXYNivfyRBrDEP8Vsie46zPQUVQcDdUap","/ip4/127.0.0.1/tcp/48073/ws/p2p/16Uiu2HAmCzHSNb6A9MBfXYNivfyRBrDEP8Vsie46zPQUVQcDdUap","/ip4/172.17.0.12/tcp/48072/p2p/16Uiu2HAmCzHSNb6A9MBfXYNivfyRBrDEP8Vsie46zPQUVQcDdUap","/ip4/172.17.0.12/tcp/48073/ws/p2p/16Uiu2HAmCzHSNb6A9MBfXYNivfyRBrDEP8Vsie46zPQUVQcDdUap"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48071/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.223.142/tcp/50342/p2p/16Uiu2HAmRwmiR7mBF4B9pKESGxR11daoAunvgsPmhoiSQ6JE62Bj", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-12-20_03-10-56__fa8ee652-a0e6-469c-9c44-c407337eee94__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.128.63
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['46332', '46333', '46334', '46335', '46336']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 46332:46332 -p 46333:46333 -p 46334:46334 -p 46335:46335 -p 46336:46336 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=46334 --rest-port=46332 --tcp-port=46333 --discv5-udp-port=46335 --rest-address=0.0.0.0 --nat=extip:172.18.128.63 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cce6b9a3da1dad26ceb3cdf3ccea6b85a26d2894b748ad5c5cee2a01da3e3cc2 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=46336 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QAG_GgpgNhJp-ca0MBTdBhI-OhL1Wwz10MPelXJ869oHGFl1sJwKSEfbuJ5Izkdx4TJNvbmvXAOh_Ervmgeq1NwCgmlkgnY0gmlwhKwS346KbXVsdGlhZGRyc5YACASsEt-OBsSmAAoErBLfjgbEp90DgnJzhQADAQAAiXNlY3AyNTZrMaEDxXSEOjsMnBRpe0rkw5HXHtQMtKmW-gdgA1fq0a4m14qDdGNwgsSmg3VkcILEqIV3YWt1MgU --filternode=/ip4/172.18.223.142/tcp/50342/p2p/16Uiu2HAmRwmiR7mBF4B9pKESGxR11daoAunvgsPmhoiSQ6JE62Bj
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.46.90
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['60247', '60248', '60249', '60250', '60251']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 60247:60247 -p 60248:60248 -p 60249:60249 -p 60250:60250 -p 60251:60251 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=60249 --rest-port=60247 --tcp-port=60248 --discv5-udp-port=60250 --rest-address=0.0.0.0 --nat=extip:172.18.46.90 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8b57b28f1ef97fcaf971ff2e2aa5a67deda3bc51f4fea68efdc2acfbfdc7beed --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=60251 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QAG_GgpgNhJp-ca0MBTdBhI-OhL1Wwz10MPelXJ869oHGFl1sJwKSEfbuJ5Izkdx4TJNvbmvXAOh_Ervmgeq1NwCgmlkgnY0gmlwhKwS346KbXVsdGlhZGRyc5YACASsEt-OBsSmAAoErBLfjgbEp90DgnJzhQADAQAAiXNlY3AyNTZrMaEDxXSEOjsMnBRpe0rkw5HXHtQMtKmW-gdgA1fq0a4m14qDdGNwgsSmg3VkcILEqIV3YWt1MgU --filternode=/ip4/172.18.223.142/tcp/50342/p2p/16Uiu2HAmRwmiR7mBF4B9pKESGxR11daoAunvgsPmhoiSQ6JE62Bj
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.46.90 waku b058a05cc8a0f4a9c67584702ecfd50c6dbe815e6d079aa6f876ad775f940122
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID b058a05cc8a0. Setting up logs at ./log/docker/node3_2024-12-20_03-10-56__fa8ee652-a0e6-469c-9c44-c407337eee94__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 60247
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60247/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60247/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.46.90/tcp/60248/p2p/16Uiu2HAm8hLCT7RrtSLPT33WbRFiraQ835E36aMmSdmGP6qcJZJZ","/ip4/172.18.46.90/tcp/60249/ws/p2p/16Uiu2HAm8hLCT7RrtSLPT33WbRFiraQ835E36aMmSdmGP6qcJZJZ"],"enrUri":"enr:-L24QFLNOoVy1dV6A9rn1fnIa8s5sbClBL2ZYuBDGd8TcKrkEf3FeWXYBzW8guTQFi_D6s_MTxK8li7PH4LIVwVL4DoCgmlkgnY0gmlwhKwSLlqKbXVsdGlhZGRyc5YACASsEi5aButYAAoErBIuWgbrWd0DgnJzhQADAQAAiXNlY3AyNTZrMaECxSrbDVG48qM3RsGYtt4KdBD8uWTeKn0MeYW3yDrDwZKDdGNwgutYg3VkcILrWoV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60247/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.223.142/tcp/50342/p2p/16Uiu2HAmRwmiR7mBF4B9pKESGxR11daoAunvgsPmhoiSQ6JE62Bj"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-12-20_03-10-56__fa8ee652-a0e6-469c-9c44-c407337eee94__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.193.206
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['44327', '44328', '44329', '44330', '44331']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 44327:44327 -p 44328:44328 -p 44329:44329 -p 44330:44330 -p 44331:44331 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=44329 --rest-port=44327 --tcp-port=44328 --discv5-udp-port=44330 --rest-address=0.0.0.0 --nat=extip:172.18.193.206 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e05fc561ebb8eaf4023deff1fd0e02d9c962958dc7c7ecbbc9a4b8afe3acc81b --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QAG_GgpgNhJp-ca0MBTdBhI-OhL1Wwz10MPelXJ869oHGFl1sJwKSEfbuJ5Izkdx4TJNvbmvXAOh_Ervmgeq1NwCgmlkgnY0gmlwhKwS346KbXVsdGlhZGRyc5YACASsEt-OBsSmAAoErBLfjgbEp90DgnJzhQADAQAAiXNlY3AyNTZrMaEDxXSEOjsMnBRpe0rkw5HXHtQMtKmW-gdgA1fq0a4m14qDdGNwgsSmg3VkcILEqIV3YWt1MgU --filternode=/ip4/172.18.223.142/tcp/50342/p2p/16Uiu2HAmRwmiR7mBF4B9pKESGxR11daoAunvgsPmhoiSQ6JE62Bj --pubsub-topic=/waku/2/rs/3/1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.193.206 waku 527ce33e495db21fd8363b393682a24afdc21d29e2c9ac31a2a1c44de8be5893
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 527ce33e495d. Setting up logs at ./log/docker/node4_2024-12-20_03-10-56__fa8ee652-a0e6-469c-9c44-c407337eee94__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 44327
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44327/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QDH9NDxUZ4bOQTo1q4vdcu36qIs_RW1PxLwqA7000wttSnBC27lYvsRgCn9mKMkoSt3LBNbKN8Yx2NkOzVw0qQyGAZPiDBAbgmlkgnY0gmlwhKwRABGCcnOFAAMBAAGJc2VjcDI1NmsxoQLcfg-CaJAiyLsIm3XTXjba4eJX15FIjgn9s1aw1ix5LoN0Y3CCrSiDdWRwgq0qhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/44328/p2p/16Uiu2HAmAGPAMekGZYPYrBEwcA8WQ3eh6Tov5ADVhARvjEwkR9ad","/ip4/127.0.0.1/tcp/44329/ws/p2p/16Uiu2HAmAGPAMekGZYPYrBEwcA8WQ3eh6Tov5ADVhARvjEwkR9ad","/ip4/172.17.0.17/tcp/44328/p2p/16Uiu2HAmAGPAMekGZYPYrBEwcA8WQ3eh6Tov5ADVhARvjEwkR9ad","/ip4/172.17.0.17/tcp/44329/ws/p2p/16Uiu2HAmAGPAMekGZYPYrBEwcA8WQ3eh6Tov5ADVhARvjEwkR9ad"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44327/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.223.142/tcp/50342/p2p/16Uiu2HAmRwmiR7mBF4B9pKESGxR11daoAunvgsPmhoiSQ6JE62Bj", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-12-20_03-10-56__fa8ee652-a0e6-469c-9c44-c407337eee94__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.164.224
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['57896', '57897', '57898', '57899', '57900']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 57896:57896 -p 57897:57897 -p 57898:57898 -p 57899:57899 -p 57900:57900 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=57898 --rest-port=57896 --tcp-port=57897 --discv5-udp-port=57899 --rest-address=0.0.0.0 --nat=extip:172.18.164.224 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fd16cd77ce7b96b357551ed1aac109f4a340cf4a2c967c0d9edf1613831f38d9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=57900 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QAG_GgpgNhJp-ca0MBTdBhI-OhL1Wwz10MPelXJ869oHGFl1sJwKSEfbuJ5Izkdx4TJNvbmvXAOh_Ervmgeq1NwCgmlkgnY0gmlwhKwS346KbXVsdGlhZGRyc5YACASsEt-OBsSmAAoErBLfjgbEp90DgnJzhQADAQAAiXNlY3AyNTZrMaEDxXSEOjsMnBRpe0rkw5HXHtQMtKmW-gdgA1fq0a4m14qDdGNwgsSmg3VkcILEqIV3YWt1MgU --filternode=/ip4/172.18.223.142/tcp/50342/p2p/16Uiu2HAmRwmiR7mBF4B9pKESGxR11daoAunvgsPmhoiSQ6JE62Bj
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.164.224 waku 52cba34e3cea981461e2beeac7b03affce90bde2d76209b9ab7bc10a89302fa7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 52cba34e3cea. Setting up logs at ./log/docker/node5_2024-12-20_03-10-56__fa8ee652-a0e6-469c-9c44-c407337eee94__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 57896
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57896/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57896/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.164.224/tcp/57897/p2p/16Uiu2HAmVPULSzSMca31HpvGcyqqhHp4F5cNHwidiG2vTejsfZBq","/ip4/172.18.164.224/tcp/57898/ws/p2p/16Uiu2HAmVPULSzSMca31HpvGcyqqhHp4F5cNHwidiG2vTejsfZBq"],"enrUri":"enr:-L24QBlrRGQi0zs-AoohUBpDMWwf0R4TUYHK-LFhWZaXpf6PNHh9bFS1ADWzw8uyT6UgOylXARwUTfquVphoMoUvF5QCgmlkgnY0gmlwhKwSpOCKbXVsdGlhZGRyc5YACASsEqTgBuIpAAoErBKk4AbiKt0DgnJzhQADAQAAiXNlY3AyNTZrMaED-J0HMi62TCo5vB3IShjaAxYzh1A5ACQ4TJE5rXfxbYSDdGNwguIpg3VkcILiK4V3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57896/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.223.142/tcp/50342/p2p/16Uiu2HAmRwmiR7mBF4B9pKESGxR11daoAunvgsPmhoiSQ6JE62Bj"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50341/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48071/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "4578e669-1472-4623-bce2-904c43610370", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"4578e669-1472-4623-bce2-904c43610370","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60247/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "bb0fc836-d1ae-4f73-855d-4bb0e3f8687d", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"bb0fc836-d1ae-4f73-855d-4bb0e3f8687d","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44327/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "e1b7b089-ee3e-44fe-8c47-9bcfb941ed2a", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"e1b7b089-ee3e-44fe-8c47-9bcfb941ed2a","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57896/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "a314e09e-d20e-4115-a5cb-b7c4c84895a7", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"a314e09e-d20e-4115-a5cb-b7c4c84895a7","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50341/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48071/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1734664264538727424,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50341/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60247/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:60247/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 019ba8e6b3a9
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id efd765a1461a
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 019ba8e6b3a9. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id b058a05cc8a0
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container efd765a1461a. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 527ce33e495d
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container b058a05cc8a0. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 52cba34e3cea
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 527ce33e495d. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.