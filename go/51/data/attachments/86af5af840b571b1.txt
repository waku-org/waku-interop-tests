[35mDEBUG   [0m tests.conftest:conftest.py:43 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:49 Running test: test_filter_unsubscribe_with_content_topic_string_instead_of_list with id: 2024-03-22_13-08-52__b3369440-fcd9-497c-a998-abe6e5d4f02a
[35mDEBUG   [0m src.steps.filter:filter.py:27 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:33 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:50 WakuNode instance initialized with log path ./log/docker/node1_2024-03-22_13-08-52__b3369440-fcd9-497c-a998-abe6e5d4f02a__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:54 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.41.192
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['4541', '4542', '4543', '4544', '4545']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:279 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:115 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 4541:4541 -p 4542:4542 -p 4543:4543 -p 4544:4544 -p 4545:4545 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=4543 --rest-port=4541 --tcp-port=4542 --discv5-udp-port=4544 --rest-address=0.0.0.0 --nat=extip:172.18.41.192 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=4545 --metrics-logging=true --relay=true --filter=true --nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.41.192 waku 1fa35d4d5fba8172735a5190fbffa0c5a7b6123f0c0a0599c4f6cec9ca4a402e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 1fa35d4d5fba. Setting up logs at ./log/docker/node1_2024-03-22_13-08-52__b3369440-fcd9-497c-a998-abe6e5d4f02a__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:121 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 4541
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X GET "http://127.0.0.1:4541/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:23 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.41.192/tcp/4542/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","/ip4/172.18.41.192/tcp/4543/ws/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"],"enrUri":"enr:-LO4QAURoA6QHetyiYrmLRnn2947nIvCVQKNvNEzIOHcUaeYK1vSYvMd2eps0MlR8_-ZY1KWzcgJYtv1dUohJ_cat_8BgmlkgnY0gmlwhKwSKcCKbXVsdGlhZGRyc4wACgSsEinABhG_3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCEb6DdWRwghHAhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:191 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:38 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:50 WakuNode instance initialized with log path ./log/docker/node2_2024-03-22_13-08-52__b3369440-fcd9-497c-a998-abe6e5d4f02a__harbor.status.im_wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:54 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.9.237
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['27278', '27279', '27280', '27281', '27282']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:279 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:115 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 27278:27278 -p 27279:27279 -p 27280:27280 -p 27281:27281 -p 27282:27282 harbor.status.im/wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=27280 --rest-port=27278 --tcp-port=27279 --discv5-udp-port=27281 --rest-address=0.0.0.0 --nat=extip:172.18.9.237 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --relay=false --discv5-bootstrap-node=enr:-LO4QAURoA6QHetyiYrmLRnn2947nIvCVQKNvNEzIOHcUaeYK1vSYvMd2eps0MlR8_-ZY1KWzcgJYtv1dUohJ_cat_8BgmlkgnY0gmlwhKwSKcCKbXVsdGlhZGRyc4wACgSsEinABhG_3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCEb6DdWRwghHAhXdha3UyBQ --filternode=/ip4/172.18.41.192/tcp/4542/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.9.237 waku 878f0fa6f536d017bd53a158d1fa6d04a1cd111635db88362176b7bf13c83e45
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 878f0fa6f536. Setting up logs at ./log/docker/node2_2024-03-22_13-08-52__b3369440-fcd9-497c-a998-abe6e5d4f02a__harbor.status.im_wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:121 Started container from image harbor.status.im/wakuorg/go-waku:latest. REST: 27278
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X GET "http://127.0.0.1:27278/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:23 Response status code: 200. Response content: b'{"enrUri":"enr:-Ly4QK84lCYuL8TCF5CQYN2b2bYCUZc1BC4ylnYoyM7KSFrWZGDcyIwF9gERCxJpRF73GCiYOp_p1UUXTkADNI3lpGqGAY5mR1KLgmlkgnY0gmlwhKwRAASKbXVsdGlhZGRyc5gACgSsEQAEBmqQ3QMACgR_AAABBmqQ3QOJc2VjcDI1NmsxoQJ-N3FyLo0h12FLeM6EMriToQNYMWjNAR2ptSH2OcfjKoN0Y3CCao-DdWRwgmqRhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/27279/p2p/16Uiu2HAm3vNPESDXR7KKjuuBSdY4WogPvmkCvH8VB8LsG3YgeUWu","/ip4/127.0.0.1/tcp/27280/ws/p2p/16Uiu2HAm3vNPESDXR7KKjuuBSdY4WogPvmkCvH8VB8LsG3YgeUWu","/ip4/172.17.0.4/tcp/27279/p2p/16Uiu2HAm3vNPESDXR7KKjuuBSdY4WogPvmkCvH8VB8LsG3YgeUWu","/ip4/172.17.0.4/tcp/27280/ws/p2p/16Uiu2HAm3vNPESDXR7KKjuuBSdY4WogPvmkCvH8VB8LsG3YgeUWu"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:191 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:45 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X POST "http://127.0.0.1:4541/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/0/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:23 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X POST "http://127.0.0.1:27278/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "e046965c-1110-4bf5-a7e1-5f3c6b465a4e", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:23 Response status code: 200. Response content: b'{"requestId":"e046965c-1110-4bf5-a7e1-5f3c6b465a4e","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X DELETE "http://127.0.0.1:27278/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": "/test/1/waku-filter/proto", "pubsubTopic": "/waku/2/rs/0/1"}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:17 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:27278/filter/v2/subscriptions. Response content: b''
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:75 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:168 Stopping container with id 1fa35d4d5fba
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:168 Stopping container with id 878f0fa6f536
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Container stopped.