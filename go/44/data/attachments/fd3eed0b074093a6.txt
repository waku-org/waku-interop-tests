[35mDEBUG   [0m tests.conftest:conftest.py:43 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:49 Running test: test_filter_subscribe_with_extra_field with id: 2024-03-16_03-11-25__900c55da-0203-4c26-a9ad-b7bb5f8b50c5
[35mDEBUG   [0m src.steps.filter:filter.py:27 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:33 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:50 WakuNode instance initialized with log path ./log/docker/node1_2024-03-16_03-11-25__900c55da-0203-4c26-a9ad-b7bb5f8b50c5__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:54 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.251.123
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['37366', '37367', '37368', '37369', '37370']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:279 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:115 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 37366:37366 -p 37367:37367 -p 37368:37368 -p 37369:37369 -p 37370:37370 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=37368 --rest-port=37366 --tcp-port=37367 --discv5-udp-port=37369 --rest-address=0.0.0.0 --nat=extip:172.18.251.123 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=37370 --metrics-logging=true --relay=true --filter=true --nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68
[35mDEBUG   [0m src.node.waku_node:waku_node.py:54 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.58.82
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['1315', '1316', '1317', '1318', '1319']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:279 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:115 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 1315:1315 -p 1316:1316 -p 1317:1317 -p 1318:1318 -p 1319:1319 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=1317 --rest-port=1315 --tcp-port=1316 --discv5-udp-port=1318 --rest-address=0.0.0.0 --nat=extip:172.18.58.82 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=1319 --metrics-logging=true --relay=true --filter=true --nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.58.82 waku 2372a22215fff4990df17b546ce507a73f7e8c49feba64d88efb7425e3ac086b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 2372a22215ff. Setting up logs at ./log/docker/node1_2024-03-16_03-11-25__900c55da-0203-4c26-a9ad-b7bb5f8b50c5__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:121 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 1315
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X GET "http://127.0.0.1:1315/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:23 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.58.82/tcp/1316/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","/ip4/172.18.58.82/tcp/1317/ws/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"],"enrUri":"enr:-LO4QEhW3veo9dHw2irioCIKKIdSSeceXgUDu7OqM4Y5wgxlH_E_XQNhjJC_2vAS_tKxzFKcLAwxphPN83AeItgvoksBgmlkgnY0gmlwhKwSOlKKbXVsdGlhZGRyc4wACgSsEjpSBgUl3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCBSSDdWRwggUmhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:191 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:38 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:50 WakuNode instance initialized with log path ./log/docker/node2_2024-03-16_03-11-25__900c55da-0203-4c26-a9ad-b7bb5f8b50c5__harbor.status.im_wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:54 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.100.59
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['26785', '26786', '26787', '26788', '26789']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:279 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:115 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 26785:26785 -p 26786:26786 -p 26787:26787 -p 26788:26788 -p 26789:26789 harbor.status.im/wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=26787 --rest-port=26785 --tcp-port=26786 --discv5-udp-port=26788 --rest-address=0.0.0.0 --nat=extip:172.18.100.59 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --relay=false --discv5-bootstrap-node=enr:-LO4QEhW3veo9dHw2irioCIKKIdSSeceXgUDu7OqM4Y5wgxlH_E_XQNhjJC_2vAS_tKxzFKcLAwxphPN83AeItgvoksBgmlkgnY0gmlwhKwSOlKKbXVsdGlhZGRyc4wACgSsEjpSBgUl3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCBSSDdWRwggUmhXdha3UyBQ --filternode=/ip4/172.18.58.82/tcp/1316/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.100.59 waku d43c5f06d66955096067d5fd3b49dbb8c04de72b77021b39c67dfbf502814639
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID d43c5f06d669. Setting up logs at ./log/docker/node2_2024-03-16_03-11-25__900c55da-0203-4c26-a9ad-b7bb5f8b50c5__harbor.status.im_wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:121 Started container from image harbor.status.im/wakuorg/go-waku:latest. REST: 26785
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X GET "http://127.0.0.1:26785/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:23 Response status code: 200. Response content: b'{"enrUri":"enr:-Ly4QGN5aOXon3QsEZxtjDr7NqQ4FSFxihMSkXyHhAyBV579N5cXG3BLT4PoViDbRCmMJH8XYkcfHiQaHxC6bcOZsOqGAY5FPjXwgmlkgnY0gmlwhKwRAAaKbXVsdGlhZGRyc5gACgR_AAABBmij3QMACgSsEQAGBmij3QOJc2VjcDI1NmsxoQI-nR_TQ5Rq2lBU1E0VMnJsvqpcBBCxQ1ik2KD7KydB3YN0Y3CCaKKDdWRwgmikhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/26786/p2p/16Uiu2HAkye6DeKB4tZYJgdbPDgsJqCBd5pE2sWBQbZFdT4WoKE36","/ip4/127.0.0.1/tcp/26787/ws/p2p/16Uiu2HAkye6DeKB4tZYJgdbPDgsJqCBd5pE2sWBQbZFdT4WoKE36","/ip4/172.17.0.6/tcp/26786/p2p/16Uiu2HAkye6DeKB4tZYJgdbPDgsJqCBd5pE2sWBQbZFdT4WoKE36","/ip4/172.17.0.6/tcp/26787/ws/p2p/16Uiu2HAkye6DeKB4tZYJgdbPDgsJqCBd5pE2sWBQbZFdT4WoKE36"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:191 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:45 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X POST "http://127.0.0.1:1315/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/0/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:23 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X POST "http://127.0.0.1:26785/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "0b40a677-8aa3-49a2-972d-071b6f396ffd", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:23 Response status code: 200. Response content: b'{"requestId":"0b40a677-8aa3-49a2-972d-071b6f396ffd","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X POST "http://127.0.0.1:26785/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1", "extraField": "extraValue"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:23 Response status code: 200. Response content: b'{"requestId":"1","statusDesc":"OK"}'
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:75 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:168 Stopping container with id 2372a22215ff
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:168 Stopping container with id d43c5f06d669
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Container stopped.