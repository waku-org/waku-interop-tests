[35mDEBUG   [0m tests.conftest:conftest.py:43 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:49 Running test: test_filter_subscribe_with_no_request_id with id: 2024-03-16_03-13-35__d30a1af5-7153-4a6a-9dff-06eba5399295
[35mDEBUG   [0m src.steps.filter:filter.py:27 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:33 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:50 WakuNode instance initialized with log path ./log/docker/node1_2024-03-16_03-13-35__d30a1af5-7153-4a6a-9dff-06eba5399295__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:54 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.200.104
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['46312', '46313', '46314', '46315', '46316']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:279 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:115 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 46312:46312 -p 46313:46313 -p 46314:46314 -p 46315:46315 -p 46316:46316 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=46314 --rest-port=46312 --tcp-port=46313 --discv5-udp-port=46315 --rest-address=0.0.0.0 --nat=extip:172.18.200.104 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=46316 --metrics-logging=true --relay=true --filter=true --nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.200.104 waku 6687b82317fef6d02bc95c30c60980a4c0bd6960a3893af1afe362f58a79c02e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 6687b82317fe. Setting up logs at ./log/docker/node1_2024-03-16_03-13-35__d30a1af5-7153-4a6a-9dff-06eba5399295__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:121 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 46312
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X GET "http://127.0.0.1:46312/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:23 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.200.104/tcp/46313/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","/ip4/172.18.200.104/tcp/46314/ws/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"],"enrUri":"enr:-LO4QP8Xdw_BQlt5lU7xn0HW4AtZcBY2UxYs8BBziECIEOFSHwLEsPeEQqHi_4Wy_9QzXO6IKb0sbus0y4eiB1mJUR8BgmlkgnY0gmlwhKwSyGiKbXVsdGlhZGRyc4wACgSsEshoBrTq3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCtOmDdWRwgrTrhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:191 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:38 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:50 WakuNode instance initialized with log path ./log/docker/node2_2024-03-16_03-13-35__d30a1af5-7153-4a6a-9dff-06eba5399295__harbor.status.im_wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:54 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.198.8
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['63430', '63431', '63432', '63433', '63434']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:279 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:115 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 63430:63430 -p 63431:63431 -p 63432:63432 -p 63433:63433 -p 63434:63434 harbor.status.im/wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=63432 --rest-port=63430 --tcp-port=63431 --discv5-udp-port=63433 --rest-address=0.0.0.0 --nat=extip:172.18.198.8 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --relay=false --discv5-bootstrap-node=enr:-LO4QP8Xdw_BQlt5lU7xn0HW4AtZcBY2UxYs8BBziECIEOFSHwLEsPeEQqHi_4Wy_9QzXO6IKb0sbus0y4eiB1mJUR8BgmlkgnY0gmlwhKwSyGiKbXVsdGlhZGRyc4wACgSsEshoBrTq3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCtOmDdWRwgrTrhXdha3UyBQ --filternode=/ip4/172.18.200.104/tcp/46313/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.198.8 waku 1151c5b0fa298cac8967e56fc03ab12029d7ceda9b09f9ea67483413e15b9dbb
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 1151c5b0fa29. Setting up logs at ./log/docker/node2_2024-03-16_03-13-35__d30a1af5-7153-4a6a-9dff-06eba5399295__harbor.status.im_wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:121 Started container from image harbor.status.im/wakuorg/go-waku:latest. REST: 63430
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X GET "http://127.0.0.1:63430/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:23 Response status code: 200. Response content: b'{"enrUri":"enr:-Ly4QLTxCn4XW6U1AEXX5T7BK4etsw1NvFRQ75VV7nsOW4sySrZ-W9XQpQIphSWP18D4o9Fltoig72IsceU2yQldty6GAY5FQDDWgmlkgnY0gmlwhKwRAAOKbXVsdGlhZGRyc5gACgSsEQADBvfI3QMACgR_AAABBvfI3QOJc2VjcDI1NmsxoQMDpi0aMDkG6b1XI5vwdYs3r_6c3jjnxvoPr0sQzX-cQoN0Y3CC98eDdWRwgvfJhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/63431/p2p/16Uiu2HAmCuEYKRxB5CKwqYxh7bKLgTbqaa7hB93NthxagCgA7vfK","/ip4/127.0.0.1/tcp/63432/ws/p2p/16Uiu2HAmCuEYKRxB5CKwqYxh7bKLgTbqaa7hB93NthxagCgA7vfK","/ip4/172.17.0.3/tcp/63431/p2p/16Uiu2HAmCuEYKRxB5CKwqYxh7bKLgTbqaa7hB93NthxagCgA7vfK","/ip4/172.17.0.3/tcp/63432/ws/p2p/16Uiu2HAmCuEYKRxB5CKwqYxh7bKLgTbqaa7hB93NthxagCgA7vfK"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:191 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:45 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X POST "http://127.0.0.1:46312/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/0/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:23 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X POST "http://127.0.0.1:63430/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "01c38701-bab6-4af3-819c-44345ce2210d", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:23 Response status code: 200. Response content: b'{"requestId":"01c38701-bab6-4af3-819c-44345ce2210d","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X POST "http://127.0.0.1:63430/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:17 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:63430/filter/v2/subscriptions. Response content: b'{"requestId":"","statusDesc":"subscription failed"}'
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:75 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:168 Stopping container with id 6687b82317fe
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:168 Stopping container with id 1151c5b0fa29
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Container stopped.