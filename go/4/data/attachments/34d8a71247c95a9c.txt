[35mDEBUG   [0m tests.conftest:conftest.py:43 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:49 Running test: test_publish_after_node_pauses_and_pauses with id: 2024-02-12_03-15-34__19512079-8faf-4b2e-98e5-e2c3ff55bb56
[35mDEBUG   [0m src.steps.relay:relay.py:23 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:29 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:21 WakuNode instance initialized with log path ./log/docker/node1_2024-02-12_03-15-34__19512079-8faf-4b2e-98e5-e2c3ff55bb56__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:25 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated random external IP 172.18.97.17
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:66 Generated ports ['62899', '62900', '62901', '62902', '62903']
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:42 Starting container with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:43 Using args ['--listen-address=0.0.0.0', '--rest=true', '--rest-admin=true', '--websocket-support=true', '--log-level=TRACE', '--rest-relay-cache-capacity=100', '--websocket-port=62901', '--rest-port=62899', '--tcp-port=62900', '--discv5-udp-port=62902', '--rest-address=0.0.0.0', '--nat=extip:172.18.97.17', '--peer-exchange=true', '--discv5-discovery=true', '--cluster-id=0', '--metrics-server=true', '--metrics-server-address=0.0.0.0', '--metrics-server-port=62903', '--metrics-logging=true', '--relay=true', '--nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68']
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 Container started with ID 11ea7d1c9959. Setting up logs at ./log/docker/node1_2024-02-12_03-15-34__19512079-8faf-4b2e-98e5-e2c3ff55bb56__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:78 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 62899
[35mDEBUG   [0m src.libs.common:common.py:33 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:11 GET call: http://127.0.0.1:62899/debug/v1/info with payload: None
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.97.17/tcp/62900/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","/ip4/172.18.97.17/tcp/62901/ws/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"],"enrUri":"enr:-Kq4QPJ5u-veaVO0TKe4tZjc3o42_HMDtf715ztHkInsWiMETB99ZnaQ0Sqv-qtYgdCsvkphHCZna4MHL260-o7xYhEBgmlkgnY0gmlwhKwSYRGKbXVsdGlhZGRyc4wACgSsEmERBvW13QOJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CC9bSDdWRwgvW2hXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:113 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:21 WakuNode instance initialized with log path ./log/docker/node2_2024-02-12_03-15-34__19512079-8faf-4b2e-98e5-e2c3ff55bb56__harbor.status.im_wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:25 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated random external IP 172.18.230.90
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:66 Generated ports ['16281', '16282', '16283', '16284', '16285']
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:42 Starting container with image harbor.status.im/wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:43 Using args ['--listen-address=0.0.0.0', '--rest=true', '--rest-admin=true', '--websocket-support=true', '--log-level=DEBUG', '--rest-relay-cache-capacity=100', '--websocket-port=16283', '--rest-port=16281', '--tcp-port=16282', '--discv5-udp-port=16284', '--rest-address=0.0.0.0', '--nat=extip:172.18.230.90', '--peer-exchange=true', '--discv5-discovery=true', '--cluster-id=0', '--min-relay-peers-to-publish=1', '--legacy-filter=false', '--rest-filter-cache-capacity=50', '--relay=true', '--discv5-bootstrap-node=enr:-Kq4QPJ5u-veaVO0TKe4tZjc3o42_HMDtf715ztHkInsWiMETB99ZnaQ0Sqv-qtYgdCsvkphHCZna4MHL260-o7xYhEBgmlkgnY0gmlwhKwSYRGKbXVsdGlhZGRyc4wACgSsEmERBvW13QOJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CC9bSDdWRwgvW2hXdha3UyAQ']
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 Container started with ID 7ae0003160a7. Setting up logs at ./log/docker/node2_2024-02-12_03-15-34__19512079-8faf-4b2e-98e5-e2c3ff55bb56__harbor.status.im_wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:78 Started container from image harbor.status.im/wakuorg/go-waku:latest. REST: 16281
[35mDEBUG   [0m src.libs.common:common.py:33 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:11 GET call: http://127.0.0.1:16281/debug/v1/info with payload: None
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ly4QD1qetwHTW7lgpfL7hHWH2HVhY9Z2JNVtVfalb5wbLC_BqIBMTNkILbxk7bhIf-sn2qfHG6V3PmoNTzo2FPZH-aGAY2bUCUCgmlkgnY0gmlwhKwRAAaKbXVsdGlhZGRyc5gACgR_AAABBj-b3QMACgSsEQAGBj-b3QOJc2VjcDI1NmsxoQMEdyLKeYsuRDK9su3DGOyLKVWXNKgtZYS5gXCP_wnFe4N0Y3CCP5qDdWRwgj-chXdha3UyAQ","listenAddresses":["/ip4/127.0.0.1/tcp/16282/p2p/16Uiu2HAmCxRM1aGjG4gpE6CgWqjg8TzqbiGzuA7yZwSjyyrLzdaz","/ip4/127.0.0.1/tcp/16283/ws/p2p/16Uiu2HAmCxRM1aGjG4gpE6CgWqjg8TzqbiGzuA7yZwSjyyrLzdaz","/ip4/172.17.0.6/tcp/16282/p2p/16Uiu2HAmCxRM1aGjG4gpE6CgWqjg8TzqbiGzuA7yZwSjyyrLzdaz","/ip4/172.17.0.6/tcp/16283/ws/p2p/16Uiu2HAmCxRM1aGjG4gpE6CgWqjg8TzqbiGzuA7yZwSjyyrLzdaz"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:113 REST service is ready !!
[35mDEBUG   [0m src.steps.relay:relay.py:51 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:11 POST call: http://127.0.0.1:62899/relay/v1/subscriptions with payload: ["/waku/2/rs/0/1"]
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:11 POST call: http://127.0.0.1:16281/relay/v1/subscriptions with payload: ["/waku/2/rs/0/1"]
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:11 POST call: http://127.0.0.1:62899/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F1 with payload: {"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": 1707707738492838144}
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:33 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:83 Checking that peer NODE_1:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:11 GET call: http://127.0.0.1:62899/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F1 with payload: None
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1707707738492838144}]'
[35mDEBUG   [0m src.steps.relay:relay.py:83 Checking that peer NODE_2:harbor.status.im/wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:11 GET call: http://127.0.0.1:16281/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F1 with payload: None
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1707707738492838144}]'
[32mINFO    [0m src.steps.relay:relay.py:63 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:11 POST call: http://127.0.0.1:62899/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F1 with payload: {"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": 1707707738607619840}
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:33 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:83 Checking that peer NODE_1:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:11 GET call: http://127.0.0.1:62899/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F1 with payload: None
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1707707738607619840}]'
[35mDEBUG   [0m src.steps.relay:relay.py:83 Checking that peer NODE_2:harbor.status.im/wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:11 GET call: http://127.0.0.1:16281/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F1 with payload: None
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1707707738607619840}]'
[35mDEBUG   [0m src.node.waku_node:waku_node.py:102 Pausing container with id 11ea7d1c9959
[35mDEBUG   [0m src.node.waku_node:waku_node.py:107 Unpause container with id 11ea7d1c9959
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:11 POST call: http://127.0.0.1:62899/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F1 with payload: {"payload": "TTE=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": 1707707738739232000}
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:33 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:83 Checking that peer NODE_1:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:11 GET call: http://127.0.0.1:62899/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F1 with payload: None
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TTE=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1707707738739232000}]'
[35mDEBUG   [0m src.steps.relay:relay.py:83 Checking that peer NODE_2:harbor.status.im/wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:11 GET call: http://127.0.0.1:16281/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F1 with payload: None
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TTE=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1707707738739232000}]'
[35mDEBUG   [0m src.node.waku_node:waku_node.py:102 Pausing container with id 7ae0003160a7
[35mDEBUG   [0m src.node.waku_node:waku_node.py:107 Unpause container with id 7ae0003160a7
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:11 POST call: http://127.0.0.1:62899/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F1 with payload: {"payload": "TTI=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": 1707707738872340224}
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:33 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:83 Checking that peer NODE_1:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:11 GET call: http://127.0.0.1:62899/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F1 with payload: None
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TTI=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1707707738872340224}]'
[35mDEBUG   [0m src.steps.relay:relay.py:83 Checking that peer NODE_2:harbor.status.im/wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:11 GET call: http://127.0.0.1:16281/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F1 with payload: None
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TTI=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1707707738872340224}]'
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:75 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:90 Stopping container with id 11ea7d1c9959
[35mDEBUG   [0m src.node.waku_node:waku_node.py:93 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:90 Stopping container with id 7ae0003160a7
[35mDEBUG   [0m src.node.waku_node:waku_node.py:93 Container stopped.