{"uid":"9e8de1821a1fcc1a","name":"test_message_light_pushed_on_different_pubsub_topic_is_not_retrieved","fullName":"tests.light_push.test_publish.TestLightPushPublish#test_message_light_pushed_on_different_pubsub_topic_is_not_retrieved","historyId":"88c874acd5852c43d37fbe8b7f7a0144","time":{"start":1722741388411,"stop":1722741388421,"duration":10},"status":"broken","statusMessage":"Exception: Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:2150/lightpush/v1/message with response: b'lightpush errorLightpush request has not been published to any peers. msg_hash: 0x15e1334c23db95d711daae3d7d9941fe1e33106ed5db532815acfbc966c20625'","statusTrace":"src/node/api_clients/base_client.py:14: in make_request\n    response.raise_for_status()\n/opt/hostedtoolcache/Python/3.12.4/x64/lib/python3.12/site-packages/requests/models.py:1021: in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\nE   requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: http://127.0.0.1:2150/lightpush/v1/message\n\nDuring handling of the above exception, another exception occurred:\ntests/light_push/test_publish.py:124: in test_message_light_pushed_on_different_pubsub_topic_is_not_retrieved\n    self.light_push_node1.send_light_push_message(payload)\nsrc/node/waku_node.py:338: in send_light_push_message\n    return self._api.send_light_push_message(payload)\nsrc/node/api_clients/rest.py:57: in send_light_push_message\n    return self.rest_call(\"post\", \"lightpush/v1/message\", json.dumps(payload))\nsrc/node/api_clients/rest.py:16: in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\nsrc/node/api_clients/base_client.py:17: in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\nE   Exception: Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:2150/lightpush/v1/message with response: b'lightpush errorLightpush request has not been published to any peers. msg_hash: 0x15e1334c23db95d711daae3d7d9941fe1e33106ed5db532815acfbc966c20625'","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":2,"retriesStatusChange":false,"beforeStages":[{"name":"set_allure_env_variables","time":{"start":1722741054577,"stop":1722741054577,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_setup","time":{"start":1722741385458,"stop":1722741385459,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_id","time":{"start":1722741385458,"stop":1722741385458,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes","time":{"start":1722741385458,"stop":1722741385458,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail","time":{"start":1722741385458,"stop":1722741385458,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"light_push_publish_setup","time":{"start":1722741385459,"stop":1722741388411,"duration":2952},"status":"passed","steps":[{"name":"setup_first_receiving_node","time":{"start":1722741385459,"stop":1722741386907,"duration":1448},"status":"passed","steps":[{"name":"start_receiving_node","time":{"start":1722741385459,"stop":1722741386907,"duration":1448},"status":"passed","steps":[{"name":"add_node_peer","time":{"start":1722741386907,"stop":1722741386907,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.light_push.test_publish.TestLightPushPublish object at 0x7f9ee58fd970>, <src.node.waku_node.WakuNode object at 0x7f9ee5006330>, [])"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"image","value":"'wakuorg/nwaku:latest'"},{"name":"node_index","value":"1"},{"name":"lightpush","value":"'true'"},{"name":"relay","value":"'true'"},{"name":"nodekey","value":"'30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68'"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"lightpush","value":"'true'"},{"name":"relay","value":"'true'"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"setup_first_lightpush_node","time":{"start":1722741386907,"stop":1722741388408,"duration":1501},"status":"passed","steps":[{"name":"setup_lightpush_node","time":{"start":1722741386907,"stop":1722741388408,"duration":1501},"status":"passed","steps":[{"name":"add_node_peer","time":{"start":1722741388406,"stop":1722741388408,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.light_push.test_publish.TestLightPushPublish object at 0x7f9ee58fd970>, <src.node.waku_node.WakuNode object at 0x7f9ee5006990>, ['/ip4/172.18.120.200/tcp/56456/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip'])"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"image","value":"'wakuorg/go-waku:latest'"},{"name":"node_index","value":"1"},{"name":"lightpush","value":"'true'"},{"name":"relay","value":"'false'"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"lightpush","value":"'true'"},{"name":"relay","value":"'false'"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"subscribe_to_pubsub_topics_via_relay","time":{"start":1722741388408,"stop":1722741388411,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"None"},{"name":"pubsub_topics","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":7,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"light_push_setup","time":{"start":1722741385459,"stop":1722741385459,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"common_setup","time":{"start":1722741385459,"stop":1722741385459,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"broken","statusMessage":"Exception: Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:2150/lightpush/v1/message with response: b'lightpush errorLightpush request has not been published to any peers. msg_hash: 0x15e1334c23db95d711daae3d7d9941fe1e33106ed5db532815acfbc966c20625'","statusTrace":"src/node/api_clients/base_client.py:14: in make_request\n    response.raise_for_status()\n/opt/hostedtoolcache/Python/3.12.4/x64/lib/python3.12/site-packages/requests/models.py:1021: in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\nE   requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: http://127.0.0.1:2150/lightpush/v1/message\n\nDuring handling of the above exception, another exception occurred:\ntests/light_push/test_publish.py:124: in test_message_light_pushed_on_different_pubsub_topic_is_not_retrieved\n    self.light_push_node1.send_light_push_message(payload)\nsrc/node/waku_node.py:338: in send_light_push_message\n    return self._api.send_light_push_message(payload)\nsrc/node/api_clients/rest.py:57: in send_light_push_message\n    return self.rest_call(\"post\", \"lightpush/v1/message\", json.dumps(payload))\nsrc/node/api_clients/rest.py:16: in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\nsrc/node/api_clients/base_client.py:17: in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\nE   Exception: Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:2150/lightpush/v1/message with response: b'lightpush errorLightpush request has not been published to any peers. msg_hash: 0x15e1334c23db95d711daae3d7d9941fe1e33106ed5db532815acfbc966c20625'","steps":[{"name":"subscribe_to_pubsub_topics_via_relay","time":{"start":1722741388411,"stop":1722741388415,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"None"},{"name":"pubsub_topics","value":"['/waku/2/rs/3/0', '/waku/2/rs/3/1', '/waku/2/rs/3/9', '/waku/2/rs/3/25', '/waku/2/rs/3/1000']"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"create_payload","time":{"start":1722741388415,"stop":1722741388415,"duration":0},"status":"passed","steps":[{"name":"create_message","time":{"start":1722741388415,"stop":1722741388415,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"pubsub_topic","value":"'/waku/2/rs/3/0'"},{"name":"message","value":"None"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"dd7af0dd4212cf36","name":"log","source":"dd7af0dd4212cf36.txt","type":"text/plain","size":32258}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":3,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"test_setup::0","time":{"start":1722741388468,"stop":1722741388470,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes::0","time":{"start":1722741388471,"stop":1722741392434,"duration":3963},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail::0","time":{"start":1722741392435,"stop":1722741392438,"duration":3},"status":"passed","steps":[],"attachments":[{"uid":"4af5bf8830ff7276","name":"receiving_node1_2024-08-04_03-16-25__72178b48-00f5-4453-9c9c-4154be4f08d5__wakuorg_nwaku:latest.log","source":"4af5bf8830ff7276.txt","type":"text/plain","size":103530},{"uid":"1f6a2965311f4b42","name":"lightpush_node1_2024-08-04_03-16-25__72178b48-00f5-4453-9c9c-4154be4f08d5__wakuorg_go-waku:latest.log","source":"1f6a2965311f4b42.txt","type":"text/plain","size":56377}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"set_allure_env_variables::0","time":{"start":1722742088113,"stop":1722742088113,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"tests.light_push"},{"name":"suite","value":"test_publish"},{"name":"subSuite","value":"TestLightPushPublish"},{"name":"host","value":"fv-az1536-134"},{"name":"thread","value":"2166-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.light_push.test_publish"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"dbed89b61b57a1b7","status":"broken","statusDetails":"Exception: Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:45042/lightpush/v1/message with response: b'lightpush errorLightpush request has not been published to any peers. msg_hash: 0xbd07ba302c32decc4b323b94935a3177f0874aa3e779a3aa329353d541da7bfc'","time":{"start":1722741381702,"stop":1722741381711,"duration":9}},{"uid":"73b947bf6cd8d19","status":"broken","statusDetails":"Exception: Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:58326/lightpush/v1/message with response: b'lightpush errorLightpush request has not been published to any peers. msg_hash: 0x7ad46c0680d2f181ba31fb86d4367dd2bedc89985edc937609afc8937272fee9'","time":{"start":1722741374613,"stop":1722741374620,"duration":7}}],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":7,"skipped":0,"passed":142,"unknown":0,"total":149},"items":[{"uid":"e3d8f223b9e2afa0","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/228//#testresult/e3d8f223b9e2afa0","status":"broken","statusDetails":"Exception: Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:2789/lightpush/v1/message with response: b'lightpush errorLightpush request has not been published to any peers. msg_hash: 0x7944b297eedefbe29fd216ebd28fabf65c7d639ff0407d90ae5c8214f01d5570'","time":{"start":1722654959489,"stop":1722654959505,"duration":16}},{"uid":"580a47ea5b2e54d6","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/227//#testresult/580a47ea5b2e54d6","status":"passed","time":{"start":1722568572888,"stop":1722568573000,"duration":112}},{"uid":"ffcba299400bc393","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/226//#testresult/ffcba299400bc393","status":"passed","time":{"start":1722482188302,"stop":1722482188417,"duration":115}},{"uid":"955df5f8ecd5a313","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/225//#testresult/955df5f8ecd5a313","status":"passed","time":{"start":1722395785826,"stop":1722395785937,"duration":111}},{"uid":"f08419f6fa718523","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/224//#testresult/f08419f6fa718523","status":"passed","time":{"start":1722309458952,"stop":1722309459062,"duration":110}},{"uid":"3b0f6616f7d095e1","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/223//#testresult/3b0f6616f7d095e1","status":"passed","time":{"start":1722251731272,"stop":1722251731386,"duration":114}},{"uid":"c4f195504fdcd5b7","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/221//#testresult/c4f195504fdcd5b7","status":"passed","time":{"start":1722136538791,"stop":1722136538905,"duration":114}},{"uid":"e05beecb75a06b6d","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/220//#testresult/e05beecb75a06b6d","status":"passed","time":{"start":1722050252521,"stop":1722050252633,"duration":112}},{"uid":"df3f336a3db6e212","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/219//#testresult/df3f336a3db6e212","status":"passed","time":{"start":1721963813421,"stop":1721963813534,"duration":113}},{"uid":"872f42c055f31205","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/218//#testresult/872f42c055f31205","status":"passed","time":{"start":1721877351282,"stop":1721877351403,"duration":121}},{"uid":"4f47f1b62d04a677","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/217//#testresult/4f47f1b62d04a677","status":"passed","time":{"start":1721790977308,"stop":1721790977419,"duration":111}},{"uid":"67bfa59d35786d8c","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/216//#testresult/67bfa59d35786d8c","status":"passed","time":{"start":1721704630142,"stop":1721704630253,"duration":111}},{"uid":"3c7a18452a5336e","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/215//#testresult/3c7a18452a5336e","status":"passed","time":{"start":1721633132996,"stop":1721633133108,"duration":112}},{"uid":"9f5f8642060fe083","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/214//#testresult/9f5f8642060fe083","status":"passed","time":{"start":1721618216725,"stop":1721618216836,"duration":111}},{"uid":"199f551c27a0f111","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/213//#testresult/199f551c27a0f111","status":"passed","time":{"start":1721531813344,"stop":1721531813461,"duration":117}},{"uid":"c2f36cdf959eab","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/212//#testresult/c2f36cdf959eab","status":"passed","time":{"start":1721445395264,"stop":1721445395381,"duration":117}},{"uid":"286fdbb9daa359e5","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/211//#testresult/286fdbb9daa359e5","status":"passed","time":{"start":1721359029127,"stop":1721359029241,"duration":114}},{"uid":"eb8f5ad591ef22ae","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/210//#testresult/eb8f5ad591ef22ae","status":"passed","time":{"start":1721290278598,"stop":1721290278714,"duration":116}},{"uid":"b6b79d3449ba5aaf","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/209//#testresult/b6b79d3449ba5aaf","status":"passed","time":{"start":1721272637225,"stop":1721272637338,"duration":113}},{"uid":"c98ec6d055179821","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/208//#testresult/c98ec6d055179821","status":"passed","time":{"start":1721186221347,"stop":1721186221462,"duration":115}}]},"tags":[]},"source":"9e8de1821a1fcc1a.json","parameterValues":[]}