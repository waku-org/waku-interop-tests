[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_multiple_lightpush_nodes with id: 2024-09-21_03-16-50__9f0087f1-f4dc-4d54-8834-687026f27042
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-09-21_03-16-50__9f0087f1-f4dc-4d54-8834-687026f27042__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.216.217
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['21680', '21681', '21682', '21683', '21684']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 21680:21680 -p 21681:21681 -p 21682:21682 -p 21683:21683 -p 21684:21684 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=21682 --rest-port=21680 --tcp-port=21681 --discv5-udp-port=21683 --rest-address=0.0.0.0 --nat=extip:172.18.216.217 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=636d47a8ef19eecddeed79dfee07c90ae2b9bdfbcdfab555f0d2f5ceed0dddad --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=21684 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.216.217 waku 87ef1e0ed09263e35a02d0162381a15ee889ee21bbe3e6aafe44ce528264c783
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 87ef1e0ed092. Setting up logs at ./log/docker/receiving_node1_2024-09-21_03-16-50__9f0087f1-f4dc-4d54-8834-687026f27042__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 21680
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21680/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21680/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.216.217/tcp/21681/p2p/16Uiu2HAmGWfLejwYc13nvrcMz5bJDS8dstaocPLESzapxyJ9nucs","/ip4/172.18.216.217/tcp/21682/ws/p2p/16Uiu2HAmGWfLejwYc13nvrcMz5bJDS8dstaocPLESzapxyJ9nucs"],"enrUri":"enr:-LO4QJjybOrZ3jsXB3FF-64Gr5rgemKVOgJR1Xnn8zZuIOMTbCUbWCZie03W6FmrIytLFKTv4h2GLI8dZGnSTcLpKigBgmlkgnY0gmlwhKwS2NmKbXVsdGlhZGRyc4wACgSsEtjZBlSy3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM5TJr8xXhRFlF8EKHEOAB5dKK8e5_h5BmogDnNSIcJGIN0Y3CCVLGDdWRwglSzhXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-09-21_03-16-50__9f0087f1-f4dc-4d54-8834-687026f27042__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.30.143
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['59152', '59153', '59154', '59155', '59156']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 59152:59152 -p 59153:59153 -p 59154:59154 -p 59155:59155 -p 59156:59156 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=59154 --rest-port=59152 --tcp-port=59153 --discv5-udp-port=59155 --rest-address=0.0.0.0 --nat=extip:172.18.30.143 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0aab7b6e0a40fc0f9be098fda1adde2df8daab438cbdecefb288c4aedef8dd1b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=59156 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.30.143 waku eea36130927b372eb28cb5f7fe1f8f34cd1e40eef093fe5a3878a43362b91944
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID eea36130927b. Setting up logs at ./log/docker/receiving_node2_2024-09-21_03-16-50__9f0087f1-f4dc-4d54-8834-687026f27042__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 59152
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59152/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59152/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.30.143/tcp/59153/p2p/16Uiu2HAmGv6yfa2MRPJwGRTieyHk7FqfwZErgSD288ZKycaMN1c8","/ip4/172.18.30.143/tcp/59154/ws/p2p/16Uiu2HAmGv6yfa2MRPJwGRTieyHk7FqfwZErgSD288ZKycaMN1c8"],"enrUri":"enr:-LO4QDpXQMgQQQJeYLc76fENNvSwfznUzvGCZitx3W9YQOEXCozZwTMCke5AAuOPcSEStIx_AKthZFu62VhFDqpYTAYBgmlkgnY0gmlwhKwSHo-KbXVsdGlhZGRyc4wACgSsEh6PBucS3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM_TfQFbslK83ovokeUFoz6xYxMGkRL-iP5BOPlElv43YN0Y3CC5xGDdWRwgucThXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59152/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.216.217/tcp/21681/p2p/16Uiu2HAmGWfLejwYc13nvrcMz5bJDS8dstaocPLESzapxyJ9nucs"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-09-21_03-16-50__9f0087f1-f4dc-4d54-8834-687026f27042__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.61.178
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['6981', '6982', '6983', '6984', '6985']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 6981:6981 -p 6982:6982 -p 6983:6983 -p 6984:6984 -p 6985:6985 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=6983 --rest-port=6981 --tcp-port=6982 --discv5-udp-port=6984 --rest-address=0.0.0.0 --nat=extip:172.18.61.178 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0a54be3a2fc92da65458194c03bae86544abeadf38b1dc1beef3bfc8b4d2282d --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-LO4QJjybOrZ3jsXB3FF-64Gr5rgemKVOgJR1Xnn8zZuIOMTbCUbWCZie03W6FmrIytLFKTv4h2GLI8dZGnSTcLpKigBgmlkgnY0gmlwhKwS2NmKbXVsdGlhZGRyc4wACgSsEtjZBlSy3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM5TJr8xXhRFlF8EKHEOAB5dKK8e5_h5BmogDnNSIcJGIN0Y3CCVLGDdWRwglSzhXdha3UyCQ --lightpushnode=/ip4/172.18.216.217/tcp/21681/p2p/16Uiu2HAmGWfLejwYc13nvrcMz5bJDS8dstaocPLESzapxyJ9nucs --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.61.178 waku 5446b8fe52a7a39d44d03241b7e4e2341edb7e144ed47cb685a79e65ce2aabdb
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 5446b8fe52a7. Setting up logs at ./log/docker/lightpush_node1_2024-09-21_03-16-50__9f0087f1-f4dc-4d54-8834-687026f27042__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 6981
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6981/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QLAVNXMybcbqGm0olrVn1ue0DbE6MKhQPfwbg-wJaALhdgH-AbeqSExQVixat87IGoCR9NJa90m-XNNxBvOqSTGGAZISlRkkgmlkgnY0gmlwhKwRAAeJc2VjcDI1NmsxoQK18DoDR5LcJzXqA6BFrcP8vDM5iv8LIW6uqOsc9PH8b4N0Y3CCG0aDdWRwghtIhXdha3UyCA","listenAddresses":["/ip4/127.0.0.1/tcp/6982/p2p/16Uiu2HAm7ftEM6rF8eVFMMuLNhrJEKEDdidNT4JNVB62q8T1VZoc","/ip4/127.0.0.1/tcp/6983/ws/p2p/16Uiu2HAm7ftEM6rF8eVFMMuLNhrJEKEDdidNT4JNVB62q8T1VZoc","/ip4/172.17.0.7/tcp/6982/p2p/16Uiu2HAm7ftEM6rF8eVFMMuLNhrJEKEDdidNT4JNVB62q8T1VZoc","/ip4/172.17.0.7/tcp/6983/ws/p2p/16Uiu2HAm7ftEM6rF8eVFMMuLNhrJEKEDdidNT4JNVB62q8T1VZoc"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6981/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.216.217/tcp/21681/p2p/16Uiu2HAmGWfLejwYc13nvrcMz5bJDS8dstaocPLESzapxyJ9nucs", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6981/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.30.143/tcp/59153/p2p/16Uiu2HAmGv6yfa2MRPJwGRTieyHk7FqfwZErgSD288ZKycaMN1c8", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node2_2024-09-21_03-16-50__9f0087f1-f4dc-4d54-8834-687026f27042__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.221.198
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['52381', '52382', '52383', '52384', '52385']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 52381:52381 -p 52382:52382 -p 52383:52383 -p 52384:52384 -p 52385:52385 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=52383 --rest-port=52381 --tcp-port=52382 --discv5-udp-port=52384 --rest-address=0.0.0.0 --nat=extip:172.18.221.198 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=78c1cafeef7bcd86ec8dc9dff3df68cb5af9a849aed97f512b66f5652ec93dfa --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=52385 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QJjybOrZ3jsXB3FF-64Gr5rgemKVOgJR1Xnn8zZuIOMTbCUbWCZie03W6FmrIytLFKTv4h2GLI8dZGnSTcLpKigBgmlkgnY0gmlwhKwS2NmKbXVsdGlhZGRyc4wACgSsEtjZBlSy3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM5TJr8xXhRFlF8EKHEOAB5dKK8e5_h5BmogDnNSIcJGIN0Y3CCVLGDdWRwglSzhXdha3UyCQ --lightpushnode=/ip4/172.18.216.217/tcp/21681/p2p/16Uiu2HAmGWfLejwYc13nvrcMz5bJDS8dstaocPLESzapxyJ9nucs --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.221.198 waku 729e624eafe60de41a20b033c94d0b09c503e0245f002d012a85241fe6a77ea7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 729e624eafe6. Setting up logs at ./log/docker/lightpush_node2_2024-09-21_03-16-50__9f0087f1-f4dc-4d54-8834-687026f27042__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 52381
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52381/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52381/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.221.198/tcp/52382/p2p/16Uiu2HAkyjyfP5fq1qEoXW8tKU4xE4hUQJDgBXhJESWqvXFc3p2e","/ip4/172.18.221.198/tcp/52383/ws/p2p/16Uiu2HAkyjyfP5fq1qEoXW8tKU4xE4hUQJDgBXhJESWqvXFc3p2e"],"enrUri":"enr:-LO4QLwxdlpCSIwrhUSMMZdLEyXkwKW7XVyU-fQcD6SWlIxPBWk3sg8V_Vfs1o4AFaTzCdYbjq8BnUub8-95ce82FNcBgmlkgnY0gmlwhKwS3caKbXVsdGlhZGRyc4wACgSsEt3GBsyf3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJAHzIspIN9AnR5S4_bnjfuwA_phOsIlqzu3t0034lcO4N0Y3CCzJ6DdWRwgsyghXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52381/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.216.217/tcp/21681/p2p/16Uiu2HAmGWfLejwYc13nvrcMz5bJDS8dstaocPLESzapxyJ9nucs"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52381/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.30.143/tcp/59153/p2p/16Uiu2HAmGv6yfa2MRPJwGRTieyHk7FqfwZErgSD288ZKycaMN1c8"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node3_2024-09-21_03-16-50__9f0087f1-f4dc-4d54-8834-687026f27042__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.164.48
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['34315', '34316', '34317', '34318', '34319']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 34315:34315 -p 34316:34316 -p 34317:34317 -p 34318:34318 -p 34319:34319 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=34317 --rest-port=34315 --tcp-port=34316 --discv5-udp-port=34318 --rest-address=0.0.0.0 --nat=extip:172.18.164.48 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fbced07511364c876f7a7ad0f6efd0d3f278229f13feac37f697fbbdd3da2ff8 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-LO4QJjybOrZ3jsXB3FF-64Gr5rgemKVOgJR1Xnn8zZuIOMTbCUbWCZie03W6FmrIytLFKTv4h2GLI8dZGnSTcLpKigBgmlkgnY0gmlwhKwS2NmKbXVsdGlhZGRyc4wACgSsEtjZBlSy3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM5TJr8xXhRFlF8EKHEOAB5dKK8e5_h5BmogDnNSIcJGIN0Y3CCVLGDdWRwglSzhXdha3UyCQ --lightpushnode=/ip4/172.18.216.217/tcp/21681/p2p/16Uiu2HAmGWfLejwYc13nvrcMz5bJDS8dstaocPLESzapxyJ9nucs --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.164.48 waku 5b77d5de7ce5f65c75bfdb65a0105ed0b72007923a6bbebd0eccffac71d9a9f3
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 5b77d5de7ce5. Setting up logs at ./log/docker/lightpush_node3_2024-09-21_03-16-50__9f0087f1-f4dc-4d54-8834-687026f27042__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 34315
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34315/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QO7cAlKAyvHjYNIcFqU-8WlEGJS_3L0TIR1r3X02TChgRBqg5Q2WlsSD8W3e3Czdq0iklVRU-z1M_HZYAAZdlNOGAZISlShUgmlkgnY0gmlwhKwRAA6Jc2VjcDI1NmsxoQLFGkA1dVW2tbj7U04WOPTVbk69zjZCJJHN5booPlWmT4N0Y3CChgyDdWRwgoYOhXdha3UyCA","listenAddresses":["/ip4/127.0.0.1/tcp/34316/p2p/16Uiu2HAm8h5WhMwjbVp79jgVnKRU1HxkLc9qPXqAso8i3C7m8o7c","/ip4/127.0.0.1/tcp/34317/ws/p2p/16Uiu2HAm8h5WhMwjbVp79jgVnKRU1HxkLc9qPXqAso8i3C7m8o7c","/ip4/172.17.0.14/tcp/34316/p2p/16Uiu2HAm8h5WhMwjbVp79jgVnKRU1HxkLc9qPXqAso8i3C7m8o7c","/ip4/172.17.0.14/tcp/34317/ws/p2p/16Uiu2HAm8h5WhMwjbVp79jgVnKRU1HxkLc9qPXqAso8i3C7m8o7c"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34315/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.216.217/tcp/21681/p2p/16Uiu2HAmGWfLejwYc13nvrcMz5bJDS8dstaocPLESzapxyJ9nucs", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34315/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.30.143/tcp/59153/p2p/16Uiu2HAmGv6yfa2MRPJwGRTieyHk7FqfwZErgSD288ZKycaMN1c8", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node4_2024-09-21_03-16-50__9f0087f1-f4dc-4d54-8834-687026f27042__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.99.105
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['33606', '33607', '33608', '33609', '33610']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 33606:33606 -p 33607:33607 -p 33608:33608 -p 33609:33609 -p 33610:33610 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=33608 --rest-port=33606 --tcp-port=33607 --discv5-udp-port=33609 --rest-address=0.0.0.0 --nat=extip:172.18.99.105 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e8ad9f24d66f3abbe5a8b43d184f9f3a8abe6ef9aaab6ec13eec4eee63d9e651 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=33610 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QJjybOrZ3jsXB3FF-64Gr5rgemKVOgJR1Xnn8zZuIOMTbCUbWCZie03W6FmrIytLFKTv4h2GLI8dZGnSTcLpKigBgmlkgnY0gmlwhKwS2NmKbXVsdGlhZGRyc4wACgSsEtjZBlSy3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM5TJr8xXhRFlF8EKHEOAB5dKK8e5_h5BmogDnNSIcJGIN0Y3CCVLGDdWRwglSzhXdha3UyCQ --lightpushnode=/ip4/172.18.216.217/tcp/21681/p2p/16Uiu2HAmGWfLejwYc13nvrcMz5bJDS8dstaocPLESzapxyJ9nucs --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.99.105 waku bf604be5f93336fc54ced31072a91fa4051a1f57153b1d15d4959552bec2d573
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID bf604be5f933. Setting up logs at ./log/docker/lightpush_node4_2024-09-21_03-16-50__9f0087f1-f4dc-4d54-8834-687026f27042__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 33606
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33606/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33606/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.99.105/tcp/33607/p2p/16Uiu2HAmLNAWpJ81P1rPPArkmRtKCmHbxe7MVgCAXpxdENeQs4T1","/ip4/172.18.99.105/tcp/33608/ws/p2p/16Uiu2HAmLNAWpJ81P1rPPArkmRtKCmHbxe7MVgCAXpxdENeQs4T1"],"enrUri":"enr:-LO4QAKAyvaf637wlmE47Oli4n73E215yCsRx4KYdfiIE-xRHyeJ9zyGLDdavu8zy7tJkZp-ZXoLO8RJDoNvRoBnDEoBgmlkgnY0gmlwhKwSY2mKbXVsdGlhZGRyc4wACgSsEmNpBoNI3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNyjh1J2048FDUfzBiv2c5F3LTnnv0pxATEp8JPQG73cIN0Y3CCg0eDdWRwgoNJhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33606/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.216.217/tcp/21681/p2p/16Uiu2HAmGWfLejwYc13nvrcMz5bJDS8dstaocPLESzapxyJ9nucs"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33606/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.30.143/tcp/59153/p2p/16Uiu2HAmGv6yfa2MRPJwGRTieyHk7FqfwZErgSD288ZKycaMN1c8"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21680/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59152/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6981/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1726888620895030272}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21680/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726888620895030272,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59152/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726888620895030272,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52381/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1726888621014573568}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21680/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726888621014573568,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59152/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726888621014573568,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34315/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1726888621139605760}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21680/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726888621139605760,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59152/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726888621139605760,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33606/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1726888621268633600}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21680/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726888621268633600,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59152/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726888621268633600,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 87ef1e0ed092
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id eea36130927b
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 5446b8fe52a7
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 729e624eafe6
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 5b77d5de7ce5
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id bf604be5f933
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.