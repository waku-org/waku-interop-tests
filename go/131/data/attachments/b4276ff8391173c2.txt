[35mDEBUG   [0m tests.conftest:conftest.py:43 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:49 Running test: test_last_node_to_start_publishes with id: 2024-05-18_03-16-14__fe654315-a122-4c53-960a-77ff3336e13e
[35mDEBUG   [0m src.steps.common:common.py:15 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:29 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:35 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node1_2024-05-18_03-16-14__fe654315-a122-4c53-960a-77ff3336e13e__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.181.164
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['9952', '9953', '9954', '9955', '9956']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:345 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:114 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:116 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 9952:9952 -p 9953:9953 -p 9954:9954 -p 9955:9955 -p 9956:9956 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=9954 --rest-port=9952 --tcp-port=9953 --discv5-udp-port=9955 --rest-address=0.0.0.0 --nat=extip:172.18.181.164 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=9956 --metrics-logging=true --relay=true --nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.181.164 waku 8d9a02174e9f44ee51780fc5f64344f49a890bb1e5eb9ede1c315a421ba01a01
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 8d9a02174e9f. Setting up logs at ./log/docker/node1_2024-05-18_03-16-14__fe654315-a122-4c53-960a-77ff3336e13e__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 9952
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9952/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:209 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9952/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.181.164/tcp/9953/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","/ip4/172.18.181.164/tcp/9954/ws/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"],"enrUri":"enr:-LO4QPJ7weswKbL3qN7jp6NFCbAqJ9_Goo_kPkWvwV7kzsA2VblB6RBBVrEfZ2kl-QgRgUggTJmEq7tk_6DrjMSwqmYBgmlkgnY0gmlwhKwStaSKbXVsdGlhZGRyc4wACgSsErWkBibi3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCJuGDdWRwgibjhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:214 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node2_2024-05-18_03-16-14__fe654315-a122-4c53-960a-77ff3336e13e__harbor.status.im_wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.54.110
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['17021', '17022', '17023', '17024', '17025']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:345 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:114 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:116 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 17021:17021 -p 17022:17022 -p 17023:17023 -p 17024:17024 -p 17025:17025 harbor.status.im/wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=17023 --rest-port=17021 --tcp-port=17022 --discv5-udp-port=17024 --rest-address=0.0.0.0 --nat=extip:172.18.54.110 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --relay=true --discv5-bootstrap-node=enr:-LO4QPJ7weswKbL3qN7jp6NFCbAqJ9_Goo_kPkWvwV7kzsA2VblB6RBBVrEfZ2kl-QgRgUggTJmEq7tk_6DrjMSwqmYBgmlkgnY0gmlwhKwStaSKbXVsdGlhZGRyc4wACgSsErWkBibi3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCJuGDdWRwgibjhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.54.110 waku 5eacfc0f4090637b12aa3d3b30edc9de76c825c5008ea6c17000705326514d65
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 5eacfc0f4090. Setting up logs at ./log/docker/node2_2024-05-18_03-16-14__fe654315-a122-4c53-960a-77ff3336e13e__harbor.status.im_wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Started container from image harbor.status.im/wakuorg/go-waku:latest. REST: 17021
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17021/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ly4QDdEw8dnaGWaMrNmdTLrR2coa_Ou5NmWUkIig1lukE9KPqZDIUlFBeOuFKEgxkrorbhcxegIeocE2q46bFK06qWGAY-JszxEgmlkgnY0gmlwhKwRAAeKbXVsdGlhZGRyc5gACgSsEQAHBkJ_3QMACgR_AAABBkJ_3QOJc2VjcDI1NmsxoQNrmOz9iWPGFjSK-x_DUhcC3SkO5ojG4jdYL2GxbtBrpYN0Y3CCQn6DdWRwgkKAhXdha3UyAQ","listenAddresses":["/ip4/127.0.0.1/tcp/17022/p2p/16Uiu2HAmKu1Ds3vC8uR99gxBvSsgKjEpsvPjZ2iqkz9rs9mJXj7a","/ip4/127.0.0.1/tcp/17023/ws/p2p/16Uiu2HAmKu1Ds3vC8uR99gxBvSsgKjEpsvPjZ2iqkz9rs9mJXj7a","/ip4/172.17.0.7/tcp/17022/p2p/16Uiu2HAmKu1Ds3vC8uR99gxBvSsgKjEpsvPjZ2iqkz9rs9mJXj7a","/ip4/172.17.0.7/tcp/17023/ws/p2p/16Uiu2HAmKu1Ds3vC8uR99gxBvSsgKjEpsvPjZ2iqkz9rs9mJXj7a"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:214 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17021/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.181.164/tcp/9953/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.steps.relay:relay.py:47 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node3_2024-05-18_03-16-14__fe654315-a122-4c53-960a-77ff3336e13e__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.152.209
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['60782', '60783', '60784', '60785', '60786']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:345 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:114 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:116 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 60782:60782 -p 60783:60783 -p 60784:60784 -p 60785:60785 -p 60786:60786 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=60784 --rest-port=60782 --tcp-port=60783 --discv5-udp-port=60785 --rest-address=0.0.0.0 --nat=extip:172.18.152.209 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=60786 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QPJ7weswKbL3qN7jp6NFCbAqJ9_Goo_kPkWvwV7kzsA2VblB6RBBVrEfZ2kl-QgRgUggTJmEq7tk_6DrjMSwqmYBgmlkgnY0gmlwhKwStaSKbXVsdGlhZGRyc4wACgSsErWkBibi3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCJuGDdWRwgibjhXdha3UyAQ
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.68.154
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['42053', '42054', '42055', '42056', '42057']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:345 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:114 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:116 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 42053:42053 -p 42054:42054 -p 42055:42055 -p 42056:42056 -p 42057:42057 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=42055 --rest-port=42053 --tcp-port=42054 --discv5-udp-port=42056 --rest-address=0.0.0.0 --nat=extip:172.18.68.154 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=42057 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QPJ7weswKbL3qN7jp6NFCbAqJ9_Goo_kPkWvwV7kzsA2VblB6RBBVrEfZ2kl-QgRgUggTJmEq7tk_6DrjMSwqmYBgmlkgnY0gmlwhKwStaSKbXVsdGlhZGRyc4wACgSsErWkBibi3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCJuGDdWRwgibjhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.68.154 waku 61412c84eb98c32648394e5f6e720c9dafbfbc39a5acf007b5dc6381d4236a2c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 61412c84eb98. Setting up logs at ./log/docker/node3_2024-05-18_03-16-14__fe654315-a122-4c53-960a-77ff3336e13e__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 42053
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42053/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:209 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42053/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.68.154/tcp/42054/p2p/16Uiu2HAm1NMZr3R6q8WBUxRre1bnEgu6p8fzRgBzbViky55knJdS","/ip4/172.18.68.154/tcp/42055/ws/p2p/16Uiu2HAm1NMZr3R6q8WBUxRre1bnEgu6p8fzRgBzbViky55knJdS"],"enrUri":"enr:-LO4QARLVqY-p5cWKqVKJEcx6uuouVG5bnGldAhRDetEe5gbMxf0syTmxOYMUypfg8aQF8h4qu3F2Dg2rn-OTdQtss4BgmlkgnY0gmlwhKwSRJqKbXVsdGlhZGRyc4wACgSsEkSaBqRH3QOCcnOFAAABAACJc2VjcDI1NmsxoQJYTI9DLnQ1ANC9bpiUpkEDwjuJ93ntwKxFFJAcujAS3YN0Y3CCpEaDdWRwgqRIhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:214 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42053/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.181.164/tcp/9953/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node4_2024-05-18_03-16-14__fe654315-a122-4c53-960a-77ff3336e13e__harbor.status.im_wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.51.115
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['11188', '11189', '11190', '11191', '11192']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:345 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:114 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:116 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 11188:11188 -p 11189:11189 -p 11190:11190 -p 11191:11191 -p 11192:11192 harbor.status.im/wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=11190 --rest-port=11188 --tcp-port=11189 --discv5-udp-port=11191 --rest-address=0.0.0.0 --nat=extip:172.18.51.115 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --relay=true --discv5-bootstrap-node=enr:-LO4QPJ7weswKbL3qN7jp6NFCbAqJ9_Goo_kPkWvwV7kzsA2VblB6RBBVrEfZ2kl-QgRgUggTJmEq7tk_6DrjMSwqmYBgmlkgnY0gmlwhKwStaSKbXVsdGlhZGRyc4wACgSsErWkBibi3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCJuGDdWRwgibjhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.51.115 waku 9e183e3f63de9941c5fd7872b0e8707c2b4571c28debd8c95a2b20f6e3826213
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 9e183e3f63de. Setting up logs at ./log/docker/node4_2024-05-18_03-16-14__fe654315-a122-4c53-960a-77ff3336e13e__harbor.status.im_wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Started container from image harbor.status.im/wakuorg/go-waku:latest. REST: 11188
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11188/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ly4QKVNXFEHXAnrHu6itfAGZuVennBAR5fOZaIOFVFrupYTHHJDlM3RDIDdrNdzb8ZDlRF5AIFtSRrhVsPPDDWH2d2GAY-Js0qygmlkgnY0gmlwhKwRAAqKbXVsdGlhZGRyc5gACgR_AAABBiu23QMACgSsEQAKBiu23QOJc2VjcDI1NmsxoQI_DFxe7BqIztbOKJGH-eXFfGPNZHPrqLBRAjJBHkeG8IN0Y3CCK7WDdWRwgiu3hXdha3UyAQ","listenAddresses":["/ip4/127.0.0.1/tcp/11189/p2p/16Uiu2HAkyfnbaLqg9CDPRvfJHrdZXnTZMV8JCmdo9wMtHbM1mmSw","/ip4/127.0.0.1/tcp/11190/ws/p2p/16Uiu2HAkyfnbaLqg9CDPRvfJHrdZXnTZMV8JCmdo9wMtHbM1mmSw","/ip4/172.17.0.10/tcp/11189/p2p/16Uiu2HAkyfnbaLqg9CDPRvfJHrdZXnTZMV8JCmdo9wMtHbM1mmSw","/ip4/172.17.0.10/tcp/11190/ws/p2p/16Uiu2HAkyfnbaLqg9CDPRvfJHrdZXnTZMV8JCmdo9wMtHbM1mmSw"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:214 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11188/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.181.164/tcp/9953/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node5_2024-05-18_03-16-14__fe654315-a122-4c53-960a-77ff3336e13e__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.160.113
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['37323', '37324', '37325', '37326', '37327']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:345 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:114 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:116 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 37323:37323 -p 37324:37324 -p 37325:37325 -p 37326:37326 -p 37327:37327 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=37325 --rest-port=37323 --tcp-port=37324 --discv5-udp-port=37326 --rest-address=0.0.0.0 --nat=extip:172.18.160.113 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=37327 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QPJ7weswKbL3qN7jp6NFCbAqJ9_Goo_kPkWvwV7kzsA2VblB6RBBVrEfZ2kl-QgRgUggTJmEq7tk_6DrjMSwqmYBgmlkgnY0gmlwhKwStaSKbXVsdGlhZGRyc4wACgSsErWkBibi3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCJuGDdWRwgibjhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.160.113 waku e9e54d9d5698f82f3f2196c3a4f33e64fbbb3dec52f296b0c27167e16dde9606
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID e9e54d9d5698. Setting up logs at ./log/docker/node5_2024-05-18_03-16-14__fe654315-a122-4c53-960a-77ff3336e13e__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 37323
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37323/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:209 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37323/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.160.113/tcp/37324/p2p/16Uiu2HAkv6Z7fWkoQRRZhtunemYuC8MLKfU15nF4kSFmsXoVwsk8","/ip4/172.18.160.113/tcp/37325/ws/p2p/16Uiu2HAkv6Z7fWkoQRRZhtunemYuC8MLKfU15nF4kSFmsXoVwsk8"],"enrUri":"enr:-LO4QMppw1JeVgQdr729YekFM98riiUdrjdj1o_L-JguJMgYUlDvZKWD665-MVrDg_APcy217GuWF1TzsTXeP1TegLYBgmlkgnY0gmlwhKwSoHGKbXVsdGlhZGRyc4wACgSsEqBxBpHN3QOCcnOFAAABAACJc2VjcDI1NmsxoQIJ9ePcOiax1qIe_lklP-1FOdy2VrfmbYq12IYdks38PYN0Y3CCkcyDdWRwgpHOhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:214 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:37323/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.181.164/tcp/9953/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:60 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9952/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/0/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17021/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/0/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.steps.relay:relay.py:65 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42053/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/0/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11188/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/0/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:37323/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/0/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9952/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:92 Checking that peer NODE_1:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9952/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1716002182288575488,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:92 Checking that peer NODE_2:harbor.status.im/wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17021/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1716002182288575488,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:92 Checking that peer NODE_3:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42053/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1716002182288575488,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:92 Checking that peer NODE_4:harbor.status.im/wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11188/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1716002182288575488,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:92 Checking that peer NODE_5:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37323/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1716002182288575488,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:72 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:37323/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:92 Checking that peer NODE_1:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9952/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1716002182423038208,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:92 Checking that peer NODE_2:harbor.status.im/wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17021/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1716002182423038208,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:92 Checking that peer NODE_3:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42053/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1716002182423038208,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:92 Checking that peer NODE_4:harbor.status.im/wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11188/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1716002182423038208,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:92 Checking that peer NODE_5:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37323/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1716002182423038208,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:75 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:169 Stopping container with id 8d9a02174e9f
[35mDEBUG   [0m src.node.waku_node:waku_node.py:172 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:169 Stopping container with id 5eacfc0f4090
[35mDEBUG   [0m src.node.waku_node:waku_node.py:172 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:169 Stopping container with id 61412c84eb98
[35mDEBUG   [0m src.node.waku_node:waku_node.py:172 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:169 Stopping container with id 9e183e3f63de
[35mDEBUG   [0m src.node.waku_node:waku_node.py:172 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:169 Stopping container with id e9e54d9d5698
[35mDEBUG   [0m src.node.waku_node:waku_node.py:172 Container stopped.