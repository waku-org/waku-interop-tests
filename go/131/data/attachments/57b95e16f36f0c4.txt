[35mDEBUG   [0m tests.conftest:conftest.py:43 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:49 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-05-18_03-11-09__4b5845ef-02b5-401b-9d86-83764babf4e5
[35mDEBUG   [0m src.steps.common:common.py:15 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node1_2024-05-18_03-11-09__4b5845ef-02b5-401b-9d86-83764babf4e5__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.254.7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['8052', '8053', '8054', '8055', '8056']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:345 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:114 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:116 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 8052:8052 -p 8053:8053 -p 8054:8054 -p 8055:8055 -p 8056:8056 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=8054 --rest-port=8052 --tcp-port=8053 --discv5-udp-port=8055 --rest-address=0.0.0.0 --nat=extip:172.18.254.7 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=8056 --metrics-logging=true --relay=true --filter=true --nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.254.7 waku 0e82ccaefc10bdfbdacfd990353190f9cfb5a28d6f92c13dd704eb349c2d5b5b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 0e82ccaefc10. Setting up logs at ./log/docker/node1_2024-05-18_03-11-09__4b5845ef-02b5-401b-9d86-83764babf4e5__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 8052
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8052/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:209 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8052/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.254.7/tcp/8053/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","/ip4/172.18.254.7/tcp/8054/ws/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"],"enrUri":"enr:-LO4QJ-0Jkv4_Cu7niMnZdWEh3JwQIPKvrqGzCoZMf_Bhe5qP9cN-LnrRWTaFhAVgyGlZYK0SnBWhksygxvR3Ix35MsBgmlkgnY0gmlwhKwS_geKbXVsdGlhZGRyc4wACgSsEv4HBh923QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCH3WDdWRwgh93hXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:214 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node2_2024-05-18_03-11-09__4b5845ef-02b5-401b-9d86-83764babf4e5__harbor.status.im_wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.169.148
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['39203', '39204', '39205', '39206', '39207']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:345 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:114 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:116 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 39203:39203 -p 39204:39204 -p 39205:39205 -p 39206:39206 -p 39207:39207 harbor.status.im/wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=39205 --rest-port=39203 --tcp-port=39204 --discv5-udp-port=39206 --rest-address=0.0.0.0 --nat=extip:172.18.169.148 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --relay=false --discv5-bootstrap-node=enr:-LO4QJ-0Jkv4_Cu7niMnZdWEh3JwQIPKvrqGzCoZMf_Bhe5qP9cN-LnrRWTaFhAVgyGlZYK0SnBWhksygxvR3Ix35MsBgmlkgnY0gmlwhKwS_geKbXVsdGlhZGRyc4wACgSsEv4HBh923QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCH3WDdWRwgh93hXdha3UyBQ --filternode=/ip4/172.18.254.7/tcp/8053/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.169.148 waku d936514a06b13f65ff9ef702cdb4e1dd714b392ebd09bf288522f12c4650d243
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID d936514a06b1. Setting up logs at ./log/docker/node2_2024-05-18_03-11-09__4b5845ef-02b5-401b-9d86-83764babf4e5__harbor.status.im_wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Started container from image harbor.status.im/wakuorg/go-waku:latest. REST: 39203
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39203/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ly4QKw-wcItRD6MKEo_sTyOcpUZjgQbRzcH2k8lGNuswpBpIh-ljQ-fUfg2uenwjkE170wa2sGkMBWzQJGOgjMOHeaGAY-Jrpw9gmlkgnY0gmlwhKwRAAOKbXVsdGlhZGRyc5gACgR_AAABBpkl3QMACgSsEQADBpkl3QOJc2VjcDI1NmsxoQMwqkevxO_gJ-GHJC4ZdkX7_S6exaHyteCMVFm4_pWrm4N0Y3CCmSSDdWRwgpkmhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/39204/p2p/16Uiu2HAmFvxWvE3jpEBsrrSEewdVSo8m5Vn5MPPzNoJExRjUY6Gz","/ip4/127.0.0.1/tcp/39205/ws/p2p/16Uiu2HAmFvxWvE3jpEBsrrSEewdVSo8m5Vn5MPPzNoJExRjUY6Gz","/ip4/172.17.0.3/tcp/39204/p2p/16Uiu2HAmFvxWvE3jpEBsrrSEewdVSo8m5Vn5MPPzNoJExRjUY6Gz","/ip4/172.17.0.3/tcp/39205/ws/p2p/16Uiu2HAmFvxWvE3jpEBsrrSEewdVSo8m5Vn5MPPzNoJExRjUY6Gz"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:214 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39203/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.254.7/tcp/8053/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node3_2024-05-18_03-11-09__4b5845ef-02b5-401b-9d86-83764babf4e5__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.56.233
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['54244', '54245', '54246', '54247', '54248']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:345 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:114 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:116 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 54244:54244 -p 54245:54245 -p 54246:54246 -p 54247:54247 -p 54248:54248 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=54246 --rest-port=54244 --tcp-port=54245 --discv5-udp-port=54247 --rest-address=0.0.0.0 --nat=extip:172.18.56.233 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=54248 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QJ-0Jkv4_Cu7niMnZdWEh3JwQIPKvrqGzCoZMf_Bhe5qP9cN-LnrRWTaFhAVgyGlZYK0SnBWhksygxvR3Ix35MsBgmlkgnY0gmlwhKwS_geKbXVsdGlhZGRyc4wACgSsEv4HBh923QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCH3WDdWRwgh93hXdha3UyBQ --filternode=/ip4/172.18.254.7/tcp/8053/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.56.233 waku 1e5fc4c8428417d88796303d783a595cb8459bf1dc20c280365b831f2ba96f8a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 1e5fc4c84284. Setting up logs at ./log/docker/node3_2024-05-18_03-11-09__4b5845ef-02b5-401b-9d86-83764babf4e5__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 54244
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54244/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:209 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54244/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.56.233/tcp/54245/p2p/16Uiu2HAmEfbDE1D46uD4sGFJYVmfUACXJdqP2EzW62ueiovuDnYi","/ip4/172.18.56.233/tcp/54246/ws/p2p/16Uiu2HAmEfbDE1D46uD4sGFJYVmfUACXJdqP2EzW62ueiovuDnYi"],"enrUri":"enr:-LO4QHKURAxio4ZLkLmUqob83TJhw120L8U0QHiZKRJ8zrS_Q3ZLExo5Gyb8Upyjn77_Us_nF9lScf4u91_IsUpkiCgBgmlkgnY0gmlwhKwSOOmKbXVsdGlhZGRyc4wACgSsEjjpBtPm3QOCcnOFAAABAACJc2VjcDI1NmsxoQMd3sqPtVc3nVQfmUx72CRTTgc5hZlVGksEjl-G2q4ow4N0Y3CC0-WDdWRwgtPnhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:214 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54244/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.254.7/tcp/8053/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node4_2024-05-18_03-11-09__4b5845ef-02b5-401b-9d86-83764babf4e5__harbor.status.im_wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.230.136
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['28559', '28560', '28561', '28562', '28563']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:345 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:114 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:116 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 28559:28559 -p 28560:28560 -p 28561:28561 -p 28562:28562 -p 28563:28563 harbor.status.im/wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=28561 --rest-port=28559 --tcp-port=28560 --discv5-udp-port=28562 --rest-address=0.0.0.0 --nat=extip:172.18.230.136 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --relay=false --discv5-bootstrap-node=enr:-LO4QJ-0Jkv4_Cu7niMnZdWEh3JwQIPKvrqGzCoZMf_Bhe5qP9cN-LnrRWTaFhAVgyGlZYK0SnBWhksygxvR3Ix35MsBgmlkgnY0gmlwhKwS_geKbXVsdGlhZGRyc4wACgSsEv4HBh923QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCH3WDdWRwgh93hXdha3UyBQ --filternode=/ip4/172.18.254.7/tcp/8053/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.230.136 waku 47deed8aa15df705fee05a8752c2aff46ad7ec3044a161f5cab82ed152373726
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 47deed8aa15d. Setting up logs at ./log/docker/node4_2024-05-18_03-11-09__4b5845ef-02b5-401b-9d86-83764babf4e5__harbor.status.im_wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Started container from image harbor.status.im/wakuorg/go-waku:latest. REST: 28559
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28559/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ly4QJckO-8VEL5xaDsQg58qzuuu3ZzcG315Gf6QjulbcbgfKMn8AIUbji1UfvfEBVi0nVmBS7f3Mj7coJeM36TYOwKGAY-JrqqLgmlkgnY0gmlwhKwRAAmKbXVsdGlhZGRyc5gACgR_AAABBm-R3QMACgSsEQAJBm-R3QOJc2VjcDI1NmsxoQLEpbKNpNrjI6lcdsUA1T2FD7EBMtJ0rCqhy9zFJeqbKoN0Y3CCb5CDdWRwgm-ShXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/28560/p2p/16Uiu2HAm8fJS31VR4QKoRxBW4yAASd2Bt2qLekn2VpdfQf1ucRvH","/ip4/127.0.0.1/tcp/28561/ws/p2p/16Uiu2HAm8fJS31VR4QKoRxBW4yAASd2Bt2qLekn2VpdfQf1ucRvH","/ip4/172.17.0.9/tcp/28560/p2p/16Uiu2HAm8fJS31VR4QKoRxBW4yAASd2Bt2qLekn2VpdfQf1ucRvH","/ip4/172.17.0.9/tcp/28561/ws/p2p/16Uiu2HAm8fJS31VR4QKoRxBW4yAASd2Bt2qLekn2VpdfQf1ucRvH"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:214 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28559/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.254.7/tcp/8053/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node5_2024-05-18_03-11-09__4b5845ef-02b5-401b-9d86-83764babf4e5__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.240.219
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['30621', '30622', '30623', '30624', '30625']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:345 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:114 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:116 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 30621:30621 -p 30622:30622 -p 30623:30623 -p 30624:30624 -p 30625:30625 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=30623 --rest-port=30621 --tcp-port=30622 --discv5-udp-port=30624 --rest-address=0.0.0.0 --nat=extip:172.18.240.219 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=30625 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QJ-0Jkv4_Cu7niMnZdWEh3JwQIPKvrqGzCoZMf_Bhe5qP9cN-LnrRWTaFhAVgyGlZYK0SnBWhksygxvR3Ix35MsBgmlkgnY0gmlwhKwS_geKbXVsdGlhZGRyc4wACgSsEv4HBh923QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCH3WDdWRwgh93hXdha3UyBQ --filternode=/ip4/172.18.254.7/tcp/8053/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.240.219 waku 4dd7cc0d28083c862b1ba1f6176dd17d453c367c40057e0f4c515553015ac84e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 4dd7cc0d2808. Setting up logs at ./log/docker/node5_2024-05-18_03-11-09__4b5845ef-02b5-401b-9d86-83764babf4e5__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 30621
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30621/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:209 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30621/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.240.219/tcp/30622/p2p/16Uiu2HAmPLrY6HJmgUdohUhr9FU65xnpxfVpp3vzs32VASPtRxdn","/ip4/172.18.240.219/tcp/30623/ws/p2p/16Uiu2HAmPLrY6HJmgUdohUhr9FU65xnpxfVpp3vzs32VASPtRxdn"],"enrUri":"enr:-LO4QEqJ0J0KYIqp4Oc-kqTOfDEj10hT7HLLPP2tDsDs9WKbOW9pTPuDJbXnU1uj4Ruc6Eke56sywTPocvauTcl6YxgBgmlkgnY0gmlwhKwS8NuKbXVsdGlhZGRyc4wACgSsEvDbBnef3QOCcnOFAAABAACJc2VjcDI1NmsxoQOey0Q-rWeaVoIaQQs95MuZecL3X4Xf6aOvmRfRuBf9gYN0Y3CCd56DdWRwgneghXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:214 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30621/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.254.7/tcp/8053/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8052/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/0/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39203/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "9bff0bbe-c637-4557-88ff-26f544eebe55", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"9bff0bbe-c637-4557-88ff-26f544eebe55","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54244/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "40fcf81d-814b-47e1-b8a6-9e7ceba2f2b5", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"40fcf81d-814b-47e1-b8a6-9e7ceba2f2b5","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28559/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "a505e26e-ce9b-46c3-880b-929d75a7e73a", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"a505e26e-ce9b-46c3-880b-929d75a7e73a","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30621/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "b9d25151-be79-451c-833d-5d8f5f968c1d", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"b9d25151-be79-451c-833d-5d8f5f968c1d","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8052/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_2:harbor.status.im/wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39203/filter/v2/messages/%2Fwaku%2F2%2Frs%2F0%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1716001879556824064,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8052/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_2:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54244/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:54244/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:75 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:169 Stopping container with id 0e82ccaefc10
[35mDEBUG   [0m src.node.waku_node:waku_node.py:172 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:169 Stopping container with id d936514a06b1
[35mDEBUG   [0m src.node.waku_node:waku_node.py:172 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:169 Stopping container with id 1e5fc4c84284
[35mDEBUG   [0m src.node.waku_node:waku_node.py:172 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:169 Stopping container with id 47deed8aa15d
[35mDEBUG   [0m src.node.waku_node:waku_node.py:172 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:169 Stopping container with id 4dd7cc0d2808
[35mDEBUG   [0m src.node.waku_node:waku_node.py:172 Container stopped.