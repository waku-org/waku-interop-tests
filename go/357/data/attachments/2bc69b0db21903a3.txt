[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_first_node_to_start_publishes with id: 2024-11-14_03-18-45__5f257b61-391a-4aeb-add2-9426983103de
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-14_03-18-45__5f257b61-391a-4aeb-add2-9426983103de__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.248.28
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['23802', '23803', '23804', '23805', '23806']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 23802:23802 -p 23803:23803 -p 23804:23804 -p 23805:23805 -p 23806:23806 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=23804 --rest-port=23802 --tcp-port=23803 --discv5-udp-port=23805 --rest-address=0.0.0.0 --nat=extip:172.18.248.28 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a6de2cac7d47d4c5aeabca7bf68fc20c4bee2e37fb1b7ba4db020aaa6cf89fda --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=23806 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.248.28 waku 03e419428a70589eb21af9876b4c0849798694a4cabd043b6e2a4bc4070333af
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 03e419428a70. Setting up logs at ./log/docker/node1_2024-11-14_03-18-45__5f257b61-391a-4aeb-add2-9426983103de__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 23802
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container b2b01a88f4a3. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23802/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23802/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.248.28/tcp/23803/p2p/16Uiu2HAkz5uq3vY4GEy9ga7K88kiaEuc8bU2swwFPd2kiz1Gesyj","/ip4/172.18.248.28/tcp/23804/ws/p2p/16Uiu2HAkz5uq3vY4GEy9ga7K88kiaEuc8bU2swwFPd2kiz1Gesyj"],"enrUri":"enr:-L24QCpVNRRoNuQHCPPJVRwbAIidUIhweN5qVftbSCr5Aakgc9p0lYUs1e8ekKurTsyYCkEQHjVskP7s12N0PZMTn5YCgmlkgnY0gmlwhKwS-ByKbXVsdGlhZGRyc5YACASsEvgcBlz7AAoErBL4HAZc_N0DgnJzhQADAQAAiXNlY3AyNTZrMaECRTp6VbhLUJJ8J0Plffm_Y1M4yjp6PG4OAZ5wT4AW4VqDdGNwglz7g3VkcIJc_YV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-14_03-18-45__5f257b61-391a-4aeb-add2-9426983103de__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.118.76
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['12925', '12926', '12927', '12928', '12929']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 12925:12925 -p 12926:12926 -p 12927:12927 -p 12928:12928 -p 12929:12929 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=12927 --rest-port=12925 --tcp-port=12926 --discv5-udp-port=12928 --rest-address=0.0.0.0 --nat=extip:172.18.118.76 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dbf41daf2ca9fd5ebaa74bd0ed3ebfd63f7cf1b9bdea3a1c052ddfcec835bef8 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-L24QCpVNRRoNuQHCPPJVRwbAIidUIhweN5qVftbSCr5Aakgc9p0lYUs1e8ekKurTsyYCkEQHjVskP7s12N0PZMTn5YCgmlkgnY0gmlwhKwS-ByKbXVsdGlhZGRyc5YACASsEvgcBlz7AAoErBL4HAZc_N0DgnJzhQADAQAAiXNlY3AyNTZrMaECRTp6VbhLUJJ8J0Plffm_Y1M4yjp6PG4OAZ5wT4AW4VqDdGNwglz7g3VkcIJc_YV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.118.76 waku 53e610f36892353e23e3f15df571dc3ae46a582efdaca2ac06c9feb50ba46a76
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 53e610f36892. Setting up logs at ./log/docker/node2_2024-11-14_03-18-45__5f257b61-391a-4aeb-add2-9426983103de__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/go-waku:latest. REST: 12925
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12925/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QHEcus0z2X2AYDljtPQ-341HPM0NvXHRmPsJXbppGo6EHt5hFOPhh9_jYQDtOARjZTAAKcV01_8KlXvbBw2p4Q-GAZMorjsRgmlkgnY0gmlwhKwRAAWJc2VjcDI1NmsxoQJWWP3nzmKwrKXi53wGnv7EqsF5hgEUP6LNHo13oKI-soN0Y3CCMn6DdWRwgjKAhXdha3UyAQ","listenAddresses":["/ip4/127.0.0.1/tcp/12926/p2p/16Uiu2HAm1EjkGZxoMxPCjFUTniaubNDtHKVG4Exd2xrB7tFgw44y","/ip4/127.0.0.1/tcp/12927/ws/p2p/16Uiu2HAm1EjkGZxoMxPCjFUTniaubNDtHKVG4Exd2xrB7tFgw44y","/ip4/172.17.0.5/tcp/12926/p2p/16Uiu2HAm1EjkGZxoMxPCjFUTniaubNDtHKVG4Exd2xrB7tFgw44y","/ip4/172.17.0.5/tcp/12927/ws/p2p/16Uiu2HAm1EjkGZxoMxPCjFUTniaubNDtHKVG4Exd2xrB7tFgw44y"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12925/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.248.28/tcp/23803/p2p/16Uiu2HAkz5uq3vY4GEy9ga7K88kiaEuc8bU2swwFPd2kiz1Gesyj", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-14_03-18-45__5f257b61-391a-4aeb-add2-9426983103de__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.81.148
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['52085', '52086', '52087', '52088', '52089']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 52085:52085 -p 52086:52086 -p 52087:52087 -p 52088:52088 -p 52089:52089 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=52087 --rest-port=52085 --tcp-port=52086 --discv5-udp-port=52088 --rest-address=0.0.0.0 --nat=extip:172.18.81.148 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=28dca82ce0561cbce2cfefa68fdd7d57da5a14d3bfa6ed1edab7e0d54df9e1d5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=52089 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QCpVNRRoNuQHCPPJVRwbAIidUIhweN5qVftbSCr5Aakgc9p0lYUs1e8ekKurTsyYCkEQHjVskP7s12N0PZMTn5YCgmlkgnY0gmlwhKwS-ByKbXVsdGlhZGRyc5YACASsEvgcBlz7AAoErBL4HAZc_N0DgnJzhQADAQAAiXNlY3AyNTZrMaECRTp6VbhLUJJ8J0Plffm_Y1M4yjp6PG4OAZ5wT4AW4VqDdGNwglz7g3VkcIJc_YV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.81.148 waku 61ef17fad8295c7828ea5a175ceaa53bf33c2489fa00f4d682ee07e1fd6683d4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 61ef17fad829. Setting up logs at ./log/docker/node3_2024-11-14_03-18-45__5f257b61-391a-4aeb-add2-9426983103de__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 52085
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52085/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52085/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.81.148/tcp/52086/p2p/16Uiu2HAm2nJ4qUSpBPY9D81jJHGWjoEixay8LXwQBvxgqPxJhRbq","/ip4/172.18.81.148/tcp/52087/ws/p2p/16Uiu2HAm2nJ4qUSpBPY9D81jJHGWjoEixay8LXwQBvxgqPxJhRbq"],"enrUri":"enr:-L24QMF531iM74LRUAEGu2o2IQILupZ_jp0T7_slfG_3zXO5bA-PFWwnf4QnYkMiF5s7VMjZkVPJDYwwXqZZrm77RwECgmlkgnY0gmlwhKwSUZSKbXVsdGlhZGRyc5YACASsElGUBst2AAoErBJRlAbLd90DgnJzhQADAQAAiXNlY3AyNTZrMaECbUo6cnrfBx9gjVRBNyoIWQGH6O13IjJLN8DCrJ0BD3SDdGNwgst2g3VkcILLeIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52085/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.248.28/tcp/23803/p2p/16Uiu2HAkz5uq3vY4GEy9ga7K88kiaEuc8bU2swwFPd2kiz1Gesyj"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-14_03-18-45__5f257b61-391a-4aeb-add2-9426983103de__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.159.77
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['39377', '39378', '39379', '39380', '39381']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 39377:39377 -p 39378:39378 -p 39379:39379 -p 39380:39380 -p 39381:39381 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=39379 --rest-port=39377 --tcp-port=39378 --discv5-udp-port=39380 --rest-address=0.0.0.0 --nat=extip:172.18.159.77 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c3cf1f2be54eeb4580fa0aa9a6a2e130ecb1cfcb6716bfc25c90e1c14bd3800b --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-L24QCpVNRRoNuQHCPPJVRwbAIidUIhweN5qVftbSCr5Aakgc9p0lYUs1e8ekKurTsyYCkEQHjVskP7s12N0PZMTn5YCgmlkgnY0gmlwhKwS-ByKbXVsdGlhZGRyc5YACASsEvgcBlz7AAoErBL4HAZc_N0DgnJzhQADAQAAiXNlY3AyNTZrMaECRTp6VbhLUJJ8J0Plffm_Y1M4yjp6PG4OAZ5wT4AW4VqDdGNwglz7g3VkcIJc_YV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.159.77 waku fd2bc22f9e2c8683498c99158b63083786153bffdd3379566b7629ec7bc70edd
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID fd2bc22f9e2c. Setting up logs at ./log/docker/node4_2024-11-14_03-18-45__5f257b61-391a-4aeb-add2-9426983103de__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/go-waku:latest. REST: 39377
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39377/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QLYPwvkYah2JvgNgJN2PyVqot1uRW041Cv7SL4uYfvckcok9i413DudUTO6NSQiWptk4rufq2upNOHWne_U0ZbOGAZMorkbDgmlkgnY0gmlwhKwRAAiJc2VjcDI1NmsxoQOUP8oxuTUEQyvoImc3HDOP2rLEdV9P44UN72JFWNRYrIN0Y3CCmdKDdWRwgpnUhXdha3UyAQ","listenAddresses":["/ip4/127.0.0.1/tcp/39378/p2p/16Uiu2HAmNdh76dRmRXtprDCopgKsnAAQqGSpRV3EQSTNHrkbcJeo","/ip4/127.0.0.1/tcp/39379/ws/p2p/16Uiu2HAmNdh76dRmRXtprDCopgKsnAAQqGSpRV3EQSTNHrkbcJeo","/ip4/172.17.0.8/tcp/39378/p2p/16Uiu2HAmNdh76dRmRXtprDCopgKsnAAQqGSpRV3EQSTNHrkbcJeo","/ip4/172.17.0.8/tcp/39379/ws/p2p/16Uiu2HAmNdh76dRmRXtprDCopgKsnAAQqGSpRV3EQSTNHrkbcJeo"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39377/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.248.28/tcp/23803/p2p/16Uiu2HAkz5uq3vY4GEy9ga7K88kiaEuc8bU2swwFPd2kiz1Gesyj", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-14_03-18-45__5f257b61-391a-4aeb-add2-9426983103de__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.72.0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['53070', '53071', '53072', '53073', '53074']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 53070:53070 -p 53071:53071 -p 53072:53072 -p 53073:53073 -p 53074:53074 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=53072 --rest-port=53070 --tcp-port=53071 --discv5-udp-port=53073 --rest-address=0.0.0.0 --nat=extip:172.18.72.0 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=78fddbfe042b91bc2fbac4dd8576aaed3af4db6c180bf0fb050debfbc7c95415 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=53074 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QCpVNRRoNuQHCPPJVRwbAIidUIhweN5qVftbSCr5Aakgc9p0lYUs1e8ekKurTsyYCkEQHjVskP7s12N0PZMTn5YCgmlkgnY0gmlwhKwS-ByKbXVsdGlhZGRyc5YACASsEvgcBlz7AAoErBL4HAZc_N0DgnJzhQADAQAAiXNlY3AyNTZrMaECRTp6VbhLUJJ8J0Plffm_Y1M4yjp6PG4OAZ5wT4AW4VqDdGNwglz7g3VkcIJc_YV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.72.0 waku 2fb052efefd13b6ba0da82d9a21794740678a3a2ba6e055149571b5895f5f6bc
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 2fb052efefd1. Setting up logs at ./log/docker/node5_2024-11-14_03-18-45__5f257b61-391a-4aeb-add2-9426983103de__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 53070
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53070/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53070/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.72.0/tcp/53071/p2p/16Uiu2HAm5au1gD94PTmFTyYmVzUSBHrk93uuTQV77GKtn3Vj3y3U","/ip4/172.18.72.0/tcp/53072/ws/p2p/16Uiu2HAm5au1gD94PTmFTyYmVzUSBHrk93uuTQV77GKtn3Vj3y3U"],"enrUri":"enr:-L24QGFrrzuJ_MruynXMtnY3beaOvrTJhLPGPVHDSpdIsdA2M6K4sP7rBvEcEobQNx3_Ankh6Yw8a6YilDYYcTRGt_8CgmlkgnY0gmlwhKwSSACKbXVsdGlhZGRyc5YACASsEkgABs9PAAoErBJIAAbPUN0DgnJzhQADAQAAiXNlY3AyNTZrMaEClvHVGKOKIuIVuNcWuOIjYP89bWeo7kBRM1YlKl-OLt-DdGNwgs9Pg3VkcILPUYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53070/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.248.28/tcp/23803/p2p/16Uiu2HAkz5uq3vY4GEy9ga7K88kiaEuc8bU2swwFPd2kiz1Gesyj"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23802/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12925/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52085/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39377/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53070/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23802/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23802/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731554332839012864,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12925/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731554332839012864,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52085/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731554332839012864,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39377/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731554332839012864,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53070/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731554332839012864,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23802/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23802/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731554332971166464,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12925/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731554332971166464,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52085/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731554332971166464,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39377/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731554332971166464,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53070/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731554332971166464,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 03e419428a70
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 53e610f36892
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 03e419428a70. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 61ef17fad829
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 53e610f36892. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id fd2bc22f9e2c
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 61ef17fad829. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 2fb052efefd1
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container fd2bc22f9e2c. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.