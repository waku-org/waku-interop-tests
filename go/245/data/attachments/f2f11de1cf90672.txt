[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-08-17_03-11-22__048240c6-ed7d-438b-854a-b5bfc1a949d9
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node1_2024-08-17_03-11-22__048240c6-ed7d-438b-854a-b5bfc1a949d9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.117.136
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['54541', '54542', '54543', '54544', '54545']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:429 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:161 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:163 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 54541:54541 -p 54542:54542 -p 54543:54543 -p 54544:54544 -p 54545:54545 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=54543 --rest-port=54541 --tcp-port=54542 --discv5-udp-port=54544 --rest-address=0.0.0.0 --nat=extip:172.18.117.136 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=54545 --metrics-logging=true --relay=true --filter=true --nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.117.136 waku 8c69610e59d5688a444116298eb282e11777c306a12871c24b73222289a2fb64
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 8c69610e59d5. Setting up logs at ./log/docker/node1_2024-08-17_03-11-22__048240c6-ed7d-438b-854a-b5bfc1a949d9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:175 Started container from image wakuorg/nwaku:latest. REST: 54541
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54541/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:275 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54541/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.117.136/tcp/54542/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","/ip4/172.18.117.136/tcp/54543/ws/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"],"enrUri":"enr:-LO4QEbrmt0vxb9PHwR4T-jl6pk94h9ZVaXHKO4ZBGKUekO8FnS-9IrJhXtritYeQ-V-owmrl4vKDrHETMolTYjgxQIBgmlkgnY0gmlwhKwSdYiKbXVsdGlhZGRyc4wACgSsEnWIBtUP3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CC1Q6DdWRwgtUQhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:280 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node2_2024-08-17_03-11-22__048240c6-ed7d-438b-854a-b5bfc1a949d9__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.254.122
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['56278', '56279', '56280', '56281', '56282']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:429 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:161 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:163 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 56278:56278 -p 56279:56279 -p 56280:56280 -p 56281:56281 -p 56282:56282 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=56280 --rest-port=56278 --tcp-port=56279 --discv5-udp-port=56281 --rest-address=0.0.0.0 --nat=extip:172.18.254.122 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-LO4QEbrmt0vxb9PHwR4T-jl6pk94h9ZVaXHKO4ZBGKUekO8FnS-9IrJhXtritYeQ-V-owmrl4vKDrHETMolTYjgxQIBgmlkgnY0gmlwhKwSdYiKbXVsdGlhZGRyc4wACgSsEnWIBtUP3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CC1Q6DdWRwgtUQhXdha3UyBQ --filternode=/ip4/172.18.117.136/tcp/54542/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.254.122 waku 667d2f4d84365a33443c434f8cc0ed3a6c42154a32f2b3cb22bc506541d47269
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 667d2f4d8436. Setting up logs at ./log/docker/node2_2024-08-17_03-11-22__048240c6-ed7d-438b-854a-b5bfc1a949d9__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:175 Started container from image wakuorg/go-waku:latest. REST: 56278
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56278/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QAfjNbvlVoe61Xxe7cvN2VXV3vW5m4IISdLgCA3TK3sDOfwtlV5N1-8nXOiWKlH5u4dnbrdfbLTQ5K8_GLtdZkuGAZFeUXylgmlkgnY0gmlwhKwRAA-Jc2VjcDI1NmsxoQPmlntMLnoAnE7oXUysvI2P-qXSJpHqiKgpbKX4APH-joN0Y3CC29eDdWRwgtvZhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/56279/p2p/16Uiu2HAmUB7D1PuL5jt2HyPjczw5KnossFbcu82u4FfdUFyuSbxh","/ip4/127.0.0.1/tcp/56280/ws/p2p/16Uiu2HAmUB7D1PuL5jt2HyPjczw5KnossFbcu82u4FfdUFyuSbxh","/ip4/172.17.0.15/tcp/56279/p2p/16Uiu2HAmUB7D1PuL5jt2HyPjczw5KnossFbcu82u4FfdUFyuSbxh","/ip4/172.17.0.15/tcp/56280/ws/p2p/16Uiu2HAmUB7D1PuL5jt2HyPjczw5KnossFbcu82u4FfdUFyuSbxh"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:280 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56278/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.117.136/tcp/54542/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node3_2024-08-17_03-11-22__048240c6-ed7d-438b-854a-b5bfc1a949d9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.177.28
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['45795', '45796', '45797', '45798', '45799']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:429 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:161 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:163 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 45795:45795 -p 45796:45796 -p 45797:45797 -p 45798:45798 -p 45799:45799 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=45797 --rest-port=45795 --tcp-port=45796 --discv5-udp-port=45798 --rest-address=0.0.0.0 --nat=extip:172.18.177.28 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=45799 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QEbrmt0vxb9PHwR4T-jl6pk94h9ZVaXHKO4ZBGKUekO8FnS-9IrJhXtritYeQ-V-owmrl4vKDrHETMolTYjgxQIBgmlkgnY0gmlwhKwSdYiKbXVsdGlhZGRyc4wACgSsEnWIBtUP3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CC1Q6DdWRwgtUQhXdha3UyBQ --filternode=/ip4/172.18.117.136/tcp/54542/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.177.28 waku f137d4edc22e98e994c550c30d26989cbd09638d3ff58b0e3052feb844e96fcb
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID f137d4edc22e. Setting up logs at ./log/docker/node3_2024-08-17_03-11-22__048240c6-ed7d-438b-854a-b5bfc1a949d9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:175 Started container from image wakuorg/nwaku:latest. REST: 45795
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45795/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:275 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45795/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.177.28/tcp/45796/p2p/16Uiu2HAm68FnxvSaSNUWj2xHgL9KcbiaaEF5R9bzpu1AdtyKvrfP","/ip4/172.18.177.28/tcp/45797/ws/p2p/16Uiu2HAm68FnxvSaSNUWj2xHgL9KcbiaaEF5R9bzpu1AdtyKvrfP"],"enrUri":"enr:-LO4QCLLAuh0lWfoFkjVc4pFMz5lcdxltgL_6TyLQ1cAHUxkQs5aYw1OXMV95OdDp3TELGlozYBskfoSZPXvvXb47Z8BgmlkgnY0gmlwhKwSsRyKbXVsdGlhZGRyc4wACgSsErEcBrLl3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKe-lWeYP8Sfyi7VyeudabSql5qdsH5aMsOCXLtBBb2voN0Y3CCsuSDdWRwgrLmhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:280 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45795/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.117.136/tcp/54542/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node4_2024-08-17_03-11-22__048240c6-ed7d-438b-854a-b5bfc1a949d9__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.39.0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['3200', '3201', '3202', '3203', '3204']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:429 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:161 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:163 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 3200:3200 -p 3201:3201 -p 3202:3202 -p 3203:3203 -p 3204:3204 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=3202 --rest-port=3200 --tcp-port=3201 --discv5-udp-port=3203 --rest-address=0.0.0.0 --nat=extip:172.18.39.0 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-LO4QEbrmt0vxb9PHwR4T-jl6pk94h9ZVaXHKO4ZBGKUekO8FnS-9IrJhXtritYeQ-V-owmrl4vKDrHETMolTYjgxQIBgmlkgnY0gmlwhKwSdYiKbXVsdGlhZGRyc4wACgSsEnWIBtUP3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CC1Q6DdWRwgtUQhXdha3UyBQ --filternode=/ip4/172.18.117.136/tcp/54542/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.39.0 waku 6837f1fcfa86ffe2a60a66b5019bd43085dbfdd65cf8ce4762c1fec34d3c050f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 6837f1fcfa86. Setting up logs at ./log/docker/node4_2024-08-17_03-11-22__048240c6-ed7d-438b-854a-b5bfc1a949d9__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:175 Started container from image wakuorg/go-waku:latest. REST: 3200
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3200/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QFv8I24eVP3776Gl_8jRA749tS0OxqkE7XbqPks5JN7QE7qXRVgnmR0mQD_jffekDULOyoNkCRQimY7zX6hoOaqGAZFeUYk7gmlkgnY0gmlwhKwRABKJc2VjcDI1NmsxoQJynn4DVagmkX26KpdmRM_MnZke3FRf4tJdmyoSIXSXXoN0Y3CCDIGDdWRwggyDhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/3201/p2p/16Uiu2HAm396dRpg4gBVjU2GbhUav9rFrvngAShQWQ3hqPpmCcRMF","/ip4/127.0.0.1/tcp/3202/ws/p2p/16Uiu2HAm396dRpg4gBVjU2GbhUav9rFrvngAShQWQ3hqPpmCcRMF","/ip4/172.17.0.18/tcp/3201/p2p/16Uiu2HAm396dRpg4gBVjU2GbhUav9rFrvngAShQWQ3hqPpmCcRMF","/ip4/172.17.0.18/tcp/3202/ws/p2p/16Uiu2HAm396dRpg4gBVjU2GbhUav9rFrvngAShQWQ3hqPpmCcRMF"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:280 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3200/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.117.136/tcp/54542/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node5_2024-08-17_03-11-22__048240c6-ed7d-438b-854a-b5bfc1a949d9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.22.50
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['38888', '38889', '38890', '38891', '38892']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:429 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:161 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:163 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 38888:38888 -p 38889:38889 -p 38890:38890 -p 38891:38891 -p 38892:38892 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=38890 --rest-port=38888 --tcp-port=38889 --discv5-udp-port=38891 --rest-address=0.0.0.0 --nat=extip:172.18.22.50 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=38892 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QEbrmt0vxb9PHwR4T-jl6pk94h9ZVaXHKO4ZBGKUekO8FnS-9IrJhXtritYeQ-V-owmrl4vKDrHETMolTYjgxQIBgmlkgnY0gmlwhKwSdYiKbXVsdGlhZGRyc4wACgSsEnWIBtUP3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CC1Q6DdWRwgtUQhXdha3UyBQ --filternode=/ip4/172.18.117.136/tcp/54542/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.22.50 waku dd1a225af15b8b60ef891dcadc13e1f31cbb9d06f869bdbae4a9ea1cccb5a502
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID dd1a225af15b. Setting up logs at ./log/docker/node5_2024-08-17_03-11-22__048240c6-ed7d-438b-854a-b5bfc1a949d9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:175 Started container from image wakuorg/nwaku:latest. REST: 38888
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38888/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:275 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38888/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.22.50/tcp/38889/p2p/16Uiu2HAmUFJH6besZXcjkrUC142GEipURqfdgXuLM4tbuYL5Aee7","/ip4/172.18.22.50/tcp/38890/ws/p2p/16Uiu2HAmUFJH6besZXcjkrUC142GEipURqfdgXuLM4tbuYL5Aee7"],"enrUri":"enr:-LO4QL7wJVdrWgNeFRlC7KkTGpcrPo1gMkrilxqeJMW6-699JKyNlgNIgcmWYCdMUZP0lplQhBIMkYAcyX85z2RVnzQBgmlkgnY0gmlwhKwSFjKKbXVsdGlhZGRyc4wACgSsEhYyBpfq3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPnqVKEknlt7Z7bxO8S4_-z4dfC7QSSkORUo9yxwUEY5IN0Y3CCl-mDdWRwgpfrhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:280 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38888/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.117.136/tcp/54542/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54541/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56278/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "b0f024c1-4631-488a-9819-de831d2267b5", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"b0f024c1-4631-488a-9819-de831d2267b5","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45795/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "e94f117f-7d7c-4c60-9d2e-564379052485", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"e94f117f-7d7c-4c60-9d2e-564379052485","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3200/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "dd981c84-fdb0-40a7-a225-8996459d4a86", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"dd981c84-fdb0-40a7-a225-8996459d4a86","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38888/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "0277bb55-0693-4802-925c-62bdebc952c0", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"0277bb55-0693-4802-925c-62bdebc952c0","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54541/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56278/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1723864290440375808,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54541/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45795/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:45795/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:219 Stopping container with id 8c69610e59d5
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:219 Stopping container with id 667d2f4d8436
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:219 Stopping container with id f137d4edc22e
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:219 Stopping container with id 6837f1fcfa86
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:219 Stopping container with id dd1a225af15b
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Container stopped.