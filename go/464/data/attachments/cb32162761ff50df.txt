2025-02-12 03:10:00.551 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-12 03:10:00.551 DEBUG [tests.conftest] Running test: test_get_store_messages_with_different_content_topics with id: 2025-02-12_03-10-00__35a15e42-bcf4-48fe-a132-17f0a6c7df29
2025-02-12 03:10:00.551 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-12 03:10:00.552 DEBUG [src.steps.store] Running fixture setup: store_setup
2025-02-12 03:10:00.552 DEBUG [src.steps.store] Running fixture setup: node_setup
2025-02-12 03:10:00.558 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-12 03:10:00.558 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-12_03-10-00__35a15e42-bcf4-48fe-a132-17f0a6c7df29__wakuorg_nwaku:latest.log
2025-02-12 03:10:00.558 DEBUG [src.node.waku_node] Starting Node...
2025-02-12 03:10:00.558 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-12 03:10:00.560 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-12 03:10:00.560 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.208.19
2025-02-12 03:10:00.560 DEBUG [src.node.docker_mananger] Generated ports ['5197', '5198', '5199', '5200', '5201']
2025-02-12 03:10:00.560 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-12 03:10:00.560 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-12 03:10:00.561 DEBUG [src.node.waku_node] Using volumes []
2025-02-12 03:10:00.561 DEBUG [src.node.docker_mananger] docker run -i -t -p 5197:5197 -p 5198:5198 -p 5199:5199 -p 5200:5200 -p 5201:5201 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=5199 --rest-port=5197 --tcp-port=5198 --discv5-udp-port=5200 --rest-address=0.0.0.0 --nat=extip:172.18.208.19 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1b3fbd927e3d97bce5ca528ccc3bfafc85487add2accf7e0ddbfdc49ccaa416d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=5201 --metrics-logging=true --store=true --relay=true
2025-02-12 03:10:00.784 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.208.19 waku 0604cef1a5101aec023b98072135ef23f4857a7335d4819f806eccc6deda80d9
2025-02-12 03:10:00.828 DEBUG [src.node.docker_mananger] Container started with ID 0604cef1a510. Setting up logs at ./log/docker/publishing_node1_2025-02-12_03-10-00__35a15e42-bcf4-48fe-a132-17f0a6c7df29__wakuorg_nwaku:latest.log
2025-02-12 03:10:00.829 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 5197
2025-02-12 03:10:00.830 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-12 03:10:00.836 ERROR [src.node.docker_mananger] Max retries reached for container 9e577b500826. Exiting log stream.
2025-02-12 03:10:01.289 ERROR [src.node.docker_mananger] Max retries reached for container 86165b007eab. Exiting log stream.
2025-02-12 03:10:01.830 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5197/health" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:10:01.833 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-12 03:10:01.833 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-12 03:10:01.834 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5197/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:10:01.836 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.208.19/tcp/5198/p2p/16Uiu2HAmG4Q4T9NkAS5zBw5w1zpPtTzckpxaYFcjY57zH2J4UbLo","/ip4/172.18.208.19/tcp/5199/ws/p2p/16Uiu2HAmG4Q4T9NkAS5zBw5w1zpPtTzckpxaYFcjY57zH2J4UbLo"],"enrUri":"enr:-L24QMNWPBM9epqBCJJYu1Bi07aDPz09jboXwukeK7xTNM3kUMLmc1K80OzWr10JrvGhsQTbJ3RHcedKZBNZ94JWcGUCgmlkgnY0gmlwhKwS0BOKbXVsdGlhZGRyc5YACASsEtATBhROAAoErBLQEwYUT90DgnJzhQADAQAAiXNlY3AyNTZrMaEDMpI6XxmMrJOryPFSI2jFKqDs3Wq8taCnkzIgJKLuJ4yDdGNwghROg3VkcIIUUIV3YWt1MgM"}'
2025-02-12 03:10:01.836 INFO [src.node.waku_node] REST service is ready !!
2025-02-12 03:10:01.843 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-12 03:10:01.843 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-12_03-10-00__35a15e42-bcf4-48fe-a132-17f0a6c7df29__wakuorg_go-waku:latest.log
2025-02-12 03:10:01.843 DEBUG [src.node.waku_node] Starting Node...
2025-02-12 03:10:01.843 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-12 03:10:01.844 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-12 03:10:01.845 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.150.30
2025-02-12 03:10:01.845 DEBUG [src.node.docker_mananger] Generated ports ['7421', '7422', '7423', '7424', '7425']
2025-02-12 03:10:01.845 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-12 03:10:01.845 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-12 03:10:01.845 DEBUG [src.node.waku_node] Using volumes []
2025-02-12 03:10:01.845 DEBUG [src.node.docker_mananger] docker run -i -t -p 7421:7421 -p 7422:7422 -p 7423:7423 -p 7424:7424 -p 7425:7425 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=7423 --rest-port=7421 --tcp-port=7422 --discv5-udp-port=7424 --rest-address=0.0.0.0 --nat=extip:172.18.150.30 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bbd561bcf8aee3fcf3feeceaea39be96acdfdb9e22cadec1402a044eca1e6b1e --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-L24QMNWPBM9epqBCJJYu1Bi07aDPz09jboXwukeK7xTNM3kUMLmc1K80OzWr10JrvGhsQTbJ3RHcedKZBNZ94JWcGUCgmlkgnY0gmlwhKwS0BOKbXVsdGlhZGRyc5YACASsEtATBhROAAoErBLQEwYUT90DgnJzhQADAQAAiXNlY3AyNTZrMaEDMpI6XxmMrJOryPFSI2jFKqDs3Wq8taCnkzIgJKLuJ4yDdGNwghROg3VkcIIUUIV3YWt1MgM --storenode=/ip4/172.18.208.19/tcp/5198/p2p/16Uiu2HAmG4Q4T9NkAS5zBw5w1zpPtTzckpxaYFcjY57zH2J4UbLo --store=true --relay=true
2025-02-12 03:10:02.072 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.150.30 waku cf48bd7ce36c74d1dc9c3df7213d4a88678c1afddcea094629be1cf5decff99f
2025-02-12 03:10:02.120 DEBUG [src.node.docker_mananger] Container started with ID cf48bd7ce36c. Setting up logs at ./log/docker/store_node1_2025-02-12_03-10-00__35a15e42-bcf4-48fe-a132-17f0a6c7df29__wakuorg_go-waku:latest.log
2025-02-12 03:10:02.121 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 7421
2025-02-12 03:10:02.121 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-12 03:10:03.122 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:7421/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:10:03.124 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QGWeJ8S70Rp1Hk-q6SpNReYwVDueCk3tyXbIf3AFIw2_eWus3rBHT65ID9ihQO4BgqGBES6hJeW37OAiu4BqA46GAZT4Io-PgmlkgnY0gmlwhKwRAAaCcnODAAMAiXNlY3AyNTZrMaEDYxDIg7J9ZZd8WBPLakDDAfZsoDjl_Mk64xyDuxsY-jeDdGNwghz-g3VkcIIdAIV3YWt1MgM","listenAddresses":["/ip4/127.0.0.1/tcp/7422/p2p/16Uiu2HAmKKhZCKdj7mkdk3uZSpZ7nvTUjVoudVtWphRv4VhDs1Pk","/ip4/127.0.0.1/tcp/7423/ws/p2p/16Uiu2HAmKKhZCKdj7mkdk3uZSpZ7nvTUjVoudVtWphRv4VhDs1Pk","/ip4/172.17.0.6/tcp/7422/p2p/16Uiu2HAmKKhZCKdj7mkdk3uZSpZ7nvTUjVoudVtWphRv4VhDs1Pk","/ip4/172.17.0.6/tcp/7423/ws/p2p/16Uiu2HAmKKhZCKdj7mkdk3uZSpZ7nvTUjVoudVtWphRv4VhDs1Pk"]}'
2025-02-12 03:10:03.125 INFO [src.node.waku_node] REST service is ready !!
2025-02-12 03:10:03.125 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:7421/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.208.19/tcp/5198/p2p/16Uiu2HAmG4Q4T9NkAS5zBw5w1zpPtTzckpxaYFcjY57zH2J4UbLo", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-12 03:10:03.141 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-12 03:10:03.142 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5197/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-12 03:10:03.163 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 03:10:03.163 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:7421/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-12 03:10:03.165 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-12 03:10:03.168 DEBUG [tests.store.test_get_messages] Running test with content topic /myapp/1/latest/proto
2025-02-12 03:10:03.168 DEBUG [src.steps.store] Relaying message
2025-02-12 03:10:03.168 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5197/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 03:10:03.183 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 03:10:03.183 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-12 03:10:03.385 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-12 03:10:03.385 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5197/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:10:03.388 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x23c5b82c7ef7ef3a1811836bb17ca303afcd13f2e1903f22b9ee18b1770250c3"}]}'
2025-02-12 03:10:03.388 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-12 03:10:03.388 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:7421/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:10:03.394 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"fee1995eeb5b385c400792a70cfa3114a022f6d8444dbceed3887ce0993adb4d","status_code":200,"status_desc":"OK","messages":[{"message_hash":"I8W4LH737zoYEYNrsXyjA6/NE/LhkD8iue4YsXcCUMM="}]}'
2025-02-12 03:10:03.394 DEBUG [tests.store.test_get_messages] Running test with content topic /waku/2/content/test.js
2025-02-12 03:10:03.395 DEBUG [src.steps.store] Relaying message
2025-02-12 03:10:03.395 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5197/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-12 03:10:03.401 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 03:10:03.401 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-12 03:10:03.601 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-12 03:10:03.601 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5197/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fwaku%2F2%2Fcontent%2Ftest.js&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:10:03.604 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x3d5aacb8f707844c5f75f9c3fea898534506a3822ed60872f1f617216bbcc46d"}]}'
2025-02-12 03:10:03.604 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-12 03:10:03.605 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:7421/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fwaku%2F2%2Fcontent%2Ftest.js&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:10:03.609 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"aeb773282e98af3916e7ef90c94d7b1e1624186b178a4764b5f03772837d8525","status_code":200,"status_desc":"OK","messages":[{"message_hash":"PVqsuPcHhExfdfnD/qiYU0UGo4Iu1ghy8fYXIWu8xG0="}]}'
2025-02-12 03:10:03.610 DEBUG [tests.store.test_get_messages] Running test with content topic /app/22/sometopic/someencoding
2025-02-12 03:10:03.610 DEBUG [src.steps.store] Relaying message
2025-02-12 03:10:03.611 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5197/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-12 03:10:03.616 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 03:10:03.616 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-12 03:10:03.816 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-12 03:10:03.817 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5197/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F22%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:10:03.819 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xa3e37c12d1afd90d8e070ec4d5346a5ae6752f5a7011dbf6139592a2b8195ec7"}]}'
2025-02-12 03:10:03.820 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-12 03:10:03.820 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:7421/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F22%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:10:03.824 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"e223ff62efa38d0a7b50ee8dfe9796a1240d8aa305d9034092db6b272cccba45","status_code":200,"status_desc":"OK","messages":[{"message_hash":"o+N8EtGv2Q2OBw7E1TRqWuZ1L1pwEdv2E5WSorgZXsc="}]}'
2025-02-12 03:10:03.825 DEBUG [tests.store.test_get_messages] Running test with content topic /toychat/2/huilong/proto
2025-02-12 03:10:03.826 DEBUG [src.steps.store] Relaying message
2025-02-12 03:10:03.826 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5197/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 03:10:03.831 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 03:10:03.831 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-12 03:10:04.031 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-12 03:10:04.032 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5197/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Ftoychat%2F2%2Fhuilong%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:10:04.035 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xf271b6f0a3b9d46ee864e9160e0c03f150d9cfe2e47b3cbe38f330de70c22922"}]}'
2025-02-12 03:10:04.035 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-12 03:10:04.035 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:7421/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Ftoychat%2F2%2Fhuilong%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:10:04.040 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"16f202a972ea16388c1099a9d100e186e7a7cbd9f35e1118575c3bb5ba7844a4","status_code":200,"status_desc":"OK","messages":[{"message_hash":"8nG28KO51G7oZOkWDgwD8VDZz+Lkezy+OPMw3nDCKSI="}]}'
2025-02-12 03:10:04.042 DEBUG [tests.store.test_get_messages] Running test with content topic /statusim/1/community/cbor
2025-02-12 03:10:04.042 DEBUG [src.steps.store] Relaying message
2025-02-12 03:10:04.042 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5197/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-12 03:10:04.047 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 03:10:04.047 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-12 03:10:04.247 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-12 03:10:04.247 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5197/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fstatusim%2F1%2Fcommunity%2Fcbor&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:10:04.250 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x4a94753eb37b8ec7e410307caf92c26b171668024278bdfc0ddeb8772834398d"}]}'
2025-02-12 03:10:04.250 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-12 03:10:04.251 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:7421/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fstatusim%2F1%2Fcommunity%2Fcbor&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:10:04.255 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"cd2c9d73bd369c533cb6b0c9db7ba9db0c0dc7926fff834aa3cba5c5cd47dad9","status_code":200,"status_desc":"OK","messages":[{"message_hash":"SpR1PrN7jsfkEDB8r5LCaxcWaAJCeL38Dd64dyg0OY0="}]}'
2025-02-12 03:10:04.256 DEBUG [tests.store.test_get_messages] Running test with content topic /app/27/sometopic/someencoding
2025-02-12 03:10:04.256 DEBUG [src.steps.store] Relaying message
2025-02-12 03:10:04.257 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5197/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-12 03:10:04.262 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 03:10:04.262 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-12 03:10:04.462 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-12 03:10:04.463 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5197/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F27%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:10:04.466 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x5422fd3f802d58438117bc6491f457d52ecc2335e3740f8d87aad4d0308ee386"}]}'
2025-02-12 03:10:04.466 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-12 03:10:04.466 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:7421/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F27%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:10:04.470 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"cfa1dcc4e1b45b972fe129b82e0ef092d831ebeda793594dc3cf1b524a4598b5","status_code":200,"status_desc":"OK","messages":[{"message_hash":"VCL9P4AtWEOBF7xkkfRX1S7MIzXjdA+Nh6rU0DCO44Y="}]}'
2025-02-12 03:10:04.471 DEBUG [tests.store.test_get_messages] Running test with content topic /app/29/sometopic/someencoding
2025-02-12 03:10:04.471 DEBUG [src.steps.store] Relaying message
2025-02-12 03:10:04.472 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5197/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-12 03:10:04.479 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 03:10:04.479 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-12 03:10:04.679 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-12 03:10:04.680 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5197/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F29%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:10:04.682 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xc31176e55a42218c2f66514111452e8ff6f30ed19e14bbec567752cd49459bc1"}]}'
2025-02-12 03:10:04.683 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-12 03:10:04.683 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:7421/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F29%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:10:04.687 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"088d66c4a6f3baf49ac39a2257390c0d70bc0cdb630587a8635773c0d9c461f0","status_code":200,"status_desc":"OK","messages":[{"message_hash":"wxF25VpCIYwvZlFBEUUuj/bzDtGeFLvsVndSzUlFm8E="}]}'
2025-02-12 03:10:04.688 DEBUG [tests.store.test_get_messages] Running test with content topic /app/20/sometopic/someencoding
2025-02-12 03:10:04.689 DEBUG [src.steps.store] Relaying message
2025-02-12 03:10:04.689 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5197/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-12 03:10:04.693 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 03:10:04.694 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-12 03:10:04.894 DEBUG [src.steps.store] Checking that peer wakuorg/nwaku:latest can find the stored messages
2025-02-12 03:10:04.894 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5197/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F20%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:10:04.897 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x7444aa859d1060914d74d15a7dd53463f6997bca5f5b4c35eb84c556324096e9"}]}'
2025-02-12 03:10:04.898 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-12 03:10:04.898 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:7421/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F20%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:10:04.903 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"4bb02e92475238279b1172bf295f6aed410fded5c84132010154895f669cdd10","status_code":200,"status_desc":"OK","messages":[{"message_hash":"dESqhZ0QYJFNdNFafdU0Y/aZe8pfW0w164TFVjJAluk="}]}'
2025-02-12 03:10:04.905 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-12 03:10:04.906 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-12 03:10:04.906 DEBUG [src.node.waku_node] Stopping container with id 0604cef1a510
2025-02-12 03:10:05.649 DEBUG [src.node.waku_node] Container stopped.
2025-02-12 03:10:05.650 DEBUG [src.node.waku_node] Stopping container with id cf48bd7ce36c
2025-02-12 03:10:06.172 DEBUG [src.node.waku_node] Container stopped.
2025-02-12 03:10:06.173 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-12 03:10:06.184 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-12 03:10:06.188 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
