2025-02-12 03:06:17.108 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-12 03:06:17.109 DEBUG [tests.conftest] Running test: test_filter_update_subscription_add_30_new_content_topics with id: 2025-02-12_03-06-17__928f2454-ab0d-4fc9-98c7-365d7bf66be7
2025-02-12 03:06:17.109 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-12 03:06:17.109 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2025-02-12 03:06:17.109 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2025-02-12 03:06:17.115 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-12 03:06:17.115 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-12_03-06-17__928f2454-ab0d-4fc9-98c7-365d7bf66be7__wakuorg_nwaku:latest.log
2025-02-12 03:06:17.115 DEBUG [src.node.waku_node] Starting Node...
2025-02-12 03:06:17.115 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-12 03:06:17.117 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-12 03:06:17.117 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.170.173
2025-02-12 03:06:17.117 DEBUG [src.node.docker_mananger] Generated ports ['47192', '47193', '47194', '47195', '47196']
2025-02-12 03:06:17.117 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-12 03:06:17.117 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-12 03:06:17.117 DEBUG [src.node.waku_node] Using volumes []
2025-02-12 03:06:17.117 DEBUG [src.node.docker_mananger] docker run -i -t -p 47192:47192 -p 47193:47193 -p 47194:47194 -p 47195:47195 -p 47196:47196 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=47194 --rest-port=47192 --tcp-port=47193 --discv5-udp-port=47195 --rest-address=0.0.0.0 --nat=extip:172.18.170.173 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=aeae664af196cdf584b76fce73cd8b3e3b2a16186fcec6e170eddc95dee8c9aa --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=47196 --metrics-logging=true --relay=true --filter=true
2025-02-12 03:06:17.337 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.170.173 waku c90b8826ab5a4f62d7439c4ae5ccc3787b1b8aa6bec9a793e97675460e2d50d8
2025-02-12 03:06:17.389 DEBUG [src.node.docker_mananger] Container started with ID c90b8826ab5a. Setting up logs at ./log/docker/node1_2025-02-12_03-06-17__928f2454-ab0d-4fc9-98c7-365d7bf66be7__wakuorg_nwaku:latest.log
2025-02-12 03:06:17.390 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 47192
2025-02-12 03:06:17.391 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-12 03:06:17.915 ERROR [src.node.docker_mananger] Max retries reached for container b21c77ce11a9. Exiting log stream.
2025-02-12 03:06:18.391 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47192/health" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:18.394 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-12 03:06:18.394 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-12 03:06:18.394 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47192/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:18.396 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.170.173/tcp/47193/p2p/16Uiu2HAmPKEvo87FGMkLJQUCwf1hfT3LtKfsS4j3EsPvV9HQn4kf","/ip4/172.18.170.173/tcp/47194/ws/p2p/16Uiu2HAmPKEvo87FGMkLJQUCwf1hfT3LtKfsS4j3EsPvV9HQn4kf"],"enrUri":"enr:-L24QFfKiqsc56QY2dTGPgmSSLUjUty1tbJABlRdl4t8lyY5Fz1zeXaPXu7kcwb1j8nsfwYTsyPRU84_NmYWcBI8_6YCgmlkgnY0gmlwhKwSqq2KbXVsdGlhZGRyc5YACASsEqqtBrhZAAoErBKqrQa4Wt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDnmFsTYHv0QfNQTyMUtJAiDF3qWJXg_NO7BvC7nzjaciDdGNwgrhZg3VkcIK4W4V3YWt1MgU"}'
2025-02-12 03:06:18.397 INFO [src.node.waku_node] REST service is ready !!
2025-02-12 03:06:18.397 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2025-02-12 03:06:18.403 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-12 03:06:18.403 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-12_03-06-17__928f2454-ab0d-4fc9-98c7-365d7bf66be7__wakuorg_go-waku:latest.log
2025-02-12 03:06:18.403 DEBUG [src.node.waku_node] Starting Node...
2025-02-12 03:06:18.403 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-12 03:06:18.404 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-12 03:06:18.405 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.234.251
2025-02-12 03:06:18.405 DEBUG [src.node.docker_mananger] Generated ports ['45976', '45977', '45978', '45979', '45980']
2025-02-12 03:06:18.405 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-12 03:06:18.405 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-12 03:06:18.405 DEBUG [src.node.waku_node] Using volumes []
2025-02-12 03:06:18.405 DEBUG [src.node.docker_mananger] docker run -i -t -p 45976:45976 -p 45977:45977 -p 45978:45978 -p 45979:45979 -p 45980:45980 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=45978 --rest-port=45976 --tcp-port=45977 --discv5-udp-port=45979 --rest-address=0.0.0.0 --nat=extip:172.18.234.251 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6349798a6fca1c8bc1f6d5628d7ee76ea1ea03af184fd4162a6a877818bedb94 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QFfKiqsc56QY2dTGPgmSSLUjUty1tbJABlRdl4t8lyY5Fz1zeXaPXu7kcwb1j8nsfwYTsyPRU84_NmYWcBI8_6YCgmlkgnY0gmlwhKwSqq2KbXVsdGlhZGRyc5YACASsEqqtBrhZAAoErBKqrQa4Wt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDnmFsTYHv0QfNQTyMUtJAiDF3qWJXg_NO7BvC7nzjaciDdGNwgrhZg3VkcIK4W4V3YWt1MgU --filternode=/ip4/172.18.170.173/tcp/47193/p2p/16Uiu2HAmPKEvo87FGMkLJQUCwf1hfT3LtKfsS4j3EsPvV9HQn4kf --pubsub-topic=/waku/2/rs/3/1
2025-02-12 03:06:18.634 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.234.251 waku 0ed33b62b20fca0c28624f53050ef2eb1c087a5c1d2fd813fc8d0de7318a6089
2025-02-12 03:06:18.687 DEBUG [src.node.docker_mananger] Container started with ID 0ed33b62b20f. Setting up logs at ./log/docker/node2_2025-02-12_03-06-17__928f2454-ab0d-4fc9-98c7-365d7bf66be7__wakuorg_go-waku:latest.log
2025-02-12 03:06:18.688 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 45976
2025-02-12 03:06:18.689 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-12 03:06:19.690 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45976/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:19.692 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QL3td1SVDkX5BSQ48i56D8SFZLs-c5NVvUlcQb97ovgsH9THFvYk7tBvdPCL2QNGC7zW1G5yMHyPub6JPa7zLimGAZT4Hya5gmlkgnY0gmlwhKwRAAOCcnOFAAMBAAGJc2VjcDI1NmsxoQIS7O6xsuKyccj_Tbj2E4hst3Hw_jxxOBDxXWoVbR2_VoN0Y3CCs5mDdWRwgrObhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/45977/p2p/16Uiu2HAkvhYrzdXwU5zG837D9EwUt6zwpUonrxgRPXeKdBUxvynm","/ip4/127.0.0.1/tcp/45978/ws/p2p/16Uiu2HAkvhYrzdXwU5zG837D9EwUt6zwpUonrxgRPXeKdBUxvynm","/ip4/172.17.0.3/tcp/45977/p2p/16Uiu2HAkvhYrzdXwU5zG837D9EwUt6zwpUonrxgRPXeKdBUxvynm","/ip4/172.17.0.3/tcp/45978/ws/p2p/16Uiu2HAkvhYrzdXwU5zG837D9EwUt6zwpUonrxgRPXeKdBUxvynm"]}'
2025-02-12 03:06:19.692 INFO [src.node.waku_node] REST service is ready !!
2025-02-12 03:06:19.693 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45976/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.170.173/tcp/47193/p2p/16Uiu2HAmPKEvo87FGMkLJQUCwf1hfT3LtKfsS4j3EsPvV9HQn4kf", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-12 03:06:19.694 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-12 03:06:19.696 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:47192/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-12 03:06:19.698 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 03:06:19.699 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45976/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "e1883dbf-8ff3-418d-82aa-026fe3e8fbb2", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2025-02-12 03:06:19.704 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"e1883dbf-8ff3-418d-82aa-026fe3e8fbb2","statusDesc":"OK"}'
2025-02-12 03:06:19.707 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-12 03:06:19.708 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-12 03:06:19.708 DEBUG [src.node.waku_node] Stopping container with id c90b8826ab5a
2025-02-12 03:06:20.295 DEBUG [src.node.waku_node] Container stopped.
2025-02-12 03:06:20.295 DEBUG [src.node.waku_node] Stopping container with id 0ed33b62b20f
2025-02-12 03:06:21.124 ERROR [src.node.docker_mananger] Max retries reached for container c90b8826ab5a. Exiting log stream.
2025-02-12 03:06:21.185 DEBUG [src.node.waku_node] Container stopped.
2025-02-12 03:06:21.187 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-12 03:06:21.194 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-12 03:06:21.197 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
