2025-02-12 03:08:00.858 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-12 03:08:00.860 DEBUG [tests.conftest] Running test: test_relay_unsubscribe_from_some_pubsub_topics with id: 2025-02-12_03-08-00__c4594b1f-1994-4cba-b7ae-f30168f8691e
2025-02-12 03:08:00.861 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-12 03:08:00.861 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-12 03:08:00.861 DEBUG [src.steps.relay] Running fixture setup: setup_main_relay_nodes
2025-02-12 03:08:00.868 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-12 03:08:00.868 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-12_03-08-00__c4594b1f-1994-4cba-b7ae-f30168f8691e__wakuorg_nwaku:latest.log
2025-02-12 03:08:00.868 DEBUG [src.node.waku_node] Starting Node...
2025-02-12 03:08:00.868 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-12 03:08:00.869 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-12 03:08:00.869 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.238.124
2025-02-12 03:08:00.870 DEBUG [src.node.docker_mananger] Generated ports ['54401', '54402', '54403', '54404', '54405']
2025-02-12 03:08:00.870 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-12 03:08:00.870 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-12 03:08:00.870 DEBUG [src.node.waku_node] Using volumes []
2025-02-12 03:08:00.870 DEBUG [src.node.docker_mananger] docker run -i -t -p 54401:54401 -p 54402:54402 -p 54403:54403 -p 54404:54404 -p 54405:54405 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=54403 --rest-port=54401 --tcp-port=54402 --discv5-udp-port=54404 --rest-address=0.0.0.0 --nat=extip:172.18.238.124 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7d2921204e208ee1caea59fb7fdc4f4adfad5878dfd017a7402abeddbc1c6f0c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=54405 --metrics-logging=true --relay=true
2025-02-12 03:08:01.098 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.238.124 waku 9a16db1dcdd8af3c0f9464ec8dac897e003f8d253f4a377567b6db205444c0f3
2025-02-12 03:08:01.120 ERROR [src.node.docker_mananger] Max retries reached for container 0705ea998b4e. Exiting log stream.
2025-02-12 03:08:01.147 DEBUG [src.node.docker_mananger] Container started with ID 9a16db1dcdd8. Setting up logs at ./log/docker/node1_2025-02-12_03-08-00__c4594b1f-1994-4cba-b7ae-f30168f8691e__wakuorg_nwaku:latest.log
2025-02-12 03:08:01.148 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 54401
2025-02-12 03:08:01.148 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-12 03:08:01.671 ERROR [src.node.docker_mananger] Max retries reached for container e75c1228559b. Exiting log stream.
2025-02-12 03:08:02.148 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54401/health" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:08:02.151 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-12 03:08:02.151 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-12 03:08:02.152 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54401/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:08:02.154 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.238.124/tcp/54402/p2p/16Uiu2HAm6Z6eHogeiz2tPViW67wbNwojDvJ1hzA73xWdgtutEV3F","/ip4/172.18.238.124/tcp/54403/ws/p2p/16Uiu2HAm6Z6eHogeiz2tPViW67wbNwojDvJ1hzA73xWdgtutEV3F"],"enrUri":"enr:-L24QAl9jTTfqAbZCDufYMjMQRpSYWeihG4rAXDH9vH-H-6lDdfh9PunMhujF8NAIYDvEh8YEl63ud2noWkpE1q44GkCgmlkgnY0gmlwhKwS7nyKbXVsdGlhZGRyc5YACASsEu58BtSCAAoErBLufAbUg90DgnJzhQADAQAAiXNlY3AyNTZrMaECpVeCXUEFdRQOH1MoYs65gfrCdLAmG2_-_gEggKMzXWqDdGNwgtSCg3VkcILUhIV3YWt1MgE"}'
2025-02-12 03:08:02.154 INFO [src.node.waku_node] REST service is ready !!
2025-02-12 03:08:02.160 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-12 03:08:02.160 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-12_03-08-00__c4594b1f-1994-4cba-b7ae-f30168f8691e__wakuorg_go-waku:latest.log
2025-02-12 03:08:02.160 DEBUG [src.node.waku_node] Starting Node...
2025-02-12 03:08:02.161 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-12 03:08:02.162 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-12 03:08:02.162 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.222.155
2025-02-12 03:08:02.162 DEBUG [src.node.docker_mananger] Generated ports ['49294', '49295', '49296', '49297', '49298']
2025-02-12 03:08:02.162 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-12 03:08:02.163 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-12 03:08:02.163 DEBUG [src.node.waku_node] Using volumes []
2025-02-12 03:08:02.163 DEBUG [src.node.docker_mananger] docker run -i -t -p 49294:49294 -p 49295:49295 -p 49296:49296 -p 49297:49297 -p 49298:49298 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=49296 --rest-port=49294 --tcp-port=49295 --discv5-udp-port=49297 --rest-address=0.0.0.0 --nat=extip:172.18.222.155 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d3a817bf8cecaf0a783cc4a18acafb98dfb0853007fbccc6a3d7d8669cbddba0 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-L24QAl9jTTfqAbZCDufYMjMQRpSYWeihG4rAXDH9vH-H-6lDdfh9PunMhujF8NAIYDvEh8YEl63ud2noWkpE1q44GkCgmlkgnY0gmlwhKwS7nyKbXVsdGlhZGRyc5YACASsEu58BtSCAAoErBLufAbUg90DgnJzhQADAQAAiXNlY3AyNTZrMaECpVeCXUEFdRQOH1MoYs65gfrCdLAmG2_-_gEggKMzXWqDdGNwgtSCg3VkcILUhIV3YWt1MgE
2025-02-12 03:08:02.396 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.222.155 waku ffa868a504d528abed9b1e9e40f053ac0b691747393573a9a7389a6efa3ed3fa
2025-02-12 03:08:02.452 DEBUG [src.node.docker_mananger] Container started with ID ffa868a504d5. Setting up logs at ./log/docker/node2_2025-02-12_03-08-00__c4594b1f-1994-4cba-b7ae-f30168f8691e__wakuorg_go-waku:latest.log
2025-02-12 03:08:02.453 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 49294
2025-02-12 03:08:02.454 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-12 03:08:03.454 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49294/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:08:03.457 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QCQSxJzDTvQ9XPuIZyZnsQIJWz3oMjg0myjZuNl05-w7M7XQRt0FSxUqIy6U_uaDktXIq2J2N-chdOuNUTKKL_-GAZT4ILwJgmlkgnY0gmlwhKwRAAOCcnODAAMAiXNlY3AyNTZrMaECxHWcDr29muKP5CPH_ihksxIZxoUtDNkFi4XmZUGLPdCDdGNwgsCPg3VkcILAkYV3YWt1MgE","listenAddresses":["/ip4/127.0.0.1/tcp/49295/p2p/16Uiu2HAm8eZuLv8kk1tasJUF9t4UjroAcVBGgCjULrJ35n17dEto","/ip4/127.0.0.1/tcp/49296/ws/p2p/16Uiu2HAm8eZuLv8kk1tasJUF9t4UjroAcVBGgCjULrJ35n17dEto","/ip4/172.17.0.3/tcp/49295/p2p/16Uiu2HAm8eZuLv8kk1tasJUF9t4UjroAcVBGgCjULrJ35n17dEto","/ip4/172.17.0.3/tcp/49296/ws/p2p/16Uiu2HAm8eZuLv8kk1tasJUF9t4UjroAcVBGgCjULrJ35n17dEto"]}'
2025-02-12 03:08:03.457 INFO [src.node.waku_node] REST service is ready !!
2025-02-12 03:08:03.458 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:49294/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.238.124/tcp/54402/p2p/16Uiu2HAm6Z6eHogeiz2tPViW67wbNwojDvJ1hzA73xWdgtutEV3F", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-12 03:08:03.474 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-12 03:08:03.476 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54401/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9", "/waku/2/rs/3/25", "/waku/2/rs/3/1000"]'
2025-02-12 03:08:03.501 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 03:08:03.501 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:49294/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9", "/waku/2/rs/3/25", "/waku/2/rs/3/1000"]'
2025-02-12 03:08:03.503 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-12 03:08:03.504 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54401/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 03:08:03.508 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 03:08:03.510 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 03:08:03.611 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 03:08:03.611 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54401/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:08:03.613 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739329683504494848,"ephemeral":false}]'
2025-02-12 03:08:03.615 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-12 03:08:03.615 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49294/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:08:03.616 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-12 03:08:04.618 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54401/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 03:08:04.622 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 03:08:04.622 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 03:08:04.722 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 03:08:04.723 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54401/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:08:04.725 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739329684617801984,"ephemeral":false}]'
2025-02-12 03:08:04.727 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-12 03:08:04.727 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49294/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:08:04.728 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739329684617801984,"ephemeral":false}]'
2025-02-12 03:08:04.730 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54401/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 03:08:04.734 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 03:08:04.734 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 03:08:04.835 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 03:08:04.835 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54401/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:08:04.837 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739329684730501376,"ephemeral":false}]'
2025-02-12 03:08:04.838 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-12 03:08:04.838 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49294/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:08:04.840 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739329684730501376,"ephemeral":false}]'
2025-02-12 03:08:04.842 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54401/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F9" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 03:08:04.846 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 03:08:04.846 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 03:08:04.946 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 03:08:04.947 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54401/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F9" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:08:04.949 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739329684842175744,"ephemeral":false}]'
2025-02-12 03:08:04.950 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-12 03:08:04.950 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49294/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F9" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:08:04.952 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739329684842175744,"ephemeral":false}]'
2025-02-12 03:08:04.953 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54401/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 03:08:04.957 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 03:08:04.958 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 03:08:05.058 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 03:08:05.058 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54401/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:08:05.060 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739329684953840128,"ephemeral":false}]'
2025-02-12 03:08:05.062 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-12 03:08:05.062 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49294/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:08:05.063 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739329684953840128,"ephemeral":false}]'
2025-02-12 03:08:05.065 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54401/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 03:08:05.069 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 03:08:05.069 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 03:08:05.170 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 03:08:05.170 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54401/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:08:05.172 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739329685065513472,"ephemeral":false}]'
2025-02-12 03:08:05.173 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-12 03:08:05.174 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49294/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:08:05.175 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739329685065513472,"ephemeral":false}]'
2025-02-12 03:08:05.177 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:54401/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9"]'
2025-02-12 03:08:05.183 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 03:08:05.183 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:49294/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9"]'
2025-02-12 03:08:05.185 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-12 03:08:05.186 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54401/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 03:08:05.191 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:54401/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/3/0'
2025-02-12 03:08:05.191 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54401/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 03:08:05.193 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:54401/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/3/1'
2025-02-12 03:08:05.193 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54401/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F9" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 03:08:05.196 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:54401/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F9. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/3/9'
2025-02-12 03:08:05.196 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54401/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 03:08:05.200 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 03:08:05.200 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 03:08:05.300 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 03:08:05.300 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54401/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:08:05.303 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739329685196485632,"ephemeral":false}]'
2025-02-12 03:08:05.304 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-12 03:08:05.304 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49294/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:08:05.306 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739329685196485632,"ephemeral":false}]'
2025-02-12 03:08:05.308 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54401/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 03:08:05.312 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 03:08:05.312 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 03:08:05.412 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 03:08:05.412 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54401/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:08:05.414 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739329685307989760,"ephemeral":false}]'
2025-02-12 03:08:05.416 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-12 03:08:05.416 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49294/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:08:05.417 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739329685307989760,"ephemeral":false}]'
2025-02-12 03:08:05.420 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-12 03:08:05.421 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-12 03:08:05.421 DEBUG [src.node.waku_node] Stopping container with id 9a16db1dcdd8
2025-02-12 03:08:06.612 DEBUG [src.node.waku_node] Container stopped.
2025-02-12 03:08:06.612 DEBUG [src.node.waku_node] Stopping container with id ffa868a504d5
2025-02-12 03:08:07.120 DEBUG [src.node.waku_node] Container stopped.
2025-02-12 03:08:07.123 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-12 03:08:07.138 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-12 03:08:07.142 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
