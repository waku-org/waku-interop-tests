2025-02-12 03:06:04.292 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-12 03:06:04.292 DEBUG [tests.conftest] Running test: test_light_push_with_valid_content_topics with id: 2025-02-12_03-06-04__8778e06f-fbfc-4c44-a2a6-11a9ac5b2acc
2025-02-12 03:06:04.293 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-12 03:06:04.293 DEBUG [src.steps.light_push] Running fixture setup: light_push_setup
2025-02-12 03:06:04.300 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-12 03:06:04.300 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node1_2025-02-12_03-06-04__8778e06f-fbfc-4c44-a2a6-11a9ac5b2acc__wakuorg_nwaku:latest.log
2025-02-12 03:06:04.300 DEBUG [src.node.waku_node] Starting Node...
2025-02-12 03:06:04.300 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-12 03:06:04.302 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-12 03:06:04.302 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.0.39
2025-02-12 03:06:04.302 DEBUG [src.node.docker_mananger] Generated ports ['32815', '32816', '32817', '32818', '32819']
2025-02-12 03:06:04.302 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-12 03:06:04.302 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-12 03:06:04.302 DEBUG [src.node.waku_node] Using volumes []
2025-02-12 03:06:04.303 DEBUG [src.node.docker_mananger] docker run -i -t -p 32815:32815 -p 32816:32816 -p 32817:32817 -p 32818:32818 -p 32819:32819 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=32817 --rest-port=32815 --tcp-port=32816 --discv5-udp-port=32818 --rest-address=0.0.0.0 --nat=extip:172.18.0.39 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d6e2b5dc0debca97c650c53ee22fd75b237ff2ca0dc9f0a891b7ce22b0ffa541 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=32819 --metrics-logging=true --lightpush=true --relay=true
2025-02-12 03:06:04.543 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.0.39 waku 3bbf861d5087b7dab3c180b4f311403016f2c60e902ef1e910fbd741ed8a9372
2025-02-12 03:06:04.590 DEBUG [src.node.docker_mananger] Container started with ID 3bbf861d5087. Setting up logs at ./log/docker/receiving_node1_2025-02-12_03-06-04__8778e06f-fbfc-4c44-a2a6-11a9ac5b2acc__wakuorg_nwaku:latest.log
2025-02-12 03:06:04.592 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 32815
2025-02-12 03:06:04.594 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-12 03:06:04.603 ERROR [src.node.docker_mananger] Max retries reached for container 6b5bb3c96a6c. Exiting log stream.
2025-02-12 03:06:05.083 ERROR [src.node.docker_mananger] Max retries reached for container 38bab0a0743a. Exiting log stream.
2025-02-12 03:06:05.594 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32815/health" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:05.597 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-12 03:06:05.597 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-12 03:06:05.597 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32815/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:05.600 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.0.39/tcp/32816/p2p/16Uiu2HAmHGQvAEpBvza1KJ2w55EkjerYsgb1b21M85MBUH3SzUEs","/ip4/172.18.0.39/tcp/32817/ws/p2p/16Uiu2HAmHGQvAEpBvza1KJ2w55EkjerYsgb1b21M85MBUH3SzUEs"],"enrUri":"enr:-L24QKViJ3Ti9PF2slZw9DUPBtIv6fm0rtdXScE824kQyh6rAQqDmUKj9XU5pdmuzwQhi7K-tXiCWTBi7QmO_5PvhNQCgmlkgnY0gmlwhKwSACeKbXVsdGlhZGRyc5YACASsEgAnBoAwAAoErBIAJwaAMd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDRIHajMtEqKAc7eLzgnckufZLLQRMX36i8TiI37MfxCiDdGNwgoAwg3VkcIKAMoV3YWt1Mgk"}'
2025-02-12 03:06:05.600 INFO [src.node.waku_node] REST service is ready !!
2025-02-12 03:06:05.607 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-12 03:06:05.607 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node2_2025-02-12_03-06-04__8778e06f-fbfc-4c44-a2a6-11a9ac5b2acc__wakuorg_nwaku:latest.log
2025-02-12 03:06:05.607 DEBUG [src.node.waku_node] Starting Node...
2025-02-12 03:06:05.607 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-12 03:06:05.608 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-12 03:06:05.608 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.80.3
2025-02-12 03:06:05.609 DEBUG [src.node.docker_mananger] Generated ports ['58544', '58545', '58546', '58547', '58548']
2025-02-12 03:06:05.609 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-12 03:06:05.609 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-12 03:06:05.609 DEBUG [src.node.waku_node] Using volumes []
2025-02-12 03:06:05.609 DEBUG [src.node.docker_mananger] docker run -i -t -p 58544:58544 -p 58545:58545 -p 58546:58546 -p 58547:58547 -p 58548:58548 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=58546 --rest-port=58544 --tcp-port=58545 --discv5-udp-port=58547 --rest-address=0.0.0.0 --nat=extip:172.18.80.3 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b0bf1db90ffdfe0ba4c7a899d01e4b04d18a2cf940ddee5cbc15ff0865fdef1d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=58548 --metrics-logging=true --lightpush=false --relay=true
2025-02-12 03:06:05.839 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.80.3 waku d3a77d016571d17cdf07c841f76c5353211141cf3a18b942936531f2daf4b510
2025-02-12 03:06:05.889 DEBUG [src.node.docker_mananger] Container started with ID d3a77d016571. Setting up logs at ./log/docker/receiving_node2_2025-02-12_03-06-04__8778e06f-fbfc-4c44-a2a6-11a9ac5b2acc__wakuorg_nwaku:latest.log
2025-02-12 03:06:05.889 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 58544
2025-02-12 03:06:05.889 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-12 03:06:06.890 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58544/health" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:06.892 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-12 03:06:06.893 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-12 03:06:06.893 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58544/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:06.895 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.80.3/tcp/58545/p2p/16Uiu2HAmFCgVHLmnTZaGyZuQayzYKsa1YtXCAUY2HAMvDdbJJ3BK","/ip4/172.18.80.3/tcp/58546/ws/p2p/16Uiu2HAmFCgVHLmnTZaGyZuQayzYKsa1YtXCAUY2HAMvDdbJJ3BK"],"enrUri":"enr:-L24QDUqCmfqHgul6EQfI0pmdesQiohf-YvkkJRx_AoQxnB3T-vGeJv5m90PhD2Nu71QmC-RZkoRKqM0X0U69_uXiuoCgmlkgnY0gmlwhKwSUAOKbXVsdGlhZGRyc5YACASsElADBuSxAAoErBJQAwbkst0DgnJzhQADAQAAiXNlY3AyNTZrMaEDJdXDTRAXcoAR27TQ8OwzO9lY28PMrDao8n3oFIP8hpaDdGNwguSxg3VkcILks4V3YWt1MgE"}'
2025-02-12 03:06:06.895 INFO [src.node.waku_node] REST service is ready !!
2025-02-12 03:06:06.896 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58544/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.0.39/tcp/32816/p2p/16Uiu2HAmHGQvAEpBvza1KJ2w55EkjerYsgb1b21M85MBUH3SzUEs"]'
2025-02-12 03:06:06.940 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 03:06:06.947 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-12 03:06:06.947 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/lightpush_node1_2025-02-12_03-06-04__8778e06f-fbfc-4c44-a2a6-11a9ac5b2acc__wakuorg_go-waku:latest.log
2025-02-12 03:06:06.947 DEBUG [src.node.waku_node] Starting Node...
2025-02-12 03:06:06.947 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-12 03:06:06.949 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-12 03:06:06.949 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.36.181
2025-02-12 03:06:06.949 DEBUG [src.node.docker_mananger] Generated ports ['2857', '2858', '2859', '2860', '2861']
2025-02-12 03:06:06.949 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-12 03:06:06.949 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-12 03:06:06.949 DEBUG [src.node.waku_node] Using volumes []
2025-02-12 03:06:06.950 DEBUG [src.node.docker_mananger] docker run -i -t -p 2857:2857 -p 2858:2858 -p 2859:2859 -p 2860:2860 -p 2861:2861 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=2859 --rest-port=2857 --tcp-port=2858 --discv5-udp-port=2860 --rest-address=0.0.0.0 --nat=extip:172.18.36.181 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=15ff34cbfd11fd8de6dfedf1f204ee6add2fadc1bd139ccdcaceceaaf0e04fbb --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-L24QKViJ3Ti9PF2slZw9DUPBtIv6fm0rtdXScE824kQyh6rAQqDmUKj9XU5pdmuzwQhi7K-tXiCWTBi7QmO_5PvhNQCgmlkgnY0gmlwhKwSACeKbXVsdGlhZGRyc5YACASsEgAnBoAwAAoErBIAJwaAMd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDRIHajMtEqKAc7eLzgnckufZLLQRMX36i8TiI37MfxCiDdGNwgoAwg3VkcIKAMoV3YWt1Mgk --lightpushnode=/ip4/172.18.0.39/tcp/32816/p2p/16Uiu2HAmHGQvAEpBvza1KJ2w55EkjerYsgb1b21M85MBUH3SzUEs --lightpush=true --relay=false --pubsub-topic=/waku/2/rs/3/1
2025-02-12 03:06:07.190 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.36.181 waku e05088944fafb548e125b911f76c014905a6b61b10fc8ce9fc32a2d23e8abac2
2025-02-12 03:06:07.237 DEBUG [src.node.docker_mananger] Container started with ID e05088944faf. Setting up logs at ./log/docker/lightpush_node1_2025-02-12_03-06-04__8778e06f-fbfc-4c44-a2a6-11a9ac5b2acc__wakuorg_go-waku:latest.log
2025-02-12 03:06:07.238 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 2857
2025-02-12 03:06:07.238 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-12 03:06:08.238 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2857/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:08.241 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QDAqsO3zSThySJ6uJ6UYbeDPLKIAOJlHUj28OW2_7sAdSyBOJ6JYxA9vO-iOzZ8aAuDMsxd6RzqxXyZM7M8VG_2GAZT4HvoIgmlkgnY0gmlwhKwRAASCcnOFAAMBAAGJc2VjcDI1NmsxoQOKkYasEWgdGRFUpmWDkkIUkFQqLjsOUn8wyvYQtcZiuIN0Y3CCCyqDdWRwggsshXdha3UyCA","listenAddresses":["/ip4/127.0.0.1/tcp/2858/p2p/16Uiu2HAmMyuKLL1mFkc1fbD4nVywJ9zra33ft1HL58uVmbqg8BnP","/ip4/127.0.0.1/tcp/2859/ws/p2p/16Uiu2HAmMyuKLL1mFkc1fbD4nVywJ9zra33ft1HL58uVmbqg8BnP","/ip4/172.17.0.4/tcp/2858/p2p/16Uiu2HAmMyuKLL1mFkc1fbD4nVywJ9zra33ft1HL58uVmbqg8BnP","/ip4/172.17.0.4/tcp/2859/ws/p2p/16Uiu2HAmMyuKLL1mFkc1fbD4nVywJ9zra33ft1HL58uVmbqg8BnP"]}'
2025-02-12 03:06:08.241 INFO [src.node.waku_node] REST service is ready !!
2025-02-12 03:06:08.241 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2857/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.0.39/tcp/32816/p2p/16Uiu2HAmHGQvAEpBvza1KJ2w55EkjerYsgb1b21M85MBUH3SzUEs", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-12 03:06:08.243 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-12 03:06:08.244 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2857/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.80.3/tcp/58545/p2p/16Uiu2HAmFCgVHLmnTZaGyZuQayzYKsa1YtXCAUY2HAMvDdbJJ3BK", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-12 03:06:08.258 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-12 03:06:08.259 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:32815/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-12 03:06:08.266 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 03:06:08.267 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:58544/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-12 03:06:08.271 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 03:06:08.272 DEBUG [tests.light_push.test_publish] Running test with content topic A simple string
2025-02-12 03:06:08.272 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 03:06:08.273 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2857/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "Hello World!", "timestamp": 1739329568272723456}}'
2025-02-12 03:06:08.279 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-12 03:06:08.281 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 03:06:08.381 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:08.382 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32815/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:08.384 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Hello World!","version":0,"timestamp":1739329568272723456,"ephemeral":false}]'
2025-02-12 03:06:08.386 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:08.386 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58544/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:08.389 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Hello World!","version":0,"timestamp":1739329568272723456,"ephemeral":false}]'
2025-02-12 03:06:08.390 DEBUG [tests.light_push.test_publish] Running test with content topic An integer
2025-02-12 03:06:08.391 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 03:06:08.391 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2857/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "1234567890", "timestamp": 1739329568390980608}}'
2025-02-12 03:06:08.397 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-12 03:06:08.399 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 03:06:08.499 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:08.500 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32815/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:08.502 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"1234567890","version":0,"timestamp":1739329568390980608,"ephemeral":false}]'
2025-02-12 03:06:08.504 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:08.504 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58544/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:08.506 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"1234567890","version":0,"timestamp":1739329568390980608,"ephemeral":false}]'
2025-02-12 03:06:08.507 DEBUG [tests.light_push.test_publish] Running test with content topic A dictionary
2025-02-12 03:06:08.508 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 03:06:08.508 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2857/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "{\"key\": \"value\"}", "timestamp": 1739329568508195328}}'
2025-02-12 03:06:08.514 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-12 03:06:08.516 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 03:06:08.616 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:08.617 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32815/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:08.620 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"{\\"key\\": \\"value\\"}","version":0,"timestamp":1739329568508195328,"ephemeral":false}]'
2025-02-12 03:06:08.621 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:08.622 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58544/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:08.624 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"{\\"key\\": \\"value\\"}","version":0,"timestamp":1739329568508195328,"ephemeral":false}]'
2025-02-12 03:06:08.625 DEBUG [tests.light_push.test_publish] Running test with content topic Chinese characters
2025-02-12 03:06:08.625 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 03:06:08.626 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2857/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "\u8fd9\u662f\u4e00\u4e9b\u4e2d\u6587", "timestamp": 1739329568625803264}}'
2025-02-12 03:06:08.631 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-12 03:06:08.633 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 03:06:08.734 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:08.734 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32815/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:08.737 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xe8\xbf\x99\xe6\x98\xaf\xe4\xb8\x80\xe4\xba\x9b\xe4\xb8\xad\xe6\x96\x87","version":0,"timestamp":1739329568625803264,"ephemeral":false}]'
2025-02-12 03:06:08.738 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:08.738 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58544/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:08.741 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xe8\xbf\x99\xe6\x98\xaf\xe4\xb8\x80\xe4\xba\x9b\xe4\xb8\xad\xe6\x96\x87","version":0,"timestamp":1739329568625803264,"ephemeral":false}]'
2025-02-12 03:06:08.742 DEBUG [tests.light_push.test_publish] Running test with content topic Emojis
2025-02-12 03:06:08.743 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 03:06:08.743 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2857/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "\ud83d\ude80\ud83c\udf1f\u2728", "timestamp": 1739329568742893312}}'
2025-02-12 03:06:08.749 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-12 03:06:08.749 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 03:06:08.850 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:08.850 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32815/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:08.853 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xf0\x9f\x9a\x80\xf0\x9f\x8c\x9f\xe2\x9c\xa8","version":0,"timestamp":1739329568742893312,"ephemeral":false}]'
2025-02-12 03:06:08.855 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:08.855 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58544/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:08.857 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xf0\x9f\x9a\x80\xf0\x9f\x8c\x9f\xe2\x9c\xa8","version":0,"timestamp":1739329568742893312,"ephemeral":false}]'
2025-02-12 03:06:08.858 DEBUG [tests.light_push.test_publish] Running test with content topic Lorem ipsum text
2025-02-12 03:06:08.859 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 03:06:08.859 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2857/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "Lorem ipsum dolor sit amet", "timestamp": 1739329568859232256}}'
2025-02-12 03:06:08.866 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-12 03:06:08.867 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 03:06:08.967 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:08.968 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32815/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:08.970 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Lorem ipsum dolor sit amet","version":0,"timestamp":1739329568859232256,"ephemeral":false}]'
2025-02-12 03:06:08.972 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:08.972 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58544/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:08.974 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Lorem ipsum dolor sit amet","version":0,"timestamp":1739329568859232256,"ephemeral":false}]'
2025-02-12 03:06:08.976 DEBUG [tests.light_push.test_publish] Running test with content topic HTML content
2025-02-12 03:06:08.976 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 03:06:08.977 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2857/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "<html><body>Hello</body></html>", "timestamp": 1739329568976617728}}'
2025-02-12 03:06:08.983 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-12 03:06:08.984 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 03:06:09.085 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:09.085 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32815/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:09.088 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"<html><body>Hello</body></html>","version":0,"timestamp":1739329568976617728,"ephemeral":false}]'
2025-02-12 03:06:09.089 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:09.090 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58544/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:09.092 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"<html><body>Hello</body></html>","version":0,"timestamp":1739329568976617728,"ephemeral":false}]'
2025-02-12 03:06:09.093 DEBUG [tests.light_push.test_publish] Running test with content topic Cyrillic characters
2025-02-12 03:06:09.094 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 03:06:09.094 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2857/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "\u041f\u0440\u0438\u0432\u0435\u0442", "timestamp": 1739329569093854208}}'
2025-02-12 03:06:09.100 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-12 03:06:09.101 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 03:06:09.202 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:09.202 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32815/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:09.204 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xd0\x9f\xd1\x80\xd0\xb8\xd0\xb2\xd0\xb5\xd1\x82","version":0,"timestamp":1739329569093854208,"ephemeral":false}]'
2025-02-12 03:06:09.206 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:09.206 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58544/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:09.209 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xd0\x9f\xd1\x80\xd0\xb8\xd0\xb2\xd0\xb5\xd1\x82","version":0,"timestamp":1739329569093854208,"ephemeral":false}]'
2025-02-12 03:06:09.210 DEBUG [tests.light_push.test_publish] Running test with content topic Base64 encoded string
2025-02-12 03:06:09.211 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 03:06:09.211 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2857/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "Base64==dGVzdA==", "timestamp": 1739329569210954240}}'
2025-02-12 03:06:09.217 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-12 03:06:09.218 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 03:06:09.319 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:09.319 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32815/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:09.322 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Base64==dGVzdA==","version":0,"timestamp":1739329569210954240,"ephemeral":false}]'
2025-02-12 03:06:09.323 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:09.323 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58544/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:09.326 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Base64==dGVzdA==","version":0,"timestamp":1739329569210954240,"ephemeral":false}]'
2025-02-12 03:06:09.327 DEBUG [tests.light_push.test_publish] Running test with content topic Binary data
2025-02-12 03:06:09.327 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 03:06:09.328 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2857/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "d29ya2luZyB3aXRoIGJpbmFyeSBkYXRh: PQ", "timestamp": 1739329569327796480}}'
2025-02-12 03:06:09.335 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-12 03:06:09.337 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 03:06:09.438 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:09.438 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32815/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:09.441 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"d29ya2luZyB3aXRoIGJpbmFyeSBkYXRh: PQ","version":0,"timestamp":1739329569327796480,"ephemeral":false}]'
2025-02-12 03:06:09.443 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:09.443 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58544/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:09.445 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"d29ya2luZyB3aXRoIGJpbmFyeSBkYXRh: PQ","version":0,"timestamp":1739329569327796480,"ephemeral":false}]'
2025-02-12 03:06:09.446 DEBUG [tests.light_push.test_publish] Running test with content topic Special characters with whitespace
2025-02-12 03:06:09.447 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 03:06:09.447 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2857/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "\t\nSpecial\tCharacters\n", "timestamp": 1739329569447085568}}'
2025-02-12 03:06:09.453 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-12 03:06:09.454 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 03:06:09.555 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:09.556 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32815/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:09.558 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\\t\\nSpecial\\tCharacters\\n","version":0,"timestamp":1739329569447085568,"ephemeral":false}]'
2025-02-12 03:06:09.560 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:09.560 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58544/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:09.562 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\\t\\nSpecial\\tCharacters\\n","version":0,"timestamp":1739329569447085568,"ephemeral":false}]'
2025-02-12 03:06:09.564 DEBUG [tests.light_push.test_publish] Running test with content topic Boolean false as a string
2025-02-12 03:06:09.564 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 03:06:09.564 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2857/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "False", "timestamp": 1739329569564266496}}'
2025-02-12 03:06:09.570 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-12 03:06:09.571 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 03:06:09.672 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:09.672 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32815/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:09.675 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"False","version":0,"timestamp":1739329569564266496,"ephemeral":false}]'
2025-02-12 03:06:09.677 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:09.677 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58544/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:09.680 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"False","version":0,"timestamp":1739329569564266496,"ephemeral":false}]'
2025-02-12 03:06:09.682 DEBUG [tests.light_push.test_publish] Running test with content topic A float number
2025-02-12 03:06:09.683 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 03:06:09.683 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2857/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "3.1415926535", "timestamp": 1739329569682731776}}'
2025-02-12 03:06:09.690 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-12 03:06:09.691 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 03:06:09.791 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:09.792 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32815/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:09.794 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"3.1415926535","version":0,"timestamp":1739329569682731776,"ephemeral":false}]'
2025-02-12 03:06:09.796 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:09.796 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58544/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:09.798 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"3.1415926535","version":0,"timestamp":1739329569682731776,"ephemeral":false}]'
2025-02-12 03:06:09.799 DEBUG [tests.light_push.test_publish] Running test with content topic A list
2025-02-12 03:06:09.800 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 03:06:09.800 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2857/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "[1, 2, 3, 4, 5]", "timestamp": 1739329569800097792}}'
2025-02-12 03:06:09.808 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-12 03:06:09.808 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 03:06:09.908 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:09.909 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32815/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:09.911 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"[1, 2, 3, 4, 5]","version":0,"timestamp":1739329569800097792,"ephemeral":false}]'
2025-02-12 03:06:09.913 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:09.913 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58544/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:09.915 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"[1, 2, 3, 4, 5]","version":0,"timestamp":1739329569800097792,"ephemeral":false}]'
2025-02-12 03:06:09.917 DEBUG [tests.light_push.test_publish] Running test with content topic Hexadecimal number as a string
2025-02-12 03:06:09.917 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 03:06:09.917 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2857/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "0xDEADBEEF", "timestamp": 1739329569917412096}}'
2025-02-12 03:06:09.923 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-12 03:06:09.924 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 03:06:10.025 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:10.026 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32815/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:10.028 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"0xDEADBEEF","version":0,"timestamp":1739329569917412096,"ephemeral":false}]'
2025-02-12 03:06:10.030 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:10.030 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58544/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:10.033 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"0xDEADBEEF","version":0,"timestamp":1739329569917412096,"ephemeral":false}]'
2025-02-12 03:06:10.034 DEBUG [tests.light_push.test_publish] Running test with content topic Email format
2025-02-12 03:06:10.035 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 03:06:10.035 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2857/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "user@example.com", "timestamp": 1739329570034809088}}'
2025-02-12 03:06:10.041 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-12 03:06:10.041 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 03:06:10.143 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:10.143 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32815/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:10.146 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"user@example.com","version":0,"timestamp":1739329570034809088,"ephemeral":false}]'
2025-02-12 03:06:10.147 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:10.147 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58544/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:10.149 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"user@example.com","version":0,"timestamp":1739329570034809088,"ephemeral":false}]'
2025-02-12 03:06:10.151 DEBUG [tests.light_push.test_publish] Running test with content topic URL format
2025-02-12 03:06:10.151 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 03:06:10.151 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2857/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "http://example.com", "timestamp": 1739329570151490048}}'
2025-02-12 03:06:10.157 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-12 03:06:10.159 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 03:06:10.260 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:10.260 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32815/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:10.263 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"http://example.com","version":0,"timestamp":1739329570151490048,"ephemeral":false}]'
2025-02-12 03:06:10.265 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:10.265 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58544/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:10.267 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"http://example.com","version":0,"timestamp":1739329570151490048,"ephemeral":false}]'
2025-02-12 03:06:10.268 DEBUG [tests.light_push.test_publish] Running test with content topic Date and time in ISO format
2025-02-12 03:06:10.269 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 03:06:10.269 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2857/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "2023-11-01T12:00:00Z", "timestamp": 1739329570269116416}}'
2025-02-12 03:06:10.276 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-12 03:06:10.276 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 03:06:10.377 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:10.377 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32815/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:10.380 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"2023-11-01T12:00:00Z","version":0,"timestamp":1739329570269116416,"ephemeral":false}]'
2025-02-12 03:06:10.382 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:10.382 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58544/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:10.384 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"2023-11-01T12:00:00Z","version":0,"timestamp":1739329570269116416,"ephemeral":false}]'
2025-02-12 03:06:10.385 DEBUG [tests.light_push.test_publish] Running test with content topic String with escaped quotes
2025-02-12 03:06:10.386 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 03:06:10.386 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2857/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "\"Escaped\" \\\"quotes\\\"", "timestamp": 1739329570386144512}}'
2025-02-12 03:06:10.393 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-12 03:06:10.394 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 03:06:10.494 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:10.494 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32815/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:10.497 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\\"Escaped\\" \\\\\\"quotes\\\\\\"","version":0,"timestamp":1739329570386144512,"ephemeral":false}]'
2025-02-12 03:06:10.499 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:10.499 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58544/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:10.501 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\\"Escaped\\" \\\\\\"quotes\\\\\\"","version":0,"timestamp":1739329570386144512,"ephemeral":false}]'
2025-02-12 03:06:10.503 DEBUG [tests.light_push.test_publish] Running test with content topic A regular expression
2025-02-12 03:06:10.503 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 03:06:10.503 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2857/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "Regular expression: ^[a-z0-9_-]{3,16}$", "timestamp": 1739329570503422208}}'
2025-02-12 03:06:10.509 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-12 03:06:10.509 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 03:06:10.610 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:10.610 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32815/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:10.612 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Regular expression: ^[a-z0-9_-]{3,16}$","version":0,"timestamp":1739329570503422208,"ephemeral":false}]'
2025-02-12 03:06:10.614 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:10.614 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58544/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:10.616 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Regular expression: ^[a-z0-9_-]{3,16}$","version":0,"timestamp":1739329570503422208,"ephemeral":false}]'
2025-02-12 03:06:10.618 DEBUG [tests.light_push.test_publish] Running test with content topic A very long string
2025-02-12 03:06:10.618 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 03:06:10.618 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2857/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx", "timestamp": 1739329570618458112}}'
2025-02-12 03:06:10.624 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-12 03:06:10.626 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 03:06:10.726 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:10.726 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32815/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:10.729 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx","version":0,"timestamp":1739329570618458112,"ephemeral":false}]'
2025-02-12 03:06:10.731 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:10.731 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58544/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:10.733 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx","version":0,"timestamp":1739329570618458112,"ephemeral":false}]'
2025-02-12 03:06:10.735 DEBUG [tests.light_push.test_publish] Running test with content topic A JSON string
2025-02-12 03:06:10.735 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 03:06:10.735 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2857/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "{\"name\": \"John\", \"age\": 30, \"city\": \"New York\"}", "timestamp": 1739329570735265536}}'
2025-02-12 03:06:10.742 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-12 03:06:10.742 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 03:06:10.843 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:10.843 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32815/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:10.846 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"{\\"name\\": \\"John\\", \\"age\\": 30, \\"city\\": \\"New York\\"}","version":0,"timestamp":1739329570735265536,"ephemeral":false}]'
2025-02-12 03:06:10.847 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:10.848 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58544/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:10.850 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"{\\"name\\": \\"John\\", \\"age\\": 30, \\"city\\": \\"New York\\"}","version":0,"timestamp":1739329570735265536,"ephemeral":false}]'
2025-02-12 03:06:10.851 DEBUG [tests.light_push.test_publish] Running test with content topic A Unix path
2025-02-12 03:06:10.852 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 03:06:10.852 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2857/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/usr/local/bin", "timestamp": 1739329570852120576}}'
2025-02-12 03:06:10.858 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-12 03:06:10.859 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 03:06:10.959 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:10.959 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32815/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:10.962 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/usr/local/bin","version":0,"timestamp":1739329570852120576,"ephemeral":false}]'
2025-02-12 03:06:10.964 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:10.964 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58544/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:10.966 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/usr/local/bin","version":0,"timestamp":1739329570852120576,"ephemeral":false}]'
2025-02-12 03:06:10.967 DEBUG [tests.light_push.test_publish] Running test with content topic A Windows path
2025-02-12 03:06:10.968 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 03:06:10.968 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2857/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "C:\\Windows\\System32", "timestamp": 1739329570968072960}}'
2025-02-12 03:06:10.974 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-12 03:06:10.975 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 03:06:11.075 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:11.076 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32815/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:11.079 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"C:\\\\Windows\\\\System32","version":0,"timestamp":1739329570968072960,"ephemeral":false}]'
2025-02-12 03:06:11.080 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:11.080 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58544/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:11.083 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"C:\\\\Windows\\\\System32","version":0,"timestamp":1739329570968072960,"ephemeral":false}]'
2025-02-12 03:06:11.085 DEBUG [tests.light_push.test_publish] Running test with content topic An SQL query
2025-02-12 03:06:11.085 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 03:06:11.085 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2857/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "SELECT * FROM users WHERE id = 1;", "timestamp": 1739329571085262848}}'
2025-02-12 03:06:11.092 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-12 03:06:11.093 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 03:06:11.194 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:11.194 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32815/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:11.197 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"SELECT * FROM users WHERE id = 1;","version":0,"timestamp":1739329571085262848,"ephemeral":false}]'
2025-02-12 03:06:11.199 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:11.199 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58544/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:11.202 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"SELECT * FROM users WHERE id = 1;","version":0,"timestamp":1739329571085262848,"ephemeral":false}]'
2025-02-12 03:06:11.204 DEBUG [tests.light_push.test_publish] Running test with content topic JavaScript code snippet
2025-02-12 03:06:11.204 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 03:06:11.204 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2857/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "function test() { console.log('Hello World'); }", "timestamp": 1739329571204357888}}'
2025-02-12 03:06:11.211 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-12 03:06:11.212 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 03:06:11.312 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:11.312 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32815/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:11.315 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"function test() { console.log(\'Hello World\'); }","version":0,"timestamp":1739329571204357888,"ephemeral":false}]'
2025-02-12 03:06:11.317 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:11.317 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58544/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:11.319 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"function test() { console.log(\'Hello World\'); }","version":0,"timestamp":1739329571204357888,"ephemeral":false}]'
2025-02-12 03:06:11.321 DEBUG [tests.light_push.test_publish] Running test with content topic A CSS snippet
2025-02-12 03:06:11.321 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 03:06:11.322 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2857/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "body { background-color: #fff; }", "timestamp": 1739329571321596672}}'
2025-02-12 03:06:11.328 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-12 03:06:11.329 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 03:06:11.429 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:11.430 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32815/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:11.432 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"body { background-color: #fff; }","version":0,"timestamp":1739329571321596672,"ephemeral":false}]'
2025-02-12 03:06:11.434 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:11.434 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58544/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:11.436 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"body { background-color: #fff; }","version":0,"timestamp":1739329571321596672,"ephemeral":false}]'
2025-02-12 03:06:11.438 DEBUG [tests.light_push.test_publish] Running test with content topic A Python one-liner
2025-02-12 03:06:11.438 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 03:06:11.438 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2857/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "print('Hello World')", "timestamp": 1739329571438381056}}'
2025-02-12 03:06:11.444 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-12 03:06:11.445 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 03:06:11.545 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:11.545 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32815/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:11.548 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"print(\'Hello World\')","version":0,"timestamp":1739329571438381056,"ephemeral":false}]'
2025-02-12 03:06:11.550 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:11.550 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58544/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:11.552 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"print(\'Hello World\')","version":0,"timestamp":1739329571438381056,"ephemeral":false}]'
2025-02-12 03:06:11.554 DEBUG [tests.light_push.test_publish] Running test with content topic An IP address
2025-02-12 03:06:11.554 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 03:06:11.555 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2857/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "192.168.1.1", "timestamp": 1739329571554400768}}'
2025-02-12 03:06:11.565 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-12 03:06:11.566 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 03:06:11.666 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:11.667 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32815/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:11.670 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"192.168.1.1","version":0,"timestamp":1739329571554400768,"ephemeral":false}]'
2025-02-12 03:06:11.671 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:11.671 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58544/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:11.673 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"192.168.1.1","version":0,"timestamp":1739329571554400768,"ephemeral":false}]'
2025-02-12 03:06:11.675 DEBUG [tests.light_push.test_publish] Running test with content topic A domain name
2025-02-12 03:06:11.675 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 03:06:11.675 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2857/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "www.example.com", "timestamp": 1739329571675508736}}'
2025-02-12 03:06:11.682 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-12 03:06:11.683 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 03:06:11.785 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:11.785 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32815/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:11.788 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"www.example.com","version":0,"timestamp":1739329571675508736,"ephemeral":false}]'
2025-02-12 03:06:11.789 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:11.789 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58544/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:11.792 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"www.example.com","version":0,"timestamp":1739329571675508736,"ephemeral":false}]'
2025-02-12 03:06:11.793 DEBUG [tests.light_push.test_publish] Running test with content topic A user agent string
2025-02-12 03:06:11.793 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 03:06:11.794 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2857/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "Mozilla/5.0 (Windows NT 10.0; Win64; x64)", "timestamp": 1739329571793750784}}'
2025-02-12 03:06:11.800 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-12 03:06:11.801 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 03:06:11.901 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:11.902 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32815/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:11.905 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Mozilla/5.0 (Windows NT 10.0; Win64; x64)","version":0,"timestamp":1739329571793750784,"ephemeral":false}]'
2025-02-12 03:06:11.906 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:11.906 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58544/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:11.908 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Mozilla/5.0 (Windows NT 10.0; Win64; x64)","version":0,"timestamp":1739329571793750784,"ephemeral":false}]'
2025-02-12 03:06:11.910 DEBUG [tests.light_push.test_publish] Running test with content topic A credit card number
2025-02-12 03:06:11.911 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 03:06:11.911 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2857/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "1234-5678-9012-3456", "timestamp": 1739329571910668800}}'
2025-02-12 03:06:11.917 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-12 03:06:11.919 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 03:06:12.019 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:12.019 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32815/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:12.022 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"1234-5678-9012-3456","version":0,"timestamp":1739329571910668800,"ephemeral":false}]'
2025-02-12 03:06:12.024 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:12.024 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58544/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:12.026 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"1234-5678-9012-3456","version":0,"timestamp":1739329571910668800,"ephemeral":false}]'
2025-02-12 03:06:12.027 DEBUG [tests.light_push.test_publish] Running test with content topic A phone number
2025-02-12 03:06:12.028 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 03:06:12.028 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2857/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "+1234567890", "timestamp": 1739329572028219136}}'
2025-02-12 03:06:12.035 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-12 03:06:12.036 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 03:06:12.137 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:12.137 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32815/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:12.140 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"+1234567890","version":0,"timestamp":1739329572028219136,"ephemeral":false}]'
2025-02-12 03:06:12.141 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:12.141 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58544/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:12.144 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"+1234567890","version":0,"timestamp":1739329572028219136,"ephemeral":false}]'
2025-02-12 03:06:12.145 DEBUG [tests.light_push.test_publish] Running test with content topic A UUID
2025-02-12 03:06:12.146 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 03:06:12.146 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2857/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "123e4567-e89b-12d3-a456-426614174000", "timestamp": 1739329572145915904}}'
2025-02-12 03:06:12.154 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-12 03:06:12.156 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 03:06:12.256 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:12.256 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32815/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:12.259 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"123e4567-e89b-12d3-a456-426614174000","version":0,"timestamp":1739329572145915904,"ephemeral":false}]'
2025-02-12 03:06:12.261 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:12.261 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58544/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:12.263 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"123e4567-e89b-12d3-a456-426614174000","version":0,"timestamp":1739329572145915904,"ephemeral":false}]'
2025-02-12 03:06:12.264 DEBUG [tests.light_push.test_publish] Running test with content topic A hashtag
2025-02-12 03:06:12.265 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 03:06:12.265 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2857/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "#helloWorld", "timestamp": 1739329572264926976}}'
2025-02-12 03:06:12.271 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-12 03:06:12.272 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 03:06:12.372 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:12.373 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32815/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:12.376 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"#helloWorld","version":0,"timestamp":1739329572264926976,"ephemeral":false}]'
2025-02-12 03:06:12.377 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:12.377 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58544/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:12.380 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"#helloWorld","version":0,"timestamp":1739329572264926976,"ephemeral":false}]'
2025-02-12 03:06:12.381 DEBUG [tests.light_push.test_publish] Running test with content topic A Twitter handle
2025-02-12 03:06:12.381 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 03:06:12.382 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2857/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "@username", "timestamp": 1739329572381680384}}'
2025-02-12 03:06:12.388 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-12 03:06:12.390 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 03:06:12.490 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:12.491 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32815/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:12.493 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"@username","version":0,"timestamp":1739329572381680384,"ephemeral":false}]'
2025-02-12 03:06:12.495 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:12.495 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58544/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:12.497 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"@username","version":0,"timestamp":1739329572381680384,"ephemeral":false}]'
2025-02-12 03:06:12.499 DEBUG [tests.light_push.test_publish] Running test with content topic A password
2025-02-12 03:06:12.499 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 03:06:12.499 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2857/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "P@ssw0rd!", "timestamp": 1739329572499524352}}'
2025-02-12 03:06:12.506 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-12 03:06:12.507 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 03:06:12.608 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:12.608 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32815/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:12.611 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"P@ssw0rd!","version":0,"timestamp":1739329572499524352,"ephemeral":false}]'
2025-02-12 03:06:12.612 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:12.613 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58544/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:12.615 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"P@ssw0rd!","version":0,"timestamp":1739329572499524352,"ephemeral":false}]'
2025-02-12 03:06:12.616 DEBUG [tests.light_push.test_publish] Running test with content topic A date in common format
2025-02-12 03:06:12.616 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 03:06:12.617 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2857/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "01/11/2023", "timestamp": 1739329572616649472}}'
2025-02-12 03:06:12.622 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-12 03:06:12.623 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 03:06:12.723 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:12.723 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32815/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:12.726 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"01/11/2023","version":0,"timestamp":1739329572616649472,"ephemeral":false}]'
2025-02-12 03:06:12.727 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:12.728 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58544/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:12.730 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"01/11/2023","version":0,"timestamp":1739329572616649472,"ephemeral":false}]'
2025-02-12 03:06:12.731 DEBUG [tests.light_push.test_publish] Running test with content topic A time string
2025-02-12 03:06:12.732 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 03:06:12.732 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2857/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "12:00:00", "timestamp": 1739329572732237312}}'
2025-02-12 03:06:12.738 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-12 03:06:12.738 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 03:06:12.839 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:12.839 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32815/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:12.842 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"12:00:00","version":0,"timestamp":1739329572732237312,"ephemeral":false}]'
2025-02-12 03:06:12.843 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:12.843 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58544/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:12.846 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"12:00:00","version":0,"timestamp":1739329572732237312,"ephemeral":false}]'
2025-02-12 03:06:12.847 DEBUG [tests.light_push.test_publish] Running test with content topic A mathematical equation
2025-02-12 03:06:12.847 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 03:06:12.847 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2857/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "E = mc^2", "timestamp": 1739329572847521280}}'
2025-02-12 03:06:12.854 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-12 03:06:12.855 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 03:06:12.956 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:12.956 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:32815/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:12.959 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"E = mc^2","version":0,"timestamp":1739329572847521280,"ephemeral":false}]'
2025-02-12 03:06:12.960 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 03:06:12.961 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:58544/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 03:06:12.963 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"E = mc^2","version":0,"timestamp":1739329572847521280,"ephemeral":false}]'
2025-02-12 03:06:12.966 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-12 03:06:12.967 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-12 03:06:12.967 DEBUG [src.node.waku_node] Stopping container with id 3bbf861d5087
2025-02-12 03:06:13.590 DEBUG [src.node.waku_node] Container stopped.
2025-02-12 03:06:13.590 DEBUG [src.node.waku_node] Stopping container with id d3a77d016571
2025-02-12 03:06:14.404 ERROR [src.node.docker_mananger] Max retries reached for container 3bbf861d5087. Exiting log stream.
2025-02-12 03:06:14.887 DEBUG [src.node.waku_node] Container stopped.
2025-02-12 03:06:14.888 DEBUG [src.node.waku_node] Stopping container with id e05088944faf
2025-02-12 03:06:15.402 DEBUG [src.node.waku_node] Container stopped.
2025-02-12 03:06:15.403 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-12 03:06:15.427 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-12 03:06:15.442 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-12 03:06:15.447 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
