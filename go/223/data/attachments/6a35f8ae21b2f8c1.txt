[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_store_node_paused_and_unpaused with id: 2024-07-29_11-24-14__2b81dc95-3422-452b-a50e-426b2890aa7d
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:29 Running fixture setup: store_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:81 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-07-29_11-24-14__2b81dc95-3422-452b-a50e-426b2890aa7d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.59.148
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['2545', '2546', '2547', '2548', '2549']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:428 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:157 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:159 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 2545:2545 -p 2546:2546 -p 2547:2547 -p 2548:2548 -p 2549:2549 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=2547 --rest-port=2545 --tcp-port=2546 --discv5-udp-port=2548 --rest-address=0.0.0.0 --nat=extip:172.18.59.148 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=2549 --metrics-logging=true --store=true --relay=true --nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.59.148 waku d41e0575dab57bb9b95f7c326aed7e314cea699cc0b0148c98c34cd32576d674
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID d41e0575dab5. Setting up logs at ./log/docker/publishing_node1_2024-07-29_11-24-14__2b81dc95-3422-452b-a50e-426b2890aa7d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Started container from image wakuorg/nwaku:latest. REST: 2545
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2545/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:274 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2545/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.59.148/tcp/2546/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","/ip4/172.18.59.148/tcp/2547/ws/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"],"enrUri":"enr:-LO4QDV_ADDTCrgzs8gSk2OTKjnN1gNzwDG0Y9v-iwWtXze_dZ4RCtlOwzH86Hk1XVbBlZxh84bL75pTbixxFhqGE0ABgmlkgnY0gmlwhKwSO5SKbXVsdGlhZGRyc4wACgSsEjuUBgnz3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCCfKDdWRwggn0hXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:81 WakuNode instance initialized with log path ./log/docker/store_node1_2024-07-29_11-24-14__2b81dc95-3422-452b-a50e-426b2890aa7d__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.149.30
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['34432', '34433', '34434', '34435', '34436']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:428 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:157 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:159 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 34432:34432 -p 34433:34433 -p 34434:34434 -p 34435:34435 -p 34436:34436 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=34434 --rest-port=34432 --tcp-port=34433 --discv5-udp-port=34435 --rest-address=0.0.0.0 --nat=extip:172.18.149.30 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-LO4QDV_ADDTCrgzs8gSk2OTKjnN1gNzwDG0Y9v-iwWtXze_dZ4RCtlOwzH86Hk1XVbBlZxh84bL75pTbixxFhqGE0ABgmlkgnY0gmlwhKwSO5SKbXVsdGlhZGRyc4wACgSsEjuUBgnz3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCCfKDdWRwggn0hXdha3UyAw --storenode=/ip4/172.18.59.148/tcp/2546/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.149.30 waku d78301f158a04edd6af40e86deed8890b4e7f97971dd5ffc0145caed3ef7c863
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID d78301f158a0. Setting up logs at ./log/docker/store_node1_2024-07-29_11-24-14__2b81dc95-3422-452b-a50e-426b2890aa7d__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Started container from image wakuorg/go-waku:latest. REST: 34432
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34432/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QJ9829g2gqFeuchfBWUXOpT127GAcbL7WQd1zuLg01oiUcSuL-dHV2wi0Sq861KkvYihMMeFmD4onbKybgUfvceGAZD-O-QagmlkgnY0gmlwhKwRAAqJc2VjcDI1NmsxoQLqxw8TP6pmR2rV2DEfUUFynBZtVqlMqSKvjndhrBscyIN0Y3CChoGDdWRwgoaDhXdha3UyAw","listenAddresses":["/ip4/127.0.0.1/tcp/34433/p2p/16Uiu2HAmBE9RtfH21LNAaPBo9RwV9W4rrH3vtQgeaTq879zcYfyR","/ip4/127.0.0.1/tcp/34434/ws/p2p/16Uiu2HAmBE9RtfH21LNAaPBo9RwV9W4rrH3vtQgeaTq879zcYfyR","/ip4/172.17.0.10/tcp/34433/p2p/16Uiu2HAmBE9RtfH21LNAaPBo9RwV9W4rrH3vtQgeaTq879zcYfyR","/ip4/172.17.0.10/tcp/34434/ws/p2p/16Uiu2HAmBE9RtfH21LNAaPBo9RwV9W4rrH3vtQgeaTq879zcYfyR"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34432/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.59.148/tcp/2546/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2545/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34432/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2545/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:217 Checking that peer wakuorg/nwaku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2545/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"M5tsgCzX3zAxOm3hjQnxNBnkmwvNa+9qxc2tIWxFnyM="}]}'
[35mDEBUG   [0m src.steps.store:store.py:217 Checking that peer wakuorg/go-waku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34432/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=5" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"37ef08bc5af31b4a456edd0ae3d91878f1950c6c81fa9754c99602356357c3d4","status_code":200,"status_desc":"OK","messages":[{"message_hash":"M5tsgCzX3zAxOm3hjQnxNBnkmwvNa+9qxc2tIWxFnyM="}]}'
[35mDEBUG   [0m src.node.waku_node:waku_node.py:246 Pausing container with id d78301f158a0
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[35mDEBUG   [0m src.node.waku_node:waku_node.py:251 Unpause container with id d78301f158a0
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34432/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QNAJRhYnte_4uU-slCtDQtdd3fd2tv31Pfqejm95GjanJs4Puw-ncRyWCen_R7uAxA2i9ZBAWOHfB0H8m0ups4eGAZD-O-QbgmlkgnY0gmlwhKwRAAqCcnOFAAMBAACJc2VjcDI1NmsxoQLqxw8TP6pmR2rV2DEfUUFynBZtVqlMqSKvjndhrBscyIN0Y3CChoGDdWRwgoaDhXdha3UyAw","listenAddresses":["/ip4/127.0.0.1/tcp/34433/p2p/16Uiu2HAmBE9RtfH21LNAaPBo9RwV9W4rrH3vtQgeaTq879zcYfyR","/ip4/127.0.0.1/tcp/34434/ws/p2p/16Uiu2HAmBE9RtfH21LNAaPBo9RwV9W4rrH3vtQgeaTq879zcYfyR","/ip4/172.17.0.10/tcp/34433/p2p/16Uiu2HAmBE9RtfH21LNAaPBo9RwV9W4rrH3vtQgeaTq879zcYfyR","/ip4/172.17.0.10/tcp/34434/ws/p2p/16Uiu2HAmBE9RtfH21LNAaPBo9RwV9W4rrH3vtQgeaTq879zcYfyR"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 REST service is ready !!
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2545/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:217 Checking that peer wakuorg/nwaku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2545/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"M5tsgCzX3zAxOm3hjQnxNBnkmwvNa+9qxc2tIWxFnyM="},{"messageHash":"phLCl7QLPpI6bROX2BFBYGDKcXlvEPwYQu/u2JxJoQU="}]}'
[35mDEBUG   [0m src.steps.store:store.py:217 Checking that peer wakuorg/go-waku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34432/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=5" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"1220eb42b8cbc96728d7a0ce6ab79ae5c01d57f88918dad2ce34580a49295a69","status_code":200,"status_desc":"OK","messages":[{"message_hash":"M5tsgCzX3zAxOm3hjQnxNBnkmwvNa+9qxc2tIWxFnyM="},{"message_hash":"phLCl7QLPpI6bROX2BFBYGDKcXlvEPwYQu/u2JxJoQU="}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2545/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"M5tsgCzX3zAxOm3hjQnxNBnkmwvNa+9qxc2tIWxFnyM="},{"messageHash":"phLCl7QLPpI6bROX2BFBYGDKcXlvEPwYQu/u2JxJoQU="}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34432/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=5&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"790774a73d699d46c29ab3af9c7d09dc8d47a5432f7a9af0904707ad1e7be661","status_code":200,"status_desc":"OK","messages":[{"message_hash":"M5tsgCzX3zAxOm3hjQnxNBnkmwvNa+9qxc2tIWxFnyM="},{"message_hash":"phLCl7QLPpI6bROX2BFBYGDKcXlvEPwYQu/u2JxJoQU="}]}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:218 Stopping container with id d41e0575dab5
[35mDEBUG   [0m src.node.waku_node:waku_node.py:225 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:218 Stopping container with id d78301f158a0
[35mDEBUG   [0m src.node.waku_node:waku_node.py:225 Container stopped.