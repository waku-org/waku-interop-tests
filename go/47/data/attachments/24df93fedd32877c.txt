[35mDEBUG   [0m tests.conftest:conftest.py:43 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:49 Running test: test_filter_subscribe_with_invalid_pubsub_topic_format with id: 2024-03-19_03-12-54__871fb4de-d9a4-44ec-b6df-1f31de83538b
[35mDEBUG   [0m src.steps.filter:filter.py:27 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:33 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:50 WakuNode instance initialized with log path ./log/docker/node1_2024-03-19_03-12-54__871fb4de-d9a4-44ec-b6df-1f31de83538b__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:54 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.45.161
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['52246', '52247', '52248', '52249', '52250']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:279 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:115 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 52246:52246 -p 52247:52247 -p 52248:52248 -p 52249:52249 -p 52250:52250 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=52248 --rest-port=52246 --tcp-port=52247 --discv5-udp-port=52249 --rest-address=0.0.0.0 --nat=extip:172.18.45.161 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=52250 --metrics-logging=true --relay=true --filter=true --nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.45.161 waku 6646f931651e5404feb34d5cedc74c317fac1286c697b1ca65a060e2bc70a703
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 6646f931651e. Setting up logs at ./log/docker/node1_2024-03-19_03-12-54__871fb4de-d9a4-44ec-b6df-1f31de83538b__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:121 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 52246
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X GET "http://127.0.0.1:52246/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:23 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.45.161/tcp/52247/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","/ip4/172.18.45.161/tcp/52248/ws/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"],"enrUri":"enr:-LO4QCP-lz6iX2VvhxX1nv_LEbtaM0nPNYrnCT1OUA7mO_yxNgESFWAXX_Ph_LwITLANm0vMznLqBGZuzDVFOmKBeFwBgmlkgnY0gmlwhKwSLaGKbXVsdGlhZGRyc4wACgSsEi2hBswY3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCzBeDdWRwgswZhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:191 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:38 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:50 WakuNode instance initialized with log path ./log/docker/node2_2024-03-19_03-12-54__871fb4de-d9a4-44ec-b6df-1f31de83538b__harbor.status.im_wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:54 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.93.8
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['40487', '40488', '40489', '40490', '40491']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:279 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:115 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 40487:40487 -p 40488:40488 -p 40489:40489 -p 40490:40490 -p 40491:40491 harbor.status.im/wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=40489 --rest-port=40487 --tcp-port=40488 --discv5-udp-port=40490 --rest-address=0.0.0.0 --nat=extip:172.18.93.8 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --relay=false --discv5-bootstrap-node=enr:-LO4QCP-lz6iX2VvhxX1nv_LEbtaM0nPNYrnCT1OUA7mO_yxNgESFWAXX_Ph_LwITLANm0vMznLqBGZuzDVFOmKBeFwBgmlkgnY0gmlwhKwSLaGKbXVsdGlhZGRyc4wACgSsEi2hBswY3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCzBeDdWRwgswZhXdha3UyBQ --filternode=/ip4/172.18.45.161/tcp/52247/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.93.8 waku 1a4ff43e5457006c212fe6ff12545756a39265c1c5ca1578dfbff9e210c29a87
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 1a4ff43e5457. Setting up logs at ./log/docker/node2_2024-03-19_03-12-54__871fb4de-d9a4-44ec-b6df-1f31de83538b__harbor.status.im_wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:121 Started container from image harbor.status.im/wakuorg/go-waku:latest. REST: 40487
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X GET "http://127.0.0.1:40487/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:23 Response status code: 200. Response content: b'{"enrUri":"enr:-Ly4QJbxWn0NdSxBvMsGryY0-ysVWBX9YZgzfsDzdSHoanLSBgScPd3WGHztxwwxi34Y5qMJoRfLz6-0S7V84v_h3BWGAY5UsqKmgmlkgnY0gmlwhKwRAAaKbXVsdGlhZGRyc5gACgSsEQAGBp4p3QMACgR_AAABBp4p3QOJc2VjcDI1NmsxoQOyyznSxVQZsBSg0-RGJLTKjNQU9BaA_NioWQve62oaLYN0Y3CCniiDdWRwgp4qhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/40488/p2p/16Uiu2HAmQgvew59du5wWAejVHXeA4RYVzXXDU8Apn7xsMR7cjdtG","/ip4/127.0.0.1/tcp/40489/ws/p2p/16Uiu2HAmQgvew59du5wWAejVHXeA4RYVzXXDU8Apn7xsMR7cjdtG","/ip4/172.17.0.6/tcp/40488/p2p/16Uiu2HAmQgvew59du5wWAejVHXeA4RYVzXXDU8Apn7xsMR7cjdtG","/ip4/172.17.0.6/tcp/40489/ws/p2p/16Uiu2HAmQgvew59du5wWAejVHXeA4RYVzXXDU8Apn7xsMR7cjdtG"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:191 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:45 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X POST "http://127.0.0.1:52246/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/0/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:23 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X POST "http://127.0.0.1:40487/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "0d18685a-c1cc-43d1-8795-178d9f108942", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:23 Response status code: 200. Response content: b'{"requestId":"0d18685a-c1cc-43d1-8795-178d9f108942","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X POST "http://127.0.0.1:40487/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": ["/waku/2/rs/0/1"]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:17 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:40487/filter/v2/subscriptions. Response content: b''
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:75 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:168 Stopping container with id 6646f931651e
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:168 Stopping container with id 1a4ff43e5457
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Container stopped.