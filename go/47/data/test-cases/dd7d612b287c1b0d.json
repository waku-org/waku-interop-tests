{"uid":"dd7d612b287c1b0d","name":"test_filter_unsubscribe_from_pubsub_topics","fullName":"tests.filter.test_unsubscribe.TestFilterUnSubscribe#test_filter_unsubscribe_from_pubsub_topics","historyId":"47f8ffa3c768b7fd8158f67a6a30d831","time":{"start":1710817993010,"stop":1710818003225,"duration":10215},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"set_allure_env_variables","time":{"start":1710817783718,"stop":1710817783718,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"close_open_nodes","time":{"start":1710817985699,"stop":1710817985700,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"attach_logs_on_fail","time":{"start":1710817985699,"stop":1710817985699,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"test_id","time":{"start":1710817985700,"stop":1710817985700,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"filter_setup","time":{"start":1710817985700,"stop":1710817985701,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"test_setup","time":{"start":1710817985700,"stop":1710817985700,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"setup_main_relay_node","time":{"start":1710817985701,"stop":1710817987731,"duration":2030},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"setup_main_filter_node","time":{"start":1710817987732,"stop":1710817989477,"duration":1745},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"subscribe_main_nodes","time":{"start":1710817989478,"stop":1710817993009,"duration":3531},"status":"passed","steps":[{"name":"wait_for_subscriptions_on_main_nodes","time":{"start":1710817989478,"stop":1710817993009,"duration":3531},"status":"passed","steps":[{"name":"create_filter_subscription_with_retry","time":{"start":1710817989481,"stop":1710817993009,"duration":3528},"status":"passed","steps":[{"name":"create_filter_subscription","time":{"start":1710817989482,"stop":1710817993009,"duration":3527},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"subscription","value":"{'requestId': '23162a1d-6569-41cd-94c3-a51448246488', 'contentFilters': ['/test/1/waku-filter/proto'], 'pubsubTopic': '/waku/2/rs/0/1'}"},{"name":"node","value":"None"}],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0}],"attachments":[],"parameters":[{"name":"subscription","value":"{'requestId': '23162a1d-6569-41cd-94c3-a51448246488', 'contentFilters': ['/test/1/waku-filter/proto'], 'pubsubTopic': '/waku/2/rs/0/1'}"},{"name":"node","value":"None"}],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0}],"attachments":[],"parameters":[{"name":"content_topic_list","value":"['/test/1/waku-filter/proto']"},{"name":"pubsub_topic","value":"None"}],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0}],"attachments":[],"parameters":[],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0}],"testStage":{"status":"passed","steps":[{"name":"wait_for_subscriptions_on_main_nodes","time":{"start":1710817993010,"stop":1710817993021,"duration":11},"status":"passed","steps":[{"name":"create_filter_subscription_with_retry","time":{"start":1710817993014,"stop":1710817993021,"duration":7},"status":"passed","steps":[{"name":"create_filter_subscription","time":{"start":1710817993014,"stop":1710817993020,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"subscription","value":"{'requestId': '18a46c2c-6971-4c00-8d8c-79e294f1fc0c', 'contentFilters': ['/test/1/waku-filter/proto'], 'pubsubTopic': '/waku/2/rs/0/1'}"},{"name":"node","value":"None"}],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0}],"attachments":[],"parameters":[{"name":"subscription","value":"{'requestId': '18a46c2c-6971-4c00-8d8c-79e294f1fc0c', 'contentFilters': ['/test/1/waku-filter/proto'], 'pubsubTopic': '/waku/2/rs/0/1'}"},{"name":"node","value":"None"}],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0}],"attachments":[],"parameters":[{"name":"content_topic_list","value":"['/test/1/waku-filter/proto']"},{"name":"pubsub_topic","value":"'/waku/2/rs/0/1'"}],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0},{"name":"wait_for_subscriptions_on_main_nodes","time":{"start":1710817993021,"stop":1710818002527,"duration":9506},"status":"passed","steps":[{"name":"create_filter_subscription_with_retry","time":{"start":1710817993025,"stop":1710818002527,"duration":9502},"status":"passed","steps":[{"name":"create_filter_subscription","time":{"start":1710817993025,"stop":1710818002527,"duration":9502},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"subscription","value":"{'requestId': '25967231-9571-4666-a9bc-9c7a533a2c67', 'contentFilters': ['/test/2/waku-filter/proto'], 'pubsubTopic': '/waku/2/rs/0/9'}"},{"name":"node","value":"None"}],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0}],"attachments":[],"parameters":[{"name":"subscription","value":"{'requestId': '25967231-9571-4666-a9bc-9c7a533a2c67', 'contentFilters': ['/test/2/waku-filter/proto'], 'pubsubTopic': '/waku/2/rs/0/9'}"},{"name":"node","value":"None"}],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0}],"attachments":[],"parameters":[{"name":"content_topic_list","value":"['/test/2/waku-filter/proto']"},{"name":"pubsub_topic","value":"'/waku/2/rs/0/9'"}],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0},{"name":"create_message","time":{"start":1710818002527,"stop":1710818002527,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"contentTopic","value":"'/test/1/waku-filter/proto'"}],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"check_published_message_reaches_filter_peer","time":{"start":1710818002527,"stop":1710818002640,"duration":113},"status":"passed","steps":[{"name":"get_filter_messages","time":{"start":1710818002636,"stop":1710818002639,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"content_topic","value":"'/test/1/waku-filter/proto'"},{"name":"pubsub_topic","value":"'/waku/2/rs/0/1'"},{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x706c98115790>"}],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"assert_received_message","time":{"start":1710818002640,"stop":1710818002640,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'RmlsdGVyIHdvcmtzISE=', 'contentTopic': '/test/1/waku-filter/proto', 'timestamp': 1710818002527020800}"},{"name":"index","value":"0"}],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0}],"attachments":[],"parameters":[{"name":"message","value":"{'payload': 'RmlsdGVyIHdvcmtzISE=', 'contentTopic': '/test/1/waku-filter/proto', 'timestamp': 1710818002527020800}"},{"name":"pubsub_topic","value":"'/waku/2/rs/0/1'"},{"name":"message_propagation_delay","value":"0.1"},{"name":"sender","value":"None"},{"name":"peer_list","value":"None"}],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0},{"name":"create_message","time":{"start":1710818002640,"stop":1710818002640,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"contentTopic","value":"'/test/2/waku-filter/proto'"}],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"check_published_message_reaches_filter_peer","time":{"start":1710818002640,"stop":1710818002751,"duration":111},"status":"passed","steps":[{"name":"get_filter_messages","time":{"start":1710818002748,"stop":1710818002751,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"content_topic","value":"'/test/2/waku-filter/proto'"},{"name":"pubsub_topic","value":"'/waku/2/rs/0/9'"},{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x706c98115790>"}],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"assert_received_message","time":{"start":1710818002751,"stop":1710818002751,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'RmlsdGVyIHdvcmtzISE=', 'contentTopic': '/test/2/waku-filter/proto', 'timestamp': 1710818002639895552}"},{"name":"index","value":"0"}],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0}],"attachments":[],"parameters":[{"name":"message","value":"{'payload': 'RmlsdGVyIHdvcmtzISE=', 'contentTopic': '/test/2/waku-filter/proto', 'timestamp': 1710818002639895552}"},{"name":"pubsub_topic","value":"'/waku/2/rs/0/9'"},{"name":"message_propagation_delay","value":"0.1"},{"name":"sender","value":"None"},{"name":"peer_list","value":"None"}],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0},{"name":"delete_filter_subscription","time":{"start":1710818002752,"stop":1710818002757,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"subscription","value":"{'requestId': '1', 'contentFilters': ['/test/1/waku-filter/proto'], 'pubsubTopic': '/waku/2/rs/0/1'}"},{"name":"status","value":"None"},{"name":"node","value":"None"}],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"check_publish_without_filter_subscription","time":{"start":1710818002757,"stop":1710818002866,"duration":109},"status":"passed","steps":[{"name":"check_published_message_reaches_filter_peer","time":{"start":1710818002757,"stop":1710818002865,"duration":108},"status":"broken","statusMessage":"Exception: Error: 404 Client Error: Not Found for url: http://127.0.0.1:24153/filter/v2/messages/%2Fwaku%2F2%2Frs%2F0%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto with response: b'not subscribed to pubsubTopic:/waku/2/rs/0/1 contentTopic: /test/1/waku-filter/proto'\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/filter.py\", line 95, in check_published_message_reaches_filter_peer\n    get_messages_response = self.get_filter_messages(message[\"contentTopic\"], pubsub_topic=pubsub_topic, node=peer)\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/filter.py\", line 209, in get_filter_messages\n    return node.get_filter_messages(content_topic, pubsub_topic)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/waku_node.py\", line 243, in get_filter_messages\n    return self._api.get_filter_messages(content_topic, pubsub_topic)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 64, in get_filter_messages\n    get_messages_response = self.rest_call(\"get\", endpoint)\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 16, in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/base_client.py\", line 18, in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\n","steps":[{"name":"create_message","time":{"start":1710818002757,"stop":1710818002757,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"get_filter_messages","time":{"start":1710818002862,"stop":1710818002864,"duration":2},"status":"broken","statusMessage":"Exception: Error: 404 Client Error: Not Found for url: http://127.0.0.1:24153/filter/v2/messages/%2Fwaku%2F2%2Frs%2F0%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto with response: b'not subscribed to pubsubTopic:/waku/2/rs/0/1 contentTopic: /test/1/waku-filter/proto'\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/filter.py\", line 209, in get_filter_messages\n    return node.get_filter_messages(content_topic, pubsub_topic)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/waku_node.py\", line 243, in get_filter_messages\n    return self._api.get_filter_messages(content_topic, pubsub_topic)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 64, in get_filter_messages\n    get_messages_response = self.rest_call(\"get\", endpoint)\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 16, in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/base_client.py\", line 18, in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\n","steps":[],"attachments":[],"parameters":[{"name":"content_topic","value":"'/test/1/waku-filter/proto'"},{"name":"pubsub_topic","value":"'/waku/2/rs/0/1'"},{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x706c98115790>"}],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0}],"attachments":[],"parameters":[{"name":"message","value":"None"},{"name":"pubsub_topic","value":"None"},{"name":"message_propagation_delay","value":"0.1"},{"name":"sender","value":"None"},{"name":"peer_list","value":"None"}],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0}],"attachments":[],"parameters":[{"name":"message","value":"None"},{"name":"pubsub_topic","value":"None"},{"name":"peer_list","value":"None"}],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0},{"name":"create_message","time":{"start":1710818002867,"stop":1710818002867,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"contentTopic","value":"'/test/2/waku-filter/proto'"}],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"check_published_message_reaches_filter_peer","time":{"start":1710818002867,"stop":1710818002980,"duration":113},"status":"passed","steps":[{"name":"get_filter_messages","time":{"start":1710818002976,"stop":1710818002979,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"content_topic","value":"'/test/2/waku-filter/proto'"},{"name":"pubsub_topic","value":"'/waku/2/rs/0/9'"},{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x706c98115790>"}],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"assert_received_message","time":{"start":1710818002980,"stop":1710818002980,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'RmlsdGVyIHdvcmtzISE=', 'contentTopic': '/test/2/waku-filter/proto', 'timestamp': 1710818002866636800}"},{"name":"index","value":"0"}],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0}],"attachments":[],"parameters":[{"name":"message","value":"{'payload': 'RmlsdGVyIHdvcmtzISE=', 'contentTopic': '/test/2/waku-filter/proto', 'timestamp': 1710818002866636800}"},{"name":"pubsub_topic","value":"'/waku/2/rs/0/9'"},{"name":"message_propagation_delay","value":"0.1"},{"name":"sender","value":"None"},{"name":"peer_list","value":"None"}],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0},{"name":"delete_filter_subscription","time":{"start":1710818002980,"stop":1710818002992,"duration":12},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"subscription","value":"{'requestId': '1', 'contentFilters': ['/test/2/waku-filter/proto'], 'pubsubTopic': '/waku/2/rs/0/9'}"},{"name":"status","value":"None"},{"name":"node","value":"None"}],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"check_publish_without_filter_subscription","time":{"start":1710818002992,"stop":1710818003106,"duration":114},"status":"passed","steps":[{"name":"check_published_message_reaches_filter_peer","time":{"start":1710818002992,"stop":1710818003105,"duration":113},"status":"broken","statusMessage":"Exception: Error: 404 Client Error: Not Found for url: http://127.0.0.1:24153/filter/v2/messages/%2Fwaku%2F2%2Frs%2F0%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto with response: b'not subscribed to pubsubTopic:/waku/2/rs/0/1 contentTopic: /test/1/waku-filter/proto'\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/filter.py\", line 95, in check_published_message_reaches_filter_peer\n    get_messages_response = self.get_filter_messages(message[\"contentTopic\"], pubsub_topic=pubsub_topic, node=peer)\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/filter.py\", line 209, in get_filter_messages\n    return node.get_filter_messages(content_topic, pubsub_topic)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/waku_node.py\", line 243, in get_filter_messages\n    return self._api.get_filter_messages(content_topic, pubsub_topic)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 64, in get_filter_messages\n    get_messages_response = self.rest_call(\"get\", endpoint)\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 16, in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/base_client.py\", line 18, in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\n","steps":[{"name":"create_message","time":{"start":1710818002992,"stop":1710818002992,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"get_filter_messages","time":{"start":1710818003101,"stop":1710818003104,"duration":3},"status":"broken","statusMessage":"Exception: Error: 404 Client Error: Not Found for url: http://127.0.0.1:24153/filter/v2/messages/%2Fwaku%2F2%2Frs%2F0%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto with response: b'not subscribed to pubsubTopic:/waku/2/rs/0/1 contentTopic: /test/1/waku-filter/proto'\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/filter.py\", line 209, in get_filter_messages\n    return node.get_filter_messages(content_topic, pubsub_topic)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/waku_node.py\", line 243, in get_filter_messages\n    return self._api.get_filter_messages(content_topic, pubsub_topic)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 64, in get_filter_messages\n    get_messages_response = self.rest_call(\"get\", endpoint)\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 16, in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/base_client.py\", line 18, in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\n","steps":[],"attachments":[],"parameters":[{"name":"content_topic","value":"'/test/1/waku-filter/proto'"},{"name":"pubsub_topic","value":"'/waku/2/rs/0/1'"},{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x706c98115790>"}],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0}],"attachments":[],"parameters":[{"name":"message","value":"None"},{"name":"pubsub_topic","value":"None"},{"name":"message_propagation_delay","value":"0.1"},{"name":"sender","value":"None"},{"name":"peer_list","value":"None"}],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0}],"attachments":[],"parameters":[{"name":"message","value":"None"},{"name":"pubsub_topic","value":"None"},{"name":"peer_list","value":"None"}],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0},{"name":"create_message","time":{"start":1710818003106,"stop":1710818003106,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"contentTopic","value":"'/test/2/waku-filter/proto'"}],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"check_publish_without_filter_subscription","time":{"start":1710818003107,"stop":1710818003225,"duration":118},"status":"passed","steps":[{"name":"check_published_message_reaches_filter_peer","time":{"start":1710818003107,"stop":1710818003223,"duration":116},"status":"broken","statusMessage":"Exception: Error: 404 Client Error: Not Found for url: http://127.0.0.1:24153/filter/v2/messages/%2Fwaku%2F2%2Frs%2F0%2F9/%2Ftest%2F2%2Fwaku-filter%2Fproto with response: b'not subscribed to pubsubTopic:/waku/2/rs/0/9 contentTopic: /test/2/waku-filter/proto'\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/filter.py\", line 95, in check_published_message_reaches_filter_peer\n    get_messages_response = self.get_filter_messages(message[\"contentTopic\"], pubsub_topic=pubsub_topic, node=peer)\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/filter.py\", line 209, in get_filter_messages\n    return node.get_filter_messages(content_topic, pubsub_topic)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/waku_node.py\", line 243, in get_filter_messages\n    return self._api.get_filter_messages(content_topic, pubsub_topic)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 64, in get_filter_messages\n    get_messages_response = self.rest_call(\"get\", endpoint)\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 16, in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/base_client.py\", line 18, in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\n","steps":[{"name":"get_filter_messages","time":{"start":1710818003219,"stop":1710818003222,"duration":3},"status":"broken","statusMessage":"Exception: Error: 404 Client Error: Not Found for url: http://127.0.0.1:24153/filter/v2/messages/%2Fwaku%2F2%2Frs%2F0%2F9/%2Ftest%2F2%2Fwaku-filter%2Fproto with response: b'not subscribed to pubsubTopic:/waku/2/rs/0/9 contentTopic: /test/2/waku-filter/proto'\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/filter.py\", line 209, in get_filter_messages\n    return node.get_filter_messages(content_topic, pubsub_topic)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/waku_node.py\", line 243, in get_filter_messages\n    return self._api.get_filter_messages(content_topic, pubsub_topic)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 64, in get_filter_messages\n    get_messages_response = self.rest_call(\"get\", endpoint)\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 16, in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/base_client.py\", line 18, in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\n","steps":[],"attachments":[],"parameters":[{"name":"content_topic","value":"'/test/2/waku-filter/proto'"},{"name":"pubsub_topic","value":"'/waku/2/rs/0/9'"},{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x706c98115790>"}],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0}],"attachments":[],"parameters":[{"name":"message","value":"{'payload': 'RmlsdGVyIHdvcmtzISE=', 'contentTopic': '/test/2/waku-filter/proto', 'timestamp': 1710818003106422528}"},{"name":"pubsub_topic","value":"'/waku/2/rs/0/9'"},{"name":"message_propagation_delay","value":"0.1"},{"name":"sender","value":"None"},{"name":"peer_list","value":"None"}],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0}],"attachments":[],"parameters":[{"name":"message","value":"{'payload': 'RmlsdGVyIHdvcmtzISE=', 'contentTopic': '/test/2/waku-filter/proto', 'timestamp': 1710818003106422528}"},{"name":"pubsub_topic","value":"'/waku/2/rs/0/9'"},{"name":"peer_list","value":"None"}],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0}],"attachments":[{"uid":"1f0abbac38cdf790","name":"log","source":"1f0abbac38cdf790.txt","type":"text/plain","size":18356}],"parameters":[],"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":32,"attachmentsCount":1},"afterStages":[{"name":"test_setup::0","time":{"start":1710818003227,"stop":1710818003229,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"close_open_nodes::0","time":{"start":1710818003230,"stop":1710818006104,"duration":2874},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"attach_logs_on_fail::0","time":{"start":1710818006104,"stop":1710818006104,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0},{"name":"set_allure_env_variables::0","time":{"start":1710818258713,"stop":1710818258713,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0}],"labels":[{"name":"tag","value":"@pytest.mark.usefixtures('setup_main_relay_node', 'setup_main_filter_node', 'subscribe_main_nodes')"},{"name":"parentSuite","value":"tests.filter"},{"name":"suite","value":"test_unsubscribe"},{"name":"subSuite","value":"TestFilterUnSubscribe"},{"name":"host","value":"fv-az1543-376"},{"name":"thread","value":"2104-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.filter.test_unsubscribe"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":1,"skipped":0,"passed":70,"unknown":0,"total":71},"items":[{"uid":"f2612d01cfc8577c","reportUrl":"https://waku-org.github.io/waku-interop-tests/46//#testresult/f2612d01cfc8577c","status":"passed","time":{"start":1710731613057,"stop":1710731622205,"duration":9148}},{"uid":"52b772fe81a42d48","reportUrl":"https://waku-org.github.io/waku-interop-tests/45//#testresult/52b772fe81a42d48","status":"passed","time":{"start":1710645168252,"stop":1710645176222,"duration":7970}},{"uid":"531a1181b84aa40e","reportUrl":"https://waku-org.github.io/waku-interop-tests/44//#testresult/531a1181b84aa40e","status":"passed","time":{"start":1710558810993,"stop":1710558815034,"duration":4041}},{"uid":"7f61bbeee9c0a95a","reportUrl":"https://waku-org.github.io/waku-interop-tests/43//#testresult/7f61bbeee9c0a95a","status":"passed","time":{"start":1710492367251,"stop":1710492377269,"duration":10018}},{"uid":"2127af731960e7d9","reportUrl":"https://waku-org.github.io/waku-interop-tests/42//#testresult/2127af731960e7d9","status":"passed","time":{"start":1710472490541,"stop":1710472495321,"duration":4780}},{"uid":"251cf10009a15c8a","reportUrl":"https://waku-org.github.io/waku-interop-tests/41//#testresult/251cf10009a15c8a","status":"passed","time":{"start":1710386051701,"stop":1710386060112,"duration":8411}},{"uid":"292a339d77ff6f42","reportUrl":"https://waku-org.github.io/waku-interop-tests/40//#testresult/292a339d77ff6f42","status":"passed","time":{"start":1710299654903,"stop":1710299656103,"duration":1200}},{"uid":"20b8e79ebfde5517","reportUrl":"https://waku-org.github.io/waku-interop-tests/39//#testresult/20b8e79ebfde5517","status":"passed","time":{"start":1710227786144,"stop":1710227794521,"duration":8377}},{"uid":"5a4bfe3a7a47f1af","reportUrl":"https://waku-org.github.io/waku-interop-tests/38//#testresult/5a4bfe3a7a47f1af","status":"passed","time":{"start":1710213233542,"stop":1710213242250,"duration":8708}},{"uid":"a562cecaaa38a5ef","reportUrl":"https://waku-org.github.io/waku-interop-tests/37//#testresult/a562cecaaa38a5ef","status":"passed","time":{"start":1710126871787,"stop":1710126879283,"duration":7496}},{"uid":"4770f14b27d62d02","reportUrl":"https://waku-org.github.io/waku-interop-tests/36//#testresult/4770f14b27d62d02","status":"passed","time":{"start":1710040407576,"stop":1710040414925,"duration":7349}},{"uid":"41d03a1b1a5fe4cf","reportUrl":"https://waku-org.github.io/waku-interop-tests/35//#testresult/41d03a1b1a5fe4cf","status":"passed","time":{"start":1709954130849,"stop":1709954137384,"duration":6535}},{"uid":"d3820e30dd9108c","reportUrl":"https://waku-org.github.io/waku-interop-tests/34//#testresult/d3820e30dd9108c","status":"passed","time":{"start":1709867581732,"stop":1709867584654,"duration":2922}},{"uid":"216da34d39568a5c","reportUrl":"https://waku-org.github.io/waku-interop-tests/33//#testresult/216da34d39568a5c","status":"passed","time":{"start":1709797080060,"stop":1709797083979,"duration":3919}},{"uid":"eff0928874fb9528","reportUrl":"https://waku-org.github.io/waku-interop-tests/32//#testresult/eff0928874fb9528","status":"passed","time":{"start":1709781125024,"stop":1709781127615,"duration":2591}},{"uid":"27f5737d03268e1","reportUrl":"https://waku-org.github.io/waku-interop-tests/31//#testresult/27f5737d03268e1","status":"passed","time":{"start":1709694795784,"stop":1709694800148,"duration":4364}},{"uid":"4b33e7967218747c","reportUrl":"https://waku-org.github.io/waku-interop-tests/30//#testresult/4b33e7967218747c","status":"passed","time":{"start":1709608374380,"stop":1709608380195,"duration":5815}},{"uid":"277f18d205070af2","reportUrl":"https://waku-org.github.io/waku-interop-tests/28//#testresult/277f18d205070af2","status":"passed","time":{"start":1709435549855,"stop":1709435552668,"duration":2813}},{"uid":"c979333b18a51d5","reportUrl":"https://waku-org.github.io/waku-interop-tests/27//#testresult/c979333b18a51d5","status":"passed","time":{"start":1709349139451,"stop":1709349148872,"duration":9421}},{"uid":"4844bd0dd34e47ee","reportUrl":"https://waku-org.github.io/waku-interop-tests/26//#testresult/4844bd0dd34e47ee","status":"passed","time":{"start":1709262953614,"stop":1709262960870,"duration":7256}}]},"tags":["@pytest.mark.usefixtures('setup_main_relay_node', 'setup_main_filter_node', 'subscribe_main_nodes')"]},"source":"dd7d612b287c1b0d.json","parameterValues":[]}