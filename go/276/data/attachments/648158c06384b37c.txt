[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_multiple_lightpush_nodes with id: 2024-09-11_03-16-53__01567fe0-c540-4631-a9bb-728ebb3d6ed1
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-09-11_03-16-53__01567fe0-c540-4631-a9bb-728ebb3d6ed1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.140.158
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['40225', '40226', '40227', '40228', '40229']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 40225:40225 -p 40226:40226 -p 40227:40227 -p 40228:40228 -p 40229:40229 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=40227 --rest-port=40225 --tcp-port=40226 --discv5-udp-port=40228 --rest-address=0.0.0.0 --nat=extip:172.18.140.158 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dcc5df14c1ffca7ae3b9ef0eeb9c9eadb78b0de5a0b1ef140ac467c87cd5fe7f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=40229 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.140.158 waku f816d6518666cc9cd6432fec29138040e5d10caeec2aef324d6a727d86da73f4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID f816d6518666. Setting up logs at ./log/docker/receiving_node1_2024-09-11_03-16-53__01567fe0-c540-4631-a9bb-728ebb3d6ed1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 40225
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40225/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40225/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.140.158/tcp/40226/p2p/16Uiu2HAmPcqs7F3Z5xY3kw6MTtJbFqAHqNz6YgVneKPGwCnU1DUx","/ip4/172.18.140.158/tcp/40227/ws/p2p/16Uiu2HAmPcqs7F3Z5xY3kw6MTtJbFqAHqNz6YgVneKPGwCnU1DUx"],"enrUri":"enr:-LO4QMMPj-kUQujV34WI5MaVEm9SyZucXv3zFaeZqdNfJSK9O_QNscHfUuiq0PJCwctMRAe5f_OFWg82r46F0wEN3yEBgmlkgnY0gmlwhKwSjJ6KbXVsdGlhZGRyc4wACgSsEoyeBp0j3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOi48yvPGxnN4P2N0UIas_pr_bApeg2eUjaZhhFwEK4lYN0Y3CCnSKDdWRwgp0khXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-09-11_03-16-53__01567fe0-c540-4631-a9bb-728ebb3d6ed1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.161.251
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['48414', '48415', '48416', '48417', '48418']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 48414:48414 -p 48415:48415 -p 48416:48416 -p 48417:48417 -p 48418:48418 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=48416 --rest-port=48414 --tcp-port=48415 --discv5-udp-port=48417 --rest-address=0.0.0.0 --nat=extip:172.18.161.251 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=66f9a45c6edcdfe0dc88b7aaa7d2ceea36ce310dc8b4effa856df93b9effcfea --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=48418 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.161.251 waku 7f6d18cb3c066fe320c4f0954afc21fbe906c1b5d503a56504686dce982561c9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 7f6d18cb3c06. Setting up logs at ./log/docker/receiving_node2_2024-09-11_03-16-53__01567fe0-c540-4631-a9bb-728ebb3d6ed1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 48414
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48414/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48414/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.161.251/tcp/48415/p2p/16Uiu2HAmCyX3TRFHZaQ1TapGEHydmmSJWZbEwc9ZNjgmGfQDRptC","/ip4/172.18.161.251/tcp/48416/ws/p2p/16Uiu2HAmCyX3TRFHZaQ1TapGEHydmmSJWZbEwc9ZNjgmGfQDRptC"],"enrUri":"enr:-LO4QLBOQr18sTtCVZzaACo37-JRd-KqUfO8acs7nOsFiuzhB9C_skWRuoaUvPCr7azINPdUmCKllba1Hdk-yC73hbUBgmlkgnY0gmlwhKwSofuKbXVsdGlhZGRyc4wACgSsEqH7Br0g3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMEvyihUQ1rIDdEE8o0y5KRd4c8WEHi8fdjs6FaMvK0FYN0Y3CCvR-DdWRwgr0hhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48414/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.140.158/tcp/40226/p2p/16Uiu2HAmPcqs7F3Z5xY3kw6MTtJbFqAHqNz6YgVneKPGwCnU1DUx"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-09-11_03-16-53__01567fe0-c540-4631-a9bb-728ebb3d6ed1__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.89.36
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['65098', '65099', '65100', '65101', '65102']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 65098:65098 -p 65099:65099 -p 65100:65100 -p 65101:65101 -p 65102:65102 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=65100 --rest-port=65098 --tcp-port=65099 --discv5-udp-port=65101 --rest-address=0.0.0.0 --nat=extip:172.18.89.36 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ed45d9c9ae5d403966b5b7f1c4d9a762a2ff2de7f2cc7de993fdb14e1aa6efdd --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-LO4QMMPj-kUQujV34WI5MaVEm9SyZucXv3zFaeZqdNfJSK9O_QNscHfUuiq0PJCwctMRAe5f_OFWg82r46F0wEN3yEBgmlkgnY0gmlwhKwSjJ6KbXVsdGlhZGRyc4wACgSsEoyeBp0j3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOi48yvPGxnN4P2N0UIas_pr_bApeg2eUjaZhhFwEK4lYN0Y3CCnSKDdWRwgp0khXdha3UyCQ --lightpushnode=/ip4/172.18.140.158/tcp/40226/p2p/16Uiu2HAmPcqs7F3Z5xY3kw6MTtJbFqAHqNz6YgVneKPGwCnU1DUx --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.89.36 waku 588025afa14c8a5e9a9a0bc703cd91ac19cbfcf10facfcebc092fc055bfe71a5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 588025afa14c. Setting up logs at ./log/docker/lightpush_node1_2024-09-11_03-16-53__01567fe0-c540-4631-a9bb-728ebb3d6ed1__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 65098
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:65098/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QO69aPQYFD7xX0QcTdQLJYhLichvCR9r04sGWa7eXIvTXgzMO5UCWThrffQm9eKA9jom-_J4ep_fMlRf2eD_Pu-GAZHfFYukgmlkgnY0gmlwhKwRAA6Jc2VjcDI1NmsxoQICs5mrAZ4t9d1Foc0RwlxN1DJvrZvAXZXal5qPy3ZBkYN0Y3CC_kuDdWRwgv5NhXdha3UyCA","listenAddresses":["/ip4/127.0.0.1/tcp/65099/p2p/16Uiu2HAkucDdmfFcz9xbPopv2kRw7LwqWVucRhrjTxuURLY7XRXv","/ip4/127.0.0.1/tcp/65100/ws/p2p/16Uiu2HAkucDdmfFcz9xbPopv2kRw7LwqWVucRhrjTxuURLY7XRXv","/ip4/172.17.0.14/tcp/65099/p2p/16Uiu2HAkucDdmfFcz9xbPopv2kRw7LwqWVucRhrjTxuURLY7XRXv","/ip4/172.17.0.14/tcp/65100/ws/p2p/16Uiu2HAkucDdmfFcz9xbPopv2kRw7LwqWVucRhrjTxuURLY7XRXv"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:65098/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.140.158/tcp/40226/p2p/16Uiu2HAmPcqs7F3Z5xY3kw6MTtJbFqAHqNz6YgVneKPGwCnU1DUx", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:65098/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.161.251/tcp/48415/p2p/16Uiu2HAmCyX3TRFHZaQ1TapGEHydmmSJWZbEwc9ZNjgmGfQDRptC", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node2_2024-09-11_03-16-53__01567fe0-c540-4631-a9bb-728ebb3d6ed1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.171.43
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['38265', '38266', '38267', '38268', '38269']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 38265:38265 -p 38266:38266 -p 38267:38267 -p 38268:38268 -p 38269:38269 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=38267 --rest-port=38265 --tcp-port=38266 --discv5-udp-port=38268 --rest-address=0.0.0.0 --nat=extip:172.18.171.43 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8b4271a282cc3450ab60e38efe3d7f9ed48afd38fb9f98f5364a017e7fa32cce --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=38269 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QMMPj-kUQujV34WI5MaVEm9SyZucXv3zFaeZqdNfJSK9O_QNscHfUuiq0PJCwctMRAe5f_OFWg82r46F0wEN3yEBgmlkgnY0gmlwhKwSjJ6KbXVsdGlhZGRyc4wACgSsEoyeBp0j3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOi48yvPGxnN4P2N0UIas_pr_bApeg2eUjaZhhFwEK4lYN0Y3CCnSKDdWRwgp0khXdha3UyCQ --lightpushnode=/ip4/172.18.140.158/tcp/40226/p2p/16Uiu2HAmPcqs7F3Z5xY3kw6MTtJbFqAHqNz6YgVneKPGwCnU1DUx --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.171.43 waku 453e1fc9da7984b6ccb0ce558e3c94ea386dbfde6091c7a5be8d72d634fc5d41
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 453e1fc9da79. Setting up logs at ./log/docker/lightpush_node2_2024-09-11_03-16-53__01567fe0-c540-4631-a9bb-728ebb3d6ed1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 38265
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38265/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38265/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.171.43/tcp/38266/p2p/16Uiu2HAmC5npXsjfGoHTE9Rpvwi8KWwazas34WpAyEKRRnsQJezY","/ip4/172.18.171.43/tcp/38267/ws/p2p/16Uiu2HAmC5npXsjfGoHTE9Rpvwi8KWwazas34WpAyEKRRnsQJezY"],"enrUri":"enr:-LO4QILZkNZq4zpcrK2MBIAFkpQZJQHbILkTMsqbfxgw9YVAX-06pbrPlH6AmT6MOLQtoPeEMjBSVCKBKW4xeYtD5UYBgmlkgnY0gmlwhKwSqyuKbXVsdGlhZGRyc4wACgSsEqsrBpV73QOCcnOFAAMBAACJc2VjcDI1NmsxoQL3fsvEJSh_HdyrCGUpuHtgzl-xHnaNZDcAzomIeXO61YN0Y3CClXqDdWRwgpV8hXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38265/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.140.158/tcp/40226/p2p/16Uiu2HAmPcqs7F3Z5xY3kw6MTtJbFqAHqNz6YgVneKPGwCnU1DUx"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38265/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.161.251/tcp/48415/p2p/16Uiu2HAmCyX3TRFHZaQ1TapGEHydmmSJWZbEwc9ZNjgmGfQDRptC"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node3_2024-09-11_03-16-53__01567fe0-c540-4631-a9bb-728ebb3d6ed1__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.213.67
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['39888', '39889', '39890', '39891', '39892']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 39888:39888 -p 39889:39889 -p 39890:39890 -p 39891:39891 -p 39892:39892 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=39890 --rest-port=39888 --tcp-port=39889 --discv5-udp-port=39891 --rest-address=0.0.0.0 --nat=extip:172.18.213.67 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ad480a2ceba98034b6fce16bf899c2a4a61ecfdb3ddacee1135cd6c3feaefdbb --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-LO4QMMPj-kUQujV34WI5MaVEm9SyZucXv3zFaeZqdNfJSK9O_QNscHfUuiq0PJCwctMRAe5f_OFWg82r46F0wEN3yEBgmlkgnY0gmlwhKwSjJ6KbXVsdGlhZGRyc4wACgSsEoyeBp0j3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOi48yvPGxnN4P2N0UIas_pr_bApeg2eUjaZhhFwEK4lYN0Y3CCnSKDdWRwgp0khXdha3UyCQ --lightpushnode=/ip4/172.18.140.158/tcp/40226/p2p/16Uiu2HAmPcqs7F3Z5xY3kw6MTtJbFqAHqNz6YgVneKPGwCnU1DUx --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.213.67 waku 8afe93ac46c75b3f12df73b258c3fc1ea35d934d5b93b0f65b4f2d3a58609336
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 8afe93ac46c7. Setting up logs at ./log/docker/lightpush_node3_2024-09-11_03-16-53__01567fe0-c540-4631-a9bb-728ebb3d6ed1__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 39888
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39888/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QEliO6_g6ha_wDXgLWH_pC-ig_0xACqw2zzbWAB6HFj_IiYuZuVUW9y4aLU3NT6AODCZ71I3rrGZhDlp3BlvZZKGAZHfFZlRgmlkgnY0gmlwhKwRABCJc2VjcDI1NmsxoQL5vDWR15_OHsxtiJlh6u-w07Nc5M_yb9QuA5MsJqwyH4N0Y3CCm9GDdWRwgpvThXdha3UyCA","listenAddresses":["/ip4/127.0.0.1/tcp/39889/p2p/16Uiu2HAmCEXx3w7Fm4hPVrH4HQL2MKErZAphnXtQG2aEvfjgZsQr","/ip4/127.0.0.1/tcp/39890/ws/p2p/16Uiu2HAmCEXx3w7Fm4hPVrH4HQL2MKErZAphnXtQG2aEvfjgZsQr","/ip4/172.17.0.16/tcp/39889/p2p/16Uiu2HAmCEXx3w7Fm4hPVrH4HQL2MKErZAphnXtQG2aEvfjgZsQr","/ip4/172.17.0.16/tcp/39890/ws/p2p/16Uiu2HAmCEXx3w7Fm4hPVrH4HQL2MKErZAphnXtQG2aEvfjgZsQr"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39888/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.140.158/tcp/40226/p2p/16Uiu2HAmPcqs7F3Z5xY3kw6MTtJbFqAHqNz6YgVneKPGwCnU1DUx", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39888/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.161.251/tcp/48415/p2p/16Uiu2HAmCyX3TRFHZaQ1TapGEHydmmSJWZbEwc9ZNjgmGfQDRptC", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node4_2024-09-11_03-16-53__01567fe0-c540-4631-a9bb-728ebb3d6ed1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.8.55
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['2352', '2353', '2354', '2355', '2356']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 2352:2352 -p 2353:2353 -p 2354:2354 -p 2355:2355 -p 2356:2356 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=2354 --rest-port=2352 --tcp-port=2353 --discv5-udp-port=2355 --rest-address=0.0.0.0 --nat=extip:172.18.8.55 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dfb429bbb1a6ee6dd8fa740bc960b549e8c6726079e4a0ba9bbdab6fa38d3e34 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=2356 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QMMPj-kUQujV34WI5MaVEm9SyZucXv3zFaeZqdNfJSK9O_QNscHfUuiq0PJCwctMRAe5f_OFWg82r46F0wEN3yEBgmlkgnY0gmlwhKwSjJ6KbXVsdGlhZGRyc4wACgSsEoyeBp0j3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOi48yvPGxnN4P2N0UIas_pr_bApeg2eUjaZhhFwEK4lYN0Y3CCnSKDdWRwgp0khXdha3UyCQ --lightpushnode=/ip4/172.18.140.158/tcp/40226/p2p/16Uiu2HAmPcqs7F3Z5xY3kw6MTtJbFqAHqNz6YgVneKPGwCnU1DUx --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.8.55 waku 9980e8663cc093d29b10d6812f62e18f5d567c77f2062c01feffca5a79e683a1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 9980e8663cc0. Setting up logs at ./log/docker/lightpush_node4_2024-09-11_03-16-53__01567fe0-c540-4631-a9bb-728ebb3d6ed1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 2352
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2352/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2352/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.8.55/tcp/2353/p2p/16Uiu2HAmHeSV7icrstcib5YC5y5RN4fGxpKVpJrt3NB3XxCN8w9x","/ip4/172.18.8.55/tcp/2354/ws/p2p/16Uiu2HAmHeSV7icrstcib5YC5y5RN4fGxpKVpJrt3NB3XxCN8w9x"],"enrUri":"enr:-LO4QGGI19Ogqk-Qic1Z_LpJsqZmwsNum6RrmnunDm0AvKAWb3qeLcNAPGIpXQOVIPdOGOMiPSDGYgbGC85gilqDPpMBgmlkgnY0gmlwhKwSCDeKbXVsdGlhZGRyc4wACgSsEgg3Bgky3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNKJmeaTcXS8k6Jk98BMsSDR2WMYL7Xw3ueAxKuRKurp4N0Y3CCCTGDdWRwggkzhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2352/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.140.158/tcp/40226/p2p/16Uiu2HAmPcqs7F3Z5xY3kw6MTtJbFqAHqNz6YgVneKPGwCnU1DUx"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2352/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.161.251/tcp/48415/p2p/16Uiu2HAmCyX3TRFHZaQ1TapGEHydmmSJWZbEwc9ZNjgmGfQDRptC"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40225/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48414/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:65098/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1726024623111293440}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40225/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726024623111293440,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48414/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726024623111293440,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38265/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1726024623226797824}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40225/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726024623226797824,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48414/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726024623226797824,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39888/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1726024623340210688}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40225/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726024623340210688,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48414/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726024623340210688,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2352/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1726024623453282304}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40225/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726024623453282304,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48414/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726024623453282304,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id f816d6518666
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 7f6d18cb3c06
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 588025afa14c
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 453e1fc9da79
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 8afe93ac46c7
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 9980e8663cc0
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.