[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_multiple_lightpush_nodes with id: 2024-08-26_16-31-24__3af65bb6-cac4-44b2-87b9-ab83fab2fa5d
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-08-26_16-31-24__3af65bb6-cac4-44b2-87b9-ab83fab2fa5d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.143.167
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['54934', '54935', '54936', '54937', '54938']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 54934:54934 -p 54935:54935 -p 54936:54936 -p 54937:54937 -p 54938:54938 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=54936 --rest-port=54934 --tcp-port=54935 --discv5-udp-port=54937 --rest-address=0.0.0.0 --nat=extip:172.18.143.167 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d5c389ffd8db98d6d14de02fe6dafcb5f5cc4b536d373ea8d9ce40cddb3083dd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=54938 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.143.167 waku 559cc36913ed1318da138969aa403bbfab0e5efc228fd1381e51f49727110e40
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 559cc36913ed. Setting up logs at ./log/docker/receiving_node1_2024-08-26_16-31-24__3af65bb6-cac4-44b2-87b9-ab83fab2fa5d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 54934
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54934/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54934/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.143.167/tcp/54935/p2p/16Uiu2HAmBfCN3MHK9jEQ9CFD9idUE9YoG98wBN4XccbxzHV35cRC","/ip4/172.18.143.167/tcp/54936/ws/p2p/16Uiu2HAmBfCN3MHK9jEQ9CFD9idUE9YoG98wBN4XccbxzHV35cRC"],"enrUri":"enr:-LO4QDqL-7vLW6pn7HQ7xpn1IwlhloKuA5tUntkkNUgZeTxeBDXemJvV0TPZX5pd_N2ZmbkhlyisfzzZXV4D3H26MFYBgmlkgnY0gmlwhKwSj6eKbXVsdGlhZGRyc4wACgSsEo-nBtaY3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLxMeVrKOlviy6mrNtgnqcF4VPtc71We9YNyQI4uaj7J4N0Y3CC1peDdWRwgtaZhXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-08-26_16-31-24__3af65bb6-cac4-44b2-87b9-ab83fab2fa5d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.3.162
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['26286', '26287', '26288', '26289', '26290']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 26286:26286 -p 26287:26287 -p 26288:26288 -p 26289:26289 -p 26290:26290 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=26288 --rest-port=26286 --tcp-port=26287 --discv5-udp-port=26289 --rest-address=0.0.0.0 --nat=extip:172.18.3.162 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=70ffee28cd73b3ea2c4b59ce1dab771cd6e06ecae98c0e71dd088f05821c75e9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=26290 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.3.162 waku 1499d9f5d3c8ef4f37a98d730d171bbcf825bb8a3cf21daecc31d70cbf254093
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 1499d9f5d3c8. Setting up logs at ./log/docker/receiving_node2_2024-08-26_16-31-24__3af65bb6-cac4-44b2-87b9-ab83fab2fa5d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 26286
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26286/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26286/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.3.162/tcp/26287/p2p/16Uiu2HAm3LYc5CEdwPqQiHhkocebKoWZcpFLZWVy6aNCgxQ7K9U5","/ip4/172.18.3.162/tcp/26288/ws/p2p/16Uiu2HAm3LYc5CEdwPqQiHhkocebKoWZcpFLZWVy6aNCgxQ7K9U5"],"enrUri":"enr:-LO4QM-f8sRUG4us8phRM633PnJ8hkrNvXylsj31UvxmlBUjP5unQjaCdwxQHDSErowEqhJ4VEpY3kzsV3iqYAQSOaUBgmlkgnY0gmlwhKwSA6KKbXVsdGlhZGRyc4wACgSsEgOiBmaw3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJ1jUDE1lqzweibk5JqhimlXd4d86nSH4BgPfUBlTgwEoN0Y3CCZq-DdWRwgmaxhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26286/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.143.167/tcp/54935/p2p/16Uiu2HAmBfCN3MHK9jEQ9CFD9idUE9YoG98wBN4XccbxzHV35cRC"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-08-26_16-31-24__3af65bb6-cac4-44b2-87b9-ab83fab2fa5d__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.120.23
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['57080', '57081', '57082', '57083', '57084']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 57080:57080 -p 57081:57081 -p 57082:57082 -p 57083:57083 -p 57084:57084 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=57082 --rest-port=57080 --tcp-port=57081 --discv5-udp-port=57083 --rest-address=0.0.0.0 --nat=extip:172.18.120.23 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=12a759ffbdf7ef296effaf4eac6a0b1259f39ecbfaeb2acf0ddabbfc7e99afae --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-LO4QDqL-7vLW6pn7HQ7xpn1IwlhloKuA5tUntkkNUgZeTxeBDXemJvV0TPZX5pd_N2ZmbkhlyisfzzZXV4D3H26MFYBgmlkgnY0gmlwhKwSj6eKbXVsdGlhZGRyc4wACgSsEo-nBtaY3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLxMeVrKOlviy6mrNtgnqcF4VPtc71We9YNyQI4uaj7J4N0Y3CC1peDdWRwgtaZhXdha3UyCQ --lightpushnode=/ip4/172.18.143.167/tcp/54935/p2p/16Uiu2HAmBfCN3MHK9jEQ9CFD9idUE9YoG98wBN4XccbxzHV35cRC --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.120.23 waku 91ef194f71c659ada1fbdb6ee28dd56ed84a0add09769e63a5cdfa3c246ea6d5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 91ef194f71c6. Setting up logs at ./log/docker/lightpush_node1_2024-08-26_16-31-24__3af65bb6-cac4-44b2-87b9-ab83fab2fa5d__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 57080
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57080/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QDWSoto_qjXas_tGx3Ly1CzTZAswi53hw70LysxLxo9bYg_OOF8SLnH9HoFzoU6pTAVLnUn6H7IPA2fl0MragjeGAZGPhzWngmlkgnY0gmlwhKwRAAyJc2VjcDI1NmsxoQMWVFdtBHbFgWhI-4rLt4BGdTz6UjArgc0fZbZPkoo0S4N0Y3CC3vmDdWRwgt77hXdha3UyCA","listenAddresses":["/ip4/127.0.0.1/tcp/57081/p2p/16Uiu2HAmEA9urLhRLJQQCBa4rc719iRB3Nsh8QPUh1m59qobCJnW","/ip4/127.0.0.1/tcp/57082/ws/p2p/16Uiu2HAmEA9urLhRLJQQCBa4rc719iRB3Nsh8QPUh1m59qobCJnW","/ip4/172.17.0.12/tcp/57081/p2p/16Uiu2HAmEA9urLhRLJQQCBa4rc719iRB3Nsh8QPUh1m59qobCJnW","/ip4/172.17.0.12/tcp/57082/ws/p2p/16Uiu2HAmEA9urLhRLJQQCBa4rc719iRB3Nsh8QPUh1m59qobCJnW"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57080/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.143.167/tcp/54935/p2p/16Uiu2HAmBfCN3MHK9jEQ9CFD9idUE9YoG98wBN4XccbxzHV35cRC", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57080/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.3.162/tcp/26287/p2p/16Uiu2HAm3LYc5CEdwPqQiHhkocebKoWZcpFLZWVy6aNCgxQ7K9U5", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node2_2024-08-26_16-31-24__3af65bb6-cac4-44b2-87b9-ab83fab2fa5d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.8.7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['61564', '61565', '61566', '61567', '61568']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 61564:61564 -p 61565:61565 -p 61566:61566 -p 61567:61567 -p 61568:61568 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=61566 --rest-port=61564 --tcp-port=61565 --discv5-udp-port=61567 --rest-address=0.0.0.0 --nat=extip:172.18.8.7 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3b6df8ca2bcad23bbcb8e0a76747ddbf8d0d7ef56f15b3f1c6588c2c3f89aa2b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=61568 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QDqL-7vLW6pn7HQ7xpn1IwlhloKuA5tUntkkNUgZeTxeBDXemJvV0TPZX5pd_N2ZmbkhlyisfzzZXV4D3H26MFYBgmlkgnY0gmlwhKwSj6eKbXVsdGlhZGRyc4wACgSsEo-nBtaY3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLxMeVrKOlviy6mrNtgnqcF4VPtc71We9YNyQI4uaj7J4N0Y3CC1peDdWRwgtaZhXdha3UyCQ --lightpushnode=/ip4/172.18.143.167/tcp/54935/p2p/16Uiu2HAmBfCN3MHK9jEQ9CFD9idUE9YoG98wBN4XccbxzHV35cRC --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.8.7 waku 35bb8f3de74c8bdbd387a5a9305b98250767ca9b3e250f2132b1a9a320411481
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 35bb8f3de74c. Setting up logs at ./log/docker/lightpush_node2_2024-08-26_16-31-24__3af65bb6-cac4-44b2-87b9-ab83fab2fa5d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 61564
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61564/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61564/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.8.7/tcp/61565/p2p/16Uiu2HAm29GSSsVPbCCUaKchRjDSbMHkuXfkK57GjCbMfUNnV194","/ip4/172.18.8.7/tcp/61566/ws/p2p/16Uiu2HAm29GSSsVPbCCUaKchRjDSbMHkuXfkK57GjCbMfUNnV194"],"enrUri":"enr:-LO4QGv6m62s1dDOl1cE-wQ-d0THmyHM0ZeZ9z95mzOC-kzVNlM6YZka51RUDxgL3nM4iKMgzuP1f1_48lGiB5GnOhQBgmlkgnY0gmlwhKwSCAeKbXVsdGlhZGRyc4wACgSsEggHBvB-3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJjzeX0JyRw-10OvJJX1IC4PYaFPJGxafaVH7HKVYqb44N0Y3CC8H2DdWRwgvB_hXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61564/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.143.167/tcp/54935/p2p/16Uiu2HAmBfCN3MHK9jEQ9CFD9idUE9YoG98wBN4XccbxzHV35cRC"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61564/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.3.162/tcp/26287/p2p/16Uiu2HAm3LYc5CEdwPqQiHhkocebKoWZcpFLZWVy6aNCgxQ7K9U5"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node3_2024-08-26_16-31-24__3af65bb6-cac4-44b2-87b9-ab83fab2fa5d__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.133.167
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['49942', '49943', '49944', '49945', '49946']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 49942:49942 -p 49943:49943 -p 49944:49944 -p 49945:49945 -p 49946:49946 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=49944 --rest-port=49942 --tcp-port=49943 --discv5-udp-port=49945 --rest-address=0.0.0.0 --nat=extip:172.18.133.167 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e1e9ab2b37cf430a7ac780fb567ea6bd8db2c8c5f09a90947cb6cfb36eddd0cf --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-LO4QDqL-7vLW6pn7HQ7xpn1IwlhloKuA5tUntkkNUgZeTxeBDXemJvV0TPZX5pd_N2ZmbkhlyisfzzZXV4D3H26MFYBgmlkgnY0gmlwhKwSj6eKbXVsdGlhZGRyc4wACgSsEo-nBtaY3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLxMeVrKOlviy6mrNtgnqcF4VPtc71We9YNyQI4uaj7J4N0Y3CC1peDdWRwgtaZhXdha3UyCQ --lightpushnode=/ip4/172.18.143.167/tcp/54935/p2p/16Uiu2HAmBfCN3MHK9jEQ9CFD9idUE9YoG98wBN4XccbxzHV35cRC --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.133.167 waku 2e8ab8cd55714ec286e926162907e3e51461fe9623915c83a3dd704c72dcd4ea
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 2e8ab8cd5571. Setting up logs at ./log/docker/lightpush_node3_2024-08-26_16-31-24__3af65bb6-cac4-44b2-87b9-ab83fab2fa5d__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 49942
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49942/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QGCGGzbMmI5N4ZkLH56EVJyCj4aIAbDsoehTg46BV72HB2MLgPaKeqh625tv0B4HHv-6lDxJSa7OJs_AZc30zwOGAZGPh0OfgmlkgnY0gmlwhKwRAA-Jc2VjcDI1NmsxoQLUdrSPDyOgOJTsaBx4OwSOjh03iP1DpCzIk1le6Bsp9YN0Y3CCwxeDdWRwgsMZhXdha3UyCA","listenAddresses":["/ip4/127.0.0.1/tcp/49943/p2p/16Uiu2HAm9j3Ptiy34e1eq6TBjk7co4PqVJh8oQuxpDkJUZeker9i","/ip4/127.0.0.1/tcp/49944/ws/p2p/16Uiu2HAm9j3Ptiy34e1eq6TBjk7co4PqVJh8oQuxpDkJUZeker9i","/ip4/172.17.0.15/tcp/49943/p2p/16Uiu2HAm9j3Ptiy34e1eq6TBjk7co4PqVJh8oQuxpDkJUZeker9i","/ip4/172.17.0.15/tcp/49944/ws/p2p/16Uiu2HAm9j3Ptiy34e1eq6TBjk7co4PqVJh8oQuxpDkJUZeker9i"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49942/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.143.167/tcp/54935/p2p/16Uiu2HAmBfCN3MHK9jEQ9CFD9idUE9YoG98wBN4XccbxzHV35cRC", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49942/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.3.162/tcp/26287/p2p/16Uiu2HAm3LYc5CEdwPqQiHhkocebKoWZcpFLZWVy6aNCgxQ7K9U5", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node4_2024-08-26_16-31-24__3af65bb6-cac4-44b2-87b9-ab83fab2fa5d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.174.68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['28700', '28701', '28702', '28703', '28704']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 28700:28700 -p 28701:28701 -p 28702:28702 -p 28703:28703 -p 28704:28704 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=28702 --rest-port=28700 --tcp-port=28701 --discv5-udp-port=28703 --rest-address=0.0.0.0 --nat=extip:172.18.174.68 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bbf40cc6eeb7d131c27465fe7f8918039edbf814a22abdcee02494f312800527 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=28704 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QDqL-7vLW6pn7HQ7xpn1IwlhloKuA5tUntkkNUgZeTxeBDXemJvV0TPZX5pd_N2ZmbkhlyisfzzZXV4D3H26MFYBgmlkgnY0gmlwhKwSj6eKbXVsdGlhZGRyc4wACgSsEo-nBtaY3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLxMeVrKOlviy6mrNtgnqcF4VPtc71We9YNyQI4uaj7J4N0Y3CC1peDdWRwgtaZhXdha3UyCQ --lightpushnode=/ip4/172.18.143.167/tcp/54935/p2p/16Uiu2HAmBfCN3MHK9jEQ9CFD9idUE9YoG98wBN4XccbxzHV35cRC --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.174.68 waku 73069f0f04d06dd3223f26a3409f35f00d8739f9b285fd88f65471134c649f13
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 73069f0f04d0. Setting up logs at ./log/docker/lightpush_node4_2024-08-26_16-31-24__3af65bb6-cac4-44b2-87b9-ab83fab2fa5d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 28700
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28700/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28700/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.174.68/tcp/28701/p2p/16Uiu2HAmKcipS8BjtEFr1DgRAkamLn2Z4b6H1qwvPZujJpNGk7cJ","/ip4/172.18.174.68/tcp/28702/ws/p2p/16Uiu2HAmKcipS8BjtEFr1DgRAkamLn2Z4b6H1qwvPZujJpNGk7cJ"],"enrUri":"enr:-LO4QCffWBQk9EaRdC88w2AMUB9jWbcW7uI2jbflH_t7tDNCWLMY8iJGiRGz9qChgCfuQNsks68BXJnVWsdXuYmew6EBgmlkgnY0gmlwhKwSrkSKbXVsdGlhZGRyc4wACgSsEq5EBnAe3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNnbRW0JdMVQX2v3YjAlj3G3TBlIW0ozcYdlGwowk9v34N0Y3CCcB2DdWRwgnAfhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28700/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.143.167/tcp/54935/p2p/16Uiu2HAmBfCN3MHK9jEQ9CFD9idUE9YoG98wBN4XccbxzHV35cRC"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28700/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.3.162/tcp/26287/p2p/16Uiu2HAm3LYc5CEdwPqQiHhkocebKoWZcpFLZWVy6aNCgxQ7K9U5"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54934/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26286/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57080/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1724689895318634240}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54934/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724689895318634240,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26286/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724689895318634240,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61564/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1724689895435965440}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54934/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724689895435965440,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26286/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724689895435965440,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49942/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1724689895551624192}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54934/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724689895551624192,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26286/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724689895551624192,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28700/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1724689895713321216}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54934/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724689895713321216,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26286/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724689895713321216,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 559cc36913ed
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 1499d9f5d3c8
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 91ef194f71c6
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 35bb8f3de74c
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 2e8ab8cd5571
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 73069f0f04d0
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.