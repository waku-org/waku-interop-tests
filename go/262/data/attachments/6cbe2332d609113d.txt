[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_multiple_lightpush_nodes with id: 2024-08-30_08-53-26__9d6e1cfe-f9fb-42f6-9169-698c5d2c0988
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-08-30_08-53-26__9d6e1cfe-f9fb-42f6-9169-698c5d2c0988__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.19.118
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['16522', '16523', '16524', '16525', '16526']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 16522:16522 -p 16523:16523 -p 16524:16524 -p 16525:16525 -p 16526:16526 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=16524 --rest-port=16522 --tcp-port=16523 --discv5-udp-port=16525 --rest-address=0.0.0.0 --nat=extip:172.18.19.118 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c7325eefe9d08a3d89c4df69aac2eacd9680c2d8caedfdbf7c0acf79f5557b1b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=16526 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.19.118 waku 15331a591ac69a3fff959a1f0515f8161428c01b87d1f549d46cade57ed6330d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 15331a591ac6. Setting up logs at ./log/docker/receiving_node1_2024-08-30_08-53-26__9d6e1cfe-f9fb-42f6-9169-698c5d2c0988__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 16522
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16522/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16522/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.19.118/tcp/16523/p2p/16Uiu2HAkzkYesPBofXQiqdykbRd6f1pWJfJgcAm4B2MiwN7aaisD","/ip4/172.18.19.118/tcp/16524/ws/p2p/16Uiu2HAkzkYesPBofXQiqdykbRd6f1pWJfJgcAm4B2MiwN7aaisD"],"enrUri":"enr:-LO4QH1_srRrcN0vZKB1ygkWAB6FL5SvQzmLQsBHghocewadBkTVptS6aEIx5_9mCAa81H3NxtYsgeD34e5fFng5hHMBgmlkgnY0gmlwhKwSE3aKbXVsdGlhZGRyc4wACgSsEhN2BkCM3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJPIC-n-14VmKuJeFrxnly0rBlTFNTXsHcLmHZhrZUFXIN0Y3CCQIuDdWRwgkCNhXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-08-30_08-53-26__9d6e1cfe-f9fb-42f6-9169-698c5d2c0988__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.116.149
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['44929', '44930', '44931', '44932', '44933']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 44929:44929 -p 44930:44930 -p 44931:44931 -p 44932:44932 -p 44933:44933 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=44931 --rest-port=44929 --tcp-port=44930 --discv5-udp-port=44932 --rest-address=0.0.0.0 --nat=extip:172.18.116.149 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bc4c0f43c9ff3dae5e6e4dbb76cf3f24b621ef5319a2a30f7a07829ac8a0478c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=44933 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.116.149 waku 6d6d7491787ec7e40d39ae1a348c8a12ee08d72d91e2dbdc74956439afea52ea
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 6d6d7491787e. Setting up logs at ./log/docker/receiving_node2_2024-08-30_08-53-26__9d6e1cfe-f9fb-42f6-9169-698c5d2c0988__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 44929
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44929/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44929/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.116.149/tcp/44930/p2p/16Uiu2HAmQiX9oPr8jj8yZXHPQnzg2GevJ9R8DX8NHCoU8FUKvTtk","/ip4/172.18.116.149/tcp/44931/ws/p2p/16Uiu2HAmQiX9oPr8jj8yZXHPQnzg2GevJ9R8DX8NHCoU8FUKvTtk"],"enrUri":"enr:-LO4QLzV8l6XdkvPl11pF0IIuSmTNeSX-ixXruX7mZ5CLnIBB84Lz7yfxEzDbu68KEiqCFmu-z5C-JNiEX4hbPQwaTABgmlkgnY0gmlwhKwSdJWKbXVsdGlhZGRyc4wACgSsEnSVBq-D3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOzM9A5W3_7puPrHU478OUH6P9NtrKV8lrTq2iD3lhiqYN0Y3CCr4KDdWRwgq-EhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44929/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.19.118/tcp/16523/p2p/16Uiu2HAkzkYesPBofXQiqdykbRd6f1pWJfJgcAm4B2MiwN7aaisD"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-08-30_08-53-26__9d6e1cfe-f9fb-42f6-9169-698c5d2c0988__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.161.227
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['53947', '53948', '53949', '53950', '53951']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 53947:53947 -p 53948:53948 -p 53949:53949 -p 53950:53950 -p 53951:53951 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=53949 --rest-port=53947 --tcp-port=53948 --discv5-udp-port=53950 --rest-address=0.0.0.0 --nat=extip:172.18.161.227 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ecd3fff2eb0fcae906f36012c8943f861ecc280d3a45ec4d492499406ead5920 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-LO4QH1_srRrcN0vZKB1ygkWAB6FL5SvQzmLQsBHghocewadBkTVptS6aEIx5_9mCAa81H3NxtYsgeD34e5fFng5hHMBgmlkgnY0gmlwhKwSE3aKbXVsdGlhZGRyc4wACgSsEhN2BkCM3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJPIC-n-14VmKuJeFrxnly0rBlTFNTXsHcLmHZhrZUFXIN0Y3CCQIuDdWRwgkCNhXdha3UyCQ --lightpushnode=/ip4/172.18.19.118/tcp/16523/p2p/16Uiu2HAkzkYesPBofXQiqdykbRd6f1pWJfJgcAm4B2MiwN7aaisD --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.161.227 waku 0333f80efe125d1417ba04708ac92d274466cd8e11f971430f6794afd25ddfa3
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 0333f80efe12. Setting up logs at ./log/docker/lightpush_node1_2024-08-30_08-53-26__9d6e1cfe-f9fb-42f6-9169-698c5d2c0988__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 53947
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53947/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QBcrhqiRZEeq6teThIjaEKMkj7UNhFacTcg94MmRCDQzSGynHEg9ApERUFIZPOZgmbZ1oJh6TtTrzQVQig62JZGGAZGifV7ogmlkgnY0gmlwhKwRAAeJc2VjcDI1NmsxoQOtJMscCe8dCbyJfe9QIxFLnWw3HGg4gxM24-SPTl06D4N0Y3CC0ryDdWRwgtK-hXdha3UyCA","listenAddresses":["/ip4/127.0.0.1/tcp/53948/p2p/16Uiu2HAmQJsRTuPrxQcQQFsLm2rsA939YttdEWyhPVSqd3uSgnEa","/ip4/127.0.0.1/tcp/53949/ws/p2p/16Uiu2HAmQJsRTuPrxQcQQFsLm2rsA939YttdEWyhPVSqd3uSgnEa","/ip4/172.17.0.7/tcp/53948/p2p/16Uiu2HAmQJsRTuPrxQcQQFsLm2rsA939YttdEWyhPVSqd3uSgnEa","/ip4/172.17.0.7/tcp/53949/ws/p2p/16Uiu2HAmQJsRTuPrxQcQQFsLm2rsA939YttdEWyhPVSqd3uSgnEa"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53947/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.19.118/tcp/16523/p2p/16Uiu2HAkzkYesPBofXQiqdykbRd6f1pWJfJgcAm4B2MiwN7aaisD", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53947/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.116.149/tcp/44930/p2p/16Uiu2HAmQiX9oPr8jj8yZXHPQnzg2GevJ9R8DX8NHCoU8FUKvTtk", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node2_2024-08-30_08-53-26__9d6e1cfe-f9fb-42f6-9169-698c5d2c0988__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.82.17
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['7114', '7115', '7116', '7117', '7118']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 7114:7114 -p 7115:7115 -p 7116:7116 -p 7117:7117 -p 7118:7118 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=7116 --rest-port=7114 --tcp-port=7115 --discv5-udp-port=7117 --rest-address=0.0.0.0 --nat=extip:172.18.82.17 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f1f79d4c6e0d6deaebba2f49cc4d8a967aaf1abfc3b52b11e5dbe3f2ddbe2a25 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=7118 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QH1_srRrcN0vZKB1ygkWAB6FL5SvQzmLQsBHghocewadBkTVptS6aEIx5_9mCAa81H3NxtYsgeD34e5fFng5hHMBgmlkgnY0gmlwhKwSE3aKbXVsdGlhZGRyc4wACgSsEhN2BkCM3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJPIC-n-14VmKuJeFrxnly0rBlTFNTXsHcLmHZhrZUFXIN0Y3CCQIuDdWRwgkCNhXdha3UyCQ --lightpushnode=/ip4/172.18.19.118/tcp/16523/p2p/16Uiu2HAkzkYesPBofXQiqdykbRd6f1pWJfJgcAm4B2MiwN7aaisD --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.82.17 waku bb68511cc117ebac7faadf766af03c0ccc91720ccdfad271820514acad34140c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID bb68511cc117. Setting up logs at ./log/docker/lightpush_node2_2024-08-30_08-53-26__9d6e1cfe-f9fb-42f6-9169-698c5d2c0988__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 7114
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7114/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7114/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.82.17/tcp/7115/p2p/16Uiu2HAmKjjc2MCaWFwrjzNSKstNrkqHYc16xNHq3nBCH2mgAWdY","/ip4/172.18.82.17/tcp/7116/ws/p2p/16Uiu2HAmKjjc2MCaWFwrjzNSKstNrkqHYc16xNHq3nBCH2mgAWdY"],"enrUri":"enr:-LO4QI4wY5FAdP1x3-OABo5VHFXRuSQws7vcCpB2lKcqdxE5bha1LkMws6rVEzMLGcvaSXod-PT6jEKBWE1SqJvdOakBgmlkgnY0gmlwhKwSUhGKbXVsdGlhZGRyc4wACgSsElIRBhvM3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNpOQoKIerqDJNyTZ7rTwr6pRM-KqohA-s3FBCvBq9G84N0Y3CCG8uDdWRwghvNhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7114/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.19.118/tcp/16523/p2p/16Uiu2HAkzkYesPBofXQiqdykbRd6f1pWJfJgcAm4B2MiwN7aaisD"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7114/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.116.149/tcp/44930/p2p/16Uiu2HAmQiX9oPr8jj8yZXHPQnzg2GevJ9R8DX8NHCoU8FUKvTtk"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node3_2024-08-30_08-53-26__9d6e1cfe-f9fb-42f6-9169-698c5d2c0988__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.238.237
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['62156', '62157', '62158', '62159', '62160']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 62156:62156 -p 62157:62157 -p 62158:62158 -p 62159:62159 -p 62160:62160 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=62158 --rest-port=62156 --tcp-port=62157 --discv5-udp-port=62159 --rest-address=0.0.0.0 --nat=extip:172.18.238.237 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=af9da8aa0b50b09dbaea53efc8ce185ebfbb9a0cb2ffc33ddf48b1d2e2b9cc56 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-LO4QH1_srRrcN0vZKB1ygkWAB6FL5SvQzmLQsBHghocewadBkTVptS6aEIx5_9mCAa81H3NxtYsgeD34e5fFng5hHMBgmlkgnY0gmlwhKwSE3aKbXVsdGlhZGRyc4wACgSsEhN2BkCM3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJPIC-n-14VmKuJeFrxnly0rBlTFNTXsHcLmHZhrZUFXIN0Y3CCQIuDdWRwgkCNhXdha3UyCQ --lightpushnode=/ip4/172.18.19.118/tcp/16523/p2p/16Uiu2HAkzkYesPBofXQiqdykbRd6f1pWJfJgcAm4B2MiwN7aaisD --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.238.237 waku f38877ad6e9f8364864c55bd0aa41464ce21f0727a261ce6a24855a528a96a9d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID f38877ad6e9f. Setting up logs at ./log/docker/lightpush_node3_2024-08-30_08-53-26__9d6e1cfe-f9fb-42f6-9169-698c5d2c0988__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 62156
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62156/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QL07DJDFAzeyZNS3jJ3MNl-4FOkVJA9IkG3zDPQkBTZoVQxy6vcUafdrw2B2fEK7FlsHFxGHgk1veNnNt-37CxyGAZGifWsAgmlkgnY0gmlwhKwRAA-Jc2VjcDI1NmsxoQJP7mTMtQsaEFnq0_b0NaJCrSSyf_5Q5vc2-lcivTRT2IN0Y3CC8s2DdWRwgvLPhXdha3UyCA","listenAddresses":["/ip4/127.0.0.1/tcp/62157/p2p/16Uiu2HAkzoh2PZRXRE5PcqQwj1HprCefZbPTWXKF8TR6FPsrS5Vy","/ip4/127.0.0.1/tcp/62158/ws/p2p/16Uiu2HAkzoh2PZRXRE5PcqQwj1HprCefZbPTWXKF8TR6FPsrS5Vy","/ip4/172.17.0.15/tcp/62157/p2p/16Uiu2HAkzoh2PZRXRE5PcqQwj1HprCefZbPTWXKF8TR6FPsrS5Vy","/ip4/172.17.0.15/tcp/62158/ws/p2p/16Uiu2HAkzoh2PZRXRE5PcqQwj1HprCefZbPTWXKF8TR6FPsrS5Vy"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62156/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.19.118/tcp/16523/p2p/16Uiu2HAkzkYesPBofXQiqdykbRd6f1pWJfJgcAm4B2MiwN7aaisD", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62156/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.116.149/tcp/44930/p2p/16Uiu2HAmQiX9oPr8jj8yZXHPQnzg2GevJ9R8DX8NHCoU8FUKvTtk", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node4_2024-08-30_08-53-26__9d6e1cfe-f9fb-42f6-9169-698c5d2c0988__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.213.136
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['3781', '3782', '3783', '3784', '3785']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 3781:3781 -p 3782:3782 -p 3783:3783 -p 3784:3784 -p 3785:3785 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=3783 --rest-port=3781 --tcp-port=3782 --discv5-udp-port=3784 --rest-address=0.0.0.0 --nat=extip:172.18.213.136 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=21fe8bd1d91cf8b26bad08c0761ff324aa2d3eb3116ddc7c6b9be407f67badfb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=3785 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QH1_srRrcN0vZKB1ygkWAB6FL5SvQzmLQsBHghocewadBkTVptS6aEIx5_9mCAa81H3NxtYsgeD34e5fFng5hHMBgmlkgnY0gmlwhKwSE3aKbXVsdGlhZGRyc4wACgSsEhN2BkCM3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJPIC-n-14VmKuJeFrxnly0rBlTFNTXsHcLmHZhrZUFXIN0Y3CCQIuDdWRwgkCNhXdha3UyCQ --lightpushnode=/ip4/172.18.19.118/tcp/16523/p2p/16Uiu2HAkzkYesPBofXQiqdykbRd6f1pWJfJgcAm4B2MiwN7aaisD --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.213.136 waku 209b8c5128c5738244da2323ea749d16c8d28d1cdeaaf606bcfd0a129bc652a6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 209b8c5128c5. Setting up logs at ./log/docker/lightpush_node4_2024-08-30_08-53-26__9d6e1cfe-f9fb-42f6-9169-698c5d2c0988__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 3781
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3781/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3781/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.213.136/tcp/3782/p2p/16Uiu2HAmGoLHmyN75SpdaQnMVtuh8BvLvM5hQJcyMcfTrVyeWtyD","/ip4/172.18.213.136/tcp/3783/ws/p2p/16Uiu2HAmGoLHmyN75SpdaQnMVtuh8BvLvM5hQJcyMcfTrVyeWtyD"],"enrUri":"enr:-LO4QETkPn4f7ik3R8s6qmJGuryKQyjhGt8vuFrSinn1XjcxSY6xPhxA2FtPKtk3dDk4PEIYAyZ03CzPUdwy9IZIGOABgmlkgnY0gmlwhKwS1YiKbXVsdGlhZGRyc4wACgSsEtWIBg7H3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM9kfCTiUSGUN-F9Gh-V1ONNVcBE-NUZmJVRYbtwCezQIN0Y3CCDsaDdWRwgg7IhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3781/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.19.118/tcp/16523/p2p/16Uiu2HAkzkYesPBofXQiqdykbRd6f1pWJfJgcAm4B2MiwN7aaisD"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3781/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.116.149/tcp/44930/p2p/16Uiu2HAmQiX9oPr8jj8yZXHPQnzg2GevJ9R8DX8NHCoU8FUKvTtk"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16522/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44929/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53947/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1725008017175224320}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16522/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725008017175224320,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44929/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725008017175224320,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7114/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1725008017289392128}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16522/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725008017289392128,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44929/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725008017289392128,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62156/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1725008017403619072}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16522/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725008017403619072,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44929/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725008017403619072,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3781/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1725008017519166976}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16522/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725008017519166976,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44929/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725008017519166976,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 15331a591ac6
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 6d6d7491787e
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 0333f80efe12
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id bb68511cc117
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id f38877ad6e9f
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 209b8c5128c5
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.