{"uid":"fe29fefc13a91c5d","name":"test_2_nodes_different_cluster_same_shard","fullName":"tests.sharding.test_running_nodes_static_sharding.TestRunningNodesStaticSharding#test_2_nodes_different_cluster_same_shard","historyId":"9e5f16b7f45b6244b7d0c9ca8350f865","time":{"start":1716347527028,"stop":1716347527031,"duration":3},"status":"broken","statusMessage":"docker.errors.DockerException: Error while fetching server API version: Not supported URL scheme http+docker","statusTrace":"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/requests/adapters.py:532: in send\n    conn = self._get_connection(request, verify, proxies=proxies, cert=cert)\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/requests/adapters.py:400: in _get_connection\n    conn = self.poolmanager.connection_from_host(\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/urllib3/poolmanager.py:304: in connection_from_host\n    return self.connection_from_context(request_context)\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/urllib3/poolmanager.py:326: in connection_from_context\n    raise URLSchemeUnknown(scheme)\nE   urllib3.exceptions.URLSchemeUnknown: Not supported URL scheme http+docker\n\nDuring handling of the above exception, another exception occurred:\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/docker/api/client.py:213: in _retrieve_server_version\n    return self.version(api_version=False)[\"ApiVersion\"]\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/docker/api/daemon.py:181: in version\n    return self._result(self._get(url), json=True)\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/docker/utils/decorators.py:44: in inner\n    return f(self, *args, **kwargs)\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/docker/api/client.py:236: in _get\n    return self.get(url, **self._set_request_timeout(kwargs))\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/requests/sessions.py:602: in get\n    return self.request(\"GET\", url, **kwargs)\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/requests/sessions.py:589: in request\n    resp = self.send(prep, **send_kwargs)\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/requests/sessions.py:703: in send\n    r = adapter.send(request, **kwargs)\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/requests/adapters.py:534: in send\n    raise InvalidURL(e, request=request)\nE   requests.exceptions.InvalidURL: Not supported URL scheme http+docker\n\nThe above exception was the direct cause of the following exception:\ntests/sharding/test_running_nodes_static_sharding.py:41: in test_2_nodes_different_cluster_same_shard\n    self.setup_first_relay_node(pubsub_topic=self.test_pubsub_topic)\nsrc/steps/sharding.py:38: in setup_first_relay_node\n    self.node1 = WakuNode(NODE_1, f\"node1_{self.test_id}\")\nsrc/node/waku_node.py:46: in __init__\n    self._docker_manager = DockerManager(self._image_name)\nsrc/node/docker_mananger.py:16: in __init__\n    self._client = docker.from_env()\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/docker/client.py:94: in from_env\n    return cls(\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/docker/client.py:45: in __init__\n    self.api = APIClient(*args, **kwargs)\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/docker/api/client.py:197: in __init__\n    self._version = self._retrieve_server_version()\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/docker/api/client.py:220: in _retrieve_server_version\n    raise DockerException(\nE   docker.errors.DockerException: Error while fetching server API version: Not supported URL scheme http+docker","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":2,"retriesStatusChange":false,"beforeStages":[{"name":"set_allure_env_variables","time":{"start":1716347503773,"stop":1716347503773,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_setup","time":{"start":1716347527027,"stop":1716347527028,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_id","time":{"start":1716347527027,"stop":1716347527027,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes","time":{"start":1716347527027,"stop":1716347527027,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail","time":{"start":1716347527027,"stop":1716347527027,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"sharding_setup","time":{"start":1716347527028,"stop":1716347527028,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"common_setup","time":{"start":1716347527028,"stop":1716347527028,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"broken","statusMessage":"docker.errors.DockerException: Error while fetching server API version: Not supported URL scheme http+docker","statusTrace":"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/requests/adapters.py:532: in send\n    conn = self._get_connection(request, verify, proxies=proxies, cert=cert)\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/requests/adapters.py:400: in _get_connection\n    conn = self.poolmanager.connection_from_host(\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/urllib3/poolmanager.py:304: in connection_from_host\n    return self.connection_from_context(request_context)\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/urllib3/poolmanager.py:326: in connection_from_context\n    raise URLSchemeUnknown(scheme)\nE   urllib3.exceptions.URLSchemeUnknown: Not supported URL scheme http+docker\n\nDuring handling of the above exception, another exception occurred:\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/docker/api/client.py:213: in _retrieve_server_version\n    return self.version(api_version=False)[\"ApiVersion\"]\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/docker/api/daemon.py:181: in version\n    return self._result(self._get(url), json=True)\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/docker/utils/decorators.py:44: in inner\n    return f(self, *args, **kwargs)\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/docker/api/client.py:236: in _get\n    return self.get(url, **self._set_request_timeout(kwargs))\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/requests/sessions.py:602: in get\n    return self.request(\"GET\", url, **kwargs)\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/requests/sessions.py:589: in request\n    resp = self.send(prep, **send_kwargs)\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/requests/sessions.py:703: in send\n    r = adapter.send(request, **kwargs)\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/requests/adapters.py:534: in send\n    raise InvalidURL(e, request=request)\nE   requests.exceptions.InvalidURL: Not supported URL scheme http+docker\n\nThe above exception was the direct cause of the following exception:\ntests/sharding/test_running_nodes_static_sharding.py:41: in test_2_nodes_different_cluster_same_shard\n    self.setup_first_relay_node(pubsub_topic=self.test_pubsub_topic)\nsrc/steps/sharding.py:38: in setup_first_relay_node\n    self.node1 = WakuNode(NODE_1, f\"node1_{self.test_id}\")\nsrc/node/waku_node.py:46: in __init__\n    self._docker_manager = DockerManager(self._image_name)\nsrc/node/docker_mananger.py:16: in __init__\n    self._client = docker.from_env()\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/docker/client.py:94: in from_env\n    return cls(\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/docker/client.py:45: in __init__\n    self.api = APIClient(*args, **kwargs)\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/docker/api/client.py:197: in __init__\n    self._version = self._retrieve_server_version()\n/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/docker/api/client.py:220: in _retrieve_server_version\n    raise DockerException(\nE   docker.errors.DockerException: Error while fetching server API version: Not supported URL scheme http+docker","steps":[{"name":"setup_first_relay_node","time":{"start":1716347527029,"stop":1716347527029,"duration":0},"status":"broken","statusMessage":"docker.errors.DockerException: Error while fetching server API version: Not supported URL scheme http+docker\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/sharding.py\", line 38, in setup_first_relay_node\n    self.node1 = WakuNode(NODE_1, f\"node1_{self.test_id}\")\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/waku_node.py\", line 46, in __init__\n    self._docker_manager = DockerManager(self._image_name)\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/docker_mananger.py\", line 16, in __init__\n    self._client = docker.from_env()\n                   ^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/docker/client.py\", line 94, in from_env\n    return cls(\n           ^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/docker/client.py\", line 45, in __init__\n    self.api = APIClient(*args, **kwargs)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/docker/api/client.py\", line 197, in __init__\n    self._version = self._retrieve_server_version()\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/docker/api/client.py\", line 220, in _retrieve_server_version\n    raise DockerException(\n","steps":[],"attachments":[],"parameters":[{"name":"cluster_id","value":"None"},{"name":"pubsub_topic","value":"'/waku/2/rs/2/0'"},{"name":"content_topic","value":"None"}],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"96c514fb4776efe3","name":"log","source":"96c514fb4776efe3.txt","type":"text/plain","size":2408}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"test_setup::0","time":{"start":1716347527161,"stop":1716347527161,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes::0","time":{"start":1716347527162,"stop":1716347527162,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail::0","time":{"start":1716347527163,"stop":1716347527163,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"set_allure_env_variables::0","time":{"start":1716347528718,"stop":1716347528718,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"tests.sharding"},{"name":"suite","value":"test_running_nodes_static_sharding"},{"name":"subSuite","value":"TestRunningNodesStaticSharding"},{"name":"host","value":"fv-az2028-822"},{"name":"thread","value":"2156-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.sharding.test_running_nodes_static_sharding"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"b82c92c6732b5687","status":"broken","statusDetails":"docker.errors.DockerException: Error while fetching server API version: Not supported URL scheme http+docker","time":{"start":1716347526863,"stop":1716347526865,"duration":2}},{"uid":"7141dfae627ac014","status":"broken","statusDetails":"docker.errors.DockerException: Error while fetching server API version: Not supported URL scheme http+docker","time":{"start":1716347526703,"stop":1716347526705,"duration":2}}],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":1,"skipped":0,"passed":67,"unknown":0,"total":68},"items":[{"uid":"a26d05c5e7e6c1ee","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/135//#testresult/a26d05c5e7e6c1ee","status":"passed","time":{"start":1716261599117,"stop":1716261602986,"duration":3869}},{"uid":"6dfd4509d7a385a9","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/134//#testresult/6dfd4509d7a385a9","status":"passed","time":{"start":1716197120733,"stop":1716197124683,"duration":3950}},{"uid":"82e4ba13b17af44","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/133//#testresult/82e4ba13b17af44","status":"passed","time":{"start":1716175210771,"stop":1716175223975,"duration":13204}},{"uid":"2f4cb9cdeeef79af","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/132//#testresult/2f4cb9cdeeef79af","status":"passed","time":{"start":1716088870953,"stop":1716088873991,"duration":3038}},{"uid":"b5724228200c536b","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/131//#testresult/b5724228200c536b","status":"passed","time":{"start":1716002372506,"stop":1716002375925,"duration":3419}},{"uid":"c6a2289d9acd99a","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/130//#testresult/c6a2289d9acd99a","status":"passed","time":{"start":1715916016234,"stop":1715916029304,"duration":13070}},{"uid":"c8169b4cff76c11d","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/129//#testresult/c8169b4cff76c11d","status":"passed","time":{"start":1715845320354,"stop":1715845324284,"duration":3930}},{"uid":"7cb90d09a042356d","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/128//#testresult/7cb90d09a042356d","status":"passed","time":{"start":1715829620043,"stop":1715829623624,"duration":3581}},{"uid":"50dc7fd7586639dc","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/127//#testresult/50dc7fd7586639dc","status":"passed","time":{"start":1715743238465,"stop":1715743241475,"duration":3010}},{"uid":"b5c445bb56725985","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/126//#testresult/b5c445bb56725985","status":"passed","time":{"start":1715656845315,"stop":1715656848796,"duration":3481}},{"uid":"9f511d47f46cbf2e","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/125//#testresult/9f511d47f46cbf2e","status":"passed","time":{"start":1715599919080,"stop":1715599922328,"duration":3248}},{"uid":"3fb0e66ce001226","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/124//#testresult/3fb0e66ce001226","status":"passed","time":{"start":1715598619627,"stop":1715598623531,"duration":3904}},{"uid":"85245431d3aaf9a1","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/123//#testresult/85245431d3aaf9a1","status":"passed","time":{"start":1715570396695,"stop":1715570399780,"duration":3085}},{"uid":"e4ebac4c78e1096a","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/122//#testresult/e4ebac4c78e1096a","status":"passed","time":{"start":1715483976463,"stop":1715483989134,"duration":12671}},{"uid":"ba58088e31f50d62","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/121//#testresult/ba58088e31f50d62","status":"passed","time":{"start":1715397613527,"stop":1715397617921,"duration":4394}},{"uid":"d52088c1a68db0ae","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/120//#testresult/d52088c1a68db0ae","status":"passed","time":{"start":1715311164083,"stop":1715311167459,"duration":3376}},{"uid":"c99a0790e1d6a32c","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/118//#testresult/c99a0790e1d6a32c","status":"passed","time":{"start":1715138475468,"stop":1715138478534,"duration":3066}},{"uid":"26f3688c3e2f54a3","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/117//#testresult/26f3688c3e2f54a3","status":"passed","time":{"start":1715052053019,"stop":1715052056119,"duration":3100}},{"uid":"c3f7b98ec2782660","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/116//#testresult/c3f7b98ec2782660","status":"passed","time":{"start":1714965623347,"stop":1714965626619,"duration":3272}},{"uid":"f950062313c474cf","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/115//#testresult/f950062313c474cf","status":"passed","time":{"start":1714879170149,"stop":1714879173235,"duration":3086}}]},"tags":[]},"source":"fe29fefc13a91c5d.json","parameterValues":[]}