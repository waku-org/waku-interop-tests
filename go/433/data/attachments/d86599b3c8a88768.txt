[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2025-01-16_03-04-10__d4d5c845-4f73-4539-a2c9-db3031587484
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-01-16_03-04-10__d4d5c845-4f73-4539-a2c9-db3031587484__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.84.50
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['26662', '26663', '26664', '26665', '26666']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 26662:26662 -p 26663:26663 -p 26664:26664 -p 26665:26665 -p 26666:26666 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=26664 --rest-port=26662 --tcp-port=26663 --discv5-udp-port=26665 --rest-address=0.0.0.0 --nat=extip:172.18.84.50 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=af55e8fe8afaeed3c5bf368b2eddc07834b9ecac09b00cbb572aeb2aad910dd9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=26666 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.84.50 waku eaa94b3d838471d73e2726d2b803651559ee7f19f7e7ff362327a4827b158998
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID eaa94b3d8384. Setting up logs at ./log/docker/node1_2025-01-16_03-04-10__d4d5c845-4f73-4539-a2c9-db3031587484__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 26662
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container adab7c58d5f7. Exiting log stream.
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 022c9de6119d. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26662/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26662/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.84.50/tcp/26663/p2p/16Uiu2HAmC3Q2LqJQUa3Aja6mScDKEQMNixepPJrTBs4DXv2963us","/ip4/172.18.84.50/tcp/26664/ws/p2p/16Uiu2HAmC3Q2LqJQUa3Aja6mScDKEQMNixepPJrTBs4DXv2963us"],"enrUri":"enr:-L24QOuyQjcj8RN1sCRWHCxBwZOjW_f4GKZ0dFTcv4S09C5uStwlKZmhwFI80kuTtdRRfrA7lvPIw14E1GI98moRrq0CgmlkgnY0gmlwhKwSVDKKbXVsdGlhZGRyc5YACASsElQyBmgnAAoErBJUMgZoKN0DgnJzhQADAQAAiXNlY3AyNTZrMaEC9uHbv070YNcvhJUVICo6vzBiMJPNsT87lENPJdtVn2qDdGNwgmgng3VkcIJoKYV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-01-16_03-04-10__d4d5c845-4f73-4539-a2c9-db3031587484__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.232.219
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['53987', '53988', '53989', '53990', '53991']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 53987:53987 -p 53988:53988 -p 53989:53989 -p 53990:53990 -p 53991:53991 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=53989 --rest-port=53987 --tcp-port=53988 --discv5-udp-port=53990 --rest-address=0.0.0.0 --nat=extip:172.18.232.219 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3b0db3c97eac7a5def5919c4c8ab0c8453fa2647ffa80ab9a0fda2f8e683c6dc --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QOuyQjcj8RN1sCRWHCxBwZOjW_f4GKZ0dFTcv4S09C5uStwlKZmhwFI80kuTtdRRfrA7lvPIw14E1GI98moRrq0CgmlkgnY0gmlwhKwSVDKKbXVsdGlhZGRyc5YACASsElQyBmgnAAoErBJUMgZoKN0DgnJzhQADAQAAiXNlY3AyNTZrMaEC9uHbv070YNcvhJUVICo6vzBiMJPNsT87lENPJdtVn2qDdGNwgmgng3VkcIJoKYV3YWt1MgU --filternode=/ip4/172.18.84.50/tcp/26663/p2p/16Uiu2HAmC3Q2LqJQUa3Aja6mScDKEQMNixepPJrTBs4DXv2963us --pubsub-topic=/waku/2/rs/3/1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.232.219 waku cbed74e2c2851f3ed1d1d84c3063b9a69e15ecf018da959b42f6278efa662774
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID cbed74e2c285. Setting up logs at ./log/docker/node2_2025-01-16_03-04-10__d4d5c845-4f73-4539-a2c9-db3031587484__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 53987
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53987/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QJCBewcbxOoTKKTeHZHDSZNTj5j2xRCLWT2gxhgR9bsLHXKNVfpc_Hso7q19vB3eTiauYdTikSLEAfAUY0tEw8KGAZRtEYK4gmlkgnY0gmlwhKwRAAOCcnOFAAMBAAGJc2VjcDI1NmsxoQOxlquzIXzgBvIypx6kA_6PeQdJKM4Gh3p3MuEcjupSv4N0Y3CC0uSDdWRwgtLmhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/53988/p2p/16Uiu2HAmQcDmSf9WwggndKPF2YKeVUsP4BB2Bi9F5NHGwhPNb2nA","/ip4/127.0.0.1/tcp/53989/ws/p2p/16Uiu2HAmQcDmSf9WwggndKPF2YKeVUsP4BB2Bi9F5NHGwhPNb2nA","/ip4/172.17.0.3/tcp/53988/p2p/16Uiu2HAmQcDmSf9WwggndKPF2YKeVUsP4BB2Bi9F5NHGwhPNb2nA","/ip4/172.17.0.3/tcp/53989/ws/p2p/16Uiu2HAmQcDmSf9WwggndKPF2YKeVUsP4BB2Bi9F5NHGwhPNb2nA"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53987/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.84.50/tcp/26663/p2p/16Uiu2HAmC3Q2LqJQUa3Aja6mScDKEQMNixepPJrTBs4DXv2963us", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2025-01-16_03-04-10__d4d5c845-4f73-4539-a2c9-db3031587484__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.72.130
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['60750', '60751', '60752', '60753', '60754']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 60750:60750 -p 60751:60751 -p 60752:60752 -p 60753:60753 -p 60754:60754 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=60752 --rest-port=60750 --tcp-port=60751 --discv5-udp-port=60753 --rest-address=0.0.0.0 --nat=extip:172.18.72.130 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b2a7408e03ae86728ec17c84acc90ead8fa5efa4a80ac0f99374ea6b3a7fb1bb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=60754 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QOuyQjcj8RN1sCRWHCxBwZOjW_f4GKZ0dFTcv4S09C5uStwlKZmhwFI80kuTtdRRfrA7lvPIw14E1GI98moRrq0CgmlkgnY0gmlwhKwSVDKKbXVsdGlhZGRyc5YACASsElQyBmgnAAoErBJUMgZoKN0DgnJzhQADAQAAiXNlY3AyNTZrMaEC9uHbv070YNcvhJUVICo6vzBiMJPNsT87lENPJdtVn2qDdGNwgmgng3VkcIJoKYV3YWt1MgU --filternode=/ip4/172.18.84.50/tcp/26663/p2p/16Uiu2HAmC3Q2LqJQUa3Aja6mScDKEQMNixepPJrTBs4DXv2963us
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.72.130 waku 3da419632196e3ec209e78a874b3709a0ee20ff367b4510d53de6386fd0029d0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 3da419632196. Setting up logs at ./log/docker/node3_2025-01-16_03-04-10__d4d5c845-4f73-4539-a2c9-db3031587484__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 60750
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60750/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60750/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.72.130/tcp/60751/p2p/16Uiu2HAm7zB6MyvLXsLV3y1487whT3xSLQEhRLBRiZJ6krui5t3w","/ip4/172.18.72.130/tcp/60752/ws/p2p/16Uiu2HAm7zB6MyvLXsLV3y1487whT3xSLQEhRLBRiZJ6krui5t3w"],"enrUri":"enr:-L24QLZ1W4e1mmnqfu-ee_JTPeTUIdOXPitYndnYABFEH8alcW0jY5ENJ0NVao_KjpIrkY_pM924o7j_R9kjF2oJXBQCgmlkgnY0gmlwhKwSSIKKbXVsdGlhZGRyc5YACASsEkiCBu1PAAoErBJIggbtUN0DgnJzhQADAQAAiXNlY3AyNTZrMaECup-_WnUMZJlgbDtoh3-4uJtbRLs9EPXpVZh8mUCwwEaDdGNwgu1Pg3VkcILtUYV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60750/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.84.50/tcp/26663/p2p/16Uiu2HAmC3Q2LqJQUa3Aja6mScDKEQMNixepPJrTBs4DXv2963us"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2025-01-16_03-04-10__d4d5c845-4f73-4539-a2c9-db3031587484__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.53.55
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['57033', '57034', '57035', '57036', '57037']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 57033:57033 -p 57034:57034 -p 57035:57035 -p 57036:57036 -p 57037:57037 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=57035 --rest-port=57033 --tcp-port=57034 --discv5-udp-port=57036 --rest-address=0.0.0.0 --nat=extip:172.18.53.55 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7dc9f31fefadded7a199eade7bd7cecea74de3558ce55a7665ae0d54ea757ad5 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QOuyQjcj8RN1sCRWHCxBwZOjW_f4GKZ0dFTcv4S09C5uStwlKZmhwFI80kuTtdRRfrA7lvPIw14E1GI98moRrq0CgmlkgnY0gmlwhKwSVDKKbXVsdGlhZGRyc5YACASsElQyBmgnAAoErBJUMgZoKN0DgnJzhQADAQAAiXNlY3AyNTZrMaEC9uHbv070YNcvhJUVICo6vzBiMJPNsT87lENPJdtVn2qDdGNwgmgng3VkcIJoKYV3YWt1MgU --filternode=/ip4/172.18.84.50/tcp/26663/p2p/16Uiu2HAmC3Q2LqJQUa3Aja6mScDKEQMNixepPJrTBs4DXv2963us --pubsub-topic=/waku/2/rs/3/1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.53.55 waku 00c89765d246f031ea10e35ebb4556d2fa830c7af01def1f222a31475366740b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 00c89765d246. Setting up logs at ./log/docker/node4_2025-01-16_03-04-10__d4d5c845-4f73-4539-a2c9-db3031587484__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 57033
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57033/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QLnlbek4boWUUefya9ZhA64ESjzo8zq4llHZd-U4N8yHTTo1PQFG7_BoS2ii1XX9GeYmtMWVDnnRFE3n7UYOfVSGAZRtEYz6gmlkgnY0gmlwhKwRAAWCcnOFAAMBAAGJc2VjcDI1NmsxoQNP-juJPcoU7qErQFvXtmyRqk6D_jXyfrxXG9WX_LjKuoN0Y3CC3sqDdWRwgt7MhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/57034/p2p/16Uiu2HAmJ3BsATnmSB3yJh2hFBzT1Pnfc5otor24ZsWgTHkasVcV","/ip4/127.0.0.1/tcp/57035/ws/p2p/16Uiu2HAmJ3BsATnmSB3yJh2hFBzT1Pnfc5otor24ZsWgTHkasVcV","/ip4/172.17.0.5/tcp/57034/p2p/16Uiu2HAmJ3BsATnmSB3yJh2hFBzT1Pnfc5otor24ZsWgTHkasVcV","/ip4/172.17.0.5/tcp/57035/ws/p2p/16Uiu2HAmJ3BsATnmSB3yJh2hFBzT1Pnfc5otor24ZsWgTHkasVcV"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57033/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.84.50/tcp/26663/p2p/16Uiu2HAmC3Q2LqJQUa3Aja6mScDKEQMNixepPJrTBs4DXv2963us", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2025-01-16_03-04-10__d4d5c845-4f73-4539-a2c9-db3031587484__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.164.123
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['9315', '9316', '9317', '9318', '9319']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 9315:9315 -p 9316:9316 -p 9317:9317 -p 9318:9318 -p 9319:9319 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=9317 --rest-port=9315 --tcp-port=9316 --discv5-udp-port=9318 --rest-address=0.0.0.0 --nat=extip:172.18.164.123 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=669cc6b8f5daf5f7ef1dc13ecef56dd35aabff647f2efc9485db1b0ebbafdace --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=9319 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QOuyQjcj8RN1sCRWHCxBwZOjW_f4GKZ0dFTcv4S09C5uStwlKZmhwFI80kuTtdRRfrA7lvPIw14E1GI98moRrq0CgmlkgnY0gmlwhKwSVDKKbXVsdGlhZGRyc5YACASsElQyBmgnAAoErBJUMgZoKN0DgnJzhQADAQAAiXNlY3AyNTZrMaEC9uHbv070YNcvhJUVICo6vzBiMJPNsT87lENPJdtVn2qDdGNwgmgng3VkcIJoKYV3YWt1MgU --filternode=/ip4/172.18.84.50/tcp/26663/p2p/16Uiu2HAmC3Q2LqJQUa3Aja6mScDKEQMNixepPJrTBs4DXv2963us
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.164.123 waku a0f52ce286b09e44ef7489fd0b32f6d81befeadf559aad6ed48dea830d83cf31
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID a0f52ce286b0. Setting up logs at ./log/docker/node5_2025-01-16_03-04-10__d4d5c845-4f73-4539-a2c9-db3031587484__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 9315
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9315/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9315/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.164.123/tcp/9316/p2p/16Uiu2HAmFMeAbfXqJ3TJ9EfvbkxB61ZhzwaQ4vpa2dzpAxuBhkpw","/ip4/172.18.164.123/tcp/9317/ws/p2p/16Uiu2HAmFMeAbfXqJ3TJ9EfvbkxB61ZhzwaQ4vpa2dzpAxuBhkpw"],"enrUri":"enr:-L24QFjH4ynUOxQvfuJ5cV7wZ4hgTqOH_XnqdKl4ZNB5eXpga2f_-SA_OAVBvBDDAxntxJ5tYBapEwNosGsiYThwVqQCgmlkgnY0gmlwhKwSpHuKbXVsdGlhZGRyc5YACASsEqR7BiRkAAoErBKkewYkZd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDKCFdUYN7nImn2nAosO38j746H75IBgNhYanCleLJVIiDdGNwgiRkg3VkcIIkZoV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9315/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.84.50/tcp/26663/p2p/16Uiu2HAmC3Q2LqJQUa3Aja6mScDKEQMNixepPJrTBs4DXv2963us"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26662/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53987/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "79e2f8a3-40f8-4e0d-88c1-f8a1dca1c2a4", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"79e2f8a3-40f8-4e0d-88c1-f8a1dca1c2a4","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60750/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "92e70a1f-5535-46f3-9fcd-a2c2cd00278c", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"92e70a1f-5535-46f3-9fcd-a2c2cd00278c","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57033/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "00b71b79-2a49-4b45-ab94-b1e22ee55195", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"00b71b79-2a49-4b45-ab94-b1e22ee55195","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9315/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "24e6c69b-8cb1-42a5-ae70-9d24834d2265", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"24e6c69b-8cb1-42a5-ae70-9d24834d2265","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26662/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53987/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1736996656700402944,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26662/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60750/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:60750/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id eaa94b3d8384
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id cbed74e2c285
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 3da419632196
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container eaa94b3d8384. Exiting log stream.
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container cbed74e2c285. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 00c89765d246
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id a0f52ce286b0
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 3da419632196. Exiting log stream.
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 00c89765d246. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.