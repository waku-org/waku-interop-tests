2025-02-09 03:07:25.855 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-09 03:07:25.855 DEBUG [tests.conftest] Running test: test_subscribe_one_by_one_to_different_pubsub_topics_and_send_messages with id: 2025-02-09_03-07-25__498bd756-03d2-454d-baad-1dcc49b7e4b9
2025-02-09 03:07:25.856 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-09 03:07:25.856 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-09 03:07:25.856 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-09 03:07:25.863 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-09 03:07:25.864 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-09_03-07-25__498bd756-03d2-454d-baad-1dcc49b7e4b9__wakuorg_nwaku:latest.log
2025-02-09 03:07:25.864 DEBUG [src.node.waku_node] Starting Node...
2025-02-09 03:07:25.864 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-09 03:07:25.865 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-09 03:07:25.865 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.62.214
2025-02-09 03:07:25.865 DEBUG [src.node.docker_mananger] Generated ports ['17058', '17059', '17060', '17061', '17062']
2025-02-09 03:07:25.866 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-09 03:07:25.866 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-09 03:07:25.866 DEBUG [src.node.waku_node] Using volumes []
2025-02-09 03:07:25.866 DEBUG [src.node.docker_mananger] docker run -i -t -p 17058:17058 -p 17059:17059 -p 17060:17060 -p 17061:17061 -p 17062:17062 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=17060 --rest-port=17058 --tcp-port=17059 --discv5-udp-port=17061 --rest-address=0.0.0.0 --nat=extip:172.18.62.214 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=6fdcb9a66fa0edf088c5c36fd4ab47cab99db9ecd40cf01a72805826afd3bfb4 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=17062 --metrics-logging=true --relay=true --filter=true --pubsub-topic=/waku/2/rs/2/0
2025-02-09 03:07:26.092 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.62.214 waku d45003ffc3fea699feaeff13fe3bb52b87a9517bb9f1832c4bf64be37386e4b8
2025-02-09 03:07:26.141 DEBUG [src.node.docker_mananger] Container started with ID d45003ffc3fe. Setting up logs at ./log/docker/node1_2025-02-09_03-07-25__498bd756-03d2-454d-baad-1dcc49b7e4b9__wakuorg_nwaku:latest.log
2025-02-09 03:07:26.143 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 17058
2025-02-09 03:07:26.143 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-09 03:07:26.145 ERROR [src.node.docker_mananger] Max retries reached for container cf110d3873ef. Exiting log stream.
2025-02-09 03:07:26.648 ERROR [src.node.docker_mananger] Max retries reached for container f58f6b6154e5. Exiting log stream.
2025-02-09 03:07:27.144 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17058/health" -H "Content-Type: application/json" -d 'None'
2025-02-09 03:07:27.147 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-09 03:07:27.147 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-09 03:07:27.147 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17058/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-09 03:07:27.149 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.62.214/tcp/17059/p2p/16Uiu2HAmBbUC1WS9Kdg8iBaeWustSnxcurRyws4jx7fzBAruC6UW","/ip4/172.18.62.214/tcp/17060/ws/p2p/16Uiu2HAmBbUC1WS9Kdg8iBaeWustSnxcurRyws4jx7fzBAruC6UW"],"enrUri":"enr:-L24QPFq5_4F_qb1JVJOurZHnOXHWawP76B2m60XtY_oSC1mH86pJA7LIX3StnGIUaFHoirTMtRDp4uKlE32WvgF-FQCgmlkgnY0gmlwhKwSPtaKbXVsdGlhZGRyc5YACASsEj7WBkKjAAoErBI-1gZCpN0DgnJzhQACAQAAiXNlY3AyNTZrMaEC8D1393U7ICQ_6QfsjcYaSdjp9becGd7DOepO7I932MeDdGNwgkKjg3VkcIJCpYV3YWt1MgU"}'
2025-02-09 03:07:27.150 INFO [src.node.waku_node] REST service is ready !!
2025-02-09 03:07:27.156 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-09 03:07:27.156 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-09_03-07-25__498bd756-03d2-454d-baad-1dcc49b7e4b9__wakuorg_go-waku:latest.log
2025-02-09 03:07:27.156 DEBUG [src.node.waku_node] Starting Node...
2025-02-09 03:07:27.156 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-09 03:07:27.158 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-09 03:07:27.158 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.224.152
2025-02-09 03:07:27.158 DEBUG [src.node.docker_mananger] Generated ports ['52533', '52534', '52535', '52536', '52537']
2025-02-09 03:07:27.158 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-09 03:07:27.158 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-09 03:07:27.158 DEBUG [src.node.waku_node] Using volumes []
2025-02-09 03:07:27.159 DEBUG [src.node.docker_mananger] docker run -i -t -p 52533:52533 -p 52534:52534 -p 52535:52535 -p 52536:52536 -p 52537:52537 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=52535 --rest-port=52533 --tcp-port=52534 --discv5-udp-port=52536 --rest-address=0.0.0.0 --nat=extip:172.18.224.152 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=2686a9ca0c0b677ac0361394ebd319ab98caaa144aaebbbbbedfeda726fb0f7c --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-L24QPFq5_4F_qb1JVJOurZHnOXHWawP76B2m60XtY_oSC1mH86pJA7LIX3StnGIUaFHoirTMtRDp4uKlE32WvgF-FQCgmlkgnY0gmlwhKwSPtaKbXVsdGlhZGRyc5YACASsEj7WBkKjAAoErBI-1gZCpN0DgnJzhQACAQAAiXNlY3AyNTZrMaEC8D1393U7ICQ_6QfsjcYaSdjp9becGd7DOepO7I932MeDdGNwgkKjg3VkcIJCpYV3YWt1MgU --pubsub-topic=/waku/2/rs/2/0
2025-02-09 03:07:27.389 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.224.152 waku 693c45c45951f3c23cbe5cdc8630812e453825fe168c929fd73b631ec33f23da
2025-02-09 03:07:27.447 DEBUG [src.node.docker_mananger] Container started with ID 693c45c45951. Setting up logs at ./log/docker/node2_2025-02-09_03-07-25__498bd756-03d2-454d-baad-1dcc49b7e4b9__wakuorg_go-waku:latest.log
2025-02-09 03:07:27.447 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 52533
2025-02-09 03:07:27.448 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-09 03:07:28.448 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52533/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-09 03:07:28.452 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QJG17synA_2dXyqyb32hRNlO-fX0hkyMThJChaYnU1AgQ24f8_Dhe8PIsdl4_MjQar2n8wP7DQ1_Z81P0FI5x-uGAZTorR9NgmlkgnY0gmlwhKwRAAOCcnOFAAIBAACJc2VjcDI1NmsxoQMv1BlVrSAxUkr56SA9MLUasnsLYTemJIJ3ZNU1YINs5oN0Y3CCzTaDdWRwgs04hXdha3UyAQ","listenAddresses":["/ip4/127.0.0.1/tcp/52534/p2p/16Uiu2HAmFsh6PsLmWemvpiWPfceyzU6VnTxxUgWJno5xeLNLbMKb","/ip4/127.0.0.1/tcp/52535/ws/p2p/16Uiu2HAmFsh6PsLmWemvpiWPfceyzU6VnTxxUgWJno5xeLNLbMKb","/ip4/172.17.0.3/tcp/52534/p2p/16Uiu2HAmFsh6PsLmWemvpiWPfceyzU6VnTxxUgWJno5xeLNLbMKb","/ip4/172.17.0.3/tcp/52535/ws/p2p/16Uiu2HAmFsh6PsLmWemvpiWPfceyzU6VnTxxUgWJno5xeLNLbMKb"]}'
2025-02-09 03:07:28.452 INFO [src.node.waku_node] REST service is ready !!
2025-02-09 03:07:28.452 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52533/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.62.214/tcp/17059/p2p/16Uiu2HAmBbUC1WS9Kdg8iBaeWustSnxcurRyws4jx7fzBAruC6UW", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-09 03:07:28.454 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-09 03:07:28.455 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17058/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0"]'
2025-02-09 03:07:28.457 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 03:07:28.458 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52533/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0"]'
2025-02-09 03:07:28.459 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-09 03:07:28.460 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17058/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 03:07:28.465 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 03:07:28.465 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 03:07:28.565 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 03:07:28.566 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17058/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 03:07:28.569 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739070448460391936,"ephemeral":false}]'
2025-02-09 03:07:28.571 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-09 03:07:28.571 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52533/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-09 03:07:28.573 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739070448460391936,"ephemeral":false}]'
2025-02-09 03:07:28.574 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17058/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/1"]'
2025-02-09 03:07:28.578 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 03:07:28.578 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52533/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/1"]'
2025-02-09 03:07:28.581 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-09 03:07:28.583 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17058/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 03:07:28.588 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 03:07:28.588 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 03:07:28.688 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 03:07:28.689 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17058/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 03:07:28.691 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739070448582996736,"ephemeral":false}]'
2025-02-09 03:07:28.693 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-09 03:07:28.693 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52533/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 03:07:28.695 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739070448582996736,"ephemeral":false}]'
2025-02-09 03:07:28.696 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17058/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/2"]'
2025-02-09 03:07:28.700 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 03:07:28.700 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52533/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/2"]'
2025-02-09 03:07:28.702 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-09 03:07:28.704 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17058/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 03:07:28.709 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 03:07:28.709 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 03:07:28.809 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 03:07:28.810 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17058/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d 'None'
2025-02-09 03:07:28.813 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739070448704291584,"ephemeral":false}]'
2025-02-09 03:07:28.814 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-09 03:07:28.814 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52533/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d 'None'
2025-02-09 03:07:28.816 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739070448704291584,"ephemeral":false}]'
2025-02-09 03:07:28.818 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17058/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/3"]'
2025-02-09 03:07:28.821 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 03:07:28.822 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52533/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/3"]'
2025-02-09 03:07:28.823 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-09 03:07:28.825 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17058/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 03:07:28.831 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 03:07:28.832 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 03:07:28.932 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 03:07:28.932 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17058/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-09 03:07:28.935 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739070448825478912,"ephemeral":false}]'
2025-02-09 03:07:28.937 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-09 03:07:28.937 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52533/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-09 03:07:28.939 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739070448825478912,"ephemeral":false}]'
2025-02-09 03:07:28.940 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17058/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/4"]'
2025-02-09 03:07:28.944 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 03:07:28.944 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52533/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/4"]'
2025-02-09 03:07:28.947 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-09 03:07:28.949 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17058/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 03:07:28.955 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 03:07:28.955 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 03:07:29.055 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 03:07:29.056 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17058/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-09 03:07:29.059 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739070448949733376,"ephemeral":false}]'
2025-02-09 03:07:29.060 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-09 03:07:29.060 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52533/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-09 03:07:29.062 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739070448949733376,"ephemeral":false}]'
2025-02-09 03:07:29.064 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17058/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/5"]'
2025-02-09 03:07:29.067 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 03:07:29.068 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52533/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/5"]'
2025-02-09 03:07:29.070 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-09 03:07:29.072 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17058/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 03:07:29.078 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 03:07:29.078 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 03:07:29.178 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 03:07:29.179 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17058/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-09 03:07:29.182 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739070449071806208,"ephemeral":false}]'
2025-02-09 03:07:29.183 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-09 03:07:29.184 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52533/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-09 03:07:29.185 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739070449071806208,"ephemeral":false}]'
2025-02-09 03:07:29.187 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17058/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/6"]'
2025-02-09 03:07:29.190 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 03:07:29.191 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52533/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/6"]'
2025-02-09 03:07:29.193 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-09 03:07:29.195 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17058/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 03:07:29.201 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 03:07:29.201 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 03:07:29.301 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 03:07:29.302 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17058/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-09 03:07:29.304 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739070449195199744,"ephemeral":false}]'
2025-02-09 03:07:29.306 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-09 03:07:29.306 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52533/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-09 03:07:29.308 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739070449195199744,"ephemeral":false}]'
2025-02-09 03:07:29.310 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17058/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/7"]'
2025-02-09 03:07:29.313 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 03:07:29.313 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:52533/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/7"]'
2025-02-09 03:07:29.316 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-09 03:07:29.317 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17058/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 03:07:29.322 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 03:07:29.322 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 03:07:29.423 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 03:07:29.423 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17058/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-09 03:07:29.426 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739070449316873472,"ephemeral":false}]'
2025-02-09 03:07:29.428 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-09 03:07:29.428 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:52533/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-09 03:07:29.430 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739070449316873472,"ephemeral":false}]'
2025-02-09 03:07:29.433 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-09 03:07:29.434 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-09 03:07:29.434 DEBUG [src.node.waku_node] Stopping container with id d45003ffc3fe
2025-02-09 03:07:29.989 DEBUG [src.node.waku_node] Container stopped.
2025-02-09 03:07:29.991 DEBUG [src.node.waku_node] Stopping container with id 693c45c45951
2025-02-09 03:07:30.838 ERROR [src.node.docker_mananger] Max retries reached for container d45003ffc3fe. Exiting log stream.
2025-02-09 03:07:40.479 DEBUG [src.node.waku_node] Container stopped.
2025-02-09 03:07:40.481 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-09 03:07:40.498 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-09 03:07:40.504 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
