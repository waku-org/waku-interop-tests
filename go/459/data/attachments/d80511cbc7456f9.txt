2025-02-09 03:09:32.173 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-09 03:09:32.174 DEBUG [tests.conftest] Running test: test_publish_with_valid_timestamps with id: 2025-02-09_03-09-32__4fa12582-bc3b-4cbd-9250-f26ea5e24ec2
2025-02-09 03:09:32.174 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-09 03:09:32.174 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-09 03:09:32.174 DEBUG [src.steps.relay] Running fixture setup: setup_main_relay_nodes
2025-02-09 03:09:32.181 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-09 03:09:32.181 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-09_03-09-32__4fa12582-bc3b-4cbd-9250-f26ea5e24ec2__wakuorg_nwaku:latest.log
2025-02-09 03:09:32.181 DEBUG [src.node.waku_node] Starting Node...
2025-02-09 03:09:32.182 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-09 03:09:32.183 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-09 03:09:32.183 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.53.184
2025-02-09 03:09:32.183 DEBUG [src.node.docker_mananger] Generated ports ['48837', '48838', '48839', '48840', '48841']
2025-02-09 03:09:32.184 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-09 03:09:32.184 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-09 03:09:32.184 DEBUG [src.node.waku_node] Using volumes []
2025-02-09 03:09:32.184 DEBUG [src.node.docker_mananger] docker run -i -t -p 48837:48837 -p 48838:48838 -p 48839:48839 -p 48840:48840 -p 48841:48841 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=48839 --rest-port=48837 --tcp-port=48838 --discv5-udp-port=48840 --rest-address=0.0.0.0 --nat=extip:172.18.53.184 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=aacf19ff48efc1db2597d5ad0e6a5ce3fdcdeb0a4299f7ba1555fe5bcd7cb8fd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=48841 --metrics-logging=true --relay=true
2025-02-09 03:09:32.393 ERROR [src.node.docker_mananger] Max retries reached for container 0484ba2729db. Exiting log stream.
2025-02-09 03:09:32.420 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.53.184 waku cf1b44ac5d5d2d9e3c553aeffacc409e31e0a3943401310820bb877645b2753b
2025-02-09 03:09:32.473 DEBUG [src.node.docker_mananger] Container started with ID cf1b44ac5d5d. Setting up logs at ./log/docker/node1_2025-02-09_03-09-32__4fa12582-bc3b-4cbd-9250-f26ea5e24ec2__wakuorg_nwaku:latest.log
2025-02-09 03:09:32.474 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 48837
2025-02-09 03:09:32.474 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-09 03:09:32.913 ERROR [src.node.docker_mananger] Max retries reached for container 30bacd24cbd3. Exiting log stream.
2025-02-09 03:09:33.475 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48837/health" -H "Content-Type: application/json" -d 'None'
2025-02-09 03:09:33.477 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-09 03:09:33.478 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-09 03:09:33.478 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48837/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-09 03:09:33.480 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.53.184/tcp/48838/p2p/16Uiu2HAmRYWEx54XCCJx6nSYEfWRxYqtnzWXHceZ8hBiVJgxZKWh","/ip4/172.18.53.184/tcp/48839/ws/p2p/16Uiu2HAmRYWEx54XCCJx6nSYEfWRxYqtnzWXHceZ8hBiVJgxZKWh"],"enrUri":"enr:-L24QAOcX0MHkm99DL78Xu_izcJL4CfrRlgcqhyZHrxTjCHRdNhNaYEzV_6hWTtelsBhTrikOa3ZNRFUm8fN2uv_VVQCgmlkgnY0gmlwhKwSNbiKbXVsdGlhZGRyc5YACASsEjW4Br7GAAoErBI1uAa-x90DgnJzhQADAQAAiXNlY3AyNTZrMaEDv36pciMxWr3RGq1P3RKLHzP7kFhumi8JXdsD-iLi51KDdGNwgr7Gg3VkcIK-yIV3YWt1MgE"}'
2025-02-09 03:09:33.480 INFO [src.node.waku_node] REST service is ready !!
2025-02-09 03:09:33.487 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-09 03:09:33.487 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-09_03-09-32__4fa12582-bc3b-4cbd-9250-f26ea5e24ec2__wakuorg_go-waku:latest.log
2025-02-09 03:09:33.487 DEBUG [src.node.waku_node] Starting Node...
2025-02-09 03:09:33.487 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-09 03:09:33.488 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-09 03:09:33.489 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.59.150
2025-02-09 03:09:33.489 DEBUG [src.node.docker_mananger] Generated ports ['33760', '33761', '33762', '33763', '33764']
2025-02-09 03:09:33.489 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-09 03:09:33.489 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-09 03:09:33.489 DEBUG [src.node.waku_node] Using volumes []
2025-02-09 03:09:33.489 DEBUG [src.node.docker_mananger] docker run -i -t -p 33760:33760 -p 33761:33761 -p 33762:33762 -p 33763:33763 -p 33764:33764 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=33762 --rest-port=33760 --tcp-port=33761 --discv5-udp-port=33763 --rest-address=0.0.0.0 --nat=extip:172.18.59.150 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=abab08bbb1af9295dfc9faebec7b8b6d9c1bb4fb51cd123fef5ad0b5dbd9df2e --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-L24QAOcX0MHkm99DL78Xu_izcJL4CfrRlgcqhyZHrxTjCHRdNhNaYEzV_6hWTtelsBhTrikOa3ZNRFUm8fN2uv_VVQCgmlkgnY0gmlwhKwSNbiKbXVsdGlhZGRyc5YACASsEjW4Br7GAAoErBI1uAa-x90DgnJzhQADAQAAiXNlY3AyNTZrMaEDv36pciMxWr3RGq1P3RKLHzP7kFhumi8JXdsD-iLi51KDdGNwgr7Gg3VkcIK-yIV3YWt1MgE
2025-02-09 03:09:33.728 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.59.150 waku b2823700d47f2c6ee6c528b29ddfdb709cf4c5e36a4e5cf45677e5e8fd563950
2025-02-09 03:09:33.792 DEBUG [src.node.docker_mananger] Container started with ID b2823700d47f. Setting up logs at ./log/docker/node2_2025-02-09_03-09-32__4fa12582-bc3b-4cbd-9250-f26ea5e24ec2__wakuorg_go-waku:latest.log
2025-02-09 03:09:33.794 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 33760
2025-02-09 03:09:33.794 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-09 03:09:34.795 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33760/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-09 03:09:34.797 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QFAFy_Qqh52lAymrSqgtjTKJWq9T09wAZu7E9mfLrcJVTVHZ42RNllcyIlfkcm6oJnaVGk9_AEYz5XOEGVJ4_pmGAZTorwzMgmlkgnY0gmlwhKwRAAOCcnODAAMAiXNlY3AyNTZrMaEDunn2FyX4B9BRfnc6a5pTPpV9KvpO-9pXiBesxH05nqKDdGNwgoPhg3VkcIKD44V3YWt1MgE","listenAddresses":["/ip4/127.0.0.1/tcp/33761/p2p/16Uiu2HAmRCv3bdsTNbDs3zZbjSeUUWVyKLHDDdDTRvpc81kYMQc9","/ip4/127.0.0.1/tcp/33762/ws/p2p/16Uiu2HAmRCv3bdsTNbDs3zZbjSeUUWVyKLHDDdDTRvpc81kYMQc9","/ip4/172.17.0.3/tcp/33761/p2p/16Uiu2HAmRCv3bdsTNbDs3zZbjSeUUWVyKLHDDdDTRvpc81kYMQc9","/ip4/172.17.0.3/tcp/33762/ws/p2p/16Uiu2HAmRCv3bdsTNbDs3zZbjSeUUWVyKLHDDdDTRvpc81kYMQc9"]}'
2025-02-09 03:09:34.797 INFO [src.node.waku_node] REST service is ready !!
2025-02-09 03:09:34.798 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:33760/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.53.184/tcp/48838/p2p/16Uiu2HAmRYWEx54XCCJx6nSYEfWRxYqtnzWXHceZ8hBiVJgxZKWh", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-09 03:09:34.816 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-09 03:09:34.817 DEBUG [src.steps.relay] Running fixture setup: subscribe_main_relay_nodes
2025-02-09 03:09:34.817 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:48837/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-09 03:09:34.838 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 03:09:34.838 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:33760/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-09 03:09:34.840 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-09 03:09:34.842 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:48837/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 03:09:34.851 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 03:09:34.851 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 03:09:34.951 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 03:09:34.951 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48837/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 03:09:34.954 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739070574841942272,"ephemeral":false}]'
2025-02-09 03:09:34.956 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-09 03:09:34.956 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33760/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 03:09:34.958 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-09 03:09:35.959 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:48837/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 03:09:35.964 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 03:09:35.964 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 03:09:36.064 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 03:09:36.065 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48837/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 03:09:36.067 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739070575959137024,"ephemeral":false}]'
2025-02-09 03:09:36.069 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-09 03:09:36.069 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33760/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 03:09:36.070 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739070575959137024,"ephemeral":false}]'
2025-02-09 03:09:36.072 INFO [src.steps.relay] WARM UP successful!!
2025-02-09 03:09:36.073 DEBUG [tests.relay.test_publish] Running test with timestamp Now
2025-02-09 03:09:36.073 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:48837/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 03:09:36.077 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 03:09:36.078 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 03:09:36.178 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 03:09:36.178 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48837/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 03:09:36.181 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739070378259393024,"ephemeral":false}]'
2025-02-09 03:09:36.182 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-09 03:09:36.183 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33760/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 03:09:36.184 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739070378259393024,"ephemeral":false}]'
2025-02-09 03:09:36.186 DEBUG [tests.relay.test_publish] Running test with timestamp Far future
2025-02-09 03:09:36.186 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:48837/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 03:09:36.190 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 03:09:36.191 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 03:09:36.291 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 03:09:36.291 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48837/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 03:09:36.294 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":2054430378259373824,"ephemeral":false}]'
2025-02-09 03:09:36.295 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-09 03:09:36.295 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33760/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 03:09:36.297 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":2054430378259373824,"ephemeral":false}]'
2025-02-09 03:09:36.299 DEBUG [tests.relay.test_publish] Running test with timestamp Recent past
2025-02-09 03:09:36.299 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:48837/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 03:09:36.303 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 03:09:36.303 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 03:09:36.404 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 03:09:36.404 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48837/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 03:09:36.407 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739066778259373824,"ephemeral":false}]'
2025-02-09 03:09:36.408 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-09 03:09:36.408 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33760/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 03:09:36.410 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739066778259373824,"ephemeral":false}]'
2025-02-09 03:09:36.411 DEBUG [tests.relay.test_publish] Running test with timestamp Near future
2025-02-09 03:09:36.412 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:48837/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 03:09:36.416 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 03:09:36.416 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 03:09:36.517 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 03:09:36.517 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48837/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 03:09:36.520 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739073978259373824,"ephemeral":false}]'
2025-02-09 03:09:36.521 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-09 03:09:36.521 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33760/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 03:09:36.523 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739073978259373824,"ephemeral":false}]'
2025-02-09 03:09:36.524 DEBUG [tests.relay.test_publish] Running test with timestamp Positive number
2025-02-09 03:09:36.525 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:48837/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 03:09:36.529 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 03:09:36.529 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 03:09:36.629 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 03:09:36.630 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48837/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 03:09:36.633 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1,"ephemeral":false}]'
2025-02-09 03:09:36.634 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-09 03:09:36.634 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33760/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 03:09:36.637 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1,"ephemeral":false}]'
2025-02-09 03:09:36.639 DEBUG [tests.relay.test_publish] Running test with timestamp Negative number
2025-02-09 03:09:36.639 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:48837/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 03:09:36.644 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 03:09:36.644 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 03:09:36.744 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 03:09:36.744 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48837/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 03:09:36.747 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":-1,"ephemeral":false}]'
2025-02-09 03:09:36.749 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-09 03:09:36.749 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33760/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 03:09:36.751 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":-1,"ephemeral":false}]'
2025-02-09 03:09:36.752 DEBUG [tests.relay.test_publish] Running test with timestamp DST change
2025-02-09 03:09:36.752 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:48837/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 03:09:36.757 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 03:09:36.757 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-09 03:09:36.857 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-09 03:09:36.857 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48837/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 03:09:36.860 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1583632800000000000,"ephemeral":false}]'
2025-02-09 03:09:36.861 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-09 03:09:36.862 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:33760/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-09 03:09:36.863 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1583632800000000000,"ephemeral":false}]'
2025-02-09 03:09:36.867 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-09 03:09:36.868 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-09 03:09:36.868 DEBUG [src.node.waku_node] Stopping container with id cf1b44ac5d5d
2025-02-09 03:09:37.956 DEBUG [src.node.waku_node] Container stopped.
2025-02-09 03:09:37.956 DEBUG [src.node.waku_node] Stopping container with id b2823700d47f
2025-02-09 03:09:38.480 DEBUG [src.node.waku_node] Container stopped.
2025-02-09 03:09:38.482 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-09 03:09:38.490 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-09 03:09:38.494 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
