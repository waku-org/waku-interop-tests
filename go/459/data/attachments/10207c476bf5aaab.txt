2025-02-09 03:08:49.564 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-09 03:08:49.564 DEBUG [tests.conftest] Running test: test_relay_subscribe_with_empty_pubsub_topic_list with id: 2025-02-09_03-08-49__c2a43eed-bdf5-45f1-93bc-1e186047c030
2025-02-09 03:08:49.564 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-09 03:08:49.565 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-09 03:08:49.565 DEBUG [src.steps.relay] Running fixture setup: setup_main_relay_nodes
2025-02-09 03:08:49.571 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-09 03:08:49.571 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-09_03-08-49__c2a43eed-bdf5-45f1-93bc-1e186047c030__wakuorg_nwaku:latest.log
2025-02-09 03:08:49.571 DEBUG [src.node.waku_node] Starting Node...
2025-02-09 03:08:49.572 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-09 03:08:49.573 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-09 03:08:49.573 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.103.157
2025-02-09 03:08:49.573 DEBUG [src.node.docker_mananger] Generated ports ['54954', '54955', '54956', '54957', '54958']
2025-02-09 03:08:49.573 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-09 03:08:49.573 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-09 03:08:49.573 DEBUG [src.node.waku_node] Using volumes []
2025-02-09 03:08:49.574 DEBUG [src.node.docker_mananger] docker run -i -t -p 54954:54954 -p 54955:54955 -p 54956:54956 -p 54957:54957 -p 54958:54958 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=54956 --rest-port=54954 --tcp-port=54955 --discv5-udp-port=54957 --rest-address=0.0.0.0 --nat=extip:172.18.103.157 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3e7f83bbb0fdad045a9343cb5e4ac5cbddec411a1cbdf79fee0c5da5fb640d5f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=54958 --metrics-logging=true --relay=true
2025-02-09 03:08:49.800 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.103.157 waku 94f327f7c7ba09d1f0f697e1ca34c8c9ce97fe2a7c34b5200855faf83da3e15f
2025-02-09 03:08:49.853 ERROR [src.node.docker_mananger] Max retries reached for container 4403a7dc1f91. Exiting log stream.
2025-02-09 03:08:49.854 DEBUG [src.node.docker_mananger] Container started with ID 94f327f7c7ba. Setting up logs at ./log/docker/node1_2025-02-09_03-08-49__c2a43eed-bdf5-45f1-93bc-1e186047c030__wakuorg_nwaku:latest.log
2025-02-09 03:08:49.855 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 54954
2025-02-09 03:08:49.856 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-09 03:08:50.369 ERROR [src.node.docker_mananger] Max retries reached for container 757267eaa481. Exiting log stream.
2025-02-09 03:08:50.856 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54954/health" -H "Content-Type: application/json" -d 'None'
2025-02-09 03:08:50.859 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-09 03:08:50.859 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-09 03:08:50.859 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54954/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-09 03:08:50.862 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.103.157/tcp/54955/p2p/16Uiu2HAmR2uvkKZzxeNzwhFbptceqwQCfsrb43JAZTqnJWDTVFL1","/ip4/172.18.103.157/tcp/54956/ws/p2p/16Uiu2HAmR2uvkKZzxeNzwhFbptceqwQCfsrb43JAZTqnJWDTVFL1"],"enrUri":"enr:-L24QGzHO-5Y4SPF1MjuZqVZ00YIAPcbHstKaJZLNAwedXlpQRVeDtrDLP8B7IdcKiTg1DcQ7w_Z__6TlZt8qor97L8CgmlkgnY0gmlwhKwSZ52KbXVsdGlhZGRyc5YACASsEmedBtarAAoErBJnnQbWrN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDt-oFCBf4IDSyXtDeGNH-YGLfmt6AmQ9Q9uKv2Eup3IaDdGNwgtarg3VkcILWrYV3YWt1MgE"}'
2025-02-09 03:08:50.862 INFO [src.node.waku_node] REST service is ready !!
2025-02-09 03:08:50.868 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-09 03:08:50.868 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-09_03-08-49__c2a43eed-bdf5-45f1-93bc-1e186047c030__wakuorg_go-waku:latest.log
2025-02-09 03:08:50.868 DEBUG [src.node.waku_node] Starting Node...
2025-02-09 03:08:50.868 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-09 03:08:50.870 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-09 03:08:50.870 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.194.124
2025-02-09 03:08:50.870 DEBUG [src.node.docker_mananger] Generated ports ['37367', '37368', '37369', '37370', '37371']
2025-02-09 03:08:50.870 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-09 03:08:50.870 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-09 03:08:50.870 DEBUG [src.node.waku_node] Using volumes []
2025-02-09 03:08:50.870 DEBUG [src.node.docker_mananger] docker run -i -t -p 37367:37367 -p 37368:37368 -p 37369:37369 -p 37370:37370 -p 37371:37371 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=37369 --rest-port=37367 --tcp-port=37368 --discv5-udp-port=37370 --rest-address=0.0.0.0 --nat=extip:172.18.194.124 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1bcfab8eafe3e3251ec115c964e3d78ebde81bc3bc89e3af7fbbd67cff8b93ca --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-L24QGzHO-5Y4SPF1MjuZqVZ00YIAPcbHstKaJZLNAwedXlpQRVeDtrDLP8B7IdcKiTg1DcQ7w_Z__6TlZt8qor97L8CgmlkgnY0gmlwhKwSZ52KbXVsdGlhZGRyc5YACASsEmedBtarAAoErBJnnQbWrN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDt-oFCBf4IDSyXtDeGNH-YGLfmt6AmQ9Q9uKv2Eup3IaDdGNwgtarg3VkcILWrYV3YWt1MgE
2025-02-09 03:08:51.102 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.194.124 waku b39023a0de9baa7de0eacbfc0dff218e2aecc6ba48ef588f42c3b732d4812f7d
2025-02-09 03:08:51.155 DEBUG [src.node.docker_mananger] Container started with ID b39023a0de9b. Setting up logs at ./log/docker/node2_2025-02-09_03-08-49__c2a43eed-bdf5-45f1-93bc-1e186047c030__wakuorg_go-waku:latest.log
2025-02-09 03:08:51.157 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 37367
2025-02-09 03:08:51.158 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-09 03:08:52.158 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:37367/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-09 03:08:52.161 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QBmB-g6crFxJmg6jjcBb6En94CY-VQq9rM5M-10O9ccxDQmrUIpI3hWPwYfaADL252fiDRuhEehI8lJqnn-lOGGGAZTormZKgmlkgnY0gmlwhKwRAAOCcnODAAMAiXNlY3AyNTZrMaEDlPiKJ4wO6RH9VfpxQUcGLj9kzyXw_RAfZS9hjjo3HJqDdGNwgpH4g3VkcIKR-oV3YWt1MgE","listenAddresses":["/ip4/127.0.0.1/tcp/37368/p2p/16Uiu2HAmNgWVw2sd7qELsdh4zruo3mmaTMAXYfZ4LLGxe24Tk1ah","/ip4/127.0.0.1/tcp/37369/ws/p2p/16Uiu2HAmNgWVw2sd7qELsdh4zruo3mmaTMAXYfZ4LLGxe24Tk1ah","/ip4/172.17.0.3/tcp/37368/p2p/16Uiu2HAmNgWVw2sd7qELsdh4zruo3mmaTMAXYfZ4LLGxe24Tk1ah","/ip4/172.17.0.3/tcp/37369/ws/p2p/16Uiu2HAmNgWVw2sd7qELsdh4zruo3mmaTMAXYfZ4LLGxe24Tk1ah"]}'
2025-02-09 03:08:52.161 INFO [src.node.waku_node] REST service is ready !!
2025-02-09 03:08:52.162 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:37367/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.103.157/tcp/54955/p2p/16Uiu2HAmR2uvkKZzxeNzwhFbptceqwQCfsrb43JAZTqnJWDTVFL1", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-09 03:08:52.179 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-09 03:08:52.182 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54954/relay/v1/subscriptions" -H "Content-Type: application/json" -d '[]'
2025-02-09 03:08:52.204 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 03:08:52.204 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:37367/relay/v1/subscriptions" -H "Content-Type: application/json" -d '[]'
2025-02-09 03:08:52.206 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-09 03:08:52.208 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-09 03:08:52.209 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-09 03:08:52.209 DEBUG [src.node.waku_node] Stopping container with id 94f327f7c7ba
2025-02-09 03:08:52.731 DEBUG [src.node.waku_node] Container stopped.
2025-02-09 03:08:52.732 DEBUG [src.node.waku_node] Stopping container with id b39023a0de9b
2025-02-09 03:08:53.544 ERROR [src.node.docker_mananger] Max retries reached for container 94f327f7c7ba. Exiting log stream.
2025-02-09 03:08:53.657 DEBUG [src.node.waku_node] Container stopped.
2025-02-09 03:08:53.658 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-09 03:08:53.662 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-09 03:08:53.665 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
