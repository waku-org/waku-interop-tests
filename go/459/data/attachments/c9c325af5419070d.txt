2025-02-09 03:09:37.717 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-09 03:09:37.717 DEBUG [tests.conftest] Running test: test_store_sort_ascending[false] with id: 2025-02-09_03-09-37__bb13c73e-97de-421d-8097-82bf1460f208
2025-02-09 03:09:37.717 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-09 03:09:37.718 DEBUG [src.steps.store] Running fixture setup: store_setup
2025-02-09 03:09:37.718 DEBUG [src.steps.store] Running fixture setup: node_setup
2025-02-09 03:09:37.724 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-09 03:09:37.724 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-09_03-09-37__bb13c73e-97de-421d-8097-82bf1460f208__wakuorg_nwaku:latest.log
2025-02-09 03:09:37.724 DEBUG [src.node.waku_node] Starting Node...
2025-02-09 03:09:37.724 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-09 03:09:37.726 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-09 03:09:37.726 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.124.201
2025-02-09 03:09:37.726 DEBUG [src.node.docker_mananger] Generated ports ['14136', '14137', '14138', '14139', '14140']
2025-02-09 03:09:37.726 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-09 03:09:37.726 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-09 03:09:37.727 DEBUG [src.node.waku_node] Using volumes []
2025-02-09 03:09:37.727 DEBUG [src.node.docker_mananger] docker run -i -t -p 14136:14136 -p 14137:14137 -p 14138:14138 -p 14139:14139 -p 14140:14140 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=14138 --rest-port=14136 --tcp-port=14137 --discv5-udp-port=14139 --rest-address=0.0.0.0 --nat=extip:172.18.124.201 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c2cc153ef53167c51575bee5bc8eb19c9eeae46289bdf6502c0ac94147102df8 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=14140 --metrics-logging=true --store=true --relay=true
2025-02-09 03:09:37.776 ERROR [src.node.docker_mananger] Max retries reached for container 01648c05a499. Exiting log stream.
2025-02-09 03:09:37.951 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.124.201 waku b555388b7b2c87ce03aaac3c1faf4dbccc9a6a4ba177d66c6fa31da16f940110
2025-02-09 03:09:38.003 DEBUG [src.node.docker_mananger] Container started with ID b555388b7b2c. Setting up logs at ./log/docker/publishing_node1_2025-02-09_03-09-37__bb13c73e-97de-421d-8097-82bf1460f208__wakuorg_nwaku:latest.log
2025-02-09 03:09:38.005 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 14136
2025-02-09 03:09:38.005 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-09 03:09:38.520 ERROR [src.node.docker_mananger] Max retries reached for container e83a790ee400. Exiting log stream.
2025-02-09 03:09:39.005 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:14136/health" -H "Content-Type: application/json" -d 'None'
2025-02-09 03:09:39.008 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-09 03:09:39.008 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-09 03:09:39.008 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:14136/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-09 03:09:39.011 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.124.201/tcp/14137/p2p/16Uiu2HAm9e51niuKLwXq3FBQG5f4zNU5NXA5mkv7C63uQAYDFhfp","/ip4/172.18.124.201/tcp/14138/ws/p2p/16Uiu2HAm9e51niuKLwXq3FBQG5f4zNU5NXA5mkv7C63uQAYDFhfp"],"enrUri":"enr:-L24QNr-XRjxJ5Iz9kCt-52d0FNXRoCEJ2Rm7iNsUXUpSKj5KssiMYoQmD30aYWG0oXGADEfDdNs0aKuOb5lJpy2aWQCgmlkgnY0gmlwhKwSfMmKbXVsdGlhZGRyc5YACASsEnzJBjc5AAoErBJ8yQY3Ot0DgnJzhQADAQAAiXNlY3AyNTZrMaEC0zChu1tKeb1o4Jzx6P7dDo5wa6TecYoJtrkp6KLB3XuDdGNwgjc5g3VkcII3O4V3YWt1MgM"}'
2025-02-09 03:09:39.011 INFO [src.node.waku_node] REST service is ready !!
2025-02-09 03:09:39.020 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-09 03:09:39.020 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-09_03-09-37__bb13c73e-97de-421d-8097-82bf1460f208__wakuorg_go-waku:latest.log
2025-02-09 03:09:39.020 DEBUG [src.node.waku_node] Starting Node...
2025-02-09 03:09:39.020 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-09 03:09:39.022 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-09 03:09:39.022 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.59.183
2025-02-09 03:09:39.022 DEBUG [src.node.docker_mananger] Generated ports ['43269', '43270', '43271', '43272', '43273']
2025-02-09 03:09:39.022 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-09 03:09:39.022 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-09 03:09:39.022 DEBUG [src.node.waku_node] Using volumes []
2025-02-09 03:09:39.022 DEBUG [src.node.docker_mananger] docker run -i -t -p 43269:43269 -p 43270:43270 -p 43271:43271 -p 43272:43272 -p 43273:43273 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=43271 --rest-port=43269 --tcp-port=43270 --discv5-udp-port=43272 --rest-address=0.0.0.0 --nat=extip:172.18.59.183 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2e9e55cbefcd41fb1db73e9ce05bbd2b5f7356731b26cfc6624ca13ace8dcfc5 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-L24QNr-XRjxJ5Iz9kCt-52d0FNXRoCEJ2Rm7iNsUXUpSKj5KssiMYoQmD30aYWG0oXGADEfDdNs0aKuOb5lJpy2aWQCgmlkgnY0gmlwhKwSfMmKbXVsdGlhZGRyc5YACASsEnzJBjc5AAoErBJ8yQY3Ot0DgnJzhQADAQAAiXNlY3AyNTZrMaEC0zChu1tKeb1o4Jzx6P7dDo5wa6TecYoJtrkp6KLB3XuDdGNwgjc5g3VkcII3O4V3YWt1MgM --storenode=/ip4/172.18.124.201/tcp/14137/p2p/16Uiu2HAm9e51niuKLwXq3FBQG5f4zNU5NXA5mkv7C63uQAYDFhfp --store=true --relay=true
2025-02-09 03:09:39.254 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.59.183 waku 19230960bb3f0da72b9553e09a8ba725aac58c2cdfc90172439e5349f7055813
2025-02-09 03:09:39.302 DEBUG [src.node.docker_mananger] Container started with ID 19230960bb3f. Setting up logs at ./log/docker/store_node1_2025-02-09_03-09-37__bb13c73e-97de-421d-8097-82bf1460f208__wakuorg_go-waku:latest.log
2025-02-09 03:09:39.303 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 43269
2025-02-09 03:09:39.304 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-09 03:09:40.305 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43269/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-09 03:09:40.307 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QJP0AB1V_7Snhhx8SgRLZEPt7avE2abNZjCitfG4Fv57WiJ5DKl32Qktznn5i_x1CGSjsnfNscD5IKwe3XPSw6OGAZToryJrgmlkgnY0gmlwhKwRAAOCcnODAAMAiXNlY3AyNTZrMaECIpENdScKcptC6FlQ2B61QK7KNbVeviTDPhxR7DtLkOmDdGNwgqkGg3VkcIKpCIV3YWt1MgM","listenAddresses":["/ip4/127.0.0.1/tcp/43270/p2p/16Uiu2HAkwkc8KKZzbh4DM787HLf4S5UgnQnx4mD8tHBRvssiYGYY","/ip4/127.0.0.1/tcp/43271/ws/p2p/16Uiu2HAkwkc8KKZzbh4DM787HLf4S5UgnQnx4mD8tHBRvssiYGYY","/ip4/172.17.0.3/tcp/43270/p2p/16Uiu2HAkwkc8KKZzbh4DM787HLf4S5UgnQnx4mD8tHBRvssiYGYY","/ip4/172.17.0.3/tcp/43271/ws/p2p/16Uiu2HAkwkc8KKZzbh4DM787HLf4S5UgnQnx4mD8tHBRvssiYGYY"]}'
2025-02-09 03:09:40.308 INFO [src.node.waku_node] REST service is ready !!
2025-02-09 03:09:40.308 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43269/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.124.201/tcp/14137/p2p/16Uiu2HAm9e51niuKLwXq3FBQG5f4zNU5NXA5mkv7C63uQAYDFhfp", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-09 03:09:40.324 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-09 03:09:40.325 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14136/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-09 03:09:40.346 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 03:09:40.347 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43269/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-09 03:09:40.352 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-09 03:09:40.359 DEBUG [src.steps.store] Relaying message
2025-02-09 03:09:40.359 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14136/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8w", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 03:09:40.372 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 03:09:40.373 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-09 03:09:40.574 DEBUG [src.steps.store] Relaying message
2025-02-09 03:09:40.574 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14136/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8x", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 03:09:40.579 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 03:09:40.579 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-09 03:09:40.780 DEBUG [src.steps.store] Relaying message
2025-02-09 03:09:40.780 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14136/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8y", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 03:09:40.785 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 03:09:40.785 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-09 03:09:40.986 DEBUG [src.steps.store] Relaying message
2025-02-09 03:09:40.987 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14136/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8z", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 03:09:40.992 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 03:09:40.992 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-09 03:09:41.192 DEBUG [src.steps.store] Relaying message
2025-02-09 03:09:41.193 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14136/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV80", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 03:09:41.197 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 03:09:41.198 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-09 03:09:41.398 DEBUG [src.steps.store] Relaying message
2025-02-09 03:09:41.399 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14136/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV81", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 03:09:41.404 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 03:09:41.404 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-09 03:09:41.605 DEBUG [src.steps.store] Relaying message
2025-02-09 03:09:41.605 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14136/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV82", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 03:09:41.610 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 03:09:41.610 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-09 03:09:41.811 DEBUG [src.steps.store] Relaying message
2025-02-09 03:09:41.811 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14136/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV83", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 03:09:41.816 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 03:09:41.816 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-09 03:09:42.017 DEBUG [src.steps.store] Relaying message
2025-02-09 03:09:42.017 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14136/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV84", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 03:09:42.022 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 03:09:42.022 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-09 03:09:42.223 DEBUG [src.steps.store] Relaying message
2025-02-09 03:09:42.223 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14136/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV85", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-09 03:09:42.228 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-09 03:09:42.228 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-09 03:09:42.429 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:14136/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5&ascending=false" -H "Content-Type: application/json" -d 'None'
2025-02-09 03:09:42.432 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x017a688277db6f6eea16480ae4d5ee49c2ea4d2cbd142a5745c7056c5020e801"},{"messageHash":"0x214756d00a0cb66cda0cfd7954d447dd3b329290450ffcb40d87477e173038a9"},{"messageHash":"0xa4fcbeb1d6e09a383bf7bcec958a8763b40acf77e627816bd6871f8c3771d826"},{"messageHash":"0x760d2d2ea8761d7b9380475711ff16d926d5099b27b3f444a5cb1500021f8884"},{"messageHash":"0x845c11547dc9c9429bb0f634219d742ae54fa3c4753b01ec979d1fc05b916108"}],"paginationCursor":"0x017a688277db6f6eea16480ae4d5ee49c2ea4d2cbd142a5745c7056c5020e801"}'
2025-02-09 03:09:42.432 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43269/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=5&ascending=false" -H "Content-Type: application/json" -d 'None'
2025-02-09 03:09:42.437 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"10baeb857435244fb3e269d593f1c9418c03ec79f686265832394bf30ce43022","status_code":200,"status_desc":"OK","messages":[{"message_hash":"AXpognfbb27qFkgK5NXuScLqTSy9FCpXRccFbFAg6AE="},{"message_hash":"IUdW0AoMtmzaDP15VNRH3TsykpBFD/y0DYdHfhcwOKk="},{"message_hash":"pPy+sdbgmjg797zslYqHY7QKz3fmJ4Fr1ocfjDdx2CY="},{"message_hash":"dg0tLqh2HXuTgEdXEf8W2SbVCZsns/REpcsVAAIfiIQ="},{"message_hash":"hFwRVH3JyUKbsPY0IZ10KuVPo8R1OwHsl50fwFuRYQg="}],"pagination_cursor":"AXpognfbb27qFkgK5NXuScLqTSy9FCpXRccFbFAg6AE="}'
2025-02-09 03:09:42.440 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-09 03:09:42.441 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-09 03:09:42.441 DEBUG [src.node.waku_node] Stopping container with id b555388b7b2c
2025-02-09 03:09:43.517 DEBUG [src.node.waku_node] Container stopped.
2025-02-09 03:09:43.518 DEBUG [src.node.waku_node] Stopping container with id 19230960bb3f
2025-02-09 03:09:44.019 DEBUG [src.node.waku_node] Container stopped.
2025-02-09 03:09:44.022 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-09 03:09:44.037 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-09 03:09:44.040 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
