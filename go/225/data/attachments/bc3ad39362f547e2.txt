[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_pubsub_topic with id: 2024-07-31_03-18-11__a9c61d40-0255-4865-947b-bffe017477be
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:29 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:35 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:81 WakuNode instance initialized with log path ./log/docker/node1_2024-07-31_03-18-11__a9c61d40-0255-4865-947b-bffe017477be__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.56.121
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['58215', '58216', '58217', '58218', '58219']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:428 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:157 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:159 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 58215:58215 -p 58216:58216 -p 58217:58217 -p 58218:58218 -p 58219:58219 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=58217 --rest-port=58215 --tcp-port=58216 --discv5-udp-port=58218 --rest-address=0.0.0.0 --nat=extip:172.18.56.121 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=58219 --metrics-logging=true --relay=true --nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.56.121 waku 59a594c35d54758445280add7e7a77373664dd244d7c8b55d295e7d5f3490717
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 59a594c35d54. Setting up logs at ./log/docker/node1_2024-07-31_03-18-11__a9c61d40-0255-4865-947b-bffe017477be__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Started container from image wakuorg/nwaku:latest. REST: 58215
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58215/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:274 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58215/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.56.121/tcp/58216/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","/ip4/172.18.56.121/tcp/58217/ws/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"],"enrUri":"enr:-LO4QIogo_t13BoUAPZaRT9FMvNymrWD0vSzuvZGDlk2vWt-Uu1Z9kVRQpMrFLf5tJufKSIp2Ws4tDY-NkWcUYWSMEUBgmlkgnY0gmlwhKwSOHmKbXVsdGlhZGRyc4wACgSsEjh5BuNp3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CC42iDdWRwguNqhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:81 WakuNode instance initialized with log path ./log/docker/node2_2024-07-31_03-18-11__a9c61d40-0255-4865-947b-bffe017477be__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.116.249
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['41399', '41400', '41401', '41402', '41403']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:428 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:157 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:159 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 41399:41399 -p 41400:41400 -p 41401:41401 -p 41402:41402 -p 41403:41403 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=41401 --rest-port=41399 --tcp-port=41400 --discv5-udp-port=41402 --rest-address=0.0.0.0 --nat=extip:172.18.116.249 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-LO4QIogo_t13BoUAPZaRT9FMvNymrWD0vSzuvZGDlk2vWt-Uu1Z9kVRQpMrFLf5tJufKSIp2Ws4tDY-NkWcUYWSMEUBgmlkgnY0gmlwhKwSOHmKbXVsdGlhZGRyc4wACgSsEjh5BuNp3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CC42iDdWRwguNqhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.116.249 waku b3aadebb865f7c118c102c67313cd6884493ca7145f40029396725486aa519c7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID b3aadebb865f. Setting up logs at ./log/docker/node2_2024-07-31_03-18-11__a9c61d40-0255-4865-947b-bffe017477be__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Started container from image wakuorg/go-waku:latest. REST: 41399
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41399/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QAQra2isVPj9ukyDA7NAPC9FfzGxATfFc9pPm5dVedclW21ckc_76wUEIlC027RGQkxsvJ7WCyAmBxM8_xQ3hhaGAZEGy6F4gmlkgnY0gmlwhKwRAAOJc2VjcDI1NmsxoQLhqw8HE-RMTAQwCSJrPQFIRAjr49LxamYoEMEVszov9IN0Y3CCobiDdWRwgqG6hXdha3UyAQ","listenAddresses":["/ip4/127.0.0.1/tcp/41400/p2p/16Uiu2HAmAcaznmXX2sQMEdSgkisHTVv6pa5JpsoKZBcMRPoU2qvT","/ip4/127.0.0.1/tcp/41401/ws/p2p/16Uiu2HAmAcaznmXX2sQMEdSgkisHTVv6pa5JpsoKZBcMRPoU2qvT","/ip4/172.17.0.3/tcp/41400/p2p/16Uiu2HAmAcaznmXX2sQMEdSgkisHTVv6pa5JpsoKZBcMRPoU2qvT","/ip4/172.17.0.3/tcp/41401/ws/p2p/16Uiu2HAmAcaznmXX2sQMEdSgkisHTVv6pa5JpsoKZBcMRPoU2qvT"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41399/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.56.121/tcp/58216/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.steps.relay:relay.py:47 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:81 WakuNode instance initialized with log path ./log/docker/node3_2024-07-31_03-18-11__a9c61d40-0255-4865-947b-bffe017477be__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.92.15
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['64702', '64703', '64704', '64705', '64706']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:428 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:157 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:159 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 64702:64702 -p 64703:64703 -p 64704:64704 -p 64705:64705 -p 64706:64706 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=64704 --rest-port=64702 --tcp-port=64703 --discv5-udp-port=64705 --rest-address=0.0.0.0 --nat=extip:172.18.92.15 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=64706 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QIogo_t13BoUAPZaRT9FMvNymrWD0vSzuvZGDlk2vWt-Uu1Z9kVRQpMrFLf5tJufKSIp2Ws4tDY-NkWcUYWSMEUBgmlkgnY0gmlwhKwSOHmKbXVsdGlhZGRyc4wACgSsEjh5BuNp3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CC42iDdWRwguNqhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.92.15 waku cc0c14751a4fb361edaeda758db4f6e933b5d0e060e02f53e45a80e1d3212da8
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID cc0c14751a4f. Setting up logs at ./log/docker/node3_2024-07-31_03-18-11__a9c61d40-0255-4865-947b-bffe017477be__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Started container from image wakuorg/nwaku:latest. REST: 64702
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64702/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:274 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64702/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.92.15/tcp/64703/p2p/16Uiu2HAmSmr8nNhjYGzqginGKGh442P5wHD5kiZ8K7HzPYDsTS7W","/ip4/172.18.92.15/tcp/64704/ws/p2p/16Uiu2HAmSmr8nNhjYGzqginGKGh442P5wHD5kiZ8K7HzPYDsTS7W"],"enrUri":"enr:-LO4QJE4879k7duCoPpgaEFVeYoBeXQeZHfkgU9RY-75u5W_UwUXfLcS2z1pv2Rv9DCbeTFcpK3mJgzQg63rRmW2ey0BgmlkgnY0gmlwhKwSXA-KbXVsdGlhZGRyc4wACgSsElwPBvzA3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPRxWSn1iUVYOuWyKZ3s54yPI1WV-pFC5z0rcc_-X2cbYN0Y3CC_L-DdWRwgvzBhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:64702/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.56.121/tcp/58216/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:81 WakuNode instance initialized with log path ./log/docker/node4_2024-07-31_03-18-11__a9c61d40-0255-4865-947b-bffe017477be__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.176.247
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['56232', '56233', '56234', '56235', '56236']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:428 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:157 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:159 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 56232:56232 -p 56233:56233 -p 56234:56234 -p 56235:56235 -p 56236:56236 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=56234 --rest-port=56232 --tcp-port=56233 --discv5-udp-port=56235 --rest-address=0.0.0.0 --nat=extip:172.18.176.247 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-LO4QIogo_t13BoUAPZaRT9FMvNymrWD0vSzuvZGDlk2vWt-Uu1Z9kVRQpMrFLf5tJufKSIp2Ws4tDY-NkWcUYWSMEUBgmlkgnY0gmlwhKwSOHmKbXVsdGlhZGRyc4wACgSsEjh5BuNp3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CC42iDdWRwguNqhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.176.247 waku c44a99916ed1c4182536d17ebe3752e913dbaab363456ecdb057ddb92926f2c0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID c44a99916ed1. Setting up logs at ./log/docker/node4_2024-07-31_03-18-11__a9c61d40-0255-4865-947b-bffe017477be__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Started container from image wakuorg/go-waku:latest. REST: 56232
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56232/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QFLudNlSkvN-MRBgDSYHm--NsHt_jE5D7jPThywR3k-2Vxwpyp6aYQCRROkDqK_z-ajj2nwmNDXHC2qzF7vHacGGAZEGy68dgmlkgnY0gmlwhKwRAAqJc2VjcDI1NmsxoQOndgL0w80uUN0CQZt0Vr7Q30EjCwmxJ4r8p2UjowIFloN0Y3CC26mDdWRwgturhXdha3UyAQ","listenAddresses":["/ip4/127.0.0.1/tcp/56233/p2p/16Uiu2HAmPvgoiC6bkppuxrfnf4ArucNSV1iKPBGDermeW8uN4YHK","/ip4/127.0.0.1/tcp/56234/ws/p2p/16Uiu2HAmPvgoiC6bkppuxrfnf4ArucNSV1iKPBGDermeW8uN4YHK","/ip4/172.17.0.10/tcp/56233/p2p/16Uiu2HAmPvgoiC6bkppuxrfnf4ArucNSV1iKPBGDermeW8uN4YHK","/ip4/172.17.0.10/tcp/56234/ws/p2p/16Uiu2HAmPvgoiC6bkppuxrfnf4ArucNSV1iKPBGDermeW8uN4YHK"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56232/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.56.121/tcp/58216/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:81 WakuNode instance initialized with log path ./log/docker/node5_2024-07-31_03-18-11__a9c61d40-0255-4865-947b-bffe017477be__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.179.68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['52907', '52908', '52909', '52910', '52911']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:428 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:157 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:159 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 52907:52907 -p 52908:52908 -p 52909:52909 -p 52910:52910 -p 52911:52911 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=52909 --rest-port=52907 --tcp-port=52908 --discv5-udp-port=52910 --rest-address=0.0.0.0 --nat=extip:172.18.179.68 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=52911 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QIogo_t13BoUAPZaRT9FMvNymrWD0vSzuvZGDlk2vWt-Uu1Z9kVRQpMrFLf5tJufKSIp2Ws4tDY-NkWcUYWSMEUBgmlkgnY0gmlwhKwSOHmKbXVsdGlhZGRyc4wACgSsEjh5BuNp3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CC42iDdWRwguNqhXdha3UyAQ
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.142.95
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['4740', '4741', '4742', '4743', '4744']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:428 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:157 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:159 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 4740:4740 -p 4741:4741 -p 4742:4742 -p 4743:4743 -p 4744:4744 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=4742 --rest-port=4740 --tcp-port=4741 --discv5-udp-port=4743 --rest-address=0.0.0.0 --nat=extip:172.18.142.95 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=4744 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QIogo_t13BoUAPZaRT9FMvNymrWD0vSzuvZGDlk2vWt-Uu1Z9kVRQpMrFLf5tJufKSIp2Ws4tDY-NkWcUYWSMEUBgmlkgnY0gmlwhKwSOHmKbXVsdGlhZGRyc4wACgSsEjh5BuNp3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CC42iDdWRwguNqhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.142.95 waku 5a69c5ea240d2f38cc281712e62aa1b5767e3caf72fab09413d5c3101babc339
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 5a69c5ea240d. Setting up logs at ./log/docker/node5_2024-07-31_03-18-11__a9c61d40-0255-4865-947b-bffe017477be__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Started container from image wakuorg/nwaku:latest. REST: 4740
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4740/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:274 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4740/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.142.95/tcp/4741/p2p/16Uiu2HAmQUfdp33ojR1o1khzVtKN55siW3yqexfo8m79Yi7qePnk","/ip4/172.18.142.95/tcp/4742/ws/p2p/16Uiu2HAmQUfdp33ojR1o1khzVtKN55siW3yqexfo8m79Yi7qePnk"],"enrUri":"enr:-LO4QCzJdvgLmleuTRin0BK1eZwAJlhoMVXDmdulpJvqFheBCp63GgvV5TP7y8eKAhynPpB_AirzQ3YKjnwhagUyeGsBgmlkgnY0gmlwhKwSjl-KbXVsdGlhZGRyc4wACgSsEo5fBhKG3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOvp0YUcln3dqPixP-yulyOwD0tEZNBrAxfRWJ42NDZvYN0Y3CCEoWDdWRwghKHhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4740/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.56.121/tcp/58216/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:60 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58215/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41399/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58215/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58215/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1722395900707339008,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:124 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41399/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58215/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58215/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1722395901830640640,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:124 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41399/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1722395901830640640,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58215/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64702/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:64702/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1. Response content: b''
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:218 Stopping container with id 59a594c35d54
[35mDEBUG   [0m src.node.waku_node:waku_node.py:225 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:218 Stopping container with id b3aadebb865f
[35mDEBUG   [0m src.node.waku_node:waku_node.py:225 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:218 Stopping container with id cc0c14751a4f
[35mDEBUG   [0m src.node.waku_node:waku_node.py:225 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:218 Stopping container with id c44a99916ed1
[35mDEBUG   [0m src.node.waku_node:waku_node.py:225 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:218 Stopping container with id 5a69c5ea240d
[35mDEBUG   [0m src.node.waku_node:waku_node.py:225 Container stopped.