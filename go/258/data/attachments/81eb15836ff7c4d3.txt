[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_relay_unsubscribe_with_invalid_pubsub_topic_format with id: 2024-08-28_03-23-21__d92dbb19-8886-421c-b823-954c7b75e325
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-08-28_03-23-21__d92dbb19-8886-421c-b823-954c7b75e325__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.18.159
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['59703', '59704', '59705', '59706', '59707']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 59703:59703 -p 59704:59704 -p 59705:59705 -p 59706:59706 -p 59707:59707 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=59705 --rest-port=59703 --tcp-port=59704 --discv5-udp-port=59706 --rest-address=0.0.0.0 --nat=extip:172.18.18.159 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b751d5e198ccec25b4a4acdf8d3004a8bc2ce3b9ca9e1149f207a37fd292cb95 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=59707 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.18.159 waku 19f12889fb8311f0a2b9a331ec40bb51b6ba2183dfcfbe3bd4db66e98e012541
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 19f12889fb83. Setting up logs at ./log/docker/node1_2024-08-28_03-23-21__d92dbb19-8886-421c-b823-954c7b75e325__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 59703
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59703/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59703/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.18.159/tcp/59704/p2p/16Uiu2HAmBbqeYdXkkK1WhdHHCj1AQDmxSYvACnL3EN7ur9xPyfcZ","/ip4/172.18.18.159/tcp/59705/ws/p2p/16Uiu2HAmBbqeYdXkkK1WhdHHCj1AQDmxSYvACnL3EN7ur9xPyfcZ"],"enrUri":"enr:-LO4QMaxPsUFoTSZJcWbyS06Iid-xPyD4UashiPcbA4mIdkMcnvzlS23iwi3l1elsbHQie7FH8II_GKdRpIW26awPrABgmlkgnY0gmlwhKwSEp-KbXVsdGlhZGRyc4wACgSsEhKfBuk53QOCcnOFAAMBAACJc2VjcDI1NmsxoQLwVbsQrqUTWTOWHmK9Q_z2Eczwhd7B9hoFSACRh2O5ZoN0Y3CC6TiDdWRwguk6hXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-08-28_03-23-21__d92dbb19-8886-421c-b823-954c7b75e325__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.145.127
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['32052', '32053', '32054', '32055', '32056']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:431 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 32052:32052 -p 32053:32053 -p 32054:32054 -p 32055:32055 -p 32056:32056 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=32054 --rest-port=32052 --tcp-port=32053 --discv5-udp-port=32055 --rest-address=0.0.0.0 --nat=extip:172.18.145.127 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b7eadbcaaddbd5f5e2c7d120f7fdad73bb6b57bbcf3cadcaf3dbccc016cefffd --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-LO4QMaxPsUFoTSZJcWbyS06Iid-xPyD4UashiPcbA4mIdkMcnvzlS23iwi3l1elsbHQie7FH8II_GKdRpIW26awPrABgmlkgnY0gmlwhKwSEp-KbXVsdGlhZGRyc4wACgSsEhKfBuk53QOCcnOFAAMBAACJc2VjcDI1NmsxoQLwVbsQrqUTWTOWHmK9Q_z2Eczwhd7B9hoFSACRh2O5ZoN0Y3CC6TiDdWRwguk6hXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.145.127 waku e0287741dc24ccb93a189fdcbc2d59faf9ec123972bb8018da2a09f4cf4d7f9c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID e0287741dc24. Setting up logs at ./log/docker/node2_2024-08-28_03-23-21__d92dbb19-8886-421c-b823-954c7b75e325__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 32052
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32052/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QIa-D04m7dPGSUT5OzLIwfiF1UKb6JSdmaU3gjCt8dO3Y47xTbTHnRW0rK3LnBG7l2DdFR1xp0qFCzJyRetNJkKGAZGXAm06gmlkgnY0gmlwhKwRAAaJc2VjcDI1NmsxoQIm4aEF9B55m6PW86jVFY0eMyiItTlzVRToGV0whTxbMYN0Y3CCfTWDdWRwgn03hXdha3UyAQ","listenAddresses":["/ip4/127.0.0.1/tcp/32053/p2p/16Uiu2HAkx3T27M9miBKDjrDbeDGatsDABWLmCScCvPJVGahV3G6c","/ip4/127.0.0.1/tcp/32054/ws/p2p/16Uiu2HAkx3T27M9miBKDjrDbeDGatsDABWLmCScCvPJVGahV3G6c","/ip4/172.17.0.6/tcp/32053/p2p/16Uiu2HAkx3T27M9miBKDjrDbeDGatsDABWLmCScCvPJVGahV3G6c","/ip4/172.17.0.6/tcp/32054/ws/p2p/16Uiu2HAkx3T27M9miBKDjrDbeDGatsDABWLmCScCvPJVGahV3G6c"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32052/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.18.159/tcp/59704/p2p/16Uiu2HAmBbqeYdXkkK1WhdHHCj1AQDmxSYvACnL3EN7ur9xPyfcZ", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m tests.relay.test_subscribe:test_subscribe.py:88 Running test with payload /test/2/rs/0/1
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:59703/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/test/2/rs/0/1"'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:59703/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.relay.test_subscribe:test_subscribe.py:88 Running test with payload /waku/3/rs/0/1
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:59703/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/3/rs/0/1"'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:59703/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.relay.test_subscribe:test_subscribe.py:88 Running test with payload /waku/2/test/0/1
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:59703/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/2/test/0/1"'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:59703/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.relay.test_subscribe:test_subscribe.py:88 Running test with payload /waku/2/rs/3/b
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:59703/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/2/rs/3/b"'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:59703/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.relay.test_subscribe:test_subscribe.py:88 Running test with payload /waku/2/rs/0
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:59703/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/2/rs/0"'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:59703/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 19f12889fb83
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id e0287741dc24
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.