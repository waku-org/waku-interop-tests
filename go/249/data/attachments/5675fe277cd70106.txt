[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_relay_subscribe_with_invalid_pubsub_topic_format with id: 2024-08-20_08-03-24__2ea2daca-2d16-4085-a155-3376af357f2b
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node1_2024-08-20_08-03-24__2ea2daca-2d16-4085-a155-3376af357f2b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.76.151
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['15686', '15687', '15688', '15689', '15690']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 15686:15686 -p 15687:15687 -p 15688:15688 -p 15689:15689 -p 15690:15690 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=15688 --rest-port=15686 --tcp-port=15687 --discv5-udp-port=15689 --rest-address=0.0.0.0 --nat=extip:172.18.76.151 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b3ed067ebe465cf4818db131cccd6c1df35ebfa405a8b94902aa0b1dcd8b38ab --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=15690 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.76.151 waku 31868f1a25e967521878837124ce19bc24d6c66b316e3723249e87be4db361ff
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 31868f1a25e9. Setting up logs at ./log/docker/node1_2024-08-20_08-03-24__2ea2daca-2d16-4085-a155-3376af357f2b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 15686
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15686/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15686/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.76.151/tcp/15687/p2p/16Uiu2HAkxh6sViJNUbCLxfTv4gM5otQaes6z9ur6hXdKh4gcFYqf","/ip4/172.18.76.151/tcp/15688/ws/p2p/16Uiu2HAkxh6sViJNUbCLxfTv4gM5otQaes6z9ur6hXdKh4gcFYqf"],"enrUri":"enr:-LO4QHEZ8urLVN66m9Y1kjaQeRopFvy2sXkoRGRpf9e5kD5uHARiIMord5pM_Ke9wuNbo2nQCXGHQk6pSwnYt7QIwP8BgmlkgnY0gmlwhKwSTJeKbXVsdGlhZGRyc4wACgSsEkyXBj1I3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIwhurwjQNY8KKFGjhkpqp6DuWuUi-iWXFjTOVVhZwd4oN0Y3CCPUeDdWRwgj1JhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node2_2024-08-20_08-03-24__2ea2daca-2d16-4085-a155-3376af357f2b__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.31.183
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['51426', '51427', '51428', '51429', '51430']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 51426:51426 -p 51427:51427 -p 51428:51428 -p 51429:51429 -p 51430:51430 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=51428 --rest-port=51426 --tcp-port=51427 --discv5-udp-port=51429 --rest-address=0.0.0.0 --nat=extip:172.18.31.183 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b9ebe5feb6216acfb11714bb8b625cb918189eae96cd88647586aca8bc2bfbfa --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-LO4QHEZ8urLVN66m9Y1kjaQeRopFvy2sXkoRGRpf9e5kD5uHARiIMord5pM_Ke9wuNbo2nQCXGHQk6pSwnYt7QIwP8BgmlkgnY0gmlwhKwSTJeKbXVsdGlhZGRyc4wACgSsEkyXBj1I3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIwhurwjQNY8KKFGjhkpqp6DuWuUi-iWXFjTOVVhZwd4oN0Y3CCPUeDdWRwgj1JhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.31.183 waku 152981c8ab0a85875ae7b1b687116d1801c6c59b99b3688daeca3c0a6a805dc7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 152981c8ab0a. Setting up logs at ./log/docker/node2_2024-08-20_08-03-24__2ea2daca-2d16-4085-a155-3376af357f2b__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/go-waku:latest. REST: 51426
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51426/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QGST95NVxK-x2pw3_x4QjoRq5UldgUl8cDn2iHYvD6dBegeCgB7H5kmuDPk1PLpTzBf8J3ky8TxV9lZ2qk9o366GAZFuz-11gmlkgnY0gmlwhKwRAAmJc2VjcDI1NmsxoQKjuPg_D2Lh5Bw4jdP0xA8JxaX6sLrNQH6UeO4RwR-OT4N0Y3CCyOODdWRwgsjlhXdha3UyAQ","listenAddresses":["/ip4/127.0.0.1/tcp/51427/p2p/16Uiu2HAm6Sn2HFGX5MnRMtNfXnyNfNVZZRssySh4Dk2Lzyyejj18","/ip4/127.0.0.1/tcp/51428/ws/p2p/16Uiu2HAm6Sn2HFGX5MnRMtNfXnyNfNVZZRssySh4Dk2Lzyyejj18","/ip4/172.17.0.9/tcp/51427/p2p/16Uiu2HAm6Sn2HFGX5MnRMtNfXnyNfNVZZRssySh4Dk2Lzyyejj18","/ip4/172.17.0.9/tcp/51428/ws/p2p/16Uiu2HAm6Sn2HFGX5MnRMtNfXnyNfNVZZRssySh4Dk2Lzyyejj18"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51426/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.76.151/tcp/15687/p2p/16Uiu2HAkxh6sViJNUbCLxfTv4gM5otQaes6z9ur6hXdKh4gcFYqf", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m tests.relay.test_subscribe:test_subscribe.py:37 Running test with payload /test/2/rs/0/1
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15686/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/test/2/rs/0/1"'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:15686/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.relay.test_subscribe:test_subscribe.py:37 Running test with payload /waku/3/rs/0/1
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15686/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/3/rs/0/1"'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:15686/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.relay.test_subscribe:test_subscribe.py:37 Running test with payload /waku/2/test/0/1
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15686/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/2/test/0/1"'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:15686/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.relay.test_subscribe:test_subscribe.py:37 Running test with payload /waku/2/rs/3/b
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15686/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/2/rs/3/b"'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:15686/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.relay.test_subscribe:test_subscribe.py:37 Running test with payload /waku/2/rs/0
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15686/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/2/rs/0"'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:15686/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 31868f1a25e9
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 152981c8ab0a
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.