[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_multiple_lightpush_nodes with id: 2024-10-14_03-25-48__2abf55fa-f759-46a5-9c06-0ef5d550b73f
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-10-14_03-25-48__2abf55fa-f759-46a5-9c06-0ef5d550b73f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.16.3
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['42820', '42821', '42822', '42823', '42824']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 42820:42820 -p 42821:42821 -p 42822:42822 -p 42823:42823 -p 42824:42824 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=42822 --rest-port=42820 --tcp-port=42821 --discv5-udp-port=42823 --rest-address=0.0.0.0 --nat=extip:172.18.16.3 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7623be43e365a9cdd7bb0e6e56a9c2f14ecca4ede1beefb07d2f15db121b3d0c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=42824 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.16.3 waku d1c85577a8fe578c88b00b8df5ae1b1e83666df34bd402d75565473b8be069e5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID d1c85577a8fe. Setting up logs at ./log/docker/receiving_node1_2024-10-14_03-25-48__2abf55fa-f759-46a5-9c06-0ef5d550b73f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 42820
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42820/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42820/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.16.3/tcp/42821/p2p/16Uiu2HAmRtvMrN7Z6V6Jwbi3jDE7kpcucfQrYPSCoVjfSz1YeLgu","/ip4/172.18.16.3/tcp/42822/ws/p2p/16Uiu2HAmRtvMrN7Z6V6Jwbi3jDE7kpcucfQrYPSCoVjfSz1YeLgu"],"enrUri":"enr:-LO4QPZfFdgBenuBsOdsXum9VFhIfKrfi2CJtOe7CZoajOlEW422u_MTjdTu2_RdN3cIHfo3P0kgDEWiCh54tilLwcoBgmlkgnY0gmlwhKwSEAOKbXVsdGlhZGRyc4wACgSsEhADBqdG3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPEuYys1ODjal3UhvG71jbbDH_dX3tWCALn9qOj3WqkLoN0Y3CCp0WDdWRwgqdHhXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-10-14_03-25-48__2abf55fa-f759-46a5-9c06-0ef5d550b73f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.153.241
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['42180', '42181', '42182', '42183', '42184']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 42180:42180 -p 42181:42181 -p 42182:42182 -p 42183:42183 -p 42184:42184 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=42182 --rest-port=42180 --tcp-port=42181 --discv5-udp-port=42183 --rest-address=0.0.0.0 --nat=extip:172.18.153.241 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0afb47d6bc8cd2fac0fe1fc16dbfd21ed2ac6bbc5beca5aade1ea9dd1ff9653a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=42184 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.153.241 waku a54593c05719f31b98e358de3bdc737142d135eaf5e61626129d712fa394a968
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID a54593c05719. Setting up logs at ./log/docker/receiving_node2_2024-10-14_03-25-48__2abf55fa-f759-46a5-9c06-0ef5d550b73f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 42180
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42180/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42180/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.153.241/tcp/42181/p2p/16Uiu2HAm1sypHqrsEu6W1YReoEpy75tULzY9rosdtqXv2nyoovcg","/ip4/172.18.153.241/tcp/42182/ws/p2p/16Uiu2HAm1sypHqrsEu6W1YReoEpy75tULzY9rosdtqXv2nyoovcg"],"enrUri":"enr:-LO4QOj3_y2_oyUvXnCWjfHILEfdWucQN7Se5O_ifIjml0s8G0vjoyWd3hv3MM_PotOXT3DVP4GLllswAK61nU8PCyYBgmlkgnY0gmlwhKwSmfGKbXVsdGlhZGRyc4wACgSsEpnxBqTG3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJf42PX2fn3-jzSDjMDFyvukh6V7B2I9dIM7ZXnBcTEWYN0Y3CCpMWDdWRwgqTHhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42180/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.16.3/tcp/42821/p2p/16Uiu2HAmRtvMrN7Z6V6Jwbi3jDE7kpcucfQrYPSCoVjfSz1YeLgu"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-10-14_03-25-48__2abf55fa-f759-46a5-9c06-0ef5d550b73f__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.130.33
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['20039', '20040', '20041', '20042', '20043']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 20039:20039 -p 20040:20040 -p 20041:20041 -p 20042:20042 -p 20043:20043 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=20041 --rest-port=20039 --tcp-port=20040 --discv5-udp-port=20042 --rest-address=0.0.0.0 --nat=extip:172.18.130.33 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6bdc23d4e2cd19bfa3cbce78653cbab247724bea6d5c56e3796bdc12a90dcbd5 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-LO4QPZfFdgBenuBsOdsXum9VFhIfKrfi2CJtOe7CZoajOlEW422u_MTjdTu2_RdN3cIHfo3P0kgDEWiCh54tilLwcoBgmlkgnY0gmlwhKwSEAOKbXVsdGlhZGRyc4wACgSsEhADBqdG3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPEuYys1ODjal3UhvG71jbbDH_dX3tWCALn9qOj3WqkLoN0Y3CCp0WDdWRwgqdHhXdha3UyCQ --lightpushnode=/ip4/172.18.16.3/tcp/42821/p2p/16Uiu2HAmRtvMrN7Z6V6Jwbi3jDE7kpcucfQrYPSCoVjfSz1YeLgu --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.130.33 waku 4a8a8f4b6f41d02d9fd47aefa39e52b0b06fc3254f3bf3b57af6a95b8bfda8b0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 4a8a8f4b6f41. Setting up logs at ./log/docker/lightpush_node1_2024-10-14_03-25-48__2abf55fa-f759-46a5-9c06-0ef5d550b73f__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 20039
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20039/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QPDCyMP6f6CKmSR_-0k-eutSaE0_lo9MSQ2croqIJEKVYSxBHMgmFWNF_CkAbwhGfBFrC4p31SfTMoHHN9vYzyKGAZKJD5hPgmlkgnY0gmlwhKwRAAyJc2VjcDI1NmsxoQO1KXsP15MqZb_lyBFsNGCXDIkFbKR2HiFObO5teCRhfoN0Y3CCTkiDdWRwgk5KhXdha3UyCA","listenAddresses":["/ip4/127.0.0.1/tcp/20040/p2p/16Uiu2HAmQrAq5GuYqMG3sGgoAM2R9AxxcHUpmcCN9Jym68jddkvH","/ip4/127.0.0.1/tcp/20041/ws/p2p/16Uiu2HAmQrAq5GuYqMG3sGgoAM2R9AxxcHUpmcCN9Jym68jddkvH","/ip4/172.17.0.12/tcp/20040/p2p/16Uiu2HAmQrAq5GuYqMG3sGgoAM2R9AxxcHUpmcCN9Jym68jddkvH","/ip4/172.17.0.12/tcp/20041/ws/p2p/16Uiu2HAmQrAq5GuYqMG3sGgoAM2R9AxxcHUpmcCN9Jym68jddkvH"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20039/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.16.3/tcp/42821/p2p/16Uiu2HAmRtvMrN7Z6V6Jwbi3jDE7kpcucfQrYPSCoVjfSz1YeLgu", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20039/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.153.241/tcp/42181/p2p/16Uiu2HAm1sypHqrsEu6W1YReoEpy75tULzY9rosdtqXv2nyoovcg", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node2_2024-10-14_03-25-48__2abf55fa-f759-46a5-9c06-0ef5d550b73f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.248.214
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['44177', '44178', '44179', '44180', '44181']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 44177:44177 -p 44178:44178 -p 44179:44179 -p 44180:44180 -p 44181:44181 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=44179 --rest-port=44177 --tcp-port=44178 --discv5-udp-port=44180 --rest-address=0.0.0.0 --nat=extip:172.18.248.214 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fddff4009a87ebffdfbdafd0087dde6e60527ecf3a25fad62ca04f8ecbadaadc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=44181 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QPZfFdgBenuBsOdsXum9VFhIfKrfi2CJtOe7CZoajOlEW422u_MTjdTu2_RdN3cIHfo3P0kgDEWiCh54tilLwcoBgmlkgnY0gmlwhKwSEAOKbXVsdGlhZGRyc4wACgSsEhADBqdG3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPEuYys1ODjal3UhvG71jbbDH_dX3tWCALn9qOj3WqkLoN0Y3CCp0WDdWRwgqdHhXdha3UyCQ --lightpushnode=/ip4/172.18.16.3/tcp/42821/p2p/16Uiu2HAmRtvMrN7Z6V6Jwbi3jDE7kpcucfQrYPSCoVjfSz1YeLgu --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.248.214 waku 834034e9add63f78ab206a35936c264c87781da8fa943c274438166809e85f20
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 834034e9add6. Setting up logs at ./log/docker/lightpush_node2_2024-10-14_03-25-48__2abf55fa-f759-46a5-9c06-0ef5d550b73f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 44177
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44177/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44177/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.248.214/tcp/44178/p2p/16Uiu2HAm7xMAnSwgwuNtZGQW75B8pJhcZUY61qFCdYiPXrLqsFHT","/ip4/172.18.248.214/tcp/44179/ws/p2p/16Uiu2HAm7xMAnSwgwuNtZGQW75B8pJhcZUY61qFCdYiPXrLqsFHT"],"enrUri":"enr:-LO4QCNbXyxorUYkAP4KEzZo-juRTg_RvHM0MnhBBVVUnfrhYgAlrDJ-09JY6yBiOvRtYrBznlfOy6zTBhF7xff74ZABgmlkgnY0gmlwhKwS-NaKbXVsdGlhZGRyc4wACgSsEvjWBqyT3QOCcnOFAAMBAACJc2VjcDI1NmsxoQK6J_ql9xvffeviGycJ50mJW_bv2lkVm-sgUpbB7OOeooN0Y3CCrJKDdWRwgqyUhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44177/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.16.3/tcp/42821/p2p/16Uiu2HAmRtvMrN7Z6V6Jwbi3jDE7kpcucfQrYPSCoVjfSz1YeLgu"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44177/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.153.241/tcp/42181/p2p/16Uiu2HAm1sypHqrsEu6W1YReoEpy75tULzY9rosdtqXv2nyoovcg"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node3_2024-10-14_03-25-48__2abf55fa-f759-46a5-9c06-0ef5d550b73f__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.148.83
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['29218', '29219', '29220', '29221', '29222']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 29218:29218 -p 29219:29219 -p 29220:29220 -p 29221:29221 -p 29222:29222 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=29220 --rest-port=29218 --tcp-port=29219 --discv5-udp-port=29221 --rest-address=0.0.0.0 --nat=extip:172.18.148.83 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fd2afd8c91e9ec13500bef0a36dfafa9bc1d911abfc916f75895e8625efaf06f --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-LO4QPZfFdgBenuBsOdsXum9VFhIfKrfi2CJtOe7CZoajOlEW422u_MTjdTu2_RdN3cIHfo3P0kgDEWiCh54tilLwcoBgmlkgnY0gmlwhKwSEAOKbXVsdGlhZGRyc4wACgSsEhADBqdG3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPEuYys1ODjal3UhvG71jbbDH_dX3tWCALn9qOj3WqkLoN0Y3CCp0WDdWRwgqdHhXdha3UyCQ --lightpushnode=/ip4/172.18.16.3/tcp/42821/p2p/16Uiu2HAmRtvMrN7Z6V6Jwbi3jDE7kpcucfQrYPSCoVjfSz1YeLgu --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.148.83 waku 8c01db4e8ea2dc95105303bb34a9a8cb23748e65ba566774ef4fe467244c18fa
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 8c01db4e8ea2. Setting up logs at ./log/docker/lightpush_node3_2024-10-14_03-25-48__2abf55fa-f759-46a5-9c06-0ef5d550b73f__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 29218
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29218/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QMnLuZko-3yQyirq_YdF5urZpGGcQJCprhSQsEw7rYj-Ux7-bhXaMAwRUiVA9_0MPYsRmfnqo8LuWifh-55gz4-GAZKJD6S8gmlkgnY0gmlwhKwRABGJc2VjcDI1NmsxoQL_lY3tFP_oiGE0Uqm0flFDr0Y_C2A8tJwE55E5kkEBaoN0Y3CCciODdWRwgnIlhXdha3UyCA","listenAddresses":["/ip4/127.0.0.1/tcp/29219/p2p/16Uiu2HAmCdND7LtgNaD22RrvNPysbd5Mw6uAAdP6yrD96MtdxVdT","/ip4/127.0.0.1/tcp/29220/ws/p2p/16Uiu2HAmCdND7LtgNaD22RrvNPysbd5Mw6uAAdP6yrD96MtdxVdT","/ip4/172.17.0.17/tcp/29219/p2p/16Uiu2HAmCdND7LtgNaD22RrvNPysbd5Mw6uAAdP6yrD96MtdxVdT","/ip4/172.17.0.17/tcp/29220/ws/p2p/16Uiu2HAmCdND7LtgNaD22RrvNPysbd5Mw6uAAdP6yrD96MtdxVdT"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29218/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.16.3/tcp/42821/p2p/16Uiu2HAmRtvMrN7Z6V6Jwbi3jDE7kpcucfQrYPSCoVjfSz1YeLgu", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29218/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.153.241/tcp/42181/p2p/16Uiu2HAm1sypHqrsEu6W1YReoEpy75tULzY9rosdtqXv2nyoovcg", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node4_2024-10-14_03-25-48__2abf55fa-f759-46a5-9c06-0ef5d550b73f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.164.131
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['31850', '31851', '31852', '31853', '31854']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 31850:31850 -p 31851:31851 -p 31852:31852 -p 31853:31853 -p 31854:31854 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=31852 --rest-port=31850 --tcp-port=31851 --discv5-udp-port=31853 --rest-address=0.0.0.0 --nat=extip:172.18.164.131 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c9048e74de00cdba2ddb70fd1f9f8c2dbeb5c7c2ff26bec39de2cc16ac9fec6f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=31854 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QPZfFdgBenuBsOdsXum9VFhIfKrfi2CJtOe7CZoajOlEW422u_MTjdTu2_RdN3cIHfo3P0kgDEWiCh54tilLwcoBgmlkgnY0gmlwhKwSEAOKbXVsdGlhZGRyc4wACgSsEhADBqdG3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPEuYys1ODjal3UhvG71jbbDH_dX3tWCALn9qOj3WqkLoN0Y3CCp0WDdWRwgqdHhXdha3UyCQ --lightpushnode=/ip4/172.18.16.3/tcp/42821/p2p/16Uiu2HAmRtvMrN7Z6V6Jwbi3jDE7kpcucfQrYPSCoVjfSz1YeLgu --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.164.131 waku 15ce80210f717f6afcf4e7a0af33c9621754f0a08cf51edb6442c21e2cdb4d8e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 15ce80210f71. Setting up logs at ./log/docker/lightpush_node4_2024-10-14_03-25-48__2abf55fa-f759-46a5-9c06-0ef5d550b73f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 31850
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31850/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31850/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.164.131/tcp/31851/p2p/16Uiu2HAmEgfUCFuSUismGK6sfuAHJuzWa73YpqSczcSyTS6fe5bw","/ip4/172.18.164.131/tcp/31852/ws/p2p/16Uiu2HAmEgfUCFuSUismGK6sfuAHJuzWa73YpqSczcSyTS6fe5bw"],"enrUri":"enr:-LO4QLlX_o1TaPuOUcRwohr6HnlvADwZQgtBahXw_jYH6yr_Wt00ilrCcHotlD-wP5e7d1jsWQvG7IUmXuiVWpzsp08BgmlkgnY0gmlwhKwSpIOKbXVsdGlhZGRyc4wACgSsEqSDBnxs3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMeJS_Mj1Fwr-WuL1b6Gz72iAYj-IWO3XW98eDStfn0AoN0Y3CCfGuDdWRwgnxthXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31850/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.16.3/tcp/42821/p2p/16Uiu2HAmRtvMrN7Z6V6Jwbi3jDE7kpcucfQrYPSCoVjfSz1YeLgu"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31850/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.153.241/tcp/42181/p2p/16Uiu2HAm1sypHqrsEu6W1YReoEpy75tULzY9rosdtqXv2nyoovcg"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42820/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42180/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20039/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1728876359770988288}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42820/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1728876359770988288,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42180/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1728876359770988288,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44177/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1728876359891432960}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42820/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1728876359891432960,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42180/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1728876359891432960,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29218/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1728876360012186368}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42820/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1728876360012186368,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42180/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1728876360012186368,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31850/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1728876360126937600}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42820/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1728876360126937600,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42180/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1728876360126937600,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id d1c85577a8fe
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id a54593c05719
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 4a8a8f4b6f41
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 834034e9add6
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 8c01db4e8ea2
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 15ce80210f71
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.