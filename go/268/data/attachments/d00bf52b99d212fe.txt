[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_store_node_not_connected_directly_to_relaying_node with id: 2024-09-05_03-11-35__88432a37-4cfe-406b-ab2d-5cd799ff1b4f
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-09-05_03-11-35__88432a37-4cfe-406b-ab2d-5cd799ff1b4f__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-09-05_03-11-35__88432a37-4cfe-406b-ab2d-5cd799ff1b4f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-09-05_03-11-35__88432a37-4cfe-406b-ab2d-5cd799ff1b4f__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.store:store.py:28 Running fixture setup: store_setup
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.112.130
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['49509', '49510', '49511', '49512', '49513']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 49509:49509 -p 49510:49510 -p 49511:49511 -p 49512:49512 -p 49513:49513 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=49511 --rest-port=49509 --tcp-port=49510 --discv5-udp-port=49512 --rest-address=0.0.0.0 --nat=extip:172.18.112.130 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=73b6cf9e29bd79fa46c9ac8d8adefcfd2bceac20dea0d9b82c2bd4015c9fb2fe --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.112.130 waku 6b52cc81e33e2fbb343db095cd7a10afb0693e99339ffcfe2c29ae068bfb5b72
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 6b52cc81e33e. Setting up logs at ./log/docker/node1_2024-09-05_03-11-35__88432a37-4cfe-406b-ab2d-5cd799ff1b4f__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 49509
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49509/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QFn2K3Btwk95icdYBmP3tVwCuEDht4xEynPeen5h6m6MLHpVuqfa7Z_ZwNhCsxdNLni_a3nbwXVgNpxIi5A8az6GAZHAKo1FgmlkgnY0gmlwhKwRAAWJc2VjcDI1NmsxoQPMt5N-DRqIw3eUx3DTECFnzQsAlVZ-yTpTKsuTIRFkvoN0Y3CCwWaDdWRwgsFohXdha3UyAQ","listenAddresses":["/ip4/127.0.0.1/tcp/49510/p2p/16Uiu2HAmSS7soH3YmmTHKY7Ajipg9KGLw1MdS37wabdU3ZAb88Ds","/ip4/127.0.0.1/tcp/49511/ws/p2p/16Uiu2HAmSS7soH3YmmTHKY7Ajipg9KGLw1MdS37wabdU3ZAb88Ds","/ip4/172.17.0.5/tcp/49510/p2p/16Uiu2HAmSS7soH3YmmTHKY7Ajipg9KGLw1MdS37wabdU3ZAb88Ds","/ip4/172.17.0.5/tcp/49511/ws/p2p/16Uiu2HAmSS7soH3YmmTHKY7Ajipg9KGLw1MdS37wabdU3ZAb88Ds"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.101.137
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['56372', '56373', '56374', '56375', '56376']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 56372:56372 -p 56373:56373 -p 56374:56374 -p 56375:56375 -p 56376:56376 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=56374 --rest-port=56372 --tcp-port=56373 --discv5-udp-port=56375 --rest-address=0.0.0.0 --nat=extip:172.18.101.137 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dfecbfee4ea10d51765fbe1f6cb48949a19119caacfcad5c31ecae3c7e580f1d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=56376 --metrics-logging=true --store=true --relay=true --discv5-bootstrap-node=enr:-Ji4QFn2K3Btwk95icdYBmP3tVwCuEDht4xEynPeen5h6m6MLHpVuqfa7Z_ZwNhCsxdNLni_a3nbwXVgNpxIi5A8az6GAZHAKo1FgmlkgnY0gmlwhKwRAAWJc2VjcDI1NmsxoQPMt5N-DRqIw3eUx3DTECFnzQsAlVZ-yTpTKsuTIRFkvoN0Y3CCwWaDdWRwgsFohXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.101.137 waku 2d725c18fe3b3cb1bb0ccd9476caabf26e0670152206ba8c871c1f890538919e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 2d725c18fe3b. Setting up logs at ./log/docker/node2_2024-09-05_03-11-35__88432a37-4cfe-406b-ab2d-5cd799ff1b4f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 56372
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56372/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56372/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.101.137/tcp/56373/p2p/16Uiu2HAm1YWFeuZPbETigp665ny7QvrpYzqbNQTSHRvQv2YGPBtv","/ip4/172.18.101.137/tcp/56374/ws/p2p/16Uiu2HAm1YWFeuZPbETigp665ny7QvrpYzqbNQTSHRvQv2YGPBtv"],"enrUri":"enr:-LO4QMmYzaGQjEHbv72ikndYtGGJcwHg1S3pjDmHaQyyiscyfQIf_GAG6M7Na2mzbxUkIM_qfEnCCyOWAbaMf37iZRYBgmlkgnY0gmlwhKwSZYmKbXVsdGlhZGRyc4wACgSsEmWJBtw23QOCcnOFAAMBAACJc2VjcDI1NmsxoQJa5jB78QBzPhnPePCgHYCy8qiYMN-cmIWwzFmR71nMq4N0Y3CC3DWDdWRwgtw3hXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.70.213
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['65067', '65068', '65069', '65070', '65071']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 65067:65067 -p 65068:65068 -p 65069:65069 -p 65070:65070 -p 65071:65071 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=65069 --rest-port=65067 --tcp-port=65068 --discv5-udp-port=65070 --rest-address=0.0.0.0 --nat=extip:172.18.70.213 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=4e346df5de86b6f25c6ed42ea50c04eb4c63cbfe5510dffd2bf62ba8c589acdb --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --storenode=/ip4/172.18.101.137/tcp/56373/p2p/16Uiu2HAm1YWFeuZPbETigp665ny7QvrpYzqbNQTSHRvQv2YGPBtv --discv5-bootstrap-node=enr:-LO4QMmYzaGQjEHbv72ikndYtGGJcwHg1S3pjDmHaQyyiscyfQIf_GAG6M7Na2mzbxUkIM_qfEnCCyOWAbaMf37iZRYBgmlkgnY0gmlwhKwSZYmKbXVsdGlhZGRyc4wACgSsEmWJBtw23QOCcnOFAAMBAACJc2VjcDI1NmsxoQJa5jB78QBzPhnPePCgHYCy8qiYMN-cmIWwzFmR71nMq4N0Y3CC3DWDdWRwgtw3hXdha3UyAw
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.70.213 waku 5d877b2abcf0826cc1872118dc6b7530f621bbfa5b59bc30da1576e002a108ce
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 5d877b2abcf0. Setting up logs at ./log/docker/node3_2024-09-05_03-11-35__88432a37-4cfe-406b-ab2d-5cd799ff1b4f__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 65067
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:65067/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QCYQZZnySpRLbSwzskCcxPihdRrEHBnhRsVvlPQr_gkLUMvtUWy-H_KmFTteL1bl4N0tQJeklxfQiUI5KgBPtGKGAZHAKplTgmlkgnY0gmlwhKwRAAqJc2VjcDI1NmsxoQLsc5XVOwoW_lkS6hici_ev5e7p9-FfZ4Jn-ZBAheeT0oN0Y3CC_iyDdWRwgv4uhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/65068/p2p/16Uiu2HAmBLgRN7KRfZ3meeM8VEQBzWwGdAVeEPi7P7Szg7Pp9VXf","/ip4/127.0.0.1/tcp/65069/ws/p2p/16Uiu2HAmBLgRN7KRfZ3meeM8VEQBzWwGdAVeEPi7P7Szg7Pp9VXf","/ip4/172.17.0.10/tcp/65068/p2p/16Uiu2HAmBLgRN7KRfZ3meeM8VEQBzWwGdAVeEPi7P7Szg7Pp9VXf","/ip4/172.17.0.10/tcp/65069/ws/p2p/16Uiu2HAmBLgRN7KRfZ3meeM8VEQBzWwGdAVeEPi7P7Szg7Pp9VXf"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49509/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56372/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49509/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"id":"16Uiu2HAm1YWFeuZPbETigp665ny7QvrpYzqbNQTSHRvQv2YGPBtv","multiaddrs":["/ip4/172.18.101.137/tcp/56373/p2p/16Uiu2HAm1YWFeuZPbETigp665ny7QvrpYzqbNQTSHRvQv2YGPBtv","/ip4/172.18.101.137/tcp/56374/ws/p2p/16Uiu2HAm1YWFeuZPbETigp665ny7QvrpYzqbNQTSHRvQv2YGPBtv"],"protocols":["/vac/waku/store-query/3.0.0","/vac/waku/relay/2.0.0","/vac/waku/store/2.0.0-beta4"],"connected":false,"pubsubTopics":["/waku/2/rs/3/0"]},{"id":"16Uiu2HAmBLgRN7KRfZ3meeM8VEQBzWwGdAVeEPi7P7Szg7Pp9VXf","multiaddrs":["/ip4/172.17.0.10/tcp/65068/p2p/16Uiu2HAmBLgRN7KRfZ3meeM8VEQBzWwGdAVeEPi7P7Szg7Pp9VXf","/ip4/172.17.0.10/tcp/65069/ws/p2p/16Uiu2HAmBLgRN7KRfZ3meeM8VEQBzWwGdAVeEPi7P7Szg7Pp9VXf"],"protocols":["/vac/waku/filter-push/2.0.0-beta1"],"connected":false,"pubsubTopics":[]}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56372/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"multiaddr":"/ip4/172.17.0.10/tcp/65068/p2p/16Uiu2HAmBLgRN7KRfZ3meeM8VEQBzWwGdAVeEPi7P7Szg7Pp9VXf","protocols":[{"protocol":"/vac/waku/peer-exchange/2.0.0-alpha1","connected":true}],"origin":"UnknownOrigin"}]'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 30 seconds
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49509/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:217 Checking that peer wakuorg/go-waku:latest can find the stored message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:65067/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F1&contentTopics=%2Ftest%2F1%2Fwaku-filter%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"144ca51478ad6b38f81a58ab798ef1d1aae49cd0373f641ce1876e9259ab46e8","status_code":200,"status_desc":"OK","messages":[{"message_hash":"U8aGKo8w1JaOYqC7BpMb0LL2GcBManTi/ZdLEhBa36A="}]}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 6b52cc81e33e
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 2d725c18fe3b
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 5d877b2abcf0
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.