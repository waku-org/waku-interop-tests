{"uid":"1c1fea7d006ced0a","name":"test_light_push_with_missing_pubsub_topics","fullName":"tests.light_push.test_publish.TestLightPushPublish#test_light_push_with_missing_pubsub_topics","historyId":"1d468b59ab821dc43c1069444cc64cbf","time":{"start":1713187382531,"stop":1713187402550,"duration":20019},"status":"skipped","statusMessage":"XFAIL https://github.com/waku-org/go-waku/issues/1078\n\nrequests.exceptions.ReadTimeout: HTTPConnectionPool(host='127.0.0.1', port=52868): Read timed out. (read timeout=20)","statusTrace":"/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/urllib3/connectionpool.py:536: in _make_request\n    response = conn.getresponse()\n/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/urllib3/connection.py:461: in getresponse\n    httplib_response = super().getresponse()\n/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/http/client.py:1423: in getresponse\n    response.begin()\n/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/http/client.py:331: in begin\n    version, status, reason = self._read_status()\n/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/http/client.py:292: in _read_status\n    line = str(self.fp.readline(_MAXLINE + 1), \"iso-8859-1\")\n/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/socket.py:707: in readinto\n    return self._sock.recv_into(b)\nE   TimeoutError: timed out\n\nThe above exception was the direct cause of the following exception:\n/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/requests/adapters.py:486: in send\n    resp = conn.urlopen(\n/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/urllib3/connectionpool.py:844: in urlopen\n    retries = retries.increment(\n/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/urllib3/util/retry.py:470: in increment\n    raise reraise(type(error), error, _stacktrace)\n/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/urllib3/util/util.py:39: in reraise\n    raise value\n/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/urllib3/connectionpool.py:790: in urlopen\n    response = self._make_request(\n/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/urllib3/connectionpool.py:538: in _make_request\n    self._raise_timeout(err=e, url=url, timeout_value=read_timeout)\n/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/urllib3/connectionpool.py:370: in _raise_timeout\n    raise ReadTimeoutError(\nE   urllib3.exceptions.ReadTimeoutError: HTTPConnectionPool(host='127.0.0.1', port=52868): Read timed out. (read timeout=20)\n\nDuring handling of the above exception, another exception occurred:\ntests/light_push/test_publish.py:158: in test_light_push_with_missing_pubsub_topics\n    self.light_push_node1.send_light_push_message({\"message\": self.create_message()})\nsrc/node/waku_node.py:237: in send_light_push_message\n    return self._api.send_light_push_message(payload)\nsrc/node/api_clients/rest.py:48: in send_light_push_message\n    return self.rest_call(\"post\", \"lightpush/v1/message\", json.dumps(payload))\nsrc/node/api_clients/rest.py:16: in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\nsrc/node/api_clients/base_client.py:12: in make_request\n    response = requests.request(method.upper(), url, headers=headers, data=data, timeout=API_REQUEST_TIMEOUT)\n/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/requests/api.py:59: in request\n    return session.request(method=method, url=url, **kwargs)\n/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/requests/sessions.py:589: in request\n    resp = self.send(prep, **send_kwargs)\n/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/requests/sessions.py:703: in send\n    r = adapter.send(request, **kwargs)\n/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/requests/adapters.py:532: in send\n    raise ReadTimeout(e, request=request)\nE   requests.exceptions.ReadTimeout: HTTPConnectionPool(host='127.0.0.1', port=52868): Read timed out. (read timeout=20)","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"set_allure_env_variables","time":{"start":1713187057098,"stop":1713187057098,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes","time":{"start":1713187379525,"stop":1713187379526,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail","time":{"start":1713187379525,"stop":1713187379525,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"light_push_setup","time":{"start":1713187379526,"stop":1713187379526,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_id","time":{"start":1713187379526,"stop":1713187379526,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_setup","time":{"start":1713187379526,"stop":1713187379526,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"light_push_publish_setup","time":{"start":1713187379527,"stop":1713187382530,"duration":3003},"status":"passed","steps":[{"name":"setup_first_receiving_node","time":{"start":1713187379527,"stop":1713187381064,"duration":1537},"status":"passed","steps":[{"name":"start_receiving_node","time":{"start":1713187379527,"stop":1713187381064,"duration":1537},"status":"passed","steps":[{"name":"add_node_peer","time":{"start":1713187381064,"stop":1713187381064,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7faeb40f1940>"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"image","value":"'harbor.status.im/wakuorg/nwaku:latest'"},{"name":"node_index","value":"1"},{"name":"lightpush","value":"'true'"},{"name":"relay","value":"'true'"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"lightpush","value":"'true'"},{"name":"relay","value":"'true'"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"setup_first_lightpush_node","time":{"start":1713187381064,"stop":1713187382527,"duration":1463},"status":"passed","steps":[{"name":"setup_lightpush_node","time":{"start":1713187381065,"stop":1713187382527,"duration":1462},"status":"passed","steps":[{"name":"add_node_peer","time":{"start":1713187382527,"stop":1713187382527,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7faeb4b92ff0>"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"image","value":"'harbor.status.im/wakuorg/go-waku:latest'"},{"name":"node_index","value":"1"},{"name":"lightpush","value":"'true'"},{"name":"relay","value":"'false'"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"lightpush","value":"'true'"},{"name":"relay","value":"'false'"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"subscribe_to_pubsub_topics_via_relay","time":{"start":1713187382527,"stop":1713187382530,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"None"},{"name":"pubsub_topics","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":7,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"testStage":{"status":"skipped","statusMessage":"XFAIL https://github.com/waku-org/go-waku/issues/1078\n\nrequests.exceptions.ReadTimeout: HTTPConnectionPool(host='127.0.0.1', port=52868): Read timed out. (read timeout=20)","statusTrace":"/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/urllib3/connectionpool.py:536: in _make_request\n    response = conn.getresponse()\n/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/urllib3/connection.py:461: in getresponse\n    httplib_response = super().getresponse()\n/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/http/client.py:1423: in getresponse\n    response.begin()\n/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/http/client.py:331: in begin\n    version, status, reason = self._read_status()\n/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/http/client.py:292: in _read_status\n    line = str(self.fp.readline(_MAXLINE + 1), \"iso-8859-1\")\n/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/socket.py:707: in readinto\n    return self._sock.recv_into(b)\nE   TimeoutError: timed out\n\nThe above exception was the direct cause of the following exception:\n/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/requests/adapters.py:486: in send\n    resp = conn.urlopen(\n/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/urllib3/connectionpool.py:844: in urlopen\n    retries = retries.increment(\n/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/urllib3/util/retry.py:470: in increment\n    raise reraise(type(error), error, _stacktrace)\n/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/urllib3/util/util.py:39: in reraise\n    raise value\n/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/urllib3/connectionpool.py:790: in urlopen\n    response = self._make_request(\n/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/urllib3/connectionpool.py:538: in _make_request\n    self._raise_timeout(err=e, url=url, timeout_value=read_timeout)\n/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/urllib3/connectionpool.py:370: in _raise_timeout\n    raise ReadTimeoutError(\nE   urllib3.exceptions.ReadTimeoutError: HTTPConnectionPool(host='127.0.0.1', port=52868): Read timed out. (read timeout=20)\n\nDuring handling of the above exception, another exception occurred:\ntests/light_push/test_publish.py:158: in test_light_push_with_missing_pubsub_topics\n    self.light_push_node1.send_light_push_message({\"message\": self.create_message()})\nsrc/node/waku_node.py:237: in send_light_push_message\n    return self._api.send_light_push_message(payload)\nsrc/node/api_clients/rest.py:48: in send_light_push_message\n    return self.rest_call(\"post\", \"lightpush/v1/message\", json.dumps(payload))\nsrc/node/api_clients/rest.py:16: in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\nsrc/node/api_clients/base_client.py:12: in make_request\n    response = requests.request(method.upper(), url, headers=headers, data=data, timeout=API_REQUEST_TIMEOUT)\n/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/requests/api.py:59: in request\n    return session.request(method=method, url=url, **kwargs)\n/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/requests/sessions.py:589: in request\n    resp = self.send(prep, **send_kwargs)\n/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/requests/sessions.py:703: in send\n    r = adapter.send(request, **kwargs)\n/opt/hostedtoolcache/Python/3.12.2/x64/lib/python3.12/site-packages/requests/adapters.py:532: in send\n    raise ReadTimeout(e, request=request)\nE   requests.exceptions.ReadTimeout: HTTPConnectionPool(host='127.0.0.1', port=52868): Read timed out. (read timeout=20)","steps":[{"name":"create_message","time":{"start":1713187382531,"stop":1713187382531,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[{"uid":"bb20d44e97f28367","name":"log","source":"bb20d44e97f28367.txt","type":"text/plain","size":8399}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"test_setup::0","time":{"start":1713187402884,"stop":1713187402886,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes::0","time":{"start":1713187402887,"stop":1713187406157,"duration":3270},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail::0","time":{"start":1713187406158,"stop":1713187406158,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"set_allure_env_variables::0","time":{"start":1713187802898,"stop":1713187802898,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"@pytest.mark.xfail(True, reason='https://github.com/waku-org/go-waku/issues/1078')"},{"name":"parentSuite","value":"tests.light_push"},{"name":"suite","value":"test_publish"},{"name":"subSuite","value":"TestLightPushPublish"},{"name":"host","value":"fv-az1106-440"},{"name":"thread","value":"2076-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.light_push.test_publish"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":9,"passed":0,"unknown":0,"total":9},"items":[{"uid":"870d29b8e9f8e7c4","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/83//#testresult/870d29b8e9f8e7c4","status":"skipped","statusDetails":"XFAIL https://github.com/waku-org/go-waku/issues/1078\n\nrequests.exceptions.ReadTimeout: HTTPConnectionPool(host='127.0.0.1', port=41131): Read timed out. (read timeout=20)","time":{"start":1713154684668,"stop":1713154704689,"duration":20021}},{"uid":"d36201a8e863a64b","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/82//#testresult/d36201a8e863a64b","status":"skipped","statusDetails":"XFAIL https://github.com/waku-org/go-waku/issues/1078\n\nrequests.exceptions.ReadTimeout: HTTPConnectionPool(host='127.0.0.1', port=49835): Read timed out. (read timeout=20)","time":{"start":1713066990748,"stop":1713067010768,"duration":20020}},{"uid":"1d82796a41e402ed","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/81//#testresult/1d82796a41e402ed","status":"skipped","statusDetails":"XFAIL https://github.com/waku-org/go-waku/issues/1078\n\nrequests.exceptions.ReadTimeout: HTTPConnectionPool(host='127.0.0.1', port=3889): Read timed out. (read timeout=20)","time":{"start":1712978070588,"stop":1712978090596,"duration":20008}},{"uid":"8bee4468a672968f","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/80//#testresult/8bee4468a672968f","status":"skipped","statusDetails":"XFAIL https://github.com/waku-org/go-waku/issues/1078\n\nrequests.exceptions.ReadTimeout: HTTPConnectionPool(host='127.0.0.1', port=52485): Read timed out. (read timeout=20)","time":{"start":1712891888722,"stop":1712891908743,"duration":20021}},{"uid":"e76ebb2a1b3c7736","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/79//#testresult/e76ebb2a1b3c7736","status":"skipped","statusDetails":"XFAIL https://github.com/waku-org/go-waku/issues/1078\n\nrequests.exceptions.ReadTimeout: HTTPConnectionPool(host='127.0.0.1', port=26437): Read timed out. (read timeout=20)","time":{"start":1712824593270,"stop":1712824613291,"duration":20021}},{"uid":"9f0ad70e66bb25f6","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/77//#testresult/9f0ad70e66bb25f6","status":"skipped","statusDetails":"XFAIL https://github.com/waku-org/go-waku/issues/1078\n\nrequests.exceptions.ReadTimeout: HTTPConnectionPool(host='127.0.0.1', port=24864): Read timed out. (read timeout=20)","time":{"start":1712820508030,"stop":1712820528052,"duration":20022}},{"uid":"4fb4e4677b291ee3","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/74//#testresult/4fb4e4677b291ee3","status":"skipped","statusDetails":"XFAIL https://github.com/waku-org/go-waku/issues/1078\n\nrequests.exceptions.ReadTimeout: HTTPConnectionPool(host='127.0.0.1', port=15950): Read timed out. (read timeout=20)","time":{"start":1712676932621,"stop":1712676952640,"duration":20019}},{"uid":"846b4d9e7023c56e","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/72//#testresult/846b4d9e7023c56e","status":"skipped","statusDetails":"XFAIL https://github.com/waku-org/go-waku/issues/1078\n\nrequests.exceptions.ReadTimeout: HTTPConnectionPool(host='127.0.0.1', port=18394): Read timed out. (read timeout=20)","time":{"start":1712586106106,"stop":1712586126125,"duration":20019}}]},"tags":["@pytest.mark.xfail(True, reason='https://github.com/waku-org/go-waku/issues/1078')"]},"source":"1c1fea7d006ced0a.json","parameterValues":[]}