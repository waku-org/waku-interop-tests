{"uid":"135702ff9a649af6","name":"test_filter","fullName":"tests.discv5.test_discv5.TestDiscv5#test_filter","historyId":"e95e71daafad910e2109ede221cbc1e4","time":{"start":1722481899662,"stop":1722481921006,"duration":21344},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"attach_logs_on_fail","time":{"start":1722481899658,"stop":1722481899658,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"set_allure_env_variables","time":{"start":1722481899658,"stop":1722481899658,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"close_open_nodes","time":{"start":1722481899659,"stop":1722481899659,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"test_id","time":{"start":1722481899659,"stop":1722481899660,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"common_setup","time":{"start":1722481899660,"stop":1722481899660,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"test_setup","time":{"start":1722481899660,"stop":1722481899660,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"filter_setup","time":{"start":1722481899660,"stop":1722481899661,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"store_setup","time":{"start":1722481899661,"stop":1722481899661,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"light_push_setup","time":{"start":1722481899661,"stop":1722481899661,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"relay_setup","time":{"start":1722481899661,"stop":1722481899661,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0}],"testStage":{"status":"passed","steps":[{"name":"wait_for_subscriptions_on_main_nodes","time":{"start":1722481911280,"stop":1722481920888,"duration":9608},"status":"passed","steps":[{"name":"create_filter_subscription_with_retry","time":{"start":1722481911300,"stop":1722481919857,"duration":8557},"status":"broken","statusMessage":"Exception: Error: 400 Client Error: Bad Request for url: http://127.0.0.1:26149/filter/v2/subscriptions with response: b'{\"requestId\":\"008874fa-9d3a-4878-b677-8407a3239907\",\"statusDesc\":\"subscription failed\"}'\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.4/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/filter.py\", line 137, in create_filter_subscription_with_retry\n    return self.create_filter_subscription(subscription, node)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.4/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/filter.py\", line 143, in create_filter_subscription\n    return node.set_filter_subscriptions(subscription)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/waku_node.py\", line 347, in set_filter_subscriptions\n    return self._api.set_filter_subscriptions(subscription)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 68, in set_filter_subscriptions\n    set_subscriptions_response = self.rest_call(\"post\", \"filter/v2/subscriptions\", json.dumps(subscription))\n                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 16, in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/base_client.py\", line 17, in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\n","steps":[{"name":"create_filter_subscription","time":{"start":1722481911300,"stop":1722481919856,"duration":8556},"status":"broken","statusMessage":"Exception: Error: 400 Client Error: Bad Request for url: http://127.0.0.1:26149/filter/v2/subscriptions with response: b'{\"requestId\":\"008874fa-9d3a-4878-b677-8407a3239907\",\"statusDesc\":\"subscription failed\"}'\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.4/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/filter.py\", line 143, in create_filter_subscription\n    return node.set_filter_subscriptions(subscription)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/waku_node.py\", line 347, in set_filter_subscriptions\n    return self._api.set_filter_subscriptions(subscription)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 68, in set_filter_subscriptions\n    set_subscriptions_response = self.rest_call(\"post\", \"filter/v2/subscriptions\", json.dumps(subscription))\n                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 16, in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/base_client.py\", line 17, in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\n","steps":[],"attachments":[],"parameters":[{"name":"subscription","value":"{'requestId': '008874fa-9d3a-4878-b677-8407a3239907', 'contentFilters': ['/test/1/waku-relay/proto'], 'pubsubTopic': '/waku/2/rs/3/1'}"},{"name":"node","value":"None"}],"attachmentsCount":0,"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":true,"stepsCount":0}],"attachments":[],"parameters":[{"name":"subscription","value":"{'requestId': '008874fa-9d3a-4878-b677-8407a3239907', 'contentFilters': ['/test/1/waku-relay/proto'], 'pubsubTopic': '/waku/2/rs/3/1'}"},{"name":"node","value":"None"}],"attachmentsCount":0,"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":1},{"name":"create_filter_subscription_with_retry","time":{"start":1722481920858,"stop":1722481920888,"duration":30},"status":"passed","steps":[{"name":"create_filter_subscription","time":{"start":1722481920859,"stop":1722481920888,"duration":29},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"subscription","value":"{'requestId': '008874fa-9d3a-4878-b677-8407a3239907', 'contentFilters': ['/test/1/waku-relay/proto'], 'pubsubTopic': '/waku/2/rs/3/1'}"},{"name":"node","value":"None"}],"attachmentsCount":0,"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0}],"attachments":[],"parameters":[{"name":"subscription","value":"{'requestId': '008874fa-9d3a-4878-b677-8407a3239907', 'contentFilters': ['/test/1/waku-relay/proto'], 'pubsubTopic': '/waku/2/rs/3/1'}"},{"name":"node","value":"None"}],"attachmentsCount":0,"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":1}],"attachments":[],"parameters":[{"name":"content_topic_list","value":"['/test/1/waku-relay/proto']"},{"name":"pubsub_topic","value":"None"}],"attachmentsCount":0,"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":4},{"name":"check_published_message_reaches_filter_peer","time":{"start":1722481920888,"stop":1722481921006,"duration":118},"status":"passed","steps":[{"name":"create_message","time":{"start":1722481920888,"stop":1722481920888,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"get_filter_messages","time":{"start":1722481920998,"stop":1722481921002,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"content_topic","value":"'/test/1/waku-relay/proto'"},{"name":"pubsub_topic","value":"'/waku/2/rs/3/1'"},{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f1a0fd37140>"}],"attachmentsCount":0,"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"assert_received_message","time":{"start":1722481921006,"stop":1722481921006,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'UmVsYXkgd29ya3MhIQ==', 'contentTopic': '/test/1/waku-relay/proto', 'timestamp': 1722481920888229632}"},{"name":"index","value":"0"}],"attachmentsCount":0,"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0}],"attachments":[],"parameters":[{"name":"message","value":"None"},{"name":"pubsub_topic","value":"None"},{"name":"message_propagation_delay","value":"0.1"},{"name":"sender","value":"None"},{"name":"peer_list","value":"None"}],"attachmentsCount":0,"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":3}],"attachments":[{"uid":"c9745a2c15e33637","name":"log","source":"c9745a2c15e33637.txt","type":"text/plain","size":11182}],"parameters":[],"attachmentsCount":1,"hasContent":true,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":9},"afterStages":[{"name":"test_setup::0","time":{"start":1722481921008,"stop":1722481921009,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"close_open_nodes::0","time":{"start":1722481921010,"stop":1722481925273,"duration":4263},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"attach_logs_on_fail::0","time":{"start":1722481925274,"stop":1722481925274,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0},{"name":"set_allure_env_variables::0","time":{"start":1722482801667,"stop":1722482801667,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"attachmentsCount":0,"hasContent":false,"attachmentStep":false,"shouldDisplayMessage":false,"stepsCount":0}],"labels":[{"name":"parentSuite","value":"tests.discv5"},{"name":"suite","value":"test_discv5"},{"name":"subSuite","value":"TestDiscv5"},{"name":"host","value":"fv-az732-753"},{"name":"thread","value":"2084-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.discv5.test_discv5"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":2,"broken":2,"skipped":0,"passed":56,"unknown":0,"total":60},"items":[{"uid":"8a92228b8784b133","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/225//#testresult/8a92228b8784b133","status":"passed","time":{"start":1722395501309,"stop":1722395514222,"duration":12913}},{"uid":"bbe3daee07f99743","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/224//#testresult/bbe3daee07f99743","status":"passed","time":{"start":1722309172340,"stop":1722309186518,"duration":14178}},{"uid":"287b3f10a3186d26","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/223//#testresult/287b3f10a3186d26","status":"passed","time":{"start":1722251434732,"stop":1722251450570,"duration":15838}},{"uid":"57cf0e02aea85fbb","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/222//#testresult/57cf0e02aea85fbb","status":"broken","statusDetails":"docker.errors.APIError: 500 Server Error for http+docker://localhost/v1.45/images/create?tag=latest&fromImage=harbor.status.im%2Fwakuorg%2Fnwaku: Internal Server Error (\"Get \"https://harbor.status.im/v2/\": dial tcp 159.223.242.198:443: connect: connection refused\")","time":{"start":1722222804049,"stop":1722222864159,"duration":60110}},{"uid":"a3e87df0e4ffe2b6","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/221//#testresult/a3e87df0e4ffe2b6","status":"passed","time":{"start":1722136245542,"stop":1722136275631,"duration":30089}},{"uid":"fdf7a0086003fa76","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/220//#testresult/fdf7a0086003fa76","status":"passed","time":{"start":1722049941741,"stop":1722049972456,"duration":30715}},{"uid":"87abf3caa134036a","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/219//#testresult/87abf3caa134036a","status":"passed","time":{"start":1721963503434,"stop":1721963529215,"duration":25781}},{"uid":"da16edae43cb6063","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/218//#testresult/da16edae43cb6063","status":"passed","time":{"start":1721877053420,"stop":1721877078957,"duration":25537}},{"uid":"6fb7e763ef2f538c","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/217//#testresult/6fb7e763ef2f538c","status":"passed","time":{"start":1721790667746,"stop":1721790692502,"duration":24756}},{"uid":"9f1bebb6649ee2ca","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/216//#testresult/9f1bebb6649ee2ca","status":"passed","time":{"start":1721704337192,"stop":1721704366823,"duration":29631}},{"uid":"be8dc3b4e7d6e276","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/215//#testresult/be8dc3b4e7d6e276","status":"passed","time":{"start":1721632829268,"stop":1721632859799,"duration":30531}},{"uid":"e498c2027584a33f","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/214//#testresult/e498c2027584a33f","status":"passed","time":{"start":1721617928354,"stop":1721617951822,"duration":23468}},{"uid":"8e9162efe685091c","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/213//#testresult/8e9162efe685091c","status":"passed","time":{"start":1721531491605,"stop":1721531521557,"duration":29952}},{"uid":"15b393120d2b4de","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/212//#testresult/15b393120d2b4de","status":"passed","time":{"start":1721445095585,"stop":1721445125250,"duration":29665}},{"uid":"f3eb5cabab2c1c20","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/211//#testresult/f3eb5cabab2c1c20","status":"passed","time":{"start":1721358691146,"stop":1721358723610,"duration":32464}},{"uid":"36d430c8b9eafdd9","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/210//#testresult/36d430c8b9eafdd9","status":"passed","time":{"start":1721289982381,"stop":1721290010820,"duration":28439}},{"uid":"ee30203339eae719","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/209//#testresult/ee30203339eae719","status":"passed","time":{"start":1721272315511,"stop":1721272346288,"duration":30777}},{"uid":"d68ef17c89ca4d05","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/208//#testresult/d68ef17c89ca4d05","status":"passed","time":{"start":1721185930303,"stop":1721185957277,"duration":26974}},{"uid":"13b7db2fa4443ef2","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/207//#testresult/13b7db2fa4443ef2","status":"passed","time":{"start":1721112232451,"stop":1721112263460,"duration":31009}},{"uid":"1fcca8dc43167820","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/206//#testresult/1fcca8dc43167820","status":"passed","time":{"start":1721099601799,"stop":1721099625419,"duration":23620}}]},"tags":[]},"source":"135702ff9a649af6.json","parameterValues":[]}