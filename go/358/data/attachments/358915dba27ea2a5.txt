[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-11-15_03-15-50__16cf3206-6f1d-4473-83ed-0ab4bede221e
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-15_03-15-50__16cf3206-6f1d-4473-83ed-0ab4bede221e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.152.82
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['58078', '58079', '58080', '58081', '58082']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 58078:58078 -p 58079:58079 -p 58080:58080 -p 58081:58081 -p 58082:58082 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=58080 --rest-port=58078 --tcp-port=58079 --discv5-udp-port=58081 --rest-address=0.0.0.0 --nat=extip:172.18.152.82 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1b7adc7069ff9ff7e9bab7a1e13fcd2ce6dc0be38e75e7fe6b4eb92ff2fd10de --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=58082 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.152.82 waku 6d7ef9feb0042486ff2179794b000661feba3093198005b50a7f130059fdb40d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 6d7ef9feb004. Setting up logs at ./log/docker/node1_2024-11-15_03-15-50__16cf3206-6f1d-4473-83ed-0ab4bede221e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 58078
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container f1fb2222cba4. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58078/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58078/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.152.82/tcp/58079/p2p/16Uiu2HAmEGmBzfRwdZ9YAPW7Rqqz5e1dtEBnNofBSpU3idiQBEGX","/ip4/172.18.152.82/tcp/58080/ws/p2p/16Uiu2HAmEGmBzfRwdZ9YAPW7Rqqz5e1dtEBnNofBSpU3idiQBEGX"],"enrUri":"enr:-L24QJ9Su3MiN4kntJYkyTJxYE4ADs1Gev9x6bonIXGhukWEMAU4dDzAuASfemA4gJLK1YcR50W1X3ZFu_s-9dZM7qMCgmlkgnY0gmlwhKwSmFKKbXVsdGlhZGRyc5YACASsEphSBuLfAAoErBKYUgbi4N0DgnJzhQADAQAAiXNlY3AyNTZrMaEDGAW3OFmvRBmKqvYQ7BmdDByodlwHmUBbYUvw-7xvyniDdGNwguLfg3VkcILi4YV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-15_03-15-50__16cf3206-6f1d-4473-83ed-0ab4bede221e__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.247.40
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['6104', '6105', '6106', '6107', '6108']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 6104:6104 -p 6105:6105 -p 6106:6106 -p 6107:6107 -p 6108:6108 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=6106 --rest-port=6104 --tcp-port=6105 --discv5-udp-port=6107 --rest-address=0.0.0.0 --nat=extip:172.18.247.40 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7fd329e56ef93e48a7f9db32f19c25d7150e35f60d1d4369b18c869b25e32e4a --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QJ9Su3MiN4kntJYkyTJxYE4ADs1Gev9x6bonIXGhukWEMAU4dDzAuASfemA4gJLK1YcR50W1X3ZFu_s-9dZM7qMCgmlkgnY0gmlwhKwSmFKKbXVsdGlhZGRyc5YACASsEphSBuLfAAoErBKYUgbi4N0DgnJzhQADAQAAiXNlY3AyNTZrMaEDGAW3OFmvRBmKqvYQ7BmdDByodlwHmUBbYUvw-7xvyniDdGNwguLfg3VkcILi4YV3YWt1MgU --filternode=/ip4/172.18.152.82/tcp/58079/p2p/16Uiu2HAmEGmBzfRwdZ9YAPW7Rqqz5e1dtEBnNofBSpU3idiQBEGX
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.247.40 waku fbb4b68b4df39bf1702137f2ff138e623d94e2606aa3ec2cc5b51f3a0884113f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID fbb4b68b4df3. Setting up logs at ./log/docker/node2_2024-11-15_03-15-50__16cf3206-6f1d-4473-83ed-0ab4bede221e__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/go-waku:latest. REST: 6104
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6104/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QPh3U3781urV-is7KC4zwF_hAw7mr7uqZN_sBT9wSwzOcmxiZg1Bw2032JB3jv0jMqspfb1CxHXr8a3ZnEQmKxaGAZMt0e22gmlkgnY0gmlwhKwRAAOJc2VjcDI1NmsxoQLvXaQyO3wZgGA1QDKF_Yrg8ehH_0ee5yUtgijgQlPPH4N0Y3CCF9mDdWRwghfbhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/6105/p2p/16Uiu2HAmBY4EgUDa1h3EAg8wT4fkLBrk6uJK4SX7uMSk6eJNyEg6","/ip4/127.0.0.1/tcp/6106/ws/p2p/16Uiu2HAmBY4EgUDa1h3EAg8wT4fkLBrk6uJK4SX7uMSk6eJNyEg6","/ip4/172.17.0.3/tcp/6105/p2p/16Uiu2HAmBY4EgUDa1h3EAg8wT4fkLBrk6uJK4SX7uMSk6eJNyEg6","/ip4/172.17.0.3/tcp/6106/ws/p2p/16Uiu2HAmBY4EgUDa1h3EAg8wT4fkLBrk6uJK4SX7uMSk6eJNyEg6"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6104/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.152.82/tcp/58079/p2p/16Uiu2HAmEGmBzfRwdZ9YAPW7Rqqz5e1dtEBnNofBSpU3idiQBEGX", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-15_03-15-50__16cf3206-6f1d-4473-83ed-0ab4bede221e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.228.176
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['27942', '27943', '27944', '27945', '27946']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 27942:27942 -p 27943:27943 -p 27944:27944 -p 27945:27945 -p 27946:27946 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=27944 --rest-port=27942 --tcp-port=27943 --discv5-udp-port=27945 --rest-address=0.0.0.0 --nat=extip:172.18.228.176 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5bc28dd7e4fe4ab81070beb56f8fcbf1a0640ed5ecbfc4bf0976bf2ba8dcc95b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=27946 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QJ9Su3MiN4kntJYkyTJxYE4ADs1Gev9x6bonIXGhukWEMAU4dDzAuASfemA4gJLK1YcR50W1X3ZFu_s-9dZM7qMCgmlkgnY0gmlwhKwSmFKKbXVsdGlhZGRyc5YACASsEphSBuLfAAoErBKYUgbi4N0DgnJzhQADAQAAiXNlY3AyNTZrMaEDGAW3OFmvRBmKqvYQ7BmdDByodlwHmUBbYUvw-7xvyniDdGNwguLfg3VkcILi4YV3YWt1MgU --filternode=/ip4/172.18.152.82/tcp/58079/p2p/16Uiu2HAmEGmBzfRwdZ9YAPW7Rqqz5e1dtEBnNofBSpU3idiQBEGX
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.228.176 waku 0e2074326709eb96fc1a84de81c2b61221a68e8c605fddcbcf7bb7c2d5963da1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 0e2074326709. Setting up logs at ./log/docker/node3_2024-11-15_03-15-50__16cf3206-6f1d-4473-83ed-0ab4bede221e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 27942
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27942/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27942/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.228.176/tcp/27943/p2p/16Uiu2HAmGX5gBBuUAFbLDJ8vfGLukMo5gJoC5TL33ZmLkvZ1ypMJ","/ip4/172.18.228.176/tcp/27944/ws/p2p/16Uiu2HAmGX5gBBuUAFbLDJ8vfGLukMo5gJoC5TL33ZmLkvZ1ypMJ"],"enrUri":"enr:-L24QPnwcUnt9F_aoVJt8fcsyIIyMWfRo_kbqJXaWOJLO-VSDUFvFh-YcknOD0GakMzC3-qif77JOTPEh7pavbUPlqgCgmlkgnY0gmlwhKwS5LCKbXVsdGlhZGRyc5YACASsEuSwBm0nAAoErBLksAZtKN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDOWgfeTAoV34umznTGwhBm_1DFl1wa4dxdiHMxTVcpLWDdGNwgm0ng3VkcIJtKYV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27942/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.152.82/tcp/58079/p2p/16Uiu2HAmEGmBzfRwdZ9YAPW7Rqqz5e1dtEBnNofBSpU3idiQBEGX"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-15_03-15-50__16cf3206-6f1d-4473-83ed-0ab4bede221e__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.2.196
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['30431', '30432', '30433', '30434', '30435']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 30431:30431 -p 30432:30432 -p 30433:30433 -p 30434:30434 -p 30435:30435 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=30433 --rest-port=30431 --tcp-port=30432 --discv5-udp-port=30434 --rest-address=0.0.0.0 --nat=extip:172.18.2.196 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bf7ae3019f9f2baff0eaaf4bdf7eeaced4858d7ee89ce388e3aeeefc02a43bb8 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QJ9Su3MiN4kntJYkyTJxYE4ADs1Gev9x6bonIXGhukWEMAU4dDzAuASfemA4gJLK1YcR50W1X3ZFu_s-9dZM7qMCgmlkgnY0gmlwhKwSmFKKbXVsdGlhZGRyc5YACASsEphSBuLfAAoErBKYUgbi4N0DgnJzhQADAQAAiXNlY3AyNTZrMaEDGAW3OFmvRBmKqvYQ7BmdDByodlwHmUBbYUvw-7xvyniDdGNwguLfg3VkcILi4YV3YWt1MgU --filternode=/ip4/172.18.152.82/tcp/58079/p2p/16Uiu2HAmEGmBzfRwdZ9YAPW7Rqqz5e1dtEBnNofBSpU3idiQBEGX
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.2.196 waku fba9be28e0f2c27c1fd810f8c232e4a953925555cbe63e07f79faff14154854e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID fba9be28e0f2. Setting up logs at ./log/docker/node4_2024-11-15_03-15-50__16cf3206-6f1d-4473-83ed-0ab4bede221e__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/go-waku:latest. REST: 30431
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30431/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QMVgsxoA2-WdGjFnR-jPbJDs8nJBfhhi90KIzPxO6JgfU8J8CcJ8owvZISv8YSaUJiv9j8GUqOFjp6Hxh0bIEruGAZMt0fpngmlkgnY0gmlwhKwRAAiJc2VjcDI1NmsxoQLHG4M0oK9t22YpeJHuaL5_hJ3Q5T2R7F738iUsM9mykIN0Y3CCduCDdWRwgnbihXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/30432/p2p/16Uiu2HAm8puSi6vdXMY7SgTLtowH2DmKHR7HevDzVY6J5oT6Cq19","/ip4/127.0.0.1/tcp/30433/ws/p2p/16Uiu2HAm8puSi6vdXMY7SgTLtowH2DmKHR7HevDzVY6J5oT6Cq19","/ip4/172.17.0.8/tcp/30432/p2p/16Uiu2HAm8puSi6vdXMY7SgTLtowH2DmKHR7HevDzVY6J5oT6Cq19","/ip4/172.17.0.8/tcp/30433/ws/p2p/16Uiu2HAm8puSi6vdXMY7SgTLtowH2DmKHR7HevDzVY6J5oT6Cq19"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30431/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.152.82/tcp/58079/p2p/16Uiu2HAmEGmBzfRwdZ9YAPW7Rqqz5e1dtEBnNofBSpU3idiQBEGX", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-15_03-15-50__16cf3206-6f1d-4473-83ed-0ab4bede221e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.77.173
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['48163', '48164', '48165', '48166', '48167']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 48163:48163 -p 48164:48164 -p 48165:48165 -p 48166:48166 -p 48167:48167 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=48165 --rest-port=48163 --tcp-port=48164 --discv5-udp-port=48166 --rest-address=0.0.0.0 --nat=extip:172.18.77.173 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=acfabd7dfa4f2624abfa1e9d824edfe0d211ccad16ab2b4ac87cdd990433bc81 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=48167 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QJ9Su3MiN4kntJYkyTJxYE4ADs1Gev9x6bonIXGhukWEMAU4dDzAuASfemA4gJLK1YcR50W1X3ZFu_s-9dZM7qMCgmlkgnY0gmlwhKwSmFKKbXVsdGlhZGRyc5YACASsEphSBuLfAAoErBKYUgbi4N0DgnJzhQADAQAAiXNlY3AyNTZrMaEDGAW3OFmvRBmKqvYQ7BmdDByodlwHmUBbYUvw-7xvyniDdGNwguLfg3VkcILi4YV3YWt1MgU --filternode=/ip4/172.18.152.82/tcp/58079/p2p/16Uiu2HAmEGmBzfRwdZ9YAPW7Rqqz5e1dtEBnNofBSpU3idiQBEGX
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.77.173 waku e8abd97f5ea8ee6de2fc60db1a1416b98203d0949e4f75b643d467b37ae1bfaf
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID e8abd97f5ea8. Setting up logs at ./log/docker/node5_2024-11-15_03-15-50__16cf3206-6f1d-4473-83ed-0ab4bede221e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 48163
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48163/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48163/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.77.173/tcp/48164/p2p/16Uiu2HAmKisdFsuWvkGk2sgAPSbiAMy4J2mXfoW4yWdPQi7Mfgmm","/ip4/172.18.77.173/tcp/48165/ws/p2p/16Uiu2HAmKisdFsuWvkGk2sgAPSbiAMy4J2mXfoW4yWdPQi7Mfgmm"],"enrUri":"enr:-L24QI9Uz41BALX_2cuVvZ22bonNX_0HTdqxMvhJKdkmCu17A6I-VWfMlBNRohuxosha0lIH2q-NDlcJmeUtsfBngN0CgmlkgnY0gmlwhKwSTa2KbXVsdGlhZGRyc5YACASsEk2tBrwkAAoErBJNrQa8Jd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDaQCHMDOqXYxuH5ZvmmSpf7ANmFSK7vx2ck2E3D1Jh1CDdGNwgrwkg3VkcIK8JoV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48163/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.152.82/tcp/58079/p2p/16Uiu2HAmEGmBzfRwdZ9YAPW7Rqqz5e1dtEBnNofBSpU3idiQBEGX"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58078/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6104/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "5a3f8fcd-c2c3-46ff-83f2-48522390c785", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"5a3f8fcd-c2c3-46ff-83f2-48522390c785","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27942/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "ad1c3aa3-c427-45b6-9da9-4886c12b28a4", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"ad1c3aa3-c427-45b6-9da9-4886c12b28a4","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30431/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "fa90989f-857b-4bf6-9266-bf38749899f3", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"fa90989f-857b-4bf6-9266-bf38749899f3","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48163/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "474d12b1-e498-4b88-ac89-e08b0900a211", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"474d12b1-e498-4b88-ac89-e08b0900a211","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58078/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6104/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1731640559299121664,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58078/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27942/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:27942/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 6d7ef9feb004
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id fbb4b68b4df3
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 6d7ef9feb004. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 0e2074326709
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container fbb4b68b4df3. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id fba9be28e0f2
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 0e2074326709. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id e8abd97f5ea8
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container fba9be28e0f2. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.