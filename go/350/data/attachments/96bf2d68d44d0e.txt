[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-11-08_03-08-44__18c02228-22a3-4cba-98b3-421eef2c0989
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-08_03-08-44__18c02228-22a3-4cba-98b3-421eef2c0989__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.255.103
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['10403', '10404', '10405', '10406', '10407']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 10403:10403 -p 10404:10404 -p 10405:10405 -p 10406:10406 -p 10407:10407 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=10405 --rest-port=10403 --tcp-port=10404 --discv5-udp-port=10406 --rest-address=0.0.0.0 --nat=extip:172.18.255.103 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5cf26cb8a1e646dbf3bfee0f7afbeaa95cbc1a8d636bc3e99861c4ed40eac715 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=10407 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.255.103 waku ba4a41530f5f610eae925458ed954a5ee06d129132cae71272e05030fbf2d4c7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID ba4a41530f5f. Setting up logs at ./log/docker/node1_2024-11-08_03-08-44__18c02228-22a3-4cba-98b3-421eef2c0989__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 10403
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 1493c0880978. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10403/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10403/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.255.103/tcp/10404/p2p/16Uiu2HAmFubVDKr5jPAFA4nBpLwEYgx6YA7fx7fojkrWeTVghwbF","/ip4/172.18.255.103/tcp/10405/ws/p2p/16Uiu2HAmFubVDKr5jPAFA4nBpLwEYgx6YA7fx7fojkrWeTVghwbF"],"enrUri":"enr:-L24QDM2y5tQO0Dona7IWtzoOqHhn8ZmRcpN0TV35l48wZt6DN5AOuWGe9iqaDaBdf5ci0D6XcEHAa86qc82dgXQ1hsCgmlkgnY0gmlwhKwS_2eKbXVsdGlhZGRyc5YACASsEv9nBiikAAoErBL_ZwYopd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDMFDr07ANK4RzzW5xrqRkMlpOOOEwAiWla7watxH--IqDdGNwgiikg3VkcIIopoV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-08_03-08-44__18c02228-22a3-4cba-98b3-421eef2c0989__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.41.229
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['57090', '57091', '57092', '57093', '57094']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 57090:57090 -p 57091:57091 -p 57092:57092 -p 57093:57093 -p 57094:57094 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=57092 --rest-port=57090 --tcp-port=57091 --discv5-udp-port=57093 --rest-address=0.0.0.0 --nat=extip:172.18.41.229 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1da5b1469dba9301cca05e24baef1a17dcdeaba7ae0fc9dbb6a3e3cbdd87fac3 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QDM2y5tQO0Dona7IWtzoOqHhn8ZmRcpN0TV35l48wZt6DN5AOuWGe9iqaDaBdf5ci0D6XcEHAa86qc82dgXQ1hsCgmlkgnY0gmlwhKwS_2eKbXVsdGlhZGRyc5YACASsEv9nBiikAAoErBL_ZwYopd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDMFDr07ANK4RzzW5xrqRkMlpOOOEwAiWla7watxH--IqDdGNwgiikg3VkcIIopoV3YWt1MgU --filternode=/ip4/172.18.255.103/tcp/10404/p2p/16Uiu2HAmFubVDKr5jPAFA4nBpLwEYgx6YA7fx7fojkrWeTVghwbF
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.41.229 waku c3a62b569fdd2667586d4d2c3317ddebae8a73a8df65cd55b977bb827b66a302
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID c3a62b569fdd. Setting up logs at ./log/docker/node2_2024-11-08_03-08-44__18c02228-22a3-4cba-98b3-421eef2c0989__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 57090
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57090/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QG24goal9H4mt5W4qscDPRiVKOW91xDxO0NJ-YH0YDuDbQJ_K6AFCZZD8-CR_sZHXIJrkUL4vuAaHedu9Y1s4kmGAZMJvuwegmlkgnY0gmlwhKwRAASJc2VjcDI1NmsxoQOPCjhW1-yzieS250ino2PwpkDOQ-dqESId53rHNnrwXIN0Y3CC3wODdWRwgt8FhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/57091/p2p/16Uiu2HAmNHMgyjJsetq9pUrkU5qmBRFp86AZ1URnzVGzMB67ZnmH","/ip4/127.0.0.1/tcp/57092/ws/p2p/16Uiu2HAmNHMgyjJsetq9pUrkU5qmBRFp86AZ1URnzVGzMB67ZnmH","/ip4/172.17.0.4/tcp/57091/p2p/16Uiu2HAmNHMgyjJsetq9pUrkU5qmBRFp86AZ1URnzVGzMB67ZnmH","/ip4/172.17.0.4/tcp/57092/ws/p2p/16Uiu2HAmNHMgyjJsetq9pUrkU5qmBRFp86AZ1URnzVGzMB67ZnmH"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57090/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.255.103/tcp/10404/p2p/16Uiu2HAmFubVDKr5jPAFA4nBpLwEYgx6YA7fx7fojkrWeTVghwbF", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-08_03-08-44__18c02228-22a3-4cba-98b3-421eef2c0989__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.157.104
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['20057', '20058', '20059', '20060', '20061']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 20057:20057 -p 20058:20058 -p 20059:20059 -p 20060:20060 -p 20061:20061 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=20059 --rest-port=20057 --tcp-port=20058 --discv5-udp-port=20060 --rest-address=0.0.0.0 --nat=extip:172.18.157.104 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=4aaeabcc87b92f46ccdada54c2da6ccc43deedbdbff2f2cd3adadb69e8ae29ef --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=20061 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QDM2y5tQO0Dona7IWtzoOqHhn8ZmRcpN0TV35l48wZt6DN5AOuWGe9iqaDaBdf5ci0D6XcEHAa86qc82dgXQ1hsCgmlkgnY0gmlwhKwS_2eKbXVsdGlhZGRyc5YACASsEv9nBiikAAoErBL_ZwYopd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDMFDr07ANK4RzzW5xrqRkMlpOOOEwAiWla7watxH--IqDdGNwgiikg3VkcIIopoV3YWt1MgU --filternode=/ip4/172.18.255.103/tcp/10404/p2p/16Uiu2HAmFubVDKr5jPAFA4nBpLwEYgx6YA7fx7fojkrWeTVghwbF
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.157.104 waku 15d62d60e77716f370d1f22a270b3609b9e070bbb612369453e994bbbc1b714e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 15d62d60e777. Setting up logs at ./log/docker/node3_2024-11-08_03-08-44__18c02228-22a3-4cba-98b3-421eef2c0989__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 20057
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20057/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20057/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.157.104/tcp/20058/p2p/16Uiu2HAmPpU6Ka8Djo2A75SsKUgrwbDPyBSAEq8sKaZZmzkXxjfE","/ip4/172.18.157.104/tcp/20059/ws/p2p/16Uiu2HAmPpU6Ka8Djo2A75SsKUgrwbDPyBSAEq8sKaZZmzkXxjfE"],"enrUri":"enr:-L24QHyqqYfXT3SmJU2tnX_oWBjWGmhQrK-eMG1i3N1T0ByyK1CC5R5vtk4XQwqRoQVs79JjXugFB4OqQEuQWMmlzxgCgmlkgnY0gmlwhKwSnWiKbXVsdGlhZGRyc5YACASsEp1oBk5aAAoErBKdaAZOW90DgnJzhQADAQAAiXNlY3AyNTZrMaEDpd4mv0UtJmdyz-wv_nEVH7j4IrJj3Er546wRbNNYXymDdGNwgk5ag3VkcIJOXIV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20057/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.255.103/tcp/10404/p2p/16Uiu2HAmFubVDKr5jPAFA4nBpLwEYgx6YA7fx7fojkrWeTVghwbF"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-08_03-08-44__18c02228-22a3-4cba-98b3-421eef2c0989__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.157.124
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['7326', '7327', '7328', '7329', '7330']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 7326:7326 -p 7327:7327 -p 7328:7328 -p 7329:7329 -p 7330:7330 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=7328 --rest-port=7326 --tcp-port=7327 --discv5-udp-port=7329 --rest-address=0.0.0.0 --nat=extip:172.18.157.124 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dcc25d59a5c36adb7f4851cbabaaf4a4f4eedbefaafaab2be732e8abcd9beb8a --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QDM2y5tQO0Dona7IWtzoOqHhn8ZmRcpN0TV35l48wZt6DN5AOuWGe9iqaDaBdf5ci0D6XcEHAa86qc82dgXQ1hsCgmlkgnY0gmlwhKwS_2eKbXVsdGlhZGRyc5YACASsEv9nBiikAAoErBL_ZwYopd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDMFDr07ANK4RzzW5xrqRkMlpOOOEwAiWla7watxH--IqDdGNwgiikg3VkcIIopoV3YWt1MgU --filternode=/ip4/172.18.255.103/tcp/10404/p2p/16Uiu2HAmFubVDKr5jPAFA4nBpLwEYgx6YA7fx7fojkrWeTVghwbF
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.157.124 waku 22f606742dda2210bd0f7a7128b92351de2a0e5ceb0111b3678fd57d02c73964
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 22f606742dda. Setting up logs at ./log/docker/node4_2024-11-08_03-08-44__18c02228-22a3-4cba-98b3-421eef2c0989__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 7326
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7326/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QLubl1bN8TyRBJPs_om4VbTA3au9qnCLaJt9dnxZcHkXOz6pDdk9nf-SqxLAqP1X9uy7d7OYX3VIhZ5T49u1SOWGAZMJvvl1gmlkgnY0gmlwhKwRAAeJc2VjcDI1NmsxoQOHTI0TUTLKO8OrtytgZjGSoe01y2kzDnb8Nb2HisJQ_YN0Y3CCHJ-DdWRwghyhhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/7327/p2p/16Uiu2HAmMm96Hh8ge1UvRA662xsF44bvLTwSKchGKf7g3oPNAmSk","/ip4/127.0.0.1/tcp/7328/ws/p2p/16Uiu2HAmMm96Hh8ge1UvRA662xsF44bvLTwSKchGKf7g3oPNAmSk","/ip4/172.17.0.7/tcp/7327/p2p/16Uiu2HAmMm96Hh8ge1UvRA662xsF44bvLTwSKchGKf7g3oPNAmSk","/ip4/172.17.0.7/tcp/7328/ws/p2p/16Uiu2HAmMm96Hh8ge1UvRA662xsF44bvLTwSKchGKf7g3oPNAmSk"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7326/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.255.103/tcp/10404/p2p/16Uiu2HAmFubVDKr5jPAFA4nBpLwEYgx6YA7fx7fojkrWeTVghwbF", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-08_03-08-44__18c02228-22a3-4cba-98b3-421eef2c0989__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.5.89
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['31756', '31757', '31758', '31759', '31760']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 31756:31756 -p 31757:31757 -p 31758:31758 -p 31759:31759 -p 31760:31760 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=31758 --rest-port=31756 --tcp-port=31757 --discv5-udp-port=31759 --rest-address=0.0.0.0 --nat=extip:172.18.5.89 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7ba7d0adc069ca114068fd1fcbeeebde64aa59a46aecde6b4d2dfcbdcdec23b3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=31760 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QDM2y5tQO0Dona7IWtzoOqHhn8ZmRcpN0TV35l48wZt6DN5AOuWGe9iqaDaBdf5ci0D6XcEHAa86qc82dgXQ1hsCgmlkgnY0gmlwhKwS_2eKbXVsdGlhZGRyc5YACASsEv9nBiikAAoErBL_ZwYopd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDMFDr07ANK4RzzW5xrqRkMlpOOOEwAiWla7watxH--IqDdGNwgiikg3VkcIIopoV3YWt1MgU --filternode=/ip4/172.18.255.103/tcp/10404/p2p/16Uiu2HAmFubVDKr5jPAFA4nBpLwEYgx6YA7fx7fojkrWeTVghwbF
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.5.89 waku f512a0002dd2c13b00655d6198201f00a96eddafba9fb3d82ad109433809807f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID f512a0002dd2. Setting up logs at ./log/docker/node5_2024-11-08_03-08-44__18c02228-22a3-4cba-98b3-421eef2c0989__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 31756
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31756/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31756/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.5.89/tcp/31757/p2p/16Uiu2HAmJdoQmxnb9iePfdaPwVZGRcs2uB67rafNaik8rmevdxcv","/ip4/172.18.5.89/tcp/31758/ws/p2p/16Uiu2HAmJdoQmxnb9iePfdaPwVZGRcs2uB67rafNaik8rmevdxcv"],"enrUri":"enr:-L24QJdDaXRhIeSlvyvQT9JdBGsAOZNnGWI8GlGvX_VxRXvlej89mozpXnTsZg6aJfNzjgCZMgiF9ZZLdVcl7jqNB20CgmlkgnY0gmlwhKwSBVmKbXVsdGlhZGRyc5YACASsEgVZBnwNAAoErBIFWQZ8Dt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDWNgrxMfdYY2MQ-spHuzU-v3cuQEZbqDruisUaVZ282-DdGNwgnwNg3VkcIJ8D4V3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31756/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.255.103/tcp/10404/p2p/16Uiu2HAmFubVDKr5jPAFA4nBpLwEYgx6YA7fx7fojkrWeTVghwbF"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10403/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57090/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "76f32e60-bb37-4835-b5bc-13e0b781f302", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"76f32e60-bb37-4835-b5bc-13e0b781f302","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20057/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "837bf451-143e-499e-9ad6-0ed5c737b751", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"837bf451-143e-499e-9ad6-0ed5c737b751","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7326/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "fee1a0f7-ae73-4599-8238-9f8feea7cfbe", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"fee1a0f7-ae73-4599-8238-9f8feea7cfbe","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31756/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "f9f4abd0-2bf7-43ed-b84e-ebe823d0e24a", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"f9f4abd0-2bf7-43ed-b84e-ebe823d0e24a","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10403/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57090/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1731035333917034496,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10403/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20057/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:20057/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id ba4a41530f5f
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id c3a62b569fdd
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container ba4a41530f5f. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 15d62d60e777
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container c3a62b569fdd. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 22f606742dda
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 15d62d60e777. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id f512a0002dd2
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 22f606742dda. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.