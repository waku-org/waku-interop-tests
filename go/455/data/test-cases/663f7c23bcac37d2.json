{"uid":"663f7c23bcac37d2","name":"test_message_relayed_before_store_node_is_started","fullName":"tests.store.test_reliability.TestReliability#test_message_relayed_before_store_node_is_started","historyId":"7a78e16aa8098edca23771eb4bbc8c5c","time":{"start":1738724798770,"stop":1738724798996,"duration":226},"status":"failed","statusMessage":"AssertionError: Message hash at index -1 returned by store doesn't match the computed message hash 0x1ffabf250ebc63e538d64dd64956d6ee4f30de1edb4985195ae8aa08d0870855. Actual hash: H/q/JQ68Y+U41k3WSVbW7k8w3h7bSYUZWuiqCNCHCFU=","statusTrace":"tests/store/test_reliability.py:117: in test_message_relayed_before_store_node_is_started\n    self.check_published_message_is_stored(page_size=5)\nsrc/steps/store.py:255: in check_published_message_is_stored\n    expected_hash == actual_hash\nE   AssertionError: Message hash at index -1 returned by store doesn't match the computed message hash 0x1ffabf250ebc63e538d64dd64956d6ee4f30de1edb4985195ae8aa08d0870855. Actual hash: H/q/JQ68Y+U41k3WSVbW7k8w3h7bSYUZWuiqCNCHCFU=","flaky":true,"newFailed":true,"newBroken":false,"newPassed":false,"retriesCount":2,"retriesStatusChange":false,"beforeStages":[{"name":"set_allure_env_variables","time":{"start":1738724675806,"stop":1738724675806,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail","time":{"start":1738724796135,"stop":1738724796135,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_id","time":{"start":1738724796135,"stop":1738724796136,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"check_waku_log_errors","time":{"start":1738724796135,"stop":1738724796135,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes","time":{"start":1738724796135,"stop":1738724796135,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_setup","time":{"start":1738724796136,"stop":1738724796136,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"common_setup","time":{"start":1738724796136,"stop":1738724796136,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"node_setup","time":{"start":1738724796137,"stop":1738724798769,"duration":2632},"status":"passed","steps":[{"name":"setup_first_publishing_node","time":{"start":1738724796137,"stop":1738724797428,"duration":1291},"status":"passed","steps":[{"name":"start_publishing_node","time":{"start":1738724796137,"stop":1738724797428,"duration":1291},"status":"passed","steps":[{"name":"add_node_peer","time":{"start":1738724797428,"stop":1738724797428,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.store.test_reliability.TestReliability object at 0x7f70c0e8daf0>, <src.node.waku_node.WakuNode object at 0x7f70c0bb53d0>, [])"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"image","value":"'wakuorg/nwaku:latest'"},{"name":"node_index","value":"1"},{"name":"store","value":"'true'"},{"name":"relay","value":"'true'"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"store","value":"'true'"},{"name":"relay","value":"'true'"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"setup_first_store_node","time":{"start":1738724797428,"stop":1738724798744,"duration":1316},"status":"passed","steps":[{"name":"setup_store_node","time":{"start":1738724797428,"stop":1738724798744,"duration":1316},"status":"passed","steps":[{"name":"add_node_peer","time":{"start":1738724798727,"stop":1738724798744,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.store.test_reliability.TestReliability object at 0x7f70c0e8daf0>, <src.node.waku_node.WakuNode object at 0x7f70c0ba6a20>, ['/ip4/172.18.119.87/tcp/10061/p2p/16Uiu2HAm1Rd4YP83oTCuivfv3ZNDfL4LMi3keYH6kJcgg7NLC8Ht'])"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"image","value":"'wakuorg/go-waku:latest'"},{"name":"node_index","value":"1"},{"name":"store","value":"'true'"},{"name":"relay","value":"'true'"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"store","value":"'true'"},{"name":"relay","value":"'true'"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"subscribe_to_pubsub_topics_via_relay","time":{"start":1738724798745,"stop":1738724798769,"duration":24},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"[<src.node.waku_node.WakuNode object at 0x7f70c0bb53d0>, <src.node.waku_node.WakuNode object at 0x7f70c0ba6a20>]"},{"name":"pubsub_topics","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":7,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"store_setup","time":{"start":1738724796137,"stop":1738724796137,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: Message hash at index -1 returned by store doesn't match the computed message hash 0x1ffabf250ebc63e538d64dd64956d6ee4f30de1edb4985195ae8aa08d0870855. Actual hash: H/q/JQ68Y+U41k3WSVbW7k8w3h7bSYUZWuiqCNCHCFU=","statusTrace":"tests/store/test_reliability.py:117: in test_message_relayed_before_store_node_is_started\n    self.check_published_message_is_stored(page_size=5)\nsrc/steps/store.py:255: in check_published_message_is_stored\n    expected_hash == actual_hash\nE   AssertionError: Message hash at index -1 returned by store doesn't match the computed message hash 0x1ffabf250ebc63e538d64dd64956d6ee4f30de1edb4985195ae8aa08d0870855. Actual hash: H/q/JQ68Y+U41k3WSVbW7k8w3h7bSYUZWuiqCNCHCFU=","steps":[{"name":"publish_message","time":{"start":1738724798771,"stop":1738724798986,"duration":215},"status":"passed","steps":[{"name":"create_message","time":{"start":1738724798771,"stop":1738724798771,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"via","value":"'relay'"},{"name":"pubsub_topic","value":"None"},{"name":"message","value":"None"},{"name":"message_propagation_delay","value":"0.2"},{"name":"sender","value":"None"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_published_message_is_stored","time":{"start":1738724798986,"stop":1738724798996,"duration":10},"status":"failed","statusMessage":"AssertionError: Message hash at index -1 returned by store doesn't match the computed message hash 0x1ffabf250ebc63e538d64dd64956d6ee4f30de1edb4985195ae8aa08d0870855. Actual hash: H/q/JQ68Y+U41k3WSVbW7k8w3h7bSYUZWuiqCNCHCFU=\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/store.py\", line 255, in check_published_message_is_stored\n    expected_hash == actual_hash\n","steps":[{"name":"get_messages_from_store","time":{"start":1738724798986,"stop":1738724798990,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f70c0bb53d0>"},{"name":"peer_addr","value":"None"},{"name":"include_data","value":"None"},{"name":"pubsub_topic","value":"'/waku/2/rs/3/0'"},{"name":"content_topics","value":"None"},{"name":"start_time","value":"None"},{"name":"end_time","value":"None"},{"name":"hashes","value":"None"},{"name":"cursor","value":"None"},{"name":"page_size","value":"5"},{"name":"ascending","value":"None"},{"name":"store_v","value":"'v3'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"compute_message_hash","time":{"start":1738724798990,"stop":1738724798990,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"pubsub_topic","value":"'/waku/2/rs/3/0'"},{"name":"msg","value":"{'payload': 'U3RvcmUgd29ya3MhIQ==', 'contentTopic': '/myapp/1/latest/proto', 'timestamp': 1738724798770748672}"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"get_messages_from_store","time":{"start":1738724798990,"stop":1738724798995,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f70c0ba6a20>"},{"name":"peer_addr","value":"None"},{"name":"include_data","value":"None"},{"name":"pubsub_topic","value":"'/waku/2/rs/3/0'"},{"name":"content_topics","value":"None"},{"name":"start_time","value":"None"},{"name":"end_time","value":"None"},{"name":"hashes","value":"None"},{"name":"cursor","value":"None"},{"name":"page_size","value":"5"},{"name":"ascending","value":"None"},{"name":"store_v","value":"'v3'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"compute_message_hash","time":{"start":1738724798995,"stop":1738724798995,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"pubsub_topic","value":"'/waku/2/rs/3/0'"},{"name":"msg","value":"{'payload': 'U3RvcmUgd29ya3MhIQ==', 'contentTopic': '/myapp/1/latest/proto', 'timestamp': 1738724798770748672}"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"store_node","value":"None"},{"name":"peer_addr","value":"None"},{"name":"include_data","value":"None"},{"name":"pubsub_topic","value":"None"},{"name":"content_topics","value":"None"},{"name":"start_time","value":"None"},{"name":"end_time","value":"None"},{"name":"hashes","value":"None"},{"name":"cursor","value":"None"},{"name":"page_size","value":"5"},{"name":"ascending","value":"None"},{"name":"store_v","value":"'v3'"},{"name":"messages_to_check","value":"None"}],"shouldDisplayMessage":true,"stepsCount":4,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"7b6e59444c51a1ad","name":"log","source":"7b6e59444c51a1ad.txt","type":"text/plain","size":37695}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":7,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"test_setup::0","time":{"start":1738724799006,"stop":1738724799006,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes::0","time":{"start":1738724799007,"stop":1738724800230,"duration":1223},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"check_waku_log_errors::0","time":{"start":1738724800231,"stop":1738724800242,"duration":11},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail::0","time":{"start":1738724800242,"stop":1738724800244,"duration":2},"status":"passed","steps":[],"attachments":[{"uid":"daf7b4a0c20aff9e","name":"publishing_node1_2025-02-05_03-06-36__4be8c6ae-20f7-4eb5-89cd-bf79edab4680__wakuorg_nwaku:latest.log","source":"daf7b4a0c20aff9e.txt","type":"text/plain","size":188508},{"uid":"a4b104f986ce394c","name":"store_node1_2025-02-05_03-06-36__4be8c6ae-20f7-4eb5-89cd-bf79edab4680__wakuorg_go-waku:latest.log","source":"a4b104f986ce394c.txt","type":"text/plain","size":71010}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"set_allure_env_variables::0","time":{"start":1738724820211,"stop":1738724820211,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"tests.store"},{"name":"suite","value":"test_reliability"},{"name":"subSuite","value":"TestReliability"},{"name":"host","value":"fv-az1712-398"},{"name":"thread","value":"1932-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.store.test_reliability"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"c596f48a1fdfee6b","status":"failed","statusDetails":"AssertionError: Message hash at index -1 returned by store doesn't match the computed message hash 0xf918d0014d32298667fc92e8803ff443c13fe4ae3c0c9df28ef1fe2da0305d99. Actual hash: +RjQAU0yKYZn/JLogD/0Q8E/5K48DJ3yjvH+LaAwXZk=","time":{"start":1738724794634,"stop":1738724794851,"duration":217}},{"uid":"705873471458dd10","status":"failed","statusDetails":"AssertionError: Message hash at index -1 returned by store doesn't match the computed message hash 0x0dec74d2a1b2f65151f0ac77d142046580d02c796263515c734031a2ee30a80b. Actual hash: Dex00qGy9lFR8Kx30UIEZYDQLHliY1Fcc0Axou4wqAs=","time":{"start":1738724790504,"stop":1738724790729,"duration":225}}],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":5,"broken":0,"skipped":0,"passed":1,"unknown":0,"total":6},"items":[{"uid":"2bbd25b53ca46f8e","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/454//#testresult/2bbd25b53ca46f8e","status":"passed","time":{"start":1738690052228,"stop":1738690054039,"duration":1811}},{"uid":"144c1dbe2aa14714","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/453//#testresult/144c1dbe2aa14714","status":"failed","statusDetails":"AssertionError: Message hash at index -1 returned by store doesn't match the computed message hash 0x25bd7f54437a1d1555bc8c06977df49efb3bc4f422c409d7c05d629e2b77d5a2. Actual hash: Jb1/VEN6HRVVvIwGl330nvs7xPQixAnXwF1init31aI=","time":{"start":1738638330371,"stop":1738638330597,"duration":226}},{"uid":"d498cc3c56fb062e","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/452//#testresult/d498cc3c56fb062e","status":"failed","statusDetails":"AssertionError: Message hash at index -1 returned by store doesn't match the computed message hash 0x48c2df59e8ba2a96a05d0c41da1a95d4d4cbc73d99aa76036a34c31d7a3ba6b8. Actual hash: SMLfWei6KpagXQxB2hqV1NTLxz2ZqnYDajTDHXo7prg=","time":{"start":1738552002567,"stop":1738552002797,"duration":230}},{"uid":"cfc75f14f3b0cec","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/451//#testresult/cfc75f14f3b0cec","status":"failed","statusDetails":"AssertionError: Message hash at index -1 returned by store doesn't match the computed message hash 0xd50ba4125e2d8b365535c6e5d780087e10a7e7870f346714661cfefb2cbaa852. Actual hash: 1QukEl4tizZVNcbl14AIfhCn54cPNGcUZhz++yy6qFI=","time":{"start":1738465565867,"stop":1738465566087,"duration":220}},{"uid":"863da5e69c0da8c1","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/450//#testresult/863da5e69c0da8c1","status":"failed","statusDetails":"AssertionError: Message hash at index -1 returned by store doesn't match the computed message hash 0x09d9af8492b93a7dad7a9562b6463de10dc017421694ec7d604d955199ff7b21. Actual hash: CdmvhJK5On2tepVitkY94Q3AF0IWlOx9YE2VUZn/eyE=","time":{"start":1738379316784,"stop":1738379317017,"duration":233}}]},"tags":[]},"source":"663f7c23bcac37d2.json","parameterValues":[]}