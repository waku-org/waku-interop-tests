[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_store_with_filter with id: 2025-02-05_03-10-45__bc1c360c-a6cd-4186-8c13-444fc7ad167d
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-05_03-10-45__bc1c360c-a6cd-4186-8c13-444fc7ad167d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.241.212
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['50984', '50985', '50986', '50987', '50988']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 50984:50984 -p 50985:50985 -p 50986:50986 -p 50987:50987 -p 50988:50988 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=50986 --rest-port=50984 --tcp-port=50985 --discv5-udp-port=50987 --rest-address=0.0.0.0 --nat=extip:172.18.241.212 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=67b86ef3fbb49abf9fb071606bcefbb2e2fb2afdc7b0dcbb0af4eedaeaf6930e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=50988 --metrics-logging=true --store=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.241.212 waku 6c1d7002fbd19bfb79dc6fdfa22cb909612fbc2f0c96a0d487d0eaea3f00ac96
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 970bd3a81ecb. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 6c1d7002fbd1. Setting up logs at ./log/docker/publishing_node1_2025-02-05_03-10-45__bc1c360c-a6cd-4186-8c13-444fc7ad167d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 50984
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 6aace87093b0. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50984/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50984/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.241.212/tcp/50985/p2p/16Uiu2HAm6S8LEgs837xj7d4E2e4oWVtTHYYHvAQvMyyyryeW5SUJ","/ip4/172.18.241.212/tcp/50986/ws/p2p/16Uiu2HAm6S8LEgs837xj7d4E2e4oWVtTHYYHvAQvMyyyryeW5SUJ"],"enrUri":"enr:-L24QKfKzjSOJX8TRFzUHzU6ICQa3OJYFZcmmPNoAakISCAvNNXu8rBL3y3GHUyqkNMUmezeFz40T-B-yIUIOQn0qrcCgmlkgnY0gmlwhKwS8dSKbXVsdGlhZGRyc5YACASsEvHUBscpAAoErBLx1AbHKt0DgnJzhQADAQAAiXNlY3AyNTZrMaECo45aX7sT9iQXeCd0X0Lnvzcsa_cma-cbZ41AUZuP6sODdGNwgscpg3VkcILHK4V3YWt1Mgc"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-05_03-10-45__bc1c360c-a6cd-4186-8c13-444fc7ad167d__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.18.184
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['36357', '36358', '36359', '36360', '36361']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 36357:36357 -p 36358:36358 -p 36359:36359 -p 36360:36360 -p 36361:36361 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=36359 --rest-port=36357 --tcp-port=36358 --discv5-udp-port=36360 --rest-address=0.0.0.0 --nat=extip:172.18.18.184 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=508d19bef17462a9759e648484cadcaefe2d17ce4befa71b91ec4c3a3c53cb61 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-L24QKfKzjSOJX8TRFzUHzU6ICQa3OJYFZcmmPNoAakISCAvNNXu8rBL3y3GHUyqkNMUmezeFz40T-B-yIUIOQn0qrcCgmlkgnY0gmlwhKwS8dSKbXVsdGlhZGRyc5YACASsEvHUBscpAAoErBLx1AbHKt0DgnJzhQADAQAAiXNlY3AyNTZrMaECo45aX7sT9iQXeCd0X0Lnvzcsa_cma-cbZ41AUZuP6sODdGNwgscpg3VkcILHK4V3YWt1Mgc --storenode=/ip4/172.18.241.212/tcp/50985/p2p/16Uiu2HAm6S8LEgs837xj7d4E2e4oWVtTHYYHvAQvMyyyryeW5SUJ --store=false --relay=false --filter=true --pubsub-topic=/waku/2/rs/3/1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.18.184 waku 1930ec3ddf5482329d5028aa921a8117fa1212e06d30255090e03e0bfb04be35
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 1930ec3ddf54. Setting up logs at ./log/docker/store_node1_2025-02-05_03-10-45__bc1c360c-a6cd-4186-8c13-444fc7ad167d__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 36357
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36357/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QPJ9JYCPm7X2hdDZ-Ov3229C3pGeC713-Ay72IpAZIWYHJiux_9CAgGW165x6voeL-fl0jgK4FD7dapapKTFRkWGAZTUFrwrgmlkgnY0gmlwhKwRAAOCcnOFAAMBAAGJc2VjcDI1NmsxoQMo1YqNz51CekJlSdNVs1HrlWVDCcFYmfHLSRHS7KXVvYN0Y3CCjgaDdWRwgo4IhXdha3UyBA","listenAddresses":["/ip4/127.0.0.1/tcp/36358/p2p/16Uiu2HAmFQPWrLJkHJeYhryKpt64dHpmsaeGqJwjxxTCakgoxDqN","/ip4/127.0.0.1/tcp/36359/ws/p2p/16Uiu2HAmFQPWrLJkHJeYhryKpt64dHpmsaeGqJwjxxTCakgoxDqN","/ip4/172.17.0.3/tcp/36358/p2p/16Uiu2HAmFQPWrLJkHJeYhryKpt64dHpmsaeGqJwjxxTCakgoxDqN","/ip4/172.17.0.3/tcp/36359/ws/p2p/16Uiu2HAmFQPWrLJkHJeYhryKpt64dHpmsaeGqJwjxxTCakgoxDqN"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36357/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.241.212/tcp/50985/p2p/16Uiu2HAm6S8LEgs837xj7d4E2e4oWVtTHYYHvAQvMyyyryeW5SUJ", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50984/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50984/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50984/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x0f67c4c97b7ef785585d072d50b8e7950669de0ec4e206293667429ad127bd1d"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36357/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=5&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"c184b46cf03436aa0a50cdd228b76ac0b73493d48e77a034e6df0a2edb0318e6","status_code":200,"status_desc":"OK","messages":[{"message_hash":"D2fEyXt+94VYXQctULjnlQZp3g7E4gYpNmdCmtEnvR0="}]}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 6c1d7002fbd1
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 1930ec3ddf54
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:42 Attaching file ./log/docker/store_node1_2025-02-05_03-10-45__bc1c360c-a6cd-4186-8c13-444fc7ad167d__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:42 Attaching file ./log/docker/publishing_node1_2025-02-05_03-10-45__bc1c360c-a6cd-4186-8c13-444fc7ad167d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_store_with_filter with id: 2025-02-05_03-10-49__62a9a744-ee83-4d7f-b250-e69a11b20c3e
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-05_03-10-49__62a9a744-ee83-4d7f-b250-e69a11b20c3e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.117.195
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['11645', '11646', '11647', '11648', '11649']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 11645:11645 -p 11646:11646 -p 11647:11647 -p 11648:11648 -p 11649:11649 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=11647 --rest-port=11645 --tcp-port=11646 --discv5-udp-port=11648 --rest-address=0.0.0.0 --nat=extip:172.18.117.195 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=46f82535354e23fa9554def29fbd95a2d6f54e8b03a474d6ecfcbaddfd52fe6f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=11649 --metrics-logging=true --store=true --relay=true --filter=true
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 6c1d7002fbd1. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.117.195 waku edbd533dbf549b00f92aed47fe877e8847fa9984a121a120576761a63b4c6bf1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID edbd533dbf54. Setting up logs at ./log/docker/publishing_node1_2025-02-05_03-10-49__62a9a744-ee83-4d7f-b250-e69a11b20c3e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 11645
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 1930ec3ddf54. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11645/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11645/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.117.195/tcp/11646/p2p/16Uiu2HAmCgRUK4hU4Et3b2g5XQrgyNxKU6kt5UQG2tSardJkYkJT","/ip4/172.18.117.195/tcp/11647/ws/p2p/16Uiu2HAmCgRUK4hU4Et3b2g5XQrgyNxKU6kt5UQG2tSardJkYkJT"],"enrUri":"enr:-L24QHB4dpCSzC5HEc8-cBKQL0iXHsAK3KoNVyCamm18LU-XUsSab8bNSUzZ-Xl7nHI3YN-vtD6lkAQNYwaEqbWLtUMCgmlkgnY0gmlwhKwSdcOKbXVsdGlhZGRyc5YACASsEnXDBi1-AAoErBJ1wwYtf90DgnJzhQADAQAAiXNlY3AyNTZrMaEDAF38PJud5vumwq4FSTOOlIV6Md4lH6Kmijm-Bcqet6iDdGNwgi1-g3VkcIItgIV3YWt1Mgc"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-05_03-10-49__62a9a744-ee83-4d7f-b250-e69a11b20c3e__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.22.172
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['12257', '12258', '12259', '12260', '12261']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 12257:12257 -p 12258:12258 -p 12259:12259 -p 12260:12260 -p 12261:12261 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=12259 --rest-port=12257 --tcp-port=12258 --discv5-udp-port=12260 --rest-address=0.0.0.0 --nat=extip:172.18.22.172 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ffde1e1d4aded6e9bdb8efa6ff2b29aed6ab63c6e6ebcd5f6ba6bfcb98fae3dd --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-L24QHB4dpCSzC5HEc8-cBKQL0iXHsAK3KoNVyCamm18LU-XUsSab8bNSUzZ-Xl7nHI3YN-vtD6lkAQNYwaEqbWLtUMCgmlkgnY0gmlwhKwSdcOKbXVsdGlhZGRyc5YACASsEnXDBi1-AAoErBJ1wwYtf90DgnJzhQADAQAAiXNlY3AyNTZrMaEDAF38PJud5vumwq4FSTOOlIV6Md4lH6Kmijm-Bcqet6iDdGNwgi1-g3VkcIItgIV3YWt1Mgc --storenode=/ip4/172.18.117.195/tcp/11646/p2p/16Uiu2HAmCgRUK4hU4Et3b2g5XQrgyNxKU6kt5UQG2tSardJkYkJT --store=false --relay=false --filter=true --pubsub-topic=/waku/2/rs/3/1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.22.172 waku 773d4702e1f32bdaa66e8ae5223fd0135bc5c1a08c6e9382d14df8c47a9d29f8
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 773d4702e1f3. Setting up logs at ./log/docker/store_node1_2025-02-05_03-10-49__62a9a744-ee83-4d7f-b250-e69a11b20c3e__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 12257
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12257/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QESCLQ0QKMkAurBKQ5AKlxr9ARklwYt24x_l5W6FHFkIAyLkfkgh5n6XSwxeAeIbSvU8e9GnEslNidY53urlKZuGAZTUFswwgmlkgnY0gmlwhKwRAAOCcnOFAAMBAAGJc2VjcDI1NmsxoQLBMkR8sVmfbaIvTQZCIlfTdYlZm9jO0zQXs8Z0SoOgaYN0Y3CCL-KDdWRwgi_khXdha3UyBA","listenAddresses":["/ip4/127.0.0.1/tcp/12258/p2p/16Uiu2HAm8Rq84Rq3q9x8pdWQeEjta3MshtyhSE4F5pPWon2BRJHe","/ip4/127.0.0.1/tcp/12259/ws/p2p/16Uiu2HAm8Rq84Rq3q9x8pdWQeEjta3MshtyhSE4F5pPWon2BRJHe","/ip4/172.17.0.3/tcp/12258/p2p/16Uiu2HAm8Rq84Rq3q9x8pdWQeEjta3MshtyhSE4F5pPWon2BRJHe","/ip4/172.17.0.3/tcp/12259/ws/p2p/16Uiu2HAm8Rq84Rq3q9x8pdWQeEjta3MshtyhSE4F5pPWon2BRJHe"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12257/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.117.195/tcp/11646/p2p/16Uiu2HAmCgRUK4hU4Et3b2g5XQrgyNxKU6kt5UQG2tSardJkYkJT", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11645/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11645/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11645/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x5d78fc4e23dba687aa93e491ce0553e66978e2ef3f674169b016b654b37f9ae1"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12257/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=5&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"f5672ef0569e7fa99d00bf4309633414a84d61634838fce45baa66d54434c947","status_code":200,"status_desc":"OK","messages":[{"message_hash":"XXj8TiPbpoeqk+SRzgVT5ml44u8/Z0FpsBa2VLN/muE="}]}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id edbd533dbf54
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 773d4702e1f3
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:42 Attaching file ./log/docker/store_node1_2025-02-05_03-10-49__62a9a744-ee83-4d7f-b250-e69a11b20c3e__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:42 Attaching file ./log/docker/publishing_node1_2025-02-05_03-10-49__62a9a744-ee83-4d7f-b250-e69a11b20c3e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_store_with_filter with id: 2025-02-05_03-10-53__a7e7b22c-d444-4972-9a27-9f090b2779b0
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-05_03-10-53__a7e7b22c-d444-4972-9a27-9f090b2779b0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.193.93
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['5577', '5578', '5579', '5580', '5581']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 5577:5577 -p 5578:5578 -p 5579:5579 -p 5580:5580 -p 5581:5581 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=5579 --rest-port=5577 --tcp-port=5578 --discv5-udp-port=5580 --rest-address=0.0.0.0 --nat=extip:172.18.193.93 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b5d17e372b2b5ebfbeffcbbca9befd9f45ceab00638f0faa87a5773cf1325aa4 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=5581 --metrics-logging=true --store=true --relay=true --filter=true
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container edbd533dbf54. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.193.93 waku e48a452a4507de4eb8891749592d17a58cd65f7b5449d579a60993b568de994d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID e48a452a4507. Setting up logs at ./log/docker/publishing_node1_2025-02-05_03-10-53__a7e7b22c-d444-4972-9a27-9f090b2779b0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 5577
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 773d4702e1f3. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5577/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5577/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.193.93/tcp/5578/p2p/16Uiu2HAmAzv85J8qrodUYQg4Dnf4yQwoTQu7VQGR5kLpStbALf7m","/ip4/172.18.193.93/tcp/5579/ws/p2p/16Uiu2HAmAzv85J8qrodUYQg4Dnf4yQwoTQu7VQGR5kLpStbALf7m"],"enrUri":"enr:-L24QBoU5WALKOxtJDpZlnniQJ0r2WbkNxTlUyLvM1QoWP5YAl-9oOyldC66kCR2hFhI-vIQV1QF6rljFhUTOIW7mX8CgmlkgnY0gmlwhKwSwV2KbXVsdGlhZGRyc5YACASsEsFdBhXKAAoErBLBXQYVy90DgnJzhQADAQAAiXNlY3AyNTZrMaEC52N2PmI_pLvVvXc37yQiCDBPQG3d4vWKJvQJoYz3aOiDdGNwghXKg3VkcIIVzIV3YWt1Mgc"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-05_03-10-53__a7e7b22c-d444-4972-9a27-9f090b2779b0__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.20.226
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['27685', '27686', '27687', '27688', '27689']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 27685:27685 -p 27686:27686 -p 27687:27687 -p 27688:27688 -p 27689:27689 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=27687 --rest-port=27685 --tcp-port=27686 --discv5-udp-port=27688 --rest-address=0.0.0.0 --nat=extip:172.18.20.226 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c07ca2bcb5e6bcc51c4df14157279a9c73343c1702cbe559d8af5dec7cebbe1b --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-L24QBoU5WALKOxtJDpZlnniQJ0r2WbkNxTlUyLvM1QoWP5YAl-9oOyldC66kCR2hFhI-vIQV1QF6rljFhUTOIW7mX8CgmlkgnY0gmlwhKwSwV2KbXVsdGlhZGRyc5YACASsEsFdBhXKAAoErBLBXQYVy90DgnJzhQADAQAAiXNlY3AyNTZrMaEC52N2PmI_pLvVvXc37yQiCDBPQG3d4vWKJvQJoYz3aOiDdGNwghXKg3VkcIIVzIV3YWt1Mgc --storenode=/ip4/172.18.193.93/tcp/5578/p2p/16Uiu2HAmAzv85J8qrodUYQg4Dnf4yQwoTQu7VQGR5kLpStbALf7m --store=false --relay=false --filter=true --pubsub-topic=/waku/2/rs/3/1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.20.226 waku 1dc19c30cca9b2383ad9e736b740f770d05aecf058b1bbaaf016b475de4ec690
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 1dc19c30cca9. Setting up logs at ./log/docker/store_node1_2025-02-05_03-10-53__a7e7b22c-d444-4972-9a27-9f090b2779b0__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 27685
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27685/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QIxhNIvkJRsAf0xQWdXMhv75L_miKVgH6jQWzQTtWeIlQ06U_O4hy27rF99I9eHKnfWc04ppKPPIdPg-R7-J-LqGAZTUFtw9gmlkgnY0gmlwhKwRAAOCcnOFAAMBAAGJc2VjcDI1NmsxoQMZe7Wtjq_pBVNYQfxkzGv5yngEqQo1FzKCPsREUuoq1oN0Y3CCbCaDdWRwgmwohXdha3UyBA","listenAddresses":["/ip4/127.0.0.1/tcp/27686/p2p/16Uiu2HAmENTxCbbk8LN76srJGrP2MDTu329aFPYydJxFu8WTH6mj","/ip4/127.0.0.1/tcp/27687/ws/p2p/16Uiu2HAmENTxCbbk8LN76srJGrP2MDTu329aFPYydJxFu8WTH6mj","/ip4/172.17.0.3/tcp/27686/p2p/16Uiu2HAmENTxCbbk8LN76srJGrP2MDTu329aFPYydJxFu8WTH6mj","/ip4/172.17.0.3/tcp/27687/ws/p2p/16Uiu2HAmENTxCbbk8LN76srJGrP2MDTu329aFPYydJxFu8WTH6mj"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27685/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.193.93/tcp/5578/p2p/16Uiu2HAmAzv85J8qrodUYQg4Dnf4yQwoTQu7VQGR5kLpStbALf7m", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5577/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5577/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5577/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xb08c11940bfa0c29589d45663331042a0436aab3cd8e72ef25a2cf06822b7b4f"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27685/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=5&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"7fdfc11cbfe19cd5be10ba8f230a3cfeda015abe645cb0c2ce761cc081db904f","status_code":200,"status_desc":"OK","messages":[{"message_hash":"sIwRlAv6DClYnUVmMzEEKgQ2qrPNjnLvJaLPBoIre08="}]}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id e48a452a4507
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 1dc19c30cca9
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:42 Attaching file ./log/docker/publishing_node1_2025-02-05_03-10-53__a7e7b22c-d444-4972-9a27-9f090b2779b0__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:42 Attaching file ./log/docker/store_node1_2025-02-05_03-10-53__a7e7b22c-d444-4972-9a27-9f090b2779b0__wakuorg_go-waku:latest.log