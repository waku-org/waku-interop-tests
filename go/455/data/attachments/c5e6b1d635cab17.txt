[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_unsubscribe_from_some_of_the_subscribed_content_topics with id: 2025-02-05_03-05-48__0e95dce2-c84a-4ba0-8e3f-4f98261e2778
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-02-05_03-05-48__0e95dce2-c84a-4ba0-8e3f-4f98261e2778__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.21.100
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['52282', '52283', '52284', '52285', '52286']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 52282:52282 -p 52283:52283 -p 52284:52284 -p 52285:52285 -p 52286:52286 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=52284 --rest-port=52282 --tcp-port=52283 --discv5-udp-port=52285 --rest-address=0.0.0.0 --nat=extip:172.18.21.100 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6b58dbe8d5a2e7acb2aa9caee20ca9aeaa75e62ab74424bb75b6a28edcacd1c0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=52286 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.21.100 waku f3cbd1b2af1637d08745300b7f7067c4a7e2f54f4d8d2c01319e0a86e3964373
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID f3cbd1b2af16. Setting up logs at ./log/docker/node1_2025-02-05_03-05-48__0e95dce2-c84a-4ba0-8e3f-4f98261e2778__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 52282
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 5841de244ab4. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52282/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52282/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.21.100/tcp/52283/p2p/16Uiu2HAkyscmz9wMgxonB69pGBuVh69iDacp1yrxmm58j46FBZSg","/ip4/172.18.21.100/tcp/52284/ws/p2p/16Uiu2HAkyscmz9wMgxonB69pGBuVh69iDacp1yrxmm58j46FBZSg"],"enrUri":"enr:-L24QLGrDWxtHiGEEjydjMujR70bqtfH44DtPrqYgKSyjgKTL1wCuJJCxI3Ew8GpQOZrahRwHxpd2O2bKwnud7Q3ERcCgmlkgnY0gmlwhKwSFWSKbXVsdGlhZGRyc5YACASsEhVkBsw7AAoErBIVZAbMPN0DgnJzhQADAQAAiXNlY3AyNTZrMaECQhQ5-IzKXrzdzp4PPvXOd7CR33vC614AZPtdpF6FzaGDdGNwgsw7g3VkcILMPYV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-02-05_03-05-48__0e95dce2-c84a-4ba0-8e3f-4f98261e2778__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.20.76
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['11562', '11563', '11564', '11565', '11566']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 11562:11562 -p 11563:11563 -p 11564:11564 -p 11565:11565 -p 11566:11566 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=11564 --rest-port=11562 --tcp-port=11563 --discv5-udp-port=11565 --rest-address=0.0.0.0 --nat=extip:172.18.20.76 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b5d1ed0cc76ae152bf410a00de0e4166c2e47bb7b3e050274abba5df64fbcb79 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QLGrDWxtHiGEEjydjMujR70bqtfH44DtPrqYgKSyjgKTL1wCuJJCxI3Ew8GpQOZrahRwHxpd2O2bKwnud7Q3ERcCgmlkgnY0gmlwhKwSFWSKbXVsdGlhZGRyc5YACASsEhVkBsw7AAoErBIVZAbMPN0DgnJzhQADAQAAiXNlY3AyNTZrMaECQhQ5-IzKXrzdzp4PPvXOd7CR33vC614AZPtdpF6FzaGDdGNwgsw7g3VkcILMPYV3YWt1MgU --filternode=/ip4/172.18.21.100/tcp/52283/p2p/16Uiu2HAkyscmz9wMgxonB69pGBuVh69iDacp1yrxmm58j46FBZSg --pubsub-topic=/waku/2/rs/3/1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.20.76 waku 8638fcff50a10167cd67238e1d96454ef4d4997b95232f02bac944b5a497cd20
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 8638fcff50a1. Setting up logs at ./log/docker/node2_2025-02-05_03-05-48__0e95dce2-c84a-4ba0-8e3f-4f98261e2778__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 11562
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11562/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QOLgb55E3JJk-3GVlayK6EC4EahYrsEz3sl_CTi1mA79e2YvxQ1rBkpWZUPwitK6wP9gW4kYZStvcLupZijaK4WGAZTUEjNjgmlkgnY0gmlwhKwRAAOCcnOFAAMBAAGJc2VjcDI1NmsxoQLjDgZ7yXU7TmGvLaJXuvXUXuF8xhTjhtQZ33OS0AF8TIN0Y3CCLSuDdWRwgi0thXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/11563/p2p/16Uiu2HAmAhzvyhCrmN2uRCvqPR2SzqXeMk9Gqjt6NWL2N4AVwR9D","/ip4/127.0.0.1/tcp/11564/ws/p2p/16Uiu2HAmAhzvyhCrmN2uRCvqPR2SzqXeMk9Gqjt6NWL2N4AVwR9D","/ip4/172.17.0.3/tcp/11563/p2p/16Uiu2HAmAhzvyhCrmN2uRCvqPR2SzqXeMk9Gqjt6NWL2N4AVwR9D","/ip4/172.17.0.3/tcp/11564/ws/p2p/16Uiu2HAmAhzvyhCrmN2uRCvqPR2SzqXeMk9Gqjt6NWL2N4AVwR9D"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11562/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.21.100/tcp/52283/p2p/16Uiu2HAkyscmz9wMgxonB69pGBuVh69iDacp1yrxmm58j46FBZSg", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52282/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11562/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "a13dfe00-2c76-4cb8-9149-dd5e84960dfb", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"a13dfe00-2c76-4cb8-9149-dd5e84960dfb","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52282/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11562/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "aaa0ee92-7df8-4738-9742-52cc939878f3", "contentFilters": ["Hello World!", "1234567890"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"aaa0ee92-7df8-4738-9742-52cc939878f3","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52282/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "1234567890", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11562/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/1234567890" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"1234567890","version":0,"timestamp":1738724751217798912,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:11562/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["Hello World!"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"1","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52282/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "1234567890", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11562/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/1234567890" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id f3cbd1b2af16
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 8638fcff50a1
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:42 Attaching file ./log/docker/node2_2025-02-05_03-05-48__0e95dce2-c84a-4ba0-8e3f-4f98261e2778__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:42 Attaching file ./log/docker/node1_2025-02-05_03-05-48__0e95dce2-c84a-4ba0-8e3f-4f98261e2778__wakuorg_nwaku:latest.log
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_unsubscribe_from_some_of_the_subscribed_content_topics with id: 2025-02-05_03-05-52__73c02a12-ec47-44ea-8f60-1536626d47bb
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-02-05_03-05-52__73c02a12-ec47-44ea-8f60-1536626d47bb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.19.159
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['49427', '49428', '49429', '49430', '49431']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 49427:49427 -p 49428:49428 -p 49429:49429 -p 49430:49430 -p 49431:49431 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=49429 --rest-port=49427 --tcp-port=49428 --discv5-udp-port=49430 --rest-address=0.0.0.0 --nat=extip:172.18.19.159 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=28c92c3bc48fcdc36bb48d382a28becbe3d5086edbfcc7add200abcd4d1f672c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=49431 --metrics-logging=true --relay=true --filter=true
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container f3cbd1b2af16. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.19.159 waku 3104fc2d3eeebe0b1655e04095c7c2fbab75d37f5966dda244ea27d43d4394a9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 3104fc2d3eee. Setting up logs at ./log/docker/node1_2025-02-05_03-05-52__73c02a12-ec47-44ea-8f60-1536626d47bb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 49427
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 8638fcff50a1. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49427/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49427/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.19.159/tcp/49428/p2p/16Uiu2HAmVdFGpqWBq6XQjEa3aUcCftuQFS3B91RzZuV4W8xKSpKF","/ip4/172.18.19.159/tcp/49429/ws/p2p/16Uiu2HAmVdFGpqWBq6XQjEa3aUcCftuQFS3B91RzZuV4W8xKSpKF"],"enrUri":"enr:-L24QG7s5flRVAI60aMiu7iA6jedxWcvVYzZwl99URmMCESKenbCdRiqDsQ9XQPWLowq6ip9D-uGK5W4wBMGUFxnSyoCgmlkgnY0gmlwhKwSE5-KbXVsdGlhZGRyc5YACASsEhOfBsEUAAoErBITnwbBFd0DgnJzhQADAQAAiXNlY3AyNTZrMaED_CRjwEuZD0QDABCeo5xSQAz39IQDQNP_PH8Xn4yPA2aDdGNwgsEUg3VkcILBFoV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-02-05_03-05-52__73c02a12-ec47-44ea-8f60-1536626d47bb__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.245.116
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['17635', '17636', '17637', '17638', '17639']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 17635:17635 -p 17636:17636 -p 17637:17637 -p 17638:17638 -p 17639:17639 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=17637 --rest-port=17635 --tcp-port=17636 --discv5-udp-port=17638 --rest-address=0.0.0.0 --nat=extip:172.18.245.116 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=386fdcbb5cdbacd76d0bdf27a95feaeb8a82b7bcdfd55c1e85b03eaf56bed5e9 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QG7s5flRVAI60aMiu7iA6jedxWcvVYzZwl99URmMCESKenbCdRiqDsQ9XQPWLowq6ip9D-uGK5W4wBMGUFxnSyoCgmlkgnY0gmlwhKwSE5-KbXVsdGlhZGRyc5YACASsEhOfBsEUAAoErBITnwbBFd0DgnJzhQADAQAAiXNlY3AyNTZrMaED_CRjwEuZD0QDABCeo5xSQAz39IQDQNP_PH8Xn4yPA2aDdGNwgsEUg3VkcILBFoV3YWt1MgU --filternode=/ip4/172.18.19.159/tcp/49428/p2p/16Uiu2HAmVdFGpqWBq6XQjEa3aUcCftuQFS3B91RzZuV4W8xKSpKF --pubsub-topic=/waku/2/rs/3/1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.245.116 waku 61e671e7e3428b6082f9343d028d4de211bef7a401232d9f214d5552aa73bd77
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 61e671e7e342. Setting up logs at ./log/docker/node2_2025-02-05_03-05-52__73c02a12-ec47-44ea-8f60-1536626d47bb__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 17635
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17635/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QL9MV7RPj_sweMZWeMSjvWnQ6yWgt346Vf1g62qUXITOdnSMFS74o7vtzi4_8JQriNBw4nAu8-FO5k5bQK4U9p2GAZTUEkNogmlkgnY0gmlwhKwRAAOCcnOFAAMBAAGJc2VjcDI1NmsxoQK33l1CGvVCvEZlI6a1_2RSSKyW_1GBvG63LrBRvb1f2oN0Y3CCROSDdWRwgkTmhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/17636/p2p/16Uiu2HAm7oRFPCtV6spbL8jA8fiYx464W9fmZ21j4Q5jLFfJet5o","/ip4/127.0.0.1/tcp/17637/ws/p2p/16Uiu2HAm7oRFPCtV6spbL8jA8fiYx464W9fmZ21j4Q5jLFfJet5o","/ip4/172.17.0.3/tcp/17636/p2p/16Uiu2HAm7oRFPCtV6spbL8jA8fiYx464W9fmZ21j4Q5jLFfJet5o","/ip4/172.17.0.3/tcp/17637/ws/p2p/16Uiu2HAm7oRFPCtV6spbL8jA8fiYx464W9fmZ21j4Q5jLFfJet5o"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17635/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.19.159/tcp/49428/p2p/16Uiu2HAmVdFGpqWBq6XQjEa3aUcCftuQFS3B91RzZuV4W8xKSpKF", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49427/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17635/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "362821d5-fec0-4cf3-a7bc-5d6bfec8cc9e", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"362821d5-fec0-4cf3-a7bc-5d6bfec8cc9e","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49427/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17635/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "145270cb-36bf-448a-a435-b31ea5c5f0ff", "contentFilters": ["Hello World!", "1234567890"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"145270cb-36bf-448a-a435-b31ea5c5f0ff","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49427/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "1234567890", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17635/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/1234567890" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"1234567890","version":0,"timestamp":1738724755327778048,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:17635/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["Hello World!"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"1","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49427/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "1234567890", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17635/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/1234567890" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 3104fc2d3eee
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 61e671e7e342
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:42 Attaching file ./log/docker/node2_2025-02-05_03-05-52__73c02a12-ec47-44ea-8f60-1536626d47bb__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:42 Attaching file ./log/docker/node1_2025-02-05_03-05-52__73c02a12-ec47-44ea-8f60-1536626d47bb__wakuorg_nwaku:latest.log