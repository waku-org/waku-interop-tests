[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2024-09-12_03-22-58__7d6eb970-e2e5-4090-b5c8-ff3b709fe228
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-09-12_03-22-58__7d6eb970-e2e5-4090-b5c8-ff3b709fe228__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.111.96
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['23443', '23444', '23445', '23446', '23447']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 23443:23443 -p 23444:23444 -p 23445:23445 -p 23446:23446 -p 23447:23447 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=23445 --rest-port=23443 --tcp-port=23444 --discv5-udp-port=23446 --rest-address=0.0.0.0 --nat=extip:172.18.111.96 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0402b19e317dfa6cafbc10ec561c21a7e5ba8d25a17692afc1fa85d10b865deb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=23447 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.111.96 waku afb029354ee3859a90123bc122929ddd0c0a3fc7e8e7e5b546965214bd35e035
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID afb029354ee3. Setting up logs at ./log/docker/node1_2024-09-12_03-22-58__7d6eb970-e2e5-4090-b5c8-ff3b709fe228__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 23443
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23443/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23443/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.111.96/tcp/23444/p2p/16Uiu2HAmTmxCcnmNg1netLaA5L6dAWTu8eRdkTA1akrjvRwixHjo","/ip4/172.18.111.96/tcp/23445/ws/p2p/16Uiu2HAmTmxCcnmNg1netLaA5L6dAWTu8eRdkTA1akrjvRwixHjo"],"enrUri":"enr:-LO4QKCs5JdreCLqlTeqY1aVj30pt0o0u8OpstbghArxX_wmWRx07VDLGvVixAIAjfgEKaLHc-JQGRd7EJvmc2Dxw_IBgmlkgnY0gmlwhKwSb2CKbXVsdGlhZGRyc4wACgSsEm9gBluV3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPgp_BoUaeKq8RhJezNISxp19_MYSZZcfgZoYBch2ucWoN0Y3CCW5SDdWRwgluWhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-09-12_03-22-58__7d6eb970-e2e5-4090-b5c8-ff3b709fe228__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.242.35
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['20054', '20055', '20056', '20057', '20058']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 20054:20054 -p 20055:20055 -p 20056:20056 -p 20057:20057 -p 20058:20058 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=20056 --rest-port=20054 --tcp-port=20055 --discv5-udp-port=20057 --rest-address=0.0.0.0 --nat=extip:172.18.242.35 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ff88057a6d4a39b0fbddc0a2ddf9468d5295326c260944ea8976de338b7d2a58 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-LO4QKCs5JdreCLqlTeqY1aVj30pt0o0u8OpstbghArxX_wmWRx07VDLGvVixAIAjfgEKaLHc-JQGRd7EJvmc2Dxw_IBgmlkgnY0gmlwhKwSb2CKbXVsdGlhZGRyc4wACgSsEm9gBluV3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPgp_BoUaeKq8RhJezNISxp19_MYSZZcfgZoYBch2ucWoN0Y3CCW5SDdWRwgluWhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.242.35 waku 2c54ad38bf0ba83fa62ab6e61fb51da2c544e2555ea4c020fa7222c234968c5f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 2c54ad38bf0b. Setting up logs at ./log/docker/node2_2024-09-12_03-22-58__7d6eb970-e2e5-4090-b5c8-ff3b709fe228__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 20054
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20054/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QI8mjr7HA3-6cRnZCJLJlKkyyJIbqFkJTvOt7Y1QpZUyQAJ8GxENlGiEOARZSv3SaB1vI4MUZH6b7EfIKHXFmHGGAZHkQXRYgmlkgnY0gmlwhKwRAASJc2VjcDI1NmsxoQOGRVbLZ6Itw96X1yV_de-rU0DOVEkiM8D7KUZrGrYBe4N0Y3CCTleDdWRwgk5ZhXdha3UyAQ","listenAddresses":["/ip4/127.0.0.1/tcp/20055/p2p/16Uiu2HAmMh8JhPofDVgVV1HqCNbDBkv9kMSYi5y5tXfpRKhrPF7g","/ip4/127.0.0.1/tcp/20056/ws/p2p/16Uiu2HAmMh8JhPofDVgVV1HqCNbDBkv9kMSYi5y5tXfpRKhrPF7g","/ip4/172.17.0.4/tcp/20055/p2p/16Uiu2HAmMh8JhPofDVgVV1HqCNbDBkv9kMSYi5y5tXfpRKhrPF7g","/ip4/172.17.0.4/tcp/20056/ws/p2p/16Uiu2HAmMh8JhPofDVgVV1HqCNbDBkv9kMSYi5y5tXfpRKhrPF7g"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20054/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.111.96/tcp/23444/p2p/16Uiu2HAmTmxCcnmNg1netLaA5L6dAWTu8eRdkTA1akrjvRwixHjo", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-09-12_03-22-58__7d6eb970-e2e5-4090-b5c8-ff3b709fe228__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.167.3
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['50419', '50420', '50421', '50422', '50423']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 50419:50419 -p 50420:50420 -p 50421:50421 -p 50422:50422 -p 50423:50423 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=50421 --rest-port=50419 --tcp-port=50420 --discv5-udp-port=50422 --rest-address=0.0.0.0 --nat=extip:172.18.167.3 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5693dabcc4d7f78bae3d4570cbc2fdc46d04b3ea5c5d4ed72704c9cea53cbbbe --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=50423 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QKCs5JdreCLqlTeqY1aVj30pt0o0u8OpstbghArxX_wmWRx07VDLGvVixAIAjfgEKaLHc-JQGRd7EJvmc2Dxw_IBgmlkgnY0gmlwhKwSb2CKbXVsdGlhZGRyc4wACgSsEm9gBluV3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPgp_BoUaeKq8RhJezNISxp19_MYSZZcfgZoYBch2ucWoN0Y3CCW5SDdWRwgluWhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.167.3 waku a68e47d8b144fe5d9eceda84a97627d60cbfd8c38adc9613316f14b133fcc837
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID a68e47d8b144. Setting up logs at ./log/docker/node3_2024-09-12_03-22-58__7d6eb970-e2e5-4090-b5c8-ff3b709fe228__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 50419
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50419/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50419/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.167.3/tcp/50420/p2p/16Uiu2HAmMSVAZb6dPJuidZSAXRAx1bu247jbWuUoSCtaveB3qaog","/ip4/172.18.167.3/tcp/50421/ws/p2p/16Uiu2HAmMSVAZb6dPJuidZSAXRAx1bu247jbWuUoSCtaveB3qaog"],"enrUri":"enr:-LO4QF4YZ9NC_nUxLfyp_B_Uf8Bgtq1wAR_xIQX_2ICl3ZTFUz59GmeX4Ohz5uD4AmUOnwyKglcDB3eJWvPC9_NM2L4BgmlkgnY0gmlwhKwSpwOKbXVsdGlhZGRyc4wACgSsEqcDBsT13QOCcnOFAAMBAACJc2VjcDI1NmsxoQOChTaNmdgRFE4pHnVNkjRXvQt68S1aJ8KJ1uljFQ8s14N0Y3CCxPSDdWRwgsT2hXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50419/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.111.96/tcp/23444/p2p/16Uiu2HAmTmxCcnmNg1netLaA5L6dAWTu8eRdkTA1akrjvRwixHjo"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-09-12_03-22-58__7d6eb970-e2e5-4090-b5c8-ff3b709fe228__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.41.113
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['15737', '15738', '15739', '15740', '15741']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 15737:15737 -p 15738:15738 -p 15739:15739 -p 15740:15740 -p 15741:15741 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=15739 --rest-port=15737 --tcp-port=15738 --discv5-udp-port=15740 --rest-address=0.0.0.0 --nat=extip:172.18.41.113 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=74e74b64a3e5bcc3a2368a4b4122dc7cd69dc4cbd31a726cd6be1c6ffa60a53d --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-LO4QKCs5JdreCLqlTeqY1aVj30pt0o0u8OpstbghArxX_wmWRx07VDLGvVixAIAjfgEKaLHc-JQGRd7EJvmc2Dxw_IBgmlkgnY0gmlwhKwSb2CKbXVsdGlhZGRyc4wACgSsEm9gBluV3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPgp_BoUaeKq8RhJezNISxp19_MYSZZcfgZoYBch2ucWoN0Y3CCW5SDdWRwgluWhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.41.113 waku e7e193f7763a8641efbdce382427526dbf6c6bc32d506abf0aeca2df11297e9b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID e7e193f7763a. Setting up logs at ./log/docker/node4_2024-09-12_03-22-58__7d6eb970-e2e5-4090-b5c8-ff3b709fe228__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 15737
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15737/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QF3nR4gW_qua1k-sE1cPmLwdrwkUxB6aBfs5atqUUYf4VmlPAEMETS2wkkPMenP1LIEXvP9uKfIGDk4OEicOm5-GAZHkQYBggmlkgnY0gmlwhKwRAAuJc2VjcDI1NmsxoQLYuqCebe4OBU11GisheWCyjQiZ1jvBfpDL38qRvYjBAoN0Y3CCPXqDdWRwgj18hXdha3UyAQ","listenAddresses":["/ip4/127.0.0.1/tcp/15738/p2p/16Uiu2HAmA1h6aQ6GVaRmSZXkVfW4xEfLt1NPnBFADVPjLJn3V8jb","/ip4/127.0.0.1/tcp/15739/ws/p2p/16Uiu2HAmA1h6aQ6GVaRmSZXkVfW4xEfLt1NPnBFADVPjLJn3V8jb","/ip4/172.17.0.11/tcp/15738/p2p/16Uiu2HAmA1h6aQ6GVaRmSZXkVfW4xEfLt1NPnBFADVPjLJn3V8jb","/ip4/172.17.0.11/tcp/15739/ws/p2p/16Uiu2HAmA1h6aQ6GVaRmSZXkVfW4xEfLt1NPnBFADVPjLJn3V8jb"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15737/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.111.96/tcp/23444/p2p/16Uiu2HAmTmxCcnmNg1netLaA5L6dAWTu8eRdkTA1akrjvRwixHjo", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-09-12_03-22-58__7d6eb970-e2e5-4090-b5c8-ff3b709fe228__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.22.186
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['18107', '18108', '18109', '18110', '18111']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 18107:18107 -p 18108:18108 -p 18109:18109 -p 18110:18110 -p 18111:18111 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=18109 --rest-port=18107 --tcp-port=18108 --discv5-udp-port=18110 --rest-address=0.0.0.0 --nat=extip:172.18.22.186 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ba0f731debb1d87ee5bfeb330ce61233a3512c57dfbbaad5feee04bf0cc8833d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=18111 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QKCs5JdreCLqlTeqY1aVj30pt0o0u8OpstbghArxX_wmWRx07VDLGvVixAIAjfgEKaLHc-JQGRd7EJvmc2Dxw_IBgmlkgnY0gmlwhKwSb2CKbXVsdGlhZGRyc4wACgSsEm9gBluV3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPgp_BoUaeKq8RhJezNISxp19_MYSZZcfgZoYBch2ucWoN0Y3CCW5SDdWRwgluWhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.22.186 waku 16791d850d94c435c2d9dc6d949a27feb17eab2e6c6facf76fa5bd2772f91077
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 16791d850d94. Setting up logs at ./log/docker/node5_2024-09-12_03-22-58__7d6eb970-e2e5-4090-b5c8-ff3b709fe228__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 18107
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18107/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18107/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.22.186/tcp/18108/p2p/16Uiu2HAm5RFtxAUCHaesNMwVe4fzeR6knYwc14wvvZewsdCifwQn","/ip4/172.18.22.186/tcp/18109/ws/p2p/16Uiu2HAm5RFtxAUCHaesNMwVe4fzeR6knYwc14wvvZewsdCifwQn"],"enrUri":"enr:-LO4QJ8Pi582b0368uPs49kDd8jUlvfZsUPGadF-VH6qZFLmaY7c2na9e4V2m0wEenbSspaqsSdz7eZjrSSeSbA2WbQBgmlkgnY0gmlwhKwSFrqKbXVsdGlhZGRyc4wACgSsEha6Bka93QOCcnOFAAMBAACJc2VjcDI1NmsxoQKUeaNTVgXZlRGw8MROnZ8uzVD6wHPnLWTJmKNNd_jQW4N0Y3CCRryDdWRwgka-hXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:18107/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.111.96/tcp/23444/p2p/16Uiu2HAmTmxCcnmNg1netLaA5L6dAWTu8eRdkTA1akrjvRwixHjo"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23443/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20054/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50419/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15737/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:18107/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23443/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23443/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1726111386218631424,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20054/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1726111386218631424,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50419/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1726111386218631424,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15737/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1726111386218631424,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18107/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1726111386218631424,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:18107/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23443/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1726111386354819840,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20054/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1726111386354819840,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50419/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1726111386354819840,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15737/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1726111386354819840,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18107/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1726111386354819840,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id afb029354ee3
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 2c54ad38bf0b
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id a68e47d8b144
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id e7e193f7763a
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 16791d850d94
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.