[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-10-03_03-18-37__6f9dfdeb-76e9-4f7d-941f-e6e7f74c1c06
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-10-03_03-18-37__6f9dfdeb-76e9-4f7d-941f-e6e7f74c1c06__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.143.145
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['63843', '63844', '63845', '63846', '63847']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 63843:63843 -p 63844:63844 -p 63845:63845 -p 63846:63846 -p 63847:63847 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=63845 --rest-port=63843 --tcp-port=63844 --discv5-udp-port=63846 --rest-address=0.0.0.0 --nat=extip:172.18.143.145 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f47caca5e83dde1fd0ebcfe425ebb4f12bacab75ebbbc35ffef245031cec2dae --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=63847 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.143.145 waku da2848a47cc4bd16427428208bcaa4c0f8352451bec3a81e4799e8c0ba2fd164
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID da2848a47cc4. Setting up logs at ./log/docker/node1_2024-10-03_03-18-37__6f9dfdeb-76e9-4f7d-941f-e6e7f74c1c06__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 63843
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63843/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63843/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.143.145/tcp/63844/p2p/16Uiu2HAmV6FgoLZC8gCtgih1kyzASkTga5ewHdvPVBTwY9fvHUKF","/ip4/172.18.143.145/tcp/63845/ws/p2p/16Uiu2HAmV6FgoLZC8gCtgih1kyzASkTga5ewHdvPVBTwY9fvHUKF"],"enrUri":"enr:-LO4QBiVEDYAMdR5_6dtZXMGxBSJRTa2G4LH6WFl5f1hTmvzFXgYipnxpJa7R_-7bjrQ38eoFP8BdEd6ZAwRuDgXPWABgmlkgnY0gmlwhKwSj5GKbXVsdGlhZGRyc4wACgSsEo-RBvll3QOCcnOFAAMBAACJc2VjcDI1NmsxoQP0M9oZEthhmeqO4n9w35S8BkefZgwppjLZoaADkT5M_oN0Y3CC-WSDdWRwgvlmhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-10-03_03-18-37__6f9dfdeb-76e9-4f7d-941f-e6e7f74c1c06__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.230.163
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['34265', '34266', '34267', '34268', '34269']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 34265:34265 -p 34266:34266 -p 34267:34267 -p 34268:34268 -p 34269:34269 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=34267 --rest-port=34265 --tcp-port=34266 --discv5-udp-port=34268 --rest-address=0.0.0.0 --nat=extip:172.18.230.163 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=75fb37cdf82affbac45a7f3f179ed4df855fb8ca61a4374e6838fbdefda8152f --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-LO4QBiVEDYAMdR5_6dtZXMGxBSJRTa2G4LH6WFl5f1hTmvzFXgYipnxpJa7R_-7bjrQ38eoFP8BdEd6ZAwRuDgXPWABgmlkgnY0gmlwhKwSj5GKbXVsdGlhZGRyc4wACgSsEo-RBvll3QOCcnOFAAMBAACJc2VjcDI1NmsxoQP0M9oZEthhmeqO4n9w35S8BkefZgwppjLZoaADkT5M_oN0Y3CC-WSDdWRwgvlmhXdha3UyBQ --filternode=/ip4/172.18.143.145/tcp/63844/p2p/16Uiu2HAmV6FgoLZC8gCtgih1kyzASkTga5ewHdvPVBTwY9fvHUKF
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.230.163 waku d7ca62151f5dfdefae0091f85fd27270e4c81878f504178ad37d0906bea1e5d7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID d7ca62151f5d. Setting up logs at ./log/docker/node2_2024-10-03_03-18-37__6f9dfdeb-76e9-4f7d-941f-e6e7f74c1c06__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 34265
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34265/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QL0DuhGrnJiBHXMhNv0lEHSrNK8kpiE1x5KLEDqvUnFLYOfLMD9iklpM7p_5GiYyjy1hm_7cw20S48Y52QmjPLKGAZJQYwW9gmlkgnY0gmlwhKwRABWJc2VjcDI1NmsxoQLtfMW0ciYAeUQ8D7YD2ZLezpJkrwSoMoEISZuVi_8HFYN0Y3CChdqDdWRwgoXchXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/34266/p2p/16Uiu2HAmBQixGCjM922PCG1Sc7G2LXkaaxWP4b2uF8i3xB5jRJ4c","/ip4/127.0.0.1/tcp/34267/ws/p2p/16Uiu2HAmBQixGCjM922PCG1Sc7G2LXkaaxWP4b2uF8i3xB5jRJ4c","/ip4/172.17.0.21/tcp/34266/p2p/16Uiu2HAmBQixGCjM922PCG1Sc7G2LXkaaxWP4b2uF8i3xB5jRJ4c","/ip4/172.17.0.21/tcp/34267/ws/p2p/16Uiu2HAmBQixGCjM922PCG1Sc7G2LXkaaxWP4b2uF8i3xB5jRJ4c"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34265/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.143.145/tcp/63844/p2p/16Uiu2HAmV6FgoLZC8gCtgih1kyzASkTga5ewHdvPVBTwY9fvHUKF", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-10-03_03-18-37__6f9dfdeb-76e9-4f7d-941f-e6e7f74c1c06__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.147.70
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['35264', '35265', '35266', '35267', '35268']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 35264:35264 -p 35265:35265 -p 35266:35266 -p 35267:35267 -p 35268:35268 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=35266 --rest-port=35264 --tcp-port=35265 --discv5-udp-port=35267 --rest-address=0.0.0.0 --nat=extip:172.18.147.70 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1aa00f1a5d8f2cbfa4d67c10cffba1db0e4bdedaa6db4fe2383c0b3efe4ffced --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=35268 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QBiVEDYAMdR5_6dtZXMGxBSJRTa2G4LH6WFl5f1hTmvzFXgYipnxpJa7R_-7bjrQ38eoFP8BdEd6ZAwRuDgXPWABgmlkgnY0gmlwhKwSj5GKbXVsdGlhZGRyc4wACgSsEo-RBvll3QOCcnOFAAMBAACJc2VjcDI1NmsxoQP0M9oZEthhmeqO4n9w35S8BkefZgwppjLZoaADkT5M_oN0Y3CC-WSDdWRwgvlmhXdha3UyBQ --filternode=/ip4/172.18.143.145/tcp/63844/p2p/16Uiu2HAmV6FgoLZC8gCtgih1kyzASkTga5ewHdvPVBTwY9fvHUKF
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.147.70 waku d9ac6d31e5e3e3cd26a6a833898f200c1a4b7b07f1122b101586a0eab6add73d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID d9ac6d31e5e3. Setting up logs at ./log/docker/node3_2024-10-03_03-18-37__6f9dfdeb-76e9-4f7d-941f-e6e7f74c1c06__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 35264
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35264/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35264/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.147.70/tcp/35265/p2p/16Uiu2HAm47gRCRm8xaUpkhkjtyYEqnc62UadqpERc7DMxFeMEFkH","/ip4/172.18.147.70/tcp/35266/ws/p2p/16Uiu2HAm47gRCRm8xaUpkhkjtyYEqnc62UadqpERc7DMxFeMEFkH"],"enrUri":"enr:-LO4QCjRC-4gZxhoxJ7We9ew2jbIl1pbzUavyBXb4yqcxD0DCYKWf1QLNFgU_wCS7sET8AS1WUxt0BrJ0tPM5-0s_yABgmlkgnY0gmlwhKwSk0aKbXVsdGlhZGRyc4wACgSsEpNGBonC3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKBHTkYX1N9TGIdtadRMvKN5wOTP2_EBKGRdx4gfbtwLoN0Y3CCicGDdWRwgonDhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35264/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.143.145/tcp/63844/p2p/16Uiu2HAmV6FgoLZC8gCtgih1kyzASkTga5ewHdvPVBTwY9fvHUKF"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-10-03_03-18-37__6f9dfdeb-76e9-4f7d-941f-e6e7f74c1c06__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.146.27
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['29303', '29304', '29305', '29306', '29307']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 29303:29303 -p 29304:29304 -p 29305:29305 -p 29306:29306 -p 29307:29307 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=29305 --rest-port=29303 --tcp-port=29304 --discv5-udp-port=29306 --rest-address=0.0.0.0 --nat=extip:172.18.146.27 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cebe1923ffcb4bb62c8a932dae97fe8a572c5cd5edaf3d47a774e28c0f08ee8c --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-LO4QBiVEDYAMdR5_6dtZXMGxBSJRTa2G4LH6WFl5f1hTmvzFXgYipnxpJa7R_-7bjrQ38eoFP8BdEd6ZAwRuDgXPWABgmlkgnY0gmlwhKwSj5GKbXVsdGlhZGRyc4wACgSsEo-RBvll3QOCcnOFAAMBAACJc2VjcDI1NmsxoQP0M9oZEthhmeqO4n9w35S8BkefZgwppjLZoaADkT5M_oN0Y3CC-WSDdWRwgvlmhXdha3UyBQ --filternode=/ip4/172.18.143.145/tcp/63844/p2p/16Uiu2HAmV6FgoLZC8gCtgih1kyzASkTga5ewHdvPVBTwY9fvHUKF
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.146.27 waku 54050c3a84121593c5ada42e923d709b05c7d8b61e0da28449917e8e060f42c5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 54050c3a8412. Setting up logs at ./log/docker/node4_2024-10-03_03-18-37__6f9dfdeb-76e9-4f7d-941f-e6e7f74c1c06__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 29303
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29303/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QJzpHWZ8pIU-J7eyScxz4QBCGNxRXhoT3pY9oRKDBrnkYpxx5f1ZtfnN7ZoWVp4JvPGUZqAA6H7e96cx_HmILlyGAZJQYxHwgmlkgnY0gmlwhKwRABeJc2VjcDI1NmsxoQP3GBn3xtWklGZ57h6-CiGHqSvhWgoy_-mKRrhX6FCBAoN0Y3CCcniDdWRwgnJ6hXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/29304/p2p/16Uiu2HAmVHYNGDQ4CCTMvgjkqq8VFSineXnH8VBAtaZufmjK4TGV","/ip4/127.0.0.1/tcp/29305/ws/p2p/16Uiu2HAmVHYNGDQ4CCTMvgjkqq8VFSineXnH8VBAtaZufmjK4TGV","/ip4/172.17.0.23/tcp/29304/p2p/16Uiu2HAmVHYNGDQ4CCTMvgjkqq8VFSineXnH8VBAtaZufmjK4TGV","/ip4/172.17.0.23/tcp/29305/ws/p2p/16Uiu2HAmVHYNGDQ4CCTMvgjkqq8VFSineXnH8VBAtaZufmjK4TGV"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29303/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.143.145/tcp/63844/p2p/16Uiu2HAmV6FgoLZC8gCtgih1kyzASkTga5ewHdvPVBTwY9fvHUKF", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-10-03_03-18-37__6f9dfdeb-76e9-4f7d-941f-e6e7f74c1c06__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.174.41
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['6955', '6956', '6957', '6958', '6959']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 6955:6955 -p 6956:6956 -p 6957:6957 -p 6958:6958 -p 6959:6959 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=6957 --rest-port=6955 --tcp-port=6956 --discv5-udp-port=6958 --rest-address=0.0.0.0 --nat=extip:172.18.174.41 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f1493ea715b80c7edcbfe19b66bfa000dbd1ba7fee156dff561fdc996eb3aed2 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=6959 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QBiVEDYAMdR5_6dtZXMGxBSJRTa2G4LH6WFl5f1hTmvzFXgYipnxpJa7R_-7bjrQ38eoFP8BdEd6ZAwRuDgXPWABgmlkgnY0gmlwhKwSj5GKbXVsdGlhZGRyc4wACgSsEo-RBvll3QOCcnOFAAMBAACJc2VjcDI1NmsxoQP0M9oZEthhmeqO4n9w35S8BkefZgwppjLZoaADkT5M_oN0Y3CC-WSDdWRwgvlmhXdha3UyBQ --filternode=/ip4/172.18.143.145/tcp/63844/p2p/16Uiu2HAmV6FgoLZC8gCtgih1kyzASkTga5ewHdvPVBTwY9fvHUKF
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.174.41 waku b7b408a7f7b036ae64c63db30d1b8866e50d6eabb3273e4f7213080fdd7f1343
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.65.20
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['4125', '4126', '4127', '4128', '4129']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 4125:4125 -p 4126:4126 -p 4127:4127 -p 4128:4128 -p 4129:4129 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=4127 --rest-port=4125 --tcp-port=4126 --discv5-udp-port=4128 --rest-address=0.0.0.0 --nat=extip:172.18.65.20 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=abd6b0bcd069e4bf1fc2e7a239bbff4ca55642abf7d5fb9c5806fd819caebc4a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=4129 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QBiVEDYAMdR5_6dtZXMGxBSJRTa2G4LH6WFl5f1hTmvzFXgYipnxpJa7R_-7bjrQ38eoFP8BdEd6ZAwRuDgXPWABgmlkgnY0gmlwhKwSj5GKbXVsdGlhZGRyc4wACgSsEo-RBvll3QOCcnOFAAMBAACJc2VjcDI1NmsxoQP0M9oZEthhmeqO4n9w35S8BkefZgwppjLZoaADkT5M_oN0Y3CC-WSDdWRwgvlmhXdha3UyBQ --filternode=/ip4/172.18.143.145/tcp/63844/p2p/16Uiu2HAmV6FgoLZC8gCtgih1kyzASkTga5ewHdvPVBTwY9fvHUKF
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.65.20 waku 1377284e4e5575a30fe5ac1f7ad56d372c32816470d86bf3434eb88d4311c266
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 1377284e4e55. Setting up logs at ./log/docker/node5_2024-10-03_03-18-37__6f9dfdeb-76e9-4f7d-941f-e6e7f74c1c06__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 4125
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4125/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4125/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.65.20/tcp/4126/p2p/16Uiu2HAmKfi3YTZnjTY9Bj4yN7sshiMQJLU6kVuHjvvFzaa5vbzu","/ip4/172.18.65.20/tcp/4127/ws/p2p/16Uiu2HAmKfi3YTZnjTY9Bj4yN7sshiMQJLU6kVuHjvvFzaa5vbzu"],"enrUri":"enr:-LO4QLodDJM_qNZoOysy5bhZq1Fj85quJ25U9h3qBFOdjPRMOxJ-3rkG0a6pcHihl9Lqn_sxO4FtkJDV9pQjHoWk5ysBgmlkgnY0gmlwhKwSQRSKbXVsdGlhZGRyc4wACgSsEkEUBhAf3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNoMPO6neoNjpo9evEJAhEVQZxfFe04mMP_PUVE9xOszoN0Y3CCEB6DdWRwghAghXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4125/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.143.145/tcp/63844/p2p/16Uiu2HAmV6FgoLZC8gCtgih1kyzASkTga5ewHdvPVBTwY9fvHUKF"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63843/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34265/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "d09bab12-f03d-4069-936a-14522ac77351", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"d09bab12-f03d-4069-936a-14522ac77351","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35264/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "d5f30010-4c41-4f88-ab16-d58a0a0102be", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"d5f30010-4c41-4f88-ab16-d58a0a0102be","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29303/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "d55a1abc-125a-49be-a228-f9ffd3011429", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"d55a1abc-125a-49be-a228-f9ffd3011429","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4125/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "dded595f-a9e6-4261-b61b-409a55eb74cb", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"dded595f-a9e6-4261-b61b-409a55eb74cb","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63843/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34265/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1727925526610880256,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63843/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35264/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:35264/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id da2848a47cc4
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id d7ca62151f5d
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id d9ac6d31e5e3
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 54050c3a8412
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 1377284e4e55
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.