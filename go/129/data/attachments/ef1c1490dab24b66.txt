[35mDEBUG   [0m tests.conftest:conftest.py:43 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:49 Running test: test_all_nodes_subscribed_to_the_topic with id: 2024-05-16_07-33-36__d0d76696-15ea-476c-bce3-db00c5258d53
[35mDEBUG   [0m src.steps.common:common.py:15 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node1_2024-05-16_07-33-36__d0d76696-15ea-476c-bce3-db00c5258d53__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.46.91
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['39168', '39169', '39170', '39171', '39172']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:345 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:114 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:116 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 39168:39168 -p 39169:39169 -p 39170:39170 -p 39171:39171 -p 39172:39172 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=39170 --rest-port=39168 --tcp-port=39169 --discv5-udp-port=39171 --rest-address=0.0.0.0 --nat=extip:172.18.46.91 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=39172 --metrics-logging=true --relay=true --filter=true --nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.46.91 waku c3b30acfda1ebae2bf87a4b65ac82972d13d89f23f126c317237761c4bf75510
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID c3b30acfda1e. Setting up logs at ./log/docker/node1_2024-05-16_07-33-36__d0d76696-15ea-476c-bce3-db00c5258d53__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 39168
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39168/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:209 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39168/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.46.91/tcp/39169/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","/ip4/172.18.46.91/tcp/39170/ws/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"],"enrUri":"enr:-LO4QDHxRdylaveXLVMP4s1DZrqMBAPL_nS6fcmuH-5gTncFEq7JcIXAFiRX85iQhKllQ4vQqH6Nq2fITAhITQkXVvkBgmlkgnY0gmlwhKwSLluKbXVsdGlhZGRyc4wACgSsEi5bBpkC3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCmQGDdWRwgpkDhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:214 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node2_2024-05-16_07-33-36__d0d76696-15ea-476c-bce3-db00c5258d53__harbor.status.im_wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.183.102
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['52919', '52920', '52921', '52922', '52923']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:345 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:114 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:116 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 52919:52919 -p 52920:52920 -p 52921:52921 -p 52922:52922 -p 52923:52923 harbor.status.im/wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=52921 --rest-port=52919 --tcp-port=52920 --discv5-udp-port=52922 --rest-address=0.0.0.0 --nat=extip:172.18.183.102 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --relay=false --discv5-bootstrap-node=enr:-LO4QDHxRdylaveXLVMP4s1DZrqMBAPL_nS6fcmuH-5gTncFEq7JcIXAFiRX85iQhKllQ4vQqH6Nq2fITAhITQkXVvkBgmlkgnY0gmlwhKwSLluKbXVsdGlhZGRyc4wACgSsEi5bBpkC3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCmQGDdWRwgpkDhXdha3UyBQ --filternode=/ip4/172.18.46.91/tcp/39169/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.183.102 waku a106fc7d846631d84d802516974056377f52a39d9c9f2f972f1d151c9c04cd91
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID a106fc7d8466. Setting up logs at ./log/docker/node2_2024-05-16_07-33-36__d0d76696-15ea-476c-bce3-db00c5258d53__harbor.status.im_wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Started container from image harbor.status.im/wakuorg/go-waku:latest. REST: 52919
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52919/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ly4QOJaNSqMLYVfBZTFPCwdUQ4kWWlzLj3zm_LM9vy29iY9cy75GDroMABN46N8t5pAjY-sHN6FeTy3zhjlElZtHhOGAY-AUix1gmlkgnY0gmlwhKwRAAOKbXVsdGlhZGRyc5gACgR_AAABBs653QMACgSsEQADBs653QOJc2VjcDI1NmsxoQPP2EavczRhxid2-_52bBLb44AZpGQExGArIeAfyJyzm4N0Y3CCzriDdWRwgs66hXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/52920/p2p/16Uiu2HAmSeL26iSzmrbehxBiCiBMRdMkn2SKC6CNQwKmHxrZHyuL","/ip4/127.0.0.1/tcp/52921/ws/p2p/16Uiu2HAmSeL26iSzmrbehxBiCiBMRdMkn2SKC6CNQwKmHxrZHyuL","/ip4/172.17.0.3/tcp/52920/p2p/16Uiu2HAmSeL26iSzmrbehxBiCiBMRdMkn2SKC6CNQwKmHxrZHyuL","/ip4/172.17.0.3/tcp/52921/ws/p2p/16Uiu2HAmSeL26iSzmrbehxBiCiBMRdMkn2SKC6CNQwKmHxrZHyuL"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:214 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52919/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.46.91/tcp/39169/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:52919/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52919/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.46.91/tcp/39169/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:52919/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52919/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.46.91/tcp/39169/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:52919/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52919/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.46.91/tcp/39169/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:52919/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52919/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.46.91/tcp/39169/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:52919/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52919/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.46.91/tcp/39169/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:52919/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52919/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.46.91/tcp/39169/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:52919/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52919/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.46.91/tcp/39169/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:52919/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52919/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.46.91/tcp/39169/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:52919/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52919/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.46.91/tcp/39169/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:52919/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52919/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.46.91/tcp/39169/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node3_2024-05-16_07-33-36__d0d76696-15ea-476c-bce3-db00c5258d53__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.252.241
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['38719', '38720', '38721', '38722', '38723']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:345 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:114 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:116 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 38719:38719 -p 38720:38720 -p 38721:38721 -p 38722:38722 -p 38723:38723 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=38721 --rest-port=38719 --tcp-port=38720 --discv5-udp-port=38722 --rest-address=0.0.0.0 --nat=extip:172.18.252.241 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=38723 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QDHxRdylaveXLVMP4s1DZrqMBAPL_nS6fcmuH-5gTncFEq7JcIXAFiRX85iQhKllQ4vQqH6Nq2fITAhITQkXVvkBgmlkgnY0gmlwhKwSLluKbXVsdGlhZGRyc4wACgSsEi5bBpkC3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCmQGDdWRwgpkDhXdha3UyBQ --filternode=/ip4/172.18.46.91/tcp/39169/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.252.241 waku 1f2bd877fae428e7f7f8a4b8e4b067e24a07c750610f2cf93547bb3ea562dd39
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 1f2bd877fae4. Setting up logs at ./log/docker/node3_2024-05-16_07-33-36__d0d76696-15ea-476c-bce3-db00c5258d53__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 38719
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38719/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:209 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38719/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.252.241/tcp/38720/p2p/16Uiu2HAmKBbkGH5TKLSY2EZvQtaJEDWovfNbqLEVuutW8AhPYz5P","/ip4/172.18.252.241/tcp/38721/ws/p2p/16Uiu2HAmKBbkGH5TKLSY2EZvQtaJEDWovfNbqLEVuutW8AhPYz5P"],"enrUri":"enr:-LO4QK0Ci_d_sfGgxmpMMeQmZXG1NEZUBS68wm0r5PVn_x10EqtA6RbgHUNX4NHR_GD9aBKnITfct050XOmhljdKx4EBgmlkgnY0gmlwhKwS_PGKbXVsdGlhZGRyc4wACgSsEvzxBpdB3QOCcnOFAAABAACJc2VjcDI1NmsxoQNg_ZF-ph4xaAvt4KqBcmcDndlFiXXUSWcxI-dJeYIV-oN0Y3CCl0CDdWRwgpdChXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:214 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38719/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.46.91/tcp/39169/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node4_2024-05-16_07-33-36__d0d76696-15ea-476c-bce3-db00c5258d53__harbor.status.im_wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.15.168
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['21911', '21912', '21913', '21914', '21915']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:345 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:114 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:116 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 21911:21911 -p 21912:21912 -p 21913:21913 -p 21914:21914 -p 21915:21915 harbor.status.im/wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=21913 --rest-port=21911 --tcp-port=21912 --discv5-udp-port=21914 --rest-address=0.0.0.0 --nat=extip:172.18.15.168 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --relay=false --discv5-bootstrap-node=enr:-LO4QDHxRdylaveXLVMP4s1DZrqMBAPL_nS6fcmuH-5gTncFEq7JcIXAFiRX85iQhKllQ4vQqH6Nq2fITAhITQkXVvkBgmlkgnY0gmlwhKwSLluKbXVsdGlhZGRyc4wACgSsEi5bBpkC3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCmQGDdWRwgpkDhXdha3UyBQ --filternode=/ip4/172.18.46.91/tcp/39169/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.15.168 waku 0e8148414872ce67ea36b315ce8269d438f1ceb957f005c3adfaef51ad82bae2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 0e8148414872. Setting up logs at ./log/docker/node4_2024-05-16_07-33-36__d0d76696-15ea-476c-bce3-db00c5258d53__harbor.status.im_wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Started container from image harbor.status.im/wakuorg/go-waku:latest. REST: 21911
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21911/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ly4QMGBBZBZgmLhRrrWBIHUNHz_3DqRFb0llZL7w-a6xLsYKZKIdU__OPeIOqvbtC8akTiCKq2r2zZ3YmknUBQuOXSGAY-AUl1vgmlkgnY0gmlwhKwRAAeKbXVsdGlhZGRyc5gACgSsEQAHBlWZ3QMACgR_AAABBlWZ3QOJc2VjcDI1NmsxoQMJOsadsfAZqTrn1Z0Q6H3PWi3-uVbhszQhSbR-iOCibIN0Y3CCVZiDdWRwglWahXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/21912/p2p/16Uiu2HAmDH213WS77yX3DozyyxaFhYSDEGGRoWuBgF39efWbNn3V","/ip4/127.0.0.1/tcp/21913/ws/p2p/16Uiu2HAmDH213WS77yX3DozyyxaFhYSDEGGRoWuBgF39efWbNn3V","/ip4/172.17.0.7/tcp/21912/p2p/16Uiu2HAmDH213WS77yX3DozyyxaFhYSDEGGRoWuBgF39efWbNn3V","/ip4/172.17.0.7/tcp/21913/ws/p2p/16Uiu2HAmDH213WS77yX3DozyyxaFhYSDEGGRoWuBgF39efWbNn3V"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:214 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21911/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.46.91/tcp/39169/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node5_2024-05-16_07-33-36__d0d76696-15ea-476c-bce3-db00c5258d53__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.230.3
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['9653', '9654', '9655', '9656', '9657']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:345 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:114 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:116 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 9653:9653 -p 9654:9654 -p 9655:9655 -p 9656:9656 -p 9657:9657 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=9655 --rest-port=9653 --tcp-port=9654 --discv5-udp-port=9656 --rest-address=0.0.0.0 --nat=extip:172.18.230.3 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=9657 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QDHxRdylaveXLVMP4s1DZrqMBAPL_nS6fcmuH-5gTncFEq7JcIXAFiRX85iQhKllQ4vQqH6Nq2fITAhITQkXVvkBgmlkgnY0gmlwhKwSLluKbXVsdGlhZGRyc4wACgSsEi5bBpkC3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCmQGDdWRwgpkDhXdha3UyBQ --filternode=/ip4/172.18.46.91/tcp/39169/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.230.3 waku 650c0f5e8a1691f45bd46f898117d56583f2a56673e3e67f6b951828f71d60ca
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 650c0f5e8a16. Setting up logs at ./log/docker/node5_2024-05-16_07-33-36__d0d76696-15ea-476c-bce3-db00c5258d53__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 9653
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9653/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:209 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9653/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.230.3/tcp/9654/p2p/16Uiu2HAkxJehSJVsxCvQDyyQomogejDmyB3vCXB1SzhfEbjLCBwk","/ip4/172.18.230.3/tcp/9655/ws/p2p/16Uiu2HAkxJehSJVsxCvQDyyQomogejDmyB3vCXB1SzhfEbjLCBwk"],"enrUri":"enr:-LO4QMsv1nkgdxZSbAMjAJUg_f5gYCS_G6XXZbK1eAhi_JeRBQvyY5FN1vhROIdbtyxtidbEk7mJ2nHHOXMWb_YuBRQBgmlkgnY0gmlwhKwS5gOKbXVsdGlhZGRyc4wACgSsEuYDBiW33QOCcnOFAAABAACJc2VjcDI1NmsxoQIqxouozR7diCwwgilPF9xJeHDTIexvIow1z8YaZORS94N0Y3CCJbaDdWRwgiW4hXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:214 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9653/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.46.91/tcp/39169/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39168/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/0/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52919/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "aee82c88-e32d-492f-bcf8-3511b1994eb9", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"aee82c88-e32d-492f-bcf8-3511b1994eb9","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38719/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "67fdae1a-2e98-45c6-ad30-b739d8d5ef6f", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"67fdae1a-2e98-45c6-ad30-b739d8d5ef6f","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21911/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "59e9c15e-66e0-4d45-a693-8103e1f9f46a", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"59e9c15e-66e0-4d45-a693-8103e1f9f46a","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9653/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "a8cc855f-a863-45f1-8578-a103267dbd21", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"a8cc855f-a863-45f1-8578-a103267dbd21","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39168/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_2:harbor.status.im/wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52919/filter/v2/messages/%2Fwaku%2F2%2Frs%2F0%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1715844835351190272,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_3:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38719/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1715844835351190272,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_4:harbor.status.im/wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21911/filter/v2/messages/%2Fwaku%2F2%2Frs%2F0%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1715844835351190272,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_5:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9653/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1715844835351190272,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:75 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:169 Stopping container with id c3b30acfda1e
[35mDEBUG   [0m src.node.waku_node:waku_node.py:172 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:169 Stopping container with id a106fc7d8466
[35mDEBUG   [0m src.node.waku_node:waku_node.py:172 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:169 Stopping container with id 1f2bd877fae4
[35mDEBUG   [0m src.node.waku_node:waku_node.py:172 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:169 Stopping container with id 0e8148414872
[35mDEBUG   [0m src.node.waku_node:waku_node.py:172 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:169 Stopping container with id 650c0f5e8a16
[35mDEBUG   [0m src.node.waku_node:waku_node.py:172 Container stopped.