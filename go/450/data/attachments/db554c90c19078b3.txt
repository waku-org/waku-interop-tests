[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_get_store_messages_with_different_content_topics with id: 2025-02-01_03-11-58__5221180d-ddc2-4f3a-8698-06581585f6c6
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-01_03-11-58__5221180d-ddc2-4f3a-8698-06581585f6c6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.199.129
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['29035', '29036', '29037', '29038', '29039']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 29035:29035 -p 29036:29036 -p 29037:29037 -p 29038:29038 -p 29039:29039 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=29037 --rest-port=29035 --tcp-port=29036 --discv5-udp-port=29038 --rest-address=0.0.0.0 --nat=extip:172.18.199.129 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ba2ce5f5f3bdca53c3c0fb8ba44f1d9dbed20d1ce4c3d23a9ba0fde03ed8946f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=29039 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.199.129 waku 09f1a8d08943c1dee4d92c7c452896dde11d26b4338eb64aa3afe0b14f7ec535
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 1a2b574c2573. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 09f1a8d08943. Setting up logs at ./log/docker/publishing_node1_2025-02-01_03-11-58__5221180d-ddc2-4f3a-8698-06581585f6c6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 29035
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 2ba1e6473303. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29035/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29035/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.199.129/tcp/29036/p2p/16Uiu2HAmFcn9BXbNGVZVd8ALd7CoHNZJRut6y13j6uYPRAcp4TPA","/ip4/172.18.199.129/tcp/29037/ws/p2p/16Uiu2HAmFcn9BXbNGVZVd8ALd7CoHNZJRut6y13j6uYPRAcp4TPA"],"enrUri":"enr:-L24QKnLgTm0LKxrpj6fdDo--LmE7O3Xce6orI9uwpDQq2VOO0O4BhSbUtumQbltrVSY0MYlPo9FNo2mE3h0VgtcvFYCgmlkgnY0gmlwhKwSx4GKbXVsdGlhZGRyc5YACASsEseBBnFsAAoErBLHgQZxbd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDLAIYPRjKCydghGsL4kO8z3xKwnQoJdURQWgFe4U-TDWDdGNwgnFsg3VkcIJxboV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-01_03-11-58__5221180d-ddc2-4f3a-8698-06581585f6c6__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.12.156
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['14367', '14368', '14369', '14370', '14371']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 14367:14367 -p 14368:14368 -p 14369:14369 -p 14370:14370 -p 14371:14371 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=14369 --rest-port=14367 --tcp-port=14368 --discv5-udp-port=14370 --rest-address=0.0.0.0 --nat=extip:172.18.12.156 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b01e0ef8aef2ac13677c41cf8ea4ba4a67f9d992ac0880bbc14a1a861c3d473c --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-L24QKnLgTm0LKxrpj6fdDo--LmE7O3Xce6orI9uwpDQq2VOO0O4BhSbUtumQbltrVSY0MYlPo9FNo2mE3h0VgtcvFYCgmlkgnY0gmlwhKwSx4GKbXVsdGlhZGRyc5YACASsEseBBnFsAAoErBLHgQZxbd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDLAIYPRjKCydghGsL4kO8z3xKwnQoJdURQWgFe4U-TDWDdGNwgnFsg3VkcIJxboV3YWt1MgM --storenode=/ip4/172.18.199.129/tcp/29036/p2p/16Uiu2HAmFcn9BXbNGVZVd8ALd7CoHNZJRut6y13j6uYPRAcp4TPA --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.12.156 waku 1bb7f4d394249041d95c66fc42e7424925b30fbfe0dd610700b787faa4298aff
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 1bb7f4d39424. Setting up logs at ./log/docker/store_node1_2025-02-01_03-11-58__5221180d-ddc2-4f3a-8698-06581585f6c6__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 14367
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14367/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QKjrThG15Sx-okuJ8CY-0YWAETZFOnyTDoQYHmPxpNdrBpT3n6DFhKlBC7L8M0-mx2M1wE4E2NQPHEMjPofN2BiGAZS_fmpegmlkgnY0gmlwhKwRAAWCcnODAAMAiXNlY3AyNTZrMaEDvawX2AnmAjT38aghxbkJXaFG6zP2WH7eEaTnIhn7oE-DdGNwgjggg3VkcII4IoV3YWt1MgM","listenAddresses":["/ip4/127.0.0.1/tcp/14368/p2p/16Uiu2HAmRRPc5KqYua3fw7Q5QhFt693ZupedRZM57JGuho3qx2NJ","/ip4/127.0.0.1/tcp/14369/ws/p2p/16Uiu2HAmRRPc5KqYua3fw7Q5QhFt693ZupedRZM57JGuho3qx2NJ","/ip4/172.17.0.5/tcp/14368/p2p/16Uiu2HAmRRPc5KqYua3fw7Q5QhFt693ZupedRZM57JGuho3qx2NJ","/ip4/172.17.0.5/tcp/14369/ws/p2p/16Uiu2HAmRRPc5KqYua3fw7Q5QhFt693ZupedRZM57JGuho3qx2NJ"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14367/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.199.129/tcp/29036/p2p/16Uiu2HAmFcn9BXbNGVZVd8ALd7CoHNZJRut6y13j6uYPRAcp4TPA", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29035/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14367/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:38 Running test with content topic /myapp/1/latest/proto
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29035/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29035/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xe4997465880e4d0d5956239aee947249a8266d13566b41ac1b28ce5d7032730f"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14367/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"ce367ffdb2ffb7c063782e77f6bc3a2b84f465e16d20bb3de2b24f0c3386a45b","status_code":200,"status_desc":"OK","messages":[{"message_hash":"5Jl0ZYgOTQ1ZViOa7pRySagmbRNWa0GsGyjOXXAycw8="}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:44 ContentTopic /myapp/1/latest/proto failed: Message hash at index -1 returned by store doesn't match the computed message hash 0xe4997465880e4d0d5956239aee947249a8266d13566b41ac1b28ce5d7032730f. Actual hash: 5Jl0ZYgOTQ1ZViOa7pRySagmbRNWa0GsGyjOXXAycw8=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:38 Running test with content topic /waku/2/content/test.js
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29035/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29035/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fwaku%2F2%2Fcontent%2Ftest.js&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xa60b648dde98dd57ada8b65469ade0edf0c2583f63a35b1b0aaebe0494036b37"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14367/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fwaku%2F2%2Fcontent%2Ftest.js&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"9213a36463d06ea77e997197ed3f2ef292382380c128cf189516afeb52b1cd2c","status_code":200,"status_desc":"OK","messages":[{"message_hash":"pgtkjd6Y3VetqLZUaa3g7fDCWD9jo1sbCq6+BJQDazc="}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:44 ContentTopic /waku/2/content/test.js failed: Message hash at index -1 returned by store doesn't match the computed message hash 0xa60b648dde98dd57ada8b65469ade0edf0c2583f63a35b1b0aaebe0494036b37. Actual hash: pgtkjd6Y3VetqLZUaa3g7fDCWD9jo1sbCq6+BJQDazc=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:38 Running test with content topic /app/22/sometopic/someencoding
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29035/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29035/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F22%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xd8c206055591458d93501d300abfc0f37f193f8c3f97149226be608606e2a2c2"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14367/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F22%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"d0e7eb3e387267e6ef2cceafdc35fe76d936f813af136fa5ba325724569254c1","status_code":200,"status_desc":"OK","messages":[{"message_hash":"2MIGBVWRRY2TUB0wCr/A838ZP4w/lxSSJr5ghgbiosI="}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:44 ContentTopic /app/22/sometopic/someencoding failed: Message hash at index -1 returned by store doesn't match the computed message hash 0xd8c206055591458d93501d300abfc0f37f193f8c3f97149226be608606e2a2c2. Actual hash: 2MIGBVWRRY2TUB0wCr/A838ZP4w/lxSSJr5ghgbiosI=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:38 Running test with content topic /toychat/2/huilong/proto
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29035/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29035/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Ftoychat%2F2%2Fhuilong%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xb4c6aab316bb302964cb885b2bdf02d8078cab3e1952732ae872f884f6670fb9"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14367/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Ftoychat%2F2%2Fhuilong%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"0e464f5af5aa3d53eaa5be8d81bba7dad95e2c88c40046bc6ddca34349065158","status_code":200,"status_desc":"OK","messages":[{"message_hash":"tMaqsxa7MClky4hbK98C2AeMqz4ZUnMq6HL4hPZnD7k="}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:44 ContentTopic /toychat/2/huilong/proto failed: Message hash at index -1 returned by store doesn't match the computed message hash 0xb4c6aab316bb302964cb885b2bdf02d8078cab3e1952732ae872f884f6670fb9. Actual hash: tMaqsxa7MClky4hbK98C2AeMqz4ZUnMq6HL4hPZnD7k=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:38 Running test with content topic /statusim/1/community/cbor
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29035/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29035/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fstatusim%2F1%2Fcommunity%2Fcbor&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x6c60b095c1f32418db6af61c4f98982e191bae9a4b16c1fa8e407e84a97b27c1"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14367/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fstatusim%2F1%2Fcommunity%2Fcbor&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"fc291be3d08e5c8510b1337818b314f20eda77724ce4274fd9246d699a21d106","status_code":200,"status_desc":"OK","messages":[{"message_hash":"bGCwlcHzJBjbavYcT5iYLhkbrppLFsH6jkB+hKl7J8E="}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:44 ContentTopic /statusim/1/community/cbor failed: Message hash at index -1 returned by store doesn't match the computed message hash 0x6c60b095c1f32418db6af61c4f98982e191bae9a4b16c1fa8e407e84a97b27c1. Actual hash: bGCwlcHzJBjbavYcT5iYLhkbrppLFsH6jkB+hKl7J8E=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:38 Running test with content topic /app/27/sometopic/someencoding
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29035/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29035/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F27%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x7a8f5a26216c867622a06adc555bbe6174d4d8d192f1549c85c6e2ca9ff8fbd2"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14367/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F27%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"2dd205b8c441e20332c7ef25f79aaed17448654629b7afa6f21810aec27633ea","status_code":200,"status_desc":"OK","messages":[{"message_hash":"eo9aJiFshnYioGrcVVu+YXTU2NGS8VSchcbiyp/4+9I="}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:44 ContentTopic /app/27/sometopic/someencoding failed: Message hash at index -1 returned by store doesn't match the computed message hash 0x7a8f5a26216c867622a06adc555bbe6174d4d8d192f1549c85c6e2ca9ff8fbd2. Actual hash: eo9aJiFshnYioGrcVVu+YXTU2NGS8VSchcbiyp/4+9I=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:38 Running test with content topic /app/29/sometopic/someencoding
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29035/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29035/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F29%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xe6c23936160a66e2cf5c75877adf4e01c31b6cc96cecc081e2e95e7449d8ed84"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14367/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F29%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"afc3c71e817c7c8961e5971fe81cc9275236735a7465daa3eff1bcb0537be095","status_code":200,"status_desc":"OK","messages":[{"message_hash":"5sI5NhYKZuLPXHWHet9OAcMbbMls7MCB4uledEnY7YQ="}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:44 ContentTopic /app/29/sometopic/someencoding failed: Message hash at index -1 returned by store doesn't match the computed message hash 0xe6c23936160a66e2cf5c75877adf4e01c31b6cc96cecc081e2e95e7449d8ed84. Actual hash: 5sI5NhYKZuLPXHWHet9OAcMbbMls7MCB4uledEnY7YQ=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:38 Running test with content topic /app/20/sometopic/someencoding
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29035/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29035/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F20%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x68345ecd03894f3f402385be1253aced4b35e208970ceb92a03ab01ade1bf406"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14367/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F20%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"2b35feaacd6786ccf76c757aa0f71587e163cbc52e8647bae156f75ac23354dd","status_code":200,"status_desc":"OK","messages":[{"message_hash":"aDRezQOJTz9AI4W+ElOs7Us14giXDOuSoDqwGt4b9AY="}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:44 ContentTopic /app/20/sometopic/someencoding failed: Message hash at index -1 returned by store doesn't match the computed message hash 0x68345ecd03894f3f402385be1253aced4b35e208970ceb92a03ab01ade1bf406. Actual hash: aDRezQOJTz9AI4W+ElOs7Us14giXDOuSoDqwGt4b9AY=
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 09f1a8d08943
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 1bb7f4d39424
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:42 Attaching file ./log/docker/publishing_node1_2025-02-01_03-11-58__5221180d-ddc2-4f3a-8698-06581585f6c6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:42 Attaching file ./log/docker/store_node1_2025-02-01_03-11-58__5221180d-ddc2-4f3a-8698-06581585f6c6__wakuorg_go-waku:latest.log
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_get_store_messages_with_different_content_topics with id: 2025-02-01_03-12-05__ecd53623-0637-448b-a3d3-f04b58a93aa6
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-01_03-12-05__ecd53623-0637-448b-a3d3-f04b58a93aa6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.200.140
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['30800', '30801', '30802', '30803', '30804']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 30800:30800 -p 30801:30801 -p 30802:30802 -p 30803:30803 -p 30804:30804 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=30802 --rest-port=30800 --tcp-port=30801 --discv5-udp-port=30803 --rest-address=0.0.0.0 --nat=extip:172.18.200.140 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9aaecf5c917be75f12cbaa4b20cdf52f08ad87aa89df61bba36a42c86182a2ef --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=30804 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.200.140 waku 13634c5edba8c830284f7361bb51294e4d874bdfbacfc3f26b6c588dccd5daa9
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 09f1a8d08943. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 13634c5edba8. Setting up logs at ./log/docker/publishing_node1_2025-02-01_03-12-05__ecd53623-0637-448b-a3d3-f04b58a93aa6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 30800
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 1bb7f4d39424. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30800/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30800/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.200.140/tcp/30801/p2p/16Uiu2HAm7mbWPrUbmEhyrSetdVZRKQneNRJKxC6cM7YvfkcUhn7J","/ip4/172.18.200.140/tcp/30802/ws/p2p/16Uiu2HAm7mbWPrUbmEhyrSetdVZRKQneNRJKxC6cM7YvfkcUhn7J"],"enrUri":"enr:-L24QElJPLJ5mXS2Cc5vn8CFjAjPr8TRLJmQEdEE3Whuty8qecpd5lb_uiPp8UrtZNr216YhYichYmMhsSqlIAtQCvgCgmlkgnY0gmlwhKwSyIyKbXVsdGlhZGRyc5YACASsEsiMBnhRAAoErBLIjAZ4Ut0DgnJzhQADAQAAiXNlY3AyNTZrMaECt2bNZr6j7zXhBsftgbbwIXfqX2RoGgMciQsS1iDWW1GDdGNwgnhRg3VkcIJ4U4V3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-01_03-12-05__ecd53623-0637-448b-a3d3-f04b58a93aa6__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.212.76
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['9315', '9316', '9317', '9318', '9319']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 9315:9315 -p 9316:9316 -p 9317:9317 -p 9318:9318 -p 9319:9319 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=9317 --rest-port=9315 --tcp-port=9316 --discv5-udp-port=9318 --rest-address=0.0.0.0 --nat=extip:172.18.212.76 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9a4be623ecdbc9d5a6e8aa8fe91074f6c4ee6fc3c1de93c5cd6d6cca78ba0413 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-L24QElJPLJ5mXS2Cc5vn8CFjAjPr8TRLJmQEdEE3Whuty8qecpd5lb_uiPp8UrtZNr216YhYichYmMhsSqlIAtQCvgCgmlkgnY0gmlwhKwSyIyKbXVsdGlhZGRyc5YACASsEsiMBnhRAAoErBLIjAZ4Ut0DgnJzhQADAQAAiXNlY3AyNTZrMaECt2bNZr6j7zXhBsftgbbwIXfqX2RoGgMciQsS1iDWW1GDdGNwgnhRg3VkcIJ4U4V3YWt1MgM --storenode=/ip4/172.18.200.140/tcp/30801/p2p/16Uiu2HAm7mbWPrUbmEhyrSetdVZRKQneNRJKxC6cM7YvfkcUhn7J --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.212.76 waku a2a562888e3f4673127625330161eb0beb11c07ff55e14a76bebc648b4449130
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID a2a562888e3f. Setting up logs at ./log/docker/store_node1_2025-02-01_03-12-05__ecd53623-0637-448b-a3d3-f04b58a93aa6__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 9315
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9315/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QIr0tU3wOJ0TPIri0sO02IdHVBVl3b8PhdKKhlYLvF7kKLUhhz9hsAOQlpR_bPtxvS3T5x1vm2STnkCIXH8WcB2GAZS_foKSgmlkgnY0gmlwhKwRAAWCcnODAAMAiXNlY3AyNTZrMaECETIb0KPqD6r9n4lLk8krcuZil2fVOdDR_ydhpndUzVKDdGNwgiRkg3VkcIIkZoV3YWt1MgM","listenAddresses":["/ip4/127.0.0.1/tcp/9316/p2p/16Uiu2HAkvaoE8aurYLtBC7VozjvXUTGAFvdHgYV8zwcTh4TF235T","/ip4/127.0.0.1/tcp/9317/ws/p2p/16Uiu2HAkvaoE8aurYLtBC7VozjvXUTGAFvdHgYV8zwcTh4TF235T","/ip4/172.17.0.5/tcp/9316/p2p/16Uiu2HAkvaoE8aurYLtBC7VozjvXUTGAFvdHgYV8zwcTh4TF235T","/ip4/172.17.0.5/tcp/9317/ws/p2p/16Uiu2HAkvaoE8aurYLtBC7VozjvXUTGAFvdHgYV8zwcTh4TF235T"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9315/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.200.140/tcp/30801/p2p/16Uiu2HAm7mbWPrUbmEhyrSetdVZRKQneNRJKxC6cM7YvfkcUhn7J", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30800/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9315/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:38 Running test with content topic /myapp/1/latest/proto
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30800/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30800/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xb258478849a67d3bdf291a0440ffa5aad7594f9a7f21a475898b76633b2fdaf4"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9315/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"effb86e5e91d92f4ef8643b52c7477418eb80193dd98596b552ddd486d17e5c8","status_code":200,"status_desc":"OK","messages":[{"message_hash":"slhHiEmmfTvfKRoEQP+lqtdZT5p/IaR1iYt2Yzsv2vQ="}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:44 ContentTopic /myapp/1/latest/proto failed: Message hash at index -1 returned by store doesn't match the computed message hash 0xb258478849a67d3bdf291a0440ffa5aad7594f9a7f21a475898b76633b2fdaf4. Actual hash: slhHiEmmfTvfKRoEQP+lqtdZT5p/IaR1iYt2Yzsv2vQ=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:38 Running test with content topic /waku/2/content/test.js
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30800/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30800/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fwaku%2F2%2Fcontent%2Ftest.js&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xa637d3240d7367f430736a680d76efbeb16d7e9fb03b7e77222d4f1b446188f7"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9315/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fwaku%2F2%2Fcontent%2Ftest.js&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"1a95a0e12545fa1b87829562b73a545e6a64e79c3adc71c933175aae5d00af20","status_code":200,"status_desc":"OK","messages":[{"message_hash":"pjfTJA1zZ/Qwc2poDXbvvrFtfp+wO353Ii1PG0RhiPc="}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:44 ContentTopic /waku/2/content/test.js failed: Message hash at index -1 returned by store doesn't match the computed message hash 0xa637d3240d7367f430736a680d76efbeb16d7e9fb03b7e77222d4f1b446188f7. Actual hash: pjfTJA1zZ/Qwc2poDXbvvrFtfp+wO353Ii1PG0RhiPc=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:38 Running test with content topic /app/22/sometopic/someencoding
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30800/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30800/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F22%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x8142fe2f34feeeb07cf9d7e0ec20ac1693e587e7ffc338293cf4b04e47fa515e"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9315/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F22%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"225579442ed674bbacf0689ff974a0ff94c8a584572c49a9ef4a4f140ac72cd5","status_code":200,"status_desc":"OK","messages":[{"message_hash":"gUL+LzT+7rB8+dfg7CCsFpPlh+f/wzgpPPSwTkf6UV4="}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:44 ContentTopic /app/22/sometopic/someencoding failed: Message hash at index -1 returned by store doesn't match the computed message hash 0x8142fe2f34feeeb07cf9d7e0ec20ac1693e587e7ffc338293cf4b04e47fa515e. Actual hash: gUL+LzT+7rB8+dfg7CCsFpPlh+f/wzgpPPSwTkf6UV4=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:38 Running test with content topic /toychat/2/huilong/proto
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30800/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30800/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Ftoychat%2F2%2Fhuilong%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x834c07ad62f50b5a5a61125cb3949d00ea57817ad9688c5831414de43400d264"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9315/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Ftoychat%2F2%2Fhuilong%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"0da7ec31909e43e5b9dd8b4267a40f7f53866e8e6c163d12168062af9812d52f","status_code":200,"status_desc":"OK","messages":[{"message_hash":"g0wHrWL1C1paYRJcs5SdAOpXgXrZaIxYMUFN5DQA0mQ="}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:44 ContentTopic /toychat/2/huilong/proto failed: Message hash at index -1 returned by store doesn't match the computed message hash 0x834c07ad62f50b5a5a61125cb3949d00ea57817ad9688c5831414de43400d264. Actual hash: g0wHrWL1C1paYRJcs5SdAOpXgXrZaIxYMUFN5DQA0mQ=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:38 Running test with content topic /statusim/1/community/cbor
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30800/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30800/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fstatusim%2F1%2Fcommunity%2Fcbor&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xfed09d604a987785cb9fd27f8cc63910a86f8a9b59dc40d7a1fbdf35aeadf845"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9315/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fstatusim%2F1%2Fcommunity%2Fcbor&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"99cde6c2a8e37f5dde68dd48eb8217e961b5a653244e2b09f1208e84a5379e58","status_code":200,"status_desc":"OK","messages":[{"message_hash":"/tCdYEqYd4XLn9J/jMY5EKhviptZ3EDXofvfNa6t+EU="}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:44 ContentTopic /statusim/1/community/cbor failed: Message hash at index -1 returned by store doesn't match the computed message hash 0xfed09d604a987785cb9fd27f8cc63910a86f8a9b59dc40d7a1fbdf35aeadf845. Actual hash: /tCdYEqYd4XLn9J/jMY5EKhviptZ3EDXofvfNa6t+EU=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:38 Running test with content topic /app/27/sometopic/someencoding
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30800/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30800/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F27%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xdb8d92ea3f411cbdddcafef5e4e66b349ede59b526fb9af8ced3f462c8d31283"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9315/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F27%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"e0c44c6acf5617cdcb87eb470d2075064c6f3af453c144cf233d107b813087d2","status_code":200,"status_desc":"OK","messages":[{"message_hash":"242S6j9BHL3dyv715OZrNJ7eWbUm+5r4ztP0YsjTEoM="}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:44 ContentTopic /app/27/sometopic/someencoding failed: Message hash at index -1 returned by store doesn't match the computed message hash 0xdb8d92ea3f411cbdddcafef5e4e66b349ede59b526fb9af8ced3f462c8d31283. Actual hash: 242S6j9BHL3dyv715OZrNJ7eWbUm+5r4ztP0YsjTEoM=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:38 Running test with content topic /app/29/sometopic/someencoding
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30800/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30800/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F29%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x978058271045d0fad4e668c7572b017f87573a821e7f752f2febd81fbfe01382"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9315/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F29%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"77a587fec936d8ddfa3117af585751accf7282d849a78785bfdeceb2cfbb79a5","status_code":200,"status_desc":"OK","messages":[{"message_hash":"l4BYJxBF0PrU5mjHVysBf4dXOoIef3UvL+vYH7/gE4I="}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:44 ContentTopic /app/29/sometopic/someencoding failed: Message hash at index -1 returned by store doesn't match the computed message hash 0x978058271045d0fad4e668c7572b017f87573a821e7f752f2febd81fbfe01382. Actual hash: l4BYJxBF0PrU5mjHVysBf4dXOoIef3UvL+vYH7/gE4I=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:38 Running test with content topic /app/20/sometopic/someencoding
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30800/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30800/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F20%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x1d983d4c34ecd9cd2babf51adae04891a0ee48a31240b92b83c0df8ad4a69c5b"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9315/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F20%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"303c76d8e609efeb9a7ce13d18a266eadc6a7577d093eb5d8d33a974e8b06fc6","status_code":200,"status_desc":"OK","messages":[{"message_hash":"HZg9TDTs2c0rq/Ua2uBIkaDuSKMSQLkrg8DfitSmnFs="}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:44 ContentTopic /app/20/sometopic/someencoding failed: Message hash at index -1 returned by store doesn't match the computed message hash 0x1d983d4c34ecd9cd2babf51adae04891a0ee48a31240b92b83c0df8ad4a69c5b. Actual hash: HZg9TDTs2c0rq/Ua2uBIkaDuSKMSQLkrg8DfitSmnFs=
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 13634c5edba8
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id a2a562888e3f
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:42 Attaching file ./log/docker/store_node1_2025-02-01_03-12-05__ecd53623-0637-448b-a3d3-f04b58a93aa6__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:42 Attaching file ./log/docker/publishing_node1_2025-02-01_03-12-05__ecd53623-0637-448b-a3d3-f04b58a93aa6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_get_store_messages_with_different_content_topics with id: 2025-02-01_03-12-11__220d2943-8bcd-41ed-a27d-2a2e0e8b3e5c
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-01_03-12-11__220d2943-8bcd-41ed-a27d-2a2e0e8b3e5c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.131.47
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['54425', '54426', '54427', '54428', '54429']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 54425:54425 -p 54426:54426 -p 54427:54427 -p 54428:54428 -p 54429:54429 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=54427 --rest-port=54425 --tcp-port=54426 --discv5-udp-port=54428 --rest-address=0.0.0.0 --nat=extip:172.18.131.47 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c3bbfbde6fdf61d16c50c0210ca1ad82dc62caab94eebacb6b5e9f7b592ce3fe --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=54429 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.131.47 waku 7f10cc1707790d2828fd86b3bc0152ed7e3bcc816bcc1c560ee25ddfb06f9a7a
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 13634c5edba8. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 7f10cc170779. Setting up logs at ./log/docker/publishing_node1_2025-02-01_03-12-11__220d2943-8bcd-41ed-a27d-2a2e0e8b3e5c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 54425
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container a2a562888e3f. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54425/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54425/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.131.47/tcp/54426/p2p/16Uiu2HAmEWX5NA57TfhJZvFcbutSt4yggMHGCN6PV72SguSNSX67","/ip4/172.18.131.47/tcp/54427/ws/p2p/16Uiu2HAmEWX5NA57TfhJZvFcbutSt4yggMHGCN6PV72SguSNSX67"],"enrUri":"enr:-L24QPifx5v3huFenlhM5rs2oqxgr3DiXWPYQITHYt8lik3oAzxBbL_IG03J7vZJKVuNflsfTR64Hxb-9PGTeC1GVLYCgmlkgnY0gmlwhKwSgy-KbXVsdGlhZGRyc5YACASsEoMvBtSaAAoErBKDLwbUm90DgnJzhQADAQAAiXNlY3AyNTZrMaEDG4vjUBApkKxRmtpRpqdwU5jF2TKg8fH8f6cixmct0biDdGNwgtSag3VkcILUnIV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-01_03-12-11__220d2943-8bcd-41ed-a27d-2a2e0e8b3e5c__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.69.50
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['34342', '34343', '34344', '34345', '34346']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 34342:34342 -p 34343:34343 -p 34344:34344 -p 34345:34345 -p 34346:34346 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=34344 --rest-port=34342 --tcp-port=34343 --discv5-udp-port=34345 --rest-address=0.0.0.0 --nat=extip:172.18.69.50 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6feacebfffbaccf83428a083bb84cbada50e9ecebbecd4dfdbc8f40abcdbd6ae --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-L24QPifx5v3huFenlhM5rs2oqxgr3DiXWPYQITHYt8lik3oAzxBbL_IG03J7vZJKVuNflsfTR64Hxb-9PGTeC1GVLYCgmlkgnY0gmlwhKwSgy-KbXVsdGlhZGRyc5YACASsEoMvBtSaAAoErBKDLwbUm90DgnJzhQADAQAAiXNlY3AyNTZrMaEDG4vjUBApkKxRmtpRpqdwU5jF2TKg8fH8f6cixmct0biDdGNwgtSag3VkcILUnIV3YWt1MgM --storenode=/ip4/172.18.131.47/tcp/54426/p2p/16Uiu2HAmEWX5NA57TfhJZvFcbutSt4yggMHGCN6PV72SguSNSX67 --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.69.50 waku 1e090c138b55a7510b30e05160a6ade6ccac19ce4ed6ce807332f10e1d1978ae
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 1e090c138b55. Setting up logs at ./log/docker/store_node1_2025-02-01_03-12-11__220d2943-8bcd-41ed-a27d-2a2e0e8b3e5c__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 34342
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34342/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QIMlAluG-JmL-fyS__9kp8zDvnUUcuC6jgc688-HM20ZSNMtBJ54KlTAa7IMbwEou2erlPIFaP57HiFjh3Cdz82GAZS_fpuSgmlkgnY0gmlwhKwRAAWCcnODAAMAiXNlY3AyNTZrMaECYIJHbPcwiEd5EjJdxhrQ0GfFWnpTKtcpLrx_tk6o-iGDdGNwgoYng3VkcIKGKYV3YWt1MgM","listenAddresses":["/ip4/127.0.0.1/tcp/34343/p2p/16Uiu2HAm1vQLadZ2N4k5s837XMFczU6aNKLaJ6S9id1Qt4GsKkGY","/ip4/127.0.0.1/tcp/34344/ws/p2p/16Uiu2HAm1vQLadZ2N4k5s837XMFczU6aNKLaJ6S9id1Qt4GsKkGY","/ip4/172.17.0.5/tcp/34343/p2p/16Uiu2HAm1vQLadZ2N4k5s837XMFczU6aNKLaJ6S9id1Qt4GsKkGY","/ip4/172.17.0.5/tcp/34344/ws/p2p/16Uiu2HAm1vQLadZ2N4k5s837XMFczU6aNKLaJ6S9id1Qt4GsKkGY"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34342/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.131.47/tcp/54426/p2p/16Uiu2HAmEWX5NA57TfhJZvFcbutSt4yggMHGCN6PV72SguSNSX67", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54425/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34342/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:38 Running test with content topic /myapp/1/latest/proto
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54425/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54425/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xbe7f8e1ce95c01dff162d74becd7bf7ceed94a71169a201330c6aace867da3f7"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34342/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"e40e9026dc5d2cdcf59d0cc476a1bdddc8db14c2724b1b58476c2e7d7034ee8c","status_code":200,"status_desc":"OK","messages":[{"message_hash":"vn+OHOlcAd/xYtdL7Ne/fO7ZSnEWmiATMMaqzoZ9o/c="}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:44 ContentTopic /myapp/1/latest/proto failed: Message hash at index -1 returned by store doesn't match the computed message hash 0xbe7f8e1ce95c01dff162d74becd7bf7ceed94a71169a201330c6aace867da3f7. Actual hash: vn+OHOlcAd/xYtdL7Ne/fO7ZSnEWmiATMMaqzoZ9o/c=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:38 Running test with content topic /waku/2/content/test.js
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54425/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54425/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fwaku%2F2%2Fcontent%2Ftest.js&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x01b1144bf6df019192d1e0d93fae16a0b72b734e5b2ef97606599755e730c188"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34342/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fwaku%2F2%2Fcontent%2Ftest.js&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"b97be3d387914bb87b60ee3c7ca211d1474fb2fef571192c50b38c1cab6b7c1b","status_code":200,"status_desc":"OK","messages":[{"message_hash":"AbEUS/bfAZGS0eDZP64WoLcrc05bLvl2BlmXVecwwYg="}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:44 ContentTopic /waku/2/content/test.js failed: Message hash at index -1 returned by store doesn't match the computed message hash 0x01b1144bf6df019192d1e0d93fae16a0b72b734e5b2ef97606599755e730c188. Actual hash: AbEUS/bfAZGS0eDZP64WoLcrc05bLvl2BlmXVecwwYg=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:38 Running test with content topic /app/22/sometopic/someencoding
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54425/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54425/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F22%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x740cba3c0299d1a9503dd0bdde5124cfcea30c6e3a3bbaf6fb16ae1cdd8d7e11"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34342/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F22%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"38841142ec0677b530ecc3d8e1dfbd65859b7648286e457ae313dfaf5260c669","status_code":200,"status_desc":"OK","messages":[{"message_hash":"dAy6PAKZ0alQPdC93lEkz86jDG46O7r2+xauHN2NfhE="}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:44 ContentTopic /app/22/sometopic/someencoding failed: Message hash at index -1 returned by store doesn't match the computed message hash 0x740cba3c0299d1a9503dd0bdde5124cfcea30c6e3a3bbaf6fb16ae1cdd8d7e11. Actual hash: dAy6PAKZ0alQPdC93lEkz86jDG46O7r2+xauHN2NfhE=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:38 Running test with content topic /toychat/2/huilong/proto
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54425/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54425/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Ftoychat%2F2%2Fhuilong%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x6ab1c5f1f4b9ffc3fb63a8a62fd9e4f4cd949d902f09c4e28b571709a8610ccd"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34342/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Ftoychat%2F2%2Fhuilong%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"81215d3dcf4ae98d396f3369d094bbeae70ec15fc02846e87bcad00eaf20056c","status_code":200,"status_desc":"OK","messages":[{"message_hash":"arHF8fS5/8P7Y6imL9nk9M2UnZAvCcTii1cXCahhDM0="}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:44 ContentTopic /toychat/2/huilong/proto failed: Message hash at index -1 returned by store doesn't match the computed message hash 0x6ab1c5f1f4b9ffc3fb63a8a62fd9e4f4cd949d902f09c4e28b571709a8610ccd. Actual hash: arHF8fS5/8P7Y6imL9nk9M2UnZAvCcTii1cXCahhDM0=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:38 Running test with content topic /statusim/1/community/cbor
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54425/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54425/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fstatusim%2F1%2Fcommunity%2Fcbor&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x8d23b7eb53aef4d8a05ee3ef0bc1d37bd24261e824e903f1c41ae0a0a2e0201d"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34342/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fstatusim%2F1%2Fcommunity%2Fcbor&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"0feba03716b0d7251967167e6bb54481bcd96976e92f712b86dc27a837af5642","status_code":200,"status_desc":"OK","messages":[{"message_hash":"jSO361Ou9NigXuPvC8HTe9JCYegk6QPxxBrgoKLgIB0="}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:44 ContentTopic /statusim/1/community/cbor failed: Message hash at index -1 returned by store doesn't match the computed message hash 0x8d23b7eb53aef4d8a05ee3ef0bc1d37bd24261e824e903f1c41ae0a0a2e0201d. Actual hash: jSO361Ou9NigXuPvC8HTe9JCYegk6QPxxBrgoKLgIB0=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:38 Running test with content topic /app/27/sometopic/someencoding
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54425/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54425/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F27%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x638d355cecc01e3ec6c1aa8fbb14baa00848e7ace7032f2759fa6b2088eb29fc"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34342/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F27%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"79f130f3e78a4d170243a183cd0e01819d5a87340797a8f6a4b5e23833c97254","status_code":200,"status_desc":"OK","messages":[{"message_hash":"Y401XOzAHj7GwaqPuxS6oAhI56znAy8nWfprIIjrKfw="}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:44 ContentTopic /app/27/sometopic/someencoding failed: Message hash at index -1 returned by store doesn't match the computed message hash 0x638d355cecc01e3ec6c1aa8fbb14baa00848e7ace7032f2759fa6b2088eb29fc. Actual hash: Y401XOzAHj7GwaqPuxS6oAhI56znAy8nWfprIIjrKfw=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:38 Running test with content topic /app/29/sometopic/someencoding
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54425/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54425/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F29%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x5c4c442eb5077cae0a831c6fd28324c7a28aac57ccfc8e9b8c86113aa5bbc28f"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34342/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F29%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"a9adf26bb15aa2588987f383e877a5f247a4613ab58f3dcfb8ea9327cdb25eef","status_code":200,"status_desc":"OK","messages":[{"message_hash":"XExELrUHfK4Kgxxv0oMkx6KKrFfM/I6bjIYROqW7wo8="}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:44 ContentTopic /app/29/sometopic/someencoding failed: Message hash at index -1 returned by store doesn't match the computed message hash 0x5c4c442eb5077cae0a831c6fd28324c7a28aac57ccfc8e9b8c86113aa5bbc28f. Actual hash: XExELrUHfK4Kgxxv0oMkx6KKrFfM/I6bjIYROqW7wo8=
[35mDEBUG   [0m tests.store.test_get_messages:test_get_messages.py:38 Running test with content topic /app/20/sometopic/someencoding
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54425/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/nwaku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54425/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F20%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x02948ac4ba6a67f2a1982b4f12bc2e9c2f949cdf5afe54cad85afc0d3bca9b36"}]}'
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer wakuorg/go-waku:latest can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34342/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F20%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"request_id":"cd518bbc0b65c0f6c1e74a700c1468ab974fdb2bc0d58211b76bad8a8d5a2b7d","status_code":200,"status_desc":"OK","messages":[{"message_hash":"ApSKxLpqZ/KhmCtPErwunC+UnN9a/lTK2Fr8DTvKmzY="}]}'
[1m[31mERROR   [0m tests.store.test_get_messages:test_get_messages.py:44 ContentTopic /app/20/sometopic/someencoding failed: Message hash at index -1 returned by store doesn't match the computed message hash 0x02948ac4ba6a67f2a1982b4f12bc2e9c2f949cdf5afe54cad85afc0d3bca9b36. Actual hash: ApSKxLpqZ/KhmCtPErwunC+UnN9a/lTK2Fr8DTvKmzY=
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 7f10cc170779
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 1e090c138b55
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:42 Attaching file ./log/docker/store_node1_2025-02-01_03-12-11__220d2943-8bcd-41ed-a27d-2a2e0e8b3e5c__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:42 Attaching file ./log/docker/publishing_node1_2025-02-01_03-12-11__220d2943-8bcd-41ed-a27d-2a2e0e8b3e5c__wakuorg_nwaku:latest.log