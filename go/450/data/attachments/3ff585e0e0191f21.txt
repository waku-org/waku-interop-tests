[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_static_sharding_multiple_shards with id: 2025-02-01_03-09-37__01cee1a1-bd35-434c-b28a-12eef219e896
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.sharding:sharding.py:29 Running fixture setup: sharding_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-02-01_03-09-37__01cee1a1-bd35-434c-b28a-12eef219e896__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.232.234
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['11904', '11905', '11906', '11907', '11908']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:72 Cluster id was resolved to: 2
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 11904:11904 -p 11905:11905 -p 11906:11906 -p 11907:11907 -p 11908:11908 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=11906 --rest-port=11904 --tcp-port=11905 --discv5-udp-port=11907 --rest-address=0.0.0.0 --nat=extip:172.18.232.234 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=dfb97031f060aaa92fb5e287b0469dbf379b62c83e1242afe5cab4ba9feca0cb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=11908 --metrics-logging=true --relay=true --filter=true --pubsub-topic=/waku/2/rs/2/0 --pubsub-topic=/waku/2/rs/2/1 --pubsub-topic=/waku/2/rs/2/2 --pubsub-topic=/waku/2/rs/2/3 --pubsub-topic=/waku/2/rs/2/4 --pubsub-topic=/waku/2/rs/2/5 --pubsub-topic=/waku/2/rs/2/6 --pubsub-topic=/waku/2/rs/2/7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.232.234 waku 3dfa13fdaad48a3cf5685be4e226f165629dcb6546cf9a3e844754f7bcd5029c
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container d7b782b3e1ab. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 3dfa13fdaad4. Setting up logs at ./log/docker/node1_2025-02-01_03-09-37__01cee1a1-bd35-434c-b28a-12eef219e896__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 11904
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container ead0b7eb60dc. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11904/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11904/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.232.234/tcp/11905/p2p/16Uiu2HAmBTFPFEVstgG3AYovzAYWt5Ae7Qeg97jePSmKzB9C66qi","/ip4/172.18.232.234/tcp/11906/ws/p2p/16Uiu2HAmBTFPFEVstgG3AYovzAYWt5Ae7Qeg97jePSmKzB9C66qi"],"enrUri":"enr:-Mu4QLDjDUPWJdmrvHqKdEDN2DQ8GPFoi7oWA3ZKGw8LcuhzJxeWapikBiHNaFmGZyaAzvNQidj4ReMuTsvyostA2XkCgmlkgnY0gmlwhKwS6OqKbXVsdGlhZGRyc5YACASsEujqBi6BAAoErBLo6gYugt0DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQLuIleRESj_7nhTJovhuPrFBfMSnw3lxLVeygNARZiPNYN0Y3CCLoGDdWRwgi6DhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-02-01_03-09-37__01cee1a1-bd35-434c-b28a-12eef219e896__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.79.81
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['65272', '65273', '65274', '65275', '65276']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:72 Cluster id was resolved to: 2
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 65272:65272 -p 65273:65273 -p 65274:65274 -p 65275:65275 -p 65276:65276 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=65274 --rest-port=65272 --tcp-port=65273 --discv5-udp-port=65275 --rest-address=0.0.0.0 --nat=extip:172.18.79.81 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=24f46f6bccaa88da28e80fad17934ab0ebe8eb1fa3dd948bf0e0c3516e9de3a5 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-Mu4QLDjDUPWJdmrvHqKdEDN2DQ8GPFoi7oWA3ZKGw8LcuhzJxeWapikBiHNaFmGZyaAzvNQidj4ReMuTsvyostA2XkCgmlkgnY0gmlwhKwS6OqKbXVsdGlhZGRyc5YACASsEujqBi6BAAoErBLo6gYugt0DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQLuIleRESj_7nhTJovhuPrFBfMSnw3lxLVeygNARZiPNYN0Y3CCLoGDdWRwgi6DhXdha3UyBQ --filternode=/ip4/172.18.232.234/tcp/11905/p2p/16Uiu2HAmBTFPFEVstgG3AYovzAYWt5Ae7Qeg97jePSmKzB9C66qi --pubsub-topic=/waku/2/rs/3/1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.79.81 waku 8e511bdcb151c6d889e9ee117996010f3d66e947cad5f0dc888f5cd91996c28b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 8e511bdcb151. Setting up logs at ./log/docker/node2_2025-02-01_03-09-37__01cee1a1-bd35-434c-b28a-12eef219e896__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 65272
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:65272/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QPdMYr8KguP_oLb4lBLq9r-nzMmzo_h5-2P2xGJD5KtcfTFYJHOv4SyWc63kNuY3Yi13m3yhKV0y7Boc_2mhHi2GAZS_fD_ngmlkgnY0gmlwhKwRAAOCcnOFAAIBAAGJc2VjcDI1NmsxoQKYTCEiYp_1ezoMxvPst21_RTH0-jbF5KhmA7ULHGPHPoN0Y3CC_vmDdWRwgv77hXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/65273/p2p/16Uiu2HAm5gBH9sU4S34AHcRxDnWobPuToTA2oavJTRURQzv97FJV","/ip4/127.0.0.1/tcp/65274/ws/p2p/16Uiu2HAm5gBH9sU4S34AHcRxDnWobPuToTA2oavJTRURQzv97FJV","/ip4/172.17.0.3/tcp/65273/p2p/16Uiu2HAm5gBH9sU4S34AHcRxDnWobPuToTA2oavJTRURQzv97FJV","/ip4/172.17.0.3/tcp/65274/ws/p2p/16Uiu2HAm5gBH9sU4S34AHcRxDnWobPuToTA2oavJTRURQzv97FJV"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:65272/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.232.234/tcp/11905/p2p/16Uiu2HAmBTFPFEVstgG3AYovzAYWt5Ae7Qeg97jePSmKzB9C66qi", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11904/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2", "/waku/2/rs/2/3", "/waku/2/rs/2/4", "/waku/2/rs/2/5", "/waku/2/rs/2/6", "/waku/2/rs/2/7"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:65272/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1980db5a-b7ef-44db-b80d-95c085a1304c", "contentFilters": ["/myapp/1/latest/proto"], "pubsubTopic": "/waku/2/rs/2/0"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"1980db5a-b7ef-44db-b80d-95c085a1304c","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:65272/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "0b8d3401-2f3d-4fe5-8262-2efaef81a25a", "contentFilters": ["/waku/2/content/test.js"], "pubsubTopic": "/waku/2/rs/2/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"0b8d3401-2f3d-4fe5-8262-2efaef81a25a","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:65272/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "ebed98c0-1ced-417e-b50d-a41e3ace0c94", "contentFilters": ["/app/22/sometopic/someencoding"], "pubsubTopic": "/waku/2/rs/2/2"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"ebed98c0-1ced-417e-b50d-a41e3ace0c94","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:65272/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "dc122d80-2a89-48f4-962e-0ceedc20c80e", "contentFilters": ["/toychat/2/huilong/proto"], "pubsubTopic": "/waku/2/rs/2/3"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"dc122d80-2a89-48f4-962e-0ceedc20c80e","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:65272/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "5578be83-ec9d-4f12-97e6-61ac1491b22a", "contentFilters": ["/statusim/1/community/cbor"], "pubsubTopic": "/waku/2/rs/2/4"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"5578be83-ec9d-4f12-97e6-61ac1491b22a","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:65272/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "924f7d38-f298-42f4-8513-f47f6e514a64", "contentFilters": ["/app/27/sometopic/someencoding"], "pubsubTopic": "/waku/2/rs/2/5"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"924f7d38-f298-42f4-8513-f47f6e514a64","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:65272/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "647036af-2898-41e1-a19e-fe874a90c6d3", "contentFilters": ["/app/29/sometopic/someencoding"], "pubsubTopic": "/waku/2/rs/2/6"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"647036af-2898-41e1-a19e-fe874a90c6d3","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:65272/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "6bdc1875-f370-4335-af2e-c6f20182d314", "contentFilters": ["/app/20/sometopic/someencoding"], "pubsubTopic": "/waku/2/rs/2/7"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"6bdc1875-f370-4335-af2e-c6f20182d314","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11904/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.sharding:sharding.py:186 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:65272/filter/v2/messages/%2Fwaku%2F2%2Frs%2F2%2F0/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738379379733343232,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11904/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.sharding:sharding.py:186 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:65272/filter/v2/messages/%2Fwaku%2F2%2Frs%2F2%2F1/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 3dfa13fdaad4
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 8e511bdcb151
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:42 Attaching file ./log/docker/node1_2025-02-01_03-09-37__01cee1a1-bd35-434c-b28a-12eef219e896__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:42 Attaching file ./log/docker/node2_2025-02-01_03-09-37__01cee1a1-bd35-434c-b28a-12eef219e896__wakuorg_go-waku:latest.log
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_static_sharding_multiple_shards with id: 2025-02-01_03-09-41__2c90a3f0-b348-40bb-889f-df389437368b
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.sharding:sharding.py:29 Running fixture setup: sharding_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-02-01_03-09-41__2c90a3f0-b348-40bb-889f-df389437368b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.76.43
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['2412', '2413', '2414', '2415', '2416']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:72 Cluster id was resolved to: 2
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 2412:2412 -p 2413:2413 -p 2414:2414 -p 2415:2415 -p 2416:2416 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=2414 --rest-port=2412 --tcp-port=2413 --discv5-udp-port=2415 --rest-address=0.0.0.0 --nat=extip:172.18.76.43 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=d870a0dda7b855e2b4400a753abdd16cef0bc4f6ee8081ff8b16da7e60dde2f9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=2416 --metrics-logging=true --relay=true --filter=true --pubsub-topic=/waku/2/rs/2/0 --pubsub-topic=/waku/2/rs/2/1 --pubsub-topic=/waku/2/rs/2/2 --pubsub-topic=/waku/2/rs/2/3 --pubsub-topic=/waku/2/rs/2/4 --pubsub-topic=/waku/2/rs/2/5 --pubsub-topic=/waku/2/rs/2/6 --pubsub-topic=/waku/2/rs/2/7
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 3dfa13fdaad4. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.76.43 waku 17192af91604e7195b900afcbcb9f0d860b91cbf87bd18a4c45f233d1a21ac8f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 17192af91604. Setting up logs at ./log/docker/node1_2025-02-01_03-09-41__2c90a3f0-b348-40bb-889f-df389437368b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 2412
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 8e511bdcb151. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2412/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2412/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.76.43/tcp/2413/p2p/16Uiu2HAmSn1xHjN8M5eNrx9dbNFuSu1QebtJSoUwbabCsoq4XsxD","/ip4/172.18.76.43/tcp/2414/ws/p2p/16Uiu2HAmSn1xHjN8M5eNrx9dbNFuSu1QebtJSoUwbabCsoq4XsxD"],"enrUri":"enr:-Mu4QKTxiFR9apn2m4F0c6O0mdleNlbxip3sOQRnIav8pWdEAP5Lt_o5mdrylX7JLUgoi0SpAG0PCXiFGfctvZCi5BkCgmlkgnY0gmlwhKwSTCuKbXVsdGlhZGRyc5YACASsEkwrBgltAAoErBJMKwYJbt0DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQPR0H7inl-h2CpZ37tMQLtRF9b_h_lbxssrlcbKBmsC6oN0Y3CCCW2DdWRwgglvhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-02-01_03-09-41__2c90a3f0-b348-40bb-889f-df389437368b__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.80.179
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['34431', '34432', '34433', '34434', '34435']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:72 Cluster id was resolved to: 2
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 34431:34431 -p 34432:34432 -p 34433:34433 -p 34434:34434 -p 34435:34435 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=34433 --rest-port=34431 --tcp-port=34432 --discv5-udp-port=34434 --rest-address=0.0.0.0 --nat=extip:172.18.80.179 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=0a4cf7608e7ca7722ca0bad7463fac7a63d7d7cdab618ca8efad9baeb2f7ca8b --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-Mu4QKTxiFR9apn2m4F0c6O0mdleNlbxip3sOQRnIav8pWdEAP5Lt_o5mdrylX7JLUgoi0SpAG0PCXiFGfctvZCi5BkCgmlkgnY0gmlwhKwSTCuKbXVsdGlhZGRyc5YACASsEkwrBgltAAoErBJMKwYJbt0DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQPR0H7inl-h2CpZ37tMQLtRF9b_h_lbxssrlcbKBmsC6oN0Y3CCCW2DdWRwgglvhXdha3UyBQ --filternode=/ip4/172.18.76.43/tcp/2413/p2p/16Uiu2HAmSn1xHjN8M5eNrx9dbNFuSu1QebtJSoUwbabCsoq4XsxD --pubsub-topic=/waku/2/rs/3/1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.80.179 waku ee7c6df46c3bac2ec304be9be8f6fd26aa2eb8beaf643b2d374cae1a88b420ea
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID ee7c6df46c3b. Setting up logs at ./log/docker/node2_2025-02-01_03-09-41__2c90a3f0-b348-40bb-889f-df389437368b__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 34431
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34431/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QDJIrdHp8aRhz28VNvK-y8x4wbK8JMQObyMkeYc3XCXKHj8Zc7x_mVOXBAKZisXif7iyYfQpXV21FkdnkOWz1dCGAZS_fFAPgmlkgnY0gmlwhKwRAAOCcnOFAAIBAAGJc2VjcDI1NmsxoQJ0yBE4Rq8i2Nl8PoFOxRfxCAFNwzMr5mPYYFbbVmBepIN0Y3CChoCDdWRwgoaChXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/34432/p2p/16Uiu2HAm3HYDLHJWwR7YyA9jLMcZ7YwwAouU25wi5Wxfz894d7to","/ip4/127.0.0.1/tcp/34433/ws/p2p/16Uiu2HAm3HYDLHJWwR7YyA9jLMcZ7YwwAouU25wi5Wxfz894d7to","/ip4/172.17.0.3/tcp/34432/p2p/16Uiu2HAm3HYDLHJWwR7YyA9jLMcZ7YwwAouU25wi5Wxfz894d7to","/ip4/172.17.0.3/tcp/34433/ws/p2p/16Uiu2HAm3HYDLHJWwR7YyA9jLMcZ7YwwAouU25wi5Wxfz894d7to"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34431/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.76.43/tcp/2413/p2p/16Uiu2HAmSn1xHjN8M5eNrx9dbNFuSu1QebtJSoUwbabCsoq4XsxD", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2412/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2", "/waku/2/rs/2/3", "/waku/2/rs/2/4", "/waku/2/rs/2/5", "/waku/2/rs/2/6", "/waku/2/rs/2/7"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34431/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "b6902776-9f87-45e7-82c2-aa85f58dbda5", "contentFilters": ["/myapp/1/latest/proto"], "pubsubTopic": "/waku/2/rs/2/0"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"b6902776-9f87-45e7-82c2-aa85f58dbda5","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34431/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "2244b2f2-2cfd-47cc-b913-f09c52a7d1f1", "contentFilters": ["/waku/2/content/test.js"], "pubsubTopic": "/waku/2/rs/2/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"2244b2f2-2cfd-47cc-b913-f09c52a7d1f1","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34431/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "330dc880-b02b-4877-9869-81009553271a", "contentFilters": ["/app/22/sometopic/someencoding"], "pubsubTopic": "/waku/2/rs/2/2"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"330dc880-b02b-4877-9869-81009553271a","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34431/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "75968f6a-d9d4-4e2e-b590-1b4360070181", "contentFilters": ["/toychat/2/huilong/proto"], "pubsubTopic": "/waku/2/rs/2/3"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"75968f6a-d9d4-4e2e-b590-1b4360070181","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34431/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "24df584b-af91-4687-92fb-2f697a9e7421", "contentFilters": ["/statusim/1/community/cbor"], "pubsubTopic": "/waku/2/rs/2/4"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"24df584b-af91-4687-92fb-2f697a9e7421","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34431/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "3bd0bd64-bb13-4945-bee5-a5957e1d929d", "contentFilters": ["/app/27/sometopic/someencoding"], "pubsubTopic": "/waku/2/rs/2/5"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"3bd0bd64-bb13-4945-bee5-a5957e1d929d","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34431/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "572420c8-684d-4a53-a802-ba9b2f69ac0a", "contentFilters": ["/app/29/sometopic/someencoding"], "pubsubTopic": "/waku/2/rs/2/6"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"572420c8-684d-4a53-a802-ba9b2f69ac0a","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34431/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "ec3e84b4-2b21-41ff-99e2-4a1d6f5220df", "contentFilters": ["/app/20/sometopic/someencoding"], "pubsubTopic": "/waku/2/rs/2/7"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"ec3e84b4-2b21-41ff-99e2-4a1d6f5220df","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2412/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.sharding:sharding.py:186 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34431/filter/v2/messages/%2Fwaku%2F2%2Frs%2F2%2F0/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738379383866968320,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2412/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.sharding:sharding.py:186 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34431/filter/v2/messages/%2Fwaku%2F2%2Frs%2F2%2F1/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 17192af91604
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id ee7c6df46c3b
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:42 Attaching file ./log/docker/node2_2025-02-01_03-09-41__2c90a3f0-b348-40bb-889f-df389437368b__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:42 Attaching file ./log/docker/node1_2025-02-01_03-09-41__2c90a3f0-b348-40bb-889f-df389437368b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_static_sharding_multiple_shards with id: 2025-02-01_03-09-45__8d6f5d98-b3a5-42c7-9784-3fc895cb7956
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.sharding:sharding.py:29 Running fixture setup: sharding_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-02-01_03-09-45__8d6f5d98-b3a5-42c7-9784-3fc895cb7956__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.178.30
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['1882', '1883', '1884', '1885', '1886']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:72 Cluster id was resolved to: 2
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 1882:1882 -p 1883:1883 -p 1884:1884 -p 1885:1885 -p 1886:1886 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=1884 --rest-port=1882 --tcp-port=1883 --discv5-udp-port=1885 --rest-address=0.0.0.0 --nat=extip:172.18.178.30 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=b26fab1d7bebe41c0ed5e4decfdf2969bacf26a55768d9ccb2b7759ea7e69ce2 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=1886 --metrics-logging=true --relay=true --filter=true --pubsub-topic=/waku/2/rs/2/0 --pubsub-topic=/waku/2/rs/2/1 --pubsub-topic=/waku/2/rs/2/2 --pubsub-topic=/waku/2/rs/2/3 --pubsub-topic=/waku/2/rs/2/4 --pubsub-topic=/waku/2/rs/2/5 --pubsub-topic=/waku/2/rs/2/6 --pubsub-topic=/waku/2/rs/2/7
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 17192af91604. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.178.30 waku 2e8e6e172d580f82e092537b5bbbd4654450e1fb634a780a1f185adfbb948104
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 2e8e6e172d58. Setting up logs at ./log/docker/node1_2025-02-01_03-09-45__8d6f5d98-b3a5-42c7-9784-3fc895cb7956__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 1882
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container ee7c6df46c3b. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1882/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1882/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.178.30/tcp/1883/p2p/16Uiu2HAmNhTJYAyKD7Bs9ipnEUdYStriFJPKhE54XiTpDTjC73jr","/ip4/172.18.178.30/tcp/1884/ws/p2p/16Uiu2HAmNhTJYAyKD7Bs9ipnEUdYStriFJPKhE54XiTpDTjC73jr"],"enrUri":"enr:-Mu4QPWx3O6NOJrNwIbrfK17kPUNVTKzVUDz1BUTFJvnuJYySitTlGYMU9TsfaRA5Y2Cn-BU5QrfA_7RqPS7-5hdhokCgmlkgnY0gmlwhKwSsh6KbXVsdGlhZGRyc5YACASsErIeBgdbAAoErBKyHgYHXN0DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQOVNoGYuP35z1GMw1hgM8dF52sQgVkdikUi1fCUOJ70XYN0Y3CCB1uDdWRwggddhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-02-01_03-09-45__8d6f5d98-b3a5-42c7-9784-3fc895cb7956__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.158.18
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['38856', '38857', '38858', '38859', '38860']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:72 Cluster id was resolved to: 2
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 38856:38856 -p 38857:38857 -p 38858:38858 -p 38859:38859 -p 38860:38860 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=38858 --rest-port=38856 --tcp-port=38857 --discv5-udp-port=38859 --rest-address=0.0.0.0 --nat=extip:172.18.158.18 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=ce65981caf89b5d4f9edeffcdd48f9cfba6acaecd4d72e4ac82bc1c1419bc8cc --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-Mu4QPWx3O6NOJrNwIbrfK17kPUNVTKzVUDz1BUTFJvnuJYySitTlGYMU9TsfaRA5Y2Cn-BU5QrfA_7RqPS7-5hdhokCgmlkgnY0gmlwhKwSsh6KbXVsdGlhZGRyc5YACASsErIeBgdbAAoErBKyHgYHXN0DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQOVNoGYuP35z1GMw1hgM8dF52sQgVkdikUi1fCUOJ70XYN0Y3CCB1uDdWRwggddhXdha3UyBQ --filternode=/ip4/172.18.178.30/tcp/1883/p2p/16Uiu2HAmNhTJYAyKD7Bs9ipnEUdYStriFJPKhE54XiTpDTjC73jr --pubsub-topic=/waku/2/rs/3/1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.158.18 waku 799bc23adcdccbdfd172a0ff876c00e927b3b0e1a4e78760ecbd02aefa8300c9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 799bc23adcdc. Setting up logs at ./log/docker/node2_2025-02-01_03-09-45__8d6f5d98-b3a5-42c7-9784-3fc895cb7956__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 38856
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38856/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QGiX7OdIUaJt6arYHlPRUaseNHdpK5894ZBea2mYqNn3MxQIXNKKeXGoiWMMilO0aNJt7a5LbEwULcDacuzZmNWGAZS_fGAegmlkgnY0gmlwhKwRAAOCcnOFAAIBAAGJc2VjcDI1NmsxoQL3NDvP8aBHS2xflTvHP0iRprsJCkZKDjiyzQIN4Q4jm4N0Y3CCl8mDdWRwgpfLhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/38857/p2p/16Uiu2HAmC4espdoZtoHtetM9CUTNDxPJKUP3FvWYe1vg3uYtdLfc","/ip4/127.0.0.1/tcp/38858/ws/p2p/16Uiu2HAmC4espdoZtoHtetM9CUTNDxPJKUP3FvWYe1vg3uYtdLfc","/ip4/172.17.0.3/tcp/38857/p2p/16Uiu2HAmC4espdoZtoHtetM9CUTNDxPJKUP3FvWYe1vg3uYtdLfc","/ip4/172.17.0.3/tcp/38858/ws/p2p/16Uiu2HAmC4espdoZtoHtetM9CUTNDxPJKUP3FvWYe1vg3uYtdLfc"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38856/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.178.30/tcp/1883/p2p/16Uiu2HAmNhTJYAyKD7Bs9ipnEUdYStriFJPKhE54XiTpDTjC73jr", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1882/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2", "/waku/2/rs/2/3", "/waku/2/rs/2/4", "/waku/2/rs/2/5", "/waku/2/rs/2/6", "/waku/2/rs/2/7"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38856/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "8de6f587-bf90-4071-8cd6-00cbefb58b22", "contentFilters": ["/myapp/1/latest/proto"], "pubsubTopic": "/waku/2/rs/2/0"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"8de6f587-bf90-4071-8cd6-00cbefb58b22","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38856/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "d2a34e46-34bf-4902-a6d2-eea6ad664150", "contentFilters": ["/waku/2/content/test.js"], "pubsubTopic": "/waku/2/rs/2/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"d2a34e46-34bf-4902-a6d2-eea6ad664150","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38856/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "901b7650-c509-406f-a82a-17a989844b45", "contentFilters": ["/app/22/sometopic/someencoding"], "pubsubTopic": "/waku/2/rs/2/2"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"901b7650-c509-406f-a82a-17a989844b45","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38856/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "becbd822-5d13-4d40-a3f8-c5cb0b0c6253", "contentFilters": ["/toychat/2/huilong/proto"], "pubsubTopic": "/waku/2/rs/2/3"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"becbd822-5d13-4d40-a3f8-c5cb0b0c6253","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38856/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "5659a501-1e6c-4693-a49d-f2b84556bebf", "contentFilters": ["/statusim/1/community/cbor"], "pubsubTopic": "/waku/2/rs/2/4"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"5659a501-1e6c-4693-a49d-f2b84556bebf","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38856/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "4702e8c4-6667-43de-9954-8d5616d51765", "contentFilters": ["/app/27/sometopic/someencoding"], "pubsubTopic": "/waku/2/rs/2/5"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"4702e8c4-6667-43de-9954-8d5616d51765","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38856/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "d9fdc9b3-bd7c-4018-8191-24e169b73fbc", "contentFilters": ["/app/29/sometopic/someencoding"], "pubsubTopic": "/waku/2/rs/2/6"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"d9fdc9b3-bd7c-4018-8191-24e169b73fbc","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38856/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "f6582557-c5de-4fa4-a0df-aabe8308ace3", "contentFilters": ["/app/20/sometopic/someencoding"], "pubsubTopic": "/waku/2/rs/2/7"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"f6582557-c5de-4fa4-a0df-aabe8308ace3","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1882/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.sharding:sharding.py:186 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38856/filter/v2/messages/%2Fwaku%2F2%2Frs%2F2%2F0/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738379387977289728,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1882/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.sharding:sharding.py:186 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38856/filter/v2/messages/%2Fwaku%2F2%2Frs%2F2%2F1/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 2e8e6e172d58
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 799bc23adcdc
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:42 Attaching file ./log/docker/node2_2025-02-01_03-09-45__8d6f5d98-b3a5-42c7-9784-3fc895cb7956__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:42 Attaching file ./log/docker/node1_2025-02-01_03-09-45__8d6f5d98-b3a5-42c7-9784-3fc895cb7956__wakuorg_nwaku:latest.log