[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_update_subscription_add_101_new_content_topics with id: 2024-09-25_03-21-58__145e2fd8-9d6b-4664-b772-c860b80388fc
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-09-25_03-21-58__145e2fd8-9d6b-4664-b772-c860b80388fc__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.80.229
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['43220', '43221', '43222', '43223', '43224']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 43220:43220 -p 43221:43221 -p 43222:43222 -p 43223:43223 -p 43224:43224 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=43222 --rest-port=43220 --tcp-port=43221 --discv5-udp-port=43223 --rest-address=0.0.0.0 --nat=extip:172.18.80.229 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=70d52b7f43cf7f3be7165dcc1d044fd8d6bd7d191b86ff1d19d2cba4cc9c8447 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=43224 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.80.229 waku 8feab9c2f99a82049f499506d6f04c2fcba1bbc411d1f25b533c753c2a4fce17
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 8feab9c2f99a. Setting up logs at ./log/docker/node1_2024-09-25_03-21-58__145e2fd8-9d6b-4664-b772-c860b80388fc__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 43220
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43220/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43220/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.80.229/tcp/43221/p2p/16Uiu2HAmTs5qwNYJ5zC6YuajjvvvikRXywGvpX3aQgVyPHeccUzA","/ip4/172.18.80.229/tcp/43222/ws/p2p/16Uiu2HAmTs5qwNYJ5zC6YuajjvvvikRXywGvpX3aQgVyPHeccUzA"],"enrUri":"enr:-LO4QCW_KCBsV5u3zEFGjdd_ZWPFN7q5GcZdsFsg_z7b7qfjIu2oxqlvQK-XR2cpX_PIdv7_5S_5o8oMZplVq4oHH3YBgmlkgnY0gmlwhKwSUOWKbXVsdGlhZGRyc4wACgSsElDlBqjW3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPh-HxRidBIQ6zJuwZwsKbHBQt9s0d36CMw_ALgPYiLh4N0Y3CCqNWDdWRwgqjXhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-09-25_03-21-58__145e2fd8-9d6b-4664-b772-c860b80388fc__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.158.177
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['56851', '56852', '56853', '56854', '56855']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 56851:56851 -p 56852:56852 -p 56853:56853 -p 56854:56854 -p 56855:56855 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=56853 --rest-port=56851 --tcp-port=56852 --discv5-udp-port=56854 --rest-address=0.0.0.0 --nat=extip:172.18.158.177 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9bcae3a4c5eaedf65da7acf3035a68d7eed7adebbf2c80efe8ad6684efa2ff91 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-LO4QCW_KCBsV5u3zEFGjdd_ZWPFN7q5GcZdsFsg_z7b7qfjIu2oxqlvQK-XR2cpX_PIdv7_5S_5o8oMZplVq4oHH3YBgmlkgnY0gmlwhKwSUOWKbXVsdGlhZGRyc4wACgSsElDlBqjW3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPh-HxRidBIQ6zJuwZwsKbHBQt9s0d36CMw_ALgPYiLh4N0Y3CCqNWDdWRwgqjXhXdha3UyBQ --filternode=/ip4/172.18.80.229/tcp/43221/p2p/16Uiu2HAmTs5qwNYJ5zC6YuajjvvvikRXywGvpX3aQgVyPHeccUzA
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.95.168
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['58889', '58890', '58891', '58892', '58893']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 58889:58889 -p 58890:58890 -p 58891:58891 -p 58892:58892 -p 58893:58893 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=58891 --rest-port=58889 --tcp-port=58890 --discv5-udp-port=58892 --rest-address=0.0.0.0 --nat=extip:172.18.95.168 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8a9eefaa814c1e8effcb8350cd691cc239be02d8224dd60d3dd4c5a2cfffb7ac --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-LO4QCW_KCBsV5u3zEFGjdd_ZWPFN7q5GcZdsFsg_z7b7qfjIu2oxqlvQK-XR2cpX_PIdv7_5S_5o8oMZplVq4oHH3YBgmlkgnY0gmlwhKwSUOWKbXVsdGlhZGRyc4wACgSsElDlBqjW3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPh-HxRidBIQ6zJuwZwsKbHBQt9s0d36CMw_ALgPYiLh4N0Y3CCqNWDdWRwgqjXhXdha3UyBQ --filternode=/ip4/172.18.80.229/tcp/43221/p2p/16Uiu2HAmTs5qwNYJ5zC6YuajjvvvikRXywGvpX3aQgVyPHeccUzA
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.95.168 waku 0d3a1d26479c541f4af7f6a20ae24d76a74fce6409dbaba9cc718d6ff80c06da
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 0d3a1d26479c. Setting up logs at ./log/docker/node2_2024-09-25_03-21-58__145e2fd8-9d6b-4664-b772-c860b80388fc__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 58889
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58889/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QAC19LSrp3-mZeJYglTE5NM1To9s8DnsDKcNrC7K5RjoMzZIwiu6po2xM6hkifaGULzRwV6Y3sYb_KoHgQoLc12GAZInMzfcgmlkgnY0gmlwhKwRAAeJc2VjcDI1NmsxoQKsLv1g8s2tcvdfYdv5msaqtajQgnJ8QypTh0j_ucITT4N0Y3CC5gqDdWRwguYMhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/58890/p2p/16Uiu2HAm71ofMDX7yPz1z4y1qZqY2mauZq7zf93ZGpVuXWCJJsie","/ip4/127.0.0.1/tcp/58891/ws/p2p/16Uiu2HAm71ofMDX7yPz1z4y1qZqY2mauZq7zf93ZGpVuXWCJJsie","/ip4/172.17.0.7/tcp/58890/p2p/16Uiu2HAm71ofMDX7yPz1z4y1qZqY2mauZq7zf93ZGpVuXWCJJsie","/ip4/172.17.0.7/tcp/58891/ws/p2p/16Uiu2HAm71ofMDX7yPz1z4y1qZqY2mauZq7zf93ZGpVuXWCJJsie"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58889/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.80.229/tcp/43221/p2p/16Uiu2HAmTs5qwNYJ5zC6YuajjvvvikRXywGvpX3aQgVyPHeccUzA", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43220/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58889/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "af6b50a5-e82c-41cf-a2d8-8e7079a9abc6", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"af6b50a5-e82c-41cf-a2d8-8e7079a9abc6","statusDesc":"OK"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 8feab9c2f99a
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 0d3a1d26479c
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.