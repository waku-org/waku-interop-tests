[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-12-21_03-08-42__619f6b04-7819-418a-9619-1d5af4cf2b99
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-21_03-08-42__619f6b04-7819-418a-9619-1d5af4cf2b99__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.153.14
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['3088', '3089', '3090', '3091', '3092']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 3088:3088 -p 3089:3089 -p 3090:3090 -p 3091:3091 -p 3092:3092 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=3090 --rest-port=3088 --tcp-port=3089 --discv5-udp-port=3091 --rest-address=0.0.0.0 --nat=extip:172.18.153.14 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=37cafee07f204e8f04fe3744ced0eefee08dd3f61cabd4388dcef2ed34dbbd39 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=3092 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.153.14 waku 3bf92f14a45a6b0a497c284fe47aca313dd4148df47929da74da04969f57e42c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 3bf92f14a45a. Setting up logs at ./log/docker/node1_2024-12-21_03-08-42__619f6b04-7819-418a-9619-1d5af4cf2b99__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 3088
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 1fb5a7e19c75. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3088/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3088/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.153.14/tcp/3089/p2p/16Uiu2HAkyQuTuzC8GbzkRAH1rVMMwazgjYewXchVEUcq7ubPRMG2","/ip4/172.18.153.14/tcp/3090/ws/p2p/16Uiu2HAkyQuTuzC8GbzkRAH1rVMMwazgjYewXchVEUcq7ubPRMG2"],"enrUri":"enr:-L24QIw-aKTLAAcgpLpbLKWkWwQwOojHHJoxMu3ECUn0RtIXcjJnpL_y2yF3ff6nX55rMgIkaUVLm_A7ESiw3YF_z8ACgmlkgnY0gmlwhKwSmQ6KbXVsdGlhZGRyc5YACASsEpkOBgwRAAoErBKZDgYMEt0DgnJzhQADAQAAiXNlY3AyNTZrMaECOzxqDLA7JpjLqVrLxmRK4BjEgxuzqdQ8NLIYcwda8peDdGNwggwRg3VkcIIME4V3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-21_03-08-42__619f6b04-7819-418a-9619-1d5af4cf2b99__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.82.147
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['58341', '58342', '58343', '58344', '58345']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 58341:58341 -p 58342:58342 -p 58343:58343 -p 58344:58344 -p 58345:58345 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=58343 --rest-port=58341 --tcp-port=58342 --discv5-udp-port=58344 --rest-address=0.0.0.0 --nat=extip:172.18.82.147 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6b0ae99daf3e6c52f71283adfbd99d6a6c0ca47d7ab4af57363ebc01bc39b62f --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QIw-aKTLAAcgpLpbLKWkWwQwOojHHJoxMu3ECUn0RtIXcjJnpL_y2yF3ff6nX55rMgIkaUVLm_A7ESiw3YF_z8ACgmlkgnY0gmlwhKwSmQ6KbXVsdGlhZGRyc5YACASsEpkOBgwRAAoErBKZDgYMEt0DgnJzhQADAQAAiXNlY3AyNTZrMaECOzxqDLA7JpjLqVrLxmRK4BjEgxuzqdQ8NLIYcwda8peDdGNwggwRg3VkcIIME4V3YWt1MgU --filternode=/ip4/172.18.153.14/tcp/3089/p2p/16Uiu2HAkyQuTuzC8GbzkRAH1rVMMwazgjYewXchVEUcq7ubPRMG2 --pubsub-topic=/waku/2/rs/3/1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.82.147 waku 72d1edc1dce02e3d3d411e97fa926f3c3b0b3d69bebc6c564ace6b48bd56ea7e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 72d1edc1dce0. Setting up logs at ./log/docker/node2_2024-12-21_03-08-42__619f6b04-7819-418a-9619-1d5af4cf2b99__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 58341
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58341/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QLpoBa1da1_m95CjOIqLeC4OlU2H1psTC_i8vKOQXZ1cZM0DmpreyoKsufZ1ccqc2foxo9rN-sbab6T0ewVc6oGGAZPnMFQJgmlkgnY0gmlwhKwRAA-CcnOFAAMBAAGJc2VjcDI1NmsxoQOzsBhb3D7yAsSIG8WAUaPwpZEusi2b3DXx0oVZ2uYXdIN0Y3CC4-aDdWRwguPohXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/58342/p2p/16Uiu2HAmQkR4tuqeSSgUigkWQnUz6z2Xsu3NJpG1xzWhpiFN8L9H","/ip4/127.0.0.1/tcp/58343/ws/p2p/16Uiu2HAmQkR4tuqeSSgUigkWQnUz6z2Xsu3NJpG1xzWhpiFN8L9H","/ip4/172.17.0.15/tcp/58342/p2p/16Uiu2HAmQkR4tuqeSSgUigkWQnUz6z2Xsu3NJpG1xzWhpiFN8L9H","/ip4/172.17.0.15/tcp/58343/ws/p2p/16Uiu2HAmQkR4tuqeSSgUigkWQnUz6z2Xsu3NJpG1xzWhpiFN8L9H"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58341/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.153.14/tcp/3089/p2p/16Uiu2HAkyQuTuzC8GbzkRAH1rVMMwazgjYewXchVEUcq7ubPRMG2", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-12-21_03-08-42__619f6b04-7819-418a-9619-1d5af4cf2b99__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.163.40
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['18976', '18977', '18978', '18979', '18980']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 18976:18976 -p 18977:18977 -p 18978:18978 -p 18979:18979 -p 18980:18980 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=18978 --rest-port=18976 --tcp-port=18977 --discv5-udp-port=18979 --rest-address=0.0.0.0 --nat=extip:172.18.163.40 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=784d82ae5df43fb7cd2b2ef6f80e37f0cc86cffaa64cd6ccc2a4f760f6382ccf --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=18980 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QIw-aKTLAAcgpLpbLKWkWwQwOojHHJoxMu3ECUn0RtIXcjJnpL_y2yF3ff6nX55rMgIkaUVLm_A7ESiw3YF_z8ACgmlkgnY0gmlwhKwSmQ6KbXVsdGlhZGRyc5YACASsEpkOBgwRAAoErBKZDgYMEt0DgnJzhQADAQAAiXNlY3AyNTZrMaECOzxqDLA7JpjLqVrLxmRK4BjEgxuzqdQ8NLIYcwda8peDdGNwggwRg3VkcIIME4V3YWt1MgU --filternode=/ip4/172.18.153.14/tcp/3089/p2p/16Uiu2HAkyQuTuzC8GbzkRAH1rVMMwazgjYewXchVEUcq7ubPRMG2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.163.40 waku c9a982fd8d6f37757f99cba39564a38b98e7cccf63974c0f5ee668cdbe8711cf
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID c9a982fd8d6f. Setting up logs at ./log/docker/node3_2024-12-21_03-08-42__619f6b04-7819-418a-9619-1d5af4cf2b99__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 18976
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18976/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18976/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.163.40/tcp/18977/p2p/16Uiu2HAmGU3N2XbMgarsaQf9B547sLoyMC7ucTtw8HjxRzAgV9fX","/ip4/172.18.163.40/tcp/18978/ws/p2p/16Uiu2HAmGU3N2XbMgarsaQf9B547sLoyMC7ucTtw8HjxRzAgV9fX"],"enrUri":"enr:-L24QE0bRE1Zdr7fazR-OfQKAlxXN6kQEadpAaJpowfI3QHuDrQ4Dc8Pl8vW0A7o_9PkquZyUpTTXV_SLANhym1YMNsCgmlkgnY0gmlwhKwSoyiKbXVsdGlhZGRyc5YACASsEqMoBkohAAoErBKjKAZKIt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDOKDD6gNiH4Wo1SMtZ3-ma-ul2SUV1_dsM3oq9rP0wYqDdGNwgkohg3VkcIJKI4V3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:18976/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.153.14/tcp/3089/p2p/16Uiu2HAkyQuTuzC8GbzkRAH1rVMMwazgjYewXchVEUcq7ubPRMG2"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-12-21_03-08-42__619f6b04-7819-418a-9619-1d5af4cf2b99__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.135.203
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['16874', '16875', '16876', '16877', '16878']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 16874:16874 -p 16875:16875 -p 16876:16876 -p 16877:16877 -p 16878:16878 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=16876 --rest-port=16874 --tcp-port=16875 --discv5-udp-port=16877 --rest-address=0.0.0.0 --nat=extip:172.18.135.203 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=def77b9b3d087a0dedd4d28a9b4b188e6bcbdae5d7ecc86d71036edf6d22e658 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QIw-aKTLAAcgpLpbLKWkWwQwOojHHJoxMu3ECUn0RtIXcjJnpL_y2yF3ff6nX55rMgIkaUVLm_A7ESiw3YF_z8ACgmlkgnY0gmlwhKwSmQ6KbXVsdGlhZGRyc5YACASsEpkOBgwRAAoErBKZDgYMEt0DgnJzhQADAQAAiXNlY3AyNTZrMaECOzxqDLA7JpjLqVrLxmRK4BjEgxuzqdQ8NLIYcwda8peDdGNwggwRg3VkcIIME4V3YWt1MgU --filternode=/ip4/172.18.153.14/tcp/3089/p2p/16Uiu2HAkyQuTuzC8GbzkRAH1rVMMwazgjYewXchVEUcq7ubPRMG2 --pubsub-topic=/waku/2/rs/3/1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.135.203 waku be6d0a3aa44019a64f7ba61f729012cf143f10f7b4956c003f647df63eb00b36
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID be6d0a3aa440. Setting up logs at ./log/docker/node4_2024-12-21_03-08-42__619f6b04-7819-418a-9619-1d5af4cf2b99__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 16874
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16874/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QOuoV2M4V67jc2JeluCivjbGjweW4TGGOht67W6PAR0ANB6kohlO40vS87jOyw46qnpMVSf4KlrUApV8j9yBPu6GAZPnMGAkgmlkgnY0gmlwhKwRABGCcnOFAAMBAAGJc2VjcDI1NmsxoQOKXVanfRZKPVtLffJAW0sTcIRctDYa3-G0BRQRdCx2goN0Y3CCQeuDdWRwgkHthXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/16875/p2p/16Uiu2HAmMy7AM59MazRYxBqCMQagVfrtpwPVPEBVeyJyxXrXaSwT","/ip4/127.0.0.1/tcp/16876/ws/p2p/16Uiu2HAmMy7AM59MazRYxBqCMQagVfrtpwPVPEBVeyJyxXrXaSwT","/ip4/172.17.0.17/tcp/16875/p2p/16Uiu2HAmMy7AM59MazRYxBqCMQagVfrtpwPVPEBVeyJyxXrXaSwT","/ip4/172.17.0.17/tcp/16876/ws/p2p/16Uiu2HAmMy7AM59MazRYxBqCMQagVfrtpwPVPEBVeyJyxXrXaSwT"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16874/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.153.14/tcp/3089/p2p/16Uiu2HAkyQuTuzC8GbzkRAH1rVMMwazgjYewXchVEUcq7ubPRMG2", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-12-21_03-08-42__619f6b04-7819-418a-9619-1d5af4cf2b99__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.21.30
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['45663', '45664', '45665', '45666', '45667']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 45663:45663 -p 45664:45664 -p 45665:45665 -p 45666:45666 -p 45667:45667 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=45665 --rest-port=45663 --tcp-port=45664 --discv5-udp-port=45666 --rest-address=0.0.0.0 --nat=extip:172.18.21.30 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cdba0e95bacda9bf46bed0bef925ed17f3ebf39df2160f10c32dbac7eec0f295 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=45667 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QIw-aKTLAAcgpLpbLKWkWwQwOojHHJoxMu3ECUn0RtIXcjJnpL_y2yF3ff6nX55rMgIkaUVLm_A7ESiw3YF_z8ACgmlkgnY0gmlwhKwSmQ6KbXVsdGlhZGRyc5YACASsEpkOBgwRAAoErBKZDgYMEt0DgnJzhQADAQAAiXNlY3AyNTZrMaECOzxqDLA7JpjLqVrLxmRK4BjEgxuzqdQ8NLIYcwda8peDdGNwggwRg3VkcIIME4V3YWt1MgU --filternode=/ip4/172.18.153.14/tcp/3089/p2p/16Uiu2HAkyQuTuzC8GbzkRAH1rVMMwazgjYewXchVEUcq7ubPRMG2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.21.30 waku 53f2c52edcda767874c27d2b8d0a9bf919ea24dff3e3812d9bf3b3a6c0534508
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 53f2c52edcda. Setting up logs at ./log/docker/node5_2024-12-21_03-08-42__619f6b04-7819-418a-9619-1d5af4cf2b99__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 45663
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45663/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45663/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.21.30/tcp/45664/p2p/16Uiu2HAmRKYeFzVVbzQC599Bt1HjnEg829hVq8Di86fBoEsfWHEk","/ip4/172.18.21.30/tcp/45665/ws/p2p/16Uiu2HAmRKYeFzVVbzQC599Bt1HjnEg829hVq8Di86fBoEsfWHEk"],"enrUri":"enr:-L24QB-t-7l3k66O6rJAcvJm0ZvyF61K54Kt4wysbYD1kFz_N_VCKPMj7lnVdOJ3jM84rPMIf5BnrDv3vQh_wpiw-v4CgmlkgnY0gmlwhKwSFR6KbXVsdGlhZGRyc5YACASsEhUeBrJgAAoErBIVHgayYd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDvCzTwu8Tcmz3tvDEhuQB8VWJI1bIec7uP2xCH4gta8WDdGNwgrJgg3VkcIKyYoV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45663/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.153.14/tcp/3089/p2p/16Uiu2HAkyQuTuzC8GbzkRAH1rVMMwazgjYewXchVEUcq7ubPRMG2"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3088/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58341/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "37f6b859-43cd-4d8e-83da-ba1b0d219474", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"37f6b859-43cd-4d8e-83da-ba1b0d219474","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:18976/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "7cf64ef5-c42f-424c-80b7-ea178750d67c", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"7cf64ef5-c42f-424c-80b7-ea178750d67c","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16874/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "42e22842-bbcc-4459-8592-53ff87d4d3ad", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"42e22842-bbcc-4459-8592-53ff87d4d3ad","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45663/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "09b02f39-7eb8-453b-a714-b66294df0a23", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"09b02f39-7eb8-453b-a714-b66294df0a23","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3088/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58341/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1734750530157107712,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3088/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18976/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:18976/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 3bf92f14a45a
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 72d1edc1dce0
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 3bf92f14a45a. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id c9a982fd8d6f
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 72d1edc1dce0. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id be6d0a3aa440
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container c9a982fd8d6f. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 53f2c52edcda
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container be6d0a3aa440. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.