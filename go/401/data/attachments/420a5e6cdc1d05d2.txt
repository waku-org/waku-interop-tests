[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2024-12-21_03-13-46__480fa69c-1805-469a-8595-d50ef26cbfe3
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-21_03-13-46__480fa69c-1805-469a-8595-d50ef26cbfe3__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.20.5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['19415', '19416', '19417', '19418', '19419']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 19415:19415 -p 19416:19416 -p 19417:19417 -p 19418:19418 -p 19419:19419 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=19417 --rest-port=19415 --tcp-port=19416 --discv5-udp-port=19418 --rest-address=0.0.0.0 --nat=extip:172.18.20.5 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a8db95cfcd1c8b5ec18d3dec8db77cb1deebe6b62a7dcb918fcb24ad50dfebd8 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=19419 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.20.5 waku 47323a5dbd2d99f7710fd30bc4c417895fd752cb833df47d38f8cd48a4802712
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 47323a5dbd2d. Setting up logs at ./log/docker/node1_2024-12-21_03-13-46__480fa69c-1805-469a-8595-d50ef26cbfe3__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 19415
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container cefa3f03af4b. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19415/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19415/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.20.5/tcp/19416/p2p/16Uiu2HAmFKaVrVpHGyho5KE8tzo3dmgymhnsMRyoMUJ3pnebS5GZ","/ip4/172.18.20.5/tcp/19417/ws/p2p/16Uiu2HAmFKaVrVpHGyho5KE8tzo3dmgymhnsMRyoMUJ3pnebS5GZ"],"enrUri":"enr:-L24QKcJqS_G2Ka5Uwookeal5LXcavzW-97pgBtpK4cLGTDcKcy_5YxtPQbEPZBKkCF-vGxmo2mO7pup942yZQaT7acCgmlkgnY0gmlwhKwSFAWKbXVsdGlhZGRyc5YACASsEhQFBkvYAAoErBIUBQZL2d0DgnJzhQADAQAAiXNlY3AyNTZrMaEDJ5oOM_5ZMVFF8YL2kCMw6L48SklQEI7g3zjx5cHbEP6DdGNwgkvYg3VkcIJL2oV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-21_03-13-46__480fa69c-1805-469a-8595-d50ef26cbfe3__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.255.18
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['33986', '33987', '33988', '33989', '33990']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 33986:33986 -p 33987:33987 -p 33988:33988 -p 33989:33989 -p 33990:33990 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=33988 --rest-port=33986 --tcp-port=33987 --discv5-udp-port=33989 --rest-address=0.0.0.0 --nat=extip:172.18.255.18 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dae3fe89575c4ca2b4a5c9abfcd910deab2ed9bee2bd5d5107a1f3196c2c6b6a --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-L24QKcJqS_G2Ka5Uwookeal5LXcavzW-97pgBtpK4cLGTDcKcy_5YxtPQbEPZBKkCF-vGxmo2mO7pup942yZQaT7acCgmlkgnY0gmlwhKwSFAWKbXVsdGlhZGRyc5YACASsEhQFBkvYAAoErBIUBQZL2d0DgnJzhQADAQAAiXNlY3AyNTZrMaEDJ5oOM_5ZMVFF8YL2kCMw6L48SklQEI7g3zjx5cHbEP6DdGNwgkvYg3VkcIJL2oV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.255.18 waku 1ef3cc6284c20ae9f4471273c7e5a0dd2cd81f8cca9c233a5f4b033d75fd3b5b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 1ef3cc6284c2. Setting up logs at ./log/docker/node2_2024-12-21_03-13-46__480fa69c-1805-469a-8595-d50ef26cbfe3__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 33986
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33986/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QGEk9at7w1kGzJ5nwh30Ywe5r7tQUr7zwYHlhuneIQutSdGAvITmWYug8CxIR3DYqTRgLPchxHST4qOyo4ClrzuGAZPnNPjggmlkgnY0gmlwhKwRAAmCcnODAAMAiXNlY3AyNTZrMaEDUzuAGDU4jQ7Xoya6DsRHN0hdIo-SV7tC1g4a6PjTVmeDdGNwgoTDg3VkcIKExYV3YWt1MgE","listenAddresses":["/ip4/127.0.0.1/tcp/33987/p2p/16Uiu2HAmJFtp3irWv8ZSz6XhuCcXhJNLXz4FCSbjeAKNL2PvkNqC","/ip4/127.0.0.1/tcp/33988/ws/p2p/16Uiu2HAmJFtp3irWv8ZSz6XhuCcXhJNLXz4FCSbjeAKNL2PvkNqC","/ip4/172.17.0.9/tcp/33987/p2p/16Uiu2HAmJFtp3irWv8ZSz6XhuCcXhJNLXz4FCSbjeAKNL2PvkNqC","/ip4/172.17.0.9/tcp/33988/ws/p2p/16Uiu2HAmJFtp3irWv8ZSz6XhuCcXhJNLXz4FCSbjeAKNL2PvkNqC"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33986/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.20.5/tcp/19416/p2p/16Uiu2HAmFKaVrVpHGyho5KE8tzo3dmgymhnsMRyoMUJ3pnebS5GZ", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-12-21_03-13-46__480fa69c-1805-469a-8595-d50ef26cbfe3__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.111.179
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['4536', '4537', '4538', '4539', '4540']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 4536:4536 -p 4537:4537 -p 4538:4538 -p 4539:4539 -p 4540:4540 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=4538 --rest-port=4536 --tcp-port=4537 --discv5-udp-port=4539 --rest-address=0.0.0.0 --nat=extip:172.18.111.179 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b1fff47973bd83cc1fcc4aac2fbc9bb071ec93ccdc2b362befc0259066ca0b91 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=4540 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QKcJqS_G2Ka5Uwookeal5LXcavzW-97pgBtpK4cLGTDcKcy_5YxtPQbEPZBKkCF-vGxmo2mO7pup942yZQaT7acCgmlkgnY0gmlwhKwSFAWKbXVsdGlhZGRyc5YACASsEhQFBkvYAAoErBIUBQZL2d0DgnJzhQADAQAAiXNlY3AyNTZrMaEDJ5oOM_5ZMVFF8YL2kCMw6L48SklQEI7g3zjx5cHbEP6DdGNwgkvYg3VkcIJL2oV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.111.179 waku bb189b1ea011ee3729019ef83be8e631dd4ddb3b082f610502cc391530a20749
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID bb189b1ea011. Setting up logs at ./log/docker/node3_2024-12-21_03-13-46__480fa69c-1805-469a-8595-d50ef26cbfe3__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 4536
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4536/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4536/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.111.179/tcp/4537/p2p/16Uiu2HAmERwdzY3DM9tLJHsdk7ijfh2dhJW6pgxju2kYCGtYdDUM","/ip4/172.18.111.179/tcp/4538/ws/p2p/16Uiu2HAmERwdzY3DM9tLJHsdk7ijfh2dhJW6pgxju2kYCGtYdDUM"],"enrUri":"enr:-L24QDcC9aFskMwAGrMtiRtf9wbTYJ6GZo_z9Ew8-NFuNYuWWKZir3NWZASHm5o0vxfYp3K6dXoxBIlOEmVVBHnfyvECgmlkgnY0gmlwhKwSb7OKbXVsdGlhZGRyc5YACASsEm-zBhG5AAoErBJvswYRut0DgnJzhQADAQAAiXNlY3AyNTZrMaEDGl_BwKI44WHGUQzACl2m2K7q2PQ23r--NkEBCq7gB5KDdGNwghG5g3VkcIIRu4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4536/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.20.5/tcp/19416/p2p/16Uiu2HAmFKaVrVpHGyho5KE8tzo3dmgymhnsMRyoMUJ3pnebS5GZ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-12-21_03-13-46__480fa69c-1805-469a-8595-d50ef26cbfe3__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.6.229
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['47000', '47001', '47002', '47003', '47004']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 47000:47000 -p 47001:47001 -p 47002:47002 -p 47003:47003 -p 47004:47004 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=47002 --rest-port=47000 --tcp-port=47001 --discv5-udp-port=47003 --rest-address=0.0.0.0 --nat=extip:172.18.6.229 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=4851be5485b2f65eafd80d1b8ad361b4acd0cef0abb7982e12b6c04a9ef8dcbc --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-L24QKcJqS_G2Ka5Uwookeal5LXcavzW-97pgBtpK4cLGTDcKcy_5YxtPQbEPZBKkCF-vGxmo2mO7pup942yZQaT7acCgmlkgnY0gmlwhKwSFAWKbXVsdGlhZGRyc5YACASsEhQFBkvYAAoErBIUBQZL2d0DgnJzhQADAQAAiXNlY3AyNTZrMaEDJ5oOM_5ZMVFF8YL2kCMw6L48SklQEI7g3zjx5cHbEP6DdGNwgkvYg3VkcIJL2oV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.6.229 waku b3dbfb7e730fd82a45d8a2fdc71cbf68cc0ba171a00e2774360a2b2df0e4a1d6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID b3dbfb7e730f. Setting up logs at ./log/docker/node4_2024-12-21_03-13-46__480fa69c-1805-469a-8595-d50ef26cbfe3__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 47000
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47000/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QHOKIT_D8JVoCWNLQrj2duRYl8hrJgQtoa_qexmhAhL9J6-UeiCSJBBq__bMzlqn8SklGNRMLnsAHQqiOs--Nc-GAZPnNQb-gmlkgnY0gmlwhKwRAAOCcnODAAMAiXNlY3AyNTZrMaECnUMmt3-5s_UKlTKaSGoUolaGLqaSfGezp97xDmeUCs6DdGNwgreZg3VkcIK3m4V3YWt1MgE","listenAddresses":["/ip4/127.0.0.1/tcp/47001/p2p/16Uiu2HAm61ZNqycVhWZGqDF5Tz2VLpLE7yA6WKb3gCsnBnumgRg1","/ip4/127.0.0.1/tcp/47002/ws/p2p/16Uiu2HAm61ZNqycVhWZGqDF5Tz2VLpLE7yA6WKb3gCsnBnumgRg1","/ip4/172.17.0.3/tcp/47001/p2p/16Uiu2HAm61ZNqycVhWZGqDF5Tz2VLpLE7yA6WKb3gCsnBnumgRg1","/ip4/172.17.0.3/tcp/47002/ws/p2p/16Uiu2HAm61ZNqycVhWZGqDF5Tz2VLpLE7yA6WKb3gCsnBnumgRg1"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47000/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.20.5/tcp/19416/p2p/16Uiu2HAmFKaVrVpHGyho5KE8tzo3dmgymhnsMRyoMUJ3pnebS5GZ", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-12-21_03-13-46__480fa69c-1805-469a-8595-d50ef26cbfe3__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.198.249
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['31684', '31685', '31686', '31687', '31688']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 31684:31684 -p 31685:31685 -p 31686:31686 -p 31687:31687 -p 31688:31688 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=31686 --rest-port=31684 --tcp-port=31685 --discv5-udp-port=31687 --rest-address=0.0.0.0 --nat=extip:172.18.198.249 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=edabe520e4eb5fabdd34ea15ea9ea2aac66c20d1bcf90cc2f8e50a16d2d7b24e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=31688 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QKcJqS_G2Ka5Uwookeal5LXcavzW-97pgBtpK4cLGTDcKcy_5YxtPQbEPZBKkCF-vGxmo2mO7pup942yZQaT7acCgmlkgnY0gmlwhKwSFAWKbXVsdGlhZGRyc5YACASsEhQFBkvYAAoErBIUBQZL2d0DgnJzhQADAQAAiXNlY3AyNTZrMaEDJ5oOM_5ZMVFF8YL2kCMw6L48SklQEI7g3zjx5cHbEP6DdGNwgkvYg3VkcIJL2oV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.198.249 waku 377adad2b26bf0434f765f6facebeabbf4c5d35b2629b2b2e45afeb7e8df0e17
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 377adad2b26b. Setting up logs at ./log/docker/node5_2024-12-21_03-13-46__480fa69c-1805-469a-8595-d50ef26cbfe3__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 31684
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31684/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31684/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.198.249/tcp/31685/p2p/16Uiu2HAm3UZzAsNvhgL8pZpvUY3WzWsr9DsoNNdiaEKioG7Xa1S7","/ip4/172.18.198.249/tcp/31686/ws/p2p/16Uiu2HAm3UZzAsNvhgL8pZpvUY3WzWsr9DsoNNdiaEKioG7Xa1S7"],"enrUri":"enr:-L24QG3kGtW8gDxXQToMPTlWxCNfMkQ5y9SBCYCXl2yNhI7PN_Apjsf_aaz7fFIqXzwACQE16aPlV93Zog-UybX-CxwCgmlkgnY0gmlwhKwSxvmKbXVsdGlhZGRyc5YACASsEsb5BnvFAAoErBLG-QZ7xt0DgnJzhQADAQAAiXNlY3AyNTZrMaECd5t2AnBOOx7QmjLNT0undvWUV87pxqZHY47-fTFWWDiDdGNwgnvFg3VkcIJ7x4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31684/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.20.5/tcp/19416/p2p/16Uiu2HAmFKaVrVpHGyho5KE8tzo3dmgymhnsMRyoMUJ3pnebS5GZ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19415/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33986/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4536/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47000/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31684/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19415/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19415/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734750835482603520,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33986/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734750835482603520,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4536/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734750835482603520,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47000/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734750835482603520,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31684/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734750835482603520,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31684/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19415/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734750835624343552,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33986/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734750835624343552,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4536/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734750835624343552,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47000/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734750835624343552,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31684/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734750835624343552,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 47323a5dbd2d
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 1ef3cc6284c2
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 47323a5dbd2d. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id bb189b1ea011
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 1ef3cc6284c2. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id b3dbfb7e730f
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container bb189b1ea011. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 377adad2b26b
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container b3dbfb7e730f. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.