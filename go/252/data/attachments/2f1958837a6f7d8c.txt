[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-08-23_03-13-10__01ea6f8c-fd5d-47a9-8bfa-6ea02f6e7563
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node1_2024-08-23_03-13-10__01ea6f8c-fd5d-47a9-8bfa-6ea02f6e7563__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.145.23
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['23783', '23784', '23785', '23786', '23787']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 23783:23783 -p 23784:23784 -p 23785:23785 -p 23786:23786 -p 23787:23787 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=23785 --rest-port=23783 --tcp-port=23784 --discv5-udp-port=23786 --rest-address=0.0.0.0 --nat=extip:172.18.145.23 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=153da7bdedf4a64eddf5a7d1954e1a09f87523f59687af2d3d0b9c8c3278a8ed --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=23787 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.145.23 waku 63212c126fbc9ff5b8a658a2749b5b5b2c00b2e0d9ab9f913222f531c4529536
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 63212c126fbc. Setting up logs at ./log/docker/node1_2024-08-23_03-13-10__01ea6f8c-fd5d-47a9-8bfa-6ea02f6e7563__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 23783
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23783/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23783/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.145.23/tcp/23784/p2p/16Uiu2HAm2js4KpkdqnJDesZfjj6bFVPt9MA3tMFBGVsFMVGBLPWL","/ip4/172.18.145.23/tcp/23785/ws/p2p/16Uiu2HAm2js4KpkdqnJDesZfjj6bFVPt9MA3tMFBGVsFMVGBLPWL"],"enrUri":"enr:-LO4QG2Q-y4lkkGkECPJfp2HwywfRBKaamejOPgWcfxhn2VEO2D21X6OlZDHAJ5vUay9Wy5o7QGQgaxSgEAAdgexVrsBgmlkgnY0gmlwhKwSkReKbXVsdGlhZGRyc4wACgSsEpEXBlzp3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJsqsoEw1GmuDkTX0ObkOP6a3ObPWgD4g6l7z8qHb3qtYN0Y3CCXOiDdWRwglzqhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node2_2024-08-23_03-13-10__01ea6f8c-fd5d-47a9-8bfa-6ea02f6e7563__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.230.199
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['51303', '51304', '51305', '51306', '51307']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 51303:51303 -p 51304:51304 -p 51305:51305 -p 51306:51306 -p 51307:51307 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=51305 --rest-port=51303 --tcp-port=51304 --discv5-udp-port=51306 --rest-address=0.0.0.0 --nat=extip:172.18.230.199 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ddbae5ea56804a3f99cecd84aec5aa6aaa0b7ec1f48ebee23dfc1685d6b78a4f --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-LO4QG2Q-y4lkkGkECPJfp2HwywfRBKaamejOPgWcfxhn2VEO2D21X6OlZDHAJ5vUay9Wy5o7QGQgaxSgEAAdgexVrsBgmlkgnY0gmlwhKwSkReKbXVsdGlhZGRyc4wACgSsEpEXBlzp3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJsqsoEw1GmuDkTX0ObkOP6a3ObPWgD4g6l7z8qHb3qtYN0Y3CCXOiDdWRwglzqhXdha3UyBQ --filternode=/ip4/172.18.145.23/tcp/23784/p2p/16Uiu2HAm2js4KpkdqnJDesZfjj6bFVPt9MA3tMFBGVsFMVGBLPWL
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.230.199 waku d0e57dccce78c0ba2626dfa54fff800180ba5ee15dd19c22d1bf45b951377ac6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID d0e57dccce78. Setting up logs at ./log/docker/node2_2024-08-23_03-13-10__01ea6f8c-fd5d-47a9-8bfa-6ea02f6e7563__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/go-waku:latest. REST: 51303
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51303/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QDynF32B1RMqRsKM71_g6rmdZpNn64dXz_TmIPD-luZnX74oYlwNv3WSO-8a-HNNlKwxt7dLOMNVPcuD913BGXiGAZF9OUtwgmlkgnY0gmlwhKwRAA2Jc2VjcDI1NmsxoQMP1-s_Lk1Uzhs9rvUwLaWQXK66DTXX7huqlcfUsL50nYN0Y3CCyGiDdWRwgshqhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/51304/p2p/16Uiu2HAmDiqRexY3hBZAqghqPPXKDtf1KmEgBjDWuWTmapd7o7R6","/ip4/127.0.0.1/tcp/51305/ws/p2p/16Uiu2HAmDiqRexY3hBZAqghqPPXKDtf1KmEgBjDWuWTmapd7o7R6","/ip4/172.17.0.13/tcp/51304/p2p/16Uiu2HAmDiqRexY3hBZAqghqPPXKDtf1KmEgBjDWuWTmapd7o7R6","/ip4/172.17.0.13/tcp/51305/ws/p2p/16Uiu2HAmDiqRexY3hBZAqghqPPXKDtf1KmEgBjDWuWTmapd7o7R6"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51303/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.145.23/tcp/23784/p2p/16Uiu2HAm2js4KpkdqnJDesZfjj6bFVPt9MA3tMFBGVsFMVGBLPWL", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node3_2024-08-23_03-13-10__01ea6f8c-fd5d-47a9-8bfa-6ea02f6e7563__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.116.121
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['49458', '49459', '49460', '49461', '49462']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 49458:49458 -p 49459:49459 -p 49460:49460 -p 49461:49461 -p 49462:49462 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=49460 --rest-port=49458 --tcp-port=49459 --discv5-udp-port=49461 --rest-address=0.0.0.0 --nat=extip:172.18.116.121 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bcc383fceec47dd74f3cd3fbefe697ce73c55a7eedd9d53d54a964a998c9dade --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=49462 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QG2Q-y4lkkGkECPJfp2HwywfRBKaamejOPgWcfxhn2VEO2D21X6OlZDHAJ5vUay9Wy5o7QGQgaxSgEAAdgexVrsBgmlkgnY0gmlwhKwSkReKbXVsdGlhZGRyc4wACgSsEpEXBlzp3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJsqsoEw1GmuDkTX0ObkOP6a3ObPWgD4g6l7z8qHb3qtYN0Y3CCXOiDdWRwglzqhXdha3UyBQ --filternode=/ip4/172.18.145.23/tcp/23784/p2p/16Uiu2HAm2js4KpkdqnJDesZfjj6bFVPt9MA3tMFBGVsFMVGBLPWL
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.116.121 waku caa2775650689649647c49a7ec0e8ceb1ce8631585557f36dc470ca996941038
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID caa277565068. Setting up logs at ./log/docker/node3_2024-08-23_03-13-10__01ea6f8c-fd5d-47a9-8bfa-6ea02f6e7563__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 49458
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49458/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49458/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.116.121/tcp/49459/p2p/16Uiu2HAmRS6r4Q2pu9HxRPg7hbEqcu9De37hNP19WeJuV5QmF6y8","/ip4/172.18.116.121/tcp/49460/ws/p2p/16Uiu2HAmRS6r4Q2pu9HxRPg7hbEqcu9De37hNP19WeJuV5QmF6y8"],"enrUri":"enr:-LO4QOP2OFA6IGW9zRook8cBWv349MVgjGRTkSnPPuuxoYTCJvs4wSy8H9XWPUU7lL8TyH--_K6aLXZV6lGxTlTT-bgBgmlkgnY0gmlwhKwSdHmKbXVsdGlhZGRyc4wACgSsEnR5BsE03QOCcnOFAAMBAACJc2VjcDI1NmsxoQO92rl_sTDrzYa1JNoiRvG_BxBrJOV2PC2b_Xs57M5Vu4N0Y3CCwTODdWRwgsE1hXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49458/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.145.23/tcp/23784/p2p/16Uiu2HAm2js4KpkdqnJDesZfjj6bFVPt9MA3tMFBGVsFMVGBLPWL"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node4_2024-08-23_03-13-10__01ea6f8c-fd5d-47a9-8bfa-6ea02f6e7563__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.207.98
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['9013', '9014', '9015', '9016', '9017']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 9013:9013 -p 9014:9014 -p 9015:9015 -p 9016:9016 -p 9017:9017 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=9015 --rest-port=9013 --tcp-port=9014 --discv5-udp-port=9016 --rest-address=0.0.0.0 --nat=extip:172.18.207.98 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ba1dfbec94e7f1af4ab952858f1b9cb228e84eefb93b7ceb6e95a1a1ca5a5ffd --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-LO4QG2Q-y4lkkGkECPJfp2HwywfRBKaamejOPgWcfxhn2VEO2D21X6OlZDHAJ5vUay9Wy5o7QGQgaxSgEAAdgexVrsBgmlkgnY0gmlwhKwSkReKbXVsdGlhZGRyc4wACgSsEpEXBlzp3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJsqsoEw1GmuDkTX0ObkOP6a3ObPWgD4g6l7z8qHb3qtYN0Y3CCXOiDdWRwglzqhXdha3UyBQ --filternode=/ip4/172.18.145.23/tcp/23784/p2p/16Uiu2HAm2js4KpkdqnJDesZfjj6bFVPt9MA3tMFBGVsFMVGBLPWL
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.207.98 waku 7a8e04cda8b6be70c4b6da3f277385595599c131fe3dbcdb2c91a38f55abeebc
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 7a8e04cda8b6. Setting up logs at ./log/docker/node4_2024-08-23_03-13-10__01ea6f8c-fd5d-47a9-8bfa-6ea02f6e7563__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/go-waku:latest. REST: 9013
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9013/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QFo6DttzpjjaSqvyKTZJVbiBYq5DQMB_fBXv_R0_icvqFR3BD_hLaulurm6fWRUzJVut2xgU_Fqli6Sr0fnPbK-GAZF9OVbkgmlkgnY0gmlwhKwRABKJc2VjcDI1NmsxoQIvIgRU7LyOD976fwACLKz_aPRxSgBzAcQ8zZVEQU5PYYN0Y3CCIzaDdWRwgiM4hXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/9014/p2p/16Uiu2HAkxbfE6K13iudiQ5GCv4LAjUtKNKFZuG6YdHh3aHkMaPa8","/ip4/127.0.0.1/tcp/9015/ws/p2p/16Uiu2HAkxbfE6K13iudiQ5GCv4LAjUtKNKFZuG6YdHh3aHkMaPa8","/ip4/172.17.0.18/tcp/9014/p2p/16Uiu2HAkxbfE6K13iudiQ5GCv4LAjUtKNKFZuG6YdHh3aHkMaPa8","/ip4/172.17.0.18/tcp/9015/ws/p2p/16Uiu2HAkxbfE6K13iudiQ5GCv4LAjUtKNKFZuG6YdHh3aHkMaPa8"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9013/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.145.23/tcp/23784/p2p/16Uiu2HAm2js4KpkdqnJDesZfjj6bFVPt9MA3tMFBGVsFMVGBLPWL", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node5_2024-08-23_03-13-10__01ea6f8c-fd5d-47a9-8bfa-6ea02f6e7563__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.61.177
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['33119', '33120', '33121', '33122', '33123']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 33119:33119 -p 33120:33120 -p 33121:33121 -p 33122:33122 -p 33123:33123 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=33121 --rest-port=33119 --tcp-port=33120 --discv5-udp-port=33122 --rest-address=0.0.0.0 --nat=extip:172.18.61.177 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=91c72db7a1bc9adb3da7cea4c5cad1de1cfd534ce0bee5cfcafc6562ed72bee9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=33123 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QG2Q-y4lkkGkECPJfp2HwywfRBKaamejOPgWcfxhn2VEO2D21X6OlZDHAJ5vUay9Wy5o7QGQgaxSgEAAdgexVrsBgmlkgnY0gmlwhKwSkReKbXVsdGlhZGRyc4wACgSsEpEXBlzp3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJsqsoEw1GmuDkTX0ObkOP6a3ObPWgD4g6l7z8qHb3qtYN0Y3CCXOiDdWRwglzqhXdha3UyBQ --filternode=/ip4/172.18.145.23/tcp/23784/p2p/16Uiu2HAm2js4KpkdqnJDesZfjj6bFVPt9MA3tMFBGVsFMVGBLPWL
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.61.177 waku bead8030ef1c50f372731d3d5d666b3aba39eee284aa3fc80e0b91672e4816a2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID bead8030ef1c. Setting up logs at ./log/docker/node5_2024-08-23_03-13-10__01ea6f8c-fd5d-47a9-8bfa-6ea02f6e7563__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 33119
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33119/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33119/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.61.177/tcp/33120/p2p/16Uiu2HAm4CCpxbmZWEyJtvjXW6JrqtJNDi4HGaDQzb2KW9SsyJfD","/ip4/172.18.61.177/tcp/33121/ws/p2p/16Uiu2HAm4CCpxbmZWEyJtvjXW6JrqtJNDi4HGaDQzb2KW9SsyJfD"],"enrUri":"enr:-LO4QNXBpCxNPGsb0EyYZnpO9ZnXoZ7msSS_qG5klT3Btgr1J02rKw655EWzK9eVDAtyr8MKSYC1eGy5Js8wHUKq_qkBgmlkgnY0gmlwhKwSPbGKbXVsdGlhZGRyc4wACgSsEj2xBoFh3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKCRe4780nn89w0Q-uaFc5tZz-qtcaEa7Nogcckq3FZDIN0Y3CCgWCDdWRwgoFihXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33119/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.145.23/tcp/23784/p2p/16Uiu2HAm2js4KpkdqnJDesZfjj6bFVPt9MA3tMFBGVsFMVGBLPWL"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23783/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51303/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "526b1f2c-169f-44b5-a014-bff81bbc1678", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"526b1f2c-169f-44b5-a014-bff81bbc1678","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49458/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "beba77ea-2518-4bff-b31c-7801582d46f6", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"beba77ea-2518-4bff-b31c-7801582d46f6","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9013/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "8ca61879-6ea5-46d0-8fdd-dd317904868d", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"8ca61879-6ea5-46d0-8fdd-dd317904868d","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33119/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "ac7001a2-f0de-411e-944a-45382f609009", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"ac7001a2-f0de-411e-944a-45382f609009","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23783/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51303/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1724382798391280128,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23783/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49458/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:49458/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 63212c126fbc
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id d0e57dccce78
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id caa277565068
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 7a8e04cda8b6
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id bead8030ef1c
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.