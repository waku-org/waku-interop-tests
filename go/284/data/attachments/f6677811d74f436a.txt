[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_multiple_lightpush_nodes with id: 2024-09-19_03-17-57__aff7c8b4-637f-4a6a-9eed-052d74b6240b
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-09-19_03-17-57__aff7c8b4-637f-4a6a-9eed-052d74b6240b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.214.12
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['6007', '6008', '6009', '6010', '6011']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 6007:6007 -p 6008:6008 -p 6009:6009 -p 6010:6010 -p 6011:6011 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=6009 --rest-port=6007 --tcp-port=6008 --discv5-udp-port=6010 --rest-address=0.0.0.0 --nat=extip:172.18.214.12 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=746a2d448cfa39ebffc14ba1bcf66fa28f8b7e6eebd224a9e6b325ccfe92a25f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=6011 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.214.12 waku 3f4dd7313e47c552746cca9719954dc14d73c41a956cd89b14611eacb5fe42f3
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 3f4dd7313e47. Setting up logs at ./log/docker/receiving_node1_2024-09-19_03-17-57__aff7c8b4-637f-4a6a-9eed-052d74b6240b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 6007
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6007/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6007/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.214.12/tcp/6008/p2p/16Uiu2HAkxHJizRgQE8rFCBqk9rFTnj6hKeEAjBNNrAYw4rPJGJyS","/ip4/172.18.214.12/tcp/6009/ws/p2p/16Uiu2HAkxHJizRgQE8rFCBqk9rFTnj6hKeEAjBNNrAYw4rPJGJyS"],"enrUri":"enr:-LO4QGaBX3aJYRk3Azz9Ez6HinQRbA_JkJbhxATZ6wbYpW-rPGiP2dGtJ_YkxfdxUNoNUBi6u1yR33YqUcdJ7W8Vc8oBgmlkgnY0gmlwhKwS1gyKbXVsdGlhZGRyc4wACgSsEtYMBhd53QOCcnOFAAMBAACJc2VjcDI1NmsxoQIqbmGGTj1L0W9exu-8A7hEmA1Z8WJR_ZQd_8kNyjAYFYN0Y3CCF3iDdWRwghd6hXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-09-19_03-17-57__aff7c8b4-637f-4a6a-9eed-052d74b6240b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.218.105
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['37037', '37038', '37039', '37040', '37041']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 37037:37037 -p 37038:37038 -p 37039:37039 -p 37040:37040 -p 37041:37041 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=37039 --rest-port=37037 --tcp-port=37038 --discv5-udp-port=37040 --rest-address=0.0.0.0 --nat=extip:172.18.218.105 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c57eec5c51f2dbe98ffcbabdd5ac7a27125a56ed26fcaf37a8622941dc44bb48 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=37041 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.218.105 waku 9e71a0953322ace0fb2d99e4327fc6dace6bb1c96ee238d84c673deba91c8f45
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 9e71a0953322. Setting up logs at ./log/docker/receiving_node2_2024-09-19_03-17-57__aff7c8b4-637f-4a6a-9eed-052d74b6240b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 37037
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37037/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37037/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.218.105/tcp/37038/p2p/16Uiu2HAmDgheuyW9FXChr65Y1tkyXQqYJeZRyACJ3cDXvaHti9YQ","/ip4/172.18.218.105/tcp/37039/ws/p2p/16Uiu2HAmDgheuyW9FXChr65Y1tkyXQqYJeZRyACJ3cDXvaHti9YQ"],"enrUri":"enr:-LO4QKeBeyXv1QTs6mb5CGZIbfmwdm71j2pfHK66Wn9ZDmqYBsg4pIAswdQnquv-TkiY9bks2atDRAEJIuH7IiXEBzsBgmlkgnY0gmlwhKwS2mmKbXVsdGlhZGRyc4wACgSsEtppBpCv3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMPS_hc2ZqqP889cIt91PkDlGIWf7_LlE-LaTHKDLcRlYN0Y3CCkK6DdWRwgpCwhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:37037/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.214.12/tcp/6008/p2p/16Uiu2HAkxHJizRgQE8rFCBqk9rFTnj6hKeEAjBNNrAYw4rPJGJyS"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-09-19_03-17-57__aff7c8b4-637f-4a6a-9eed-052d74b6240b__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.56.88
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['59502', '59503', '59504', '59505', '59506']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 59502:59502 -p 59503:59503 -p 59504:59504 -p 59505:59505 -p 59506:59506 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=59504 --rest-port=59502 --tcp-port=59503 --discv5-udp-port=59505 --rest-address=0.0.0.0 --nat=extip:172.18.56.88 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2eede07eb3d12fefcdbd96eefc0d498ee9aea5cdb3cf0d8ac8de2b2fab307a6e --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-LO4QGaBX3aJYRk3Azz9Ez6HinQRbA_JkJbhxATZ6wbYpW-rPGiP2dGtJ_YkxfdxUNoNUBi6u1yR33YqUcdJ7W8Vc8oBgmlkgnY0gmlwhKwS1gyKbXVsdGlhZGRyc4wACgSsEtYMBhd53QOCcnOFAAMBAACJc2VjcDI1NmsxoQIqbmGGTj1L0W9exu-8A7hEmA1Z8WJR_ZQd_8kNyjAYFYN0Y3CCF3iDdWRwghd6hXdha3UyCQ --lightpushnode=/ip4/172.18.214.12/tcp/6008/p2p/16Uiu2HAkxHJizRgQE8rFCBqk9rFTnj6hKeEAjBNNrAYw4rPJGJyS --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.56.88 waku f48bfbf70fcf00b81c37542f636eb389214141d3c431d011bcd2347597b46fe7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID f48bfbf70fcf. Setting up logs at ./log/docker/lightpush_node1_2024-09-19_03-17-57__aff7c8b4-637f-4a6a-9eed-052d74b6240b__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 59502
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59502/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QEuCQixn5r8FphXMOjRkjvLgJYDoOXNXNi6lie-anGK6VWcjaJBkjFO4SwCak-NhyUvoPi3_-UQMIENb4WF2y2eGAZIISWdJgmlkgnY0gmlwhKwRAA2Jc2VjcDI1NmsxoQPg_XOAi6OJAPqXioYbV49Y6pVaz7wOzPou1iDEq-6e6IN0Y3CC6G-DdWRwguhxhXdha3UyCA","listenAddresses":["/ip4/127.0.0.1/tcp/59503/p2p/16Uiu2HAmToFq17JSyH27qNd8Dz1fi4MZozpHareDNBjc1XPkzpBq","/ip4/127.0.0.1/tcp/59504/ws/p2p/16Uiu2HAmToFq17JSyH27qNd8Dz1fi4MZozpHareDNBjc1XPkzpBq","/ip4/172.17.0.13/tcp/59503/p2p/16Uiu2HAmToFq17JSyH27qNd8Dz1fi4MZozpHareDNBjc1XPkzpBq","/ip4/172.17.0.13/tcp/59504/ws/p2p/16Uiu2HAmToFq17JSyH27qNd8Dz1fi4MZozpHareDNBjc1XPkzpBq"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59502/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.214.12/tcp/6008/p2p/16Uiu2HAkxHJizRgQE8rFCBqk9rFTnj6hKeEAjBNNrAYw4rPJGJyS", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59502/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.218.105/tcp/37038/p2p/16Uiu2HAmDgheuyW9FXChr65Y1tkyXQqYJeZRyACJ3cDXvaHti9YQ", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node2_2024-09-19_03-17-57__aff7c8b4-637f-4a6a-9eed-052d74b6240b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.123.19
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['63530', '63531', '63532', '63533', '63534']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 63530:63530 -p 63531:63531 -p 63532:63532 -p 63533:63533 -p 63534:63534 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=63532 --rest-port=63530 --tcp-port=63531 --discv5-udp-port=63533 --rest-address=0.0.0.0 --nat=extip:172.18.123.19 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=09bf3ceb3e34fd9c813a7232f2cc63eff3f775ed922d2890ff7879a6fbf87be7 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=63534 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QGaBX3aJYRk3Azz9Ez6HinQRbA_JkJbhxATZ6wbYpW-rPGiP2dGtJ_YkxfdxUNoNUBi6u1yR33YqUcdJ7W8Vc8oBgmlkgnY0gmlwhKwS1gyKbXVsdGlhZGRyc4wACgSsEtYMBhd53QOCcnOFAAMBAACJc2VjcDI1NmsxoQIqbmGGTj1L0W9exu-8A7hEmA1Z8WJR_ZQd_8kNyjAYFYN0Y3CCF3iDdWRwghd6hXdha3UyCQ --lightpushnode=/ip4/172.18.214.12/tcp/6008/p2p/16Uiu2HAkxHJizRgQE8rFCBqk9rFTnj6hKeEAjBNNrAYw4rPJGJyS --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.123.19 waku fe96f3fa0b38f5e58fb99072f2971956b17f0b511306d6c72613e3673a19dfc2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID fe96f3fa0b38. Setting up logs at ./log/docker/lightpush_node2_2024-09-19_03-17-57__aff7c8b4-637f-4a6a-9eed-052d74b6240b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 63530
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63530/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63530/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.123.19/tcp/63531/p2p/16Uiu2HAmVVhfurFW3XwwVvkgkWwZ9G6dAq59mTBZGVBx1Di7ow8D","/ip4/172.18.123.19/tcp/63532/ws/p2p/16Uiu2HAmVVhfurFW3XwwVvkgkWwZ9G6dAq59mTBZGVBx1Di7ow8D"],"enrUri":"enr:-LO4QK5do_TfsEKpRSd0y8o9SK4tqWDB1tB10AOmhkkx2gtXS7bjZI_dWu-NqcdNSs4Be0Gs46LaaH8hXQErVYPMfyMBgmlkgnY0gmlwhKwSexOKbXVsdGlhZGRyc4wACgSsEnsTBvgs3QOCcnOFAAMBAACJc2VjcDI1NmsxoQP6NZdvQrcdvWP3ZAxGTB6PoWgpS7YXk8alYKisu5qNaoN0Y3CC-CuDdWRwgvgthXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63530/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.214.12/tcp/6008/p2p/16Uiu2HAkxHJizRgQE8rFCBqk9rFTnj6hKeEAjBNNrAYw4rPJGJyS"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63530/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.218.105/tcp/37038/p2p/16Uiu2HAmDgheuyW9FXChr65Y1tkyXQqYJeZRyACJ3cDXvaHti9YQ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node3_2024-09-19_03-17-57__aff7c8b4-637f-4a6a-9eed-052d74b6240b__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.18.133
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['33322', '33323', '33324', '33325', '33326']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 33322:33322 -p 33323:33323 -p 33324:33324 -p 33325:33325 -p 33326:33326 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=33324 --rest-port=33322 --tcp-port=33323 --discv5-udp-port=33325 --rest-address=0.0.0.0 --nat=extip:172.18.18.133 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e2355e37fa9b373faa3fbaaaff1d647cec4cfb5afdd220ba6f172e5afcea3ed4 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-LO4QGaBX3aJYRk3Azz9Ez6HinQRbA_JkJbhxATZ6wbYpW-rPGiP2dGtJ_YkxfdxUNoNUBi6u1yR33YqUcdJ7W8Vc8oBgmlkgnY0gmlwhKwS1gyKbXVsdGlhZGRyc4wACgSsEtYMBhd53QOCcnOFAAMBAACJc2VjcDI1NmsxoQIqbmGGTj1L0W9exu-8A7hEmA1Z8WJR_ZQd_8kNyjAYFYN0Y3CCF3iDdWRwghd6hXdha3UyCQ --lightpushnode=/ip4/172.18.214.12/tcp/6008/p2p/16Uiu2HAkxHJizRgQE8rFCBqk9rFTnj6hKeEAjBNNrAYw4rPJGJyS --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.18.133 waku 8d6b303039f7e3dc5bd54af756deb083a28bda5851e6f8bc5ecfcf8019e76b1e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 8d6b303039f7. Setting up logs at ./log/docker/lightpush_node3_2024-09-19_03-17-57__aff7c8b4-637f-4a6a-9eed-052d74b6240b__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 33322
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33322/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QJYehgd8SC4vO-3l4GW_zPoy67nGoyjp6EgimYOPQqauVvwt5n_2FqjOTs9j5naL7ce1wtWGh4tLFeEvPEv4sZiGAZIISXKGgmlkgnY0gmlwhKwRAAOJc2VjcDI1NmsxoQLbhGAXuG2l7syjcLOENfdiCmW4Ol1Hw8itykdFZXSvcIN0Y3CCgiuDdWRwgoIthXdha3UyCA","listenAddresses":["/ip4/127.0.0.1/tcp/33323/p2p/16Uiu2HAmACaLdVoXy8ekn7n3ejf6DJBc4Z1nDz2HjPwGpMNThtHd","/ip4/127.0.0.1/tcp/33324/ws/p2p/16Uiu2HAmACaLdVoXy8ekn7n3ejf6DJBc4Z1nDz2HjPwGpMNThtHd","/ip4/172.17.0.3/tcp/33323/p2p/16Uiu2HAmACaLdVoXy8ekn7n3ejf6DJBc4Z1nDz2HjPwGpMNThtHd","/ip4/172.17.0.3/tcp/33324/ws/p2p/16Uiu2HAmACaLdVoXy8ekn7n3ejf6DJBc4Z1nDz2HjPwGpMNThtHd"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33322/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.214.12/tcp/6008/p2p/16Uiu2HAkxHJizRgQE8rFCBqk9rFTnj6hKeEAjBNNrAYw4rPJGJyS", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33322/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.218.105/tcp/37038/p2p/16Uiu2HAmDgheuyW9FXChr65Y1tkyXQqYJeZRyACJ3cDXvaHti9YQ", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node4_2024-09-19_03-17-57__aff7c8b4-637f-4a6a-9eed-052d74b6240b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.30.99
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['33720', '33721', '33722', '33723', '33724']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 33720:33720 -p 33721:33721 -p 33722:33722 -p 33723:33723 -p 33724:33724 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=33722 --rest-port=33720 --tcp-port=33721 --discv5-udp-port=33723 --rest-address=0.0.0.0 --nat=extip:172.18.30.99 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ac5e8787ca0c46ec2ba2f176665ba7f15eff817c591aaecde206fecc3f94b89d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=33724 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QGaBX3aJYRk3Azz9Ez6HinQRbA_JkJbhxATZ6wbYpW-rPGiP2dGtJ_YkxfdxUNoNUBi6u1yR33YqUcdJ7W8Vc8oBgmlkgnY0gmlwhKwS1gyKbXVsdGlhZGRyc4wACgSsEtYMBhd53QOCcnOFAAMBAACJc2VjcDI1NmsxoQIqbmGGTj1L0W9exu-8A7hEmA1Z8WJR_ZQd_8kNyjAYFYN0Y3CCF3iDdWRwghd6hXdha3UyCQ --lightpushnode=/ip4/172.18.214.12/tcp/6008/p2p/16Uiu2HAkxHJizRgQE8rFCBqk9rFTnj6hKeEAjBNNrAYw4rPJGJyS --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.30.99 waku 1718f2bc43b2c0d64ccdf21f16ada8c842c4dcdcc30895773e5168c16508ac3f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 1718f2bc43b2. Setting up logs at ./log/docker/lightpush_node4_2024-09-19_03-17-57__aff7c8b4-637f-4a6a-9eed-052d74b6240b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 33720
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33720/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33720/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.30.99/tcp/33721/p2p/16Uiu2HAm8Kvk5youHNKxngLBn3vkXDAKFT9Afk5taNtJAtL4rKPU","/ip4/172.18.30.99/tcp/33722/ws/p2p/16Uiu2HAm8Kvk5youHNKxngLBn3vkXDAKFT9Afk5taNtJAtL4rKPU"],"enrUri":"enr:-LO4QGnFZUd5QGc3gdgZsmhBD2rkBmF8UjYKfGDA5VAFhv_pKxs-FAMu94hL9DEYosw5tcju8BbZipPfyKfDx56UT-IBgmlkgnY0gmlwhKwSHmOKbXVsdGlhZGRyc4wACgSsEh5jBoO63QOCcnOFAAMBAACJc2VjcDI1NmsxoQK_ryN2nib-lCvem_8Ez_xsWNGO4JzcubgloVD1S8p9l4N0Y3CCg7mDdWRwgoO7hXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33720/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.214.12/tcp/6008/p2p/16Uiu2HAkxHJizRgQE8rFCBqk9rFTnj6hKeEAjBNNrAYw4rPJGJyS"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33720/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.218.105/tcp/37038/p2p/16Uiu2HAmDgheuyW9FXChr65Y1tkyXQqYJeZRyACJ3cDXvaHti9YQ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6007/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:37037/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59502/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1726715886829346816}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6007/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726715886829346816,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37037/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726715886829346816,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63530/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1726715886946675200}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6007/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726715886946675200,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37037/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726715886946675200,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33322/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1726715887064510720}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6007/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726715887064510720,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37037/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726715887064510720,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33720/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1726715887186883840}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6007/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726715887186883840,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37037/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1726715887186883840,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 3f4dd7313e47
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 9e71a0953322
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id f48bfbf70fcf
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id fe96f3fa0b38
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 8d6b303039f7
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 1718f2bc43b2
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.