[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_light_push_on_non_subscribed_pubsub_topic with id: 2024-09-19_03-18-34__c698ffb3-e13c-4a8b-93d2-447e73d6e4bf
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-09-19_03-18-34__c698ffb3-e13c-4a8b-93d2-447e73d6e4bf__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.170.42
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['50185', '50186', '50187', '50188', '50189']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 50185:50185 -p 50186:50186 -p 50187:50187 -p 50188:50188 -p 50189:50189 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=50187 --rest-port=50185 --tcp-port=50186 --discv5-udp-port=50188 --rest-address=0.0.0.0 --nat=extip:172.18.170.42 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d8fdc0e934a9d2e7d2507d1469decde90aae373b7ff21feddb34dffa57feb8d0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=50189 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.170.42 waku 045e359c1bde6d12ac2ff9bc1a54e7f67460fc2c518b24e60795e19bf681fdf7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 045e359c1bde. Setting up logs at ./log/docker/receiving_node1_2024-09-19_03-18-34__c698ffb3-e13c-4a8b-93d2-447e73d6e4bf__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 50185
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50185/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50185/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.170.42/tcp/50186/p2p/16Uiu2HAmUzD7G4sLhKkPhJTftvsLcSeKLoL7d6R2aqEz2jcPHxmt","/ip4/172.18.170.42/tcp/50187/ws/p2p/16Uiu2HAmUzD7G4sLhKkPhJTftvsLcSeKLoL7d6R2aqEz2jcPHxmt"],"enrUri":"enr:-LO4QHFr-sdlNVOCRiFtxYDqUrXI6Cb3vMek18Vfo_nESdM-LUFMC5XO8bhoNQynq4EfuH6oLtMERaWNPL3bzUAGg2cBgmlkgnY0gmlwhKwSqiqKbXVsdGlhZGRyc4wACgSsEqoqBsQL3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPyp3Or4hzxUfQ4_NOpMOxf-DH9vS9kLR8t4OqsOAbnp4N0Y3CCxAqDdWRwgsQMhXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-09-19_03-18-34__c698ffb3-e13c-4a8b-93d2-447e73d6e4bf__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.130.79
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['35598', '35599', '35600', '35601', '35602']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 35598:35598 -p 35599:35599 -p 35600:35600 -p 35601:35601 -p 35602:35602 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=35600 --rest-port=35598 --tcp-port=35599 --discv5-udp-port=35601 --rest-address=0.0.0.0 --nat=extip:172.18.130.79 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bdafdb0a3b20cc5d4b9eaedbe5aeed4b1bdb678b4ee3bfee5ab6c3caf66adee9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=35602 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.130.79 waku 25232cb30920bee6fe0bd4423598aa0975d5e61a2379c450af36890616d3f8a9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 25232cb30920. Setting up logs at ./log/docker/receiving_node2_2024-09-19_03-18-34__c698ffb3-e13c-4a8b-93d2-447e73d6e4bf__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 35598
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35598/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35598/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.130.79/tcp/35599/p2p/16Uiu2HAmJ9pC2nYa53wLtub4fHE5exwtWKHb6mnTzUad9ySSN9KS","/ip4/172.18.130.79/tcp/35600/ws/p2p/16Uiu2HAmJ9pC2nYa53wLtub4fHE5exwtWKHb6mnTzUad9ySSN9KS"],"enrUri":"enr:-LO4QG7BtCyEAIIFrLeq58lr9Yt8uOYAE4wWBN-T8BBsdJ8cdUFfauiyzSdJACa2k6BMidb2XfjwX33UTTD79YEsJTIBgmlkgnY0gmlwhKwSgk-KbXVsdGlhZGRyc4wACgSsEoJPBosQ3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNRrMpix36-LFpOqgG8r8u9khCjR77h9VD-NszU2eSZxYN0Y3CCiw-DdWRwgosRhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35598/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.170.42/tcp/50186/p2p/16Uiu2HAmUzD7G4sLhKkPhJTftvsLcSeKLoL7d6R2aqEz2jcPHxmt"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-09-19_03-18-34__c698ffb3-e13c-4a8b-93d2-447e73d6e4bf__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.81.28
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['10956', '10957', '10958', '10959', '10960']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 10956:10956 -p 10957:10957 -p 10958:10958 -p 10959:10959 -p 10960:10960 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=10958 --rest-port=10956 --tcp-port=10957 --discv5-udp-port=10959 --rest-address=0.0.0.0 --nat=extip:172.18.81.28 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6fc0311659ea10413d02ebd6bcdbcdeaac4cfded8b7a86bdbf72e0c0edca3dee --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-LO4QHFr-sdlNVOCRiFtxYDqUrXI6Cb3vMek18Vfo_nESdM-LUFMC5XO8bhoNQynq4EfuH6oLtMERaWNPL3bzUAGg2cBgmlkgnY0gmlwhKwSqiqKbXVsdGlhZGRyc4wACgSsEqoqBsQL3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPyp3Or4hzxUfQ4_NOpMOxf-DH9vS9kLR8t4OqsOAbnp4N0Y3CCxAqDdWRwgsQMhXdha3UyCQ --lightpushnode=/ip4/172.18.170.42/tcp/50186/p2p/16Uiu2HAmUzD7G4sLhKkPhJTftvsLcSeKLoL7d6R2aqEz2jcPHxmt --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.81.28 waku 2c9fbaf1839ab8a1c17359193defc288e9a2433fb70344a0d1457c3c3b5b55aa
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 2c9fbaf1839a. Setting up logs at ./log/docker/lightpush_node1_2024-09-19_03-18-34__c698ffb3-e13c-4a8b-93d2-447e73d6e4bf__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 10956
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10956/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QMVNGkx2oMYFCxT14t4orwM8mHjYrZKyVySZjjAUjbLsGayXQCa3K05W7gjOv1gVVW4auVAleYdtSNIggfcAkyeGAZIISfdjgmlkgnY0gmlwhKwRAAOJc2VjcDI1NmsxoQIFdWvuH7cSzRnkh40BhJan57ktvAY_ik7tnua6lgJjEoN0Y3CCKs2DdWRwgirPhXdha3UyCA","listenAddresses":["/ip4/127.0.0.1/tcp/10957/p2p/16Uiu2HAkunysE12mRizgtUCpwHNGJ4hkNxyFHUS1AP6egoK2SP8m","/ip4/127.0.0.1/tcp/10958/ws/p2p/16Uiu2HAkunysE12mRizgtUCpwHNGJ4hkNxyFHUS1AP6egoK2SP8m","/ip4/172.17.0.3/tcp/10957/p2p/16Uiu2HAkunysE12mRizgtUCpwHNGJ4hkNxyFHUS1AP6egoK2SP8m","/ip4/172.17.0.3/tcp/10958/ws/p2p/16Uiu2HAkunysE12mRizgtUCpwHNGJ4hkNxyFHUS1AP6egoK2SP8m"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10956/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.170.42/tcp/50186/p2p/16Uiu2HAmUzD7G4sLhKkPhJTftvsLcSeKLoL7d6R2aqEz2jcPHxmt", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10956/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.130.79/tcp/35599/p2p/16Uiu2HAmJ9pC2nYa53wLtub4fHE5exwtWKHb6mnTzUad9ySSN9KS", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50185/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35598/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10956/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/1", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1726715919233937664}}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 503 Server Error: Service Unavailable for url: http://127.0.0.1:10956/lightpush/v1/message. Response content: b'lightpush errornot_published_to_any_peer'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 045e359c1bde
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 25232cb30920
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 2c9fbaf1839a
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.