[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_update_subscription_add_30_new_content_topics with id: 2024-09-23_03-19-35__af4cbda7-295f-432e-85fa-298b51ff671b
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-09-23_03-19-35__af4cbda7-295f-432e-85fa-298b51ff671b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.242.179
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['35503', '35504', '35505', '35506', '35507']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 35503:35503 -p 35504:35504 -p 35505:35505 -p 35506:35506 -p 35507:35507 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=35505 --rest-port=35503 --tcp-port=35504 --discv5-udp-port=35506 --rest-address=0.0.0.0 --nat=extip:172.18.242.179 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=33a07f5afec8e5a7edbaa92a66a9b7beafdcab6afaca908bfe0d5cefd84062df --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=35507 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.242.179 waku ca937d68c5def33487ef8374bf8af4f187139ec7d9476565052ccf5cdd4582ff
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID ca937d68c5de. Setting up logs at ./log/docker/node1_2024-09-23_03-19-35__af4cbda7-295f-432e-85fa-298b51ff671b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 35503
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35503/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35503/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.242.179/tcp/35504/p2p/16Uiu2HAmLbui8UoZH9nov6G1jmfbZc9J7JNuUBvEpvz1S9evL5T5","/ip4/172.18.242.179/tcp/35505/ws/p2p/16Uiu2HAmLbui8UoZH9nov6G1jmfbZc9J7JNuUBvEpvz1S9evL5T5"],"enrUri":"enr:-LO4QA5XAkFZBYMA62e5Uv2ME95S8I-w956wtUsVIy7YKqxnOla7xJQZWJ-rwqE0lEFdjs6V1_pNkKpS6080ew1KYowBgmlkgnY0gmlwhKwS8rOKbXVsdGlhZGRyc4wACgSsEvKzBoqx3QOCcnOFAAMBAACJc2VjcDI1NmsxoQN2E4F3-z5cwLVtTChp4bx3xOB8r5l4Fhrvy24B_5-eYIN0Y3CCirCDdWRwgoqyhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-09-23_03-19-35__af4cbda7-295f-432e-85fa-298b51ff671b__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.93.210
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['29929', '29930', '29931', '29932', '29933']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 29929:29929 -p 29930:29930 -p 29931:29931 -p 29932:29932 -p 29933:29933 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=29931 --rest-port=29929 --tcp-port=29930 --discv5-udp-port=29932 --rest-address=0.0.0.0 --nat=extip:172.18.93.210 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cdcfdc85d6d56fcff61d0ac88b4efdf6ee7bfff96d3fd8651d465caacc2bebdc --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-LO4QA5XAkFZBYMA62e5Uv2ME95S8I-w956wtUsVIy7YKqxnOla7xJQZWJ-rwqE0lEFdjs6V1_pNkKpS6080ew1KYowBgmlkgnY0gmlwhKwS8rOKbXVsdGlhZGRyc4wACgSsEvKzBoqx3QOCcnOFAAMBAACJc2VjcDI1NmsxoQN2E4F3-z5cwLVtTChp4bx3xOB8r5l4Fhrvy24B_5-eYIN0Y3CCirCDdWRwgoqyhXdha3UyBQ --filternode=/ip4/172.18.242.179/tcp/35504/p2p/16Uiu2HAmLbui8UoZH9nov6G1jmfbZc9J7JNuUBvEpvz1S9evL5T5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.93.210 waku 73e287b527e52a826021a49d86876db39b3c978f31467e02a6a30909dbef41a6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 73e287b527e5. Setting up logs at ./log/docker/node2_2024-09-23_03-19-35__af4cbda7-295f-432e-85fa-298b51ff671b__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 29929
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29929/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QFQoHNNe9k0EwaroO9TaeE7k59BV4OjfYMD5UwZWz63oAOQkyI3oHbqvoXYDMl4dvRfLfBVCLGGCRuS3cdWv05aGAZIc5FBdgmlkgnY0gmlwhKwRAAmJc2VjcDI1NmsxoQL97rzXIrybfbJ-aEgDSlrYLsjWr6F78Yq2Usq6lLo73oN0Y3CCdOqDdWRwgnTshXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/29930/p2p/16Uiu2HAmCWvGWuxkzeACUGcSKxTEFqjsr4Lk5J3cCNyQV5oRMXdX","/ip4/127.0.0.1/tcp/29931/ws/p2p/16Uiu2HAmCWvGWuxkzeACUGcSKxTEFqjsr4Lk5J3cCNyQV5oRMXdX","/ip4/172.17.0.9/tcp/29930/p2p/16Uiu2HAmCWvGWuxkzeACUGcSKxTEFqjsr4Lk5J3cCNyQV5oRMXdX","/ip4/172.17.0.9/tcp/29931/ws/p2p/16Uiu2HAmCWvGWuxkzeACUGcSKxTEFqjsr4Lk5J3cCNyQV5oRMXdX"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29929/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.242.179/tcp/35504/p2p/16Uiu2HAmLbui8UoZH9nov6G1jmfbZc9J7JNuUBvEpvz1S9evL5T5", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35503/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29929/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "425659cb-6434-47b4-84e9-e47c80b09960", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"425659cb-6434-47b4-84e9-e47c80b09960","statusDesc":"OK"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id ca937d68c5de
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 73e287b527e5
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.