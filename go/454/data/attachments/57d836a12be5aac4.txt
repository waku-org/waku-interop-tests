2025-02-04 17:26:06.966 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-04 17:26:06.966 DEBUG [tests.conftest] Running test: test_filter_ping_on_peer_without_subscription with id: 2025-02-04_17-26-06__845a3e3a-4593-480c-a2e9-37c594942834
2025-02-04 17:26:06.967 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-04 17:26:06.967 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2025-02-04 17:26:06.967 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2025-02-04 17:26:06.974 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-04 17:26:06.974 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-04_17-26-06__845a3e3a-4593-480c-a2e9-37c594942834__wakuorg_nwaku:latest.log
2025-02-04 17:26:06.974 DEBUG [src.node.waku_node] Starting Node...
2025-02-04 17:26:06.974 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-04 17:26:06.976 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-04 17:26:06.976 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.145.95
2025-02-04 17:26:06.976 DEBUG [src.node.docker_mananger] Generated ports ['4936', '4937', '4938', '4939', '4940']
2025-02-04 17:26:06.976 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-04 17:26:06.976 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-04 17:26:06.976 DEBUG [src.node.waku_node] Using volumes []
2025-02-04 17:26:06.977 DEBUG [src.node.docker_mananger] docker run -i -t -p 4936:4936 -p 4937:4937 -p 4938:4938 -p 4939:4939 -p 4940:4940 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=4938 --rest-port=4936 --tcp-port=4937 --discv5-udp-port=4939 --rest-address=0.0.0.0 --nat=extip:172.18.145.95 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dfcbceac2fbebb268adae6e8e2086b2f55ce90deebeda6ab9ab39bbefe6d5fb2 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=4940 --metrics-logging=true --relay=true --filter=true
2025-02-04 17:26:07.205 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.145.95 waku d1f4b1d3ec7144766c1b28ea5fd7ed968fabfab129a8645fec1511e7e16a81cf
2025-02-04 17:26:07.238 ERROR [src.node.docker_mananger] Max retries reached for container 02b1d5d35307. Exiting log stream.
2025-02-04 17:26:07.257 DEBUG [src.node.docker_mananger] Container started with ID d1f4b1d3ec71. Setting up logs at ./log/docker/node1_2025-02-04_17-26-06__845a3e3a-4593-480c-a2e9-37c594942834__wakuorg_nwaku:latest.log
2025-02-04 17:26:07.257 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 4936
2025-02-04 17:26:07.258 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-04 17:26:07.767 ERROR [src.node.docker_mananger] Max retries reached for container cd1b8936ec81. Exiting log stream.
2025-02-04 17:26:08.258 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4936/health" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:26:08.261 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-04 17:26:08.261 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-04 17:26:08.261 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4936/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:26:08.264 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.145.95/tcp/4937/p2p/16Uiu2HAm8K8TPWuoekPkqVprQnheqkgcPQJCtuHPEJpsDok9B3jR","/ip4/172.18.145.95/tcp/4938/ws/p2p/16Uiu2HAm8K8TPWuoekPkqVprQnheqkgcPQJCtuHPEJpsDok9B3jR"],"enrUri":"enr:-L24QKm2yqXY4ZpggxlQeq8Fv1Ln7oq5mBNZAJzXs2NJu7odG1chWW7EOTjxLD1pgraFJhy8yIQqfY9fQ9m4RKhKBIQCgmlkgnY0gmlwhKwSkV-KbXVsdGlhZGRyc5YACASsEpFfBhNJAAoErBKRXwYTSt0DgnJzhQADAQAAiXNlY3AyNTZrMaECv3rM9wHQHaugBVm5jZ9Miuc7ZyfM4o6qYSEU5HVf1VSDdGNwghNJg3VkcIITS4V3YWt1MgU"}'
2025-02-04 17:26:08.264 INFO [src.node.waku_node] REST service is ready !!
2025-02-04 17:26:08.264 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2025-02-04 17:26:08.270 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-04 17:26:08.271 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-04_17-26-06__845a3e3a-4593-480c-a2e9-37c594942834__wakuorg_go-waku:latest.log
2025-02-04 17:26:08.271 DEBUG [src.node.waku_node] Starting Node...
2025-02-04 17:26:08.271 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-04 17:26:08.272 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-04 17:26:08.273 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.213.110
2025-02-04 17:26:08.273 DEBUG [src.node.docker_mananger] Generated ports ['61016', '61017', '61018', '61019', '61020']
2025-02-04 17:26:08.273 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-04 17:26:08.273 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-04 17:26:08.273 DEBUG [src.node.waku_node] Using volumes []
2025-02-04 17:26:08.273 DEBUG [src.node.docker_mananger] docker run -i -t -p 61016:61016 -p 61017:61017 -p 61018:61018 -p 61019:61019 -p 61020:61020 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=61018 --rest-port=61016 --tcp-port=61017 --discv5-udp-port=61019 --rest-address=0.0.0.0 --nat=extip:172.18.213.110 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c2d3bd9bdec4ed7ac7646effafaa57d0173f71dd91ecf5fcfcaa863faeba8e1f --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QKm2yqXY4ZpggxlQeq8Fv1Ln7oq5mBNZAJzXs2NJu7odG1chWW7EOTjxLD1pgraFJhy8yIQqfY9fQ9m4RKhKBIQCgmlkgnY0gmlwhKwSkV-KbXVsdGlhZGRyc5YACASsEpFfBhNJAAoErBKRXwYTSt0DgnJzhQADAQAAiXNlY3AyNTZrMaECv3rM9wHQHaugBVm5jZ9Miuc7ZyfM4o6qYSEU5HVf1VSDdGNwghNJg3VkcIITS4V3YWt1MgU --filternode=/ip4/172.18.145.95/tcp/4937/p2p/16Uiu2HAm8K8TPWuoekPkqVprQnheqkgcPQJCtuHPEJpsDok9B3jR --pubsub-topic=/waku/2/rs/3/1
2025-02-04 17:26:08.495 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.213.110 waku 9a2497ffacf051fa5e6ab9afac260d7373888d979d1232568105ff1248faaee6
2025-02-04 17:26:08.547 DEBUG [src.node.docker_mananger] Container started with ID 9a2497ffacf0. Setting up logs at ./log/docker/node2_2025-02-04_17-26-06__845a3e3a-4593-480c-a2e9-37c594942834__wakuorg_go-waku:latest.log
2025-02-04 17:26:08.549 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 61016
2025-02-04 17:26:08.549 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-04 17:26:09.549 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61016/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:26:09.551 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QHgYyfjgCEw-8c6RkIu5nFHZiY9_raJ842fXjrYn5dXdEcdJb9bJbBBUoYJHq7KFWa7q5cxWxEM_B7JcEmVZYjOGAZTR_3mdgmlkgnY0gmlwhKwRAAOCcnOFAAMBAAGJc2VjcDI1NmsxoQOkq7NyWaDJU0miuzVSf9KcNOMkgnjAmN-BRD2LZ5G1zYN0Y3CC7lmDdWRwgu5bhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/61017/p2p/16Uiu2HAmPjo4oATt3KG6uVESJ2a1TQRGWxvyRHAn1BRHPk8ywQLt","/ip4/127.0.0.1/tcp/61018/ws/p2p/16Uiu2HAmPjo4oATt3KG6uVESJ2a1TQRGWxvyRHAn1BRHPk8ywQLt","/ip4/172.17.0.3/tcp/61017/p2p/16Uiu2HAmPjo4oATt3KG6uVESJ2a1TQRGWxvyRHAn1BRHPk8ywQLt","/ip4/172.17.0.3/tcp/61018/ws/p2p/16Uiu2HAmPjo4oATt3KG6uVESJ2a1TQRGWxvyRHAn1BRHPk8ywQLt"]}'
2025-02-04 17:26:09.552 INFO [src.node.waku_node] REST service is ready !!
2025-02-04 17:26:09.552 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:61016/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.145.95/tcp/4937/p2p/16Uiu2HAm8K8TPWuoekPkqVprQnheqkgcPQJCtuHPEJpsDok9B3jR", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-04 17:26:09.554 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-04 17:26:09.555 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61016/filter/v2/subscriptions/05b8134f-df60-45c8-8e4b-a55b11f4d6f8" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:26:09.560 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:61016/filter/v2/subscriptions/05b8134f-df60-45c8-8e4b-a55b11f4d6f8. Response content: b'{"requestId":"05b8134f-df60-45c8-8e4b-a55b11f4d6f8","statusDesc":"peer has no subscription"}'
2025-02-04 17:26:09.563 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-04 17:26:09.564 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-04 17:26:09.564 DEBUG [src.node.waku_node] Stopping container with id d1f4b1d3ec71
2025-02-04 17:26:10.184 DEBUG [src.node.waku_node] Container stopped.
2025-02-04 17:26:10.184 DEBUG [src.node.waku_node] Stopping container with id 9a2497ffacf0
2025-02-04 17:26:10.998 ERROR [src.node.docker_mananger] Max retries reached for container d1f4b1d3ec71. Exiting log stream.
2025-02-04 17:26:11.042 DEBUG [src.node.waku_node] Container stopped.
2025-02-04 17:26:11.045 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-04 17:26:11.050 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-04 17:26:11.053 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
