2025-02-04 17:24:36.765 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-04 17:24:36.765 DEBUG [tests.conftest] Running test: test_filter_subscribe_to_multiple_pubsub_topic_from_same_cluster with id: 2025-02-04_17-24-36__c995ab0e-b835-4850-968d-7ad6e73703a1
2025-02-04 17:24:36.765 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-04 17:24:36.765 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2025-02-04 17:24:36.766 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2025-02-04 17:24:36.771 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-04 17:24:36.772 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-04_17-24-36__c995ab0e-b835-4850-968d-7ad6e73703a1__wakuorg_nwaku:latest.log
2025-02-04 17:24:36.772 DEBUG [src.node.waku_node] Starting Node...
2025-02-04 17:24:36.772 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-04 17:24:36.773 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-04 17:24:36.773 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.141.177
2025-02-04 17:24:36.773 DEBUG [src.node.docker_mananger] Generated ports ['53959', '53960', '53961', '53962', '53963']
2025-02-04 17:24:36.773 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-04 17:24:36.774 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-04 17:24:36.774 DEBUG [src.node.waku_node] Using volumes []
2025-02-04 17:24:36.774 DEBUG [src.node.docker_mananger] docker run -i -t -p 53959:53959 -p 53960:53960 -p 53961:53961 -p 53962:53962 -p 53963:53963 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=53961 --rest-port=53959 --tcp-port=53960 --discv5-udp-port=53962 --rest-address=0.0.0.0 --nat=extip:172.18.141.177 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ccedaeeec265d2dccaccaf8bb0b4daff6eb5bad0e6db7c3ca67eceefff46bbd9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=53963 --metrics-logging=true --relay=true --filter=true
2025-02-04 17:24:36.989 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.141.177 waku 584deaa66ffb4573ed9860d62ef3512e7e8c195064a7bc21bc68781ec8366995
2025-02-04 17:24:37.036 DEBUG [src.node.docker_mananger] Container started with ID 584deaa66ffb. Setting up logs at ./log/docker/node1_2025-02-04_17-24-36__c995ab0e-b835-4850-968d-7ad6e73703a1__wakuorg_nwaku:latest.log
2025-02-04 17:24:37.037 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 53959
2025-02-04 17:24:37.037 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-04 17:24:37.548 ERROR [src.node.docker_mananger] Max retries reached for container 66ae031afd65. Exiting log stream.
2025-02-04 17:24:38.038 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53959/health" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:38.041 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-04 17:24:38.041 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-04 17:24:38.041 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:53959/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:38.043 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.141.177/tcp/53960/p2p/16Uiu2HAkve43yBYpkV9skUty4JVtZk3hn92HLc2y3bwW77HgGdfj","/ip4/172.18.141.177/tcp/53961/ws/p2p/16Uiu2HAkve43yBYpkV9skUty4JVtZk3hn92HLc2y3bwW77HgGdfj"],"enrUri":"enr:-L24QMANchAESRIomcvF-D8k4k8nrCz2vgdPfcTjCBcmCN4WfNu8P4dhm6ZgEzz4TiWPvK5bkBkX9s-PeBc8bPMSFjYCgmlkgnY0gmlwhKwSjbGKbXVsdGlhZGRyc5YACASsEo2xBtLIAAoErBKNsQbSyd0DgnJzhQADAQAAiXNlY3AyNTZrMaECEgedD-2A6jVIhcwISEgmUuj0Lp3y1GVNySYA0odOlx6DdGNwgtLIg3VkcILSyoV3YWt1MgU"}'
2025-02-04 17:24:38.044 INFO [src.node.waku_node] REST service is ready !!
2025-02-04 17:24:38.044 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2025-02-04 17:24:38.050 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-04 17:24:38.050 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-04_17-24-36__c995ab0e-b835-4850-968d-7ad6e73703a1__wakuorg_go-waku:latest.log
2025-02-04 17:24:38.050 DEBUG [src.node.waku_node] Starting Node...
2025-02-04 17:24:38.050 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-04 17:24:38.052 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-04 17:24:38.052 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.58.184
2025-02-04 17:24:38.052 DEBUG [src.node.docker_mananger] Generated ports ['31725', '31726', '31727', '31728', '31729']
2025-02-04 17:24:38.052 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-04 17:24:38.053 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-04 17:24:38.053 DEBUG [src.node.waku_node] Using volumes []
2025-02-04 17:24:38.053 DEBUG [src.node.docker_mananger] docker run -i -t -p 31725:31725 -p 31726:31726 -p 31727:31727 -p 31728:31728 -p 31729:31729 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=31727 --rest-port=31725 --tcp-port=31726 --discv5-udp-port=31728 --rest-address=0.0.0.0 --nat=extip:172.18.58.184 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e84e9e2386cd8fc0b3df9ed81e0d0fbbc1faba79c4ee808db87c26fdf9dc9ec4 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QMANchAESRIomcvF-D8k4k8nrCz2vgdPfcTjCBcmCN4WfNu8P4dhm6ZgEzz4TiWPvK5bkBkX9s-PeBc8bPMSFjYCgmlkgnY0gmlwhKwSjbGKbXVsdGlhZGRyc5YACASsEo2xBtLIAAoErBKNsQbSyd0DgnJzhQADAQAAiXNlY3AyNTZrMaECEgedD-2A6jVIhcwISEgmUuj0Lp3y1GVNySYA0odOlx6DdGNwgtLIg3VkcILSyoV3YWt1MgU --filternode=/ip4/172.18.141.177/tcp/53960/p2p/16Uiu2HAkve43yBYpkV9skUty4JVtZk3hn92HLc2y3bwW77HgGdfj --pubsub-topic=/waku/2/rs/3/1
2025-02-04 17:24:38.285 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.58.184 waku bed3d06dca3f7668dea580e7e4bc5d4ab28f705aa5dac637ddca2207ced60209
2025-02-04 17:24:38.346 DEBUG [src.node.docker_mananger] Container started with ID bed3d06dca3f. Setting up logs at ./log/docker/node2_2025-02-04_17-24-36__c995ab0e-b835-4850-968d-7ad6e73703a1__wakuorg_go-waku:latest.log
2025-02-04 17:24:38.347 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 31725
2025-02-04 17:24:38.347 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-04 17:24:39.348 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31725/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:39.350 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QLJpg__Ax0nCl0DplFH40wSjEhOp_3n0o-dMhq2yiajhBiNibJUSs35WUDQjcJYmY2emHZCh3bwE576kIw5By8GGAZTR_hk4gmlkgnY0gmlwhKwRAAOCcnOFAAMBAAGJc2VjcDI1NmsxoQPWFrYn8kA0YArmGKHQ3kBej4PhbQOWVICkl0ozDWsbuIN0Y3CCe-6DdWRwgnvwhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/31726/p2p/16Uiu2HAmT4hgdkkx7WeeD9PJotYHhnkHnAumtSJmJBVYJ6vKdBy1","/ip4/127.0.0.1/tcp/31727/ws/p2p/16Uiu2HAmT4hgdkkx7WeeD9PJotYHhnkHnAumtSJmJBVYJ6vKdBy1","/ip4/172.17.0.3/tcp/31726/p2p/16Uiu2HAmT4hgdkkx7WeeD9PJotYHhnkHnAumtSJmJBVYJ6vKdBy1","/ip4/172.17.0.3/tcp/31727/ws/p2p/16Uiu2HAmT4hgdkkx7WeeD9PJotYHhnkHnAumtSJmJBVYJ6vKdBy1"]}'
2025-02-04 17:24:39.351 INFO [src.node.waku_node] REST service is ready !!
2025-02-04 17:24:39.351 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:31725/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.141.177/tcp/53960/p2p/16Uiu2HAkve43yBYpkV9skUty4JVtZk3hn92HLc2y3bwW77HgGdfj", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-04 17:24:39.353 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-04 17:24:39.354 DEBUG [tests.filter.test_subscribe_create] Running test with pubsub topic: /waku/2/rs/3/0
2025-02-04 17:24:39.354 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:53959/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-04 17:24:39.357 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:24:39.357 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:31725/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "ca04d909-909b-4010-80dd-125ba705cde6", "contentFilters": ["/waku/2/rs/3/0"], "pubsubTopic": "/waku/2/rs/3/0"}'
2025-02-04 17:24:39.362 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"ca04d909-909b-4010-80dd-125ba705cde6","statusDesc":"OK"}'
2025-02-04 17:24:39.363 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:53959/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/waku/2/rs/3/0", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:24:39.370 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:24:39.370 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:24:39.471 DEBUG [src.steps.filter] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-04 17:24:39.471 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31725/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F0/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:39.473 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/waku/2/rs/3/0","version":0,"timestamp":1738689879363154432,"ephemeral":false}]'
2025-02-04 17:24:39.474 DEBUG [tests.filter.test_subscribe_create] Running test with pubsub topic: /waku/2/rs/3/1
2025-02-04 17:24:39.475 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:53959/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-04 17:24:39.478 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:24:39.478 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:31725/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "98147ef1-eb5e-41d5-9ed8-c054ea4ae512", "contentFilters": ["/waku/2/rs/3/1"], "pubsubTopic": "/waku/2/rs/3/1"}'
2025-02-04 17:24:39.483 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"98147ef1-eb5e-41d5-9ed8-c054ea4ae512","statusDesc":"OK"}'
2025-02-04 17:24:39.484 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:53959/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/waku/2/rs/3/1", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:24:39.488 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:24:39.488 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:24:39.589 DEBUG [src.steps.filter] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-04 17:24:39.589 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31725/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:39.591 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[]'
2025-02-04 17:24:39.591 ERROR [tests.filter.test_subscribe_create] PubsubTopic /waku/2/rs/3/1 failed: Peer NODE_2:wakuorg/go-waku:latest couldn't find any messages
2025-02-04 17:24:39.592 DEBUG [tests.filter.test_subscribe_create] Running test with pubsub topic: /waku/2/rs/3/9
2025-02-04 17:24:39.592 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:53959/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/9"]'
2025-02-04 17:24:39.595 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:24:39.595 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:31725/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "277c3eb2-3ba4-434b-bc55-32d2e32b7015", "contentFilters": ["/waku/2/rs/3/9"], "pubsubTopic": "/waku/2/rs/3/9"}'
2025-02-04 17:24:43.792 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"277c3eb2-3ba4-434b-bc55-32d2e32b7015","statusDesc":"OK"}'
2025-02-04 17:24:43.793 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:53959/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F9" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/waku/2/rs/3/9", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:24:43.798 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:24:43.798 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:24:43.898 DEBUG [src.steps.filter] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-04 17:24:43.898 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31725/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F9/%2Fwaku%2F2%2Frs%2F3%2F9" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:43.900 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[]'
2025-02-04 17:24:43.901 ERROR [tests.filter.test_subscribe_create] PubsubTopic /waku/2/rs/3/9 failed: Peer NODE_2:wakuorg/go-waku:latest couldn't find any messages
2025-02-04 17:24:43.901 DEBUG [tests.filter.test_subscribe_create] Running test with pubsub topic: /waku/2/rs/3/25
2025-02-04 17:24:43.901 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:53959/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/25"]'
2025-02-04 17:24:43.904 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:24:43.905 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:31725/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "9b095b6d-2dbb-48d0-ae4c-38b74fcf9452", "contentFilters": ["/waku/2/rs/3/25"], "pubsubTopic": "/waku/2/rs/3/25"}'
2025-02-04 17:24:44.500 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"9b095b6d-2dbb-48d0-ae4c-38b74fcf9452","statusDesc":"OK"}'
2025-02-04 17:24:44.502 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:53959/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/waku/2/rs/3/25", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:24:44.506 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:24:44.506 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:24:44.607 DEBUG [src.steps.filter] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-04 17:24:44.607 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31725/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F25/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:44.609 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[]'
2025-02-04 17:24:44.610 ERROR [tests.filter.test_subscribe_create] PubsubTopic /waku/2/rs/3/25 failed: Peer NODE_2:wakuorg/go-waku:latest couldn't find any messages
2025-02-04 17:24:44.610 DEBUG [tests.filter.test_subscribe_create] Running test with pubsub topic: /waku/2/rs/3/1000
2025-02-04 17:24:44.610 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:53959/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1000"]'
2025-02-04 17:24:44.613 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:24:44.613 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:31725/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "7a3d6397-136c-449b-aaaf-c2571ac4f88d", "contentFilters": ["/waku/2/rs/3/1000"], "pubsubTopic": "/waku/2/rs/3/1000"}'
2025-02-04 17:24:45.861 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"7a3d6397-136c-449b-aaaf-c2571ac4f88d","statusDesc":"OK"}'
2025-02-04 17:24:45.862 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:53959/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/waku/2/rs/3/1000", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:24:45.867 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:24:45.867 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:24:45.968 DEBUG [src.steps.filter] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-04 17:24:45.968 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:31725/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1000/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:45.970 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[]'
2025-02-04 17:24:45.970 ERROR [tests.filter.test_subscribe_create] PubsubTopic /waku/2/rs/3/1000 failed: Peer NODE_2:wakuorg/go-waku:latest couldn't find any messages
2025-02-04 17:24:46.008 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-04 17:24:46.009 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-04 17:24:46.009 DEBUG [src.node.waku_node] Stopping container with id 584deaa66ffb
2025-02-04 17:24:46.570 DEBUG [src.node.waku_node] Container stopped.
2025-02-04 17:24:46.572 DEBUG [src.node.waku_node] Stopping container with id bed3d06dca3f
2025-02-04 17:24:47.055 DEBUG [src.node.waku_node] Container stopped.
2025-02-04 17:24:47.057 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-04 17:24:47.064 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-04 17:24:47.067 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-04 17:24:47.067 DEBUG [tests.conftest] Running fixture teardown: attach_logs_on_fail
2025-02-04 17:24:47.067 DEBUG [tests.conftest] Test failed, attempting to attach logs to the allure reports
2025-02-04 17:24:47.068 DEBUG [src.libs.common] Attaching file ./log/docker/node1_2025-02-04_17-24-36__c995ab0e-b835-4850-968d-7ad6e73703a1__wakuorg_nwaku:latest.log
2025-02-04 17:24:47.068 DEBUG [src.libs.common] Attaching file ./log/docker/node2_2025-02-04_17-24-36__c995ab0e-b835-4850-968d-7ad6e73703a1__wakuorg_go-waku:latest.log
2025-02-04 17:24:47.072 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-04 17:24:47.073 DEBUG [tests.conftest] Running test: test_filter_subscribe_to_multiple_pubsub_topic_from_same_cluster with id: 2025-02-04_17-24-47__f62cb9ba-9a34-4afe-a62b-aa80cd014858
2025-02-04 17:24:47.073 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-04 17:24:47.073 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2025-02-04 17:24:47.073 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2025-02-04 17:24:47.079 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-04 17:24:47.079 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-04_17-24-47__f62cb9ba-9a34-4afe-a62b-aa80cd014858__wakuorg_nwaku:latest.log
2025-02-04 17:24:47.080 DEBUG [src.node.waku_node] Starting Node...
2025-02-04 17:24:47.080 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-04 17:24:47.081 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-04 17:24:47.081 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.110.142
2025-02-04 17:24:47.081 DEBUG [src.node.docker_mananger] Generated ports ['4226', '4227', '4228', '4229', '4230']
2025-02-04 17:24:47.082 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-04 17:24:47.082 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-04 17:24:47.082 DEBUG [src.node.waku_node] Using volumes []
2025-02-04 17:24:47.082 DEBUG [src.node.docker_mananger] docker run -i -t -p 4226:4226 -p 4227:4227 -p 4228:4228 -p 4229:4229 -p 4230:4230 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=4228 --rest-port=4226 --tcp-port=4227 --discv5-udp-port=4229 --rest-address=0.0.0.0 --nat=extip:172.18.110.142 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=57d5deefaa90daf655f84bc3d0fa5ca1c1be1fe7e1cf13b79edad7da3589677f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=4230 --metrics-logging=true --relay=true --filter=true
2025-02-04 17:24:47.300 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.110.142 waku 7b71503977b47cbe8a4d5e17680268363960f0a920b1f3d58adbb7cb1ad3eb60
2025-02-04 17:24:47.344 DEBUG [src.node.docker_mananger] Container started with ID 7b71503977b4. Setting up logs at ./log/docker/node1_2025-02-04_17-24-47__f62cb9ba-9a34-4afe-a62b-aa80cd014858__wakuorg_nwaku:latest.log
2025-02-04 17:24:47.344 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 4226
2025-02-04 17:24:47.344 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-04 17:24:47.383 ERROR [src.node.docker_mananger] Max retries reached for container 584deaa66ffb. Exiting log stream.
2025-02-04 17:24:47.866 ERROR [src.node.docker_mananger] Max retries reached for container bed3d06dca3f. Exiting log stream.
2025-02-04 17:24:48.345 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4226/health" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:48.348 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-04 17:24:48.348 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-04 17:24:48.348 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:4226/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:48.350 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.110.142/tcp/4227/p2p/16Uiu2HAmSp4m5gXuqRqph3GGkG14hbvTPFiGgFAe5rmGsEPvFGue","/ip4/172.18.110.142/tcp/4228/ws/p2p/16Uiu2HAmSp4m5gXuqRqph3GGkG14hbvTPFiGgFAe5rmGsEPvFGue"],"enrUri":"enr:-L24QONpDe9wajFOO57bvTysyGrg02gBxOAhHghCWPJvoLz9WRiblAn32zc_u9xGcQHhdb4-vAM7G-ca93rh7ZjNfdICgmlkgnY0gmlwhKwSbo6KbXVsdGlhZGRyc5YACASsEm6OBhCDAAoErBJujgYQhN0DgnJzhQADAQAAiXNlY3AyNTZrMaED0lbUtJomIHU65CXDJEmfaBkarnP3qxz1BsLaDrDDiImDdGNwghCDg3VkcIIQhYV3YWt1MgU"}'
2025-02-04 17:24:48.351 INFO [src.node.waku_node] REST service is ready !!
2025-02-04 17:24:48.351 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2025-02-04 17:24:48.357 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-04 17:24:48.357 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-04_17-24-47__f62cb9ba-9a34-4afe-a62b-aa80cd014858__wakuorg_go-waku:latest.log
2025-02-04 17:24:48.357 DEBUG [src.node.waku_node] Starting Node...
2025-02-04 17:24:48.357 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-04 17:24:48.359 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-04 17:24:48.359 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.121.32
2025-02-04 17:24:48.359 DEBUG [src.node.docker_mananger] Generated ports ['27777', '27778', '27779', '27780', '27781']
2025-02-04 17:24:48.359 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-04 17:24:48.359 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-04 17:24:48.359 DEBUG [src.node.waku_node] Using volumes []
2025-02-04 17:24:48.359 DEBUG [src.node.docker_mananger] docker run -i -t -p 27777:27777 -p 27778:27778 -p 27779:27779 -p 27780:27780 -p 27781:27781 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=27779 --rest-port=27777 --tcp-port=27778 --discv5-udp-port=27780 --rest-address=0.0.0.0 --nat=extip:172.18.121.32 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3dc29905fcdc0ab35baebe0aa1b86bea9ae16e30d40dfa9a3dea89963b5b8e8e --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QONpDe9wajFOO57bvTysyGrg02gBxOAhHghCWPJvoLz9WRiblAn32zc_u9xGcQHhdb4-vAM7G-ca93rh7ZjNfdICgmlkgnY0gmlwhKwSbo6KbXVsdGlhZGRyc5YACASsEm6OBhCDAAoErBJujgYQhN0DgnJzhQADAQAAiXNlY3AyNTZrMaED0lbUtJomIHU65CXDJEmfaBkarnP3qxz1BsLaDrDDiImDdGNwghCDg3VkcIIQhYV3YWt1MgU --filternode=/ip4/172.18.110.142/tcp/4227/p2p/16Uiu2HAmSp4m5gXuqRqph3GGkG14hbvTPFiGgFAe5rmGsEPvFGue --pubsub-topic=/waku/2/rs/3/1
2025-02-04 17:24:48.585 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.121.32 waku 9e11b652be2584190e11831ce2a54379d66201df5bd10e3ee6e31e187e61d3ff
2025-02-04 17:24:48.647 DEBUG [src.node.docker_mananger] Container started with ID 9e11b652be25. Setting up logs at ./log/docker/node2_2025-02-04_17-24-47__f62cb9ba-9a34-4afe-a62b-aa80cd014858__wakuorg_go-waku:latest.log
2025-02-04 17:24:48.649 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 27777
2025-02-04 17:24:48.649 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-04 17:24:49.649 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27777/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:49.652 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QLZXj3jl33UQ7nJ_tMj_onr7aqJ8WB_lmX0spwqNcrOEU4Lxsr-0iibmu3kRv3re-GphFGB79--tpfUwz8D5MwWGAZTR_kF6gmlkgnY0gmlwhKwRAAOCcnOFAAMBAAGJc2VjcDI1NmsxoQIi7zU-gLFE-WGpQX5Q9kjad8--L8nMw00nS7RZnUDvnoN0Y3CCbIKDdWRwgmyEhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/27778/p2p/16Uiu2HAkwn3Q4joo8DbJ1NF5S3Tfrr1ej3K8m56A5mZ83ecUNwuf","/ip4/127.0.0.1/tcp/27779/ws/p2p/16Uiu2HAkwn3Q4joo8DbJ1NF5S3Tfrr1ej3K8m56A5mZ83ecUNwuf","/ip4/172.17.0.3/tcp/27778/p2p/16Uiu2HAkwn3Q4joo8DbJ1NF5S3Tfrr1ej3K8m56A5mZ83ecUNwuf","/ip4/172.17.0.3/tcp/27779/ws/p2p/16Uiu2HAkwn3Q4joo8DbJ1NF5S3Tfrr1ej3K8m56A5mZ83ecUNwuf"]}'
2025-02-04 17:24:49.652 INFO [src.node.waku_node] REST service is ready !!
2025-02-04 17:24:49.652 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27777/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.110.142/tcp/4227/p2p/16Uiu2HAmSp4m5gXuqRqph3GGkG14hbvTPFiGgFAe5rmGsEPvFGue", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-04 17:24:49.654 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-04 17:24:49.655 DEBUG [tests.filter.test_subscribe_create] Running test with pubsub topic: /waku/2/rs/3/0
2025-02-04 17:24:49.656 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4226/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-04 17:24:49.658 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:24:49.658 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27777/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "7e71de40-3966-4648-8e31-b37bc4a69946", "contentFilters": ["/waku/2/rs/3/0"], "pubsubTopic": "/waku/2/rs/3/0"}'
2025-02-04 17:24:49.664 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"7e71de40-3966-4648-8e31-b37bc4a69946","statusDesc":"OK"}'
2025-02-04 17:24:49.665 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4226/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/waku/2/rs/3/0", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:24:49.672 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:24:49.672 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:24:49.772 DEBUG [src.steps.filter] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-04 17:24:49.773 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27777/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F0/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:49.775 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/waku/2/rs/3/0","version":0,"timestamp":1738689889665176832,"ephemeral":false}]'
2025-02-04 17:24:49.776 DEBUG [tests.filter.test_subscribe_create] Running test with pubsub topic: /waku/2/rs/3/1
2025-02-04 17:24:49.777 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4226/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-04 17:24:49.779 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:24:49.780 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27777/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "e15f8073-29c7-4001-b317-6d5d831240e0", "contentFilters": ["/waku/2/rs/3/1"], "pubsubTopic": "/waku/2/rs/3/1"}'
2025-02-04 17:24:49.784 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"e15f8073-29c7-4001-b317-6d5d831240e0","statusDesc":"OK"}'
2025-02-04 17:24:49.785 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4226/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/waku/2/rs/3/1", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:24:49.789 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:24:49.790 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:24:49.890 DEBUG [src.steps.filter] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-04 17:24:49.890 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27777/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:49.892 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[]'
2025-02-04 17:24:49.892 ERROR [tests.filter.test_subscribe_create] PubsubTopic /waku/2/rs/3/1 failed: Peer NODE_2:wakuorg/go-waku:latest couldn't find any messages
2025-02-04 17:24:49.893 DEBUG [tests.filter.test_subscribe_create] Running test with pubsub topic: /waku/2/rs/3/9
2025-02-04 17:24:49.893 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4226/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/9"]'
2025-02-04 17:24:49.895 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:24:49.896 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27777/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1891127c-df37-4cb5-aa31-012902142d48", "contentFilters": ["/waku/2/rs/3/9"], "pubsubTopic": "/waku/2/rs/3/9"}'
2025-02-04 17:24:58.096 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"1891127c-df37-4cb5-aa31-012902142d48","statusDesc":"OK"}'
2025-02-04 17:24:58.097 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4226/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F9" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/waku/2/rs/3/9", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:24:58.102 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:24:58.102 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:24:58.202 DEBUG [src.steps.filter] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-04 17:24:58.202 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27777/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F9/%2Fwaku%2F2%2Frs%2F3%2F9" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:58.204 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[]'
2025-02-04 17:24:58.205 ERROR [tests.filter.test_subscribe_create] PubsubTopic /waku/2/rs/3/9 failed: Peer NODE_2:wakuorg/go-waku:latest couldn't find any messages
2025-02-04 17:24:58.205 DEBUG [tests.filter.test_subscribe_create] Running test with pubsub topic: /waku/2/rs/3/25
2025-02-04 17:24:58.205 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4226/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/25"]'
2025-02-04 17:24:58.208 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:24:58.208 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27777/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "8d3b5992-3c16-4318-a52b-15e02fc1b884", "contentFilters": ["/waku/2/rs/3/25"], "pubsubTopic": "/waku/2/rs/3/25"}'
2025-02-04 17:25:03.397 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"8d3b5992-3c16-4318-a52b-15e02fc1b884","statusDesc":"OK"}'
2025-02-04 17:25:03.399 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4226/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/waku/2/rs/3/25", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:25:03.403 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:25:03.403 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:25:03.504 DEBUG [src.steps.filter] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-04 17:25:03.504 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27777/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F25/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:25:03.506 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[]'
2025-02-04 17:25:03.506 ERROR [tests.filter.test_subscribe_create] PubsubTopic /waku/2/rs/3/25 failed: Peer NODE_2:wakuorg/go-waku:latest couldn't find any messages
2025-02-04 17:25:03.506 DEBUG [tests.filter.test_subscribe_create] Running test with pubsub topic: /waku/2/rs/3/1000
2025-02-04 17:25:03.507 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4226/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1000"]'
2025-02-04 17:25:03.509 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:25:03.510 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:27777/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1018ec84-a6d6-4585-acd3-194a485f6470", "contentFilters": ["/waku/2/rs/3/1000"], "pubsubTopic": "/waku/2/rs/3/1000"}'
2025-02-04 17:25:09.020 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"1018ec84-a6d6-4585-acd3-194a485f6470","statusDesc":"OK"}'
2025-02-04 17:25:09.022 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:4226/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/waku/2/rs/3/1000", "timestamp": '$(date +%s%N)'}'
2025-02-04 17:25:09.027 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:25:09.027 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:25:09.127 DEBUG [src.steps.filter] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-04 17:25:09.128 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:27777/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1000/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:25:09.129 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[]'
2025-02-04 17:25:09.130 ERROR [tests.filter.test_subscribe_create] PubsubTopic /waku/2/rs/3/1000 failed: Peer NODE_2:wakuorg/go-waku:latest couldn't find any messages
2025-02-04 17:25:09.137 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-04 17:25:09.138 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-04 17:25:09.138 DEBUG [src.node.waku_node] Stopping container with id 7b71503977b4
2025-02-04 17:25:09.706 DEBUG [src.node.waku_node] Container stopped.
2025-02-04 17:25:09.708 DEBUG [src.node.waku_node] Stopping container with id 9e11b652be25
2025-02-04 17:25:10.193 DEBUG [src.node.waku_node] Container stopped.
2025-02-04 17:25:10.195 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-04 17:25:10.211 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-04 17:25:10.215 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-04 17:25:10.215 DEBUG [tests.conftest] Running fixture teardown: attach_logs_on_fail
2025-02-04 17:25:10.215 DEBUG [tests.conftest] Test failed, attempting to attach logs to the allure reports
2025-02-04 17:25:10.216 DEBUG [src.libs.common] Attaching file ./log/docker/node1_2025-02-04_17-24-47__f62cb9ba-9a34-4afe-a62b-aa80cd014858__wakuorg_nwaku:latest.log
2025-02-04 17:25:10.217 DEBUG [src.libs.common] Attaching file ./log/docker/node2_2025-02-04_17-24-47__f62cb9ba-9a34-4afe-a62b-aa80cd014858__wakuorg_go-waku:latest.log
