2025-02-04 17:24:36.553 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-04 17:24:36.553 DEBUG [tests.conftest] Running test: test_light_push_with_valid_content_topics with id: 2025-02-04_17-24-36__cf04a227-b71d-45a8-9ba3-ce38742893ce
2025-02-04 17:24:36.553 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-04 17:24:36.554 DEBUG [src.steps.light_push] Running fixture setup: light_push_setup
2025-02-04 17:24:36.560 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-04 17:24:36.560 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node1_2025-02-04_17-24-36__cf04a227-b71d-45a8-9ba3-ce38742893ce__wakuorg_nwaku:latest.log
2025-02-04 17:24:36.560 DEBUG [src.node.waku_node] Starting Node...
2025-02-04 17:24:36.561 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-04 17:24:36.562 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-04 17:24:36.562 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.173.41
2025-02-04 17:24:36.563 DEBUG [src.node.docker_mananger] Generated ports ['61637', '61638', '61639', '61640', '61641']
2025-02-04 17:24:36.563 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-04 17:24:36.563 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-04 17:24:36.563 DEBUG [src.node.waku_node] Using volumes []
2025-02-04 17:24:36.563 DEBUG [src.node.docker_mananger] docker run -i -t -p 61637:61637 -p 61638:61638 -p 61639:61639 -p 61640:61640 -p 61641:61641 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=61639 --rest-port=61637 --tcp-port=61638 --discv5-udp-port=61640 --rest-address=0.0.0.0 --nat=extip:172.18.173.41 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ab1c5aaf9ec84ccbac71b8abf6c80556feaffddb6029a7a7f6c6bf8fc47aefda --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=61641 --metrics-logging=true --lightpush=true --relay=true
2025-02-04 17:24:36.713 ERROR [src.node.docker_mananger] Max retries reached for container 836d19a5ff13. Exiting log stream.
2025-02-04 17:24:36.795 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.173.41 waku ace6a256438cea5291313fa905864182dd2b19d2dfa7487ef4b4b4bd39262f5a
2025-02-04 17:24:36.849 DEBUG [src.node.docker_mananger] Container started with ID ace6a256438c. Setting up logs at ./log/docker/receiving_node1_2025-02-04_17-24-36__cf04a227-b71d-45a8-9ba3-ce38742893ce__wakuorg_nwaku:latest.log
2025-02-04 17:24:36.850 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 61637
2025-02-04 17:24:36.851 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-04 17:24:37.356 ERROR [src.node.docker_mananger] Max retries reached for container 2aea6cfa817d. Exiting log stream.
2025-02-04 17:24:37.851 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61637/health" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:37.854 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-04 17:24:37.854 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-04 17:24:37.854 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61637/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:37.857 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.173.41/tcp/61638/p2p/16Uiu2HAmNeSj7tbuos8oFiQyjyraSYM1fxwLmCYaAVJ79k61sLVP","/ip4/172.18.173.41/tcp/61639/ws/p2p/16Uiu2HAmNeSj7tbuos8oFiQyjyraSYM1fxwLmCYaAVJ79k61sLVP"],"enrUri":"enr:-L24QJVEmM56UKLMhX8jq-JqXxp5nUoWXtOsqLcGkRrppP5rU6hPRUOwa_-TGHB7hidHJenD22MmSsO5vfzAoACwlgYCgmlkgnY0gmlwhKwSrSmKbXVsdGlhZGRyc5YACASsEq0pBvDGAAoErBKtKQbwx90DgnJzhQADAQAAiXNlY3AyNTZrMaEDlHEcwMMPVofsKtrvpau6l552hiiDC5w5cig62YVvEMqDdGNwgvDGg3VkcILwyIV3YWt1Mgk"}'
2025-02-04 17:24:37.857 INFO [src.node.waku_node] REST service is ready !!
2025-02-04 17:24:37.864 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-04 17:24:37.864 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node2_2025-02-04_17-24-36__cf04a227-b71d-45a8-9ba3-ce38742893ce__wakuorg_nwaku:latest.log
2025-02-04 17:24:37.864 DEBUG [src.node.waku_node] Starting Node...
2025-02-04 17:24:37.864 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-04 17:24:37.865 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-04 17:24:37.866 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.225.215
2025-02-04 17:24:37.866 DEBUG [src.node.docker_mananger] Generated ports ['55428', '55429', '55430', '55431', '55432']
2025-02-04 17:24:37.866 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-04 17:24:37.866 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-04 17:24:37.866 DEBUG [src.node.waku_node] Using volumes []
2025-02-04 17:24:37.866 DEBUG [src.node.docker_mananger] docker run -i -t -p 55428:55428 -p 55429:55429 -p 55430:55430 -p 55431:55431 -p 55432:55432 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=55430 --rest-port=55428 --tcp-port=55429 --discv5-udp-port=55431 --rest-address=0.0.0.0 --nat=extip:172.18.225.215 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bff5ac1a2dc4a62cd39b34bb6dc1a0be3dd51fefda74a646ccee3bf72f07fab7 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=55432 --metrics-logging=true --lightpush=false --relay=true
2025-02-04 17:24:38.105 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.225.215 waku d7621766cda5def7c802da929fbab039c8d3c6580e1f20ad97e3e4dc76dbff09
2025-02-04 17:24:38.153 DEBUG [src.node.docker_mananger] Container started with ID d7621766cda5. Setting up logs at ./log/docker/receiving_node2_2025-02-04_17-24-36__cf04a227-b71d-45a8-9ba3-ce38742893ce__wakuorg_nwaku:latest.log
2025-02-04 17:24:38.153 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 55428
2025-02-04 17:24:38.153 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-04 17:24:39.153 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55428/health" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:39.156 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-04 17:24:39.156 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-04 17:24:39.156 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55428/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:39.159 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.225.215/tcp/55429/p2p/16Uiu2HAkv4dJW8Z7cHRRNAofo414KUAsZJvwav2i7PQaZoXgmT1S","/ip4/172.18.225.215/tcp/55430/ws/p2p/16Uiu2HAkv4dJW8Z7cHRRNAofo414KUAsZJvwav2i7PQaZoXgmT1S"],"enrUri":"enr:-L24QAP13MrgkECo_tLVkFzCOX6fod-OSaj4C0Tsraqh6KwKHH_RDIea7YvT22qdaarBEhLNDy9ItGN05y8lsIBKfLQCgmlkgnY0gmlwhKwS4deKbXVsdGlhZGRyc5YACASsEuHXBtiFAAoErBLh1wbYht0DgnJzhQADAQAAiXNlY3AyNTZrMaECCXd2arDl9DFN2j3jqUPsBAS1TH7KG0_1Pg4DT-IY2VGDdGNwgtiFg3VkcILYh4V3YWt1MgE"}'
2025-02-04 17:24:39.159 INFO [src.node.waku_node] REST service is ready !!
2025-02-04 17:24:39.159 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55428/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.173.41/tcp/61638/p2p/16Uiu2HAmNeSj7tbuos8oFiQyjyraSYM1fxwLmCYaAVJ79k61sLVP"]'
2025-02-04 17:24:39.197 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:24:39.204 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-04 17:24:39.204 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/lightpush_node1_2025-02-04_17-24-36__cf04a227-b71d-45a8-9ba3-ce38742893ce__wakuorg_go-waku:latest.log
2025-02-04 17:24:39.205 DEBUG [src.node.waku_node] Starting Node...
2025-02-04 17:24:39.205 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-04 17:24:39.207 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-04 17:24:39.207 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.58.253
2025-02-04 17:24:39.207 DEBUG [src.node.docker_mananger] Generated ports ['14351', '14352', '14353', '14354', '14355']
2025-02-04 17:24:39.207 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-04 17:24:39.208 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-04 17:24:39.208 DEBUG [src.node.waku_node] Using volumes []
2025-02-04 17:24:39.208 DEBUG [src.node.docker_mananger] docker run -i -t -p 14351:14351 -p 14352:14352 -p 14353:14353 -p 14354:14354 -p 14355:14355 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=14353 --rest-port=14351 --tcp-port=14352 --discv5-udp-port=14354 --rest-address=0.0.0.0 --nat=extip:172.18.58.253 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8aa312efe7ebddf4bdebc9e2a0bb3fde4cc01d5e7baf575ad08b3eae3bd5beb4 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-L24QJVEmM56UKLMhX8jq-JqXxp5nUoWXtOsqLcGkRrppP5rU6hPRUOwa_-TGHB7hidHJenD22MmSsO5vfzAoACwlgYCgmlkgnY0gmlwhKwSrSmKbXVsdGlhZGRyc5YACASsEq0pBvDGAAoErBKtKQbwx90DgnJzhQADAQAAiXNlY3AyNTZrMaEDlHEcwMMPVofsKtrvpau6l552hiiDC5w5cig62YVvEMqDdGNwgvDGg3VkcILwyIV3YWt1Mgk --lightpushnode=/ip4/172.18.173.41/tcp/61638/p2p/16Uiu2HAmNeSj7tbuos8oFiQyjyraSYM1fxwLmCYaAVJ79k61sLVP --lightpush=true --relay=false --pubsub-topic=/waku/2/rs/3/1
2025-02-04 17:24:39.449 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.58.253 waku a42776e674ec18ca75d78bb349b879f1befae327624396e657f679c0bf29e7d9
2025-02-04 17:24:39.500 DEBUG [src.node.docker_mananger] Container started with ID a42776e674ec. Setting up logs at ./log/docker/lightpush_node1_2025-02-04_17-24-36__cf04a227-b71d-45a8-9ba3-ce38742893ce__wakuorg_go-waku:latest.log
2025-02-04 17:24:39.502 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 14351
2025-02-04 17:24:39.502 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-04 17:24:40.502 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:14351/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:40.505 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QAFn_hBXoHvGYPeuBuGnqTlIvaJsKqgAaQhRR97aeWe9Vsji2Zt2502lZuLCXMUGqGBq4xsaeCTN5Ihlk2-HSMOGAZTR_h3IgmlkgnY0gmlwhKwRAASCcnOFAAMBAAGJc2VjcDI1NmsxoQL-9WIXsHYv36jTfeU98OcvAAY91YLJML1lQWEz_rZzmoN0Y3CCOBCDdWRwgjgShXdha3UyCA","listenAddresses":["/ip4/127.0.0.1/tcp/14352/p2p/16Uiu2HAmCavZ3jxgyc3FwCcLELsMa6RpCorBE7ZX5aUDyC5TvksK","/ip4/127.0.0.1/tcp/14353/ws/p2p/16Uiu2HAmCavZ3jxgyc3FwCcLELsMa6RpCorBE7ZX5aUDyC5TvksK","/ip4/172.17.0.4/tcp/14352/p2p/16Uiu2HAmCavZ3jxgyc3FwCcLELsMa6RpCorBE7ZX5aUDyC5TvksK","/ip4/172.17.0.4/tcp/14353/ws/p2p/16Uiu2HAmCavZ3jxgyc3FwCcLELsMa6RpCorBE7ZX5aUDyC5TvksK"]}'
2025-02-04 17:24:40.505 INFO [src.node.waku_node] REST service is ready !!
2025-02-04 17:24:40.506 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14351/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.173.41/tcp/61638/p2p/16Uiu2HAmNeSj7tbuos8oFiQyjyraSYM1fxwLmCYaAVJ79k61sLVP", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-04 17:24:40.507 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-04 17:24:40.508 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14351/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.225.215/tcp/55429/p2p/16Uiu2HAkv4dJW8Z7cHRRNAofo414KUAsZJvwav2i7PQaZoXgmT1S", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-04 17:24:40.526 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-04 17:24:40.527 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:61637/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-04 17:24:40.532 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:24:40.533 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55428/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-04 17:24:40.535 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:24:40.536 DEBUG [tests.light_push.test_publish] Running test with content topic A simple string
2025-02-04 17:24:40.537 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:24:40.537 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14351/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "Hello World!", "timestamp": 1738689880536937984}}'
2025-02-04 17:24:40.544 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-04 17:24:40.544 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:24:40.645 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:40.645 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61637/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:40.648 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Hello World!","version":0,"timestamp":1738689880536937984,"ephemeral":false}]'
2025-02-04 17:24:40.649 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:40.649 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55428/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:40.651 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Hello World!","version":0,"timestamp":1738689880536937984,"ephemeral":false}]'
2025-02-04 17:24:40.653 DEBUG [tests.light_push.test_publish] Running test with content topic An integer
2025-02-04 17:24:40.653 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:24:40.653 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14351/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "1234567890", "timestamp": 1738689880653464832}}'
2025-02-04 17:24:40.659 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-04 17:24:40.661 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:24:40.761 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:40.762 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61637/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:40.764 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"1234567890","version":0,"timestamp":1738689880653464832,"ephemeral":false}]'
2025-02-04 17:24:40.765 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:40.766 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55428/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:40.768 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"1234567890","version":0,"timestamp":1738689880653464832,"ephemeral":false}]'
2025-02-04 17:24:40.769 DEBUG [tests.light_push.test_publish] Running test with content topic A dictionary
2025-02-04 17:24:40.770 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:24:40.770 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14351/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "{\"key\": \"value\"}", "timestamp": 1738689880769908992}}'
2025-02-04 17:24:40.776 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-04 17:24:40.776 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:24:40.877 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:40.877 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61637/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:40.880 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"{\\"key\\": \\"value\\"}","version":0,"timestamp":1738689880769908992,"ephemeral":false}]'
2025-02-04 17:24:40.881 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:40.881 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55428/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:40.883 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"{\\"key\\": \\"value\\"}","version":0,"timestamp":1738689880769908992,"ephemeral":false}]'
2025-02-04 17:24:40.885 DEBUG [tests.light_push.test_publish] Running test with content topic Chinese characters
2025-02-04 17:24:40.885 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:24:40.885 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14351/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "\u8fd9\u662f\u4e00\u4e9b\u4e2d\u6587", "timestamp": 1738689880885277440}}'
2025-02-04 17:24:40.892 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-04 17:24:40.893 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:24:40.993 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:40.993 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61637/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:40.996 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xe8\xbf\x99\xe6\x98\xaf\xe4\xb8\x80\xe4\xba\x9b\xe4\xb8\xad\xe6\x96\x87","version":0,"timestamp":1738689880885277440,"ephemeral":false}]'
2025-02-04 17:24:40.997 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:40.997 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55428/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:40.999 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xe8\xbf\x99\xe6\x98\xaf\xe4\xb8\x80\xe4\xba\x9b\xe4\xb8\xad\xe6\x96\x87","version":0,"timestamp":1738689880885277440,"ephemeral":false}]'
2025-02-04 17:24:41.001 DEBUG [tests.light_push.test_publish] Running test with content topic Emojis
2025-02-04 17:24:41.001 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:24:41.001 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14351/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "\ud83d\ude80\ud83c\udf1f\u2728", "timestamp": 1738689881001422080}}'
2025-02-04 17:24:41.008 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-04 17:24:41.008 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:24:41.109 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:41.109 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61637/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:41.111 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xf0\x9f\x9a\x80\xf0\x9f\x8c\x9f\xe2\x9c\xa8","version":0,"timestamp":1738689881001422080,"ephemeral":false}]'
2025-02-04 17:24:41.113 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:41.113 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55428/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:41.115 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xf0\x9f\x9a\x80\xf0\x9f\x8c\x9f\xe2\x9c\xa8","version":0,"timestamp":1738689881001422080,"ephemeral":false}]'
2025-02-04 17:24:41.117 DEBUG [tests.light_push.test_publish] Running test with content topic Lorem ipsum text
2025-02-04 17:24:41.117 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:24:41.118 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14351/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "Lorem ipsum dolor sit amet", "timestamp": 1738689881117623040}}'
2025-02-04 17:24:41.124 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-04 17:24:41.125 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:24:41.225 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:41.225 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61637/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:41.228 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Lorem ipsum dolor sit amet","version":0,"timestamp":1738689881117623040,"ephemeral":false}]'
2025-02-04 17:24:41.229 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:41.229 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55428/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:41.231 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Lorem ipsum dolor sit amet","version":0,"timestamp":1738689881117623040,"ephemeral":false}]'
2025-02-04 17:24:41.233 DEBUG [tests.light_push.test_publish] Running test with content topic HTML content
2025-02-04 17:24:41.233 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:24:41.233 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14351/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "<html><body>Hello</body></html>", "timestamp": 1738689881233447424}}'
2025-02-04 17:24:41.239 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-04 17:24:41.239 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:24:41.340 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:41.340 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61637/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:41.343 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"<html><body>Hello</body></html>","version":0,"timestamp":1738689881233447424,"ephemeral":false}]'
2025-02-04 17:24:41.345 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:41.345 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55428/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:41.347 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"<html><body>Hello</body></html>","version":0,"timestamp":1738689881233447424,"ephemeral":false}]'
2025-02-04 17:24:41.349 DEBUG [tests.light_push.test_publish] Running test with content topic Cyrillic characters
2025-02-04 17:24:41.349 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:24:41.349 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14351/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "\u041f\u0440\u0438\u0432\u0435\u0442", "timestamp": 1738689881349438464}}'
2025-02-04 17:24:41.355 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-04 17:24:41.358 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:24:41.458 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:41.458 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61637/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:41.461 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xd0\x9f\xd1\x80\xd0\xb8\xd0\xb2\xd0\xb5\xd1\x82","version":0,"timestamp":1738689881349438464,"ephemeral":false}]'
2025-02-04 17:24:41.462 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:41.462 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55428/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:41.464 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xd0\x9f\xd1\x80\xd0\xb8\xd0\xb2\xd0\xb5\xd1\x82","version":0,"timestamp":1738689881349438464,"ephemeral":false}]'
2025-02-04 17:24:41.466 DEBUG [tests.light_push.test_publish] Running test with content topic Base64 encoded string
2025-02-04 17:24:41.466 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:24:41.466 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14351/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "Base64==dGVzdA==", "timestamp": 1738689881466484224}}'
2025-02-04 17:24:41.473 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-04 17:24:41.473 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:24:41.574 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:41.574 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61637/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:41.576 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Base64==dGVzdA==","version":0,"timestamp":1738689881466484224,"ephemeral":false}]'
2025-02-04 17:24:41.577 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:41.578 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55428/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:41.580 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Base64==dGVzdA==","version":0,"timestamp":1738689881466484224,"ephemeral":false}]'
2025-02-04 17:24:41.581 DEBUG [tests.light_push.test_publish] Running test with content topic Binary data
2025-02-04 17:24:41.581 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:24:41.581 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14351/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "d29ya2luZyB3aXRoIGJpbmFyeSBkYXRh: PQ", "timestamp": 1738689881581598976}}'
2025-02-04 17:24:41.588 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-04 17:24:41.589 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:24:41.690 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:41.690 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61637/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:41.693 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"d29ya2luZyB3aXRoIGJpbmFyeSBkYXRh: PQ","version":0,"timestamp":1738689881581598976,"ephemeral":false}]'
2025-02-04 17:24:41.694 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:41.694 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55428/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:41.697 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"d29ya2luZyB3aXRoIGJpbmFyeSBkYXRh: PQ","version":0,"timestamp":1738689881581598976,"ephemeral":false}]'
2025-02-04 17:24:41.698 DEBUG [tests.light_push.test_publish] Running test with content topic Special characters with whitespace
2025-02-04 17:24:41.698 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:24:41.699 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14351/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "\t\nSpecial\tCharacters\n", "timestamp": 1738689881698687232}}'
2025-02-04 17:24:41.704 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-04 17:24:41.706 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:24:41.807 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:41.807 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61637/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:41.809 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\\t\\nSpecial\\tCharacters\\n","version":0,"timestamp":1738689881698687232,"ephemeral":false}]'
2025-02-04 17:24:41.811 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:41.811 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55428/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:41.813 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\\t\\nSpecial\\tCharacters\\n","version":0,"timestamp":1738689881698687232,"ephemeral":false}]'
2025-02-04 17:24:41.814 DEBUG [tests.light_push.test_publish] Running test with content topic Boolean false as a string
2025-02-04 17:24:41.815 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:24:41.815 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14351/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "False", "timestamp": 1738689881814909184}}'
2025-02-04 17:24:41.821 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-04 17:24:41.823 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:24:41.923 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:41.923 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61637/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:41.926 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"False","version":0,"timestamp":1738689881814909184,"ephemeral":false}]'
2025-02-04 17:24:41.927 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:41.927 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55428/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:41.929 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"False","version":0,"timestamp":1738689881814909184,"ephemeral":false}]'
2025-02-04 17:24:41.931 DEBUG [tests.light_push.test_publish] Running test with content topic A float number
2025-02-04 17:24:41.931 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:24:41.931 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14351/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "3.1415926535", "timestamp": 1738689881931591424}}'
2025-02-04 17:24:41.938 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-04 17:24:41.939 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:24:42.039 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:42.039 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61637/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:42.042 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"3.1415926535","version":0,"timestamp":1738689881931591424,"ephemeral":false}]'
2025-02-04 17:24:42.044 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:42.044 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55428/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:42.046 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"3.1415926535","version":0,"timestamp":1738689881931591424,"ephemeral":false}]'
2025-02-04 17:24:42.047 DEBUG [tests.light_push.test_publish] Running test with content topic A list
2025-02-04 17:24:42.047 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:24:42.048 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14351/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "[1, 2, 3, 4, 5]", "timestamp": 1738689882047787264}}'
2025-02-04 17:24:42.055 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-04 17:24:42.055 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:24:42.155 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:42.156 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61637/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:42.158 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"[1, 2, 3, 4, 5]","version":0,"timestamp":1738689882047787264,"ephemeral":false}]'
2025-02-04 17:24:42.160 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:42.160 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55428/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:42.162 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"[1, 2, 3, 4, 5]","version":0,"timestamp":1738689882047787264,"ephemeral":false}]'
2025-02-04 17:24:42.163 DEBUG [tests.light_push.test_publish] Running test with content topic Hexadecimal number as a string
2025-02-04 17:24:42.164 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:24:42.164 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14351/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "0xDEADBEEF", "timestamp": 1738689882164109824}}'
2025-02-04 17:24:42.170 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-04 17:24:42.172 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:24:42.272 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:42.273 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61637/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:42.275 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"0xDEADBEEF","version":0,"timestamp":1738689882164109824,"ephemeral":false}]'
2025-02-04 17:24:42.277 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:42.277 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55428/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:42.279 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"0xDEADBEEF","version":0,"timestamp":1738689882164109824,"ephemeral":false}]'
2025-02-04 17:24:42.281 DEBUG [tests.light_push.test_publish] Running test with content topic Email format
2025-02-04 17:24:42.281 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:24:42.281 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14351/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "user@example.com", "timestamp": 1738689882281269504}}'
2025-02-04 17:24:42.287 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-04 17:24:42.287 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:24:42.388 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:42.388 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61637/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:42.391 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"user@example.com","version":0,"timestamp":1738689882281269504,"ephemeral":false}]'
2025-02-04 17:24:42.392 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:42.392 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55428/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:42.395 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"user@example.com","version":0,"timestamp":1738689882281269504,"ephemeral":false}]'
2025-02-04 17:24:42.396 DEBUG [tests.light_push.test_publish] Running test with content topic URL format
2025-02-04 17:24:42.396 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:24:42.396 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14351/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "http://example.com", "timestamp": 1738689882396635136}}'
2025-02-04 17:24:42.403 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-04 17:24:42.404 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:24:42.504 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:42.505 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61637/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:42.507 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"http://example.com","version":0,"timestamp":1738689882396635136,"ephemeral":false}]'
2025-02-04 17:24:42.508 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:42.509 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55428/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:42.512 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"http://example.com","version":0,"timestamp":1738689882396635136,"ephemeral":false}]'
2025-02-04 17:24:42.513 DEBUG [tests.light_push.test_publish] Running test with content topic Date and time in ISO format
2025-02-04 17:24:42.513 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:24:42.514 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14351/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "2023-11-01T12:00:00Z", "timestamp": 1738689882513674240}}'
2025-02-04 17:24:42.520 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-04 17:24:42.521 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:24:42.622 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:42.622 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61637/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:42.624 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"2023-11-01T12:00:00Z","version":0,"timestamp":1738689882513674240,"ephemeral":false}]'
2025-02-04 17:24:42.626 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:42.626 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55428/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:42.628 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"2023-11-01T12:00:00Z","version":0,"timestamp":1738689882513674240,"ephemeral":false}]'
2025-02-04 17:24:42.629 DEBUG [tests.light_push.test_publish] Running test with content topic String with escaped quotes
2025-02-04 17:24:42.630 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:24:42.630 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14351/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "\"Escaped\" \\\"quotes\\\"", "timestamp": 1738689882629881856}}'
2025-02-04 17:24:42.636 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-04 17:24:42.637 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:24:42.738 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:42.738 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61637/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:42.741 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\\"Escaped\\" \\\\\\"quotes\\\\\\"","version":0,"timestamp":1738689882629881856,"ephemeral":false}]'
2025-02-04 17:24:42.742 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:42.742 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55428/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:42.744 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\\"Escaped\\" \\\\\\"quotes\\\\\\"","version":0,"timestamp":1738689882629881856,"ephemeral":false}]'
2025-02-04 17:24:42.746 DEBUG [tests.light_push.test_publish] Running test with content topic A regular expression
2025-02-04 17:24:42.746 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:24:42.746 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14351/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "Regular expression: ^[a-z0-9_-]{3,16}$", "timestamp": 1738689882746273536}}'
2025-02-04 17:24:42.753 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-04 17:24:42.754 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:24:42.855 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:42.855 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61637/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:42.858 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Regular expression: ^[a-z0-9_-]{3,16}$","version":0,"timestamp":1738689882746273536,"ephemeral":false}]'
2025-02-04 17:24:42.859 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:42.859 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55428/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:42.862 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Regular expression: ^[a-z0-9_-]{3,16}$","version":0,"timestamp":1738689882746273536,"ephemeral":false}]'
2025-02-04 17:24:42.863 DEBUG [tests.light_push.test_publish] Running test with content topic A very long string
2025-02-04 17:24:42.863 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:24:42.863 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14351/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx", "timestamp": 1738689882863504640}}'
2025-02-04 17:24:42.870 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-04 17:24:42.873 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:24:42.973 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:42.973 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61637/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:42.976 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx","version":0,"timestamp":1738689882863504640,"ephemeral":false}]'
2025-02-04 17:24:42.978 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:42.978 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55428/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:42.980 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx","version":0,"timestamp":1738689882863504640,"ephemeral":false}]'
2025-02-04 17:24:42.982 DEBUG [tests.light_push.test_publish] Running test with content topic A JSON string
2025-02-04 17:24:42.982 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:24:42.982 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14351/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "{\"name\": \"John\", \"age\": 30, \"city\": \"New York\"}", "timestamp": 1738689882982465280}}'
2025-02-04 17:24:42.989 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-04 17:24:42.990 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:24:43.090 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:43.091 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61637/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:43.093 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"{\\"name\\": \\"John\\", \\"age\\": 30, \\"city\\": \\"New York\\"}","version":0,"timestamp":1738689882982465280,"ephemeral":false}]'
2025-02-04 17:24:43.095 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:43.095 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55428/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:43.097 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"{\\"name\\": \\"John\\", \\"age\\": 30, \\"city\\": \\"New York\\"}","version":0,"timestamp":1738689882982465280,"ephemeral":false}]'
2025-02-04 17:24:43.098 DEBUG [tests.light_push.test_publish] Running test with content topic A Unix path
2025-02-04 17:24:43.099 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:24:43.099 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14351/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/usr/local/bin", "timestamp": 1738689883099143936}}'
2025-02-04 17:24:43.105 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-04 17:24:43.105 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:24:43.206 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:43.206 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61637/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:43.208 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/usr/local/bin","version":0,"timestamp":1738689883099143936,"ephemeral":false}]'
2025-02-04 17:24:43.210 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:43.210 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55428/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:43.212 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/usr/local/bin","version":0,"timestamp":1738689883099143936,"ephemeral":false}]'
2025-02-04 17:24:43.213 DEBUG [tests.light_push.test_publish] Running test with content topic A Windows path
2025-02-04 17:24:43.214 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:24:43.214 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14351/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "C:\\Windows\\System32", "timestamp": 1738689883214082816}}'
2025-02-04 17:24:43.220 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-04 17:24:43.221 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:24:43.321 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:43.322 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61637/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:43.324 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"C:\\\\Windows\\\\System32","version":0,"timestamp":1738689883214082816,"ephemeral":false}]'
2025-02-04 17:24:43.326 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:43.326 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55428/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:43.328 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"C:\\\\Windows\\\\System32","version":0,"timestamp":1738689883214082816,"ephemeral":false}]'
2025-02-04 17:24:43.330 DEBUG [tests.light_push.test_publish] Running test with content topic An SQL query
2025-02-04 17:24:43.330 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:24:43.330 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14351/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "SELECT * FROM users WHERE id = 1;", "timestamp": 1738689883330595072}}'
2025-02-04 17:24:43.336 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-04 17:24:43.337 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:24:43.438 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:43.439 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61637/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:43.441 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"SELECT * FROM users WHERE id = 1;","version":0,"timestamp":1738689883330595072,"ephemeral":false}]'
2025-02-04 17:24:43.443 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:43.443 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55428/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:43.446 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"SELECT * FROM users WHERE id = 1;","version":0,"timestamp":1738689883330595072,"ephemeral":false}]'
2025-02-04 17:24:43.447 DEBUG [tests.light_push.test_publish] Running test with content topic JavaScript code snippet
2025-02-04 17:24:43.448 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:24:43.448 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14351/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "function test() { console.log('Hello World'); }", "timestamp": 1738689883448082176}}'
2025-02-04 17:24:43.454 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-04 17:24:43.455 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:24:43.555 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:43.555 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61637/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:43.558 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"function test() { console.log(\'Hello World\'); }","version":0,"timestamp":1738689883448082176,"ephemeral":false}]'
2025-02-04 17:24:43.559 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:43.559 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55428/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:43.561 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"function test() { console.log(\'Hello World\'); }","version":0,"timestamp":1738689883448082176,"ephemeral":false}]'
2025-02-04 17:24:43.563 DEBUG [tests.light_push.test_publish] Running test with content topic A CSS snippet
2025-02-04 17:24:43.563 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:24:43.563 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14351/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "body { background-color: #fff; }", "timestamp": 1738689883563540992}}'
2025-02-04 17:24:43.570 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-04 17:24:43.571 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:24:43.671 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:43.671 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61637/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:43.674 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"body { background-color: #fff; }","version":0,"timestamp":1738689883563540992,"ephemeral":false}]'
2025-02-04 17:24:43.676 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:43.676 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55428/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:43.678 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"body { background-color: #fff; }","version":0,"timestamp":1738689883563540992,"ephemeral":false}]'
2025-02-04 17:24:43.679 DEBUG [tests.light_push.test_publish] Running test with content topic A Python one-liner
2025-02-04 17:24:43.680 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:24:43.680 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14351/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "print('Hello World')", "timestamp": 1738689883680004864}}'
2025-02-04 17:24:43.686 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-04 17:24:43.686 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:24:43.787 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:43.787 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61637/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:43.789 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"print(\'Hello World\')","version":0,"timestamp":1738689883680004864,"ephemeral":false}]'
2025-02-04 17:24:43.791 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:43.791 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55428/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:43.793 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"print(\'Hello World\')","version":0,"timestamp":1738689883680004864,"ephemeral":false}]'
2025-02-04 17:24:43.794 DEBUG [tests.light_push.test_publish] Running test with content topic An IP address
2025-02-04 17:24:43.795 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:24:43.795 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14351/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "192.168.1.1", "timestamp": 1738689883794855680}}'
2025-02-04 17:24:43.801 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-04 17:24:43.801 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:24:43.903 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:43.903 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61637/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:43.906 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"192.168.1.1","version":0,"timestamp":1738689883794855680,"ephemeral":false}]'
2025-02-04 17:24:43.907 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:43.907 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55428/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:43.909 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"192.168.1.1","version":0,"timestamp":1738689883794855680,"ephemeral":false}]'
2025-02-04 17:24:43.911 DEBUG [tests.light_push.test_publish] Running test with content topic A domain name
2025-02-04 17:24:43.911 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:24:43.911 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14351/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "www.example.com", "timestamp": 1738689883911369472}}'
2025-02-04 17:24:43.918 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-04 17:24:43.918 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:24:44.018 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:44.018 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61637/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:44.021 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"www.example.com","version":0,"timestamp":1738689883911369472,"ephemeral":false}]'
2025-02-04 17:24:44.022 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:44.022 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55428/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:44.025 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"www.example.com","version":0,"timestamp":1738689883911369472,"ephemeral":false}]'
2025-02-04 17:24:44.026 DEBUG [tests.light_push.test_publish] Running test with content topic A user agent string
2025-02-04 17:24:44.027 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:24:44.027 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14351/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "Mozilla/5.0 (Windows NT 10.0; Win64; x64)", "timestamp": 1738689884026868736}}'
2025-02-04 17:24:44.033 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-04 17:24:44.034 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:24:44.135 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:44.135 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61637/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:44.138 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Mozilla/5.0 (Windows NT 10.0; Win64; x64)","version":0,"timestamp":1738689884026868736,"ephemeral":false}]'
2025-02-04 17:24:44.139 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:44.139 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55428/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:44.141 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Mozilla/5.0 (Windows NT 10.0; Win64; x64)","version":0,"timestamp":1738689884026868736,"ephemeral":false}]'
2025-02-04 17:24:44.142 DEBUG [tests.light_push.test_publish] Running test with content topic A credit card number
2025-02-04 17:24:44.143 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:24:44.143 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14351/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "1234-5678-9012-3456", "timestamp": 1738689884143040256}}'
2025-02-04 17:24:44.149 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-04 17:24:44.150 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:24:44.251 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:44.251 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61637/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:44.254 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"1234-5678-9012-3456","version":0,"timestamp":1738689884143040256,"ephemeral":false}]'
2025-02-04 17:24:44.256 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:44.256 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55428/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:44.258 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"1234-5678-9012-3456","version":0,"timestamp":1738689884143040256,"ephemeral":false}]'
2025-02-04 17:24:44.260 DEBUG [tests.light_push.test_publish] Running test with content topic A phone number
2025-02-04 17:24:44.260 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:24:44.260 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14351/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "+1234567890", "timestamp": 1738689884260369152}}'
2025-02-04 17:24:44.267 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-04 17:24:44.268 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:24:44.368 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:44.369 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61637/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:44.371 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"+1234567890","version":0,"timestamp":1738689884260369152,"ephemeral":false}]'
2025-02-04 17:24:44.373 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:44.373 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55428/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:44.375 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"+1234567890","version":0,"timestamp":1738689884260369152,"ephemeral":false}]'
2025-02-04 17:24:44.376 DEBUG [tests.light_push.test_publish] Running test with content topic A UUID
2025-02-04 17:24:44.377 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:24:44.377 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14351/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "123e4567-e89b-12d3-a456-426614174000", "timestamp": 1738689884377235712}}'
2025-02-04 17:24:44.385 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-04 17:24:44.386 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:24:44.486 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:44.486 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61637/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:44.489 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"123e4567-e89b-12d3-a456-426614174000","version":0,"timestamp":1738689884377235712,"ephemeral":false}]'
2025-02-04 17:24:44.490 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:44.490 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55428/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:44.492 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"123e4567-e89b-12d3-a456-426614174000","version":0,"timestamp":1738689884377235712,"ephemeral":false}]'
2025-02-04 17:24:44.493 DEBUG [tests.light_push.test_publish] Running test with content topic A hashtag
2025-02-04 17:24:44.494 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:24:44.494 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14351/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "#helloWorld", "timestamp": 1738689884494230016}}'
2025-02-04 17:24:44.500 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-04 17:24:44.501 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:24:44.601 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:44.602 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61637/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:44.605 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"#helloWorld","version":0,"timestamp":1738689884494230016,"ephemeral":false}]'
2025-02-04 17:24:44.606 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:44.606 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55428/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:44.608 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"#helloWorld","version":0,"timestamp":1738689884494230016,"ephemeral":false}]'
2025-02-04 17:24:44.610 DEBUG [tests.light_push.test_publish] Running test with content topic A Twitter handle
2025-02-04 17:24:44.610 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:24:44.610 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14351/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "@username", "timestamp": 1738689884610530048}}'
2025-02-04 17:24:44.616 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-04 17:24:44.619 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:24:44.719 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:44.719 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61637/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:44.721 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"@username","version":0,"timestamp":1738689884610530048,"ephemeral":false}]'
2025-02-04 17:24:44.723 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:44.723 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55428/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:44.725 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"@username","version":0,"timestamp":1738689884610530048,"ephemeral":false}]'
2025-02-04 17:24:44.727 DEBUG [tests.light_push.test_publish] Running test with content topic A password
2025-02-04 17:24:44.727 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:24:44.727 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14351/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "P@ssw0rd!", "timestamp": 1738689884727364864}}'
2025-02-04 17:24:44.735 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-04 17:24:44.735 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:24:44.835 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:44.835 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61637/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:44.838 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"P@ssw0rd!","version":0,"timestamp":1738689884727364864,"ephemeral":false}]'
2025-02-04 17:24:44.839 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:44.839 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55428/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:44.841 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"P@ssw0rd!","version":0,"timestamp":1738689884727364864,"ephemeral":false}]'
2025-02-04 17:24:44.842 DEBUG [tests.light_push.test_publish] Running test with content topic A date in common format
2025-02-04 17:24:44.843 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:24:44.843 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14351/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "01/11/2023", "timestamp": 1738689884843203072}}'
2025-02-04 17:24:44.851 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-04 17:24:44.851 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:24:44.952 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:44.952 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61637/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:44.954 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"01/11/2023","version":0,"timestamp":1738689884843203072,"ephemeral":false}]'
2025-02-04 17:24:44.955 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:44.955 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55428/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:44.958 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"01/11/2023","version":0,"timestamp":1738689884843203072,"ephemeral":false}]'
2025-02-04 17:24:44.959 DEBUG [tests.light_push.test_publish] Running test with content topic A time string
2025-02-04 17:24:44.959 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:24:44.959 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14351/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "12:00:00", "timestamp": 1738689884959503872}}'
2025-02-04 17:24:44.966 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-04 17:24:44.967 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:24:45.067 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:45.068 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61637/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:45.070 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"12:00:00","version":0,"timestamp":1738689884959503872,"ephemeral":false}]'
2025-02-04 17:24:45.072 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:45.072 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55428/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:45.074 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"12:00:00","version":0,"timestamp":1738689884959503872,"ephemeral":false}]'
2025-02-04 17:24:45.075 DEBUG [tests.light_push.test_publish] Running test with content topic A mathematical equation
2025-02-04 17:24:45.076 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:24:45.076 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:14351/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "E = mc^2", "timestamp": 1738689885076138752}}'
2025-02-04 17:24:45.082 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-04 17:24:45.085 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:24:45.185 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:45.185 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61637/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:45.188 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"E = mc^2","version":0,"timestamp":1738689885076138752,"ephemeral":false}]'
2025-02-04 17:24:45.189 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:24:45.189 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55428/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:24:45.191 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"E = mc^2","version":0,"timestamp":1738689885076138752,"ephemeral":false}]'
2025-02-04 17:24:45.194 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-04 17:24:45.195 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-04 17:24:45.195 DEBUG [src.node.waku_node] Stopping container with id ace6a256438c
2025-02-04 17:24:45.734 DEBUG [src.node.waku_node] Container stopped.
2025-02-04 17:24:45.734 DEBUG [src.node.waku_node] Stopping container with id d7621766cda5
2025-02-04 17:24:46.548 ERROR [src.node.docker_mananger] Max retries reached for container ace6a256438c. Exiting log stream.
2025-02-04 17:24:46.803 DEBUG [src.node.waku_node] Container stopped.
2025-02-04 17:24:46.804 DEBUG [src.node.waku_node] Stopping container with id a42776e674ec
2025-02-04 17:24:47.272 DEBUG [src.node.waku_node] Container stopped.
2025-02-04 17:24:47.273 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-04 17:24:47.294 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-04 17:24:47.308 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-04 17:24:47.312 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
