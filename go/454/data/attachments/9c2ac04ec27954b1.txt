2025-02-04 17:28:37.236 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-04 17:28:37.237 DEBUG [tests.conftest] Running test: test_light_push_on_multiple_pubsub_topics with id: 2025-02-04_17-28-37__48fd37e7-ef02-4ef5-b0db-2a481735ce95
2025-02-04 17:28:37.237 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-04 17:28:37.238 DEBUG [src.steps.light_push] Running fixture setup: light_push_setup
2025-02-04 17:28:37.246 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-04 17:28:37.246 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node1_2025-02-04_17-28-37__48fd37e7-ef02-4ef5-b0db-2a481735ce95__wakuorg_nwaku:latest.log
2025-02-04 17:28:37.246 DEBUG [src.node.waku_node] Starting Node...
2025-02-04 17:28:37.246 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-04 17:28:37.248 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-04 17:28:37.248 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.147.237
2025-02-04 17:28:37.248 DEBUG [src.node.docker_mananger] Generated ports ['36787', '36788', '36789', '36790', '36791']
2025-02-04 17:28:37.248 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-04 17:28:37.248 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-04 17:28:37.248 DEBUG [src.node.waku_node] Using volumes []
2025-02-04 17:28:37.248 DEBUG [src.node.docker_mananger] docker run -i -t -p 36787:36787 -p 36788:36788 -p 36789:36789 -p 36790:36790 -p 36791:36791 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=36789 --rest-port=36787 --tcp-port=36788 --discv5-udp-port=36790 --rest-address=0.0.0.0 --nat=extip:172.18.147.237 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cefd1f65787ef40cef158e725976f8b1e1d556cbabfb585ca8afedac2243678d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=36791 --metrics-logging=true --lightpush=true --relay=true
2025-02-04 17:28:37.481 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.147.237 waku 8900fb8f35ed8ba1d84eb2b9abf9c1961333d131c74638b01cf6008ff081afdf
2025-02-04 17:28:37.531 DEBUG [src.node.docker_mananger] Container started with ID 8900fb8f35ed. Setting up logs at ./log/docker/receiving_node1_2025-02-04_17-28-37__48fd37e7-ef02-4ef5-b0db-2a481735ce95__wakuorg_nwaku:latest.log
2025-02-04 17:28:37.532 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 36787
2025-02-04 17:28:37.532 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-04 17:28:38.053 ERROR [src.node.docker_mananger] Max retries reached for container 277a457a0f2f. Exiting log stream.
2025-02-04 17:28:38.534 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36787/health" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:28:38.537 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-04 17:28:38.537 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-04 17:28:38.537 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36787/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:28:38.539 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.147.237/tcp/36788/p2p/16Uiu2HAm6mfxzLVKWQjEZTceqFjuxTqfSib447FQrgVgxeurE1w9","/ip4/172.18.147.237/tcp/36789/ws/p2p/16Uiu2HAm6mfxzLVKWQjEZTceqFjuxTqfSib447FQrgVgxeurE1w9"],"enrUri":"enr:-L24QGaKPQVQ5rXWW663MtMisxjmjRiK_79sSbIBhzVt-4OoADoR3VzOUFX978FqUJmhgEfkjyL84nsN7wUwpP_zi0kCgmlkgnY0gmlwhKwSk-2KbXVsdGlhZGRyc5YACASsEpPtBo-0AAoErBKT7QaPtd0DgnJzhQADAQAAiXNlY3AyNTZrMaECqJAoHSLi1lub9OVrrzDJ_ZlyqKGSDFLhms3YrSh8oJyDdGNwgo-0g3VkcIKPtoV3YWt1Mgk"}'
2025-02-04 17:28:38.539 INFO [src.node.waku_node] REST service is ready !!
2025-02-04 17:28:38.546 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-04 17:28:38.546 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node2_2025-02-04_17-28-37__48fd37e7-ef02-4ef5-b0db-2a481735ce95__wakuorg_nwaku:latest.log
2025-02-04 17:28:38.546 DEBUG [src.node.waku_node] Starting Node...
2025-02-04 17:28:38.547 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-04 17:28:38.548 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-04 17:28:38.548 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.8.68
2025-02-04 17:28:38.548 DEBUG [src.node.docker_mananger] Generated ports ['10881', '10882', '10883', '10884', '10885']
2025-02-04 17:28:38.548 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-04 17:28:38.548 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-04 17:28:38.549 DEBUG [src.node.waku_node] Using volumes []
2025-02-04 17:28:38.549 DEBUG [src.node.docker_mananger] docker run -i -t -p 10881:10881 -p 10882:10882 -p 10883:10883 -p 10884:10884 -p 10885:10885 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=10883 --rest-port=10881 --tcp-port=10882 --discv5-udp-port=10884 --rest-address=0.0.0.0 --nat=extip:172.18.8.68 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2cb9f20b5faa4fdbc40e7a8ae2cbb8c3478a58e07f63fdfc993c85c5bf5cf2fc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=10885 --metrics-logging=true --lightpush=false --relay=true
2025-02-04 17:28:38.780 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.8.68 waku 2e4c55c8fccf7c7b899d765dfed046109c32c526b81037862cd5f16e7380c0f1
2025-02-04 17:28:38.826 DEBUG [src.node.docker_mananger] Container started with ID 2e4c55c8fccf. Setting up logs at ./log/docker/receiving_node2_2025-02-04_17-28-37__48fd37e7-ef02-4ef5-b0db-2a481735ce95__wakuorg_nwaku:latest.log
2025-02-04 17:28:38.827 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 10881
2025-02-04 17:28:38.827 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-04 17:28:39.827 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10881/health" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:28:39.830 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-04 17:28:39.830 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-04 17:28:39.830 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10881/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:28:39.832 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.8.68/tcp/10882/p2p/16Uiu2HAm4bbv8APwbrKgboCnecG3wduwTSyv936oSAWXLzrgB8Tc","/ip4/172.18.8.68/tcp/10883/ws/p2p/16Uiu2HAm4bbv8APwbrKgboCnecG3wduwTSyv936oSAWXLzrgB8Tc"],"enrUri":"enr:-L24QEWCKVjUTxtWWpUG3E_vF-h4U-c6T0Uf5cPnRsJ2t96PVb54P_ai0qeh6aQ4srx6PY3ZDcIBYiNI6a1XV6qz4hoCgmlkgnY0gmlwhKwSCESKbXVsdGlhZGRyc5YACASsEghEBiqCAAoErBIIRAYqg90DgnJzhQADAQAAiXNlY3AyNTZrMaECiERlZamyRotDZWx6GY11ZPSFCe91vWeT2p2cWxZb0GODdGNwgiqCg3VkcIIqhIV3YWt1MgE"}'
2025-02-04 17:28:39.833 INFO [src.node.waku_node] REST service is ready !!
2025-02-04 17:28:39.833 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10881/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.147.237/tcp/36788/p2p/16Uiu2HAm6mfxzLVKWQjEZTceqFjuxTqfSib447FQrgVgxeurE1w9"]'
2025-02-04 17:28:39.871 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:28:39.879 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-04 17:28:39.880 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/lightpush_node1_2025-02-04_17-28-37__48fd37e7-ef02-4ef5-b0db-2a481735ce95__wakuorg_go-waku:latest.log
2025-02-04 17:28:39.880 DEBUG [src.node.waku_node] Starting Node...
2025-02-04 17:28:39.880 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-04 17:28:39.881 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-04 17:28:39.881 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.62.171
2025-02-04 17:28:39.881 DEBUG [src.node.docker_mananger] Generated ports ['48886', '48887', '48888', '48889', '48890']
2025-02-04 17:28:39.882 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-04 17:28:39.882 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-04 17:28:39.882 DEBUG [src.node.waku_node] Using volumes []
2025-02-04 17:28:39.882 DEBUG [src.node.docker_mananger] docker run -i -t -p 48886:48886 -p 48887:48887 -p 48888:48888 -p 48889:48889 -p 48890:48890 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=48888 --rest-port=48886 --tcp-port=48887 --discv5-udp-port=48889 --rest-address=0.0.0.0 --nat=extip:172.18.62.171 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cc8f6a9fbdad51f643e934cdec422377b76fd5ff0b7ba2d2dcd7da8d28ba148a --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-L24QGaKPQVQ5rXWW663MtMisxjmjRiK_79sSbIBhzVt-4OoADoR3VzOUFX978FqUJmhgEfkjyL84nsN7wUwpP_zi0kCgmlkgnY0gmlwhKwSk-2KbXVsdGlhZGRyc5YACASsEpPtBo-0AAoErBKT7QaPtd0DgnJzhQADAQAAiXNlY3AyNTZrMaECqJAoHSLi1lub9OVrrzDJ_ZlyqKGSDFLhms3YrSh8oJyDdGNwgo-0g3VkcIKPtoV3YWt1Mgk --lightpushnode=/ip4/172.18.147.237/tcp/36788/p2p/16Uiu2HAm6mfxzLVKWQjEZTceqFjuxTqfSib447FQrgVgxeurE1w9 --lightpush=true --relay=false --pubsub-topic=/waku/2/rs/3/1
2025-02-04 17:28:40.118 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.62.171 waku bef20463452cf8419ed20abe3f5b505b0799651914c2cc5e6d5c069381656324
2025-02-04 17:28:40.170 DEBUG [src.node.docker_mananger] Container started with ID bef20463452c. Setting up logs at ./log/docker/lightpush_node1_2025-02-04_17-28-37__48fd37e7-ef02-4ef5-b0db-2a481735ce95__wakuorg_go-waku:latest.log
2025-02-04 17:28:40.171 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 48886
2025-02-04 17:28:40.172 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-04 17:28:41.172 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48886/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:28:41.175 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QHYtPPID4P-0a8lG1hOvoeT9vRGcywIYP_T3XmlZ8V2WU222zfHxym1HKDDLBim0ksj6OOVqdyYMnJZrRblMC0CGAZTSAcnlgmlkgnY0gmlwhKwRAASCcnOFAAMBAAGJc2VjcDI1NmsxoQLEjA3qufCb54BvAcZCQWmtjSTVQHBYgTmdNybiya0xtYN0Y3CCvveDdWRwgr75hXdha3UyCA","listenAddresses":["/ip4/127.0.0.1/tcp/48887/p2p/16Uiu2HAm8eukfCUs4ouegFMXSFbTiB9Uva8eaCcjYzAubAX5CTcg","/ip4/127.0.0.1/tcp/48888/ws/p2p/16Uiu2HAm8eukfCUs4ouegFMXSFbTiB9Uva8eaCcjYzAubAX5CTcg","/ip4/172.17.0.4/tcp/48887/p2p/16Uiu2HAm8eukfCUs4ouegFMXSFbTiB9Uva8eaCcjYzAubAX5CTcg","/ip4/172.17.0.4/tcp/48888/ws/p2p/16Uiu2HAm8eukfCUs4ouegFMXSFbTiB9Uva8eaCcjYzAubAX5CTcg"]}'
2025-02-04 17:28:41.175 INFO [src.node.waku_node] REST service is ready !!
2025-02-04 17:28:41.176 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:48886/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.147.237/tcp/36788/p2p/16Uiu2HAm6mfxzLVKWQjEZTceqFjuxTqfSib447FQrgVgxeurE1w9", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-04 17:28:41.177 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-04 17:28:41.178 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:48886/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.8.68/tcp/10882/p2p/16Uiu2HAm4bbv8APwbrKgboCnecG3wduwTSyv936oSAWXLzrgB8Tc", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-04 17:28:41.193 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-04 17:28:41.194 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:36787/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-04 17:28:41.200 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:28:41.202 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10881/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-04 17:28:41.205 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:28:41.206 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:36787/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9", "/waku/2/rs/3/25", "/waku/2/rs/3/1000"]'
2025-02-04 17:28:41.214 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:28:41.215 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10881/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9", "/waku/2/rs/3/25", "/waku/2/rs/3/1000"]'
2025-02-04 17:28:41.225 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-04 17:28:41.225 DEBUG [tests.light_push.test_publish] Running test with pubsub topic /waku/2/rs/3/0
2025-02-04 17:28:41.226 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:28:41.226 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:48886/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1738690121226290176}}'
2025-02-04 17:28:41.238 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-04 17:28:41.239 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:28:41.339 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:28:41.340 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36787/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:28:41.342 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738690121226290176,"ephemeral":false}]'
2025-02-04 17:28:41.344 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:28:41.344 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10881/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:28:41.346 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738690121226290176,"ephemeral":false}]'
2025-02-04 17:28:41.347 DEBUG [tests.light_push.test_publish] Running test with pubsub topic /waku/2/rs/3/1
2025-02-04 17:28:41.348 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:28:41.348 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:48886/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/1", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1738690121348428032}}'
2025-02-04 17:28:41.354 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-04 17:28:41.355 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:28:41.455 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:28:41.455 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36787/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:28:41.457 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738690121348428032,"ephemeral":false}]'
2025-02-04 17:28:41.459 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:28:41.459 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10881/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:28:41.461 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738690121348428032,"ephemeral":false}]'
2025-02-04 17:28:41.462 DEBUG [tests.light_push.test_publish] Running test with pubsub topic /waku/2/rs/3/9
2025-02-04 17:28:41.463 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:28:41.463 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:48886/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/9", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1738690121463135488}}'
2025-02-04 17:28:50.053 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-04 17:28:50.055 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:28:50.156 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:28:50.156 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36787/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F9" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:28:50.159 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738690121463135488,"ephemeral":false}]'
2025-02-04 17:28:50.160 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:28:50.161 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10881/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F9" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:28:50.163 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738690121463135488,"ephemeral":false}]'
2025-02-04 17:28:50.164 DEBUG [tests.light_push.test_publish] Running test with pubsub topic /waku/2/rs/3/25
2025-02-04 17:28:50.164 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:28:50.165 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:48886/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/25", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1738690130164825344}}'
2025-02-04 17:28:50.173 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-04 17:28:50.174 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:28:50.274 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:28:50.275 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36787/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:28:50.278 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738690130164825344,"ephemeral":false}]'
2025-02-04 17:28:50.279 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:28:50.279 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10881/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:28:50.282 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738690130164825344,"ephemeral":false}]'
2025-02-04 17:28:50.283 DEBUG [tests.light_push.test_publish] Running test with pubsub topic /waku/2/rs/3/1000
2025-02-04 17:28:50.284 DEBUG [src.steps.light_push] Lightpushing message
2025-02-04 17:28:50.284 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:48886/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/1000", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1738690130283985664}}'
2025-02-04 17:28:50.291 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-04 17:28:50.291 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-04 17:28:50.392 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:28:50.392 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36787/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:28:50.395 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738690130283985664,"ephemeral":false}]'
2025-02-04 17:28:50.396 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-04 17:28:50.396 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10881/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d 'None'
2025-02-04 17:28:50.399 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738690130283985664,"ephemeral":false}]'
2025-02-04 17:28:50.402 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-04 17:28:50.403 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-04 17:28:50.403 DEBUG [src.node.waku_node] Stopping container with id 8900fb8f35ed
2025-02-04 17:28:51.018 DEBUG [src.node.waku_node] Container stopped.
2025-02-04 17:28:51.019 DEBUG [src.node.waku_node] Stopping container with id 2e4c55c8fccf
2025-02-04 17:28:51.830 ERROR [src.node.docker_mananger] Max retries reached for container 8900fb8f35ed. Exiting log stream.
2025-02-04 17:28:52.550 DEBUG [src.node.waku_node] Container stopped.
2025-02-04 17:28:52.550 DEBUG [src.node.waku_node] Stopping container with id bef20463452c
2025-02-04 17:28:53.076 DEBUG [src.node.waku_node] Container stopped.
2025-02-04 17:28:53.080 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-04 17:28:53.091 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-04 17:28:53.112 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-04 17:28:53.118 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
