[35mDEBUG   [0m tests.conftest:conftest.py:43 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:49 Running test: test_filter_subscribe_with_extra_field with id: 2024-03-24_03-10-54__89e44804-5081-4f0f-8dd0-71fd22c5c026
[35mDEBUG   [0m src.steps.filter:filter.py:27 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:33 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:50 WakuNode instance initialized with log path ./log/docker/node1_2024-03-24_03-10-54__89e44804-5081-4f0f-8dd0-71fd22c5c026__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:54 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.160.100
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['5965', '5966', '5967', '5968', '5969']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:279 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:115 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 5965:5965 -p 5966:5966 -p 5967:5967 -p 5968:5968 -p 5969:5969 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=5967 --rest-port=5965 --tcp-port=5966 --discv5-udp-port=5968 --rest-address=0.0.0.0 --nat=extip:172.18.160.100 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=5969 --metrics-logging=true --relay=true --filter=true --nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.160.100 waku 5f51e4a0f25dbadd6a2581a43dc9611ff92b2a1a3f084db6c7ecd47568305341
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 5f51e4a0f25d. Setting up logs at ./log/docker/node1_2024-03-24_03-10-54__89e44804-5081-4f0f-8dd0-71fd22c5c026__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:121 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 5965
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X GET "http://127.0.0.1:5965/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:23 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.160.100/tcp/5966/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","/ip4/172.18.160.100/tcp/5967/ws/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"],"enrUri":"enr:-LO4QEFjIXXeBZeLMqy3Lamih371eCQb2phsCD94jWJw4J1wOy_AeTAXizo2a7RuTLAUzyDvva7MsJdhtxW7BVA3Cn4BgmlkgnY0gmlwhKwSoGSKbXVsdGlhZGRyc4wACgSsEqBkBhdP3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCF06DdWRwghdQhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:191 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:38 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:50 WakuNode instance initialized with log path ./log/docker/node2_2024-03-24_03-10-54__89e44804-5081-4f0f-8dd0-71fd22c5c026__harbor.status.im_wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:54 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.173.50
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['38132', '38133', '38134', '38135', '38136']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:279 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:115 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 38132:38132 -p 38133:38133 -p 38134:38134 -p 38135:38135 -p 38136:38136 harbor.status.im/wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=38134 --rest-port=38132 --tcp-port=38133 --discv5-udp-port=38135 --rest-address=0.0.0.0 --nat=extip:172.18.173.50 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --relay=false --discv5-bootstrap-node=enr:-LO4QEFjIXXeBZeLMqy3Lamih371eCQb2phsCD94jWJw4J1wOy_AeTAXizo2a7RuTLAUzyDvva7MsJdhtxW7BVA3Cn4BgmlkgnY0gmlwhKwSoGSKbXVsdGlhZGRyc4wACgSsEqBkBhdP3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCF06DdWRwghdQhXdha3UyBQ --filternode=/ip4/172.18.160.100/tcp/5966/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.173.50 waku 4b6d7fee336f20e9d5a9079c290f0632a7f064e08a1dfa6516516973a04a05bd
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 4b6d7fee336f. Setting up logs at ./log/docker/node2_2024-03-24_03-10-54__89e44804-5081-4f0f-8dd0-71fd22c5c026__harbor.status.im_wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:121 Started container from image harbor.status.im/wakuorg/go-waku:latest. REST: 38132
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X GET "http://127.0.0.1:38132/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:23 Response status code: 200. Response content: b'{"enrUri":"enr:-Ly4QGraug3PA5TJu3w0jHKBZbdwMJ4JqVkku0--HMnoMjfWKvG4oS7V329oZ0eneY2kcsXyFHS6_nBAT7k_0dR6_jiGAY5ucJpcgmlkgnY0gmlwhKwRAAOKbXVsdGlhZGRyc5gACgSsEQADBpT23QMACgR_AAABBpT23QOJc2VjcDI1NmsxoQKgVjAybzxGXNXQt36e79Dy6jEB-6E9e82VS7tQ_H3G7IN0Y3CClPWDdWRwgpT3hXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/38133/p2p/16Uiu2HAm6DZSJGmj8s78HbapUX44HAijS4yVTX96fxp1AMAeh9K9","/ip4/127.0.0.1/tcp/38134/ws/p2p/16Uiu2HAm6DZSJGmj8s78HbapUX44HAijS4yVTX96fxp1AMAeh9K9","/ip4/172.17.0.3/tcp/38133/p2p/16Uiu2HAm6DZSJGmj8s78HbapUX44HAijS4yVTX96fxp1AMAeh9K9","/ip4/172.17.0.3/tcp/38134/ws/p2p/16Uiu2HAm6DZSJGmj8s78HbapUX44HAijS4yVTX96fxp1AMAeh9K9"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:191 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:45 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X POST "http://127.0.0.1:5965/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/0/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:23 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X POST "http://127.0.0.1:38132/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "4b706b42-fa78-4366-b28d-4b9d38b3dc3c", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:23 Response status code: 200. Response content: b'{"requestId":"4b706b42-fa78-4366-b28d-4b9d38b3dc3c","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X POST "http://127.0.0.1:38132/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1", "extraField": "extraValue"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:23 Response status code: 200. Response content: b'{"requestId":"1","statusDesc":"OK"}'
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:75 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:168 Stopping container with id 5f51e4a0f25d
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:168 Stopping container with id 4b6d7fee336f
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Container stopped.