[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_get_message_with_valid_timestamps with id: 2025-01-29_03-03-08__cd71304d-d6cf-4442-91ed-65b81859321e
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-01-29_03-03-08__cd71304d-d6cf-4442-91ed-65b81859321e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:33 Network waku created
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.96.88
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['7573', '7574', '7575', '7576', '7577']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 7573:7573 -p 7574:7574 -p 7575:7575 -p 7576:7576 -p 7577:7577 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=7575 --rest-port=7573 --tcp-port=7574 --discv5-udp-port=7576 --rest-address=0.0.0.0 --nat=extip:172.18.96.88 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f004b2eedcbf0d0cfe75a42fcc8fe6148d9e7438d2aaafccb45b1dcbdf5efdd5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=7577 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.96.88 waku 56b1c66b51a7fa2eab0c0be395597304052df24de86267974e02318619b89168
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 56b1c66b51a7. Setting up logs at ./log/docker/node1_2025-01-29_03-03-08__cd71304d-d6cf-4442-91ed-65b81859321e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 7573
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7573/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7573/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.96.88/tcp/7574/p2p/16Uiu2HAmJTLMCjJbNYx2JUCCjxJTCnS2GSiEtcG7nktQJKBzkc9s","/ip4/172.18.96.88/tcp/7575/ws/p2p/16Uiu2HAmJTLMCjJbNYx2JUCCjxJTCnS2GSiEtcG7nktQJKBzkc9s"],"enrUri":"enr:-L24QCTJda6oUFScdnwpiaWVxrNYN0bkhnfnCT47HfztbMC3GLr0_bUqPX-64LMVC0uj457M5WJEWXVr8MXL2iK-7NMCgmlkgnY0gmlwhKwSYFiKbXVsdGlhZGRyc5YACASsEmBYBh2WAAoErBJgWAYdl90DgnJzhQADAQAAiXNlY3AyNTZrMaEDVinDpHwFOAdhHh8DeC8Nj7OBI1Oe-gbiJNads0udz3aDdGNwgh2Wg3VkcIIdmIV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-01-29_03-03-08__cd71304d-d6cf-4442-91ed-65b81859321e__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.107.83
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['27128', '27129', '27130', '27131', '27132']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 27128:27128 -p 27129:27129 -p 27130:27130 -p 27131:27131 -p 27132:27132 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=27130 --rest-port=27128 --tcp-port=27129 --discv5-udp-port=27131 --rest-address=0.0.0.0 --nat=extip:172.18.107.83 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=81ae990dddcedc0aa6cfb5c0da73da6aa35ebc94ad05c967b7be01bec2fea4e4 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QCTJda6oUFScdnwpiaWVxrNYN0bkhnfnCT47HfztbMC3GLr0_bUqPX-64LMVC0uj457M5WJEWXVr8MXL2iK-7NMCgmlkgnY0gmlwhKwSYFiKbXVsdGlhZGRyc5YACASsEmBYBh2WAAoErBJgWAYdl90DgnJzhQADAQAAiXNlY3AyNTZrMaEDVinDpHwFOAdhHh8DeC8Nj7OBI1Oe-gbiJNads0udz3aDdGNwgh2Wg3VkcIIdmIV3YWt1MgU --filternode=/ip4/172.18.96.88/tcp/7574/p2p/16Uiu2HAmJTLMCjJbNYx2JUCCjxJTCnS2GSiEtcG7nktQJKBzkc9s --pubsub-topic=/waku/2/rs/3/1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.107.83 waku bbc8ecdf58e2a26a05520787c1bead62b2607f2007ddc1bfeb31ce1e5855ff68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID bbc8ecdf58e2. Setting up logs at ./log/docker/node2_2025-01-29_03-03-08__cd71304d-d6cf-4442-91ed-65b81859321e__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 27128
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27128/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QCV3dY2k1XL7mCZan_sYtPa57feeSR7lZRKfxgXxEJQoSlmTUM3eO3t7udWDAcYwoW_Jr4kFSoF0BnPngneVwDGGAZSwA1PxgmlkgnY0gmlwhKwRAAOCcnOFAAMBAAGJc2VjcDI1NmsxoQPPylhI3voqi-7eZtNFxt_yD-51h82BiiHCbKufn5XMRIN0Y3CCafmDdWRwgmn7hXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/27129/p2p/16Uiu2HAmSe7hVJkq8TGsjTGQrGtU86uAjF97qMPcyiVjZxX1CWgb","/ip4/127.0.0.1/tcp/27130/ws/p2p/16Uiu2HAmSe7hVJkq8TGsjTGQrGtU86uAjF97qMPcyiVjZxX1CWgb","/ip4/172.17.0.3/tcp/27129/p2p/16Uiu2HAmSe7hVJkq8TGsjTGQrGtU86uAjF97qMPcyiVjZxX1CWgb","/ip4/172.17.0.3/tcp/27130/ws/p2p/16Uiu2HAmSe7hVJkq8TGsjTGQrGtU86uAjF97qMPcyiVjZxX1CWgb"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27128/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.96.88/tcp/7574/p2p/16Uiu2HAmJTLMCjJbNYx2JUCCjxJTCnS2GSiEtcG7nktQJKBzkc9s", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7573/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27128/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "0627e8ab-f6ab-4a8e-a689-c232905c0d77", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:27128/filter/v2/subscriptions. Response content: b'{"requestId":"0627e8ab-f6ab-4a8e-a689-c232905c0d77","statusDesc":"subscription failed"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27128/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "0627e8ab-f6ab-4a8e-a689-c232905c0d77", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"0627e8ab-f6ab-4a8e-a689-c232905c0d77","statusDesc":"OK"}'
[35mDEBUG   [0m tests.filter.test_get_messages:test_get_messages.py:31 Running test with timestamp Now
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7573/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27128/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[]'
[31m[1mERROR   [0m tests.filter.test_get_messages:test_get_messages.py:36 Timestamp Now failed: Peer NODE_2:wakuorg/go-waku:latest couldn't find any messages
[35mDEBUG   [0m tests.filter.test_get_messages:test_get_messages.py:31 Running test with timestamp Far future
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7573/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27128/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[]'
[31m[1mERROR   [0m tests.filter.test_get_messages:test_get_messages.py:36 Timestamp Far future failed: Peer NODE_2:wakuorg/go-waku:latest couldn't find any messages
[35mDEBUG   [0m tests.filter.test_get_messages:test_get_messages.py:31 Running test with timestamp Recent past
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7573/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27128/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[]'
[31m[1mERROR   [0m tests.filter.test_get_messages:test_get_messages.py:36 Timestamp Recent past failed: Peer NODE_2:wakuorg/go-waku:latest couldn't find any messages
[35mDEBUG   [0m tests.filter.test_get_messages:test_get_messages.py:31 Running test with timestamp Near future
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7573/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27128/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[]'
[31m[1mERROR   [0m tests.filter.test_get_messages:test_get_messages.py:36 Timestamp Near future failed: Peer NODE_2:wakuorg/go-waku:latest couldn't find any messages
[35mDEBUG   [0m tests.filter.test_get_messages:test_get_messages.py:31 Running test with timestamp Positive number
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7573/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27128/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[]'
[31m[1mERROR   [0m tests.filter.test_get_messages:test_get_messages.py:36 Timestamp Positive number failed: Peer NODE_2:wakuorg/go-waku:latest couldn't find any messages
[35mDEBUG   [0m tests.filter.test_get_messages:test_get_messages.py:31 Running test with timestamp Negative number
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7573/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27128/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[]'
[31m[1mERROR   [0m tests.filter.test_get_messages:test_get_messages.py:36 Timestamp Negative number failed: Peer NODE_2:wakuorg/go-waku:latest couldn't find any messages
[35mDEBUG   [0m tests.filter.test_get_messages:test_get_messages.py:31 Running test with timestamp DST change
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7573/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27128/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[]'
[31m[1mERROR   [0m tests.filter.test_get_messages:test_get_messages.py:36 Timestamp DST change failed: Peer NODE_2:wakuorg/go-waku:latest couldn't find any messages
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 56b1c66b51a7
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id bbc8ecdf58e2
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node2_2025-01-29_03-03-08__cd71304d-d6cf-4442-91ed-65b81859321e__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node1_2025-01-29_03-03-08__cd71304d-d6cf-4442-91ed-65b81859321e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_get_message_with_valid_timestamps with id: 2025-01-29_03-03-20__69807c54-27c2-4546-8ca9-b9e62cd00f91
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-01-29_03-03-20__69807c54-27c2-4546-8ca9-b9e62cd00f91__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.205.180
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['42851', '42852', '42853', '42854', '42855']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 42851:42851 -p 42852:42852 -p 42853:42853 -p 42854:42854 -p 42855:42855 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=42853 --rest-port=42851 --tcp-port=42852 --discv5-udp-port=42854 --rest-address=0.0.0.0 --nat=extip:172.18.205.180 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=efb6a6d2d98cd6bb7d2fc238cf91230cf9ede704d7ddffeca5f435d71e4ac011 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=42855 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.205.180 waku 0c1d235c0e42c548cd3a788207ebf1a030e9e513b85eb6651c681671419d1174
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 56b1c66b51a7. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 0c1d235c0e42. Setting up logs at ./log/docker/node1_2025-01-29_03-03-20__69807c54-27c2-4546-8ca9-b9e62cd00f91__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 42851
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container bbc8ecdf58e2. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42851/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42851/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.205.180/tcp/42852/p2p/16Uiu2HAmQPNh39Ww8oXHRHPkzaWMPFjfKwpBKMr6PbjZd7NwTScf","/ip4/172.18.205.180/tcp/42853/ws/p2p/16Uiu2HAmQPNh39Ww8oXHRHPkzaWMPFjfKwpBKMr6PbjZd7NwTScf"],"enrUri":"enr:-L24QJA4_yB5ZcSboktvJoWjSl8IQH85ZDwbl_ZYXUgRdHppY648Vqrr85qtnWmH4OngyTmo3hOJPbToPg9LSswiSewCgmlkgnY0gmlwhKwSzbSKbXVsdGlhZGRyc5YACASsEs20BqdkAAoErBLNtAanZd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDrkw17CUEyZ_zADQpoGdUNoIrmTbm1Q4U053XT3qFy6iDdGNwgqdkg3VkcIKnZoV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-01-29_03-03-20__69807c54-27c2-4546-8ca9-b9e62cd00f91__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.100.169
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['27789', '27790', '27791', '27792', '27793']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 27789:27789 -p 27790:27790 -p 27791:27791 -p 27792:27792 -p 27793:27793 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=27791 --rest-port=27789 --tcp-port=27790 --discv5-udp-port=27792 --rest-address=0.0.0.0 --nat=extip:172.18.100.169 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a419fcc732dd480f87dd415a0f5f3e8cc72ba0d6d41743c0c1cb80ec7fcad3ad --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QJA4_yB5ZcSboktvJoWjSl8IQH85ZDwbl_ZYXUgRdHppY648Vqrr85qtnWmH4OngyTmo3hOJPbToPg9LSswiSewCgmlkgnY0gmlwhKwSzbSKbXVsdGlhZGRyc5YACASsEs20BqdkAAoErBLNtAanZd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDrkw17CUEyZ_zADQpoGdUNoIrmTbm1Q4U053XT3qFy6iDdGNwgqdkg3VkcIKnZoV3YWt1MgU --filternode=/ip4/172.18.205.180/tcp/42852/p2p/16Uiu2HAmQPNh39Ww8oXHRHPkzaWMPFjfKwpBKMr6PbjZd7NwTScf --pubsub-topic=/waku/2/rs/3/1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.100.169 waku 739238eb2fc3e2165a7e900206654f455f76c84a05dff3b4dedb32421290ad21
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 739238eb2fc3. Setting up logs at ./log/docker/node2_2025-01-29_03-03-20__69807c54-27c2-4546-8ca9-b9e62cd00f91__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 27789
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27789/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QPCS1OXaEwj_rhPKtOGiRGOuT-ZUjUch5IMrPLYE9nKkHbltVUyoQ-VCocnCUSdtkX-ZX2ISa5GAOtuOwUaSS0OGAZSwA20PgmlkgnY0gmlwhKwRAAOCcnOFAAMBAAGJc2VjcDI1NmsxoQP_jp3LaQ4plb8zmOFwptYKn0l8jgVkBy0NUE7ucJRTzIN0Y3CCbI6DdWRwgmyQhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/27790/p2p/16Uiu2HAmVraSiaZz7ZZDKZjPVnEPc6MsHRpfgdfvxxEcMphoFkTD","/ip4/127.0.0.1/tcp/27791/ws/p2p/16Uiu2HAmVraSiaZz7ZZDKZjPVnEPc6MsHRpfgdfvxxEcMphoFkTD","/ip4/172.17.0.3/tcp/27790/p2p/16Uiu2HAmVraSiaZz7ZZDKZjPVnEPc6MsHRpfgdfvxxEcMphoFkTD","/ip4/172.17.0.3/tcp/27791/ws/p2p/16Uiu2HAmVraSiaZz7ZZDKZjPVnEPc6MsHRpfgdfvxxEcMphoFkTD"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27789/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.205.180/tcp/42852/p2p/16Uiu2HAmQPNh39Ww8oXHRHPkzaWMPFjfKwpBKMr6PbjZd7NwTScf", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42851/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27789/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "9770a649-8196-4798-98c5-90d281829006", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:27789/filter/v2/subscriptions. Response content: b'{"requestId":"9770a649-8196-4798-98c5-90d281829006","statusDesc":"subscription failed"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27789/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "9770a649-8196-4798-98c5-90d281829006", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:27789/filter/v2/subscriptions. Response content: b'{"requestId":"9770a649-8196-4798-98c5-90d281829006","statusDesc":"subscription failed"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27789/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "9770a649-8196-4798-98c5-90d281829006", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:27789/filter/v2/subscriptions. Response content: b'{"requestId":"9770a649-8196-4798-98c5-90d281829006","statusDesc":"subscription failed"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27789/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "9770a649-8196-4798-98c5-90d281829006", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:27789/filter/v2/subscriptions. Response content: b'{"requestId":"9770a649-8196-4798-98c5-90d281829006","statusDesc":"subscription failed"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27789/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "9770a649-8196-4798-98c5-90d281829006", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:27789/filter/v2/subscriptions. Response content: b'{"requestId":"9770a649-8196-4798-98c5-90d281829006","statusDesc":"subscription failed"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27789/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "9770a649-8196-4798-98c5-90d281829006", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:27789/filter/v2/subscriptions. Response content: b'{"requestId":"9770a649-8196-4798-98c5-90d281829006","statusDesc":"subscription failed"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27789/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "9770a649-8196-4798-98c5-90d281829006", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:27789/filter/v2/subscriptions. Response content: b'{"requestId":"9770a649-8196-4798-98c5-90d281829006","statusDesc":"subscription failed"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27789/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "9770a649-8196-4798-98c5-90d281829006", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:27789/filter/v2/subscriptions. Response content: b'{"requestId":"9770a649-8196-4798-98c5-90d281829006","statusDesc":"subscription failed"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27789/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "9770a649-8196-4798-98c5-90d281829006", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:27789/filter/v2/subscriptions. Response content: b'{"requestId":"9770a649-8196-4798-98c5-90d281829006","statusDesc":"subscription failed"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27789/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "9770a649-8196-4798-98c5-90d281829006", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:27789/filter/v2/subscriptions. Response content: b'{"requestId":"9770a649-8196-4798-98c5-90d281829006","statusDesc":"subscription failed"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27789/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "9770a649-8196-4798-98c5-90d281829006", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:27789/filter/v2/subscriptions. Response content: b'{"requestId":"9770a649-8196-4798-98c5-90d281829006","statusDesc":"subscription failed"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27789/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "9770a649-8196-4798-98c5-90d281829006", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:27789/filter/v2/subscriptions. Response content: b'{"requestId":"9770a649-8196-4798-98c5-90d281829006","statusDesc":"subscription failed"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27789/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "9770a649-8196-4798-98c5-90d281829006", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:27789/filter/v2/subscriptions. Response content: b'{"requestId":"9770a649-8196-4798-98c5-90d281829006","statusDesc":"subscription failed"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27789/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "9770a649-8196-4798-98c5-90d281829006", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:27789/filter/v2/subscriptions. Response content: b'{"requestId":"9770a649-8196-4798-98c5-90d281829006","statusDesc":"subscription failed"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27789/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "9770a649-8196-4798-98c5-90d281829006", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:27789/filter/v2/subscriptions. Response content: b'{"requestId":"9770a649-8196-4798-98c5-90d281829006","statusDesc":"subscription failed"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27789/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "9770a649-8196-4798-98c5-90d281829006", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:27789/filter/v2/subscriptions. Response content: b'{"requestId":"9770a649-8196-4798-98c5-90d281829006","statusDesc":"subscription failed"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27789/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "9770a649-8196-4798-98c5-90d281829006", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:27789/filter/v2/subscriptions. Response content: b'{"requestId":"9770a649-8196-4798-98c5-90d281829006","statusDesc":"subscription failed"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27789/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "9770a649-8196-4798-98c5-90d281829006", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:27789/filter/v2/subscriptions. Response content: b'{"requestId":"9770a649-8196-4798-98c5-90d281829006","statusDesc":"subscription failed"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27789/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "9770a649-8196-4798-98c5-90d281829006", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:27789/filter/v2/subscriptions. Response content: b'{"requestId":"9770a649-8196-4798-98c5-90d281829006","statusDesc":"subscription failed"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27789/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "9770a649-8196-4798-98c5-90d281829006", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:27789/filter/v2/subscriptions. Response content: b'{"requestId":"9770a649-8196-4798-98c5-90d281829006","statusDesc":"subscription failed"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27789/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "9770a649-8196-4798-98c5-90d281829006", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:27789/filter/v2/subscriptions. Response content: b'{"requestId":"9770a649-8196-4798-98c5-90d281829006","statusDesc":"subscription failed"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27789/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "9770a649-8196-4798-98c5-90d281829006", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:27789/filter/v2/subscriptions. Response content: b'{"requestId":"9770a649-8196-4798-98c5-90d281829006","statusDesc":"subscription failed"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27789/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "9770a649-8196-4798-98c5-90d281829006", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:27789/filter/v2/subscriptions. Response content: b'{"requestId":"9770a649-8196-4798-98c5-90d281829006","statusDesc":"subscription failed"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27789/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "9770a649-8196-4798-98c5-90d281829006", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:27789/filter/v2/subscriptions. Response content: b'{"requestId":"9770a649-8196-4798-98c5-90d281829006","statusDesc":"subscription failed"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27789/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "9770a649-8196-4798-98c5-90d281829006", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"9770a649-8196-4798-98c5-90d281829006","statusDesc":"OK"}'
[35mDEBUG   [0m tests.filter.test_get_messages:test_get_messages.py:31 Running test with timestamp Now
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42851/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27789/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[]'
[31m[1mERROR   [0m tests.filter.test_get_messages:test_get_messages.py:36 Timestamp Now failed: Peer NODE_2:wakuorg/go-waku:latest couldn't find any messages
[35mDEBUG   [0m tests.filter.test_get_messages:test_get_messages.py:31 Running test with timestamp Far future
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42851/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27789/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[]'
[31m[1mERROR   [0m tests.filter.test_get_messages:test_get_messages.py:36 Timestamp Far future failed: Peer NODE_2:wakuorg/go-waku:latest couldn't find any messages
[35mDEBUG   [0m tests.filter.test_get_messages:test_get_messages.py:31 Running test with timestamp Recent past
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42851/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27789/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[]'
[31m[1mERROR   [0m tests.filter.test_get_messages:test_get_messages.py:36 Timestamp Recent past failed: Peer NODE_2:wakuorg/go-waku:latest couldn't find any messages
[35mDEBUG   [0m tests.filter.test_get_messages:test_get_messages.py:31 Running test with timestamp Near future
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42851/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27789/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[]'
[31m[1mERROR   [0m tests.filter.test_get_messages:test_get_messages.py:36 Timestamp Near future failed: Peer NODE_2:wakuorg/go-waku:latest couldn't find any messages
[35mDEBUG   [0m tests.filter.test_get_messages:test_get_messages.py:31 Running test with timestamp Positive number
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42851/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27789/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[]'
[31m[1mERROR   [0m tests.filter.test_get_messages:test_get_messages.py:36 Timestamp Positive number failed: Peer NODE_2:wakuorg/go-waku:latest couldn't find any messages
[35mDEBUG   [0m tests.filter.test_get_messages:test_get_messages.py:31 Running test with timestamp Negative number
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42851/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27789/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[]'
[31m[1mERROR   [0m tests.filter.test_get_messages:test_get_messages.py:36 Timestamp Negative number failed: Peer NODE_2:wakuorg/go-waku:latest couldn't find any messages
[35mDEBUG   [0m tests.filter.test_get_messages:test_get_messages.py:31 Running test with timestamp DST change
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42851/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27789/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[]'
[31m[1mERROR   [0m tests.filter.test_get_messages:test_get_messages.py:36 Timestamp DST change failed: Peer NODE_2:wakuorg/go-waku:latest couldn't find any messages
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 0c1d235c0e42
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 739238eb2fc3
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node1_2025-01-29_03-03-20__69807c54-27c2-4546-8ca9-b9e62cd00f91__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node2_2025-01-29_03-03-20__69807c54-27c2-4546-8ca9-b9e62cd00f91__wakuorg_go-waku:latest.log
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_get_message_with_valid_timestamps with id: 2025-01-29_03-03-49__4eb874a7-c322-4baf-a5de-3c8fd64ffcf2
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-01-29_03-03-49__4eb874a7-c322-4baf-a5de-3c8fd64ffcf2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.199.144
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['12487', '12488', '12489', '12490', '12491']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 12487:12487 -p 12488:12488 -p 12489:12489 -p 12490:12490 -p 12491:12491 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=12489 --rest-port=12487 --tcp-port=12488 --discv5-udp-port=12490 --rest-address=0.0.0.0 --nat=extip:172.18.199.144 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5cdfbd6ebbec61f47ae8dd45b97af0a3f53c4ceeb4bfe2b55adea20cfca3f6a7 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=12491 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.199.144 waku f17dc655d23bc263c8ab23e3f07cb5ea5e426054c8171cfee2f331c58f98aec1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID f17dc655d23b. Setting up logs at ./log/docker/node1_2025-01-29_03-03-49__4eb874a7-c322-4baf-a5de-3c8fd64ffcf2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 12487
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 0c1d235c0e42. Exiting log stream.
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 739238eb2fc3. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12487/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12487/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.199.144/tcp/12488/p2p/16Uiu2HAmUzCpqBJgdsYs3nrFfkVK282B12x6PeRAX1V7zPJTjTv9","/ip4/172.18.199.144/tcp/12489/ws/p2p/16Uiu2HAmUzCpqBJgdsYs3nrFfkVK282B12x6PeRAX1V7zPJTjTv9"],"enrUri":"enr:-L24QIkzNIw3Hipxk3dQQzSUYOTneoS8R5C5pjbqY2oUR-lTaul7bOL08euPRx5GlQCX5ln-EPXvk2jz24-fNnZ24OACgmlkgnY0gmlwhKwSx5CKbXVsdGlhZGRyc5YACASsEseQBjDIAAoErBLHkAYwyd0DgnJzhQADAQAAiXNlY3AyNTZrMaED8qchrcHm-yyT1ell-8l4_rIjclNcfc7iLAakvQb7bYKDdGNwgjDIg3VkcIIwyoV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-01-29_03-03-49__4eb874a7-c322-4baf-a5de-3c8fd64ffcf2__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.241.95
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['33578', '33579', '33580', '33581', '33582']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 33578:33578 -p 33579:33579 -p 33580:33580 -p 33581:33581 -p 33582:33582 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=33580 --rest-port=33578 --tcp-port=33579 --discv5-udp-port=33581 --rest-address=0.0.0.0 --nat=extip:172.18.241.95 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=df0c92bbb77c84ccedddc2b9e8456b1bbb640ccdbefeb0ed68bcd336cb5a1692 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QIkzNIw3Hipxk3dQQzSUYOTneoS8R5C5pjbqY2oUR-lTaul7bOL08euPRx5GlQCX5ln-EPXvk2jz24-fNnZ24OACgmlkgnY0gmlwhKwSx5CKbXVsdGlhZGRyc5YACASsEseQBjDIAAoErBLHkAYwyd0DgnJzhQADAQAAiXNlY3AyNTZrMaED8qchrcHm-yyT1ell-8l4_rIjclNcfc7iLAakvQb7bYKDdGNwgjDIg3VkcIIwyoV3YWt1MgU --filternode=/ip4/172.18.199.144/tcp/12488/p2p/16Uiu2HAmUzCpqBJgdsYs3nrFfkVK282B12x6PeRAX1V7zPJTjTv9 --pubsub-topic=/waku/2/rs/3/1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.241.95 waku eed4fbb696710bd2e078882d1ede619ef707a61b3f15bccd9dae7665e6145e51
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID eed4fbb69671. Setting up logs at ./log/docker/node2_2025-01-29_03-03-49__4eb874a7-c322-4baf-a5de-3c8fd64ffcf2__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 33578
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33578/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QOo2Pg6X8GC6KUGw-2dwdsSm6t46Q1A6R5_VROPAyCKicbXb0FGL8laH-HumiPXkeVqV8TXvYs1HvqUrKDizoeOGAZSwA9-bgmlkgnY0gmlwhKwRAAOCcnOFAAMBAAGJc2VjcDI1NmsxoQOn9ywxJoVoUd1KPFaam0KpU4eQNgoCkJewgvgh7dyiwoN0Y3CCgyuDdWRwgoMthXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/33579/p2p/16Uiu2HAmPxf36JkLDee7hCZG5vMJxeQNhoH5bM77D2h1TM77Lb4u","/ip4/127.0.0.1/tcp/33580/ws/p2p/16Uiu2HAmPxf36JkLDee7hCZG5vMJxeQNhoH5bM77D2h1TM77Lb4u","/ip4/172.17.0.3/tcp/33579/p2p/16Uiu2HAmPxf36JkLDee7hCZG5vMJxeQNhoH5bM77D2h1TM77Lb4u","/ip4/172.17.0.3/tcp/33580/ws/p2p/16Uiu2HAmPxf36JkLDee7hCZG5vMJxeQNhoH5bM77D2h1TM77Lb4u"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33578/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.199.144/tcp/12488/p2p/16Uiu2HAmUzCpqBJgdsYs3nrFfkVK282B12x6PeRAX1V7zPJTjTv9", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12487/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33578/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "b9cd73ee-eb05-42ab-842f-2e2bea0b81ca", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"b9cd73ee-eb05-42ab-842f-2e2bea0b81ca","statusDesc":"OK"}'
[35mDEBUG   [0m tests.filter.test_get_messages:test_get_messages.py:31 Running test with timestamp Now
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12487/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33578/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[]'
[31m[1mERROR   [0m tests.filter.test_get_messages:test_get_messages.py:36 Timestamp Now failed: Peer NODE_2:wakuorg/go-waku:latest couldn't find any messages
[35mDEBUG   [0m tests.filter.test_get_messages:test_get_messages.py:31 Running test with timestamp Far future
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12487/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33578/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[]'
[31m[1mERROR   [0m tests.filter.test_get_messages:test_get_messages.py:36 Timestamp Far future failed: Peer NODE_2:wakuorg/go-waku:latest couldn't find any messages
[35mDEBUG   [0m tests.filter.test_get_messages:test_get_messages.py:31 Running test with timestamp Recent past
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12487/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33578/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[]'
[31m[1mERROR   [0m tests.filter.test_get_messages:test_get_messages.py:36 Timestamp Recent past failed: Peer NODE_2:wakuorg/go-waku:latest couldn't find any messages
[35mDEBUG   [0m tests.filter.test_get_messages:test_get_messages.py:31 Running test with timestamp Near future
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12487/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33578/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[]'
[31m[1mERROR   [0m tests.filter.test_get_messages:test_get_messages.py:36 Timestamp Near future failed: Peer NODE_2:wakuorg/go-waku:latest couldn't find any messages
[35mDEBUG   [0m tests.filter.test_get_messages:test_get_messages.py:31 Running test with timestamp Positive number
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12487/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33578/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[]'
[31m[1mERROR   [0m tests.filter.test_get_messages:test_get_messages.py:36 Timestamp Positive number failed: Peer NODE_2:wakuorg/go-waku:latest couldn't find any messages
[35mDEBUG   [0m tests.filter.test_get_messages:test_get_messages.py:31 Running test with timestamp Negative number
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12487/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33578/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[]'
[31m[1mERROR   [0m tests.filter.test_get_messages:test_get_messages.py:36 Timestamp Negative number failed: Peer NODE_2:wakuorg/go-waku:latest couldn't find any messages
[35mDEBUG   [0m tests.filter.test_get_messages:test_get_messages.py:31 Running test with timestamp DST change
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12487/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33578/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[]'
[31m[1mERROR   [0m tests.filter.test_get_messages:test_get_messages.py:36 Timestamp DST change failed: Peer NODE_2:wakuorg/go-waku:latest couldn't find any messages
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id f17dc655d23b
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id eed4fbb69671
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node2_2025-01-29_03-03-49__4eb874a7-c322-4baf-a5de-3c8fd64ffcf2__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node1_2025-01-29_03-03-49__4eb874a7-c322-4baf-a5de-3c8fd64ffcf2__wakuorg_nwaku:latest.log