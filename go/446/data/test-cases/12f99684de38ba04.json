{"uid":"12f99684de38ba04","name":"test_all_nodes_subscribed_to_the_topic","fullName":"tests.filter.test_multiple_nodes.TestFilterMultipleNodes#test_all_nodes_subscribed_to_the_topic","historyId":"1922f713c7d866af3814ecf60dd1d269","time":{"start":1738119877277,"stop":1738119881475,"duration":4198},"status":"failed","statusMessage":"AssertionError: Peer NODE_2:wakuorg/go-waku:latest couldn't find any messages","statusTrace":"tests/filter/test_multiple_nodes.py:16: in test_all_nodes_subscribed_to_the_topic\n    self.check_published_message_reaches_filter_peer()\nsrc/steps/filter.py:100: in check_published_message_reaches_filter_peer\n    assert get_messages_response, f\"Peer NODE_{index + 2}:{peer.image} couldn't find any messages\"\nE   AssertionError: Peer NODE_2:wakuorg/go-waku:latest couldn't find any messages","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"set_allure_env_variables","time":{"start":1738119793199,"stop":1738119793199,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes","time":{"start":1738119874674,"stop":1738119874674,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"check_waku_log_errors","time":{"start":1738119874674,"stop":1738119874674,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail","time":{"start":1738119874674,"stop":1738119874674,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_setup","time":{"start":1738119874674,"stop":1738119874675,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_id","time":{"start":1738119874674,"stop":1738119874674,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"filter_setup","time":{"start":1738119874675,"stop":1738119874676,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"common_setup","time":{"start":1738119874675,"stop":1738119874675,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_main_relay_node","time":{"start":1738119874676,"stop":1738119875979,"duration":1303},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_main_filter_node","time":{"start":1738119875979,"stop":1738119877276,"duration":1297},"status":"passed","steps":[{"name":"add_node_peer","time":{"start":1738119877274,"stop":1738119877276,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.filter.test_multiple_nodes.TestFilterMultipleNodes object at 0x7f1a52803aa0>, <src.node.waku_node.WakuNode object at 0x7f1a528d91c0>, ['/ip4/172.18.181.105/tcp/13236/p2p/16Uiu2HAm32sWBvkvopnndY7HxBzwftDKR8ZhyArf65LbFiNtJSGJ'])"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"testStage":{"status":"failed","statusMessage":"AssertionError: Peer NODE_2:wakuorg/go-waku:latest couldn't find any messages","statusTrace":"tests/filter/test_multiple_nodes.py:16: in test_all_nodes_subscribed_to_the_topic\n    self.check_published_message_reaches_filter_peer()\nsrc/steps/filter.py:100: in check_published_message_reaches_filter_peer\n    assert get_messages_response, f\"Peer NODE_{index + 2}:{peer.image} couldn't find any messages\"\nE   AssertionError: Peer NODE_2:wakuorg/go-waku:latest couldn't find any messages","steps":[{"name":"add_node_peer","time":{"start":1738119878587,"stop":1738119878637,"duration":50},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.filter.test_multiple_nodes.TestFilterMultipleNodes object at 0x7f1a52803aa0>, <src.node.waku_node.WakuNode object at 0x7f1a526a14c0>, ['/ip4/172.18.181.105/tcp/13236/p2p/16Uiu2HAm32sWBvkvopnndY7HxBzwftDKR8ZhyArf65LbFiNtJSGJ'])"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"add_node_peer","time":{"start":1738119879949,"stop":1738119879951,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.filter.test_multiple_nodes.TestFilterMultipleNodes object at 0x7f1a52803aa0>, <src.node.waku_node.WakuNode object at 0x7f1a5258f890>, ['/ip4/172.18.181.105/tcp/13236/p2p/16Uiu2HAm32sWBvkvopnndY7HxBzwftDKR8ZhyArf65LbFiNtJSGJ'])"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"add_node_peer","time":{"start":1738119881259,"stop":1738119881307,"duration":48},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.filter.test_multiple_nodes.TestFilterMultipleNodes object at 0x7f1a52803aa0>, <src.node.waku_node.WakuNode object at 0x7f1a52572b10>, ['/ip4/172.18.181.105/tcp/13236/p2p/16Uiu2HAm32sWBvkvopnndY7HxBzwftDKR8ZhyArf65LbFiNtJSGJ'])"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"wait_for_subscriptions_on_main_nodes","time":{"start":1738119881307,"stop":1738119881328,"duration":21},"status":"passed","steps":[{"name":"create_filter_subscription_with_retry","time":{"start":1738119881316,"stop":1738119881328,"duration":12},"status":"passed","steps":[{"name":"create_filter_subscription","time":{"start":1738119881316,"stop":1738119881328,"duration":12},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"subscription","value":"{'requestId': '65752e91-a87a-463b-bc7f-96299ddb5660', 'contentFilters': ['/test/1/waku-filter/proto'], 'pubsubTopic': '/waku/2/rs/3/1'}"},{"name":"node","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"subscription","value":"{'requestId': '65752e91-a87a-463b-bc7f-96299ddb5660', 'contentFilters': ['/test/1/waku-filter/proto'], 'pubsubTopic': '/waku/2/rs/3/1'}"},{"name":"node","value":"None"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"content_topic_list","value":"['/test/1/waku-filter/proto']"},{"name":"pubsub_topic","value":"None"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"subscribe_optional_filter_nodes","time":{"start":1738119881328,"stop":1738119881365,"duration":37},"status":"passed","steps":[{"name":"create_filter_subscription_with_retry","time":{"start":1738119881328,"stop":1738119881342,"duration":14},"status":"passed","steps":[{"name":"create_filter_subscription","time":{"start":1738119881328,"stop":1738119881342,"duration":14},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"subscription","value":"{'requestId': '9c8e59dc-f810-419f-955d-a6c06bcab71a', 'contentFilters': ['/test/1/waku-filter/proto'], 'pubsubTopic': '/waku/2/rs/3/1'}"},{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f1a526a14c0>"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"subscription","value":"{'requestId': '9c8e59dc-f810-419f-955d-a6c06bcab71a', 'contentFilters': ['/test/1/waku-filter/proto'], 'pubsubTopic': '/waku/2/rs/3/1'}"},{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f1a526a14c0>"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"create_filter_subscription_with_retry","time":{"start":1738119881342,"stop":1738119881351,"duration":9},"status":"passed","steps":[{"name":"create_filter_subscription","time":{"start":1738119881342,"stop":1738119881351,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"subscription","value":"{'requestId': '35871c86-86c2-4d34-863b-dfc4a8fe48aa', 'contentFilters': ['/test/1/waku-filter/proto'], 'pubsubTopic': '/waku/2/rs/3/1'}"},{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f1a5258f890>"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"subscription","value":"{'requestId': '35871c86-86c2-4d34-863b-dfc4a8fe48aa', 'contentFilters': ['/test/1/waku-filter/proto'], 'pubsubTopic': '/waku/2/rs/3/1'}"},{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f1a5258f890>"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"create_filter_subscription_with_retry","time":{"start":1738119881351,"stop":1738119881365,"duration":14},"status":"passed","steps":[{"name":"create_filter_subscription","time":{"start":1738119881351,"stop":1738119881365,"duration":14},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"subscription","value":"{'requestId': '77569913-3749-473b-9c47-deb009ed20f3', 'contentFilters': ['/test/1/waku-filter/proto'], 'pubsubTopic': '/waku/2/rs/3/1'}"},{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f1a52572b10>"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"subscription","value":"{'requestId': '77569913-3749-473b-9c47-deb009ed20f3', 'contentFilters': ['/test/1/waku-filter/proto'], 'pubsubTopic': '/waku/2/rs/3/1'}"},{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f1a52572b10>"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"content_topic_list","value":"['/test/1/waku-filter/proto']"},{"name":"pubsub_topic","value":"None"}],"shouldDisplayMessage":false,"stepsCount":6,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_published_message_reaches_filter_peer","time":{"start":1738119881365,"stop":1738119881474,"duration":109},"status":"failed","statusMessage":"AssertionError: Peer NODE_2:wakuorg/go-waku:latest couldn't find any messages\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/filter.py\", line 100, in check_published_message_reaches_filter_peer\n    assert get_messages_response, f\"Peer NODE_{index + 2}:{peer.image} couldn't find any messages\"\n           ^^^^^^^^^^^^^^^^^^^^^\n","steps":[{"name":"create_message","time":{"start":1738119881365,"stop":1738119881365,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"get_filter_messages","time":{"start":1738119881472,"stop":1738119881474,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"content_topic","value":"'/test/1/waku-filter/proto'"},{"name":"pubsub_topic","value":"'/waku/2/rs/3/1'"},{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f1a528d91c0>"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"message","value":"None"},{"name":"pubsub_topic","value":"None"},{"name":"message_propagation_delay","value":"0.1"},{"name":"sender","value":"None"},{"name":"peer_list","value":"None"}],"shouldDisplayMessage":true,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"9d61371ffb023574","name":"log","source":"9d61371ffb023574.txt","type":"text/plain","size":89688}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":16,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"test_setup::0","time":{"start":1738119881482,"stop":1738119881482,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes::0","time":{"start":1738119881483,"stop":1738119885296,"duration":3813},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"check_waku_log_errors::0","time":{"start":1738119885298,"stop":1738119885330,"duration":32},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail::0","time":{"start":1738119885330,"stop":1738119885333,"duration":3},"status":"passed","steps":[],"attachments":[{"uid":"51b257d5679b28cf","name":"node4_2025-01-29_03-04-34__e8772e92-97ac-4ddb-831a-898d09a0c728__wakuorg_go-waku:latest.log","source":"51b257d5679b28cf.txt","type":"text/plain","size":133140},{"uid":"2dca695e638fa0c1","name":"node2_2025-01-29_03-04-34__e8772e92-97ac-4ddb-831a-898d09a0c728__wakuorg_go-waku:latest.log","source":"2dca695e638fa0c1.txt","type":"text/plain","size":123710},{"uid":"42c09b7cdab1e927","name":"node3_2025-01-29_03-04-34__e8772e92-97ac-4ddb-831a-898d09a0c728__wakuorg_nwaku:latest.log","source":"42c09b7cdab1e927.txt","type":"text/plain","size":214826},{"uid":"4b67e2644641f8ff","name":"node5_2025-01-29_03-04-34__e8772e92-97ac-4ddb-831a-898d09a0c728__wakuorg_nwaku:latest.log","source":"4b67e2644641f8ff.txt","type":"text/plain","size":107240},{"uid":"aba05ff2dc9427d0","name":"node1_2025-01-29_03-04-34__e8772e92-97ac-4ddb-831a-898d09a0c728__wakuorg_nwaku:latest.log","source":"aba05ff2dc9427d0.txt","type":"text/plain","size":364324}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":5,"hasContent":true,"attachmentStep":false},{"name":"set_allure_env_variables::0","time":{"start":1738120287541,"stop":1738120287542,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"@pytest.mark.usefixtures('setup_main_relay_node', 'setup_main_filter_node')"},{"name":"parentSuite","value":"tests.filter"},{"name":"suite","value":"test_multiple_nodes"},{"name":"subSuite","value":"TestFilterMultipleNodes"},{"name":"host","value":"fv-az1691-482"},{"name":"thread","value":"1932-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.filter.test_multiple_nodes"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["@pytest.mark.usefixtures('setup_main_relay_node', 'setup_main_filter_node')"]},"source":"12f99684de38ba04.json","parameterValues":[]}