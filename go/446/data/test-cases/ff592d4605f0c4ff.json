{"uid":"ff592d4605f0c4ff","name":"test_repeated_filter_requestID","fullName":"tests.e2e.test_e2e.TestE2E#test_repeated_filter_requestID","historyId":"8b3cc06d017f8c9ce811dd614358f7f5","time":{"start":1738119948506,"stop":1738119984475,"duration":35969},"status":"broken","statusMessage":"Exception: Error: 400 Client Error: Bad Request for url: http://127.0.0.1:50479/filter/v2/subscriptions with response: b'{\"requestId\":\"1\",\"statusDesc\":\"subscription failed\"}'","statusTrace":"src/node/api_clients/base_client.py:14: in make_request\n    response.raise_for_status()\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/requests/models.py:1021: in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\nE   requests.exceptions.HTTPError: 400 Client Error: Bad Request for url: http://127.0.0.1:50479/filter/v2/subscriptions\n\nDuring handling of the above exception, another exception occurred:\ntests/e2e/test_e2e.py:369: in test_repeated_filter_requestID\n    self.node3.set_filter_subscriptions({\"requestId\": \"1\", \"contentFilters\": [self.test_content_topic], \"pubsubTopic\": self.test_pubsub_topic})\nsrc/node/waku_node.py:358: in set_filter_subscriptions\n    return self._api.set_filter_subscriptions(subscription)\nsrc/node/api_clients/rest.py:68: in set_filter_subscriptions\n    set_subscriptions_response = self.rest_call(\"post\", \"filter/v2/subscriptions\", json.dumps(subscription))\nsrc/node/api_clients/rest.py:16: in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\nsrc/node/api_clients/base_client.py:17: in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\nE   Exception: Error: 400 Client Error: Bad Request for url: http://127.0.0.1:50479/filter/v2/subscriptions with response: b'{\"requestId\":\"1\",\"statusDesc\":\"subscription failed\"}'","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":2,"retriesStatusChange":false,"beforeStages":[{"name":"set_allure_env_variables","time":{"start":1738119865869,"stop":1738119865869,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_id","time":{"start":1738119948484,"stop":1738119948485,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail","time":{"start":1738119948484,"stop":1738119948484,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"check_waku_log_errors","time":{"start":1738119948484,"stop":1738119948484,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes","time":{"start":1738119948484,"stop":1738119948484,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"common_setup","time":{"start":1738119948485,"stop":1738119948485,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"light_push_setup","time":{"start":1738119948485,"stop":1738119948486,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"filter_setup","time":{"start":1738119948485,"stop":1738119948485,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_setup","time":{"start":1738119948485,"stop":1738119948485,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"nodes","time":{"start":1738119948486,"stop":1738119948505,"duration":19},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"relay_setup","time":{"start":1738119948505,"stop":1738119948506,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"store_setup","time":{"start":1738119948506,"stop":1738119948506,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"broken","statusMessage":"Exception: Error: 400 Client Error: Bad Request for url: http://127.0.0.1:50479/filter/v2/subscriptions with response: b'{\"requestId\":\"1\",\"statusDesc\":\"subscription failed\"}'","statusTrace":"src/node/api_clients/base_client.py:14: in make_request\n    response.raise_for_status()\n/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/requests/models.py:1021: in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\nE   requests.exceptions.HTTPError: 400 Client Error: Bad Request for url: http://127.0.0.1:50479/filter/v2/subscriptions\n\nDuring handling of the above exception, another exception occurred:\ntests/e2e/test_e2e.py:369: in test_repeated_filter_requestID\n    self.node3.set_filter_subscriptions({\"requestId\": \"1\", \"contentFilters\": [self.test_content_topic], \"pubsubTopic\": self.test_pubsub_topic})\nsrc/node/waku_node.py:358: in set_filter_subscriptions\n    return self._api.set_filter_subscriptions(subscription)\nsrc/node/api_clients/rest.py:68: in set_filter_subscriptions\n    set_subscriptions_response = self.rest_call(\"post\", \"filter/v2/subscriptions\", json.dumps(subscription))\nsrc/node/api_clients/rest.py:16: in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\nsrc/node/api_clients/base_client.py:17: in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\nE   Exception: Error: 400 Client Error: Bad Request for url: http://127.0.0.1:50479/filter/v2/subscriptions with response: b'{\"requestId\":\"1\",\"statusDesc\":\"subscription failed\"}'","steps":[{"name":"wait_for_autoconnection","time":{"start":1738119952447,"stop":1738119984464,"duration":32017},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.e2e.test_e2e.TestE2E object at 0x7f6c7cfdb110>, [<src.node.waku_node.WakuNode object at 0x7f6c7cb5adb0>, <src.node.waku_node.WakuNode object at 0x7f6c7cc37f20>])"},{"name":"hard_wait","value":"30"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"da0d8a7d1c40b2c3","name":"log","source":"da0d8a7d1c40b2c3.txt","type":"text/plain","size":55006}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":1,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"test_setup::0","time":{"start":1738119984522,"stop":1738119984523,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes::0","time":{"start":1738119984523,"stop":1738119986337,"duration":1814},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"check_waku_log_errors::0","time":{"start":1738119986338,"stop":1738119986399,"duration":61},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail::0","time":{"start":1738119986400,"stop":1738119986403,"duration":3},"status":"passed","steps":[],"attachments":[{"uid":"3bffe35df91ec125","name":"node1_2025-01-29_03-05-48__a28ef98f-842c-483c-860c-d916b4cb118c__wakuorg_go-waku:latest.log","source":"3bffe35df91ec125.txt","type":"text/plain","size":114739},{"uid":"2c41561367587ac0","name":"node2_2025-01-29_03-05-48__a28ef98f-842c-483c-860c-d916b4cb118c__wakuorg_nwaku:latest.log","source":"2c41561367587ac0.txt","type":"text/plain","size":1654152},{"uid":"9ccc97deb3fdec77","name":"node3_2025-01-29_03-05-48__a28ef98f-842c-483c-860c-d916b4cb118c__wakuorg_go-waku:latest.log","source":"9ccc97deb3fdec77.txt","type":"text/plain","size":153153}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},{"name":"set_allure_env_variables::0","time":{"start":1738120377744,"stop":1738120377744,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"tests.e2e"},{"name":"suite","value":"test_e2e"},{"name":"subSuite","value":"TestE2E"},{"name":"host","value":"fv-az1436-45"},{"name":"thread","value":"1942-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.e2e.test_e2e"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"569485a474e6ffd9","status":"broken","statusDetails":"Exception: Error: 400 Client Error: Bad Request for url: http://127.0.0.1:36707/filter/v2/subscriptions with response: b'{\"requestId\":\"1\",\"statusDesc\":\"subscription failed\"}'","time":{"start":1738119910718,"stop":1738119946678,"duration":35960}},{"uid":"3a37d04eee454b5e","status":"broken","statusDetails":"Exception: Error: 400 Client Error: Bad Request for url: http://127.0.0.1:26190/filter/v2/subscriptions with response: b'{\"requestId\":\"1\",\"statusDesc\":\"subscription failed\"}'","time":{"start":1738119865893,"stop":1738119908585,"duration":42692}}],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":2,"skipped":0,"passed":71,"unknown":0,"total":73},"items":[{"uid":"1f4e38d9bb99b00a","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/445//#testresult/1f4e38d9bb99b00a","status":"passed","time":{"start":1738033417438,"stop":1738033465175,"duration":47737}},{"uid":"5bb9289d83bfa295","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/444//#testresult/5bb9289d83bfa295","status":"passed","time":{"start":1737947100169,"stop":1737947145160,"duration":44991}},{"uid":"e761c8e12da506d3","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/443//#testresult/e761c8e12da506d3","status":"passed","time":{"start":1737860645239,"stop":1737860699468,"duration":54229}},{"uid":"7d88c91ac955b8ec","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/442//#testresult/7d88c91ac955b8ec","status":"passed","time":{"start":1737774129928,"stop":1737774174578,"duration":44650}},{"uid":"e523e290b576232f","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/441//#testresult/e523e290b576232f","status":"passed","time":{"start":1737687821182,"stop":1737687868127,"duration":46945}},{"uid":"3abf9e3a3082a9be","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/440//#testresult/3abf9e3a3082a9be","status":"passed","time":{"start":1737601429523,"stop":1737601475362,"duration":45839}},{"uid":"6bc952c7ee5846cd","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/439//#testresult/6bc952c7ee5846cd","status":"passed","time":{"start":1737515086568,"stop":1737515132288,"duration":45720}},{"uid":"560b35b3ba0f6486","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/438//#testresult/560b35b3ba0f6486","status":"passed","time":{"start":1737428638743,"stop":1737428685103,"duration":46360}},{"uid":"a7ae0a435f164ff7","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/437//#testresult/a7ae0a435f164ff7","status":"passed","time":{"start":1737342259153,"stop":1737342305756,"duration":46603}},{"uid":"e569cf91a8b41f32","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/436//#testresult/e569cf91a8b41f32","status":"passed","time":{"start":1737255945679,"stop":1737255990041,"duration":44362}},{"uid":"afcfb11a8895826","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/435//#testresult/afcfb11a8895826","status":"passed","time":{"start":1737169378585,"stop":1737169422736,"duration":44151}},{"uid":"1140609aa388a47","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/434//#testresult/1140609aa388a47","status":"passed","time":{"start":1737083008935,"stop":1737083054724,"duration":45789}},{"uid":"a082767afe809f9","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/433//#testresult/a082767afe809f9","status":"passed","time":{"start":1736996596643,"stop":1736996641548,"duration":44905}},{"uid":"cfbc093279e65575","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/432//#testresult/cfbc093279e65575","status":"passed","time":{"start":1736910228595,"stop":1736910274027,"duration":45432}},{"uid":"b9c97c076d53fcb2","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/431//#testresult/b9c97c076d53fcb2","status":"passed","time":{"start":1736823750455,"stop":1736823795229,"duration":44774}},{"uid":"182d340910f90cfc","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/430//#testresult/182d340910f90cfc","status":"passed","time":{"start":1736737847774,"stop":1736737895616,"duration":47842}},{"uid":"82e6f1008a44c1aa","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/429//#testresult/82e6f1008a44c1aa","status":"passed","time":{"start":1736651460600,"stop":1736651505837,"duration":45237}},{"uid":"8f84f187a47b56d6","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/428//#testresult/8f84f187a47b56d6","status":"passed","time":{"start":1736564790467,"stop":1736564836555,"duration":46088}},{"uid":"f633e4bd327565a1","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/427//#testresult/f633e4bd327565a1","status":"passed","time":{"start":1736478508689,"stop":1736478556103,"duration":47414}},{"uid":"6efd80f6f1023612","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/426//#testresult/6efd80f6f1023612","status":"passed","time":{"start":1736392742278,"stop":1736392789863,"duration":47585}}]},"tags":[]},"source":"ff592d4605f0c4ff.json","parameterValues":[]}