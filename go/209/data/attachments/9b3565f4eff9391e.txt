[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_all_nodes_subscribed_to_the_topic with id: 2024-07-18_03-12-53__53231844-8d18-46b9-86f9-1a66fa64e4f3
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:81 WakuNode instance initialized with log path ./log/docker/node1_2024-07-18_03-12-53__53231844-8d18-46b9-86f9-1a66fa64e4f3__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.119.160
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['31384', '31385', '31386', '31387', '31388']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:428 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:157 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:159 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 31384:31384 -p 31385:31385 -p 31386:31386 -p 31387:31387 -p 31388:31388 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=31386 --rest-port=31384 --tcp-port=31385 --discv5-udp-port=31387 --rest-address=0.0.0.0 --nat=extip:172.18.119.160 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=31388 --metrics-logging=true --relay=true --filter=true --nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.119.160 waku d0f51a8d2d3698c9bc355ec324fa3fad69f0cf8121a656eb5cde66793a521ec0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID d0f51a8d2d36. Setting up logs at ./log/docker/node1_2024-07-18_03-12-53__53231844-8d18-46b9-86f9-1a66fa64e4f3__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 31384
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31384/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:274 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31384/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.119.160/tcp/31385/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","/ip4/172.18.119.160/tcp/31386/ws/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"],"enrUri":"enr:-LO4QE4CNLN4bvt1pVh80YWAwDWmLlWv_DgW3PD6cDQN5ErAb8ghpn0fmyd_Z6dUsozMVnDyAx-QUM9nNAzJ3IqJ0KIBgmlkgnY0gmlwhKwSd6CKbXVsdGlhZGRyc4wACgSsEnegBnqa3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCepmDdWRwgnqbhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:81 WakuNode instance initialized with log path ./log/docker/node2_2024-07-18_03-12-53__53231844-8d18-46b9-86f9-1a66fa64e4f3__harbor.status.im_wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.207.1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['36532', '36533', '36534', '36535', '36536']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:428 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:157 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:159 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 36532:36532 -p 36533:36533 -p 36534:36534 -p 36535:36535 -p 36536:36536 harbor.status.im/wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=36534 --rest-port=36532 --tcp-port=36533 --discv5-udp-port=36535 --rest-address=0.0.0.0 --nat=extip:172.18.207.1 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-LO4QE4CNLN4bvt1pVh80YWAwDWmLlWv_DgW3PD6cDQN5ErAb8ghpn0fmyd_Z6dUsozMVnDyAx-QUM9nNAzJ3IqJ0KIBgmlkgnY0gmlwhKwSd6CKbXVsdGlhZGRyc4wACgSsEnegBnqa3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCepmDdWRwgnqbhXdha3UyBQ --filternode=/ip4/172.18.119.160/tcp/31385/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.235.218
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['30197', '30198', '30199', '30200', '30201']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:428 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:157 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:159 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 30197:30197 -p 30198:30198 -p 30199:30199 -p 30200:30200 -p 30201:30201 harbor.status.im/wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=30199 --rest-port=30197 --tcp-port=30198 --discv5-udp-port=30200 --rest-address=0.0.0.0 --nat=extip:172.18.235.218 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-LO4QE4CNLN4bvt1pVh80YWAwDWmLlWv_DgW3PD6cDQN5ErAb8ghpn0fmyd_Z6dUsozMVnDyAx-QUM9nNAzJ3IqJ0KIBgmlkgnY0gmlwhKwSd6CKbXVsdGlhZGRyc4wACgSsEnegBnqa3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCepmDdWRwgnqbhXdha3UyBQ --filternode=/ip4/172.18.119.160/tcp/31385/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.235.218 waku f449dbda1fb14c1fc68e7b8bf98e91b59168e4a4ab5c2667069503d42af2e842
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID f449dbda1fb1. Setting up logs at ./log/docker/node2_2024-07-18_03-12-53__53231844-8d18-46b9-86f9-1a66fa64e4f3__harbor.status.im_wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Started container from image harbor.status.im/wakuorg/go-waku:latest. REST: 30197
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30197/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QLlUBeAIAmDg7-OYk73sepGKElKOo9jcI0lQt5ODgMprLHTp28bZTgNFDEZmjn-1X5EXyHl-PrK7099Q5YRdkDSGAZDD1BmagmlkgnY0gmlwhKwRAAeJc2VjcDI1NmsxoQMudFylfNTKu1H51E-DoovzlQsFud-y6mhNm2xzwiWxMYN0Y3CCdfaDdWRwgnX4hXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/30198/p2p/16Uiu2HAmFnL1sLQzGPmNh39f2w5ZjHKAmgZYiJXmjRn4X87yWuV2","/ip4/127.0.0.1/tcp/30199/ws/p2p/16Uiu2HAmFnL1sLQzGPmNh39f2w5ZjHKAmgZYiJXmjRn4X87yWuV2","/ip4/172.17.0.7/tcp/30198/p2p/16Uiu2HAmFnL1sLQzGPmNh39f2w5ZjHKAmgZYiJXmjRn4X87yWuV2","/ip4/172.17.0.7/tcp/30199/ws/p2p/16Uiu2HAmFnL1sLQzGPmNh39f2w5ZjHKAmgZYiJXmjRn4X87yWuV2"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30197/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.119.160/tcp/31385/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:81 WakuNode instance initialized with log path ./log/docker/node3_2024-07-18_03-12-53__53231844-8d18-46b9-86f9-1a66fa64e4f3__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.56.19
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['43239', '43240', '43241', '43242', '43243']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:428 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:157 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:159 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 43239:43239 -p 43240:43240 -p 43241:43241 -p 43242:43242 -p 43243:43243 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=43241 --rest-port=43239 --tcp-port=43240 --discv5-udp-port=43242 --rest-address=0.0.0.0 --nat=extip:172.18.56.19 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=43243 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QE4CNLN4bvt1pVh80YWAwDWmLlWv_DgW3PD6cDQN5ErAb8ghpn0fmyd_Z6dUsozMVnDyAx-QUM9nNAzJ3IqJ0KIBgmlkgnY0gmlwhKwSd6CKbXVsdGlhZGRyc4wACgSsEnegBnqa3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCepmDdWRwgnqbhXdha3UyBQ --filternode=/ip4/172.18.119.160/tcp/31385/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.56.19 waku fe68d5631431a91a66a2b5e6718dfd54fbc7e7f33914b737cca4259bdd40ff0c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID fe68d5631431. Setting up logs at ./log/docker/node3_2024-07-18_03-12-53__53231844-8d18-46b9-86f9-1a66fa64e4f3__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 43239
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43239/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:274 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43239/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.56.19/tcp/43240/p2p/16Uiu2HAmEY8nk7f5UxqdHjYDrpRCETJiZpcXupQzsUpma21G61Rk","/ip4/172.18.56.19/tcp/43241/ws/p2p/16Uiu2HAmEY8nk7f5UxqdHjYDrpRCETJiZpcXupQzsUpma21G61Rk"],"enrUri":"enr:-LO4QKJZeDFpDIvBW3RLGhM0ihZlziFe2LZxZlXm2PwOg4tlXisVSapk1s6nPABRJ5A5BfF5pmtbj7htk5BbcWJpaB0BgmlkgnY0gmlwhKwSOBOKbXVsdGlhZGRyc4wACgSsEjgTBqjp3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMb9dmcqhMvDJ01NmSjcRDhLz6KtW6bTD2PrbsX-MsLE4N0Y3CCqOiDdWRwgqjqhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43239/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.119.160/tcp/31385/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:81 WakuNode instance initialized with log path ./log/docker/node4_2024-07-18_03-12-53__53231844-8d18-46b9-86f9-1a66fa64e4f3__harbor.status.im_wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.209.35
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['41927', '41928', '41929', '41930', '41931']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:428 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:157 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:159 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 41927:41927 -p 41928:41928 -p 41929:41929 -p 41930:41930 -p 41931:41931 harbor.status.im/wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=41929 --rest-port=41927 --tcp-port=41928 --discv5-udp-port=41930 --rest-address=0.0.0.0 --nat=extip:172.18.209.35 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-LO4QE4CNLN4bvt1pVh80YWAwDWmLlWv_DgW3PD6cDQN5ErAb8ghpn0fmyd_Z6dUsozMVnDyAx-QUM9nNAzJ3IqJ0KIBgmlkgnY0gmlwhKwSd6CKbXVsdGlhZGRyc4wACgSsEnegBnqa3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCepmDdWRwgnqbhXdha3UyBQ --filternode=/ip4/172.18.119.160/tcp/31385/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.209.35 waku 65d889f0e3cbd9b9913de2785cac234e7bf8c2efdb2b0b1bbdbc25a9edc8ce68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 65d889f0e3cb. Setting up logs at ./log/docker/node4_2024-07-18_03-12-53__53231844-8d18-46b9-86f9-1a66fa64e4f3__harbor.status.im_wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Started container from image harbor.status.im/wakuorg/go-waku:latest. REST: 41927
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41927/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QHmseyhm7_r3EQotJrtxqY04Lcotlt4mchfE5y5CtExkVwK1bXtp5VBQlCXoNFFBp_djvfwNZzG1mOe_CeG2H1uGAZDD1CWDgmlkgnY0gmlwhKwRAAOJc2VjcDI1NmsxoQLhJbDYsS0VAiwHr799yfZbRFg-o_QgbOZ6JAvxTkjiE4N0Y3CCo8iDdWRwgqPKhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/41928/p2p/16Uiu2HAmAaZ3cnfUSyTnzk1hxXdfxpsxTZWZguV9A17iGv437sFp","/ip4/127.0.0.1/tcp/41929/ws/p2p/16Uiu2HAmAaZ3cnfUSyTnzk1hxXdfxpsxTZWZguV9A17iGv437sFp","/ip4/172.17.0.3/tcp/41928/p2p/16Uiu2HAmAaZ3cnfUSyTnzk1hxXdfxpsxTZWZguV9A17iGv437sFp","/ip4/172.17.0.3/tcp/41929/ws/p2p/16Uiu2HAmAaZ3cnfUSyTnzk1hxXdfxpsxTZWZguV9A17iGv437sFp"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41927/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.119.160/tcp/31385/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:41927/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41927/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.119.160/tcp/31385/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:41927/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41927/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.119.160/tcp/31385/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:41927/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41927/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.119.160/tcp/31385/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:41927/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41927/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.119.160/tcp/31385/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:41927/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41927/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.119.160/tcp/31385/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:41927/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41927/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.119.160/tcp/31385/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:41927/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41927/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.119.160/tcp/31385/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:41927/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41927/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.119.160/tcp/31385/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:41927/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41927/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.119.160/tcp/31385/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:41927/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41927/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.119.160/tcp/31385/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:81 WakuNode instance initialized with log path ./log/docker/node5_2024-07-18_03-12-53__53231844-8d18-46b9-86f9-1a66fa64e4f3__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.219.172
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['46363', '46364', '46365', '46366', '46367']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:428 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:157 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:159 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 46363:46363 -p 46364:46364 -p 46365:46365 -p 46366:46366 -p 46367:46367 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=46365 --rest-port=46363 --tcp-port=46364 --discv5-udp-port=46366 --rest-address=0.0.0.0 --nat=extip:172.18.219.172 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=46367 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QE4CNLN4bvt1pVh80YWAwDWmLlWv_DgW3PD6cDQN5ErAb8ghpn0fmyd_Z6dUsozMVnDyAx-QUM9nNAzJ3IqJ0KIBgmlkgnY0gmlwhKwSd6CKbXVsdGlhZGRyc4wACgSsEnegBnqa3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCepmDdWRwgnqbhXdha3UyBQ --filternode=/ip4/172.18.119.160/tcp/31385/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.219.172 waku b2f18f5858a1ae15b8bf30f98715d7a4b178f65955394a58c3f2f2c0ca8c0324
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID b2f18f5858a1. Setting up logs at ./log/docker/node5_2024-07-18_03-12-53__53231844-8d18-46b9-86f9-1a66fa64e4f3__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 46363
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46363/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:274 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46363/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.219.172/tcp/46364/p2p/16Uiu2HAmTm525ofjH9ppSY8pxneXDMfGwZNi3rNCk7NPGXGDq8Wt","/ip4/172.18.219.172/tcp/46365/ws/p2p/16Uiu2HAmTm525ofjH9ppSY8pxneXDMfGwZNi3rNCk7NPGXGDq8Wt"],"enrUri":"enr:-LO4QIj_4P5dcwzLxuRlFqW-N8-RAQtF2TX18k1gVO7gfoW8PBELVCb3YmA_Rx-U7DqwuGgjELP9zq_Ax33TE3bEoAQBgmlkgnY0gmlwhKwS26yKbXVsdGlhZGRyc4wACgSsEtusBrUd3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPgbhFeQ1mRGnXpCSpevHbEdbbNjwDZCEXwhi1qJ-V8YYN0Y3CCtRyDdWRwgrUehXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46363/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.119.160/tcp/31385/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31384/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30197/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "5c5baa42-664a-4b92-baea-afac41a1d71b", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"5c5baa42-664a-4b92-baea-afac41a1d71b","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43239/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1939456f-0398-44f7-884a-8bfa615b0465", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"1939456f-0398-44f7-884a-8bfa615b0465","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41927/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "435c2158-be63-4be3-8c4b-3bad81796a73", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"435c2158-be63-4be3-8c4b-3bad81796a73","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46363/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "bebf043e-6167-4fb3-bf1a-b8cae315f4f6", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"bebf043e-6167-4fb3-bf1a-b8cae315f4f6","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31384/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_2:harbor.status.im/wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30197/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1721272390767337728,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_3:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43239/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1721272390767337728,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_4:harbor.status.im/wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41927/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1721272390767337728,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_5:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46363/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1721272390767337728,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:218 Stopping container with id d0f51a8d2d36
[35mDEBUG   [0m src.node.waku_node:waku_node.py:225 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:218 Stopping container with id f449dbda1fb1
[35mDEBUG   [0m src.node.waku_node:waku_node.py:225 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:218 Stopping container with id fe68d5631431
[35mDEBUG   [0m src.node.waku_node:waku_node.py:225 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:218 Stopping container with id 65d889f0e3cb
[35mDEBUG   [0m src.node.waku_node:waku_node.py:225 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:218 Stopping container with id b2f18f5858a1
[35mDEBUG   [0m src.node.waku_node:waku_node.py:225 Container stopped.