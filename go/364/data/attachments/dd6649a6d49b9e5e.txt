[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_subscribe_to_single_topics with id: 2024-11-19_03-28-20__d10c8ca5-5ff3-4f0c-878f-b05439544b8f
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-19_03-28-20__d10c8ca5-5ff3-4f0c-878f-b05439544b8f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.52.222
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['33038', '33039', '33040', '33041', '33042']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 33038:33038 -p 33039:33039 -p 33040:33040 -p 33041:33041 -p 33042:33042 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=33040 --rest-port=33038 --tcp-port=33039 --discv5-udp-port=33041 --rest-address=0.0.0.0 --nat=extip:172.18.52.222 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2fe717b7bd8da576dacfbd6cb5bb9930d67d5cdeb8dff73fce2a0ef70c3b2bdf --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=33042 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.52.222 waku b399b43ca991fb479b802a1838eaeb72c9d2c13fb90e566dc307e38490331f68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID b399b43ca991. Setting up logs at ./log/docker/node1_2024-11-19_03-28-20__d10c8ca5-5ff3-4f0c-878f-b05439544b8f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 33038
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33038/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33038/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.52.222/tcp/33039/p2p/16Uiu2HAmA5XXWDa2eWf7unc19BwFdZzTkeNf3dpiJ7GEnK2BNHTR","/ip4/172.18.52.222/tcp/33040/ws/p2p/16Uiu2HAmA5XXWDa2eWf7unc19BwFdZzTkeNf3dpiJ7GEnK2BNHTR"],"enrUri":"enr:-L24QDWAkbkdNiIdqd4fEsryFIH4lMspmheLRNoMjRtA8L7pIbHRtg_sXIcMyAbnKowBv_9RMwQMyemD7B2m8x0LhEICgmlkgnY0gmlwhKwSNN6KbXVsdGlhZGRyc5YACASsEjTeBoEPAAoErBI03gaBEN0DgnJzhQADAQAAiXNlY3AyNTZrMaEC2bYhLHL2_1qWgv82eEwQYv_XjHgjPauDkW5YAIh-wcSDdGNwgoEPg3VkcIKBEYV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-19_03-28-20__d10c8ca5-5ff3-4f0c-878f-b05439544b8f__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.149.172
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['61730', '61731', '61732', '61733', '61734']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 61730:61730 -p 61731:61731 -p 61732:61732 -p 61733:61733 -p 61734:61734 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=61732 --rest-port=61730 --tcp-port=61731 --discv5-udp-port=61733 --rest-address=0.0.0.0 --nat=extip:172.18.149.172 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=eb922bdaf3fde65e7c99f1dfacd44c9d4a7cd323a4c82687f23f1cf9c0ef8fc7 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QDWAkbkdNiIdqd4fEsryFIH4lMspmheLRNoMjRtA8L7pIbHRtg_sXIcMyAbnKowBv_9RMwQMyemD7B2m8x0LhEICgmlkgnY0gmlwhKwSNN6KbXVsdGlhZGRyc5YACASsEjTeBoEPAAoErBI03gaBEN0DgnJzhQADAQAAiXNlY3AyNTZrMaEC2bYhLHL2_1qWgv82eEwQYv_XjHgjPauDkW5YAIh-wcSDdGNwgoEPg3VkcIKBEYV3YWt1MgU --filternode=/ip4/172.18.52.222/tcp/33039/p2p/16Uiu2HAmA5XXWDa2eWf7unc19BwFdZzTkeNf3dpiJ7GEnK2BNHTR
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.149.172 waku 633a68161dcc15feb26da9cfc412091a49fd9a65efa41e5f230b4ebf3ebca594
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 633a68161dcc. Setting up logs at ./log/docker/node2_2024-11-19_03-28-20__d10c8ca5-5ff3-4f0c-878f-b05439544b8f__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/go-waku:latest. REST: 61730
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61730/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QIdiZwl50oJt4QJJxsO-qoawfdZ5WmVvIAV5QgNAZo10J6M5hLO1JdyYvQ0Gkz2Kr2nf6mBRg5J3w4MiC46s3qeGAZNCds72gmlkgnY0gmlwhKwRAASCcnODAAMAiXNlY3AyNTZrMaEDuiwHO1UGDuq7p1QwaoZk9bBi8eUM5h1PX5B8hPh9xhmDdGNwgvEjg3VkcILxJYV3YWt1MoA","listenAddresses":["/ip4/127.0.0.1/tcp/61731/p2p/16Uiu2HAmRBj7z2opxLGb1jqMPc1xRKAQnxKXSxfxbxRNVZSZXrJC","/ip4/127.0.0.1/tcp/61732/ws/p2p/16Uiu2HAmRBj7z2opxLGb1jqMPc1xRKAQnxKXSxfxbxRNVZSZXrJC","/ip4/172.17.0.4/tcp/61731/p2p/16Uiu2HAmRBj7z2opxLGb1jqMPc1xRKAQnxKXSxfxbxRNVZSZXrJC","/ip4/172.17.0.4/tcp/61732/ws/p2p/16Uiu2HAmRBj7z2opxLGb1jqMPc1xRKAQnxKXSxfxbxRNVZSZXrJC"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61730/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.52.222/tcp/33039/p2p/16Uiu2HAmA5XXWDa2eWf7unc19BwFdZzTkeNf3dpiJ7GEnK2BNHTR", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33038/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61730/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "fad6f381-aee0-43e0-be55-82ec5adf5f72", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:61730/filter/v2/subscriptions. Response content: b'{"requestId":"fad6f381-aee0-43e0-be55-82ec5adf5f72","statusDesc":"subscription failed"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61730/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "fad6f381-aee0-43e0-be55-82ec5adf5f72", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:61730/filter/v2/subscriptions. Response content: b'{"requestId":"fad6f381-aee0-43e0-be55-82ec5adf5f72","statusDesc":"subscription failed"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61730/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "fad6f381-aee0-43e0-be55-82ec5adf5f72", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:61730/filter/v2/subscriptions. Response content: b'{"requestId":"fad6f381-aee0-43e0-be55-82ec5adf5f72","statusDesc":"subscription failed"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61730/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "fad6f381-aee0-43e0-be55-82ec5adf5f72", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:61730/filter/v2/subscriptions. Response content: b'{"requestId":"fad6f381-aee0-43e0-be55-82ec5adf5f72","statusDesc":"subscription failed"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61730/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "fad6f381-aee0-43e0-be55-82ec5adf5f72", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:61730/filter/v2/subscriptions. Response content: b'{"requestId":"fad6f381-aee0-43e0-be55-82ec5adf5f72","statusDesc":"subscription failed"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61730/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "fad6f381-aee0-43e0-be55-82ec5adf5f72", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:61730/filter/v2/subscriptions. Response content: b'{"requestId":"fad6f381-aee0-43e0-be55-82ec5adf5f72","statusDesc":"subscription failed"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61730/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "fad6f381-aee0-43e0-be55-82ec5adf5f72", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"fad6f381-aee0-43e0-be55-82ec5adf5f72","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33038/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61730/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id b399b43ca991
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 633a68161dcc
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container b399b43ca991. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node2_2024-11-19_03-28-20__d10c8ca5-5ff3-4f0c-878f-b05439544b8f__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node1_2024-11-19_03-28-20__d10c8ca5-5ff3-4f0c-878f-b05439544b8f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_subscribe_to_single_topics with id: 2024-11-19_03-28-41__1b2f706d-aa2a-43fb-9212-1c0801d0915b
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-19_03-28-41__1b2f706d-aa2a-43fb-9212-1c0801d0915b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.60.139
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['48204', '48205', '48206', '48207', '48208']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 48204:48204 -p 48205:48205 -p 48206:48206 -p 48207:48207 -p 48208:48208 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=48206 --rest-port=48204 --tcp-port=48205 --discv5-udp-port=48207 --rest-address=0.0.0.0 --nat=extip:172.18.60.139 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e79edc63cd3ff6071ccd9f1217b1b8eaf8edc0e69c926af6a474ed028cddede0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=48208 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.60.139 waku 772f8660b789f9f8d66cbec900cbba5f55bd457c3301cdf624d116065996401e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 772f8660b789. Setting up logs at ./log/docker/node1_2024-11-19_03-28-41__1b2f706d-aa2a-43fb-9212-1c0801d0915b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 48204
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 633a68161dcc. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48204/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48204/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.60.139/tcp/48205/p2p/16Uiu2HAmVKH8KPuQb9SKs53ZwByb8zb5gGL8ZUVF7153ica1BkEt","/ip4/172.18.60.139/tcp/48206/ws/p2p/16Uiu2HAmVKH8KPuQb9SKs53ZwByb8zb5gGL8ZUVF7153ica1BkEt"],"enrUri":"enr:-L24QMqFzDL7EiEITUcUCkMGsTPMxQzh5Ndb595m1Ej0ypfWTHg6D6g230uqWjbWulALbdW9SKpzmRNlPeE5jbpQtysCgmlkgnY0gmlwhKwSPIuKbXVsdGlhZGRyc5YACASsEjyLBrxNAAoErBI8iwa8Tt0DgnJzhQADAQAAiXNlY3AyNTZrMaED94oH2CWIe2mjOMAbBUCRCRpnVm3D_QrdCZzYQ1m0qqGDdGNwgrxNg3VkcIK8T4V3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-19_03-28-41__1b2f706d-aa2a-43fb-9212-1c0801d0915b__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.199.102
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['61870', '61871', '61872', '61873', '61874']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 61870:61870 -p 61871:61871 -p 61872:61872 -p 61873:61873 -p 61874:61874 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=61872 --rest-port=61870 --tcp-port=61871 --discv5-udp-port=61873 --rest-address=0.0.0.0 --nat=extip:172.18.199.102 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ff2afab16fae516bebd38bf0c389efaa38fd4d5532daec1ff334bbeb7bb913a8 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QMqFzDL7EiEITUcUCkMGsTPMxQzh5Ndb595m1Ej0ypfWTHg6D6g230uqWjbWulALbdW9SKpzmRNlPeE5jbpQtysCgmlkgnY0gmlwhKwSPIuKbXVsdGlhZGRyc5YACASsEjyLBrxNAAoErBI8iwa8Tt0DgnJzhQADAQAAiXNlY3AyNTZrMaED94oH2CWIe2mjOMAbBUCRCRpnVm3D_QrdCZzYQ1m0qqGDdGNwgrxNg3VkcIK8T4V3YWt1MgU --filternode=/ip4/172.18.60.139/tcp/48205/p2p/16Uiu2HAmVKH8KPuQb9SKs53ZwByb8zb5gGL8ZUVF7153ica1BkEt
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.199.102 waku 4c98df78bb7e52a35dbc66f45e78d60dc93d28c6fa00c7e0aeab44c5c9c43750
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 4c98df78bb7e. Setting up logs at ./log/docker/node2_2024-11-19_03-28-41__1b2f706d-aa2a-43fb-9212-1c0801d0915b__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/go-waku:latest. REST: 61870
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61870/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QL7WXrN3VzglIHhZw_RxjYEdfdh768zHuFcoV7icn8S2HaT5cQBS_AoIa4bjp-fZfOcsI7fpiKihN9U2R0pQjsuGAZNCdyO8gmlkgnY0gmlwhKwRAAaCcnODAAMAiXNlY3AyNTZrMaEC4D2Tb8bgWOsvFwOkSHgW6kOiRcb_HYaqC210r6T1F4qDdGNwgvGvg3VkcILxsYV3YWt1MoA","listenAddresses":["/ip4/127.0.0.1/tcp/61871/p2p/16Uiu2HAmAX1mAq7GBmdXTNa1apnAm6eFwSqbezktEs35odJB3psB","/ip4/127.0.0.1/tcp/61872/ws/p2p/16Uiu2HAmAX1mAq7GBmdXTNa1apnAm6eFwSqbezktEs35odJB3psB","/ip4/172.17.0.6/tcp/61871/p2p/16Uiu2HAmAX1mAq7GBmdXTNa1apnAm6eFwSqbezktEs35odJB3psB","/ip4/172.17.0.6/tcp/61872/ws/p2p/16Uiu2HAmAX1mAq7GBmdXTNa1apnAm6eFwSqbezktEs35odJB3psB"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61870/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.60.139/tcp/48205/p2p/16Uiu2HAmVKH8KPuQb9SKs53ZwByb8zb5gGL8ZUVF7153ica1BkEt", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48204/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61870/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "61bf020f-34f2-4438-b76a-d12993f8ad30", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:61870/filter/v2/subscriptions. Response content: b'{"requestId":"61bf020f-34f2-4438-b76a-d12993f8ad30","statusDesc":"subscription failed"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61870/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "61bf020f-34f2-4438-b76a-d12993f8ad30", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:61870/filter/v2/subscriptions. Response content: b'{"requestId":"61bf020f-34f2-4438-b76a-d12993f8ad30","statusDesc":"subscription failed"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61870/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "61bf020f-34f2-4438-b76a-d12993f8ad30", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:61870/filter/v2/subscriptions. Response content: b'{"requestId":"61bf020f-34f2-4438-b76a-d12993f8ad30","statusDesc":"subscription failed"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61870/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "61bf020f-34f2-4438-b76a-d12993f8ad30", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:61870/filter/v2/subscriptions. Response content: b'{"requestId":"61bf020f-34f2-4438-b76a-d12993f8ad30","statusDesc":"subscription failed"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61870/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "61bf020f-34f2-4438-b76a-d12993f8ad30", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"61bf020f-34f2-4438-b76a-d12993f8ad30","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48204/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61870/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 772f8660b789
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 4c98df78bb7e
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 772f8660b789. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node2_2024-11-19_03-28-41__1b2f706d-aa2a-43fb-9212-1c0801d0915b__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node1_2024-11-19_03-28-41__1b2f706d-aa2a-43fb-9212-1c0801d0915b__wakuorg_nwaku:latest.log