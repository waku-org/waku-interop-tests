[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_relay_get_message_after_one_peer_was_stopped with id: 2024-11-19_03-49-47__24c12f65-3502-4fad-926e-97683b9d9ded
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-19_03-49-47__24c12f65-3502-4fad-926e-97683b9d9ded__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.7.26
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['34228', '34229', '34230', '34231', '34232']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 34228:34228 -p 34229:34229 -p 34230:34230 -p 34231:34231 -p 34232:34232 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=34230 --rest-port=34228 --tcp-port=34229 --discv5-udp-port=34231 --rest-address=0.0.0.0 --nat=extip:172.18.7.26 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dd53fd0cc7d986f9674b1eefb43f92eb952bb0edd1aba9aaabdb2cda4eeadb82 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=34232 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.7.26 waku 75269a236b8ee21685a44911d98d48ca9bfe3678fe190f8c9de29d9240e71366
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 75269a236b8e. Setting up logs at ./log/docker/node1_2024-11-19_03-49-47__24c12f65-3502-4fad-926e-97683b9d9ded__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 34228
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container a1f7b7b05cdb. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34228/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34228/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.7.26/tcp/34229/p2p/16Uiu2HAkvBS7S6YwzproaAUYFCEhoyKAHh9RL1kaTuew2vAdKu7D","/ip4/172.18.7.26/tcp/34230/ws/p2p/16Uiu2HAkvBS7S6YwzproaAUYFCEhoyKAHh9RL1kaTuew2vAdKu7D"],"enrUri":"enr:-L24QM7yUFqPk7efALHskqfbQdbQtflcBbCNh8SFkEd8RAJwSDATTHXEgRAMhoTzuwNB6pgT0HVVPOORWZ9KuenUn34CgmlkgnY0gmlwhKwSBxqKbXVsdGlhZGRyc5YACASsEgcaBoW1AAoErBIHGgaFtt0DgnJzhQADAQAAiXNlY3AyNTZrMaECCzXf66ZVCt6P5IH3fpaExN8OH8UpLzlaxo0U6U5VeiiDdGNwgoW1g3VkcIKFt4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-19_03-49-47__24c12f65-3502-4fad-926e-97683b9d9ded__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.144.198
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['40830', '40831', '40832', '40833', '40834']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 40830:40830 -p 40831:40831 -p 40832:40832 -p 40833:40833 -p 40834:40834 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=40832 --rest-port=40830 --tcp-port=40831 --discv5-udp-port=40833 --rest-address=0.0.0.0 --nat=extip:172.18.144.198 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0b849c2490a9d9a6ed2d4acfba49f9a9e87da0987e67e7edeecbfcb1a8b52acf --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-L24QM7yUFqPk7efALHskqfbQdbQtflcBbCNh8SFkEd8RAJwSDATTHXEgRAMhoTzuwNB6pgT0HVVPOORWZ9KuenUn34CgmlkgnY0gmlwhKwSBxqKbXVsdGlhZGRyc5YACASsEgcaBoW1AAoErBIHGgaFtt0DgnJzhQADAQAAiXNlY3AyNTZrMaECCzXf66ZVCt6P5IH3fpaExN8OH8UpLzlaxo0U6U5VeiiDdGNwgoW1g3VkcIKFt4V3YWt1MgE
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.188.206
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['9452', '9453', '9454', '9455', '9456']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 9452:9452 -p 9453:9453 -p 9454:9454 -p 9455:9455 -p 9456:9456 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=9454 --rest-port=9452 --tcp-port=9453 --discv5-udp-port=9455 --rest-address=0.0.0.0 --nat=extip:172.18.188.206 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3eaa5710b995aec0a4adace5c63afa2c2c8a3ef55adafa1cdfd242e1ad2ab75f --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-L24QM7yUFqPk7efALHskqfbQdbQtflcBbCNh8SFkEd8RAJwSDATTHXEgRAMhoTzuwNB6pgT0HVVPOORWZ9KuenUn34CgmlkgnY0gmlwhKwSBxqKbXVsdGlhZGRyc5YACASsEgcaBoW1AAoErBIHGgaFtt0DgnJzhQADAQAAiXNlY3AyNTZrMaECCzXf66ZVCt6P5IH3fpaExN8OH8UpLzlaxo0U6U5VeiiDdGNwgoW1g3VkcIKFt4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.188.206 waku e9ae6ff98c048d29e6bd13a239f64c2ecf59c54071b844a160f26fab66ed2ca4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID e9ae6ff98c04. Setting up logs at ./log/docker/node2_2024-11-19_03-49-47__24c12f65-3502-4fad-926e-97683b9d9ded__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/go-waku:latest. REST: 9452
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9452/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QMWEczuhjgW7e-dwBhTAhSDolTTA_EPrvybN086o0UTjZM3mzy_ysZlhPPOiHVl3q1TMgiHunMzaUnwwa0_dtJqGAZNCinUxgmlkgnY0gmlwhKwRAAaCcnODAAMAiXNlY3AyNTZrMaEDNx7JpblP8auxiV2UOdV4fx_J1HforSm6uz2cL9Q4G-eDdGNwgiTtg3VkcIIk74V3YWt1MgE","listenAddresses":["/ip4/127.0.0.1/tcp/9453/p2p/16Uiu2HAmGNA17dwccL1hNiyqCHdyhLzDGdoR2LXTCkbp4nRQihpA","/ip4/127.0.0.1/tcp/9454/ws/p2p/16Uiu2HAmGNA17dwccL1hNiyqCHdyhLzDGdoR2LXTCkbp4nRQihpA","/ip4/172.17.0.6/tcp/9453/p2p/16Uiu2HAmGNA17dwccL1hNiyqCHdyhLzDGdoR2LXTCkbp4nRQihpA","/ip4/172.17.0.6/tcp/9454/ws/p2p/16Uiu2HAmGNA17dwccL1hNiyqCHdyhLzDGdoR2LXTCkbp4nRQihpA"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9452/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.7.26/tcp/34229/p2p/16Uiu2HAkvBS7S6YwzproaAUYFCEhoyKAHh9RL1kaTuew2vAdKu7D", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-19_03-49-47__24c12f65-3502-4fad-926e-97683b9d9ded__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.119.100
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['39126', '39127', '39128', '39129', '39130']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 39126:39126 -p 39127:39127 -p 39128:39128 -p 39129:39129 -p 39130:39130 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=39128 --rest-port=39126 --tcp-port=39127 --discv5-udp-port=39129 --rest-address=0.0.0.0 --nat=extip:172.18.119.100 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ffddec4b6eafac5f05d34abdf6cc6d9b2ddf0ae581ee5756d33ac51fa2956ecc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=39130 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QM7yUFqPk7efALHskqfbQdbQtflcBbCNh8SFkEd8RAJwSDATTHXEgRAMhoTzuwNB6pgT0HVVPOORWZ9KuenUn34CgmlkgnY0gmlwhKwSBxqKbXVsdGlhZGRyc5YACASsEgcaBoW1AAoErBIHGgaFtt0DgnJzhQADAQAAiXNlY3AyNTZrMaECCzXf66ZVCt6P5IH3fpaExN8OH8UpLzlaxo0U6U5VeiiDdGNwgoW1g3VkcIKFt4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.119.100 waku 29d09e33a879d61a939f6d2eb2e0583995a6e4d3dc1a754743394a360551871c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 29d09e33a879. Setting up logs at ./log/docker/node3_2024-11-19_03-49-47__24c12f65-3502-4fad-926e-97683b9d9ded__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 39126
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39126/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39126/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.119.100/tcp/39127/p2p/16Uiu2HAkyufb8Ystf5hDzNQB5TEayV17eaRmUrmh9eBBraQDnXuQ","/ip4/172.18.119.100/tcp/39128/ws/p2p/16Uiu2HAkyufb8Ystf5hDzNQB5TEayV17eaRmUrmh9eBBraQDnXuQ"],"enrUri":"enr:-L24QBcDiTLWUIxXG8WWjgY2kSqVEoO9su02UTN25AlWCBinRpYHDfmLuNjzXTYMDI_HEx9xQEZANZjCJbadTQKLzd0CgmlkgnY0gmlwhKwSd2SKbXVsdGlhZGRyc5YACASsEndkBpjXAAoErBJ3ZAaY2N0DgnJzhQADAQAAiXNlY3AyNTZrMaECQpqRjOD-XbsyS7ounTS07y7zQWUKeyIYMTJ3YN3fz_-DdGNwgpjXg3VkcIKY2YV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39126/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.7.26/tcp/34229/p2p/16Uiu2HAkvBS7S6YwzproaAUYFCEhoyKAHh9RL1kaTuew2vAdKu7D"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-19_03-49-47__24c12f65-3502-4fad-926e-97683b9d9ded__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.85.253
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['40427', '40428', '40429', '40430', '40431']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 40427:40427 -p 40428:40428 -p 40429:40429 -p 40430:40430 -p 40431:40431 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=40429 --rest-port=40427 --tcp-port=40428 --discv5-udp-port=40430 --rest-address=0.0.0.0 --nat=extip:172.18.85.253 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9c3fecebb8841b3eefcb1d123ed6dcbcfac226a382bfb0aeeca7e9aae57e3c5a --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-L24QM7yUFqPk7efALHskqfbQdbQtflcBbCNh8SFkEd8RAJwSDATTHXEgRAMhoTzuwNB6pgT0HVVPOORWZ9KuenUn34CgmlkgnY0gmlwhKwSBxqKbXVsdGlhZGRyc5YACASsEgcaBoW1AAoErBIHGgaFtt0DgnJzhQADAQAAiXNlY3AyNTZrMaECCzXf66ZVCt6P5IH3fpaExN8OH8UpLzlaxo0U6U5VeiiDdGNwgoW1g3VkcIKFt4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.85.253 waku 27772feaed60e87eb9374a1c1c750484404d504ae28db453b6e41d5352410aba
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 27772feaed60. Setting up logs at ./log/docker/node4_2024-11-19_03-49-47__24c12f65-3502-4fad-926e-97683b9d9ded__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/go-waku:latest. REST: 40427
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40427/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QHldmzC0cwfafKRTPzRu4w0EzAz-TAJBAHeOL3bQJm0IDdBWdzjLqldIJBq9HjVpAqzId6bwcAeruEpQeCFF5yeGAZNCioRzgmlkgnY0gmlwhKwRAAuCcnODAAMAiXNlY3AyNTZrMaEDdbuyWhm595BuqWLRLNho4jNZuywhTc7VEt538Qx0sSaDdGNwgp3sg3VkcIKd7oV3YWt1MgE","listenAddresses":["/ip4/127.0.0.1/tcp/40428/p2p/16Uiu2HAmLaa3vP8KYvdJTgGSPpFc5pcq5b4wp9ZcDJPSEdwhEKHw","/ip4/127.0.0.1/tcp/40429/ws/p2p/16Uiu2HAmLaa3vP8KYvdJTgGSPpFc5pcq5b4wp9ZcDJPSEdwhEKHw","/ip4/172.17.0.11/tcp/40428/p2p/16Uiu2HAmLaa3vP8KYvdJTgGSPpFc5pcq5b4wp9ZcDJPSEdwhEKHw","/ip4/172.17.0.11/tcp/40429/ws/p2p/16Uiu2HAmLaa3vP8KYvdJTgGSPpFc5pcq5b4wp9ZcDJPSEdwhEKHw"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40427/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.7.26/tcp/34229/p2p/16Uiu2HAkvBS7S6YwzproaAUYFCEhoyKAHh9RL1kaTuew2vAdKu7D", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-19_03-49-47__24c12f65-3502-4fad-926e-97683b9d9ded__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.14.221
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['14343', '14344', '14345', '14346', '14347']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 14343:14343 -p 14344:14344 -p 14345:14345 -p 14346:14346 -p 14347:14347 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=14345 --rest-port=14343 --tcp-port=14344 --discv5-udp-port=14346 --rest-address=0.0.0.0 --nat=extip:172.18.14.221 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ede0fb43fdbffbb70c7b2ef3cba9819a8c45bfff4aa4161ca215257693561f1d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=14347 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QM7yUFqPk7efALHskqfbQdbQtflcBbCNh8SFkEd8RAJwSDATTHXEgRAMhoTzuwNB6pgT0HVVPOORWZ9KuenUn34CgmlkgnY0gmlwhKwSBxqKbXVsdGlhZGRyc5YACASsEgcaBoW1AAoErBIHGgaFtt0DgnJzhQADAQAAiXNlY3AyNTZrMaECCzXf66ZVCt6P5IH3fpaExN8OH8UpLzlaxo0U6U5VeiiDdGNwgoW1g3VkcIKFt4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.14.221 waku aa622faf7c3e2b5208b42fe2cf941a9eeecfa686e0f59d5984362c8f74ed28ab
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID aa622faf7c3e. Setting up logs at ./log/docker/node5_2024-11-19_03-49-47__24c12f65-3502-4fad-926e-97683b9d9ded__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 14343
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14343/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14343/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.14.221/tcp/14344/p2p/16Uiu2HAmLRkA4FWJodsbk4gCMNYfN3G3zDSTGZt6YQqGyCCbXknV","/ip4/172.18.14.221/tcp/14345/ws/p2p/16Uiu2HAmLRkA4FWJodsbk4gCMNYfN3G3zDSTGZt6YQqGyCCbXknV"],"enrUri":"enr:-L24QO--MIIm3QYGLSZzssRFoDxqiT-lGHqIibrAKR6GddMTaENfettpxxXZwmKVay3zfFfSco5BClmMIO6FJz43_a8CgmlkgnY0gmlwhKwSDt2KbXVsdGlhZGRyc5YACASsEg7dBjgIAAoErBIO3QY4Cd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDc3jlY-oODVtpOH1F4SMOIlWLsIntIX6gIWj9YagOXcqDdGNwgjgIg3VkcII4CoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14343/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.7.26/tcp/34229/p2p/16Uiu2HAkvBS7S6YwzproaAUYFCEhoyKAHh9RL1kaTuew2vAdKu7D"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34228/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9452/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39126/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40427/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14343/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34228/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34228/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731988197457975296,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9452/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731988197457975296,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39126/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731988197457975296,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40427/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731988197457975296,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14343/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731988197457975296,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34228/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34228/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731988197616003072,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9452/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731988197616003072,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39126/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731988197616003072,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40427/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731988197616003072,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14343/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731988197616003072,"ephemeral":false}]'
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id e9ae6ff98c04
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34228/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39126/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731988199720150784,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40427/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731988199720150784,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14343/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731988199720150784,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 75269a236b8e
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container e9ae6ff98c04. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 29d09e33a879
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 75269a236b8e. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 27772feaed60
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 29d09e33a879. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id aa622faf7c3e
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 27772feaed60. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.