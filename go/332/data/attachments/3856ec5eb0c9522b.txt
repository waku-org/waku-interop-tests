[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2024-11-04_03-19-11__cbf92cda-8858-4ea7-bedd-0f49971e9d4f
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-04_03-19-11__cbf92cda-8858-4ea7-bedd-0f49971e9d4f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.206.51
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['61236', '61237', '61238', '61239', '61240']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 61236:61236 -p 61237:61237 -p 61238:61238 -p 61239:61239 -p 61240:61240 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=61238 --rest-port=61236 --tcp-port=61237 --discv5-udp-port=61239 --rest-address=0.0.0.0 --nat=extip:172.18.206.51 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7ecbecbcae0fdb2549ab1ee6d3b8d742c942bd22746dfd1332dfcb1b89d1c5ba --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=61240 --metrics-logging=true --relay=true
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container a061b9784ff9. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.206.51 waku db6ddec9d97999adc27498bab05731eaebac570225ffda2733ee6e678b354368
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID db6ddec9d979. Setting up logs at ./log/docker/node1_2024-11-04_03-19-11__cbf92cda-8858-4ea7-bedd-0f49971e9d4f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 61236
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61236/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61236/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.206.51/tcp/61237/p2p/16Uiu2HAmGPL4evM3wVSFamdHWgJzSKn5neXHZZuZeEUyb2Xjj18H","/ip4/172.18.206.51/tcp/61238/ws/p2p/16Uiu2HAmGPL4evM3wVSFamdHWgJzSKn5neXHZZuZeEUyb2Xjj18H"],"enrUri":"enr:-L24QEFdVU8r7qJKRKIH4ImeY6Y_6RGjumEJZjdoF3JHx3JZRu8vutATzlimsTT-bd2qn2W-Ql9hiDB2c164-zC5j-wCgmlkgnY0gmlwhKwSzjOKbXVsdGlhZGRyc5YACASsEs4zBu81AAoErBLOMwbvNt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDN2u-mXzPHLYLkdf4vxS_pMViII1h57ttT1jfUHkNNtaDdGNwgu81g3VkcILvN4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-04_03-19-11__cbf92cda-8858-4ea7-bedd-0f49971e9d4f__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.67.39
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['11510', '11511', '11512', '11513', '11514']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 11510:11510 -p 11511:11511 -p 11512:11512 -p 11513:11513 -p 11514:11514 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=11512 --rest-port=11510 --tcp-port=11511 --discv5-udp-port=11513 --rest-address=0.0.0.0 --nat=extip:172.18.67.39 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=62b0d7c880560c433b056bd32a7e0cae289ef52f4f1aeebb3e4ff3bc191a73f0 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-L24QEFdVU8r7qJKRKIH4ImeY6Y_6RGjumEJZjdoF3JHx3JZRu8vutATzlimsTT-bd2qn2W-Ql9hiDB2c164-zC5j-wCgmlkgnY0gmlwhKwSzjOKbXVsdGlhZGRyc5YACASsEs4zBu81AAoErBLOMwbvNt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDN2u-mXzPHLYLkdf4vxS_pMViII1h57ttT1jfUHkNNtaDdGNwgu81g3VkcILvN4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.67.39 waku 115717b34a95e64a35d0619b7530c252650d3059e0e223284287274eff576eeb
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 115717b34a95. Setting up logs at ./log/docker/node2_2024-11-04_03-19-11__cbf92cda-8858-4ea7-bedd-0f49971e9d4f__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 11510
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11510/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QPuteir902Fs_BFFJNE_8o8we_wjkLi1s_dgYRKKhn9hflkJFyOL7eEw6N1teWJ7p55VjYHlO2BCVwE1NKHQgWmGAZL1LwxpgmlkgnY0gmlwhKwRAAWJc2VjcDI1NmsxoQIjWdYtkgR1xE_S96cNW6Zynqfs8TYquLsJeJ0_b1Xj9oN0Y3CCLPeDdWRwgiz5hXdha3UyAQ","listenAddresses":["/ip4/127.0.0.1/tcp/11511/p2p/16Uiu2HAkwofhdkVkP1iwDdKE2dYQ5gqszcRSwb3pbXJPLz89Byq7","/ip4/127.0.0.1/tcp/11512/ws/p2p/16Uiu2HAkwofhdkVkP1iwDdKE2dYQ5gqszcRSwb3pbXJPLz89Byq7","/ip4/172.17.0.5/tcp/11511/p2p/16Uiu2HAkwofhdkVkP1iwDdKE2dYQ5gqszcRSwb3pbXJPLz89Byq7","/ip4/172.17.0.5/tcp/11512/ws/p2p/16Uiu2HAkwofhdkVkP1iwDdKE2dYQ5gqszcRSwb3pbXJPLz89Byq7"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11510/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.206.51/tcp/61237/p2p/16Uiu2HAmGPL4evM3wVSFamdHWgJzSKn5neXHZZuZeEUyb2Xjj18H", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-04_03-19-11__cbf92cda-8858-4ea7-bedd-0f49971e9d4f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.110.211
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['50337', '50338', '50339', '50340', '50341']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 50337:50337 -p 50338:50338 -p 50339:50339 -p 50340:50340 -p 50341:50341 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=50339 --rest-port=50337 --tcp-port=50338 --discv5-udp-port=50340 --rest-address=0.0.0.0 --nat=extip:172.18.110.211 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cab0aad9be578ee9d919fb2a47def3e3b9ff4ba3d442ddfafdf9e08fd9e53ff7 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=50341 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QEFdVU8r7qJKRKIH4ImeY6Y_6RGjumEJZjdoF3JHx3JZRu8vutATzlimsTT-bd2qn2W-Ql9hiDB2c164-zC5j-wCgmlkgnY0gmlwhKwSzjOKbXVsdGlhZGRyc5YACASsEs4zBu81AAoErBLOMwbvNt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDN2u-mXzPHLYLkdf4vxS_pMViII1h57ttT1jfUHkNNtaDdGNwgu81g3VkcILvN4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.110.211 waku d5d200056712bc436cd78cee8fd76830600db2ef37550f0a918fde5c369728c8
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID d5d200056712. Setting up logs at ./log/docker/node3_2024-11-04_03-19-11__cbf92cda-8858-4ea7-bedd-0f49971e9d4f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 50337
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50337/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50337/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.110.211/tcp/50338/p2p/16Uiu2HAkw8r2z71oKgVcYUvhbQuGGynxaizffDhrggV3xtfhTyaW","/ip4/172.18.110.211/tcp/50339/ws/p2p/16Uiu2HAkw8r2z71oKgVcYUvhbQuGGynxaizffDhrggV3xtfhTyaW"],"enrUri":"enr:-L24QCk-7VaA6ktiUOJljjyuj3RkubqavxmPfjiKLX3reZsBF_Kszp0deEePqj4HuZ5TY5MHDtPWlVe9CruIxKw_XT4CgmlkgnY0gmlwhKwSbtOKbXVsdGlhZGRyc5YACASsEm7TBsSiAAoErBJu0wbEo90DgnJzhQADAQAAiXNlY3AyNTZrMaECGWfejlJXjVK0tQEquQoaMLFjOnor6bxPx-_dADlATgeDdGNwgsSig3VkcILEpIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50337/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.206.51/tcp/61237/p2p/16Uiu2HAmGPL4evM3wVSFamdHWgJzSKn5neXHZZuZeEUyb2Xjj18H"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-04_03-19-11__cbf92cda-8858-4ea7-bedd-0f49971e9d4f__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.17.230
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['2510', '2511', '2512', '2513', '2514']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 2510:2510 -p 2511:2511 -p 2512:2512 -p 2513:2513 -p 2514:2514 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=2512 --rest-port=2510 --tcp-port=2511 --discv5-udp-port=2513 --rest-address=0.0.0.0 --nat=extip:172.18.17.230 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f6d6fbcbcbfef526db427ec4b3811dccbb6ea3ab2420deffcdad82b7cd6fbae0 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-L24QEFdVU8r7qJKRKIH4ImeY6Y_6RGjumEJZjdoF3JHx3JZRu8vutATzlimsTT-bd2qn2W-Ql9hiDB2c164-zC5j-wCgmlkgnY0gmlwhKwSzjOKbXVsdGlhZGRyc5YACASsEs4zBu81AAoErBLOMwbvNt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDN2u-mXzPHLYLkdf4vxS_pMViII1h57ttT1jfUHkNNtaDdGNwgu81g3VkcILvN4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.17.230 waku 125f1e7b74edbb72643adf48edab747a1ed2bc87f3dccfea785a5d0d45968309
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 125f1e7b74ed. Setting up logs at ./log/docker/node4_2024-11-04_03-19-11__cbf92cda-8858-4ea7-bedd-0f49971e9d4f__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 2510
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2510/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QCUu1834tPoVVkhIQsGYTWwIc2L9IfWTAtPh6UcA07wECv0YIQC4U8gA-wglqbx_Lxf3HfTxy5WpXiCf6KJin2eGAZL1LxgSgmlkgnY0gmlwhKwRAA2Jc2VjcDI1NmsxoQM0BqJ936PTSl8E6-BRva8jrtdPSG7WYzkC2DvTvl9Mq4N0Y3CCCc-DdWRwggnRhXdha3UyAQ","listenAddresses":["/ip4/127.0.0.1/tcp/2511/p2p/16Uiu2HAmGA5REmhD8hLsUHQxKqYFDAiVuin8HEB1xcM9NjovMf1c","/ip4/127.0.0.1/tcp/2512/ws/p2p/16Uiu2HAmGA5REmhD8hLsUHQxKqYFDAiVuin8HEB1xcM9NjovMf1c","/ip4/172.17.0.13/tcp/2511/p2p/16Uiu2HAmGA5REmhD8hLsUHQxKqYFDAiVuin8HEB1xcM9NjovMf1c","/ip4/172.17.0.13/tcp/2512/ws/p2p/16Uiu2HAmGA5REmhD8hLsUHQxKqYFDAiVuin8HEB1xcM9NjovMf1c"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2510/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.206.51/tcp/61237/p2p/16Uiu2HAmGPL4evM3wVSFamdHWgJzSKn5neXHZZuZeEUyb2Xjj18H", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-04_03-19-11__cbf92cda-8858-4ea7-bedd-0f49971e9d4f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.118.213
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['6000', '6001', '6002', '6003', '6004']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 6000:6000 -p 6001:6001 -p 6002:6002 -p 6003:6003 -p 6004:6004 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=6002 --rest-port=6000 --tcp-port=6001 --discv5-udp-port=6003 --rest-address=0.0.0.0 --nat=extip:172.18.118.213 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fce1d7c4709eab40bbfd7c5b6bdaa1fb3e9eff7ebb8b034f9f9df56c3da7eb6a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=6004 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QEFdVU8r7qJKRKIH4ImeY6Y_6RGjumEJZjdoF3JHx3JZRu8vutATzlimsTT-bd2qn2W-Ql9hiDB2c164-zC5j-wCgmlkgnY0gmlwhKwSzjOKbXVsdGlhZGRyc5YACASsEs4zBu81AAoErBLOMwbvNt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDN2u-mXzPHLYLkdf4vxS_pMViII1h57ttT1jfUHkNNtaDdGNwgu81g3VkcILvN4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.118.213 waku 645d0e7faa1ec7b608595aa49ae4922cb767493d3cb6ecdb8fffbf33f7fe04c6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 645d0e7faa1e. Setting up logs at ./log/docker/node5_2024-11-04_03-19-11__cbf92cda-8858-4ea7-bedd-0f49971e9d4f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 6000
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6000/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6000/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.118.213/tcp/6001/p2p/16Uiu2HAm49iyi3YtDCGd6YkAL3r5SjY6xkHft6EftcDr1hRFm8XY","/ip4/172.18.118.213/tcp/6002/ws/p2p/16Uiu2HAm49iyi3YtDCGd6YkAL3r5SjY6xkHft6EftcDr1hRFm8XY"],"enrUri":"enr:-L24QIUdcL1Y7RV2SbWfcHLuFS4SNl3opstz5IZYohXBeCo0ayzUq6_DujrM-dya9BpkgCXQXJ2Jncbm2lP8j9ozCw4CgmlkgnY0gmlwhKwSdtWKbXVsdGlhZGRyc5YACASsEnbVBhdxAAoErBJ21QYXct0DgnJzhQADAQAAiXNlY3AyNTZrMaECgaNHo-j9XWSgi1eXuZCzf32TvVdDgPzVxsnUpUWlBqeDdGNwghdxg3VkcIIXc4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6000/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.206.51/tcp/61237/p2p/16Uiu2HAmGPL4evM3wVSFamdHWgJzSKn5neXHZZuZeEUyb2Xjj18H"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61236/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11510/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50337/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2510/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6000/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61236/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61236/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730690359819351552,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11510/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730690359819351552,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50337/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730690359819351552,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2510/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730690359819351552,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6000/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730690359819351552,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6000/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61236/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730690359947937792,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11510/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730690359947937792,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50337/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730690359947937792,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2510/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730690359947937792,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6000/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1730690359947937792,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id db6ddec9d979
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 115717b34a95
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container db6ddec9d979. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id d5d200056712
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 115717b34a95. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 125f1e7b74ed
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container d5d200056712. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 645d0e7faa1e
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 125f1e7b74ed. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.