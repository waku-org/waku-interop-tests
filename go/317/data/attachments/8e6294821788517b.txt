[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_unsubscribe_with_pubsub_topic_string_instead_of_list with id: 2024-10-22_03-12-27__e532e591-fecb-4514-8977-6c41dbb39c2f
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-10-22_03-12-27__e532e591-fecb-4514-8977-6c41dbb39c2f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.120.255
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['56354', '56355', '56356', '56357', '56358']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 56354:56354 -p 56355:56355 -p 56356:56356 -p 56357:56357 -p 56358:56358 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=56356 --rest-port=56354 --tcp-port=56355 --discv5-udp-port=56357 --rest-address=0.0.0.0 --nat=extip:172.18.120.255 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cdb1cac6ec5e8ebfa4bcc7b8bb5bffddb5f1f798ffbe8bd1e0d7c2cbc6a4e238 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=56358 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.120.255 waku 07702c1fd78985d83c233788e4ecae5b00beaf2e001963121e2412365f4f9891
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 07702c1fd789. Setting up logs at ./log/docker/node1_2024-10-22_03-12-27__e532e591-fecb-4514-8977-6c41dbb39c2f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 56354
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56354/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56354/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.120.255/tcp/56355/p2p/16Uiu2HAkvkuXE6ZvpKtKFKwcQ9diYP29wFpskVKSfPwLh24wnjud","/ip4/172.18.120.255/tcp/56356/ws/p2p/16Uiu2HAkvkuXE6ZvpKtKFKwcQ9diYP29wFpskVKSfPwLh24wnjud"],"enrUri":"enr:-LO4QPbo2w0Ua012giXsXmY2FPFww344j7R_FdXr1us6_pPxcd9l25AMcAO7fx1I6FqP9sb9TvnahESgT32swVs6QxQBgmlkgnY0gmlwhKwSeP-KbXVsdGlhZGRyc4wACgSsEnj_Btwk3QOCcnOFAAMBAACJc2VjcDI1NmsxoQITyQjDUU5jk5s1zuXrXrFoFn_4vYFlXwfvmxOlRccgXIN0Y3CC3CODdWRwgtwlhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-10-22_03-12-27__e532e591-fecb-4514-8977-6c41dbb39c2f__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.42.160
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['62811', '62812', '62813', '62814', '62815']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 62811:62811 -p 62812:62812 -p 62813:62813 -p 62814:62814 -p 62815:62815 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=62813 --rest-port=62811 --tcp-port=62812 --discv5-udp-port=62814 --rest-address=0.0.0.0 --nat=extip:172.18.42.160 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fcece7f9ba2fc7634adfc1cad3afccb8a1043dce7f4fd6e6cdbd4e371bb6c46d --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-LO4QPbo2w0Ua012giXsXmY2FPFww344j7R_FdXr1us6_pPxcd9l25AMcAO7fx1I6FqP9sb9TvnahESgT32swVs6QxQBgmlkgnY0gmlwhKwSeP-KbXVsdGlhZGRyc4wACgSsEnj_Btwk3QOCcnOFAAMBAACJc2VjcDI1NmsxoQITyQjDUU5jk5s1zuXrXrFoFn_4vYFlXwfvmxOlRccgXIN0Y3CC3CODdWRwgtwlhXdha3UyBQ --filternode=/ip4/172.18.120.255/tcp/56355/p2p/16Uiu2HAkvkuXE6ZvpKtKFKwcQ9diYP29wFpskVKSfPwLh24wnjud
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.42.160 waku f88fe0c6a956920825d3fdd815d555db3d7972fb197b76fa0cd754005ef83b4b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID f88fe0c6a956. Setting up logs at ./log/docker/node2_2024-10-22_03-12-27__e532e591-fecb-4514-8977-6c41dbb39c2f__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 62811
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62811/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QKImTOF-PxPB8FnWROdc2QVkU96PGRZP5N0f5Xi41FQzGbRND38BFjbz6ADzQwenRXh1Z8GmImgzE7M1J5IKeXOGAZKyNje5gmlkgnY0gmlwhKwRAAeJc2VjcDI1NmsxoQMYEgXttcO5NUS56TjcR15IG3PzehlI2s07LM2UKhErj4N0Y3CC9VyDdWRwgvVehXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/62812/p2p/16Uiu2HAmEGx5K3jhE28QGEgeYT3MwqgkkP1FCuKhTetirnPNdF66","/ip4/127.0.0.1/tcp/62813/ws/p2p/16Uiu2HAmEGx5K3jhE28QGEgeYT3MwqgkkP1FCuKhTetirnPNdF66","/ip4/172.17.0.7/tcp/62812/p2p/16Uiu2HAmEGx5K3jhE28QGEgeYT3MwqgkkP1FCuKhTetirnPNdF66","/ip4/172.17.0.7/tcp/62813/ws/p2p/16Uiu2HAmEGx5K3jhE28QGEgeYT3MwqgkkP1FCuKhTetirnPNdF66"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62811/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.120.255/tcp/56355/p2p/16Uiu2HAkvkuXE6ZvpKtKFKwcQ9diYP29wFpskVKSfPwLh24wnjud", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56354/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62811/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "dcf4f124-cffb-463e-9a1d-475c3b9056ef", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"dcf4f124-cffb-463e-9a1d-475c3b9056ef","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:62811/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": "/test/1/waku-filter/proto", "pubsubTopic": "/waku/2/rs/3/1"}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:62811/filter/v2/subscriptions. Response content: b''
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 07702c1fd789
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id f88fe0c6a956
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.