[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_all_nodes_subscribed_to_the_topic with id: 2024-10-22_03-09-58__1944d78a-1f7d-43b5-8804-4add13161636
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-10-22_03-09-58__1944d78a-1f7d-43b5-8804-4add13161636__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.78.33
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['27413', '27414', '27415', '27416', '27417']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 27413:27413 -p 27414:27414 -p 27415:27415 -p 27416:27416 -p 27417:27417 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=27415 --rest-port=27413 --tcp-port=27414 --discv5-udp-port=27416 --rest-address=0.0.0.0 --nat=extip:172.18.78.33 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d2ebaa2e9e6ec59cecc795bebaff18012cca8ff6bd9917a9b178f9e5f81b8bcd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=27417 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.78.33 waku e81e3b73df1b2ff26690f2d06da0ba73ee6fbb77e63d9ff93478a6b9f7868bb6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID e81e3b73df1b. Setting up logs at ./log/docker/node1_2024-10-22_03-09-58__1944d78a-1f7d-43b5-8804-4add13161636__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 27413
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27413/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27413/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.78.33/tcp/27414/p2p/16Uiu2HAm9z9vcRsqcFsAUsRVHmmjSY1ks3KdrpmnivqvVEBb9X7y","/ip4/172.18.78.33/tcp/27415/ws/p2p/16Uiu2HAm9z9vcRsqcFsAUsRVHmmjSY1ks3KdrpmnivqvVEBb9X7y"],"enrUri":"enr:-LO4QA_qpGQFp_noeR489iUOe3ANp_HP7aDIbjQvYZj6_2IiOj692SEVpUoknLOW0f0A86WLtkrtCJoNzR1anWib8dEBgmlkgnY0gmlwhKwSTiGKbXVsdGlhZGRyc4wACgSsEk4hBmsX3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLYVczvjeKdqZDGlWjVEJdJBn-pB1z2ZNcog82Rlt0prIN0Y3CCaxaDdWRwgmsYhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-10-22_03-09-58__1944d78a-1f7d-43b5-8804-4add13161636__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.227.122
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['17536', '17537', '17538', '17539', '17540']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 17536:17536 -p 17537:17537 -p 17538:17538 -p 17539:17539 -p 17540:17540 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=17538 --rest-port=17536 --tcp-port=17537 --discv5-udp-port=17539 --rest-address=0.0.0.0 --nat=extip:172.18.227.122 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ad5ce1afce8dffa47bf7ecdba03ab4e4b36165765f1ad776f06f96d2f2a80865 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-LO4QA_qpGQFp_noeR489iUOe3ANp_HP7aDIbjQvYZj6_2IiOj692SEVpUoknLOW0f0A86WLtkrtCJoNzR1anWib8dEBgmlkgnY0gmlwhKwSTiGKbXVsdGlhZGRyc4wACgSsEk4hBmsX3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLYVczvjeKdqZDGlWjVEJdJBn-pB1z2ZNcog82Rlt0prIN0Y3CCaxaDdWRwgmsYhXdha3UyBQ --filternode=/ip4/172.18.78.33/tcp/27414/p2p/16Uiu2HAm9z9vcRsqcFsAUsRVHmmjSY1ks3KdrpmnivqvVEBb9X7y
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.227.122 waku 08851e46366e35b44391c6139e8c01dbe3560c4a30726fadf5b44260c4cd1ead
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 08851e46366e. Setting up logs at ./log/docker/node2_2024-10-22_03-09-58__1944d78a-1f7d-43b5-8804-4add13161636__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 17536
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17536/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QDXLv7xo9N6wpSGfgMw9lZD3SYUFhAmEW4jmdZjBwHfNPXwNRfW4OKHu_-n2J1vFeQzHnrsMAktZx-mNLtEPfGuGAZKyM-6vgmlkgnY0gmlwhKwRAAKJc2VjcDI1NmsxoQJcP5hORPO2ayQDpLW9PVUpSyflIG7cCuOCEjQitMXxdYN0Y3CCRIGDdWRwgkSDhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/17537/p2p/16Uiu2HAm1dmjQKTmnxgyZBkdXPhNiTYxaoP45GEoPb8PVvjmGMA4","/ip4/127.0.0.1/tcp/17538/ws/p2p/16Uiu2HAm1dmjQKTmnxgyZBkdXPhNiTYxaoP45GEoPb8PVvjmGMA4","/ip4/172.17.0.2/tcp/17537/p2p/16Uiu2HAm1dmjQKTmnxgyZBkdXPhNiTYxaoP45GEoPb8PVvjmGMA4","/ip4/172.17.0.2/tcp/17538/ws/p2p/16Uiu2HAm1dmjQKTmnxgyZBkdXPhNiTYxaoP45GEoPb8PVvjmGMA4"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17536/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.78.33/tcp/27414/p2p/16Uiu2HAm9z9vcRsqcFsAUsRVHmmjSY1ks3KdrpmnivqvVEBb9X7y", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:17536/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17536/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.78.33/tcp/27414/p2p/16Uiu2HAm9z9vcRsqcFsAUsRVHmmjSY1ks3KdrpmnivqvVEBb9X7y", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:17536/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17536/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.78.33/tcp/27414/p2p/16Uiu2HAm9z9vcRsqcFsAUsRVHmmjSY1ks3KdrpmnivqvVEBb9X7y", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:17536/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17536/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.78.33/tcp/27414/p2p/16Uiu2HAm9z9vcRsqcFsAUsRVHmmjSY1ks3KdrpmnivqvVEBb9X7y", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:17536/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17536/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.78.33/tcp/27414/p2p/16Uiu2HAm9z9vcRsqcFsAUsRVHmmjSY1ks3KdrpmnivqvVEBb9X7y", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:17536/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17536/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.78.33/tcp/27414/p2p/16Uiu2HAm9z9vcRsqcFsAUsRVHmmjSY1ks3KdrpmnivqvVEBb9X7y", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:17536/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17536/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.78.33/tcp/27414/p2p/16Uiu2HAm9z9vcRsqcFsAUsRVHmmjSY1ks3KdrpmnivqvVEBb9X7y", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:17536/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17536/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.78.33/tcp/27414/p2p/16Uiu2HAm9z9vcRsqcFsAUsRVHmmjSY1ks3KdrpmnivqvVEBb9X7y", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:17536/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17536/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.78.33/tcp/27414/p2p/16Uiu2HAm9z9vcRsqcFsAUsRVHmmjSY1ks3KdrpmnivqvVEBb9X7y", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:17536/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17536/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.78.33/tcp/27414/p2p/16Uiu2HAm9z9vcRsqcFsAUsRVHmmjSY1ks3KdrpmnivqvVEBb9X7y", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:17536/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17536/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.78.33/tcp/27414/p2p/16Uiu2HAm9z9vcRsqcFsAUsRVHmmjSY1ks3KdrpmnivqvVEBb9X7y", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-10-22_03-09-58__1944d78a-1f7d-43b5-8804-4add13161636__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.96.252
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['18819', '18820', '18821', '18822', '18823']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 18819:18819 -p 18820:18820 -p 18821:18821 -p 18822:18822 -p 18823:18823 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=18821 --rest-port=18819 --tcp-port=18820 --discv5-udp-port=18822 --rest-address=0.0.0.0 --nat=extip:172.18.96.252 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fc888a4f72cbbc5a4e4cbbdd3c1d36253c8ecf9c7b456cfaa7e0b1685183dc0b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=18823 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QA_qpGQFp_noeR489iUOe3ANp_HP7aDIbjQvYZj6_2IiOj692SEVpUoknLOW0f0A86WLtkrtCJoNzR1anWib8dEBgmlkgnY0gmlwhKwSTiGKbXVsdGlhZGRyc4wACgSsEk4hBmsX3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLYVczvjeKdqZDGlWjVEJdJBn-pB1z2ZNcog82Rlt0prIN0Y3CCaxaDdWRwgmsYhXdha3UyBQ --filternode=/ip4/172.18.78.33/tcp/27414/p2p/16Uiu2HAm9z9vcRsqcFsAUsRVHmmjSY1ks3KdrpmnivqvVEBb9X7y
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.96.252 waku cc9985fd32d42d1f171fcaeabb0c070a5ae7f02886962485ebc343daf04bcf85
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID cc9985fd32d4. Setting up logs at ./log/docker/node3_2024-10-22_03-09-58__1944d78a-1f7d-43b5-8804-4add13161636__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 18819
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18819/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18819/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.96.252/tcp/18820/p2p/16Uiu2HAmRu8GcjwZZbEDkmJenHaLXfhhtyYvGHh1G38gUkhc8VaJ","/ip4/172.18.96.252/tcp/18821/ws/p2p/16Uiu2HAmRu8GcjwZZbEDkmJenHaLXfhhtyYvGHh1G38gUkhc8VaJ"],"enrUri":"enr:-LO4QHeCr7W6m7FQm7UBkpJo_mtJDp2JBenariA46WS1caflDM1o_WOW9gcWQkmiHl-W0UPRC0pr7n1jJ3XmnTEFy-QBgmlkgnY0gmlwhKwSYPyKbXVsdGlhZGRyc4wACgSsEmD8BkmF3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPExwQSJJyMJchZ7VZEJPdifOYadypxUImz8saYhg6-A4N0Y3CCSYSDdWRwgkmGhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:18819/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.78.33/tcp/27414/p2p/16Uiu2HAm9z9vcRsqcFsAUsRVHmmjSY1ks3KdrpmnivqvVEBb9X7y"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-10-22_03-09-58__1944d78a-1f7d-43b5-8804-4add13161636__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.118.247
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['16683', '16684', '16685', '16686', '16687']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 16683:16683 -p 16684:16684 -p 16685:16685 -p 16686:16686 -p 16687:16687 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=16685 --rest-port=16683 --tcp-port=16684 --discv5-udp-port=16686 --rest-address=0.0.0.0 --nat=extip:172.18.118.247 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c32a5ef5dc054b55ad5c5eaeb5fcada9d8e1aed80bb65cefaf8dc4507b4b8402 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-LO4QA_qpGQFp_noeR489iUOe3ANp_HP7aDIbjQvYZj6_2IiOj692SEVpUoknLOW0f0A86WLtkrtCJoNzR1anWib8dEBgmlkgnY0gmlwhKwSTiGKbXVsdGlhZGRyc4wACgSsEk4hBmsX3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLYVczvjeKdqZDGlWjVEJdJBn-pB1z2ZNcog82Rlt0prIN0Y3CCaxaDdWRwgmsYhXdha3UyBQ --filternode=/ip4/172.18.78.33/tcp/27414/p2p/16Uiu2HAm9z9vcRsqcFsAUsRVHmmjSY1ks3KdrpmnivqvVEBb9X7y
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.118.247 waku 4b8d542f3b4073f8067fb3906a60d8de38c3a434def3d651b191a01d65bced01
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 4b8d542f3b40. Setting up logs at ./log/docker/node4_2024-10-22_03-09-58__1944d78a-1f7d-43b5-8804-4add13161636__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 16683
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16683/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QFZ8vzKQ_aTyX8De2E9ny3w8-KPEFTmGe3tZi5yeFlX0OYQWyN0OZPi-WmEk4M8B128bj8DCsCBytm2RbUTnv_iGAZKyNB9OgmlkgnY0gmlwhKwRAAaJc2VjcDI1NmsxoQK2BmRjIkp80jZMArrmjhQBbPke5iXAJV5k9WaSU6dd7IN0Y3CCQSyDdWRwgkEuhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/16684/p2p/16Uiu2HAm7gDqLcTmsZNzda6Y461GA414CixpuaheQygafPTzGvpj","/ip4/127.0.0.1/tcp/16685/ws/p2p/16Uiu2HAm7gDqLcTmsZNzda6Y461GA414CixpuaheQygafPTzGvpj","/ip4/172.17.0.6/tcp/16684/p2p/16Uiu2HAm7gDqLcTmsZNzda6Y461GA414CixpuaheQygafPTzGvpj","/ip4/172.17.0.6/tcp/16685/ws/p2p/16Uiu2HAm7gDqLcTmsZNzda6Y461GA414CixpuaheQygafPTzGvpj"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16683/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.78.33/tcp/27414/p2p/16Uiu2HAm9z9vcRsqcFsAUsRVHmmjSY1ks3KdrpmnivqvVEBb9X7y", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-10-22_03-09-58__1944d78a-1f7d-43b5-8804-4add13161636__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.80.200
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['53175', '53176', '53177', '53178', '53179']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 53175:53175 -p 53176:53176 -p 53177:53177 -p 53178:53178 -p 53179:53179 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=53177 --rest-port=53175 --tcp-port=53176 --discv5-udp-port=53178 --rest-address=0.0.0.0 --nat=extip:172.18.80.200 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7e5b8dc7e954a6d2ba66ff340eeefaf2ecc5e8c6f780e9efca6e6c5aff561df2 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=53179 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QA_qpGQFp_noeR489iUOe3ANp_HP7aDIbjQvYZj6_2IiOj692SEVpUoknLOW0f0A86WLtkrtCJoNzR1anWib8dEBgmlkgnY0gmlwhKwSTiGKbXVsdGlhZGRyc4wACgSsEk4hBmsX3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLYVczvjeKdqZDGlWjVEJdJBn-pB1z2ZNcog82Rlt0prIN0Y3CCaxaDdWRwgmsYhXdha3UyBQ --filternode=/ip4/172.18.78.33/tcp/27414/p2p/16Uiu2HAm9z9vcRsqcFsAUsRVHmmjSY1ks3KdrpmnivqvVEBb9X7y
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.80.200 waku de2fbbdc9d1d3e667113073450ff729798c0d0d4ae16d8a9fb7454907174c27b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID de2fbbdc9d1d. Setting up logs at ./log/docker/node5_2024-10-22_03-09-58__1944d78a-1f7d-43b5-8804-4add13161636__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 53175
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53175/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53175/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.80.200/tcp/53176/p2p/16Uiu2HAkyeAEoPwyTzgGZgGLaH4xyE7wg86e94GyeVemb8RSfvrw","/ip4/172.18.80.200/tcp/53177/ws/p2p/16Uiu2HAkyeAEoPwyTzgGZgGLaH4xyE7wg86e94GyeVemb8RSfvrw"],"enrUri":"enr:-LO4QLBYjED2vzIDMZn_JGcuiDR6JWOIFVdYLBMcEjUHQtoCZ8rEnZYoMkozEdGVr1Jm4BWigrKMgBHWWW8qvNBdFAIBgmlkgnY0gmlwhKwSUMiKbXVsdGlhZGRyc4wACgSsElDIBs-53QOCcnOFAAMBAACJc2VjcDI1NmsxoQI-oatwHGl522JjUeOELtHDXhvrmqo7xZD8Sdnw7vEqBIN0Y3CCz7iDdWRwgs-6hXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53175/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.78.33/tcp/27414/p2p/16Uiu2HAm9z9vcRsqcFsAUsRVHmmjSY1ks3KdrpmnivqvVEBb9X7y"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27413/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17536/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "cf4dd268-df7d-46e9-803e-0cc4653c3409", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"cf4dd268-df7d-46e9-803e-0cc4653c3409","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:18819/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "7d2ffd23-9a2f-49ca-99b9-0050c1668172", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"7d2ffd23-9a2f-49ca-99b9-0050c1668172","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16683/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "462b9f98-0e11-4020-b843-fab72b5bb8b5", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"462b9f98-0e11-4020-b843-fab72b5bb8b5","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53175/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "2676cd82-2c54-4cb9-8570-7672e9748c27", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"2676cd82-2c54-4cb9-8570-7672e9748c27","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27413/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17536/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1729566616173876480,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18819/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1729566616173876480,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_4:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16683/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1729566616173876480,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53175/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1729566616173876480,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id e81e3b73df1b
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 08851e46366e
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id cc9985fd32d4
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 4b8d542f3b40
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id de2fbbdc9d1d
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.