[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-06-04_03-12-30__9d151228-2986-4e05-bb47-532a08d0eb5c
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node1_2024-06-04_03-12-30__9d151228-2986-4e05-bb47-532a08d0eb5c__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.5.190
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['3806', '3807', '3808', '3809', '3810']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:373 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:120 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 3806:3806 -p 3807:3807 -p 3808:3808 -p 3809:3809 -p 3810:3810 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=3808 --rest-port=3806 --tcp-port=3807 --discv5-udp-port=3809 --rest-address=0.0.0.0 --nat=extip:172.18.5.190 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=3810 --metrics-logging=true --relay=true --filter=true --nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.5.190 waku ad2b46a1369399f251b20e820602338b3751cec12d2e61fcda4eeefb0524e578
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID ad2b46a13693. Setting up logs at ./log/docker/node1_2024-06-04_03-12-30__9d151228-2986-4e05-bb47-532a08d0eb5c__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:134 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 3806
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3806/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:225 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3806/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.5.190/tcp/3807/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","/ip4/172.18.5.190/tcp/3808/ws/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"],"enrUri":"enr:-LO4QNPmutixtRj1BMkt51np5XgXvQdhmKR8NNZWtQSyNd3tYfh_JvRgFGNMQHupHVsU9dywXfSvMzkRY9E68XwtkTMBgmlkgnY0gmlwhKwSBb6KbXVsdGlhZGRyc4wACgSsEgW-Bg7g3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCDt-DdWRwgg7hhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:230 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node2_2024-06-04_03-12-30__9d151228-2986-4e05-bb47-532a08d0eb5c__harbor.status.im_wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.157.19
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['54483', '54484', '54485', '54486', '54487']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:373 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:120 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 54483:54483 -p 54484:54484 -p 54485:54485 -p 54486:54486 -p 54487:54487 harbor.status.im/wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=54485 --rest-port=54483 --tcp-port=54484 --discv5-udp-port=54486 --rest-address=0.0.0.0 --nat=extip:172.18.157.19 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --relay=false --discv5-bootstrap-node=enr:-LO4QNPmutixtRj1BMkt51np5XgXvQdhmKR8NNZWtQSyNd3tYfh_JvRgFGNMQHupHVsU9dywXfSvMzkRY9E68XwtkTMBgmlkgnY0gmlwhKwSBb6KbXVsdGlhZGRyc4wACgSsEgW-Bg7g3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCDt-DdWRwgg7hhXdha3UyBQ --filternode=/ip4/172.18.5.190/tcp/3807/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.157.19 waku b2376c180daa0b75056016b3fee680ee4e96c04318f90bed392bebdcd283ceba
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID b2376c180daa. Setting up logs at ./log/docker/node2_2024-06-04_03-12-30__9d151228-2986-4e05-bb47-532a08d0eb5c__harbor.status.im_wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:134 Started container from image harbor.status.im/wakuorg/go-waku:latest. REST: 54483
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54483/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ly4QNPPS8xnTW5g4FZLQTWk682WL_lq1H8_zCt3K-EoWVRpGPsovWjjasBdFbZ1SU9VS5tVLk4B78zNGkgZjFlH1IyGAY_hO_EmgmlkgnY0gmlwhKwRAAOKbXVsdGlhZGRyc5gACgR_AAABBtTV3QMACgSsEQADBtTV3QOJc2VjcDI1NmsxoQLPMxMYknxrbLK5cq_cWW8sxS7UHKP2Bp2WGojPOlmHG4N0Y3CC1NSDdWRwgtTWhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/54484/p2p/16Uiu2HAm9NVYWViokUo87V5hKYEwqgvZ8SGvz9GyuFhdUhQ656ev","/ip4/127.0.0.1/tcp/54485/ws/p2p/16Uiu2HAm9NVYWViokUo87V5hKYEwqgvZ8SGvz9GyuFhdUhQ656ev","/ip4/172.17.0.3/tcp/54484/p2p/16Uiu2HAm9NVYWViokUo87V5hKYEwqgvZ8SGvz9GyuFhdUhQ656ev","/ip4/172.17.0.3/tcp/54485/ws/p2p/16Uiu2HAm9NVYWViokUo87V5hKYEwqgvZ8SGvz9GyuFhdUhQ656ev"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:230 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54483/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.5.190/tcp/3807/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:54483/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54483/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.5.190/tcp/3807/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:54483/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54483/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.5.190/tcp/3807/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:54483/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54483/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.5.190/tcp/3807/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:54483/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54483/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.5.190/tcp/3807/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:54483/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54483/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.5.190/tcp/3807/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:54483/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54483/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.5.190/tcp/3807/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:54483/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54483/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.5.190/tcp/3807/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:54483/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54483/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.5.190/tcp/3807/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:54483/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54483/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.5.190/tcp/3807/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:54483/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54483/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.5.190/tcp/3807/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node3_2024-06-04_03-12-30__9d151228-2986-4e05-bb47-532a08d0eb5c__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.21.116
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['59895', '59896', '59897', '59898', '59899']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:373 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:120 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 59895:59895 -p 59896:59896 -p 59897:59897 -p 59898:59898 -p 59899:59899 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=59897 --rest-port=59895 --tcp-port=59896 --discv5-udp-port=59898 --rest-address=0.0.0.0 --nat=extip:172.18.21.116 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=59899 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QNPmutixtRj1BMkt51np5XgXvQdhmKR8NNZWtQSyNd3tYfh_JvRgFGNMQHupHVsU9dywXfSvMzkRY9E68XwtkTMBgmlkgnY0gmlwhKwSBb6KbXVsdGlhZGRyc4wACgSsEgW-Bg7g3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCDt-DdWRwgg7hhXdha3UyBQ --filternode=/ip4/172.18.5.190/tcp/3807/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.21.116 waku 7ddc922bf7d023f9ad8d0932dc5e7639f9f92491b3db45f2edf2e41801a2728b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 7ddc922bf7d0. Setting up logs at ./log/docker/node3_2024-06-04_03-12-30__9d151228-2986-4e05-bb47-532a08d0eb5c__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:134 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 59895
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59895/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:225 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59895/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.21.116/tcp/59896/p2p/16Uiu2HAm2SmKpDH7Gu9vk3PF3gueL8Dx7RP1Uz4fMAYEZ8i6DAzk","/ip4/172.18.21.116/tcp/59897/ws/p2p/16Uiu2HAm2SmKpDH7Gu9vk3PF3gueL8Dx7RP1Uz4fMAYEZ8i6DAzk"],"enrUri":"enr:-LO4QFiSDDn80UNl6bmF57wPojiXnesvNkxCfuJdpWMqs_D6bKauiHlHwtwNqj_dVoUG1DFVosIegayKLcvIc4S9tTUBgmlkgnY0gmlwhKwSFXSKbXVsdGlhZGRyc4wACgSsEhV0Bun53QOCcnOFAAABAACJc2VjcDI1NmsxoQJoSW7hPwIxpYDFREoY59HWVSAlQ6lw7j3wbAZCF2ln6YN0Y3CC6fiDdWRwgun6hXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:230 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59895/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.5.190/tcp/3807/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node4_2024-06-04_03-12-30__9d151228-2986-4e05-bb47-532a08d0eb5c__harbor.status.im_wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.217.184
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['43935', '43936', '43937', '43938', '43939']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:373 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:120 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 43935:43935 -p 43936:43936 -p 43937:43937 -p 43938:43938 -p 43939:43939 harbor.status.im/wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=43937 --rest-port=43935 --tcp-port=43936 --discv5-udp-port=43938 --rest-address=0.0.0.0 --nat=extip:172.18.217.184 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --relay=false --discv5-bootstrap-node=enr:-LO4QNPmutixtRj1BMkt51np5XgXvQdhmKR8NNZWtQSyNd3tYfh_JvRgFGNMQHupHVsU9dywXfSvMzkRY9E68XwtkTMBgmlkgnY0gmlwhKwSBb6KbXVsdGlhZGRyc4wACgSsEgW-Bg7g3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCDt-DdWRwgg7hhXdha3UyBQ --filternode=/ip4/172.18.5.190/tcp/3807/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.217.184 waku fb985204cb2e984b269bf09ac49b6f5404b27c6a15e2c115e1947f9147e1e059
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID fb985204cb2e. Setting up logs at ./log/docker/node4_2024-06-04_03-12-30__9d151228-2986-4e05-bb47-532a08d0eb5c__harbor.status.im_wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:134 Started container from image harbor.status.im/wakuorg/go-waku:latest. REST: 43935
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43935/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ly4QJGKwuT03mRwyfFKL9ezSJRckxy7E8wjyn4Q0NRPrcq3Psryqi9aFcL4fA8nQKSXb3viqzbafa1N7GuaoecEoPmGAY_hPCEVgmlkgnY0gmlwhKwRAA6KbXVsdGlhZGRyc5gACgR_AAABBquh3QMACgSsEQAOBquh3QOJc2VjcDI1NmsxoQIOLJH4amW-E8LZs1_7VvUMArBOzPk5ts2hlSvjpdAwnoN0Y3CCq6CDdWRwgquihXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/43936/p2p/16Uiu2HAkvP176RgjWbLXb5th18N4fYeavkVDg93uVyK1n6dLPvnR","/ip4/127.0.0.1/tcp/43937/ws/p2p/16Uiu2HAkvP176RgjWbLXb5th18N4fYeavkVDg93uVyK1n6dLPvnR","/ip4/172.17.0.14/tcp/43936/p2p/16Uiu2HAkvP176RgjWbLXb5th18N4fYeavkVDg93uVyK1n6dLPvnR","/ip4/172.17.0.14/tcp/43937/ws/p2p/16Uiu2HAkvP176RgjWbLXb5th18N4fYeavkVDg93uVyK1n6dLPvnR"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:230 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43935/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.5.190/tcp/3807/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node5_2024-06-04_03-12-30__9d151228-2986-4e05-bb47-532a08d0eb5c__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.149.224
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['16431', '16432', '16433', '16434', '16435']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:373 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:120 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 16431:16431 -p 16432:16432 -p 16433:16433 -p 16434:16434 -p 16435:16435 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=16433 --rest-port=16431 --tcp-port=16432 --discv5-udp-port=16434 --rest-address=0.0.0.0 --nat=extip:172.18.149.224 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=16435 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QNPmutixtRj1BMkt51np5XgXvQdhmKR8NNZWtQSyNd3tYfh_JvRgFGNMQHupHVsU9dywXfSvMzkRY9E68XwtkTMBgmlkgnY0gmlwhKwSBb6KbXVsdGlhZGRyc4wACgSsEgW-Bg7g3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCDt-DdWRwgg7hhXdha3UyBQ --filternode=/ip4/172.18.5.190/tcp/3807/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.149.224 waku 53e2f04c308d31d125aa82189459679d05db721ecaee52042d29006a9e5387a6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 53e2f04c308d. Setting up logs at ./log/docker/node5_2024-06-04_03-12-30__9d151228-2986-4e05-bb47-532a08d0eb5c__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:134 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 16431
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16431/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:225 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16431/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.149.224/tcp/16432/p2p/16Uiu2HAm7jN4YHevJ8R1CWV897a1vTRELBbp2zRCms1jFPu4ybop","/ip4/172.18.149.224/tcp/16433/ws/p2p/16Uiu2HAm7jN4YHevJ8R1CWV897a1vTRELBbp2zRCms1jFPu4ybop"],"enrUri":"enr:-LO4QE7EYpWcECgTL086TbLQFHfQ9aQKVNJ3N4rJLFnLdpbkPRsvBbproHDM5M6G5TCc_JuMQKK-qd9Rkeo5chgRAdgBgmlkgnY0gmlwhKwSleCKbXVsdGlhZGRyc4wACgSsEpXgBkAx3QOCcnOFAAABAACJc2VjcDI1NmsxoQK21HADY8x3wxTWseFZlw_EGWsLnf7mtRXwf3rnoJvMU4N0Y3CCQDCDdWRwgkAyhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:230 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16431/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.5.190/tcp/3807/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3806/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/0/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54483/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "53dad5fe-4a4a-4a37-b99a-5a974b0881af", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"53dad5fe-4a4a-4a37-b99a-5a974b0881af","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59895/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "e8d51337-0737-4080-9d3c-1e6a24c7559c", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"e8d51337-0737-4080-9d3c-1e6a24c7559c","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43935/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "5d4a82bf-45c1-4e5c-989f-af89990725c6", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"5d4a82bf-45c1-4e5c-989f-af89990725c6","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16431/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "b07f3047-e77d-4f7c-94ff-a6dd9ae557cc", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"b07f3047-e77d-4f7c-94ff-a6dd9ae557cc","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3806/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_2:harbor.status.im/wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54483/filter/v2/messages/%2Fwaku%2F2%2Frs%2F0%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1717470768533854208,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3806/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_2:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59895/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:59895/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:181 Stopping container with id ad2b46a13693
[35mDEBUG   [0m src.node.waku_node:waku_node.py:188 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:181 Stopping container with id b2376c180daa
[35mDEBUG   [0m src.node.waku_node:waku_node.py:188 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:181 Stopping container with id 7ddc922bf7d0
[35mDEBUG   [0m src.node.waku_node:waku_node.py:188 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:181 Stopping container with id fb985204cb2e
[35mDEBUG   [0m src.node.waku_node:waku_node.py:188 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:181 Stopping container with id 53e2f04c308d
[35mDEBUG   [0m src.node.waku_node:waku_node.py:188 Container stopped.