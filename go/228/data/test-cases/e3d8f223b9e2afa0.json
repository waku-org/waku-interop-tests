{"uid":"e3d8f223b9e2afa0","name":"test_message_light_pushed_on_different_pubsub_topic_is_not_retrieved","fullName":"tests.light_push.test_publish.TestLightPushPublish#test_message_light_pushed_on_different_pubsub_topic_is_not_retrieved","historyId":"88c874acd5852c43d37fbe8b7f7a0144","time":{"start":1722654959489,"stop":1722654959505,"duration":16},"status":"broken","statusMessage":"Exception: Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:2789/lightpush/v1/message with response: b'lightpush errorLightpush request has not been published to any peers. msg_hash: 0x7944b297eedefbe29fd216ebd28fabf65c7d639ff0407d90ae5c8214f01d5570'","statusTrace":"src/node/api_clients/base_client.py:14: in make_request\n    response.raise_for_status()\n/opt/hostedtoolcache/Python/3.12.4/x64/lib/python3.12/site-packages/requests/models.py:1021: in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\nE   requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: http://127.0.0.1:2789/lightpush/v1/message\n\nDuring handling of the above exception, another exception occurred:\ntests/light_push/test_publish.py:124: in test_message_light_pushed_on_different_pubsub_topic_is_not_retrieved\n    self.light_push_node1.send_light_push_message(payload)\nsrc/node/waku_node.py:338: in send_light_push_message\n    return self._api.send_light_push_message(payload)\nsrc/node/api_clients/rest.py:57: in send_light_push_message\n    return self.rest_call(\"post\", \"lightpush/v1/message\", json.dumps(payload))\nsrc/node/api_clients/rest.py:16: in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\nsrc/node/api_clients/base_client.py:17: in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\nE   Exception: Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:2789/lightpush/v1/message with response: b'lightpush errorLightpush request has not been published to any peers. msg_hash: 0x7944b297eedefbe29fd216ebd28fabf65c7d639ff0407d90ae5c8214f01d5570'","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":2,"retriesStatusChange":false,"beforeStages":[{"name":"set_allure_env_variables","time":{"start":1722654628543,"stop":1722654628543,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail","time":{"start":1722654955711,"stop":1722654955711,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_id","time":{"start":1722654955712,"stop":1722654955712,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes","time":{"start":1722654955712,"stop":1722654955712,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_setup","time":{"start":1722654955712,"stop":1722654955712,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"light_push_setup","time":{"start":1722654955714,"stop":1722654955715,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"common_setup","time":{"start":1722654955714,"stop":1722654955714,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"light_push_publish_setup","time":{"start":1722654955715,"stop":1722654959488,"duration":3773},"status":"passed","steps":[{"name":"setup_first_receiving_node","time":{"start":1722654955715,"stop":1722654957460,"duration":1745},"status":"passed","steps":[{"name":"start_receiving_node","time":{"start":1722654955715,"stop":1722654957460,"duration":1745},"status":"passed","steps":[{"name":"add_node_peer","time":{"start":1722654957460,"stop":1722654957460,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.light_push.test_publish.TestLightPushPublish object at 0x7f3bde305d30>, <src.node.waku_node.WakuNode object at 0x7f3bcec124b0>, [])"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"image","value":"'wakuorg/nwaku:latest'"},{"name":"node_index","value":"1"},{"name":"lightpush","value":"'true'"},{"name":"relay","value":"'true'"},{"name":"nodekey","value":"'30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68'"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"lightpush","value":"'true'"},{"name":"relay","value":"'true'"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"setup_first_lightpush_node","time":{"start":1722654957460,"stop":1722654959484,"duration":2024},"status":"passed","steps":[{"name":"setup_lightpush_node","time":{"start":1722654957461,"stop":1722654959484,"duration":2023},"status":"passed","steps":[{"name":"add_node_peer","time":{"start":1722654959481,"stop":1722654959484,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.light_push.test_publish.TestLightPushPublish object at 0x7f3bde305d30>, <src.node.waku_node.WakuNode object at 0x7f3bcecec6b0>, ['/ip4/172.18.240.106/tcp/36984/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip'])"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"image","value":"'wakuorg/go-waku:latest'"},{"name":"node_index","value":"1"},{"name":"lightpush","value":"'true'"},{"name":"relay","value":"'false'"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"lightpush","value":"'true'"},{"name":"relay","value":"'false'"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"subscribe_to_pubsub_topics_via_relay","time":{"start":1722654959484,"stop":1722654959488,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"None"},{"name":"pubsub_topics","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":7,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"testStage":{"status":"broken","statusMessage":"Exception: Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:2789/lightpush/v1/message with response: b'lightpush errorLightpush request has not been published to any peers. msg_hash: 0x7944b297eedefbe29fd216ebd28fabf65c7d639ff0407d90ae5c8214f01d5570'","statusTrace":"src/node/api_clients/base_client.py:14: in make_request\n    response.raise_for_status()\n/opt/hostedtoolcache/Python/3.12.4/x64/lib/python3.12/site-packages/requests/models.py:1021: in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\nE   requests.exceptions.HTTPError: 503 Server Error: Service Unavailable for url: http://127.0.0.1:2789/lightpush/v1/message\n\nDuring handling of the above exception, another exception occurred:\ntests/light_push/test_publish.py:124: in test_message_light_pushed_on_different_pubsub_topic_is_not_retrieved\n    self.light_push_node1.send_light_push_message(payload)\nsrc/node/waku_node.py:338: in send_light_push_message\n    return self._api.send_light_push_message(payload)\nsrc/node/api_clients/rest.py:57: in send_light_push_message\n    return self.rest_call(\"post\", \"lightpush/v1/message\", json.dumps(payload))\nsrc/node/api_clients/rest.py:16: in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\nsrc/node/api_clients/base_client.py:17: in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\nE   Exception: Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:2789/lightpush/v1/message with response: b'lightpush errorLightpush request has not been published to any peers. msg_hash: 0x7944b297eedefbe29fd216ebd28fabf65c7d639ff0407d90ae5c8214f01d5570'","steps":[{"name":"subscribe_to_pubsub_topics_via_relay","time":{"start":1722654959489,"stop":1722654959496,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"None"},{"name":"pubsub_topics","value":"['/waku/2/rs/3/0', '/waku/2/rs/3/1', '/waku/2/rs/3/9', '/waku/2/rs/3/25', '/waku/2/rs/3/1000']"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"create_payload","time":{"start":1722654959496,"stop":1722654959496,"duration":0},"status":"passed","steps":[{"name":"create_message","time":{"start":1722654959496,"stop":1722654959496,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"pubsub_topic","value":"'/waku/2/rs/3/0'"},{"name":"message","value":"None"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"e71c230462c5fbc0","name":"log","source":"e71c230462c5fbc0.txt","type":"text/plain","size":32272}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":3,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"test_setup::0","time":{"start":1722654959584,"stop":1722654959587,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes::0","time":{"start":1722654959588,"stop":1722654962439,"duration":2851},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail::0","time":{"start":1722654962440,"stop":1722654962443,"duration":3},"status":"passed","steps":[],"attachments":[{"uid":"abea088086544189","name":"lightpush_node1_2024-08-03_03-15-55__f536a1c9-34f2-4170-a798-aca2257eadf1__wakuorg_go-waku:latest.log","source":"abea088086544189.txt","type":"text/plain","size":56272},{"uid":"62172a0585ce2fd6","name":"receiving_node1_2024-08-03_03-15-55__f536a1c9-34f2-4170-a798-aca2257eadf1__wakuorg_nwaku:latest.log","source":"62172a0585ce2fd6.txt","type":"text/plain","size":103832}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},{"name":"set_allure_env_variables::0","time":{"start":1722655642525,"stop":1722655642525,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"parentSuite","value":"tests.light_push"},{"name":"suite","value":"test_publish"},{"name":"subSuite","value":"TestLightPushPublish"},{"name":"host","value":"fv-az1393-108"},{"name":"thread","value":"2163-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.light_push.test_publish"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"f2ea9a605e155ee4","status":"broken","statusDetails":"Exception: Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:43416/lightpush/v1/message with response: b'lightpush errorLightpush request has not been published to any peers. msg_hash: 0x31f2a5cd95a874240f06b7634e3250d21dcdcd5bde3843042073303688eee37f'","time":{"start":1722654952599,"stop":1722654952609,"duration":10}},{"uid":"8175dd3fd1ff49ec","status":"broken","statusDetails":"Exception: Error: 503 Server Error: Service Unavailable for url: http://127.0.0.1:11098/lightpush/v1/message with response: b'lightpush errorLightpush request has not been published to any peers. msg_hash: 0x8592eed15adf0eb050b578c21c450842fb0ef142896496693b94a51982bf53a5'","time":{"start":1722654946072,"stop":1722654946082,"duration":10}}],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":6,"skipped":0,"passed":142,"unknown":0,"total":148},"items":[{"uid":"580a47ea5b2e54d6","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/227//#testresult/580a47ea5b2e54d6","status":"passed","time":{"start":1722568572888,"stop":1722568573000,"duration":112}},{"uid":"ffcba299400bc393","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/226//#testresult/ffcba299400bc393","status":"passed","time":{"start":1722482188302,"stop":1722482188417,"duration":115}},{"uid":"955df5f8ecd5a313","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/225//#testresult/955df5f8ecd5a313","status":"passed","time":{"start":1722395785826,"stop":1722395785937,"duration":111}},{"uid":"f08419f6fa718523","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/224//#testresult/f08419f6fa718523","status":"passed","time":{"start":1722309458952,"stop":1722309459062,"duration":110}},{"uid":"3b0f6616f7d095e1","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/223//#testresult/3b0f6616f7d095e1","status":"passed","time":{"start":1722251731272,"stop":1722251731386,"duration":114}},{"uid":"c4f195504fdcd5b7","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/221//#testresult/c4f195504fdcd5b7","status":"passed","time":{"start":1722136538791,"stop":1722136538905,"duration":114}},{"uid":"e05beecb75a06b6d","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/220//#testresult/e05beecb75a06b6d","status":"passed","time":{"start":1722050252521,"stop":1722050252633,"duration":112}},{"uid":"df3f336a3db6e212","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/219//#testresult/df3f336a3db6e212","status":"passed","time":{"start":1721963813421,"stop":1721963813534,"duration":113}},{"uid":"872f42c055f31205","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/218//#testresult/872f42c055f31205","status":"passed","time":{"start":1721877351282,"stop":1721877351403,"duration":121}},{"uid":"4f47f1b62d04a677","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/217//#testresult/4f47f1b62d04a677","status":"passed","time":{"start":1721790977308,"stop":1721790977419,"duration":111}},{"uid":"67bfa59d35786d8c","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/216//#testresult/67bfa59d35786d8c","status":"passed","time":{"start":1721704630142,"stop":1721704630253,"duration":111}},{"uid":"3c7a18452a5336e","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/215//#testresult/3c7a18452a5336e","status":"passed","time":{"start":1721633132996,"stop":1721633133108,"duration":112}},{"uid":"9f5f8642060fe083","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/214//#testresult/9f5f8642060fe083","status":"passed","time":{"start":1721618216725,"stop":1721618216836,"duration":111}},{"uid":"199f551c27a0f111","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/213//#testresult/199f551c27a0f111","status":"passed","time":{"start":1721531813344,"stop":1721531813461,"duration":117}},{"uid":"c2f36cdf959eab","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/212//#testresult/c2f36cdf959eab","status":"passed","time":{"start":1721445395264,"stop":1721445395381,"duration":117}},{"uid":"286fdbb9daa359e5","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/211//#testresult/286fdbb9daa359e5","status":"passed","time":{"start":1721359029127,"stop":1721359029241,"duration":114}},{"uid":"eb8f5ad591ef22ae","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/210//#testresult/eb8f5ad591ef22ae","status":"passed","time":{"start":1721290278598,"stop":1721290278714,"duration":116}},{"uid":"b6b79d3449ba5aaf","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/209//#testresult/b6b79d3449ba5aaf","status":"passed","time":{"start":1721272637225,"stop":1721272637338,"duration":113}},{"uid":"c98ec6d055179821","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/208//#testresult/c98ec6d055179821","status":"passed","time":{"start":1721186221347,"stop":1721186221462,"duration":115}},{"uid":"9bf3aa2563851001","reportUrl":"https://waku-org.github.io/waku-interop-tests/go/207//#testresult/9bf3aa2563851001","status":"passed","time":{"start":1721112538793,"stop":1721112538945,"duration":152}}]},"tags":[]},"source":"e3d8f223b9e2afa0.json","parameterValues":[]}