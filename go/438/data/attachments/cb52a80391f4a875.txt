[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_subscribe_with_invalid_pubsub_topic_format with id: 2025-01-21_03-04-32__9ec7bf7b-2afe-4962-8290-9e045e6b973c
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-01-21_03-04-32__9ec7bf7b-2afe-4962-8290-9e045e6b973c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.11.148
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['28432', '28433', '28434', '28435', '28436']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 28432:28432 -p 28433:28433 -p 28434:28434 -p 28435:28435 -p 28436:28436 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=28434 --rest-port=28432 --tcp-port=28433 --discv5-udp-port=28435 --rest-address=0.0.0.0 --nat=extip:172.18.11.148 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=4b655b9df4e2f90b42ebc9e54505d9d4721f83ec7ae93baeababdeeaa3dc68ba --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=28436 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.11.148 waku 9a6e6c07bd1e3e19d14d525ce9679760fe4e2221e9f0a4a526171329bdb0b495
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 9a6e6c07bd1e. Setting up logs at ./log/docker/node1_2025-01-21_03-04-32__9ec7bf7b-2afe-4962-8290-9e045e6b973c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 28432
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 279f36cc377e. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28432/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28432/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.11.148/tcp/28433/p2p/16Uiu2HAmFmmWxtQAw16UCiAM8PaixNM2jfmtn4DVYziFgdUYPuoj","/ip4/172.18.11.148/tcp/28434/ws/p2p/16Uiu2HAmFmmWxtQAw16UCiAM8PaixNM2jfmtn4DVYziFgdUYPuoj"],"enrUri":"enr:-L24QEwqyh4DC45BIx2WhIK9E2nDgEdqGVOgsWhC6jbxqUjGZw-rmu0QCwiuy_K8BxZX9A72fi0T6sag_eS6ooUgFZoCgmlkgnY0gmlwhKwSC5SKbXVsdGlhZGRyc5YACASsEguUBm8RAAoErBILlAZvEt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDLk-dq42ddrcl-PCh_adZJqIerGvaOInLeTgrILXMYKaDdGNwgm8Rg3VkcIJvE4V3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-01-21_03-04-32__9ec7bf7b-2afe-4962-8290-9e045e6b973c__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.53.123
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['13015', '13016', '13017', '13018', '13019']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 13015:13015 -p 13016:13016 -p 13017:13017 -p 13018:13018 -p 13019:13019 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=13017 --rest-port=13015 --tcp-port=13016 --discv5-udp-port=13018 --rest-address=0.0.0.0 --nat=extip:172.18.53.123 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=de98b0eb9ea786cdf7ec1de6faf7ad7f75a01d169727e46df5eaaaadfef8ed9f --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QEwqyh4DC45BIx2WhIK9E2nDgEdqGVOgsWhC6jbxqUjGZw-rmu0QCwiuy_K8BxZX9A72fi0T6sag_eS6ooUgFZoCgmlkgnY0gmlwhKwSC5SKbXVsdGlhZGRyc5YACASsEguUBm8RAAoErBILlAZvEt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDLk-dq42ddrcl-PCh_adZJqIerGvaOInLeTgrILXMYKaDdGNwgm8Rg3VkcIJvE4V3YWt1MgU --filternode=/ip4/172.18.11.148/tcp/28433/p2p/16Uiu2HAmFmmWxtQAw16UCiAM8PaixNM2jfmtn4DVYziFgdUYPuoj --pubsub-topic=/waku/2/rs/3/1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.53.123 waku 7209c814afff08fe95aa16b810bf9d322f0a79aab6f33214fc1baf30433617d5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 7209c814afff. Setting up logs at ./log/docker/node2_2025-01-21_03-04-32__9ec7bf7b-2afe-4962-8290-9e045e6b973c__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 13015
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13015/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QIV_IQExh72n-aHMQ7PvA13URy15RLE3qoIaQuBq6PSRLOdtAd06H2R6PHIZaMC4M84Sed9AX_MWM7E6fqrWlLyGAZSG0abzgmlkgnY0gmlwhKwRAAOCcnOFAAMBAAGJc2VjcDI1NmsxoQPpxUqXBIHLlz9agj0ZAC_nGSLXXzIxITA_Uhk6h1mkFoN0Y3CCMtiDdWRwgjLahXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/13016/p2p/16Uiu2HAmUPXq5LQY4nKRv9miWakugffKvf1x97AatvzAncLz94SH","/ip4/127.0.0.1/tcp/13017/ws/p2p/16Uiu2HAmUPXq5LQY4nKRv9miWakugffKvf1x97AatvzAncLz94SH","/ip4/172.17.0.3/tcp/13016/p2p/16Uiu2HAmUPXq5LQY4nKRv9miWakugffKvf1x97AatvzAncLz94SH","/ip4/172.17.0.3/tcp/13017/ws/p2p/16Uiu2HAmUPXq5LQY4nKRv9miWakugffKvf1x97AatvzAncLz94SH"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13015/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.11.148/tcp/28433/p2p/16Uiu2HAmFmmWxtQAw16UCiAM8PaixNM2jfmtn4DVYziFgdUYPuoj", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28432/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13015/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "f72e5688-137a-49cb-a35d-0a0df3f381d3", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"f72e5688-137a-49cb-a35d-0a0df3f381d3","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13015/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": ["/waku/2/rs/3/1"]}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:13015/filter/v2/subscriptions. Response content: b''
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 9a6e6c07bd1e
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 7209c814afff
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 9a6e6c07bd1e. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.