[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-09-18_03-14-44__503a5a21-eacb-4aa2-9587-62daade08fa7
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-09-18_03-14-44__503a5a21-eacb-4aa2-9587-62daade08fa7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.60.102
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['59986', '59987', '59988', '59989', '59990']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 59986:59986 -p 59987:59987 -p 59988:59988 -p 59989:59989 -p 59990:59990 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=59988 --rest-port=59986 --tcp-port=59987 --discv5-udp-port=59989 --rest-address=0.0.0.0 --nat=extip:172.18.60.102 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ff4851574e2b77dacaf13adc3eb41cb1f2feeedccddae5e1b86dedde065e3194 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=59990 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.60.102 waku 5e2744745af776ea86c45098facbac76332a2514beb8bb7a82c64efd8631db8c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 5e2744745af7. Setting up logs at ./log/docker/node1_2024-09-18_03-14-44__503a5a21-eacb-4aa2-9587-62daade08fa7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 59986
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59986/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59986/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.60.102/tcp/59987/p2p/16Uiu2HAmUr3jmEPbE6yCUT5as54YfaH3TH5MW9MGHFxWC9maj4Wi","/ip4/172.18.60.102/tcp/59988/ws/p2p/16Uiu2HAmUr3jmEPbE6yCUT5as54YfaH3TH5MW9MGHFxWC9maj4Wi"],"enrUri":"enr:-LO4QA_DmiWnzguWK3AHXe05QOolewO7AK4fzeQhB7X7u90YDK-xo-5_oPELLkmCkNh0rt-tVeaC8mh5mDD7xuRY1EEBgmlkgnY0gmlwhKwSPGaKbXVsdGlhZGRyc4wACgSsEjxmBupU3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPwkDW_YXHKdoYVoRJ4Rmay535rz_-YCvgAH86F2hofx4N0Y3CC6lODdWRwgupVhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-09-18_03-14-44__503a5a21-eacb-4aa2-9587-62daade08fa7__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.124.109
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['5995', '5996', '5997', '5998', '5999']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 5995:5995 -p 5996:5996 -p 5997:5997 -p 5998:5998 -p 5999:5999 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=5997 --rest-port=5995 --tcp-port=5996 --discv5-udp-port=5998 --rest-address=0.0.0.0 --nat=extip:172.18.124.109 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fe8af82700dbbf5cb1f9abacccebffa2cacd8a4dfc70a91adbac11b0cceadc3a --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-LO4QA_DmiWnzguWK3AHXe05QOolewO7AK4fzeQhB7X7u90YDK-xo-5_oPELLkmCkNh0rt-tVeaC8mh5mDD7xuRY1EEBgmlkgnY0gmlwhKwSPGaKbXVsdGlhZGRyc4wACgSsEjxmBupU3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPwkDW_YXHKdoYVoRJ4Rmay535rz_-YCvgAH86F2hofx4N0Y3CC6lODdWRwgupVhXdha3UyBQ --filternode=/ip4/172.18.60.102/tcp/59987/p2p/16Uiu2HAmUr3jmEPbE6yCUT5as54YfaH3TH5MW9MGHFxWC9maj4Wi
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.124.109 waku d1d98bc0ded813576116b1918450e03a4077aa7d388afd03c21c7d99722b740f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID d1d98bc0ded8. Setting up logs at ./log/docker/node2_2024-09-18_03-14-44__503a5a21-eacb-4aa2-9587-62daade08fa7__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 5995
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5995/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QIyFLyR7CahwJCrpInLpr7jidJpBeQwTEY6rD85vcHPnXDxxlEkMcVVpNNxdWnz_Y1U85WaimanBv-T0NUeJVJ-GAZIDIBZqgmlkgnY0gmlwhKwRAAOJc2VjcDI1NmsxoQOKMZsZN8MybNgeHLVhdO4H5J-K9Tcf28MgYQk9djhwQ4N0Y3CCF2yDdWRwghduhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/5996/p2p/16Uiu2HAmMxSV4QUz85oVogyJaUH3zSw3QLvwoyPGAdjN5ekpff54","/ip4/127.0.0.1/tcp/5997/ws/p2p/16Uiu2HAmMxSV4QUz85oVogyJaUH3zSw3QLvwoyPGAdjN5ekpff54","/ip4/172.17.0.3/tcp/5996/p2p/16Uiu2HAmMxSV4QUz85oVogyJaUH3zSw3QLvwoyPGAdjN5ekpff54","/ip4/172.17.0.3/tcp/5997/ws/p2p/16Uiu2HAmMxSV4QUz85oVogyJaUH3zSw3QLvwoyPGAdjN5ekpff54"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5995/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.60.102/tcp/59987/p2p/16Uiu2HAmUr3jmEPbE6yCUT5as54YfaH3TH5MW9MGHFxWC9maj4Wi", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-09-18_03-14-44__503a5a21-eacb-4aa2-9587-62daade08fa7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.191.181
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['16876', '16877', '16878', '16879', '16880']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 16876:16876 -p 16877:16877 -p 16878:16878 -p 16879:16879 -p 16880:16880 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=16878 --rest-port=16876 --tcp-port=16877 --discv5-udp-port=16879 --rest-address=0.0.0.0 --nat=extip:172.18.191.181 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ce0703c1b58fbbae3fed15c1a27e12aaa7d1b2efabab75cf6bccea31b7fbce8d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=16880 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QA_DmiWnzguWK3AHXe05QOolewO7AK4fzeQhB7X7u90YDK-xo-5_oPELLkmCkNh0rt-tVeaC8mh5mDD7xuRY1EEBgmlkgnY0gmlwhKwSPGaKbXVsdGlhZGRyc4wACgSsEjxmBupU3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPwkDW_YXHKdoYVoRJ4Rmay535rz_-YCvgAH86F2hofx4N0Y3CC6lODdWRwgupVhXdha3UyBQ --filternode=/ip4/172.18.60.102/tcp/59987/p2p/16Uiu2HAmUr3jmEPbE6yCUT5as54YfaH3TH5MW9MGHFxWC9maj4Wi
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.191.181 waku 2333c25e81b2952ba1bd6582beb054ffb91f459a061f7c06ca15e9a9205d1e32
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 2333c25e81b2. Setting up logs at ./log/docker/node3_2024-09-18_03-14-44__503a5a21-eacb-4aa2-9587-62daade08fa7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 16876
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16876/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16876/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.191.181/tcp/16877/p2p/16Uiu2HAmPMADb2GEEwiy12VsdipaJ29TuwY9X54ZgFUgwCTDnm9j","/ip4/172.18.191.181/tcp/16878/ws/p2p/16Uiu2HAmPMADb2GEEwiy12VsdipaJ29TuwY9X54ZgFUgwCTDnm9j"],"enrUri":"enr:-LO4QNuK5XttmVF2aoph0AhaMChp4e3b3BZv52I1P6mgdIzzNZDp4TDfp9LFGzWCci98PsbLsnrwZDI-jKqi1z_B7rgBgmlkgnY0gmlwhKwSv7WKbXVsdGlhZGRyc4wACgSsEr-1BkHu3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOe30ItSyWSSZy9pU8KF61xgoTYsgFE0WnS3VP7uc288oN0Y3CCQe2DdWRwgkHvhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16876/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.60.102/tcp/59987/p2p/16Uiu2HAmUr3jmEPbE6yCUT5as54YfaH3TH5MW9MGHFxWC9maj4Wi"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-09-18_03-14-44__503a5a21-eacb-4aa2-9587-62daade08fa7__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.196.139
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['22381', '22382', '22383', '22384', '22385']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 22381:22381 -p 22382:22382 -p 22383:22383 -p 22384:22384 -p 22385:22385 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=22383 --rest-port=22381 --tcp-port=22382 --discv5-udp-port=22384 --rest-address=0.0.0.0 --nat=extip:172.18.196.139 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ea8f6511efade3dfc0222205f1aa7a8ef74ee934ede9b94a514540a576fa57dc --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-LO4QA_DmiWnzguWK3AHXe05QOolewO7AK4fzeQhB7X7u90YDK-xo-5_oPELLkmCkNh0rt-tVeaC8mh5mDD7xuRY1EEBgmlkgnY0gmlwhKwSPGaKbXVsdGlhZGRyc4wACgSsEjxmBupU3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPwkDW_YXHKdoYVoRJ4Rmay535rz_-YCvgAH86F2hofx4N0Y3CC6lODdWRwgupVhXdha3UyBQ --filternode=/ip4/172.18.60.102/tcp/59987/p2p/16Uiu2HAmUr3jmEPbE6yCUT5as54YfaH3TH5MW9MGHFxWC9maj4Wi
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.196.139 waku 0a578aa13432e906078a463eefc10f78c83a7d14f23914cad83959ec4ec50b96
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 0a578aa13432. Setting up logs at ./log/docker/node4_2024-09-18_03-14-44__503a5a21-eacb-4aa2-9587-62daade08fa7__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 22381
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22381/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QCzPboJvlMgPUOzvSZSeVxPK25SidnAI9-KmWZFuKXEcKCs-oNXSSzSulvbElwm4mgf5TZE_isTzBJzjTmmkQx2GAZIDICPEgmlkgnY0gmlwhKwRAAWJc2VjcDI1NmsxoQLHLkEpX_Ka6Zsoxmy-hiRQyvLJ1TJxwxgfc82NRyy9j4N0Y3CCV26DdWRwgldwhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/22382/p2p/16Uiu2HAm8qC26CULiBbQTTmaHA9F4U7basPKGd8ztydS54h8ztnS","/ip4/127.0.0.1/tcp/22383/ws/p2p/16Uiu2HAm8qC26CULiBbQTTmaHA9F4U7basPKGd8ztydS54h8ztnS","/ip4/172.17.0.5/tcp/22382/p2p/16Uiu2HAm8qC26CULiBbQTTmaHA9F4U7basPKGd8ztydS54h8ztnS","/ip4/172.17.0.5/tcp/22383/ws/p2p/16Uiu2HAm8qC26CULiBbQTTmaHA9F4U7basPKGd8ztydS54h8ztnS"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22381/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.60.102/tcp/59987/p2p/16Uiu2HAmUr3jmEPbE6yCUT5as54YfaH3TH5MW9MGHFxWC9maj4Wi", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:22381/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22381/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.60.102/tcp/59987/p2p/16Uiu2HAmUr3jmEPbE6yCUT5as54YfaH3TH5MW9MGHFxWC9maj4Wi", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:22381/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22381/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.60.102/tcp/59987/p2p/16Uiu2HAmUr3jmEPbE6yCUT5as54YfaH3TH5MW9MGHFxWC9maj4Wi", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:22381/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22381/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.60.102/tcp/59987/p2p/16Uiu2HAmUr3jmEPbE6yCUT5as54YfaH3TH5MW9MGHFxWC9maj4Wi", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:22381/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22381/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.60.102/tcp/59987/p2p/16Uiu2HAmUr3jmEPbE6yCUT5as54YfaH3TH5MW9MGHFxWC9maj4Wi", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:22381/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22381/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.60.102/tcp/59987/p2p/16Uiu2HAmUr3jmEPbE6yCUT5as54YfaH3TH5MW9MGHFxWC9maj4Wi", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:22381/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22381/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.60.102/tcp/59987/p2p/16Uiu2HAmUr3jmEPbE6yCUT5as54YfaH3TH5MW9MGHFxWC9maj4Wi", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:22381/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22381/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.60.102/tcp/59987/p2p/16Uiu2HAmUr3jmEPbE6yCUT5as54YfaH3TH5MW9MGHFxWC9maj4Wi", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:22381/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22381/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.60.102/tcp/59987/p2p/16Uiu2HAmUr3jmEPbE6yCUT5as54YfaH3TH5MW9MGHFxWC9maj4Wi", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:22381/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22381/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.60.102/tcp/59987/p2p/16Uiu2HAmUr3jmEPbE6yCUT5as54YfaH3TH5MW9MGHFxWC9maj4Wi", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:22381/admin/v1/peers. Response content: b''
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22381/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.60.102/tcp/59987/p2p/16Uiu2HAmUr3jmEPbE6yCUT5as54YfaH3TH5MW9MGHFxWC9maj4Wi", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-09-18_03-14-44__503a5a21-eacb-4aa2-9587-62daade08fa7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.217.90
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['15145', '15146', '15147', '15148', '15149']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 15145:15145 -p 15146:15146 -p 15147:15147 -p 15148:15148 -p 15149:15149 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=15147 --rest-port=15145 --tcp-port=15146 --discv5-udp-port=15148 --rest-address=0.0.0.0 --nat=extip:172.18.217.90 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9dfd0db7bd885ed9c4e7d74016b2bef02c6e47caacce80eaaf0d7de2cc22cb8d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=15149 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QA_DmiWnzguWK3AHXe05QOolewO7AK4fzeQhB7X7u90YDK-xo-5_oPELLkmCkNh0rt-tVeaC8mh5mDD7xuRY1EEBgmlkgnY0gmlwhKwSPGaKbXVsdGlhZGRyc4wACgSsEjxmBupU3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPwkDW_YXHKdoYVoRJ4Rmay535rz_-YCvgAH86F2hofx4N0Y3CC6lODdWRwgupVhXdha3UyBQ --filternode=/ip4/172.18.60.102/tcp/59987/p2p/16Uiu2HAmUr3jmEPbE6yCUT5as54YfaH3TH5MW9MGHFxWC9maj4Wi
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.217.90 waku f4fecd129627398f7a194feb0873b813a539b72bab2b0a98288be386dbe1c930
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID f4fecd129627. Setting up logs at ./log/docker/node5_2024-09-18_03-14-44__503a5a21-eacb-4aa2-9587-62daade08fa7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 15145
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15145/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15145/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.217.90/tcp/15146/p2p/16Uiu2HAm6u7RApsLTHm1porskFjCMce1GHyQdbiM5aD55U7APtPf","/ip4/172.18.217.90/tcp/15147/ws/p2p/16Uiu2HAm6u7RApsLTHm1porskFjCMce1GHyQdbiM5aD55U7APtPf"],"enrUri":"enr:-LO4QJM8pfPsCIxHmgurXvgHFttA_jZk5t4pHXoCjI9VfU9fLCBXUwsF50AEAoi5wIdhT_l8ocg0-soq7CYZYfYAAsYBgmlkgnY0gmlwhKwS2VqKbXVsdGlhZGRyc4wACgSsEtlaBjsr3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKqeAAWWUBt93gk9OOHPY3upi1NHKUe97tywYoyNhCMzoN0Y3CCOyqDdWRwgjsshXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15145/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.60.102/tcp/59987/p2p/16Uiu2HAmUr3jmEPbE6yCUT5as54YfaH3TH5MW9MGHFxWC9maj4Wi"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59986/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5995/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1a8c9874-9c55-489d-8b10-87ebd218768c", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"1a8c9874-9c55-489d-8b10-87ebd218768c","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16876/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "c896e8eb-1389-46ed-9a33-7d9bac8e1744", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"c896e8eb-1389-46ed-9a33-7d9bac8e1744","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22381/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "87c20882-d236-474a-8045-3087d841f66b", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"87c20882-d236-474a-8045-3087d841f66b","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15145/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "c1dd8267-5f30-40e0-97ae-ca3b82032e6f", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"c1dd8267-5f30-40e0-97ae-ca3b82032e6f","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59986/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5995/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1726629302837609728,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59986/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16876/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:16876/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 5e2744745af7
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id d1d98bc0ded8
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 2333c25e81b2
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 0a578aa13432
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id f4fecd129627
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.