[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2024-09-18_03-21-26__5b6ba909-dab2-487d-84cb-8cc96b473938
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-09-18_03-21-26__5b6ba909-dab2-487d-84cb-8cc96b473938__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.224.79
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['53333', '53334', '53335', '53336', '53337']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 53333:53333 -p 53334:53334 -p 53335:53335 -p 53336:53336 -p 53337:53337 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=53335 --rest-port=53333 --tcp-port=53334 --discv5-udp-port=53336 --rest-address=0.0.0.0 --nat=extip:172.18.224.79 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=25f4cdac2f8fb9424df12fc2c1c8cf53b36bcd5bce4cc99d03fbdf7f6d8229fe --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=53337 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.224.79 waku 34c2e1e50f4ebcd82de7295bf69fa269269812474c6de428214b162c6733808b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 34c2e1e50f4e. Setting up logs at ./log/docker/node1_2024-09-18_03-21-26__5b6ba909-dab2-487d-84cb-8cc96b473938__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 53333
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53333/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53333/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.224.79/tcp/53334/p2p/16Uiu2HAmG1Nk4kkvVmPHqFswgroQSZZW8cBXuYUVCRBZxQZJLKKR","/ip4/172.18.224.79/tcp/53335/ws/p2p/16Uiu2HAmG1Nk4kkvVmPHqFswgroQSZZW8cBXuYUVCRBZxQZJLKKR"],"enrUri":"enr:-LO4QIKl15aBuetaYdB9ms78m2pQJ3ysWd3satJyzf3s17pAYuzg4u8HS2efDWJZtTbeQs6aa-0HAk_gQssi6OEs-MMBgmlkgnY0gmlwhKwS4E-KbXVsdGlhZGRyc4wACgSsEuBPBtBX3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMxy_8XSWUcLn_MAMeBotWq7djcw174W-MGkducJQAg_IN0Y3CC0FaDdWRwgtBYhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-09-18_03-21-26__5b6ba909-dab2-487d-84cb-8cc96b473938__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.214.1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['56547', '56548', '56549', '56550', '56551']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 56547:56547 -p 56548:56548 -p 56549:56549 -p 56550:56550 -p 56551:56551 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=56549 --rest-port=56547 --tcp-port=56548 --discv5-udp-port=56550 --rest-address=0.0.0.0 --nat=extip:172.18.214.1 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0c13aa1a7cc813bd1baf6ac6fcbabff0da9aaa4bdc0e14f8cbbf69c3ba59f98e --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-LO4QIKl15aBuetaYdB9ms78m2pQJ3ysWd3satJyzf3s17pAYuzg4u8HS2efDWJZtTbeQs6aa-0HAk_gQssi6OEs-MMBgmlkgnY0gmlwhKwS4E-KbXVsdGlhZGRyc4wACgSsEuBPBtBX3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMxy_8XSWUcLn_MAMeBotWq7djcw174W-MGkducJQAg_IN0Y3CC0FaDdWRwgtBYhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.214.1 waku 65d3b2f28d023b2048552eb6c4dab5fcc60ea782ea1de502746d93b62de90d40
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 65d3b2f28d02. Setting up logs at ./log/docker/node2_2024-09-18_03-21-26__5b6ba909-dab2-487d-84cb-8cc96b473938__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 56547
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56547/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QJ4kNdetBW2664qMetaxqOog7pDBGIW67NS5ym51bWkCcLDGD1yBEnalHMS5grlkcRlny1UXVH924Xq-bixAY3CGAZIDJjdZgmlkgnY0gmlwhKwRAAeJc2VjcDI1NmsxoQIkdJjlWXNYKFXJDhNoiVzPA9eJhtjzjn5num-XjRW3b4N0Y3CC3OSDdWRwgtzmhXdha3UyAQ","listenAddresses":["/ip4/127.0.0.1/tcp/56548/p2p/16Uiu2HAkwsymynr7fZy6rVVbJi6d6zJGZcCGswGQkRu1AeQ1x9ev","/ip4/127.0.0.1/tcp/56549/ws/p2p/16Uiu2HAkwsymynr7fZy6rVVbJi6d6zJGZcCGswGQkRu1AeQ1x9ev","/ip4/172.17.0.7/tcp/56548/p2p/16Uiu2HAkwsymynr7fZy6rVVbJi6d6zJGZcCGswGQkRu1AeQ1x9ev","/ip4/172.17.0.7/tcp/56549/ws/p2p/16Uiu2HAkwsymynr7fZy6rVVbJi6d6zJGZcCGswGQkRu1AeQ1x9ev"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56547/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.224.79/tcp/53334/p2p/16Uiu2HAmG1Nk4kkvVmPHqFswgroQSZZW8cBXuYUVCRBZxQZJLKKR", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-09-18_03-21-26__5b6ba909-dab2-487d-84cb-8cc96b473938__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.132.161
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['4854', '4855', '4856', '4857', '4858']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 4854:4854 -p 4855:4855 -p 4856:4856 -p 4857:4857 -p 4858:4858 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=4856 --rest-port=4854 --tcp-port=4855 --discv5-udp-port=4857 --rest-address=0.0.0.0 --nat=extip:172.18.132.161 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=105c2e67c815befd4d81aae2ba632dbf2cbac56eebd369deba14101fa2ef58b4 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=4858 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QIKl15aBuetaYdB9ms78m2pQJ3ysWd3satJyzf3s17pAYuzg4u8HS2efDWJZtTbeQs6aa-0HAk_gQssi6OEs-MMBgmlkgnY0gmlwhKwS4E-KbXVsdGlhZGRyc4wACgSsEuBPBtBX3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMxy_8XSWUcLn_MAMeBotWq7djcw174W-MGkducJQAg_IN0Y3CC0FaDdWRwgtBYhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.132.161 waku 10c29f57529f25ae6882b0fd646b1c8847cbf5106b40c0c9e941c643f6428336
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 10c29f57529f. Setting up logs at ./log/docker/node3_2024-09-18_03-21-26__5b6ba909-dab2-487d-84cb-8cc96b473938__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 4854
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4854/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4854/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.132.161/tcp/4855/p2p/16Uiu2HAmTKvV5BY24MgApYxKF14Ja54yYiQRnNp4Rakp5fwUuV2D","/ip4/172.18.132.161/tcp/4856/ws/p2p/16Uiu2HAmTKvV5BY24MgApYxKF14Ja54yYiQRnNp4Rakp5fwUuV2D"],"enrUri":"enr:-LO4QFA_vkoiCEObvUNyfq9j49r2aRbZVw0aT7gxhOBbKq-gRLl091l8dhvW3ML1zJLZUa2g5_UE2TCTO6I5-2JLgm8BgmlkgnY0gmlwhKwShKGKbXVsdGlhZGRyc4wACgSsEoShBhL43QOCcnOFAAMBAACJc2VjcDI1NmsxoQPZ_OW-fXnBXMZMAtg_7j2pcek2J2Zewh6DRnr-i-NpRoN0Y3CCEveDdWRwghL5hXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4854/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.224.79/tcp/53334/p2p/16Uiu2HAmG1Nk4kkvVmPHqFswgroQSZZW8cBXuYUVCRBZxQZJLKKR"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-09-18_03-21-26__5b6ba909-dab2-487d-84cb-8cc96b473938__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.237.188
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['24937', '24938', '24939', '24940', '24941']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 24937:24937 -p 24938:24938 -p 24939:24939 -p 24940:24940 -p 24941:24941 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=24939 --rest-port=24937 --tcp-port=24938 --discv5-udp-port=24940 --rest-address=0.0.0.0 --nat=extip:172.18.237.188 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cf7eec1f65ba13e3bafd6dd861ac3b0dfc74eaabb211e68babeccc5f60e6dae0 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-LO4QIKl15aBuetaYdB9ms78m2pQJ3ysWd3satJyzf3s17pAYuzg4u8HS2efDWJZtTbeQs6aa-0HAk_gQssi6OEs-MMBgmlkgnY0gmlwhKwS4E-KbXVsdGlhZGRyc4wACgSsEuBPBtBX3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMxy_8XSWUcLn_MAMeBotWq7djcw174W-MGkducJQAg_IN0Y3CC0FaDdWRwgtBYhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.237.188 waku 8d13e31c95bd6f9b4e5cb36008b274db670fd6904bc06d27c2b6d78b481010d4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 8d13e31c95bd. Setting up logs at ./log/docker/node4_2024-09-18_03-21-26__5b6ba909-dab2-487d-84cb-8cc96b473938__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 24937
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24937/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QGkc8iqzw7DrKpyF857yv4xbGFoFd8u69HASZ3a3Kc5dAqmoVD-yDPcKS6w14gr__6mWf5dJ-Ha8RvK6P0_nxN-GAZIDJkWygmlkgnY0gmlwhKwRAASJc2VjcDI1NmsxoQJIzn1iP_9QlrmLjCJybupk31yqMpNqS99-TBGqaYuVDYN0Y3CCYWqDdWRwgmFshXdha3UyAQ","listenAddresses":["/ip4/127.0.0.1/tcp/24938/p2p/16Uiu2HAkzKsxLN5351PeWyMaTk2As9xfbKqbsgFs6RzCw49RCDnt","/ip4/127.0.0.1/tcp/24939/ws/p2p/16Uiu2HAkzKsxLN5351PeWyMaTk2As9xfbKqbsgFs6RzCw49RCDnt","/ip4/172.17.0.4/tcp/24938/p2p/16Uiu2HAkzKsxLN5351PeWyMaTk2As9xfbKqbsgFs6RzCw49RCDnt","/ip4/172.17.0.4/tcp/24939/ws/p2p/16Uiu2HAkzKsxLN5351PeWyMaTk2As9xfbKqbsgFs6RzCw49RCDnt"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24937/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.224.79/tcp/53334/p2p/16Uiu2HAmG1Nk4kkvVmPHqFswgroQSZZW8cBXuYUVCRBZxQZJLKKR", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-09-18_03-21-26__5b6ba909-dab2-487d-84cb-8cc96b473938__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.227.171
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['52732', '52733', '52734', '52735', '52736']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 52732:52732 -p 52733:52733 -p 52734:52734 -p 52735:52735 -p 52736:52736 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=52734 --rest-port=52732 --tcp-port=52733 --discv5-udp-port=52735 --rest-address=0.0.0.0 --nat=extip:172.18.227.171 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=595ab7570b76fbbe3dd0eedbda2ee0affbefa4a1eb75b4efccd2234cdf4e1a23 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=52736 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QIKl15aBuetaYdB9ms78m2pQJ3ysWd3satJyzf3s17pAYuzg4u8HS2efDWJZtTbeQs6aa-0HAk_gQssi6OEs-MMBgmlkgnY0gmlwhKwS4E-KbXVsdGlhZGRyc4wACgSsEuBPBtBX3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMxy_8XSWUcLn_MAMeBotWq7djcw174W-MGkducJQAg_IN0Y3CC0FaDdWRwgtBYhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.227.171 waku b71d545a56181572f50ca7a1b97166b702c717cb7b936775dd3ea1e52962d12d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID b71d545a5618. Setting up logs at ./log/docker/node5_2024-09-18_03-21-26__5b6ba909-dab2-487d-84cb-8cc96b473938__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 52732
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52732/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52732/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.227.171/tcp/52733/p2p/16Uiu2HAmFUou2h2dP2iHnqZK8q8hhquu3izsccPsdrBafZfqNiaU","/ip4/172.18.227.171/tcp/52734/ws/p2p/16Uiu2HAmFUou2h2dP2iHnqZK8q8hhquu3izsccPsdrBafZfqNiaU"],"enrUri":"enr:-LO4QFnQt8czkN21dpi8kdh2Rjd0r7V01K16hHC6Rut5jHLhajdUsdu_A4_LonzEL-cggSy1wQlvYtb_NpaBRMtjj5wBgmlkgnY0gmlwhKwS46uKbXVsdGlhZGRyc4wACgSsEuOrBs3-3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMp928IJQjQ6iYyL7kxNBwToZ9o3CbQ2BhMexIEoTPQYYN0Y3CCzf2DdWRwgs3_hXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52732/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.224.79/tcp/53334/p2p/16Uiu2HAmG1Nk4kkvVmPHqFswgroQSZZW8cBXuYUVCRBZxQZJLKKR"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53333/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56547/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4854/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24937/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52732/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:53333/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53333/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1726629695907338496,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56547/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1726629695907338496,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4854/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1726629695907338496,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24937/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1726629695907338496,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52732/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1726629695907338496,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52732/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:53333/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1726629696059496704,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56547/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1726629696059496704,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4854/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1726629696059496704,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24937/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1726629696059496704,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52732/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1726629696059496704,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 34c2e1e50f4e
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 65d3b2f28d02
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 10c29f57529f
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 8d13e31c95bd
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id b71d545a5618
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.