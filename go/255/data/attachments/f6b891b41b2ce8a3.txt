[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_multiple_lightpush_nodes with id: 2024-08-26_03-18-31__9729db53-2fe7-4da5-9e6f-9c34ba25a36c
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-08-26_03-18-31__9729db53-2fe7-4da5-9e6f-9c34ba25a36c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.137.120
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['65142', '65143', '65144', '65145', '65146']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 65142:65142 -p 65143:65143 -p 65144:65144 -p 65145:65145 -p 65146:65146 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=65144 --rest-port=65142 --tcp-port=65143 --discv5-udp-port=65145 --rest-address=0.0.0.0 --nat=extip:172.18.137.120 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0fd817db1758b2a00c9bc45fdafbc3edef19b3bfca7d9d9ea106c2ce405fd631 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=65146 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.137.120 waku ef95b37a798bf283b314515376e10f069e0b3ec9e97360b38a9628c2007ce7b6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID ef95b37a798b. Setting up logs at ./log/docker/receiving_node1_2024-08-26_03-18-31__9729db53-2fe7-4da5-9e6f-9c34ba25a36c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 65142
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:65142/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:65142/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.137.120/tcp/65143/p2p/16Uiu2HAmHPzjd5VdqRXpAqXnjsEB1kuhpZptW6CYK4UHjcT59jwU","/ip4/172.18.137.120/tcp/65144/ws/p2p/16Uiu2HAmHPzjd5VdqRXpAqXnjsEB1kuhpZptW6CYK4UHjcT59jwU"],"enrUri":"enr:-LO4QImR6_hGnzyOARdsTuDfy_jk1HrA2Nct-HcXS8_nKUN3VK4F76L3kI8GiWtAFUye3aIlLJ0Aq3B-y6FHcs2xHPQBgmlkgnY0gmlwhKwSiXiKbXVsdGlhZGRyc4wACgSsEol4Bv543QOCcnOFAAMBAACJc2VjcDI1NmsxoQNGcyhqc_L8hXso8Yw_Uy_CnCyisSreTOUpszXEwVeZv4N0Y3CC_neDdWRwgv55hXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-08-26_03-18-31__9729db53-2fe7-4da5-9e6f-9c34ba25a36c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.22.182
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['40385', '40386', '40387', '40388', '40389']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 40385:40385 -p 40386:40386 -p 40387:40387 -p 40388:40388 -p 40389:40389 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=40387 --rest-port=40385 --tcp-port=40386 --discv5-udp-port=40388 --rest-address=0.0.0.0 --nat=extip:172.18.22.182 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bb8c13f5c9edf7fabfc6c0888efaf7284d99fbfc2eeaecccdebaa4ec2fa478db --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=40389 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.22.182 waku b4ba68aab7890c652eb25954b378edde71a51765eff3d593b05678831341a2bb
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID b4ba68aab789. Setting up logs at ./log/docker/receiving_node2_2024-08-26_03-18-31__9729db53-2fe7-4da5-9e6f-9c34ba25a36c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 40385
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40385/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40385/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.22.182/tcp/40386/p2p/16Uiu2HAm7fLwHtSRYSsybrVZRAqeffR4YPCyyAUwqq9eMs8LGqox","/ip4/172.18.22.182/tcp/40387/ws/p2p/16Uiu2HAm7fLwHtSRYSsybrVZRAqeffR4YPCyyAUwqq9eMs8LGqox"],"enrUri":"enr:-LO4QGZl7oBEoDROVJhOZxjjiNhTRRVICTb9LeZGENcggkhSQ5RxycQZMOJFxrNzDgqtelYZXzxMgoLbyaQTfapOtSoBgmlkgnY0gmlwhKwSFraKbXVsdGlhZGRyc4wACgSsEha2Bp3D3QOCcnOFAAMBAACJc2VjcDI1NmsxoQK1zNehdQyXSNrn1S8dpuNYzSjMTdFv2Hil0nTP604Yy4N0Y3CCncKDdWRwgp3EhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40385/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.137.120/tcp/65143/p2p/16Uiu2HAmHPzjd5VdqRXpAqXnjsEB1kuhpZptW6CYK4UHjcT59jwU"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-08-26_03-18-31__9729db53-2fe7-4da5-9e6f-9c34ba25a36c__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.160.75
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['59722', '59723', '59724', '59725', '59726']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 59722:59722 -p 59723:59723 -p 59724:59724 -p 59725:59725 -p 59726:59726 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=59724 --rest-port=59722 --tcp-port=59723 --discv5-udp-port=59725 --rest-address=0.0.0.0 --nat=extip:172.18.160.75 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e51aabebdacdbf2cfe3ce2a24865efacfb49a3bcfd8ee4baf6e91ffcccee6afa --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-LO4QImR6_hGnzyOARdsTuDfy_jk1HrA2Nct-HcXS8_nKUN3VK4F76L3kI8GiWtAFUye3aIlLJ0Aq3B-y6FHcs2xHPQBgmlkgnY0gmlwhKwSiXiKbXVsdGlhZGRyc4wACgSsEol4Bv543QOCcnOFAAMBAACJc2VjcDI1NmsxoQNGcyhqc_L8hXso8Yw_Uy_CnCyisSreTOUpszXEwVeZv4N0Y3CC_neDdWRwgv55hXdha3UyCQ --lightpushnode=/ip4/172.18.137.120/tcp/65143/p2p/16Uiu2HAmHPzjd5VdqRXpAqXnjsEB1kuhpZptW6CYK4UHjcT59jwU --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.160.75 waku b8e3e784e782d56c0f5c629ad872960c6f50088f00d36e655047ffad04cacf01
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID b8e3e784e782. Setting up logs at ./log/docker/lightpush_node1_2024-08-26_03-18-31__9729db53-2fe7-4da5-9e6f-9c34ba25a36c__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/go-waku:latest. REST: 59722
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59722/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QB3XhCddYARfQhbRrgdDSZqnS5CAJ1WKdHa8cuMCsHZgOC4iCOAw5V-c2KI_c-j0iAOwJlxqmnFS4BpD8jIxumGGAZGMsUzfgmlkgnY0gmlwhKwRAA6Jc2VjcDI1NmsxoQN5nUckdDmVU1wRMIfT-fN-O5oMid1x0df_zpWyQcRSVYN0Y3CC6UuDdWRwgulNhXdha3UyCA","listenAddresses":["/ip4/127.0.0.1/tcp/59723/p2p/16Uiu2HAmLqinAFehSCEz14vLpd5ktfRwPgDF6DPcMbz4z8xXx8FN","/ip4/127.0.0.1/tcp/59724/ws/p2p/16Uiu2HAmLqinAFehSCEz14vLpd5ktfRwPgDF6DPcMbz4z8xXx8FN","/ip4/172.17.0.14/tcp/59723/p2p/16Uiu2HAmLqinAFehSCEz14vLpd5ktfRwPgDF6DPcMbz4z8xXx8FN","/ip4/172.17.0.14/tcp/59724/ws/p2p/16Uiu2HAmLqinAFehSCEz14vLpd5ktfRwPgDF6DPcMbz4z8xXx8FN"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59722/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.137.120/tcp/65143/p2p/16Uiu2HAmHPzjd5VdqRXpAqXnjsEB1kuhpZptW6CYK4UHjcT59jwU", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59722/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.22.182/tcp/40386/p2p/16Uiu2HAm7fLwHtSRYSsybrVZRAqeffR4YPCyyAUwqq9eMs8LGqox", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/lightpush_node2_2024-08-26_03-18-31__9729db53-2fe7-4da5-9e6f-9c34ba25a36c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.231.100
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['15280', '15281', '15282', '15283', '15284']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 15280:15280 -p 15281:15281 -p 15282:15282 -p 15283:15283 -p 15284:15284 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=15282 --rest-port=15280 --tcp-port=15281 --discv5-udp-port=15283 --rest-address=0.0.0.0 --nat=extip:172.18.231.100 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=edc0dbfccfb3bbf96ccc7a3a86ac36eb86d531e3e02191ca0c89bbdd3cc456ad --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=15284 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QImR6_hGnzyOARdsTuDfy_jk1HrA2Nct-HcXS8_nKUN3VK4F76L3kI8GiWtAFUye3aIlLJ0Aq3B-y6FHcs2xHPQBgmlkgnY0gmlwhKwSiXiKbXVsdGlhZGRyc4wACgSsEol4Bv543QOCcnOFAAMBAACJc2VjcDI1NmsxoQNGcyhqc_L8hXso8Yw_Uy_CnCyisSreTOUpszXEwVeZv4N0Y3CC_neDdWRwgv55hXdha3UyCQ --lightpushnode=/ip4/172.18.137.120/tcp/65143/p2p/16Uiu2HAmHPzjd5VdqRXpAqXnjsEB1kuhpZptW6CYK4UHjcT59jwU --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.231.100 waku b6dd656e5045a028a0efebb1e7ddaa600bf70fd306f734c9d554bf760f45e459
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID b6dd656e5045. Setting up logs at ./log/docker/lightpush_node2_2024-08-26_03-18-31__9729db53-2fe7-4da5-9e6f-9c34ba25a36c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 15280
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15280/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15280/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.231.100/tcp/15281/p2p/16Uiu2HAm1VJpo3GyJ1PE9L32o39oDBRQ992hZhiv7PLtGXFoBJ78","/ip4/172.18.231.100/tcp/15282/ws/p2p/16Uiu2HAm1VJpo3GyJ1PE9L32o39oDBRQ992hZhiv7PLtGXFoBJ78"],"enrUri":"enr:-LO4QBI4puqCdHv0jm24Hg4Fm8cl-bD-8WUevZSoStXlvBFAPiZ2jrSXkhc0mxWwJ2U09vUoZye5NcvGs--PAWrGL9sBgmlkgnY0gmlwhKwS52SKbXVsdGlhZGRyc4wACgSsEudkBjuy3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJaFIZLQF_BTA6cjBrDydKa3uQuMqKyPiCEw_2Gtcw_94N0Y3CCO7GDdWRwgjuzhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15280/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.137.120/tcp/65143/p2p/16Uiu2HAmHPzjd5VdqRXpAqXnjsEB1kuhpZptW6CYK4UHjcT59jwU"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15280/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.22.182/tcp/40386/p2p/16Uiu2HAm7fLwHtSRYSsybrVZRAqeffR4YPCyyAUwqq9eMs8LGqox"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/lightpush_node3_2024-08-26_03-18-31__9729db53-2fe7-4da5-9e6f-9c34ba25a36c__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.71.246
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['61598', '61599', '61600', '61601', '61602']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 61598:61598 -p 61599:61599 -p 61600:61600 -p 61601:61601 -p 61602:61602 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=61600 --rest-port=61598 --tcp-port=61599 --discv5-udp-port=61601 --rest-address=0.0.0.0 --nat=extip:172.18.71.246 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f4acde8ebd2fdea917a5e0d13c18efa54ccef4b495fb0c6ab5bccfc23a43a8df --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-LO4QImR6_hGnzyOARdsTuDfy_jk1HrA2Nct-HcXS8_nKUN3VK4F76L3kI8GiWtAFUye3aIlLJ0Aq3B-y6FHcs2xHPQBgmlkgnY0gmlwhKwSiXiKbXVsdGlhZGRyc4wACgSsEol4Bv543QOCcnOFAAMBAACJc2VjcDI1NmsxoQNGcyhqc_L8hXso8Yw_Uy_CnCyisSreTOUpszXEwVeZv4N0Y3CC_neDdWRwgv55hXdha3UyCQ --lightpushnode=/ip4/172.18.137.120/tcp/65143/p2p/16Uiu2HAmHPzjd5VdqRXpAqXnjsEB1kuhpZptW6CYK4UHjcT59jwU --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.71.246 waku 1583b12b6c4ec272249696a41cc8e44c7214dcfff2fdcb396e2569d77bd86e5f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 1583b12b6c4e. Setting up logs at ./log/docker/lightpush_node3_2024-08-26_03-18-31__9729db53-2fe7-4da5-9e6f-9c34ba25a36c__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/go-waku:latest. REST: 61598
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61598/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QDn7WAKp7b-RvcLAEd8VqrsbytvI0cJOKOrhFROS0HjQdCNdf6uTDTwwYr3PNXoXaPNgl1KROgYJgOUNbnDSfpuGAZGMsVoGgmlkgnY0gmlwhKwRAAKJc2VjcDI1NmsxoQK1ZoYelW3aR8njRGumaHomQBU5uli0t2JuTAX_yEDyvIN0Y3CC8J-DdWRwgvChhXdha3UyCA","listenAddresses":["/ip4/127.0.0.1/tcp/61599/p2p/16Uiu2HAm7dnSpT8T4n4m8MCYGDeMD5N3wTDpvpnJsKxsLBTGcXg7","/ip4/127.0.0.1/tcp/61600/ws/p2p/16Uiu2HAm7dnSpT8T4n4m8MCYGDeMD5N3wTDpvpnJsKxsLBTGcXg7","/ip4/172.17.0.2/tcp/61599/p2p/16Uiu2HAm7dnSpT8T4n4m8MCYGDeMD5N3wTDpvpnJsKxsLBTGcXg7","/ip4/172.17.0.2/tcp/61600/ws/p2p/16Uiu2HAm7dnSpT8T4n4m8MCYGDeMD5N3wTDpvpnJsKxsLBTGcXg7"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61598/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.137.120/tcp/65143/p2p/16Uiu2HAmHPzjd5VdqRXpAqXnjsEB1kuhpZptW6CYK4UHjcT59jwU", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61598/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.22.182/tcp/40386/p2p/16Uiu2HAm7fLwHtSRYSsybrVZRAqeffR4YPCyyAUwqq9eMs8LGqox", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/lightpush_node4_2024-08-26_03-18-31__9729db53-2fe7-4da5-9e6f-9c34ba25a36c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.20.89
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['22309', '22310', '22311', '22312', '22313']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 22309:22309 -p 22310:22310 -p 22311:22311 -p 22312:22312 -p 22313:22313 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=22311 --rest-port=22309 --tcp-port=22310 --discv5-udp-port=22312 --rest-address=0.0.0.0 --nat=extip:172.18.20.89 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9f860a0063cfbf6d3cffee56d88ba1feebe3a6fbfd85b7837117efcf25abc75a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=22313 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QImR6_hGnzyOARdsTuDfy_jk1HrA2Nct-HcXS8_nKUN3VK4F76L3kI8GiWtAFUye3aIlLJ0Aq3B-y6FHcs2xHPQBgmlkgnY0gmlwhKwSiXiKbXVsdGlhZGRyc4wACgSsEol4Bv543QOCcnOFAAMBAACJc2VjcDI1NmsxoQNGcyhqc_L8hXso8Yw_Uy_CnCyisSreTOUpszXEwVeZv4N0Y3CC_neDdWRwgv55hXdha3UyCQ --lightpushnode=/ip4/172.18.137.120/tcp/65143/p2p/16Uiu2HAmHPzjd5VdqRXpAqXnjsEB1kuhpZptW6CYK4UHjcT59jwU --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.20.89 waku e35aff0795f75272d6e941316a728743dcf75b01835e9cc2f9032c58467a3821
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID e35aff0795f7. Setting up logs at ./log/docker/lightpush_node4_2024-08-26_03-18-31__9729db53-2fe7-4da5-9e6f-9c34ba25a36c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 22309
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22309/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22309/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.20.89/tcp/22310/p2p/16Uiu2HAmGuCuik5GwPuo6c66bk4GPWMzjNgPhgAt9ptQjGhL2Hbu","/ip4/172.18.20.89/tcp/22311/ws/p2p/16Uiu2HAmGuCuik5GwPuo6c66bk4GPWMzjNgPhgAt9ptQjGhL2Hbu"],"enrUri":"enr:-LO4QPuOVC2PCWgDr6hkk0yTX3SkKGj957hbDC_TpGEKJqH1IhZPeaNrI-pywilZmBNJaiQiqDu7CmHDyoD-eSlGCmYBgmlkgnY0gmlwhKwSFFmKbXVsdGlhZGRyc4wACgSsEhRZBlcn3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM_ExRntc4TyQes1yTH5mKFlopSndk1siQGsgMVkZz1QIN0Y3CCVyaDdWRwglcohXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22309/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.137.120/tcp/65143/p2p/16Uiu2HAmHPzjd5VdqRXpAqXnjsEB1kuhpZptW6CYK4UHjcT59jwU"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22309/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.22.182/tcp/40386/p2p/16Uiu2HAm7fLwHtSRYSsybrVZRAqeffR4YPCyyAUwqq9eMs8LGqox"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:65142/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40385/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59722/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1724642322419570432}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:65142/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724642322419570432,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40385/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724642322419570432,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15280/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1724642322543613952}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:65142/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724642322543613952,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40385/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724642322543613952,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61598/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1724642322684475904}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:65142/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724642322684475904,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40385/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724642322684475904,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22309/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1724642322800164096}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:65142/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724642322800164096,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40385/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724642322800164096,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id ef95b37a798b
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id b4ba68aab789
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id b8e3e784e782
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id b6dd656e5045
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 1583b12b6c4e
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id e35aff0795f7
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.