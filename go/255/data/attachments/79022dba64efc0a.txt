[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_multiple_receiving_nodes with id: 2024-08-26_03-18-10__657279c9-9b54-42f6-8ab7-fb5ffbc42cb1
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-08-26_03-18-10__657279c9-9b54-42f6-8ab7-fb5ffbc42cb1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.195.4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['51866', '51867', '51868', '51869', '51870']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 51866:51866 -p 51867:51867 -p 51868:51868 -p 51869:51869 -p 51870:51870 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=51868 --rest-port=51866 --tcp-port=51867 --discv5-udp-port=51869 --rest-address=0.0.0.0 --nat=extip:172.18.195.4 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b9393ccdc7badfafdbf6a0cdb65c6d1b42924cadcfeea9aadefa7dadfc0e9438 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=51870 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.97.47
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['1856', '1857', '1858', '1859', '1860']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 1856:1856 -p 1857:1857 -p 1858:1858 -p 1859:1859 -p 1860:1860 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=1858 --rest-port=1856 --tcp-port=1857 --discv5-udp-port=1859 --rest-address=0.0.0.0 --nat=extip:172.18.97.47 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ec5b6f58009523eb3c551a9ddb71a192f6e8cee4e19fafaeaafc4f2be373b1c0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=1860 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.97.47 waku 204d5e132d0704e3d9ab481cbb21c299869f9f602c949d6b82a9d8971a63f133
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 204d5e132d07. Setting up logs at ./log/docker/receiving_node1_2024-08-26_03-18-10__657279c9-9b54-42f6-8ab7-fb5ffbc42cb1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 1856
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1856/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1856/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.97.47/tcp/1857/p2p/16Uiu2HAkvTLPL3gPWEUbwnyhZUveR8Q91Wj17MWYwetmwGNQUfCE","/ip4/172.18.97.47/tcp/1858/ws/p2p/16Uiu2HAkvTLPL3gPWEUbwnyhZUveR8Q91Wj17MWYwetmwGNQUfCE"],"enrUri":"enr:-LO4QGEQLlQi_AEKXe_YB8TIa9oIztyvIvStzEMhKuGUulh7H1X-xVCPvxWyVykVR2cWgv-3Y_rUhermMNs31O1e0z0BgmlkgnY0gmlwhKwSYS-KbXVsdGlhZGRyc4wACgSsEmEvBgdC3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIPSLF7-Sub6kyJgTIVs6D0untM0i2cj-3YK9iBYxyta4N0Y3CCB0GDdWRwggdDhXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-08-26_03-18-10__657279c9-9b54-42f6-8ab7-fb5ffbc42cb1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.162.159
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['6219', '6220', '6221', '6222', '6223']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 6219:6219 -p 6220:6220 -p 6221:6221 -p 6222:6222 -p 6223:6223 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=6221 --rest-port=6219 --tcp-port=6220 --discv5-udp-port=6222 --rest-address=0.0.0.0 --nat=extip:172.18.162.159 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5d9e78ea129c3fdcf7e67f229e35ca8f8b52f07c7efdc32c4ee342c403cfc45a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=6223 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.162.159 waku 719fb86bbcde2f3f4797847ca04e4769ae19afde9ab0794280319f4705d86a28
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 719fb86bbcde. Setting up logs at ./log/docker/receiving_node2_2024-08-26_03-18-10__657279c9-9b54-42f6-8ab7-fb5ffbc42cb1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 6219
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6219/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6219/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.162.159/tcp/6220/p2p/16Uiu2HAmHrKZfjwv1LBhweNapbCmjDRkqhEurKLmdWjJmefGiQik","/ip4/172.18.162.159/tcp/6221/ws/p2p/16Uiu2HAmHrKZfjwv1LBhweNapbCmjDRkqhEurKLmdWjJmefGiQik"],"enrUri":"enr:-LO4QCGE84RUiw9jr3c5mop3casEQZJnB1XG2cdqBegKL_nTYCZw02UX9XZYjdVb7cNBxP_F5-GSVkU6gavg3N_dKc4BgmlkgnY0gmlwhKwSop-KbXVsdGlhZGRyc4wACgSsEqKfBhhN3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNNMYxYeKnyreIof8xKmogACybS8vNUvDywPEP-CD7ACYN0Y3CCGEyDdWRwghhOhXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6219/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.97.47/tcp/1857/p2p/16Uiu2HAkvTLPL3gPWEUbwnyhZUveR8Q91Wj17MWYwetmwGNQUfCE"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/receiving_node3_2024-08-26_03-18-10__657279c9-9b54-42f6-8ab7-fb5ffbc42cb1__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.226.181
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['24550', '24551', '24552', '24553', '24554']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 24550:24550 -p 24551:24551 -p 24552:24552 -p 24553:24553 -p 24554:24554 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=24552 --rest-port=24550 --tcp-port=24551 --discv5-udp-port=24553 --rest-address=0.0.0.0 --nat=extip:172.18.226.181 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c001b8d6d0d7b2decdcdeff0617acb0f6cda0ede40f8656aca893dd6caadbbbf --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.226.181 waku c53c25fd3a2bc556a60ac9bb0284caf0b5a02d44beee67411af8541cf7d5518e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID c53c25fd3a2b. Setting up logs at ./log/docker/receiving_node3_2024-08-26_03-18-10__657279c9-9b54-42f6-8ab7-fb5ffbc42cb1__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/go-waku:latest. REST: 24550
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24550/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QH5izJ_7CGSJDd0fTkcOrSQRnMyJs3uPSUKB3hkS8wuRE2ckay7I7wKm6g8wiWLW2eJi8dp-_vJwPhjoZUhStYuGAZGMsP9GgmlkgnY0gmlwhKwRAAKJc2VjcDI1NmsxoQPFIVnpaVkv8UXu5_83KTEVLdhGPzH_5upKsqv7T0t6AIN0Y3CCX-eDdWRwgl_phXdha3UyCQ","listenAddresses":["/ip4/127.0.0.1/tcp/24551/p2p/16Uiu2HAmRvWAQqBXbeTCaSmn6DibC8rSuK6uta9LTygrnHEUnJKq","/ip4/127.0.0.1/tcp/24552/ws/p2p/16Uiu2HAmRvWAQqBXbeTCaSmn6DibC8rSuK6uta9LTygrnHEUnJKq","/ip4/172.17.0.2/tcp/24551/p2p/16Uiu2HAmRvWAQqBXbeTCaSmn6DibC8rSuK6uta9LTygrnHEUnJKq","/ip4/172.17.0.2/tcp/24552/ws/p2p/16Uiu2HAmRvWAQqBXbeTCaSmn6DibC8rSuK6uta9LTygrnHEUnJKq"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24550/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.97.47/tcp/1857/p2p/16Uiu2HAkvTLPL3gPWEUbwnyhZUveR8Q91Wj17MWYwetmwGNQUfCE", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24550/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.162.159/tcp/6220/p2p/16Uiu2HAmHrKZfjwv1LBhweNapbCmjDRkqhEurKLmdWjJmefGiQik", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/receiving_node4_2024-08-26_03-18-10__657279c9-9b54-42f6-8ab7-fb5ffbc42cb1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.37.122
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['41560', '41561', '41562', '41563', '41564']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 41560:41560 -p 41561:41561 -p 41562:41562 -p 41563:41563 -p 41564:41564 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=41562 --rest-port=41560 --tcp-port=41561 --discv5-udp-port=41563 --rest-address=0.0.0.0 --nat=extip:172.18.37.122 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c8abab68fef37e795b4f2da299ac7dadfa64e2da5c16c304bccd6f1c2effcf0e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=41564 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.37.122 waku 9aca1c253308ca8d51467460e80416ff733831d1819bc4b736d316b8ca85aa89
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 9aca1c253308. Setting up logs at ./log/docker/receiving_node4_2024-08-26_03-18-10__657279c9-9b54-42f6-8ab7-fb5ffbc42cb1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 41560
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41560/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41560/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.37.122/tcp/41561/p2p/16Uiu2HAmRwAYfAwxTNmxUue8WmfzYWr1WhJyGGZWjZxsiedRDqUF","/ip4/172.18.37.122/tcp/41562/ws/p2p/16Uiu2HAmRwAYfAwxTNmxUue8WmfzYWr1WhJyGGZWjZxsiedRDqUF"],"enrUri":"enr:-LO4QCMKjKE8XxYFz-TF5DeM2OwjCh89yF2FjJRQqfk3a5i-Z2a-UY1FQf2RULTipZ8Ysa85b370np5a9Snfts7EuXQBgmlkgnY0gmlwhKwSJXqKbXVsdGlhZGRyc4wACgSsEiV6BqJa3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPFTMBs9ah1hBY-7sGYuqheCmPoYFKS1ZrXPXObWl2YjIN0Y3CColmDdWRwgqJbhXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41560/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.97.47/tcp/1857/p2p/16Uiu2HAkvTLPL3gPWEUbwnyhZUveR8Q91Wj17MWYwetmwGNQUfCE"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41560/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.162.159/tcp/6220/p2p/16Uiu2HAmHrKZfjwv1LBhweNapbCmjDRkqhEurKLmdWjJmefGiQik"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41560/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.226.181/tcp/24551/p2p/16Uiu2HAmRvWAQqBXbeTCaSmn6DibC8rSuK6uta9LTygrnHEUnJKq"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-08-26_03-18-10__657279c9-9b54-42f6-8ab7-fb5ffbc42cb1__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.139.232
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['25139', '25140', '25141', '25142', '25143']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 25139:25139 -p 25140:25140 -p 25141:25141 -p 25142:25142 -p 25143:25143 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=25141 --rest-port=25139 --tcp-port=25140 --discv5-udp-port=25142 --rest-address=0.0.0.0 --nat=extip:172.18.139.232 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ddeb2720fd0dfad0d12acff8ce42244af2ebcc311adc7eafeaa4bf990ea2d4ec --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-LO4QGEQLlQi_AEKXe_YB8TIa9oIztyvIvStzEMhKuGUulh7H1X-xVCPvxWyVykVR2cWgv-3Y_rUhermMNs31O1e0z0BgmlkgnY0gmlwhKwSYS-KbXVsdGlhZGRyc4wACgSsEmEvBgdC3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIPSLF7-Sub6kyJgTIVs6D0untM0i2cj-3YK9iBYxyta4N0Y3CCB0GDdWRwggdDhXdha3UyCQ --lightpushnode=/ip4/172.18.97.47/tcp/1857/p2p/16Uiu2HAkvTLPL3gPWEUbwnyhZUveR8Q91Wj17MWYwetmwGNQUfCE --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.139.232 waku 558d9a54b21092ecca6784551a4c628fda940b470e51da790c2f0f3c9a1bbe2a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 558d9a54b210. Setting up logs at ./log/docker/lightpush_node1_2024-08-26_03-18-10__657279c9-9b54-42f6-8ab7-fb5ffbc42cb1__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/go-waku:latest. REST: 25139
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25139/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QCAwZMc2gcCPbWYp8F-ggAt6X8QSfZqXdfnmyG2eiDAJSZr6VNKRS3PyC7fReenVmuiX3riKMF5AZFtFgfsHbJmGAZGMsQvEgmlkgnY0gmlwhKwRAA-Jc2VjcDI1NmsxoQKwBzZDVW9YNUlgM7mIce3JF0o2IG1L6bEJv5tJo4Ds2YN0Y3CCYjSDdWRwgmI2hXdha3UyCA","listenAddresses":["/ip4/127.0.0.1/tcp/25140/p2p/16Uiu2HAm7Gp7Wjty4T2EPSCvBn4hC88g5PCRGxNfXuydGZoPJf6Q","/ip4/127.0.0.1/tcp/25141/ws/p2p/16Uiu2HAm7Gp7Wjty4T2EPSCvBn4hC88g5PCRGxNfXuydGZoPJf6Q","/ip4/172.17.0.15/tcp/25140/p2p/16Uiu2HAm7Gp7Wjty4T2EPSCvBn4hC88g5PCRGxNfXuydGZoPJf6Q","/ip4/172.17.0.15/tcp/25141/ws/p2p/16Uiu2HAm7Gp7Wjty4T2EPSCvBn4hC88g5PCRGxNfXuydGZoPJf6Q"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:25139/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.97.47/tcp/1857/p2p/16Uiu2HAkvTLPL3gPWEUbwnyhZUveR8Q91Wj17MWYwetmwGNQUfCE", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:25139/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.162.159/tcp/6220/p2p/16Uiu2HAmHrKZfjwv1LBhweNapbCmjDRkqhEurKLmdWjJmefGiQik", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:25139/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.226.181/tcp/24551/p2p/16Uiu2HAmRvWAQqBXbeTCaSmn6DibC8rSuK6uta9LTygrnHEUnJKq", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:25139/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.37.122/tcp/41561/p2p/16Uiu2HAmRwAYfAwxTNmxUue8WmfzYWr1WhJyGGZWjZxsiedRDqUF", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1856/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6219/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24550/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41560/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:25139/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1724642299975468288}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1856/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724642299975468288,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6219/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724642299975468288,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_3:wakuorg/go-waku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24550/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724642299975468288,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_4:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41560/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1724642299975468288,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 204d5e132d07
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 719fb86bbcde
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id c53c25fd3a2b
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 9aca1c253308
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 558d9a54b210
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.