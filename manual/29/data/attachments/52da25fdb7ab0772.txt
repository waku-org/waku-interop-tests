[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_time_filter_zero_start_end_time with id: 2025-01-31_15-45-24__1265343f-5b2c-4233-a19c-4488a8752cfe
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3267
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-01-31_15-45-24__1265343f-5b2c-4233-a19c-4488a8752cfe__quay.io_wakuorg_nwaku-pr:3267.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.186.103
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['9800', '9801', '9802', '9803', '9804']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 9800:9800 -p 9801:9801 -p 9802:9802 -p 9803:9803 -p 9804:9804 quay.io/wakuorg/nwaku-pr:3267 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=9802 --rest-port=9800 --tcp-port=9801 --discv5-udp-port=9803 --rest-address=0.0.0.0 --nat=extip:172.18.186.103 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c22b9aa5ac27094bb99add742befab7bc2cea19e401b7abc92fb146fccf95783 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=9804 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.186.103 waku cb2a403e54592798800417cf7e7c8df91492c220fb0d876f9c58510937aa98b1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID cb2a403e5459. Setting up logs at ./log/docker/publishing_node1_2025-01-31_15-45-24__1265343f-5b2c-4233-a19c-4488a8752cfe__quay.io_wakuorg_nwaku-pr:3267.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3267. REST: 9800
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 5ae473f2caab. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9800/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9800/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.186.103/tcp/9801/p2p/16Uiu2HAmHzzPaS1ffMw4zDY199qr2obQuVVejem8xJF6B7Qi15BK","/ip4/172.18.186.103/tcp/9802/ws/p2p/16Uiu2HAmHzzPaS1ffMw4zDY199qr2obQuVVejem8xJF6B7Qi15BK"],"enrUri":"enr:-L24QBE1Ayu9ZLJ5dfH1oz_irOC4PLubILLT60ijjorhKLQbSSg7XCSod4EP0YkA-Sdmb9nHI1mCpd80nOgy0FWuzeMCgmlkgnY0gmlwhKwSumeKbXVsdGlhZGRyc5YACASsErpnBiZJAAoErBK6ZwYmSt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDT2oYbHGfysVovncf_EXh2Q0IaMQX2-X466nUOp8Sy1aDdGNwgiZJg3VkcIImS4V3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3267
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2025-01-31_15-45-24__1265343f-5b2c-4233-a19c-4488a8752cfe__quay.io_wakuorg_nwaku-pr:3267.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.154.68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['58458', '58459', '58460', '58461', '58462']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 58458:58458 -p 58459:58459 -p 58460:58460 -p 58461:58461 -p 58462:58462 quay.io/wakuorg/nwaku-pr:3267 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=58460 --rest-port=58458 --tcp-port=58459 --discv5-udp-port=58461 --rest-address=0.0.0.0 --nat=extip:172.18.154.68 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cabe70c7fcf19a94b2bf67ec80ee527c547eec9da8eb3d284dbc6c0a3af1affd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=58462 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QBE1Ayu9ZLJ5dfH1oz_irOC4PLubILLT60ijjorhKLQbSSg7XCSod4EP0YkA-Sdmb9nHI1mCpd80nOgy0FWuzeMCgmlkgnY0gmlwhKwSumeKbXVsdGlhZGRyc5YACASsErpnBiZJAAoErBK6ZwYmSt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDT2oYbHGfysVovncf_EXh2Q0IaMQX2-X466nUOp8Sy1aDdGNwgiZJg3VkcIImS4V3YWt1MgM --storenode=/ip4/172.18.186.103/tcp/9801/p2p/16Uiu2HAmHzzPaS1ffMw4zDY199qr2obQuVVejem8xJF6B7Qi15BK --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.154.68 waku 9657b256977ba1e77305727bdf7b110d9dbae52deee2231ee5dd15aed555f13a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 9657b256977b. Setting up logs at ./log/docker/store_node1_2025-01-31_15-45-24__1265343f-5b2c-4233-a19c-4488a8752cfe__quay.io_wakuorg_nwaku-pr:3267.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3267. REST: 58458
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58458/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58458/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.154.68/tcp/58459/p2p/16Uiu2HAmMVR2UyL1C7m1z49wuvja2etbmT4EDmVM5Nyiqdk6oW29","/ip4/172.18.154.68/tcp/58460/ws/p2p/16Uiu2HAmMVR2UyL1C7m1z49wuvja2etbmT4EDmVM5Nyiqdk6oW29"],"enrUri":"enr:-L24QIzukhwFpTcLl7dJ7741EcTo1ZOeyJFJOr_xkMpYL6KSJOFyc9ZJ48b4q3qJvSnDdtm0-F2H6NjE071S4Gp_D1kCgmlkgnY0gmlwhKwSmkSKbXVsdGlhZGRyc5YACASsEppEBuRbAAoErBKaRAbkXN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDg0VGc4M9OUv_tIxsoCiiGL3gwAfJiLs_anB_KyA3ebaDdGNwguRbg3VkcILkXYV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58458/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.186.103/tcp/9801/p2p/16Uiu2HAmHzzPaS1ffMw4zDY199qr2obQuVVejem8xJF6B7Qi15BK"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9800/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58458/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9800/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9800/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9800/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9800/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9800/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9800/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:166 inquering stored messages with start time 0
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9800/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=0&endTime=0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xa50f714d4bddeea9c8d4a382c905f5da0c1c696bc4e5ae11b8b57d649e4206f7","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738338333054274048,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0x40c6a2c6b67bd71a6079fdccdd021fccc9cecd713eb4678f76658a72f4ba876f","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738338335054280960,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0x542bb197ce0de15deb81a51de4bb129c08c821dec6c7266ebfe3c586e70d97ce","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738338335954283008,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0xc6b28d71038abc316be81c0b4e40a3a427977468b595e86aa3196ca738e0195c","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738338336154285056,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0x393e003c19a57c9964167da3e8ce05e3a121e132c30027561e42c83a521aee5a","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738338338054286848,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0xe424cf025a3685e2257defaf8c1efacabea598a649c784d2ce80eda03f69ee36","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738338346054287872,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"}]}'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:169 number of messages stored for  start time = 0 is  6
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58458/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=0&endTime=0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xa50f714d4bddeea9c8d4a382c905f5da0c1c696bc4e5ae11b8b57d649e4206f7","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738338333054274048,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0x40c6a2c6b67bd71a6079fdccdd021fccc9cecd713eb4678f76658a72f4ba876f","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738338335054280960,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0x542bb197ce0de15deb81a51de4bb129c08c821dec6c7266ebfe3c586e70d97ce","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738338335954283008,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0xc6b28d71038abc316be81c0b4e40a3a427977468b595e86aa3196ca738e0195c","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738338336154285056,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0x393e003c19a57c9964167da3e8ce05e3a121e132c30027561e42c83a521aee5a","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738338338054286848,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0xe424cf025a3685e2257defaf8c1efacabea598a649c784d2ce80eda03f69ee36","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738338346054287872,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"}]}'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:169 number of messages stored for  start time = 0 is  6
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id cb2a403e5459
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 9657b256977b
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container cb2a403e5459. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.