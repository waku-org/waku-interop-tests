[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_pubsub_topic with id: 2025-01-31_15-43-21__7cc3bb14-0335-44a9-bd05-5c98d112f673
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3267
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-01-31_15-43-21__7cc3bb14-0335-44a9-bd05-5c98d112f673__quay.io_wakuorg_nwaku-pr:3267.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.149.166
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['62348', '62349', '62350', '62351', '62352']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 62348:62348 -p 62349:62349 -p 62350:62350 -p 62351:62351 -p 62352:62352 quay.io/wakuorg/nwaku-pr:3267 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=62350 --rest-port=62348 --tcp-port=62349 --discv5-udp-port=62351 --rest-address=0.0.0.0 --nat=extip:172.18.149.166 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=eaacba94407cef41ff9ed1a6ef1cf03c5bef1b74cfabc7c107e4a1fcc68a7b67 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=62352 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.149.166 waku f7c65dc5d8e45e7bc8eb2e1aac57e03314bca2af807eec1b04121c97924a0778
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID f7c65dc5d8e4. Setting up logs at ./log/docker/node1_2025-01-31_15-43-21__7cc3bb14-0335-44a9-bd05-5c98d112f673__quay.io_wakuorg_nwaku-pr:3267.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3267. REST: 62348
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 66cc23d57bca. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62348/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62348/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.149.166/tcp/62349/p2p/16Uiu2HAm2T159ds7zSGTETQGXUNngX3xjE2Y3HmitaSKwt7SXnfp","/ip4/172.18.149.166/tcp/62350/ws/p2p/16Uiu2HAm2T159ds7zSGTETQGXUNngX3xjE2Y3HmitaSKwt7SXnfp"],"enrUri":"enr:-L24QAl6MtRc_GVLTG-Nb7OXudXHXIUX-3D_7md3LKq8RC0RUHCMdbEdjmD9cRHQ2DJ9jD9YeNWZh11JdTSYqLptFz4CgmlkgnY0gmlwhKwSlaaKbXVsdGlhZGRyc5YACASsEpWmBvONAAoErBKVpgbzjt0DgnJzhQADAQAAiXNlY3AyNTZrMaECaFj6Ie_0jZ03wvNc1u2rzqKJvaiQLNJ7C3XwGi0Qzt-DdGNwgvONg3VkcILzj4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3267
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-01-31_15-43-21__7cc3bb14-0335-44a9-bd05-5c98d112f673__quay.io_wakuorg_nwaku-pr:3267.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.130.29
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['43819', '43820', '43821', '43822', '43823']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 43819:43819 -p 43820:43820 -p 43821:43821 -p 43822:43822 -p 43823:43823 quay.io/wakuorg/nwaku-pr:3267 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=43821 --rest-port=43819 --tcp-port=43820 --discv5-udp-port=43822 --rest-address=0.0.0.0 --nat=extip:172.18.130.29 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=aae3aef917d103a3cfa1eebcbdf96bc0dcc6fde9bd8c876685a3a0ffd22522ad --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=43823 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QAl6MtRc_GVLTG-Nb7OXudXHXIUX-3D_7md3LKq8RC0RUHCMdbEdjmD9cRHQ2DJ9jD9YeNWZh11JdTSYqLptFz4CgmlkgnY0gmlwhKwSlaaKbXVsdGlhZGRyc5YACASsEpWmBvONAAoErBKVpgbzjt0DgnJzhQADAQAAiXNlY3AyNTZrMaECaFj6Ie_0jZ03wvNc1u2rzqKJvaiQLNJ7C3XwGi0Qzt-DdGNwgvONg3VkcILzj4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.130.29 waku 5b60a65ecce4e7d24cf11e273b130cdcde6c115b8b96dd0a926bd083d7054c59
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 5b60a65ecce4. Setting up logs at ./log/docker/node2_2025-01-31_15-43-21__7cc3bb14-0335-44a9-bd05-5c98d112f673__quay.io_wakuorg_nwaku-pr:3267.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3267. REST: 43819
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43819/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43819/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.130.29/tcp/43820/p2p/16Uiu2HAm1bLrQSrZ1U2aUCePRV2m7sm5zNprAMkGXnzXwTvFLs8W","/ip4/172.18.130.29/tcp/43821/ws/p2p/16Uiu2HAm1bLrQSrZ1U2aUCePRV2m7sm5zNprAMkGXnzXwTvFLs8W"],"enrUri":"enr:-L24QCnwNRTTT_-hj5bOIWu0BWiR_SNWUPaTKm0VYofhuUwVUzFwiqh2_Yc7ZIOOsW59vSMpfJ8FoBAaZioWsHCA3T0CgmlkgnY0gmlwhKwSgh2KbXVsdGlhZGRyc5YACASsEoIdBqssAAoErBKCHQarLd0DgnJzhQADAQAAiXNlY3AyNTZrMaECW6BNX825QGGjgbDBnzJqdUHQVAkKtRO8VB1PMMrJajODdGNwgqssg3VkcIKrLoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43819/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.149.166/tcp/62349/p2p/16Uiu2HAm2T159ds7zSGTETQGXUNngX3xjE2Y3HmitaSKwt7SXnfp"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3267
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2025-01-31_15-43-21__7cc3bb14-0335-44a9-bd05-5c98d112f673__quay.io_wakuorg_nwaku-pr:3267.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.179.123
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['41179', '41180', '41181', '41182', '41183']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 41179:41179 -p 41180:41180 -p 41181:41181 -p 41182:41182 -p 41183:41183 quay.io/wakuorg/nwaku-pr:3267 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=41181 --rest-port=41179 --tcp-port=41180 --discv5-udp-port=41182 --rest-address=0.0.0.0 --nat=extip:172.18.179.123 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6f5ce83bc32f83c202fdbea5fed2a97ffbedc0cf7cdd8fbf6dc7cb7ddbcbc18d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=41183 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QAl6MtRc_GVLTG-Nb7OXudXHXIUX-3D_7md3LKq8RC0RUHCMdbEdjmD9cRHQ2DJ9jD9YeNWZh11JdTSYqLptFz4CgmlkgnY0gmlwhKwSlaaKbXVsdGlhZGRyc5YACASsEpWmBvONAAoErBKVpgbzjt0DgnJzhQADAQAAiXNlY3AyNTZrMaECaFj6Ie_0jZ03wvNc1u2rzqKJvaiQLNJ7C3XwGi0Qzt-DdGNwgvONg3VkcILzj4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.179.123 waku ccdb46db8e6ab0b27e218d00a150db6c8568474296dc09e6efa1e10584387bb2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID ccdb46db8e6a. Setting up logs at ./log/docker/node3_2025-01-31_15-43-21__7cc3bb14-0335-44a9-bd05-5c98d112f673__quay.io_wakuorg_nwaku-pr:3267.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3267. REST: 41179
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41179/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41179/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.179.123/tcp/41180/p2p/16Uiu2HAm6ccEzFidmJsiZ5W9UD2ocXPZXu7fquQB1YZtit9MBmw8","/ip4/172.18.179.123/tcp/41181/ws/p2p/16Uiu2HAm6ccEzFidmJsiZ5W9UD2ocXPZXu7fquQB1YZtit9MBmw8"],"enrUri":"enr:-L24QN-EfXinAx-woC1Awgsx6h5u2_ybD0aofRt_qtHsYOmvV4K7MTLMJ7I2gCZvWEfjHWAkLqRgV6MOFKtI5_xx2_ECgmlkgnY0gmlwhKwSs3uKbXVsdGlhZGRyc5YACASsErN7BqDcAAoErBKzewag3d0DgnJzhQADAQAAiXNlY3AyNTZrMaECpj237uZ-fYyaqPk1-0eZmxdcak8-bfI0JLxdSV5BYoODdGNwgqDcg3VkcIKg3oV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41179/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.149.166/tcp/62349/p2p/16Uiu2HAm2T159ds7zSGTETQGXUNngX3xjE2Y3HmitaSKwt7SXnfp"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3267
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2025-01-31_15-43-21__7cc3bb14-0335-44a9-bd05-5c98d112f673__quay.io_wakuorg_nwaku-pr:3267.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.243.203
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['10775', '10776', '10777', '10778', '10779']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 10775:10775 -p 10776:10776 -p 10777:10777 -p 10778:10778 -p 10779:10779 quay.io/wakuorg/nwaku-pr:3267 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=10777 --rest-port=10775 --tcp-port=10776 --discv5-udp-port=10778 --rest-address=0.0.0.0 --nat=extip:172.18.243.203 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0d34f1ff05e6aeaa9ebb298fc4c4afd2aede1689a1bcc7aaabedcf2c9279b56d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=10779 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QAl6MtRc_GVLTG-Nb7OXudXHXIUX-3D_7md3LKq8RC0RUHCMdbEdjmD9cRHQ2DJ9jD9YeNWZh11JdTSYqLptFz4CgmlkgnY0gmlwhKwSlaaKbXVsdGlhZGRyc5YACASsEpWmBvONAAoErBKVpgbzjt0DgnJzhQADAQAAiXNlY3AyNTZrMaECaFj6Ie_0jZ03wvNc1u2rzqKJvaiQLNJ7C3XwGi0Qzt-DdGNwgvONg3VkcILzj4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.243.203 waku 69dc019ca5da66753ea9895647cd8e57161f2139114aeda3a8ec6c299a4d1a12
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 69dc019ca5da. Setting up logs at ./log/docker/node4_2025-01-31_15-43-21__7cc3bb14-0335-44a9-bd05-5c98d112f673__quay.io_wakuorg_nwaku-pr:3267.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3267. REST: 10775
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10775/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10775/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.243.203/tcp/10776/p2p/16Uiu2HAmMQZ7HYCfaoThU8QVG7A7JjrRYqWWRugTK2hH6FjLAjzL","/ip4/172.18.243.203/tcp/10777/ws/p2p/16Uiu2HAmMQZ7HYCfaoThU8QVG7A7JjrRYqWWRugTK2hH6FjLAjzL"],"enrUri":"enr:-L24QIk--09vwr7jKqfAlNIqDDTPVE66_3YHljg3s6D2Y7u0M7E0Ly7ljwaZELR4in3Ss5u9n9jui7eLAglk8f_98v4CgmlkgnY0gmlwhKwS88uKbXVsdGlhZGRyc5YACASsEvPLBioYAAoErBLzywYqGd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDggaCqo_6pyx0pkiF3MjmAPW_HlmZn9ZahsCC-vDypL2DdGNwgioYg3VkcIIqGoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10775/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.149.166/tcp/62349/p2p/16Uiu2HAm2T159ds7zSGTETQGXUNngX3xjE2Y3HmitaSKwt7SXnfp"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3267
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2025-01-31_15-43-21__7cc3bb14-0335-44a9-bd05-5c98d112f673__quay.io_wakuorg_nwaku-pr:3267.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.31.181
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['42438', '42439', '42440', '42441', '42442']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 42438:42438 -p 42439:42439 -p 42440:42440 -p 42441:42441 -p 42442:42442 quay.io/wakuorg/nwaku-pr:3267 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=42440 --rest-port=42438 --tcp-port=42439 --discv5-udp-port=42441 --rest-address=0.0.0.0 --nat=extip:172.18.31.181 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c0c2ae17edcfae511e0e51f90b5a1ae5f4c7a2a1a379d1a0290d5eded0fa8a3a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=42442 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QAl6MtRc_GVLTG-Nb7OXudXHXIUX-3D_7md3LKq8RC0RUHCMdbEdjmD9cRHQ2DJ9jD9YeNWZh11JdTSYqLptFz4CgmlkgnY0gmlwhKwSlaaKbXVsdGlhZGRyc5YACASsEpWmBvONAAoErBKVpgbzjt0DgnJzhQADAQAAiXNlY3AyNTZrMaECaFj6Ie_0jZ03wvNc1u2rzqKJvaiQLNJ7C3XwGi0Qzt-DdGNwgvONg3VkcILzj4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.31.181 waku 233e51eab72559d2295885ea016055d62bc033c035dd3c93d0a05bb54a7535ca
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 233e51eab725. Setting up logs at ./log/docker/node5_2025-01-31_15-43-21__7cc3bb14-0335-44a9-bd05-5c98d112f673__quay.io_wakuorg_nwaku-pr:3267.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3267. REST: 42438
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42438/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42438/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.31.181/tcp/42439/p2p/16Uiu2HAmHNZhtsTTcsuvUQx3HFptp62dGXoEs2RLZaLhex39A3ZQ","/ip4/172.18.31.181/tcp/42440/ws/p2p/16Uiu2HAmHNZhtsTTcsuvUQx3HFptp62dGXoEs2RLZaLhex39A3ZQ"],"enrUri":"enr:-L24QJyrxIg5EKwHTKnm1cw7rs4zeCXIL8W2UGFDy88YjfTVZRi2nprcMquqmfYWpktHj7l97B7cI0tCYfa2qXzhfdECgmlkgnY0gmlwhKwSH7WKbXVsdGlhZGRyc5YACASsEh-1BqXHAAoErBIftQalyN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDRhVGmmdOZ2NxUKFq0EQAFbi5O7rYkmwx3Aj6fTdiZweDdGNwgqXHg3VkcIKlyYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42438/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.149.166/tcp/62349/p2p/16Uiu2HAm2T159ds7zSGTETQGXUNngX3xjE2Y3HmitaSKwt7SXnfp"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62348/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43819/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62348/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3267 can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62348/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738338208417688576,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3267 can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43819/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738338208417688576,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62348/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3267 can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41179/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:41179/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1. Response content: b''
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id f7c65dc5d8e4
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 5b60a65ecce4
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container f7c65dc5d8e4. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id ccdb46db8e6a
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 5b60a65ecce4. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 69dc019ca5da
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container ccdb46db8e6a. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 233e51eab725
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.