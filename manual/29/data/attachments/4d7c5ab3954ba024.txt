[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_relay_unsubscribe_with_invalid_pubsub_topic_format with id: 2025-01-31_15-44-21__1b483eeb-a5db-4d80-b83b-12c1ebc9615e
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3267
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-01-31_15-44-21__1b483eeb-a5db-4d80-b83b-12c1ebc9615e__quay.io_wakuorg_nwaku-pr:3267.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.153.49
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['26771', '26772', '26773', '26774', '26775']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 26771:26771 -p 26772:26772 -p 26773:26773 -p 26774:26774 -p 26775:26775 quay.io/wakuorg/nwaku-pr:3267 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=26773 --rest-port=26771 --tcp-port=26772 --discv5-udp-port=26774 --rest-address=0.0.0.0 --nat=extip:172.18.153.49 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8d3ace79ce600cffb0cde0bfe72cb7fecc3bd9fc0460d62256c87f449ec94ef6 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=26775 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.153.49 waku c5a8f426a78233f4a7b08ec0e3938c5102972a0f76ee69cdafd9be805a2345bd
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID c5a8f426a782. Setting up logs at ./log/docker/node1_2025-01-31_15-44-21__1b483eeb-a5db-4d80-b83b-12c1ebc9615e__quay.io_wakuorg_nwaku-pr:3267.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3267. REST: 26771
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 065f79044545. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26771/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26771/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.153.49/tcp/26772/p2p/16Uiu2HAmKFeMXwVnkQoRw7nDZYRTp5nKbtYooEbWLbTXTutSRapR","/ip4/172.18.153.49/tcp/26773/ws/p2p/16Uiu2HAmKFeMXwVnkQoRw7nDZYRTp5nKbtYooEbWLbTXTutSRapR"],"enrUri":"enr:-L24QCPfbHqZ148l0RoPjhFOtKLhLZ-dozSKqpdR5VSafJfpOUxN4wWQNH1HgXzDqJGzWMgEGBEP1fWiv-FGB9jLOhkCgmlkgnY0gmlwhKwSmTGKbXVsdGlhZGRyc5YACASsEpkxBmiUAAoErBKZMQZold0DgnJzhQADAQAAiXNlY3AyNTZrMaEDYgbXL3QvpxFfiF22MLqTjDBBoD6EYzN7kVk1oJ9yLZKDdGNwgmiUg3VkcIJoloV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3267
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-01-31_15-44-21__1b483eeb-a5db-4d80-b83b-12c1ebc9615e__quay.io_wakuorg_nwaku-pr:3267.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.196.77
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['46624', '46625', '46626', '46627', '46628']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 46624:46624 -p 46625:46625 -p 46626:46626 -p 46627:46627 -p 46628:46628 quay.io/wakuorg/nwaku-pr:3267 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=46626 --rest-port=46624 --tcp-port=46625 --discv5-udp-port=46627 --rest-address=0.0.0.0 --nat=extip:172.18.196.77 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=54f9efc4bbf549e1e5e2a2c2de7ffffdedfde85fcabcccdac7117eb973afc2ec --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=46628 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QCPfbHqZ148l0RoPjhFOtKLhLZ-dozSKqpdR5VSafJfpOUxN4wWQNH1HgXzDqJGzWMgEGBEP1fWiv-FGB9jLOhkCgmlkgnY0gmlwhKwSmTGKbXVsdGlhZGRyc5YACASsEpkxBmiUAAoErBKZMQZold0DgnJzhQADAQAAiXNlY3AyNTZrMaEDYgbXL3QvpxFfiF22MLqTjDBBoD6EYzN7kVk1oJ9yLZKDdGNwgmiUg3VkcIJoloV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.196.77 waku c11432a1cf23e0dcafe28dfb24c3a681cc120d1250fe286c81ea05173d773a16
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID c11432a1cf23. Setting up logs at ./log/docker/node2_2025-01-31_15-44-21__1b483eeb-a5db-4d80-b83b-12c1ebc9615e__quay.io_wakuorg_nwaku-pr:3267.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3267. REST: 46624
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46624/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46624/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.196.77/tcp/46625/p2p/16Uiu2HAkwwH4x8GHQYitUDcvtbfyVUXFmMsK7trqSxdrFAobrt46","/ip4/172.18.196.77/tcp/46626/ws/p2p/16Uiu2HAkwwH4x8GHQYitUDcvtbfyVUXFmMsK7trqSxdrFAobrt46"],"enrUri":"enr:-L24QACqfKs_ZyqhHbgB5p2AiCimzG1lVTaTz0BoZALGyKu8JfUmCwkwc6-HJQP6b6T6A8LaxSxqPYziBLxYQirpfhgCgmlkgnY0gmlwhKwSxE2KbXVsdGlhZGRyc5YACASsEsRNBrYhAAoErBLETQa2It0DgnJzhQADAQAAiXNlY3AyNTZrMaECJUzkelLacbw_q0F-UYdJSVrTEaza1DxO_yMSP3IHR6eDdGNwgrYhg3VkcIK2I4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46624/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.153.49/tcp/26772/p2p/16Uiu2HAmKFeMXwVnkQoRw7nDZYRTp5nKbtYooEbWLbTXTutSRapR"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m tests.relay.test_subscribe:test_subscribe.py:90 Running test with payload /test/2/rs/0/1
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:26771/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/test/2/rs/0/1"'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:26771/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.relay.test_subscribe:test_subscribe.py:90 Running test with payload /waku/3/rs/0/1
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:26771/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/3/rs/0/1"'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:26771/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.relay.test_subscribe:test_subscribe.py:90 Running test with payload /waku/2/test/0/1
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:26771/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/2/test/0/1"'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:26771/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.relay.test_subscribe:test_subscribe.py:90 Running test with payload /waku/2/rs/3/b
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:26771/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/2/rs/3/b"'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:26771/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.relay.test_subscribe:test_subscribe.py:90 Running test with payload /waku/2/rs/0
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:26771/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/2/rs/0"'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:26771/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id c5a8f426a782
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id c11432a1cf23
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container c5a8f426a782. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.