[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_time_filter_small_timestamp with id: 2025-01-31_15-45-07__d536a56f-8908-4893-b4d1-990e380f2b46
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3267
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-01-31_15-45-07__d536a56f-8908-4893-b4d1-990e380f2b46__quay.io_wakuorg_nwaku-pr:3267.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.174.248
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['64406', '64407', '64408', '64409', '64410']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 64406:64406 -p 64407:64407 -p 64408:64408 -p 64409:64409 -p 64410:64410 quay.io/wakuorg/nwaku-pr:3267 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=64408 --rest-port=64406 --tcp-port=64407 --discv5-udp-port=64409 --rest-address=0.0.0.0 --nat=extip:172.18.174.248 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1c39def4eebfaf6b951a7a61adad4f18bdae037fd045e8eacf473aae92a24cee --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=64410 --metrics-logging=true --store=true --relay=true
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 41599d18b330. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.174.248 waku 10428c893fef4be57d363c75a30fdfa76a5b3e65df96354df8c15923d333e2b1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 10428c893fef. Setting up logs at ./log/docker/publishing_node1_2025-01-31_15-45-07__d536a56f-8908-4893-b4d1-990e380f2b46__quay.io_wakuorg_nwaku-pr:3267.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3267. REST: 64406
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 4112d95616d8. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64406/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64406/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.174.248/tcp/64407/p2p/16Uiu2HAm62fVViDzorB5A2YN7cRGgwYZRT58ZMCNsoY3kxut5hr2","/ip4/172.18.174.248/tcp/64408/ws/p2p/16Uiu2HAm62fVViDzorB5A2YN7cRGgwYZRT58ZMCNsoY3kxut5hr2"],"enrUri":"enr:-L24QK_s0z96WZhPXfS8omzdkzfyb6f8tg-AaZ66AAs0h7HOJmp9SobjLndk1Kty43sVzLqjl2JYqDuOlH-4nEmiZHwCgmlkgnY0gmlwhKwSrviKbXVsdGlhZGRyc5YACASsEq74BvuXAAoErBKu-Ab7mN0DgnJzhQADAQAAiXNlY3AyNTZrMaECnYulWxGnlbh6IJ9dxoap7RtU0lahy3-hkOPHr9fVu0uDdGNwgvuXg3VkcIL7mYV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3267
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2025-01-31_15-45-07__d536a56f-8908-4893-b4d1-990e380f2b46__quay.io_wakuorg_nwaku-pr:3267.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.68.140
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['14276', '14277', '14278', '14279', '14280']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 14276:14276 -p 14277:14277 -p 14278:14278 -p 14279:14279 -p 14280:14280 quay.io/wakuorg/nwaku-pr:3267 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=14278 --rest-port=14276 --tcp-port=14277 --discv5-udp-port=14279 --rest-address=0.0.0.0 --nat=extip:172.18.68.140 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f2c7ce85df02f86bbd6a2f40f8bc1cd05ad2cde95efa9ecbc9e41da3c53ae6a4 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=14280 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QK_s0z96WZhPXfS8omzdkzfyb6f8tg-AaZ66AAs0h7HOJmp9SobjLndk1Kty43sVzLqjl2JYqDuOlH-4nEmiZHwCgmlkgnY0gmlwhKwSrviKbXVsdGlhZGRyc5YACASsEq74BvuXAAoErBKu-Ab7mN0DgnJzhQADAQAAiXNlY3AyNTZrMaECnYulWxGnlbh6IJ9dxoap7RtU0lahy3-hkOPHr9fVu0uDdGNwgvuXg3VkcIL7mYV3YWt1MgM --storenode=/ip4/172.18.174.248/tcp/64407/p2p/16Uiu2HAm62fVViDzorB5A2YN7cRGgwYZRT58ZMCNsoY3kxut5hr2 --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.68.140 waku 3bc51468adf6db560722e192a64958803a9d942026760321f6651bbaf2602f37
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 3bc51468adf6. Setting up logs at ./log/docker/store_node1_2025-01-31_15-45-07__d536a56f-8908-4893-b4d1-990e380f2b46__quay.io_wakuorg_nwaku-pr:3267.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3267. REST: 14276
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14276/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14276/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.68.140/tcp/14277/p2p/16Uiu2HAmR2qhqn2ataJw7qUrF9d9NXhyFgCvfyA54cReAbdVnRsX","/ip4/172.18.68.140/tcp/14278/ws/p2p/16Uiu2HAmR2qhqn2ataJw7qUrF9d9NXhyFgCvfyA54cReAbdVnRsX"],"enrUri":"enr:-L24QI_wblPDiHpVbAJFROoShbZLwt1yRoBgUg-zk3Q9YXe8P_IkrMA0u4Rj2fYpsChmYwGWtQVIOt8Orj7DEePYuBwCgmlkgnY0gmlwhKwSRIyKbXVsdGlhZGRyc5YACASsEkSMBjfFAAoErBJEjAY3xt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDt-U-yBf85jky0NNWI8I-SaVyLLp6Acyb_p4wGq0RRBqDdGNwgjfFg3VkcII3x4V3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14276/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.174.248/tcp/64407/p2p/16Uiu2HAm62fVViDzorB5A2YN7cRGgwYZRT58ZMCNsoY3kxut5hr2"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:64406/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14276/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:64406/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:64406/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:64406/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:64406/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:64406/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:64406/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:225 inquering stored messages with start time 1738338316343350784 after end time 1738338329343365889
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64406/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1738338316343350784&endTime=1738338329343365889&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x2bee36489969e521a34cc5b212b3582f468a40fc40d3d26914b9e47c4eb285c6","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738338316343350784,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0x73837f6012bbe5bc1faadac654bfc5a53b6264c7a71909f1089ea4a5d4d3a036","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738338318343357952,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0x25ca445b79b274d19eca47a6f74c20fdfd6b8f09cbd03b278ac5bd147f78313c","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738338319243360000,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0x84931bdfc1262f97f12706476bf0f0aead160de93d962f3e6339f45e8ba30df4","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738338319443363072,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0xe3c4c648e0c6bf00caf0a876ec598e5cf6edfb24e584519f073e7b8b5eaac2e8","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738338321343364096,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0x6dd5bfd00204c685bba5024608d1bf579720d711be0c19af31362ca634571f37","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738338329343365888,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"}]}'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:228 number of messages stored for start time 1738338316343350784 and end time = 1738338329343365889 is  6
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14276/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1738338316343350784&endTime=1738338329343365889&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x2bee36489969e521a34cc5b212b3582f468a40fc40d3d26914b9e47c4eb285c6","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738338316343350784,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0x73837f6012bbe5bc1faadac654bfc5a53b6264c7a71909f1089ea4a5d4d3a036","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738338318343357952,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0x25ca445b79b274d19eca47a6f74c20fdfd6b8f09cbd03b278ac5bd147f78313c","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738338319243360000,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0x84931bdfc1262f97f12706476bf0f0aead160de93d962f3e6339f45e8ba30df4","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738338319443363072,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0xe3c4c648e0c6bf00caf0a876ec598e5cf6edfb24e584519f073e7b8b5eaac2e8","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738338321343364096,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0x6dd5bfd00204c685bba5024608d1bf579720d711be0c19af31362ca634571f37","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738338329343365888,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"}]}'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:228 number of messages stored for start time 1738338316343350784 and end time = 1738338329343365889 is  6
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 10428c893fef
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 3bc51468adf6
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 10428c893fef. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.