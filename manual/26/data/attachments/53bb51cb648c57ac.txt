[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_time_filter_zero_start_time with id: 2025-01-30_12-20-14__b2f16237-ce53-4b1a-ad3a-8336ad466693
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3234
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-01-30_12-20-14__b2f16237-ce53-4b1a-ad3a-8336ad466693__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.3.133
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['61335', '61336', '61337', '61338', '61339']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 61335:61335 -p 61336:61336 -p 61337:61337 -p 61338:61338 -p 61339:61339 quay.io/wakuorg/nwaku-pr:3234 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=61337 --rest-port=61335 --tcp-port=61336 --discv5-udp-port=61338 --rest-address=0.0.0.0 --nat=extip:172.18.3.133 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6c0ee1bf7ea9cfaa02b9dd9504ab62c3fa8e007dce1a5f94cc3df2d5fde8c69b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=61339 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.3.133 waku 43518116e3787e40e100b4722727336ed1f50715425861d75bfc5dea65c4f9d5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 43518116e378. Setting up logs at ./log/docker/publishing_node1_2025-01-30_12-20-14__b2f16237-ce53-4b1a-ad3a-8336ad466693__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3234. REST: 61335
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container de7da820326c. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61335/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61335/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.3.133/tcp/61336/p2p/16Uiu2HAmTTCyb4DJbAzx6b25cXx8mcgZ6W1WKjTFJaWBGvEkSfzw","/ip4/172.18.3.133/tcp/61337/ws/p2p/16Uiu2HAmTTCyb4DJbAzx6b25cXx8mcgZ6W1WKjTFJaWBGvEkSfzw"],"enrUri":"enr:-L24QG5DERFj3796tMlg1KQZe7R9spmI9zvWsBp8r2JrWJHNFtNbAFS9CRaKmEeWhcj2D0YBfsF7GKMAm0xrqSFRotACgmlkgnY0gmlwhKwSA4WKbXVsdGlhZGRyc5YACASsEgOFBu-YAAoErBIDhQbvmd0DgnJzhQADAQAAiXNlY3AyNTZrMaED29qcOc_bxiGLn9lwdpTcccJXTTIOGAUXGref4x4SqfCDdGNwgu-Yg3VkcILvmoV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3234
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2025-01-30_12-20-14__b2f16237-ce53-4b1a-ad3a-8336ad466693__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.84.38
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['5129', '5130', '5131', '5132', '5133']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 5129:5129 -p 5130:5130 -p 5131:5131 -p 5132:5132 -p 5133:5133 quay.io/wakuorg/nwaku-pr:3234 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=5131 --rest-port=5129 --tcp-port=5130 --discv5-udp-port=5132 --rest-address=0.0.0.0 --nat=extip:172.18.84.38 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=37cceafb1457a6e654a425942ba03caa16effdff79acdd41cbdbac4f15c70c42 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=5133 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QG5DERFj3796tMlg1KQZe7R9spmI9zvWsBp8r2JrWJHNFtNbAFS9CRaKmEeWhcj2D0YBfsF7GKMAm0xrqSFRotACgmlkgnY0gmlwhKwSA4WKbXVsdGlhZGRyc5YACASsEgOFBu-YAAoErBIDhQbvmd0DgnJzhQADAQAAiXNlY3AyNTZrMaED29qcOc_bxiGLn9lwdpTcccJXTTIOGAUXGref4x4SqfCDdGNwgu-Yg3VkcILvmoV3YWt1MgM --storenode=/ip4/172.18.3.133/tcp/61336/p2p/16Uiu2HAmTTCyb4DJbAzx6b25cXx8mcgZ6W1WKjTFJaWBGvEkSfzw --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.84.38 waku 211415e2b0121eaa97306ae1ab32538f04389082c6eb2e04cd9dc50d274251d3
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 211415e2b012. Setting up logs at ./log/docker/store_node1_2025-01-30_12-20-14__b2f16237-ce53-4b1a-ad3a-8336ad466693__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3234. REST: 5129
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5129/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5129/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.84.38/tcp/5130/p2p/16Uiu2HAmLmG3vuswbKM5aVqZedzDbG7aQfa6e7Jwjqd756vH7zT1","/ip4/172.18.84.38/tcp/5131/ws/p2p/16Uiu2HAmLmG3vuswbKM5aVqZedzDbG7aQfa6e7Jwjqd756vH7zT1"],"enrUri":"enr:-L24QDIa4_189D6VN_EPaqfBe8YwarhQMb4O9hBifM44tCiYXDR_IeBeWj8ky4fDB5xtpyN4WQYcPO9JRRB4PBKwMCkCgmlkgnY0gmlwhKwSVCaKbXVsdGlhZGRyc5YACASsElQmBhQKAAoErBJUJgYUC90DgnJzhQADAQAAiXNlY3AyNTZrMaEDeHi7rHkP0KtCE5IQPZjpWDifORiD2cs3bjs6jfvZYjiDdGNwghQKg3VkcIIUDIV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5129/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.3.133/tcp/61336/p2p/16Uiu2HAmTTCyb4DJbAzx6b25cXx8mcgZ6W1WKjTFJaWBGvEkSfzw"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61335/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5129/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61335/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61335/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61335/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61335/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61335/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61335/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:146 inquering stored messages with start time 0
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61335/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xa08bb4b1488626f467909aadd930a9f6a4d6d2db9c2d71faa978ef7ec12ba12e","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738239623035862016,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0xa266d9e50259dd36f2b9a9b82e8be26df0457f60bf246297b95064d64029a944","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738239625035868928,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0xd7af183ffb616f1b18290cc2f7bd1c43b8c189f43b2fe4606a5503846d7f40d7","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738239625935870976,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0xfd25b8bba30b029448d578b11259b3f9df763f3d431366d448f817e51748ed3f","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738239626135873024,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0xd2dafd2c5df251f3f7df6906b190db75419aa1df08e022e10172c9c277ee7a31","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738239628035875072,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0x94066055ff4dca0f8331b392d0a60a81454b7bd5c7d8fa16aaf2f8c47e5e0ecb","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738239636035876096,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"}]}'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:149 number of messages stored for  start time = 0 is  6
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5129/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=0&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xa08bb4b1488626f467909aadd930a9f6a4d6d2db9c2d71faa978ef7ec12ba12e","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738239623035862016,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0xa266d9e50259dd36f2b9a9b82e8be26df0457f60bf246297b95064d64029a944","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738239625035868928,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0xd7af183ffb616f1b18290cc2f7bd1c43b8c189f43b2fe4606a5503846d7f40d7","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738239625935870976,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0xfd25b8bba30b029448d578b11259b3f9df763f3d431366d448f817e51748ed3f","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738239626135873024,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0xd2dafd2c5df251f3f7df6906b190db75419aa1df08e022e10172c9c277ee7a31","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738239628035875072,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"0x94066055ff4dca0f8331b392d0a60a81454b7bd5c7d8fa16aaf2f8c47e5e0ecb","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738239636035876096,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"}]}'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:149 number of messages stored for  start time = 0 is  6
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 43518116e378
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 211415e2b012
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 43518116e378. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.