[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_time_filter_matches_multiple_messages with id: 2025-01-30_12-21-51__c1036b4c-4a06-46fd-834a-85863ec292b1
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3234
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-01-30_12-21-51__c1036b4c-4a06-46fd-834a-85863ec292b1__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.223.77
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['19954', '19955', '19956', '19957', '19958']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 19954:19954 -p 19955:19955 -p 19956:19956 -p 19957:19957 -p 19958:19958 quay.io/wakuorg/nwaku-pr:3234 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=19956 --rest-port=19954 --tcp-port=19955 --discv5-udp-port=19957 --rest-address=0.0.0.0 --nat=extip:172.18.223.77 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8d32ec810262b91c2a56a3aca2915d25daeafafb168ce53b721ba95fdf4b7326 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=19958 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.223.77 waku 1f217dc96f400b5d9603561915e5289b18aeb709d8ebf5cedc875f64d1141b78
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 1f217dc96f40. Setting up logs at ./log/docker/publishing_node1_2025-01-30_12-21-51__c1036b4c-4a06-46fd-834a-85863ec292b1__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3234. REST: 19954
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container f6a0ef9c13d0. Exiting log stream.
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 96744965940d. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19954/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19954/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.223.77/tcp/19955/p2p/16Uiu2HAmGFKqbw1nmkSycfw3Sb7wB1K474sGi7mZeU8SCYsYwmeC","/ip4/172.18.223.77/tcp/19956/ws/p2p/16Uiu2HAmGFKqbw1nmkSycfw3Sb7wB1K474sGi7mZeU8SCYsYwmeC"],"enrUri":"enr:-L24QGscgD2HaTZkSLYV15R1xF-XIUvNSfcQkHb1pVDzCPdRQp47BR5AqiVaQnCuZsVpWi1insX4E4aXOERt03DkSLYCgmlkgnY0gmlwhKwS302KbXVsdGlhZGRyc5YACASsEt9NBk3zAAoErBLfTQZN9N0DgnJzhQADAQAAiXNlY3AyNTZrMaEDNV7X92gxTe16hehZP-kh5YhF5Xy50iFpOH0UCS6vFX2DdGNwgk3zg3VkcIJN9YV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3234
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2025-01-30_12-21-51__c1036b4c-4a06-46fd-834a-85863ec292b1__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.31.153
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['10698', '10699', '10700', '10701', '10702']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 10698:10698 -p 10699:10699 -p 10700:10700 -p 10701:10701 -p 10702:10702 quay.io/wakuorg/nwaku-pr:3234 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=10700 --rest-port=10698 --tcp-port=10699 --discv5-udp-port=10701 --rest-address=0.0.0.0 --nat=extip:172.18.31.153 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=854e62bf01aedb53a0c9af7b57bff6c7ebe2dec03f4bc7d9810b4eb3041a1ffe --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=10702 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QGscgD2HaTZkSLYV15R1xF-XIUvNSfcQkHb1pVDzCPdRQp47BR5AqiVaQnCuZsVpWi1insX4E4aXOERt03DkSLYCgmlkgnY0gmlwhKwS302KbXVsdGlhZGRyc5YACASsEt9NBk3zAAoErBLfTQZN9N0DgnJzhQADAQAAiXNlY3AyNTZrMaEDNV7X92gxTe16hehZP-kh5YhF5Xy50iFpOH0UCS6vFX2DdGNwgk3zg3VkcIJN9YV3YWt1MgM --storenode=/ip4/172.18.223.77/tcp/19955/p2p/16Uiu2HAmGFKqbw1nmkSycfw3Sb7wB1K474sGi7mZeU8SCYsYwmeC --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.31.153 waku 4a708c46ed2f1272c57bf2816e730d374fd0a55c82e221ffd67feb4682824ec3
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 4a708c46ed2f. Setting up logs at ./log/docker/store_node1_2025-01-30_12-21-51__c1036b4c-4a06-46fd-834a-85863ec292b1__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3234. REST: 10698
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10698/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10698/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.31.153/tcp/10699/p2p/16Uiu2HAm4qjSg8XbDTw4GuKWTLwBHBAG863rGcpjpVXhBkQMJ2FJ","/ip4/172.18.31.153/tcp/10700/ws/p2p/16Uiu2HAm4qjSg8XbDTw4GuKWTLwBHBAG863rGcpjpVXhBkQMJ2FJ"],"enrUri":"enr:-L24QH2KG7YGaKNEf1Y59mOdmchimN_GovUiwq0L5Tt9fBOIUT0qFyOBa3xC_CeqzftjagCThV5JxcC7rI3jF0JnpMoCgmlkgnY0gmlwhKwSH5mKbXVsdGlhZGRyc5YACASsEh-ZBinLAAoErBIfmQYpzN0DgnJzhQADAQAAiXNlY3AyNTZrMaECi-MJtYxNCkkExExAasXJ_ZOXCh_eevFwap9pQps5FWmDdGNwginLg3VkcIIpzYV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10698/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.223.77/tcp/19955/p2p/16Uiu2HAmGFKqbw1nmkSycfw3Sb7wB1K474sGi7mZeU8SCYsYwmeC"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19954/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10698/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19954/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19954/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19954/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19954/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19954/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19954/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.2 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19954/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1738239719970465120&endTime=1738239724970677920&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xd806b06fbfa6a8e9c41bc713ac1d3f99299c048e22b54e56dd1b0ba86786a1ed"},{"messageHash":"0xbdb8d8733d302447be2d2bcd73aaf40dba2898a18b336c682524626fabb05c48"},{"messageHash":"0x9117524a01b1ef715666170218e33c1aa0278115094334963073f3646d58e195"},{"messageHash":"0xd0a091618d4b3a1227674847c8f6031d2cf590bd4aa8654bad9b2caadc28b63a"},{"messageHash":"0x1ebf58172cb325fa26eaa2a07f06ee8812d60f0c9cc92e30392f1644f31989db"}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10698/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1738239719970465120&endTime=1738239724970677920&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xd806b06fbfa6a8e9c41bc713ac1d3f99299c048e22b54e56dd1b0ba86786a1ed"},{"messageHash":"0xbdb8d8733d302447be2d2bcd73aaf40dba2898a18b336c682524626fabb05c48"},{"messageHash":"0x9117524a01b1ef715666170218e33c1aa0278115094334963073f3646d58e195"},{"messageHash":"0xd0a091618d4b3a1227674847c8f6031d2cf590bd4aa8654bad9b2caadc28b63a"},{"messageHash":"0x1ebf58172cb325fa26eaa2a07f06ee8812d60f0c9cc92e30392f1644f31989db"}]}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 1f217dc96f40
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 4a708c46ed2f
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 1f217dc96f40. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.