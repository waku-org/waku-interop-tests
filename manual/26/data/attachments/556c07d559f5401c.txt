[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_light_push_with_extra_field with id: 2025-01-30_12-18-10__4c14de59-b3ce-4264-8214-5147729ab739
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:28 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3234
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2025-01-30_12-18-10__4c14de59-b3ce-4264-8214-5147729ab739__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.218.91
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['25761', '25762', '25763', '25764', '25765']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 25761:25761 -p 25762:25762 -p 25763:25763 -p 25764:25764 -p 25765:25765 quay.io/wakuorg/nwaku-pr:3234 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=25763 --rest-port=25761 --tcp-port=25762 --discv5-udp-port=25764 --rest-address=0.0.0.0 --nat=extip:172.18.218.91 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=caef090e1542ba806d4e0ded14b2a5c5dd4bcaf3b603a607a88ca4e7b6e4b863 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=25765 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.218.91 waku 3fab5a6c98e3c82d8df0e04583f104cd04cbcd9f5dbca5a48f11f6122bdc6f5d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 3fab5a6c98e3. Setting up logs at ./log/docker/receiving_node1_2025-01-30_12-18-10__4c14de59-b3ce-4264-8214-5147729ab739__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3234. REST: 25761
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container b6f8c33ef166. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25761/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25761/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.218.91/tcp/25762/p2p/16Uiu2HAmNtNqac6UUVRqQDdpdAduP7PLBU8cMocZXTHGm7BdNs8r","/ip4/172.18.218.91/tcp/25763/ws/p2p/16Uiu2HAmNtNqac6UUVRqQDdpdAduP7PLBU8cMocZXTHGm7BdNs8r"],"enrUri":"enr:-L24QMXVRMI2M_HiyeMqtSHktZuRP0a72UzwfOeGzlYZ3FhiJiqvKGr44ck4fHBM6wQAzVYPvNY9aHlBWWk0I3ZtyFcCgmlkgnY0gmlwhKwS2luKbXVsdGlhZGRyc5YACASsEtpbBmSiAAoErBLaWwZko90DgnJzhQADAQAAiXNlY3AyNTZrMaEDmALYxm6Evi7nDRRENKgKgrxc8TM4HqfaWFt37pDlgReDdGNwgmSig3VkcIJkpIV3YWt1Mgk"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3234
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2025-01-30_12-18-10__4c14de59-b3ce-4264-8214-5147729ab739__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.73.125
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['27555', '27556', '27557', '27558', '27559']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 27555:27555 -p 27556:27556 -p 27557:27557 -p 27558:27558 -p 27559:27559 quay.io/wakuorg/nwaku-pr:3234 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=27557 --rest-port=27555 --tcp-port=27556 --discv5-udp-port=27558 --rest-address=0.0.0.0 --nat=extip:172.18.73.125 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=710c8dd30c6e1c7d6acadb19fc5fbd5a24cbbda4fb7fc1bdf2eebaec8e19ac67 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=27559 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.73.125 waku 9aad16d722606c83822e2d35f1636f8679855008aed9040156f86107cb90c60d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 9aad16d72260. Setting up logs at ./log/docker/receiving_node2_2025-01-30_12-18-10__4c14de59-b3ce-4264-8214-5147729ab739__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3234. REST: 27555
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27555/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27555/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.73.125/tcp/27556/p2p/16Uiu2HAm6F8yRdmWH73H2oNusdnYZDWGXfRNMdBVasxqdgstgpTE","/ip4/172.18.73.125/tcp/27557/ws/p2p/16Uiu2HAm6F8yRdmWH73H2oNusdnYZDWGXfRNMdBVasxqdgstgpTE"],"enrUri":"enr:-L24QGPTF7xAAkk0-CSuaH532tTipDWoKR8f6WVZTpY0jjhXT2PoNc2j6Venyu1yeeXYv9ajTlV21Sw0DpSTb18RCT8CgmlkgnY0gmlwhKwSSX2KbXVsdGlhZGRyc5YACASsEkl9BmukAAoErBJJfQZrpd0DgnJzhQADAQAAiXNlY3AyNTZrMaECoL2wacE8DDkUh8x63IqQJ1AxCc2ggCNKh2W6cdUt4tWDdGNwgmukg3VkcIJrpoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27555/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.218.91/tcp/25762/p2p/16Uiu2HAmNtNqac6UUVRqQDdpdAduP7PLBU8cMocZXTHGm7BdNs8r"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3234
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2025-01-30_12-18-10__4c14de59-b3ce-4264-8214-5147729ab739__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.127.136
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['29951', '29952', '29953', '29954', '29955']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 29951:29951 -p 29952:29952 -p 29953:29953 -p 29954:29954 -p 29955:29955 quay.io/wakuorg/nwaku-pr:3234 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=29953 --rest-port=29951 --tcp-port=29952 --discv5-udp-port=29954 --rest-address=0.0.0.0 --nat=extip:172.18.127.136 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fbf5aa43ebfe4d119ebfcfebfeae4309244cec212e5f1dfd3c069fcda2a0ade4 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=29955 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QMXVRMI2M_HiyeMqtSHktZuRP0a72UzwfOeGzlYZ3FhiJiqvKGr44ck4fHBM6wQAzVYPvNY9aHlBWWk0I3ZtyFcCgmlkgnY0gmlwhKwS2luKbXVsdGlhZGRyc5YACASsEtpbBmSiAAoErBLaWwZko90DgnJzhQADAQAAiXNlY3AyNTZrMaEDmALYxm6Evi7nDRRENKgKgrxc8TM4HqfaWFt37pDlgReDdGNwgmSig3VkcIJkpIV3YWt1Mgk --lightpushnode=/ip4/172.18.218.91/tcp/25762/p2p/16Uiu2HAmNtNqac6UUVRqQDdpdAduP7PLBU8cMocZXTHGm7BdNs8r --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.127.136 waku a25c83c8031f84afd96c01503d646e1d525df23a50cbfd755b30268557f45e0d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID a25c83c8031f. Setting up logs at ./log/docker/lightpush_node1_2025-01-30_12-18-10__4c14de59-b3ce-4264-8214-5147729ab739__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3234. REST: 29951
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29951/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29951/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.127.136/tcp/29952/p2p/16Uiu2HAm761iEwayhEE1N8txC8nue64UXyioLVsyEfPZbzK3UPQL","/ip4/172.18.127.136/tcp/29953/ws/p2p/16Uiu2HAm761iEwayhEE1N8txC8nue64UXyioLVsyEfPZbzK3UPQL"],"enrUri":"enr:-L24QE8UaVvmPUSU9IGjZ-neFlh11ZJDQIUTojSOL8PcQKeie220t4ctbxBnP0hRuO_KW5ZlNRfdWyKQ23S-gZCxuoECgmlkgnY0gmlwhKwSf4iKbXVsdGlhZGRyc5YACASsEn-IBnUAAAoErBJ_iAZ1Ad0DgnJzhQADAQAAiXNlY3AyNTZrMaECrULwFLFHqtlAoIQnJGGV6VgM3tAUXPU8AyEMPTNDDTmDdGNwgnUAg3VkcIJ1AoV3YWt1Mgg"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29951/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.218.91/tcp/25762/p2p/16Uiu2HAmNtNqac6UUVRqQDdpdAduP7PLBU8cMocZXTHGm7BdNs8r"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29951/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.73.125/tcp/27556/p2p/16Uiu2HAm6F8yRdmWH73H2oNusdnYZDWGXfRNMdBVasxqdgstgpTE"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:25761/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27555/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.light_push:light_push.py:121 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29951/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1738239494428469760, "extraField": "extraValue"}}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:29951/lightpush/v1/message. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 3fab5a6c98e3
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 9aad16d72260
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 3fab5a6c98e3. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id a25c83c8031f
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 9aad16d72260. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.