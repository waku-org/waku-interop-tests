2025-02-06 15:53:14.394 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-06 15:53:14.394 DEBUG [tests.conftest] Running test: test_get_store_messages_with_different_content_topics with id: 2025-02-06_15-53-14__97d0caac-90e7-4cf7-b597-2e2ddb778efb
2025-02-06 15:53:14.394 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-06 15:53:14.395 DEBUG [src.steps.store] Running fixture setup: store_setup
2025-02-06 15:53:14.395 DEBUG [src.steps.store] Running fixture setup: node_setup
2025-02-06 15:53:14.401 DEBUG [src.node.docker_mananger] Docker client initialized with image quay.io/wakuorg/nwaku-pr:3281
2025-02-06 15:53:14.401 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-06_15-53-14__97d0caac-90e7-4cf7-b597-2e2ddb778efb__quay.io_wakuorg_nwaku-pr:3281.log
2025-02-06 15:53:14.402 DEBUG [src.node.waku_node] Starting Node...
2025-02-06 15:53:14.402 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-06 15:53:14.403 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-06 15:53:14.403 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.213.86
2025-02-06 15:53:14.403 DEBUG [src.node.docker_mananger] Generated ports ['26668', '26669', '26670', '26671', '26672']
2025-02-06 15:53:14.404 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-06 15:53:14.404 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-06 15:53:14.404 DEBUG [src.node.waku_node] Using volumes []
2025-02-06 15:53:14.404 DEBUG [src.node.docker_mananger] docker run -i -t -p 26668:26668 -p 26669:26669 -p 26670:26670 -p 26671:26671 -p 26672:26672 quay.io/wakuorg/nwaku-pr:3281 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=26670 --rest-port=26668 --tcp-port=26669 --discv5-udp-port=26671 --rest-address=0.0.0.0 --nat=extip:172.18.213.86 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a1671edbf0491e9c7ccafcb8b373fbc7facda6c3ec8b536dfeba4482192bee45 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=26672 --metrics-logging=true --store=true --relay=true
2025-02-06 15:53:14.630 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.213.86 waku 6c0d555c45f8d09c6aa0af3765e41d49467a9b3b78f4b0e23d8823a7f66eee6b
2025-02-06 15:53:14.667 ERROR [src.node.docker_mananger] Max retries reached for container 8c64e26383ed. Exiting log stream.
2025-02-06 15:53:14.685 DEBUG [src.node.docker_mananger] Container started with ID 6c0d555c45f8. Setting up logs at ./log/docker/publishing_node1_2025-02-06_15-53-14__97d0caac-90e7-4cf7-b597-2e2ddb778efb__quay.io_wakuorg_nwaku-pr:3281.log
2025-02-06 15:53:14.687 DEBUG [src.node.waku_node] Started container from image quay.io/wakuorg/nwaku-pr:3281. REST: 26668
2025-02-06 15:53:14.687 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-06 15:53:15.180 ERROR [src.node.docker_mananger] Max retries reached for container a459e9bab501. Exiting log stream.
2025-02-06 15:53:15.687 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26668/health" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:53:15.690 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-06 15:53:15.690 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-06 15:53:15.691 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26668/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:53:15.693 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.213.86/tcp/26669/p2p/16Uiu2HAm3MvEd3hFiUkGQUmKfuQDKi7EGUdsZnifPLvmbYqDwd3G","/ip4/172.18.213.86/tcp/26670/ws/p2p/16Uiu2HAm3MvEd3hFiUkGQUmKfuQDKi7EGUdsZnifPLvmbYqDwd3G"],"enrUri":"enr:-L24QNKmCzduT7j_pO-YbOLLJ9XjlNo8dEY6y5Aw-oQ16VJOKuqMspBieXqkqJW9aMZkfqdfHecYIBhjsGE5VF5RV7gCgmlkgnY0gmlwhKwS1VaKbXVsdGlhZGRyc5YACASsEtVWBmgtAAoErBLVVgZoLt0DgnJzhQADAQAAiXNlY3AyNTZrMaECdedKhjmPrzQ3eUTRzLqLUG__lGSKsa5mQnZ39xCb2YODdGNwgmgtg3VkcIJoL4V3YWt1MgM"}'
2025-02-06 15:53:15.693 INFO [src.node.waku_node] REST service is ready !!
2025-02-06 15:53:15.699 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-06 15:53:15.700 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-06_15-53-14__97d0caac-90e7-4cf7-b597-2e2ddb778efb__wakuorg_go-waku:latest.log
2025-02-06 15:53:15.700 DEBUG [src.node.waku_node] Starting Node...
2025-02-06 15:53:15.700 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-06 15:53:15.701 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-06 15:53:15.701 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.187.203
2025-02-06 15:53:15.701 DEBUG [src.node.docker_mananger] Generated ports ['55332', '55333', '55334', '55335', '55336']
2025-02-06 15:53:15.702 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-06 15:53:15.702 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-06 15:53:15.702 DEBUG [src.node.waku_node] Using volumes []
2025-02-06 15:53:15.702 DEBUG [src.node.docker_mananger] docker run -i -t -p 55332:55332 -p 55333:55333 -p 55334:55334 -p 55335:55335 -p 55336:55336 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=55334 --rest-port=55332 --tcp-port=55333 --discv5-udp-port=55335 --rest-address=0.0.0.0 --nat=extip:172.18.187.203 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=da1d4e1e7246e436dc9715959f2ff0eb0dceb4590c04be7b6fdf06cd44e396ea --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-L24QNKmCzduT7j_pO-YbOLLJ9XjlNo8dEY6y5Aw-oQ16VJOKuqMspBieXqkqJW9aMZkfqdfHecYIBhjsGE5VF5RV7gCgmlkgnY0gmlwhKwS1VaKbXVsdGlhZGRyc5YACASsEtVWBmgtAAoErBLVVgZoLt0DgnJzhQADAQAAiXNlY3AyNTZrMaECdedKhjmPrzQ3eUTRzLqLUG__lGSKsa5mQnZ39xCb2YODdGNwgmgtg3VkcIJoL4V3YWt1MgM --storenode=/ip4/172.18.213.86/tcp/26669/p2p/16Uiu2HAm3MvEd3hFiUkGQUmKfuQDKi7EGUdsZnifPLvmbYqDwd3G --store=true --relay=true
2025-02-06 15:53:15.934 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.187.203 waku 680649f9072c4c27e29c04b75b644a18911c73ecc15ebbddf509b7e073e9ebc8
2025-02-06 15:53:15.989 DEBUG [src.node.docker_mananger] Container started with ID 680649f9072c. Setting up logs at ./log/docker/store_node1_2025-02-06_15-53-14__97d0caac-90e7-4cf7-b597-2e2ddb778efb__wakuorg_go-waku:latest.log
2025-02-06 15:53:15.989 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 55332
2025-02-06 15:53:15.990 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-06 15:53:16.990 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55332/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:53:16.993 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QNvVexPXhnH8zJRCs6IWWI3jxfWifa92QaZYVQUwx4AvaG8SDDV0jSsvvO6okfCDS172BAEHC3c9TXqVZKp5O4KGAZTb9ynUgmlkgnY0gmlwhKwRAAOCcnODAAMAiXNlY3AyNTZrMaECIG6ObupVI98Lqpa7QNOVlUg2ovVIRO4ZcVeqN-PXTmuDdGNwgtglg3VkcILYJ4V3YWt1MgM","listenAddresses":["/ip4/127.0.0.1/tcp/55333/p2p/16Uiu2HAkwcGoXPJfNaLvZ6jCHBWgyoT4LLMWvnNLqrKk4L8qWDW2","/ip4/127.0.0.1/tcp/55334/ws/p2p/16Uiu2HAkwcGoXPJfNaLvZ6jCHBWgyoT4LLMWvnNLqrKk4L8qWDW2","/ip4/172.17.0.3/tcp/55333/p2p/16Uiu2HAkwcGoXPJfNaLvZ6jCHBWgyoT4LLMWvnNLqrKk4L8qWDW2","/ip4/172.17.0.3/tcp/55334/ws/p2p/16Uiu2HAkwcGoXPJfNaLvZ6jCHBWgyoT4LLMWvnNLqrKk4L8qWDW2"]}'
2025-02-06 15:53:16.994 INFO [src.node.waku_node] REST service is ready !!
2025-02-06 15:53:16.994 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55332/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.213.86/tcp/26669/p2p/16Uiu2HAm3MvEd3hFiUkGQUmKfuQDKi7EGUdsZnifPLvmbYqDwd3G", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-06 15:53:17.011 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-06 15:53:17.012 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:26668/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-06 15:53:17.020 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:53:17.020 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55332/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-06 15:53:17.022 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-06 15:53:17.024 DEBUG [tests.store.test_get_messages] Running test with content topic /myapp/1/latest/proto
2025-02-06 15:53:17.024 DEBUG [src.steps.store] Relaying message
2025-02-06 15:53:17.025 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:26668/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 15:53:17.040 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:53:17.040 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-06 15:53:17.242 DEBUG [src.steps.store] Checking that peer quay.io/wakuorg/nwaku-pr:3281 can find the stored messages
2025-02-06 15:53:17.242 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26668/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:53:17.245 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xcabc0aaa57a08a60980146cbed866e3fc12f079b3e87886c887bfaf4dade195e"}]}'
2025-02-06 15:53:17.245 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-06 15:53:17.245 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55332/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:53:17.250 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"7cdecc4ca45feb1012de20474aed0d5ac52f6a3a15ca87acb6a18e2dff84c718","status_code":200,"status_desc":"OK","messages":[{"message_hash":"yrwKqlegimCYAUbL7YZuP8EvB5s+h4hsiHv69NreGV4="}]}'
2025-02-06 15:53:17.250 DEBUG [tests.store.test_get_messages] Running test with content topic /waku/2/content/test.js
2025-02-06 15:53:17.251 DEBUG [src.steps.store] Relaying message
2025-02-06 15:53:17.252 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:26668/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-06 15:53:17.257 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:53:17.257 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-06 15:53:17.457 DEBUG [src.steps.store] Checking that peer quay.io/wakuorg/nwaku-pr:3281 can find the stored messages
2025-02-06 15:53:17.458 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26668/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fwaku%2F2%2Fcontent%2Ftest.js&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:53:17.461 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x0296a29a375e3a992b5e654b737666f633a7936e2f7cbe2df7c12f7fc9e3d083"}]}'
2025-02-06 15:53:17.461 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-06 15:53:17.461 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55332/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fwaku%2F2%2Fcontent%2Ftest.js&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:53:17.466 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"79ee26e567d03be638706f8da0df85ddeba1226084b2c60619f20bffd57bdd0a","status_code":200,"status_desc":"OK","messages":[{"message_hash":"ApaimjdeOpkrXmVLc3Zm9jOnk24vfL4t98Evf8nj0IM="}]}'
2025-02-06 15:53:17.466 DEBUG [tests.store.test_get_messages] Running test with content topic /app/22/sometopic/someencoding
2025-02-06 15:53:17.467 DEBUG [src.steps.store] Relaying message
2025-02-06 15:53:17.467 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:26668/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-06 15:53:17.472 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:53:17.472 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-06 15:53:17.673 DEBUG [src.steps.store] Checking that peer quay.io/wakuorg/nwaku-pr:3281 can find the stored messages
2025-02-06 15:53:17.673 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26668/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F22%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:53:17.676 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x6c68d92b913331892281973c803d480833fc64c32ca32b15504ab5da410a7a1c"}]}'
2025-02-06 15:53:17.677 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-06 15:53:17.677 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55332/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F22%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:53:17.682 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"34d0bf2cc7b97c78f678d6e0c3ec00aecf4914f45847b8a42541650c92402758","status_code":200,"status_desc":"OK","messages":[{"message_hash":"bGjZK5EzMYkigZc8gD1ICDP8ZMMsoysVUEq12kEKehw="}]}'
2025-02-06 15:53:17.682 DEBUG [tests.store.test_get_messages] Running test with content topic /toychat/2/huilong/proto
2025-02-06 15:53:17.683 DEBUG [src.steps.store] Relaying message
2025-02-06 15:53:17.683 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:26668/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 15:53:17.688 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:53:17.688 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-06 15:53:17.889 DEBUG [src.steps.store] Checking that peer quay.io/wakuorg/nwaku-pr:3281 can find the stored messages
2025-02-06 15:53:17.889 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26668/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Ftoychat%2F2%2Fhuilong%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:53:17.893 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xb8bf86ae8ee7222a51a5f56df585c894388052d1229be1263d4b63926d65126b"}]}'
2025-02-06 15:53:17.893 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-06 15:53:17.893 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55332/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Ftoychat%2F2%2Fhuilong%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:53:17.898 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"ee4a35837236aa74d3a15efaef9470edce44d695e79898997429972d4db68314","status_code":200,"status_desc":"OK","messages":[{"message_hash":"uL+Gro7nIipRpfVt9YXIlDiAUtEim+EmPUtjkm1lEms="}]}'
2025-02-06 15:53:17.899 DEBUG [tests.store.test_get_messages] Running test with content topic /statusim/1/community/cbor
2025-02-06 15:53:17.899 DEBUG [src.steps.store] Relaying message
2025-02-06 15:53:17.900 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:26668/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-06 15:53:17.905 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:53:17.905 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-06 15:53:18.106 DEBUG [src.steps.store] Checking that peer quay.io/wakuorg/nwaku-pr:3281 can find the stored messages
2025-02-06 15:53:18.106 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26668/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fstatusim%2F1%2Fcommunity%2Fcbor&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:53:18.109 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x0d2b983e3e01f94a120e3a2e036b6627d4727b09dcd6f2a5edde4f3e17877f1b"}]}'
2025-02-06 15:53:18.110 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-06 15:53:18.110 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55332/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fstatusim%2F1%2Fcommunity%2Fcbor&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:53:18.114 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"8b0e0c98515e6ee4339db329f2681ab3865bd20fde1ca6ae5737c30dd06adf96","status_code":200,"status_desc":"OK","messages":[{"message_hash":"DSuYPj4B+UoSDjouA2tmJ9Ryewnc1vKl7d5PPheHfxs="}]}'
2025-02-06 15:53:18.115 DEBUG [tests.store.test_get_messages] Running test with content topic /app/27/sometopic/someencoding
2025-02-06 15:53:18.116 DEBUG [src.steps.store] Relaying message
2025-02-06 15:53:18.116 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:26668/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-06 15:53:18.121 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:53:18.121 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-06 15:53:18.321 DEBUG [src.steps.store] Checking that peer quay.io/wakuorg/nwaku-pr:3281 can find the stored messages
2025-02-06 15:53:18.322 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26668/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F27%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:53:18.325 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x1da2d1fef6d841a568489231de3f2ea41efdf5ed3bccc9639fb1fdddd37f56a4"}]}'
2025-02-06 15:53:18.326 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-06 15:53:18.326 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55332/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F27%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:53:18.331 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"ea9aed5ffdf54aede97c96b97ecc1e421f40a5d4883215ac9095e5ba6c0c986b","status_code":200,"status_desc":"OK","messages":[{"message_hash":"HaLR/vbYQaVoSJIx3j8upB799e07zMljn7H93dN/VqQ="}]}'
2025-02-06 15:53:18.332 DEBUG [tests.store.test_get_messages] Running test with content topic /app/29/sometopic/someencoding
2025-02-06 15:53:18.332 DEBUG [src.steps.store] Relaying message
2025-02-06 15:53:18.332 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:26668/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-06 15:53:18.338 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:53:18.338 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-06 15:53:18.538 DEBUG [src.steps.store] Checking that peer quay.io/wakuorg/nwaku-pr:3281 can find the stored messages
2025-02-06 15:53:18.539 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26668/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F29%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:53:18.542 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x6e8fa739a7b2c8e73fc7f2876604e2b3ebdebf367aa798e8009695657de928fb"}]}'
2025-02-06 15:53:18.542 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-06 15:53:18.543 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55332/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F29%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:53:18.547 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"fd18fbdfad92320f4ecefc1c4be46376afba39b102e5d795dece06bf0aca02f0","status_code":200,"status_desc":"OK","messages":[{"message_hash":"bo+nOaeyyOc/x/KHZgTis+vevzZ6p5joAJaVZX3pKPs="}]}'
2025-02-06 15:53:18.548 DEBUG [tests.store.test_get_messages] Running test with content topic /app/20/sometopic/someencoding
2025-02-06 15:53:18.548 DEBUG [src.steps.store] Relaying message
2025-02-06 15:53:18.549 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:26668/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-06 15:53:18.553 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:53:18.554 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-06 15:53:18.754 DEBUG [src.steps.store] Checking that peer quay.io/wakuorg/nwaku-pr:3281 can find the stored messages
2025-02-06 15:53:18.755 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:26668/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F20%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:53:18.758 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x9280c8e257e102788397334a9e9616e50d3e3770d44a648ffa5e4e467755e484"}]}'
2025-02-06 15:53:18.758 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-06 15:53:18.759 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55332/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fapp%2F20%2Fsometopic%2Fsomeencoding&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:53:18.763 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"d4996f240d3ec36eb65488c40c516db60dbc2b1beb1413b3fffdf05872b379d9","status_code":200,"status_desc":"OK","messages":[{"message_hash":"koDI4lfhAniDlzNKnpYW5Q0+N3DUSmSP+l5ORndV5IQ="}]}'
2025-02-06 15:53:18.765 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-06 15:53:18.766 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-06 15:53:18.767 DEBUG [src.node.waku_node] Stopping container with id 6c0d555c45f8
2025-02-06 15:53:20.191 DEBUG [src.node.waku_node] Container stopped.
2025-02-06 15:53:20.191 DEBUG [src.node.waku_node] Stopping container with id 680649f9072c
2025-02-06 15:53:20.724 DEBUG [src.node.waku_node] Container stopped.
2025-02-06 15:53:20.725 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-06 15:53:20.744 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-06 15:53:20.747 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
