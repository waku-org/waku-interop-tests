2025-02-06 15:51:51.395 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-06 15:51:51.396 DEBUG [tests.conftest] Running test: test_unsubscribe_from_some_pubsub_topics with id: 2025-02-06_15-51-51__21f09018-03fb-4b52-b6e5-fd5a9e4ec956
2025-02-06 15:51:51.396 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-06 15:51:51.397 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-06 15:51:51.397 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-06 15:51:51.406 DEBUG [src.node.docker_mananger] Docker client initialized with image quay.io/wakuorg/nwaku-pr:3281
2025-02-06 15:51:51.406 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-06_15-51-51__21f09018-03fb-4b52-b6e5-fd5a9e4ec956__quay.io_wakuorg_nwaku-pr:3281.log
2025-02-06 15:51:51.406 DEBUG [src.node.waku_node] Starting Node...
2025-02-06 15:51:51.406 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-06 15:51:51.408 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-06 15:51:51.408 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.165.33
2025-02-06 15:51:51.408 DEBUG [src.node.docker_mananger] Generated ports ['12060', '12061', '12062', '12063', '12064']
2025-02-06 15:51:51.408 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-06 15:51:51.408 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-06 15:51:51.408 DEBUG [src.node.waku_node] Using volumes []
2025-02-06 15:51:51.408 DEBUG [src.node.docker_mananger] docker run -i -t -p 12060:12060 -p 12061:12061 -p 12062:12062 -p 12063:12063 -p 12064:12064 quay.io/wakuorg/nwaku-pr:3281 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=12062 --rest-port=12060 --tcp-port=12061 --discv5-udp-port=12063 --rest-address=0.0.0.0 --nat=extip:172.18.165.33 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=f5b0b4186fecfebe4a220861cbf0fdfe711c55a5e5bfc70e73cbb9df8e1b2cbc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=12064 --metrics-logging=true --relay=true --filter=true --pubsub-topic=/waku/2/rs/2/0 --pubsub-topic=/waku/2/rs/2/1 --pubsub-topic=/waku/2/rs/2/2 --pubsub-topic=/waku/2/rs/2/3 --pubsub-topic=/waku/2/rs/2/4 --pubsub-topic=/waku/2/rs/2/5 --pubsub-topic=/waku/2/rs/2/6 --pubsub-topic=/waku/2/rs/2/7
2025-02-06 15:51:51.651 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.165.33 waku 014b99c451deea402be95ef4d39e5e2cb854a1025fa7c55d186f34d5d59d1dd4
2025-02-06 15:51:51.707 DEBUG [src.node.docker_mananger] Container started with ID 014b99c451de. Setting up logs at ./log/docker/node1_2025-02-06_15-51-51__21f09018-03fb-4b52-b6e5-fd5a9e4ec956__quay.io_wakuorg_nwaku-pr:3281.log
2025-02-06 15:51:51.708 DEBUG [src.node.waku_node] Started container from image quay.io/wakuorg/nwaku-pr:3281. REST: 12060
2025-02-06 15:51:51.708 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-06 15:51:52.214 ERROR [src.node.docker_mananger] Max retries reached for container 1a3bedaa7ced. Exiting log stream.
2025-02-06 15:51:52.709 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12060/health" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:51:52.712 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-06 15:51:52.712 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-06 15:51:52.713 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12060/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:51:52.715 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.165.33/tcp/12061/p2p/16Uiu2HAmNDesChrfDmh6AeXMvxWvJNbDGMRrbUL4HjKQ1CqHgwqf","/ip4/172.18.165.33/tcp/12062/ws/p2p/16Uiu2HAmNDesChrfDmh6AeXMvxWvJNbDGMRrbUL4HjKQ1CqHgwqf"],"enrUri":"enr:-Mu4QGeDHrEA-xLJJhmy9FOY6odFQrPgKF-Tn8s3_MbNki6xSRqGAtv-0oA8jTg026SJtKTaDQC9_yiKlPINCPzf6DUCgmlkgnY0gmlwhKwSpSGKbXVsdGlhZGRyc5YACASsEqUhBi8dAAoErBKlIQYvHt0DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQOOF1FvqmyIDO3-lXe2vZnweh4sxWyLrmDjyXWAqOKzdoN0Y3CCLx2DdWRwgi8fhXdha3UyBQ"}'
2025-02-06 15:51:52.715 INFO [src.node.waku_node] REST service is ready !!
2025-02-06 15:51:52.722 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-06 15:51:52.722 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-06_15-51-51__21f09018-03fb-4b52-b6e5-fd5a9e4ec956__wakuorg_go-waku:latest.log
2025-02-06 15:51:52.722 DEBUG [src.node.waku_node] Starting Node...
2025-02-06 15:51:52.722 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-06 15:51:52.724 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-06 15:51:52.724 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.171.95
2025-02-06 15:51:52.724 DEBUG [src.node.docker_mananger] Generated ports ['43470', '43471', '43472', '43473', '43474']
2025-02-06 15:51:52.724 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-06 15:51:52.724 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-06 15:51:52.725 DEBUG [src.node.waku_node] Using volumes []
2025-02-06 15:51:52.725 DEBUG [src.node.docker_mananger] docker run -i -t -p 43470:43470 -p 43471:43471 -p 43472:43472 -p 43473:43473 -p 43474:43474 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=43472 --rest-port=43470 --tcp-port=43471 --discv5-udp-port=43473 --rest-address=0.0.0.0 --nat=extip:172.18.171.95 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=885d5e182e4d21ac5f11ef8fcf426ea9819d9d201dd59b316b78077e3e441a47 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-Mu4QGeDHrEA-xLJJhmy9FOY6odFQrPgKF-Tn8s3_MbNki6xSRqGAtv-0oA8jTg026SJtKTaDQC9_yiKlPINCPzf6DUCgmlkgnY0gmlwhKwSpSGKbXVsdGlhZGRyc5YACASsEqUhBi8dAAoErBKlIQYvHt0DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQOOF1FvqmyIDO3-lXe2vZnweh4sxWyLrmDjyXWAqOKzdoN0Y3CCLx2DdWRwgi8fhXdha3UyBQ --pubsub-topic=/waku/2/rs/2/0 --pubsub-topic=/waku/2/rs/2/1 --pubsub-topic=/waku/2/rs/2/2 --pubsub-topic=/waku/2/rs/2/3 --pubsub-topic=/waku/2/rs/2/4 --pubsub-topic=/waku/2/rs/2/5 --pubsub-topic=/waku/2/rs/2/6 --pubsub-topic=/waku/2/rs/2/7
2025-02-06 15:51:52.966 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.171.95 waku 4629078e026a6cee9c7e889cba593a2ea720cf95d1a5bde6d37981a98606c041
2025-02-06 15:51:53.024 DEBUG [src.node.docker_mananger] Container started with ID 4629078e026a. Setting up logs at ./log/docker/node2_2025-02-06_15-51-51__21f09018-03fb-4b52-b6e5-fd5a9e4ec956__wakuorg_go-waku:latest.log
2025-02-06 15:51:53.024 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 43470
2025-02-06 15:51:53.025 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-06 15:51:54.025 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43470/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:51:54.028 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-K-4QPL-SF84lKarxFneQNWmPl0kn7HMOgQ3X5h_yRT1NBz-aDi9IOgqlKLPaJ6UcvpKoWotLgY32WsNhdY_-QR0FyuGAZTb9eW5gmlkgnY0gmlwhKwRAAOCcnOTAAIIAAIAAwAEAAUABgAHAAAAAYlzZWNwMjU2azGhA1rozEug-mC-TzbfvqzxUSO4QnjMJogbtfyGYEtNM-kcg3RjcIKpz4N1ZHCCqdGFd2FrdTIB","listenAddresses":["/ip4/127.0.0.1/tcp/43471/p2p/16Uiu2HAmJmrvxkk4PbXzh1RUzFBfhTeiV8g6NdS8iiMTY6BS18t3","/ip4/127.0.0.1/tcp/43472/ws/p2p/16Uiu2HAmJmrvxkk4PbXzh1RUzFBfhTeiV8g6NdS8iiMTY6BS18t3","/ip4/172.17.0.3/tcp/43471/p2p/16Uiu2HAmJmrvxkk4PbXzh1RUzFBfhTeiV8g6NdS8iiMTY6BS18t3","/ip4/172.17.0.3/tcp/43472/ws/p2p/16Uiu2HAmJmrvxkk4PbXzh1RUzFBfhTeiV8g6NdS8iiMTY6BS18t3"]}'
2025-02-06 15:51:54.028 INFO [src.node.waku_node] REST service is ready !!
2025-02-06 15:51:54.029 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43470/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.165.33/tcp/12061/p2p/16Uiu2HAmNDesChrfDmh6AeXMvxWvJNbDGMRrbUL4HjKQ1CqHgwqf", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-06 15:51:54.030 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-06 15:51:54.031 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12060/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2", "/waku/2/rs/2/3", "/waku/2/rs/2/4", "/waku/2/rs/2/5", "/waku/2/rs/2/6", "/waku/2/rs/2/7"]'
2025-02-06 15:51:54.034 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:51:54.034 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:43470/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2", "/waku/2/rs/2/3", "/waku/2/rs/2/4", "/waku/2/rs/2/5", "/waku/2/rs/2/6", "/waku/2/rs/2/7"]'
2025-02-06 15:51:54.036 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-06 15:51:54.037 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12060/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 15:51:54.042 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:51:54.042 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:51:54.142 DEBUG [src.steps.sharding] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the published message
2025-02-06 15:51:54.143 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12060/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:51:54.145 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738857114037172992,"ephemeral":false}]'
2025-02-06 15:51:54.148 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-06 15:51:54.148 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43470/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:51:54.150 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738857114037172992,"ephemeral":false}]'
2025-02-06 15:51:54.152 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12060/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 15:51:54.157 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:51:54.157 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:51:54.258 DEBUG [src.steps.sharding] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the published message
2025-02-06 15:51:54.258 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12060/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:51:54.261 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738857114152410624,"ephemeral":false}]'
2025-02-06 15:51:54.262 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-06 15:51:54.262 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43470/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:51:54.264 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738857114152410624,"ephemeral":false}]'
2025-02-06 15:51:54.266 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12060/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 15:51:54.270 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:51:54.271 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:51:54.371 DEBUG [src.steps.sharding] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the published message
2025-02-06 15:51:54.371 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12060/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:51:54.374 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738857114266195456,"ephemeral":false}]'
2025-02-06 15:51:54.376 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-06 15:51:54.376 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43470/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:51:54.378 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738857114266195456,"ephemeral":false}]'
2025-02-06 15:51:54.379 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12060/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 15:51:54.384 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:51:54.384 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:51:54.485 DEBUG [src.steps.sharding] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the published message
2025-02-06 15:51:54.485 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12060/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:51:54.488 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738857114379772672,"ephemeral":false}]'
2025-02-06 15:51:54.489 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-06 15:51:54.490 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43470/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:51:54.491 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738857114379772672,"ephemeral":false}]'
2025-02-06 15:51:54.493 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12060/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 15:51:54.498 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:51:54.498 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:51:54.598 DEBUG [src.steps.sharding] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the published message
2025-02-06 15:51:54.599 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12060/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:51:54.602 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738857114493467392,"ephemeral":false}]'
2025-02-06 15:51:54.603 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-06 15:51:54.603 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43470/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:51:54.605 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738857114493467392,"ephemeral":false}]'
2025-02-06 15:51:54.607 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12060/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 15:51:54.612 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:51:54.612 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:51:54.712 DEBUG [src.steps.sharding] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the published message
2025-02-06 15:51:54.713 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12060/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:51:54.716 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738857114607386880,"ephemeral":false}]'
2025-02-06 15:51:54.717 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-06 15:51:54.718 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43470/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:51:54.719 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738857114607386880,"ephemeral":false}]'
2025-02-06 15:51:54.721 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12060/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 15:51:54.726 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:51:54.726 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:51:54.826 DEBUG [src.steps.sharding] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the published message
2025-02-06 15:51:54.827 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12060/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:51:54.830 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738857114721290752,"ephemeral":false}]'
2025-02-06 15:51:54.831 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-06 15:51:54.831 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43470/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:51:54.833 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738857114721290752,"ephemeral":false}]'
2025-02-06 15:51:54.835 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12060/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 15:51:54.840 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:51:54.840 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:51:54.940 DEBUG [src.steps.sharding] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the published message
2025-02-06 15:51:54.941 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12060/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:51:54.944 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738857114835104256,"ephemeral":false}]'
2025-02-06 15:51:54.945 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-06 15:51:54.945 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43470/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:51:54.947 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738857114835104256,"ephemeral":false}]'
2025-02-06 15:51:54.949 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:12060/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2"]'
2025-02-06 15:51:54.956 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:51:54.956 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:43470/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2"]'
2025-02-06 15:51:54.959 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-06 15:51:54.960 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12060/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 15:51:54.964 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:12060/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/2/0'
2025-02-06 15:51:54.966 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12060/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 15:51:54.968 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:12060/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/2/1'
2025-02-06 15:51:54.970 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12060/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 15:51:54.972 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:12060/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/2/2'
2025-02-06 15:51:54.973 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12060/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 15:51:54.978 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:51:54.978 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:51:55.078 DEBUG [src.steps.sharding] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the published message
2025-02-06 15:51:55.079 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12060/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:51:55.082 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738857114973781760,"ephemeral":false}]'
2025-02-06 15:51:55.083 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-06 15:51:55.083 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43470/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:51:55.085 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738857114973781760,"ephemeral":false}]'
2025-02-06 15:51:55.087 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12060/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 15:51:55.092 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:51:55.092 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:51:55.192 DEBUG [src.steps.sharding] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the published message
2025-02-06 15:51:55.193 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12060/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:51:55.195 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738857115087381248,"ephemeral":false}]'
2025-02-06 15:51:55.197 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-06 15:51:55.197 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43470/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:51:55.199 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738857115087381248,"ephemeral":false}]'
2025-02-06 15:51:55.200 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12060/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 15:51:55.205 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:51:55.205 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:51:55.305 DEBUG [src.steps.sharding] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the published message
2025-02-06 15:51:55.306 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12060/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:51:55.308 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738857115200710400,"ephemeral":false}]'
2025-02-06 15:51:55.310 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-06 15:51:55.310 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43470/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:51:55.312 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738857115200710400,"ephemeral":false}]'
2025-02-06 15:51:55.314 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12060/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 15:51:55.318 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:51:55.319 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:51:55.419 DEBUG [src.steps.sharding] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the published message
2025-02-06 15:51:55.420 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12060/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:51:55.422 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738857115314140416,"ephemeral":false}]'
2025-02-06 15:51:55.424 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-06 15:51:55.424 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43470/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:51:55.426 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738857115314140416,"ephemeral":false}]'
2025-02-06 15:51:55.427 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:12060/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 15:51:55.432 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:51:55.432 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:51:55.533 DEBUG [src.steps.sharding] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the published message
2025-02-06 15:51:55.533 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:12060/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:51:55.536 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738857115427809024,"ephemeral":false}]'
2025-02-06 15:51:55.537 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-06 15:51:55.538 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:43470/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:51:55.539 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738857115427809024,"ephemeral":false}]'
2025-02-06 15:51:55.542 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-06 15:51:55.543 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-06 15:51:55.543 DEBUG [src.node.waku_node] Stopping container with id 014b99c451de
2025-02-06 15:51:56.212 DEBUG [src.node.waku_node] Container stopped.
2025-02-06 15:51:56.212 DEBUG [src.node.waku_node] Stopping container with id 4629078e026a
2025-02-06 15:51:57.025 ERROR [src.node.docker_mananger] Max retries reached for container 014b99c451de. Exiting log stream.
2025-02-06 15:52:06.757 DEBUG [src.node.waku_node] Container stopped.
2025-02-06 15:52:06.759 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-06 15:52:06.768 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-06 15:52:06.772 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
