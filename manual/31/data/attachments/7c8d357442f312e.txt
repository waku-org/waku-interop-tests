2025-02-06 15:46:56.745 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-06 15:46:56.745 DEBUG [tests.conftest] Running test: test_filter_unsubscribe_with_no_request_id with id: 2025-02-06_15-46-56__d8bfdd14-6b69-4b3c-836c-b1f5f1e052c9
2025-02-06 15:46:56.745 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-06 15:46:56.746 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2025-02-06 15:46:56.746 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2025-02-06 15:46:56.753 DEBUG [src.node.docker_mananger] Docker client initialized with image quay.io/wakuorg/nwaku-pr:3281
2025-02-06 15:46:56.753 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-06_15-46-56__d8bfdd14-6b69-4b3c-836c-b1f5f1e052c9__quay.io_wakuorg_nwaku-pr:3281.log
2025-02-06 15:46:56.753 DEBUG [src.node.waku_node] Starting Node...
2025-02-06 15:46:56.753 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-06 15:46:56.754 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-06 15:46:56.755 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.218.194
2025-02-06 15:46:56.755 DEBUG [src.node.docker_mananger] Generated ports ['9424', '9425', '9426', '9427', '9428']
2025-02-06 15:46:56.755 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-06 15:46:56.755 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-06 15:46:56.755 DEBUG [src.node.waku_node] Using volumes []
2025-02-06 15:46:56.755 DEBUG [src.node.docker_mananger] docker run -i -t -p 9424:9424 -p 9425:9425 -p 9426:9426 -p 9427:9427 -p 9428:9428 quay.io/wakuorg/nwaku-pr:3281 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=9426 --rest-port=9424 --tcp-port=9425 --discv5-udp-port=9427 --rest-address=0.0.0.0 --nat=extip:172.18.218.194 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=77e6bef5e03b1eaa361a55b3cbecaa6af1b32ea8cfc0821ca46ccbf4f051e3db --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=9428 --metrics-logging=true --relay=true --filter=true
2025-02-06 15:46:56.965 ERROR [src.node.docker_mananger] Max retries reached for container 68af33f812b0. Exiting log stream.
2025-02-06 15:46:56.985 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.218.194 waku 19c744f5f240cbe77b750176272766970919fce608958eb9bd956a242212a0a9
2025-02-06 15:46:57.035 DEBUG [src.node.docker_mananger] Container started with ID 19c744f5f240. Setting up logs at ./log/docker/node1_2025-02-06_15-46-56__d8bfdd14-6b69-4b3c-836c-b1f5f1e052c9__quay.io_wakuorg_nwaku-pr:3281.log
2025-02-06 15:46:57.036 DEBUG [src.node.waku_node] Started container from image quay.io/wakuorg/nwaku-pr:3281. REST: 9424
2025-02-06 15:46:57.036 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-06 15:46:57.479 ERROR [src.node.docker_mananger] Max retries reached for container 4a3f13ebba4e. Exiting log stream.
2025-02-06 15:46:58.037 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:9424/health" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:46:58.040 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-06 15:46:58.040 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-06 15:46:58.040 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:9424/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:46:58.043 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.218.194/tcp/9425/p2p/16Uiu2HAm9AjMbEAnTssVR9gMTJ2FnMYonHZGFFyL29o7Lrz5WEce","/ip4/172.18.218.194/tcp/9426/ws/p2p/16Uiu2HAm9AjMbEAnTssVR9gMTJ2FnMYonHZGFFyL29o7Lrz5WEce"],"enrUri":"enr:-L24QMq8XOs2q_VkGEaooI_81KBVKga5jUJo3v8S5VzNgjn5AriUX3IW7H4ftgKUR8XfkbJluoYbH6lXKqkL-o5vVJoCgmlkgnY0gmlwhKwS2sKKbXVsdGlhZGRyc5YACASsEtrCBiTRAAoErBLawgYk0t0DgnJzhQADAQAAiXNlY3AyNTZrMaECzC-4zUEzu8JbqsgNHbj2mfGfhCRlmUFZPiIWL8JnUg-DdGNwgiTRg3VkcIIk04V3YWt1MgU"}'
2025-02-06 15:46:58.043 INFO [src.node.waku_node] REST service is ready !!
2025-02-06 15:46:58.043 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2025-02-06 15:46:58.050 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-06 15:46:58.050 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-06_15-46-56__d8bfdd14-6b69-4b3c-836c-b1f5f1e052c9__wakuorg_go-waku:latest.log
2025-02-06 15:46:58.050 DEBUG [src.node.waku_node] Starting Node...
2025-02-06 15:46:58.050 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-06 15:46:58.052 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-06 15:46:58.052 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.157.19
2025-02-06 15:46:58.052 DEBUG [src.node.docker_mananger] Generated ports ['25173', '25174', '25175', '25176', '25177']
2025-02-06 15:46:58.052 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-06 15:46:58.052 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-06 15:46:58.052 DEBUG [src.node.waku_node] Using volumes []
2025-02-06 15:46:58.053 DEBUG [src.node.docker_mananger] docker run -i -t -p 25173:25173 -p 25174:25174 -p 25175:25175 -p 25176:25176 -p 25177:25177 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=25175 --rest-port=25173 --tcp-port=25174 --discv5-udp-port=25176 --rest-address=0.0.0.0 --nat=extip:172.18.157.19 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=80da5fb14be01fd75c0aacfd2eca8bedf47ccf8cc3cbf686a7dbbfd8278cf72d --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QMq8XOs2q_VkGEaooI_81KBVKga5jUJo3v8S5VzNgjn5AriUX3IW7H4ftgKUR8XfkbJluoYbH6lXKqkL-o5vVJoCgmlkgnY0gmlwhKwS2sKKbXVsdGlhZGRyc5YACASsEtrCBiTRAAoErBLawgYk0t0DgnJzhQADAQAAiXNlY3AyNTZrMaECzC-4zUEzu8JbqsgNHbj2mfGfhCRlmUFZPiIWL8JnUg-DdGNwgiTRg3VkcIIk04V3YWt1MgU --filternode=/ip4/172.18.218.194/tcp/9425/p2p/16Uiu2HAm9AjMbEAnTssVR9gMTJ2FnMYonHZGFFyL29o7Lrz5WEce --pubsub-topic=/waku/2/rs/3/1
2025-02-06 15:46:58.285 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.157.19 waku 06772fcfcb1b35e7103e7714046df316c6c362328f609702b1aece6893f13468
2025-02-06 15:46:58.343 DEBUG [src.node.docker_mananger] Container started with ID 06772fcfcb1b. Setting up logs at ./log/docker/node2_2025-02-06_15-46-56__d8bfdd14-6b69-4b3c-836c-b1f5f1e052c9__wakuorg_go-waku:latest.log
2025-02-06 15:46:58.343 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 25173
2025-02-06 15:46:58.345 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-06 15:46:59.345 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:25173/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:46:59.348 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QBY-RRWdYZxSLUhgFLqotse0uLX-TReSD3FUCzcgK387LxjLZr_rlXyXtPZgb18rbM0IWwXwNLc9_crIQFaezJ2GAZTb8WacgmlkgnY0gmlwhKwRAAOCcnOFAAMBAAGJc2VjcDI1NmsxoQLbvcxd2zWlJUIBJI9ZMWCqw6gJwnUvsuNJ5PNvqmAcdoN0Y3CCYlaDdWRwgmJYhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/25174/p2p/16Uiu2HAmADT8AinUFQEYEzEsXMMXvPwoHLdYpY4Hbk97oATnMPNm","/ip4/127.0.0.1/tcp/25175/ws/p2p/16Uiu2HAmADT8AinUFQEYEzEsXMMXvPwoHLdYpY4Hbk97oATnMPNm","/ip4/172.17.0.3/tcp/25174/p2p/16Uiu2HAmADT8AinUFQEYEzEsXMMXvPwoHLdYpY4Hbk97oATnMPNm","/ip4/172.17.0.3/tcp/25175/ws/p2p/16Uiu2HAmADT8AinUFQEYEzEsXMMXvPwoHLdYpY4Hbk97oATnMPNm"]}'
2025-02-06 15:46:59.348 INFO [src.node.waku_node] REST service is ready !!
2025-02-06 15:46:59.349 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25173/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.218.194/tcp/9425/p2p/16Uiu2HAm9AjMbEAnTssVR9gMTJ2FnMYonHZGFFyL29o7Lrz5WEce", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-06 15:46:59.350 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-06 15:46:59.351 DEBUG [src.steps.filter] Running fixture setup: subscribe_main_nodes
2025-02-06 15:46:59.351 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:9424/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-06 15:46:59.354 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:46:59.355 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:25173/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "0ee51b15-9e1b-471f-9e2b-2b53946ac771", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2025-02-06 15:46:59.360 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"0ee51b15-9e1b-471f-9e2b-2b53946ac771","statusDesc":"OK"}'
2025-02-06 15:46:59.363 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:25173/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2025-02-06 15:46:59.365 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusDesc":"can\'t unsubscribe from 16Uiu2HAm9AjMbEAnTssVR9gMTJ2FnMYonHZGFFyL29o7Lrz5WEce"}'
2025-02-06 15:46:59.367 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-06 15:46:59.368 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-06 15:46:59.368 DEBUG [src.node.waku_node] Stopping container with id 19c744f5f240
2025-02-06 15:46:59.982 DEBUG [src.node.waku_node] Container stopped.
2025-02-06 15:46:59.983 DEBUG [src.node.waku_node] Stopping container with id 06772fcfcb1b
2025-02-06 15:47:00.795 ERROR [src.node.docker_mananger] Max retries reached for container 19c744f5f240. Exiting log stream.
2025-02-06 15:47:00.871 DEBUG [src.node.waku_node] Container stopped.
2025-02-06 15:47:00.872 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-06 15:47:00.876 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-06 15:47:00.879 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
