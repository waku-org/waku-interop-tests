2025-02-06 15:46:46.427 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-06 15:46:46.427 DEBUG [tests.conftest] Running test: test_all_nodes_subscribed_to_the_topic with id: 2025-02-06_15-46-46__a2998322-9728-4521-a21a-ff4b0f796161
2025-02-06 15:46:46.428 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-06 15:46:46.428 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2025-02-06 15:46:46.428 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2025-02-06 15:46:46.434 DEBUG [src.node.docker_mananger] Docker client initialized with image quay.io/wakuorg/nwaku-pr:3281
2025-02-06 15:46:46.434 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-06_15-46-46__a2998322-9728-4521-a21a-ff4b0f796161__quay.io_wakuorg_nwaku-pr:3281.log
2025-02-06 15:46:46.434 DEBUG [src.node.waku_node] Starting Node...
2025-02-06 15:46:46.435 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-06 15:46:46.436 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-06 15:46:46.436 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.31.170
2025-02-06 15:46:46.436 DEBUG [src.node.docker_mananger] Generated ports ['40317', '40318', '40319', '40320', '40321']
2025-02-06 15:46:46.436 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-06 15:46:46.437 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-06 15:46:46.437 DEBUG [src.node.waku_node] Using volumes []
2025-02-06 15:46:46.437 DEBUG [src.node.docker_mananger] docker run -i -t -p 40317:40317 -p 40318:40318 -p 40319:40319 -p 40320:40320 -p 40321:40321 quay.io/wakuorg/nwaku-pr:3281 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=40319 --rest-port=40317 --tcp-port=40318 --discv5-udp-port=40320 --rest-address=0.0.0.0 --nat=extip:172.18.31.170 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c4fcfafa294f85d056f85abdfbf94eeefaf783c4a30c34f73a0cf9ec108dcb7f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=40321 --metrics-logging=true --relay=true --filter=true
2025-02-06 15:46:46.662 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.31.170 waku d6e5685f91012797f3d5c50107fc71add13ee72e5ba5513e8c42a3cdf53cb913
2025-02-06 15:46:46.717 DEBUG [src.node.docker_mananger] Container started with ID d6e5685f9101. Setting up logs at ./log/docker/node1_2025-02-06_15-46-46__a2998322-9728-4521-a21a-ff4b0f796161__quay.io_wakuorg_nwaku-pr:3281.log
2025-02-06 15:46:46.717 DEBUG [src.node.waku_node] Started container from image quay.io/wakuorg/nwaku-pr:3281. REST: 40317
2025-02-06 15:46:46.718 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-06 15:46:46.725 ERROR [src.node.docker_mananger] Max retries reached for container 8256b9dff425. Exiting log stream.
2025-02-06 15:46:47.232 ERROR [src.node.docker_mananger] Max retries reached for container 8d83f0092d40. Exiting log stream.
2025-02-06 15:46:47.719 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40317/health" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:46:47.722 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-06 15:46:47.722 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-06 15:46:47.722 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:40317/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:46:47.725 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.31.170/tcp/40318/p2p/16Uiu2HAmGvA7qrRneWn3akj2REzvJ3KwnsfzS4LEbNnRTMQuWizi","/ip4/172.18.31.170/tcp/40319/ws/p2p/16Uiu2HAmGvA7qrRneWn3akj2REzvJ3KwnsfzS4LEbNnRTMQuWizi"],"enrUri":"enr:-L24QOC66z-Corv1SguJPsaoTcaBq8soiJowbA9bWon_VIJ5AuCbQ9pRjMgM96Kk4eD-XC6_7dgEmRar7xVUvM8Lz0wCgmlkgnY0gmlwhKwSH6qKbXVsdGlhZGRyc5YACASsEh-qBp1-AAoErBIfqgadf90DgnJzhQADAQAAiXNlY3AyNTZrMaEDP1GBNkC0URBimCqbgRFstSNaeCT-byMNwmZal937Av-DdGNwgp1-g3VkcIKdgIV3YWt1MgU"}'
2025-02-06 15:46:47.725 INFO [src.node.waku_node] REST service is ready !!
2025-02-06 15:46:47.725 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2025-02-06 15:46:47.731 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-06 15:46:47.732 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-06_15-46-46__a2998322-9728-4521-a21a-ff4b0f796161__wakuorg_go-waku:latest.log
2025-02-06 15:46:47.732 DEBUG [src.node.waku_node] Starting Node...
2025-02-06 15:46:47.732 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-06 15:46:47.733 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-06 15:46:47.733 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.8.123
2025-02-06 15:46:47.733 DEBUG [src.node.docker_mananger] Generated ports ['39206', '39207', '39208', '39209', '39210']
2025-02-06 15:46:47.734 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-06 15:46:47.734 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-06 15:46:47.734 DEBUG [src.node.waku_node] Using volumes []
2025-02-06 15:46:47.734 DEBUG [src.node.docker_mananger] docker run -i -t -p 39206:39206 -p 39207:39207 -p 39208:39208 -p 39209:39209 -p 39210:39210 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=39208 --rest-port=39206 --tcp-port=39207 --discv5-udp-port=39209 --rest-address=0.0.0.0 --nat=extip:172.18.8.123 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=aeded51a95cf58e59211ade55b343663ea11feb835fee2cac6bfcef39ff279de --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QOC66z-Corv1SguJPsaoTcaBq8soiJowbA9bWon_VIJ5AuCbQ9pRjMgM96Kk4eD-XC6_7dgEmRar7xVUvM8Lz0wCgmlkgnY0gmlwhKwSH6qKbXVsdGlhZGRyc5YACASsEh-qBp1-AAoErBIfqgadf90DgnJzhQADAQAAiXNlY3AyNTZrMaEDP1GBNkC0URBimCqbgRFstSNaeCT-byMNwmZal937Av-DdGNwgp1-g3VkcIKdgIV3YWt1MgU --filternode=/ip4/172.18.31.170/tcp/40318/p2p/16Uiu2HAmGvA7qrRneWn3akj2REzvJ3KwnsfzS4LEbNnRTMQuWizi --pubsub-topic=/waku/2/rs/3/1
2025-02-06 15:46:47.967 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.8.123 waku 8dfc4a5f56d126637f1cb7e90c62c95369945b8316bd7a4920464f1c02dafe1b
2025-02-06 15:46:48.027 DEBUG [src.node.docker_mananger] Container started with ID 8dfc4a5f56d1. Setting up logs at ./log/docker/node2_2025-02-06_15-46-46__a2998322-9728-4521-a21a-ff4b0f796161__wakuorg_go-waku:latest.log
2025-02-06 15:46:48.028 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 39206
2025-02-06 15:46:48.029 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-06 15:46:49.029 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39206/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:46:49.032 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QJFymP6S4iil3vd1HOd61NfPjxgNQzTzAYG0XE-E8lc2BH5YnmZaWLRt9Bz5V_xyo2-9VHNqPPhUj6A-ubq8VVCGAZTb8T5MgmlkgnY0gmlwhKwRAAOCcnOFAAMBAAGJc2VjcDI1NmsxoQKZL9oo-dV5mBqo_KvMr21WTkIUYLfxss4axJOBrQ5UbIN0Y3CCmSeDdWRwgpkphXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/39207/p2p/16Uiu2HAm5jegJeUittSR3VNmpQCTezrSa1YPrDT2s9gCBCEupfMM","/ip4/127.0.0.1/tcp/39208/ws/p2p/16Uiu2HAm5jegJeUittSR3VNmpQCTezrSa1YPrDT2s9gCBCEupfMM","/ip4/172.17.0.3/tcp/39207/p2p/16Uiu2HAm5jegJeUittSR3VNmpQCTezrSa1YPrDT2s9gCBCEupfMM","/ip4/172.17.0.3/tcp/39208/ws/p2p/16Uiu2HAm5jegJeUittSR3VNmpQCTezrSa1YPrDT2s9gCBCEupfMM"]}'
2025-02-06 15:46:49.032 INFO [src.node.waku_node] REST service is ready !!
2025-02-06 15:46:49.032 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39206/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.31.170/tcp/40318/p2p/16Uiu2HAmGvA7qrRneWn3akj2REzvJ3KwnsfzS4LEbNnRTMQuWizi", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-06 15:46:49.034 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-06 15:46:49.042 DEBUG [src.node.docker_mananger] Docker client initialized with image quay.io/wakuorg/nwaku-pr:3281
2025-02-06 15:46:49.042 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node3_2025-02-06_15-46-46__a2998322-9728-4521-a21a-ff4b0f796161__quay.io_wakuorg_nwaku-pr:3281.log
2025-02-06 15:46:49.042 DEBUG [src.node.waku_node] Starting Node...
2025-02-06 15:46:49.042 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-06 15:46:49.043 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-06 15:46:49.044 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.158.22
2025-02-06 15:46:49.044 DEBUG [src.node.docker_mananger] Generated ports ['19748', '19749', '19750', '19751', '19752']
2025-02-06 15:46:49.044 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-06 15:46:49.044 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-06 15:46:49.044 DEBUG [src.node.waku_node] Using volumes []
2025-02-06 15:46:49.044 DEBUG [src.node.docker_mananger] docker run -i -t -p 19748:19748 -p 19749:19749 -p 19750:19750 -p 19751:19751 -p 19752:19752 quay.io/wakuorg/nwaku-pr:3281 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=19750 --rest-port=19748 --tcp-port=19749 --discv5-udp-port=19751 --rest-address=0.0.0.0 --nat=extip:172.18.158.22 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cc66de5a3bde51138aeaa27db4d887010e88ebb26deedb1c3efdc5dc1a6ecbaa --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=19752 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QOC66z-Corv1SguJPsaoTcaBq8soiJowbA9bWon_VIJ5AuCbQ9pRjMgM96Kk4eD-XC6_7dgEmRar7xVUvM8Lz0wCgmlkgnY0gmlwhKwSH6qKbXVsdGlhZGRyc5YACASsEh-qBp1-AAoErBIfqgadf90DgnJzhQADAQAAiXNlY3AyNTZrMaEDP1GBNkC0URBimCqbgRFstSNaeCT-byMNwmZal937Av-DdGNwgp1-g3VkcIKdgIV3YWt1MgU --filternode=/ip4/172.18.31.170/tcp/40318/p2p/16Uiu2HAmGvA7qrRneWn3akj2REzvJ3KwnsfzS4LEbNnRTMQuWizi
2025-02-06 15:46:49.282 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.158.22 waku d5b8d3b9210030d5934b0f53e5a6cb1691c045ffbce3faf2b59d6cbbeb5ff314
2025-02-06 15:46:49.335 DEBUG [src.node.docker_mananger] Container started with ID d5b8d3b92100. Setting up logs at ./log/docker/node3_2025-02-06_15-46-46__a2998322-9728-4521-a21a-ff4b0f796161__quay.io_wakuorg_nwaku-pr:3281.log
2025-02-06 15:46:49.335 DEBUG [src.node.waku_node] Started container from image quay.io/wakuorg/nwaku-pr:3281. REST: 19748
2025-02-06 15:46:49.336 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-06 15:46:50.337 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19748/health" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:46:50.340 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-06 15:46:50.340 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-06 15:46:50.341 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19748/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:46:50.343 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.158.22/tcp/19749/p2p/16Uiu2HAmF5Pt6UkPrZQUdtNfrk1Tjym6gKjTzXKwqrgseJ3zRr2P","/ip4/172.18.158.22/tcp/19750/ws/p2p/16Uiu2HAmF5Pt6UkPrZQUdtNfrk1Tjym6gKjTzXKwqrgseJ3zRr2P"],"enrUri":"enr:-L24QEXBYAxM4zyRwom50a3X_fhIwW6elFOzjyotCYjYBYHPVv5aWR7kVp0tp_r5CJOL-1V_Rr_gJAp4jwn0xnlDeY8CgmlkgnY0gmlwhKwSnhaKbXVsdGlhZGRyc5YACASsEp4WBk0lAAoErBKeFgZNJt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDI_frhTMDmoBxx-YINpgbO0ThJtvGszzfWm3tU8kepoSDdGNwgk0lg3VkcIJNJ4V3YWt1MgA"}'
2025-02-06 15:46:50.343 INFO [src.node.waku_node] REST service is ready !!
2025-02-06 15:46:50.344 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:19748/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.31.170/tcp/40318/p2p/16Uiu2HAmGvA7qrRneWn3akj2REzvJ3KwnsfzS4LEbNnRTMQuWizi"]'
2025-02-06 15:46:50.364 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:46:50.375 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-06 15:46:50.376 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node4_2025-02-06_15-46-46__a2998322-9728-4521-a21a-ff4b0f796161__wakuorg_go-waku:latest.log
2025-02-06 15:46:50.376 DEBUG [src.node.waku_node] Starting Node...
2025-02-06 15:46:50.377 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-06 15:46:50.380 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-06 15:46:50.381 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.22.161
2025-02-06 15:46:50.381 DEBUG [src.node.docker_mananger] Generated ports ['55952', '55953', '55954', '55955', '55956']
2025-02-06 15:46:50.381 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-06 15:46:50.381 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-06 15:46:50.381 DEBUG [src.node.waku_node] Using volumes []
2025-02-06 15:46:50.383 DEBUG [src.node.docker_mananger] docker run -i -t -p 55952:55952 -p 55953:55953 -p 55954:55954 -p 55955:55955 -p 55956:55956 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=55954 --rest-port=55952 --tcp-port=55953 --discv5-udp-port=55955 --rest-address=0.0.0.0 --nat=extip:172.18.22.161 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=71ebbcc4ce42b2e8b28e0b39dc6bc421e34c7c6d4ae9acb9b85dfbd7fe3d1d72 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QOC66z-Corv1SguJPsaoTcaBq8soiJowbA9bWon_VIJ5AuCbQ9pRjMgM96Kk4eD-XC6_7dgEmRar7xVUvM8Lz0wCgmlkgnY0gmlwhKwSH6qKbXVsdGlhZGRyc5YACASsEh-qBp1-AAoErBIfqgadf90DgnJzhQADAQAAiXNlY3AyNTZrMaEDP1GBNkC0URBimCqbgRFstSNaeCT-byMNwmZal937Av-DdGNwgp1-g3VkcIKdgIV3YWt1MgU --filternode=/ip4/172.18.31.170/tcp/40318/p2p/16Uiu2HAmGvA7qrRneWn3akj2REzvJ3KwnsfzS4LEbNnRTMQuWizi --pubsub-topic=/waku/2/rs/3/1
2025-02-06 15:46:50.618 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.22.161 waku 174dac6c97bb2706299ad06fb4dc61aac64d3a06457000a8b50eda90db17e846
2025-02-06 15:46:50.669 DEBUG [src.node.docker_mananger] Container started with ID 174dac6c97bb. Setting up logs at ./log/docker/node4_2025-02-06_15-46-46__a2998322-9728-4521-a21a-ff4b0f796161__wakuorg_go-waku:latest.log
2025-02-06 15:46:50.671 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 55952
2025-02-06 15:46:50.671 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-06 15:46:51.672 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55952/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:46:51.674 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QGKEI6xExL9gTjEODzt4-EoOSnZbzfbi_oFItEYOVXVtfN70MaK0usKXmEeZBYzQrFS8P4mYRM-q2s78NjCYj_yGAZTb8UirgmlkgnY0gmlwhKwRAAWCcnOFAAMBAAGJc2VjcDI1NmsxoQJK9yW7C2miPS5Qa1HpN6hyzn2WjmM12tPIK3OpAX0hpYN0Y3CC2pGDdWRwgtqThXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/55953/p2p/16Uiu2HAkzUJjBNDC1XQADKSPaQmdKnoQyxn3KPMgjb97dXJ2TZNc","/ip4/127.0.0.1/tcp/55954/ws/p2p/16Uiu2HAkzUJjBNDC1XQADKSPaQmdKnoQyxn3KPMgjb97dXJ2TZNc","/ip4/172.17.0.5/tcp/55953/p2p/16Uiu2HAkzUJjBNDC1XQADKSPaQmdKnoQyxn3KPMgjb97dXJ2TZNc","/ip4/172.17.0.5/tcp/55954/ws/p2p/16Uiu2HAkzUJjBNDC1XQADKSPaQmdKnoQyxn3KPMgjb97dXJ2TZNc"]}'
2025-02-06 15:46:51.675 INFO [src.node.waku_node] REST service is ready !!
2025-02-06 15:46:51.675 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55952/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.31.170/tcp/40318/p2p/16Uiu2HAmGvA7qrRneWn3akj2REzvJ3KwnsfzS4LEbNnRTMQuWizi", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-06 15:46:51.677 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-06 15:46:51.684 DEBUG [src.node.docker_mananger] Docker client initialized with image quay.io/wakuorg/nwaku-pr:3281
2025-02-06 15:46:51.684 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node5_2025-02-06_15-46-46__a2998322-9728-4521-a21a-ff4b0f796161__quay.io_wakuorg_nwaku-pr:3281.log
2025-02-06 15:46:51.684 DEBUG [src.node.waku_node] Starting Node...
2025-02-06 15:46:51.684 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-06 15:46:51.686 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-06 15:46:51.686 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.197.68
2025-02-06 15:46:51.686 DEBUG [src.node.docker_mananger] Generated ports ['46908', '46909', '46910', '46911', '46912']
2025-02-06 15:46:51.686 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-06 15:46:51.687 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-06 15:46:51.687 DEBUG [src.node.waku_node] Using volumes []
2025-02-06 15:46:51.687 DEBUG [src.node.docker_mananger] docker run -i -t -p 46908:46908 -p 46909:46909 -p 46910:46910 -p 46911:46911 -p 46912:46912 quay.io/wakuorg/nwaku-pr:3281 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=46910 --rest-port=46908 --tcp-port=46909 --discv5-udp-port=46911 --rest-address=0.0.0.0 --nat=extip:172.18.197.68 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9cd850f4a15b73a6b7cc7dbbe0b75eb320d0689e0ee8be570bd3cfdd9eba3c20 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=46912 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QOC66z-Corv1SguJPsaoTcaBq8soiJowbA9bWon_VIJ5AuCbQ9pRjMgM96Kk4eD-XC6_7dgEmRar7xVUvM8Lz0wCgmlkgnY0gmlwhKwSH6qKbXVsdGlhZGRyc5YACASsEh-qBp1-AAoErBIfqgadf90DgnJzhQADAQAAiXNlY3AyNTZrMaEDP1GBNkC0URBimCqbgRFstSNaeCT-byMNwmZal937Av-DdGNwgp1-g3VkcIKdgIV3YWt1MgU --filternode=/ip4/172.18.31.170/tcp/40318/p2p/16Uiu2HAmGvA7qrRneWn3akj2REzvJ3KwnsfzS4LEbNnRTMQuWizi
2025-02-06 15:46:51.919 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.197.68 waku fcdc5f0be09c2db7f5ab8aa8bae3e460b9be85bd7983887355a0d7d6595ef9d3
2025-02-06 15:46:51.971 DEBUG [src.node.docker_mananger] Container started with ID fcdc5f0be09c. Setting up logs at ./log/docker/node5_2025-02-06_15-46-46__a2998322-9728-4521-a21a-ff4b0f796161__quay.io_wakuorg_nwaku-pr:3281.log
2025-02-06 15:46:51.971 DEBUG [src.node.waku_node] Started container from image quay.io/wakuorg/nwaku-pr:3281. REST: 46908
2025-02-06 15:46:51.972 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-06 15:46:52.972 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46908/health" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:46:52.975 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-06 15:46:52.975 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-06 15:46:52.976 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46908/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:46:52.978 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.197.68/tcp/46909/p2p/16Uiu2HAmUgnz7K4nxF7qdfxisnhkR1Ez4hLrXChtMSEszPkNsb7u","/ip4/172.18.197.68/tcp/46910/ws/p2p/16Uiu2HAmUgnz7K4nxF7qdfxisnhkR1Ez4hLrXChtMSEszPkNsb7u"],"enrUri":"enr:-L24QPTgYN-OiAupzY7IwRwypLJKgk-Fhn2pSNJPK1MrJvdsRfK7kIdV-qzKCUIQ74cHHVbkcWkdTOFjfGT7__--SI4CgmlkgnY0gmlwhKwSxUSKbXVsdGlhZGRyc5YACASsEsVEBrc9AAoErBLFRAa3Pt0DgnJzhQADAQAAiXNlY3AyNTZrMaED7jFNQlmWwHpXf2umfy-nGrVkylKnodDFaMGwsZXryFiDdGNwgrc9g3VkcIK3P4V3YWt1MgA"}'
2025-02-06 15:46:52.978 INFO [src.node.waku_node] REST service is ready !!
2025-02-06 15:46:52.979 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46908/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.31.170/tcp/40318/p2p/16Uiu2HAmGvA7qrRneWn3akj2REzvJ3KwnsfzS4LEbNnRTMQuWizi"]'
2025-02-06 15:46:53.003 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:46:53.005 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40317/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-06 15:46:53.011 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:46:53.012 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39206/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "508ba56f-44ad-4cbe-836c-0fa12e4db87d", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2025-02-06 15:46:53.019 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"508ba56f-44ad-4cbe-836c-0fa12e4db87d","statusDesc":"OK"}'
2025-02-06 15:46:53.020 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:19748/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "b9eef5a3-6d62-4fab-897f-dca5cf87858b", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2025-02-06 15:46:53.031 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"b9eef5a3-6d62-4fab-897f-dca5cf87858b","statusDesc":"OK"}'
2025-02-06 15:46:53.032 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:55952/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "6e963b3e-fc1b-403f-85fc-034825fc7e12", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2025-02-06 15:46:53.037 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"6e963b3e-fc1b-403f-85fc-034825fc7e12","statusDesc":"OK"}'
2025-02-06 15:46:53.038 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:46908/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "c4efe62d-1499-42a7-bd9d-9dbb12aad2db", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2025-02-06 15:46:53.046 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"c4efe62d-1499-42a7-bd9d-9dbb12aad2db","statusDesc":"OK"}'
2025-02-06 15:46:53.047 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:40317/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 15:46:53.064 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:46:53.064 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:46:53.164 DEBUG [src.steps.filter] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-06 15:46:53.165 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39206/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:46:53.167 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1738856813047429120,"ephemeral":false}]'
2025-02-06 15:46:53.169 DEBUG [src.steps.filter] Checking that peer NODE_3:quay.io/wakuorg/nwaku-pr:3281 can find the published message
2025-02-06 15:46:53.169 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19748/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:46:53.172 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1738856813047429120,"ephemeral":false}]'
2025-02-06 15:46:53.173 DEBUG [src.steps.filter] Checking that peer NODE_4:wakuorg/go-waku:latest can find the published message
2025-02-06 15:46:53.173 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:55952/filter/v2/messages/%2Fwaku%2F2%2Frs%2F3%2F1/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:46:53.175 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1738856813047429120,"ephemeral":false}]'
2025-02-06 15:46:53.177 DEBUG [src.steps.filter] Checking that peer NODE_5:quay.io/wakuorg/nwaku-pr:3281 can find the published message
2025-02-06 15:46:53.177 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:46908/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:46:53.179 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1738856813047429120,"ephemeral":false}]'
2025-02-06 15:46:53.182 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-06 15:46:53.183 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-06 15:46:53.183 DEBUG [src.node.waku_node] Stopping container with id d6e5685f9101
2025-02-06 15:46:53.763 DEBUG [src.node.waku_node] Container stopped.
2025-02-06 15:46:53.763 DEBUG [src.node.waku_node] Stopping container with id 8dfc4a5f56d1
2025-02-06 15:46:54.280 DEBUG [src.node.waku_node] Container stopped.
2025-02-06 15:46:54.282 DEBUG [src.node.waku_node] Stopping container with id d5b8d3b92100
2025-02-06 15:46:54.577 ERROR [src.node.docker_mananger] Max retries reached for container d6e5685f9101. Exiting log stream.
2025-02-06 15:46:55.102 ERROR [src.node.docker_mananger] Max retries reached for container 8dfc4a5f56d1. Exiting log stream.
2025-02-06 15:46:55.337 DEBUG [src.node.waku_node] Container stopped.
2025-02-06 15:46:55.337 DEBUG [src.node.waku_node] Stopping container with id 174dac6c97bb
2025-02-06 15:46:55.845 DEBUG [src.node.waku_node] Container stopped.
2025-02-06 15:46:55.845 DEBUG [src.node.waku_node] Stopping container with id fcdc5f0be09c
2025-02-06 15:46:56.151 ERROR [src.node.docker_mananger] Max retries reached for container d5b8d3b92100. Exiting log stream.
2025-02-06 15:46:56.659 ERROR [src.node.docker_mananger] Max retries reached for container 174dac6c97bb. Exiting log stream.
2025-02-06 15:46:57.366 DEBUG [src.node.waku_node] Container stopped.
2025-02-06 15:46:57.367 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-06 15:46:57.380 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-06 15:46:57.385 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-06 15:46:57.389 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-06 15:46:57.391 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-06 15:46:57.395 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
