[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2025-01-17_11-06-04__f64d63be-46ce-490e-a71d-138587d2b508
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3244
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-01-17_11-06-04__f64d63be-46ce-490e-a71d-138587d2b508__quay.io_wakuorg_nwaku-pr:3244.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.54.213
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['25874', '25875', '25876', '25877', '25878']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 25874:25874 -p 25875:25875 -p 25876:25876 -p 25877:25877 -p 25878:25878 quay.io/wakuorg/nwaku-pr:3244 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=25876 --rest-port=25874 --tcp-port=25875 --discv5-udp-port=25877 --rest-address=0.0.0.0 --nat=extip:172.18.54.213 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5eb0ba22f87e3bcbcdbdc23c70e865ef2b3eac8ddc1379c98230324acab8bdea --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=25878 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.54.213 waku 557e0b67a3dd6f08be8a536c0c6dba843710c33516d35e2ca8936fa3fae98b5c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 557e0b67a3dd. Setting up logs at ./log/docker/node1_2025-01-17_11-06-04__f64d63be-46ce-490e-a71d-138587d2b508__quay.io_wakuorg_nwaku-pr:3244.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3244. REST: 25874
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 676682ba5408. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25874/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25874/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.54.213/tcp/25875/p2p/16Uiu2HAmR3C9oKSoGRYo56Xq2MYegLHPEriRqtRDS2qsXMStFUJZ","/ip4/172.18.54.213/tcp/25876/ws/p2p/16Uiu2HAmR3C9oKSoGRYo56Xq2MYegLHPEriRqtRDS2qsXMStFUJZ"],"enrUri":"enr:-L24QEPo-QMPn43p8v9QYwfG0XC7Ah1Lu1iJqLeZJdfQJ2dOeDIHGJs1S-JiCHdoJvWuPFWL-tCJo6koLYaoW5mQJ-YCgmlkgnY0gmlwhKwSNtWKbXVsdGlhZGRyc5YACASsEjbVBmUTAAoErBI21QZlFN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDt_xdh9C8z8SyCQ-RUsY9EanKRVApDJ-eiw5H9Wg6IcaDdGNwgmUTg3VkcIJlFYV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3244
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-01-17_11-06-04__f64d63be-46ce-490e-a71d-138587d2b508__quay.io_wakuorg_nwaku-pr:3244.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.51.117
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['8056', '8057', '8058', '8059', '8060']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 8056:8056 -p 8057:8057 -p 8058:8058 -p 8059:8059 -p 8060:8060 quay.io/wakuorg/nwaku-pr:3244 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=8058 --rest-port=8056 --tcp-port=8057 --discv5-udp-port=8059 --rest-address=0.0.0.0 --nat=extip:172.18.51.117 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2f1baacb4022eb5bafcd1e99cd1b4ec3d8db9ebba7f2b1fc6dd8a4aacdbbdb35 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=8060 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QEPo-QMPn43p8v9QYwfG0XC7Ah1Lu1iJqLeZJdfQJ2dOeDIHGJs1S-JiCHdoJvWuPFWL-tCJo6koLYaoW5mQJ-YCgmlkgnY0gmlwhKwSNtWKbXVsdGlhZGRyc5YACASsEjbVBmUTAAoErBI21QZlFN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDt_xdh9C8z8SyCQ-RUsY9EanKRVApDJ-eiw5H9Wg6IcaDdGNwgmUTg3VkcIJlFYV3YWt1MgU --filternode=/ip4/172.18.54.213/tcp/25875/p2p/16Uiu2HAmR3C9oKSoGRYo56Xq2MYegLHPEriRqtRDS2qsXMStFUJZ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.51.117 waku 4676a62c6c94e86782e76209030accd5ebdf9c94dda8bf20f2dc518dab65a459
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 4676a62c6c94. Setting up logs at ./log/docker/node2_2025-01-17_11-06-04__f64d63be-46ce-490e-a71d-138587d2b508__quay.io_wakuorg_nwaku-pr:3244.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3244. REST: 8056
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8056/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8056/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.51.117/tcp/8057/p2p/16Uiu2HAkxGsAH9AGJcNZbsYazpyCYymtcH5WB1UjPcnNTaDT6oH7","/ip4/172.18.51.117/tcp/8058/ws/p2p/16Uiu2HAkxGsAH9AGJcNZbsYazpyCYymtcH5WB1UjPcnNTaDT6oH7"],"enrUri":"enr:-L24QAHq8EuxdCFpjfmDUIXp8St0Dg3xrCgYNOy5ZvweXmmYZ7mHlmo7U6sqz1wJi2UHQXLyXC2k52zy7sf7DcxU_fUCgmlkgnY0gmlwhKwSM3WKbXVsdGlhZGRyc5YACASsEjN1Bh95AAoErBIzdQYfet0DgnJzhQADAQAAiXNlY3AyNTZrMaECKlF5xFsB-H5qYuUIyXMySGclJrlb9azokOMXrmG5nEaDdGNwgh95g3VkcIIfe4V3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8056/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.54.213/tcp/25875/p2p/16Uiu2HAmR3C9oKSoGRYo56Xq2MYegLHPEriRqtRDS2qsXMStFUJZ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3244
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2025-01-17_11-06-04__f64d63be-46ce-490e-a71d-138587d2b508__quay.io_wakuorg_nwaku-pr:3244.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.115.121
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['13098', '13099', '13100', '13101', '13102']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 13098:13098 -p 13099:13099 -p 13100:13100 -p 13101:13101 -p 13102:13102 quay.io/wakuorg/nwaku-pr:3244 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=13100 --rest-port=13098 --tcp-port=13099 --discv5-udp-port=13101 --rest-address=0.0.0.0 --nat=extip:172.18.115.121 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2c6d58ce70cbf442f3c4e3b9feaecad0550e50feaa15bb4e8cc53352b74c8ee9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=13102 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QEPo-QMPn43p8v9QYwfG0XC7Ah1Lu1iJqLeZJdfQJ2dOeDIHGJs1S-JiCHdoJvWuPFWL-tCJo6koLYaoW5mQJ-YCgmlkgnY0gmlwhKwSNtWKbXVsdGlhZGRyc5YACASsEjbVBmUTAAoErBI21QZlFN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDt_xdh9C8z8SyCQ-RUsY9EanKRVApDJ-eiw5H9Wg6IcaDdGNwgmUTg3VkcIJlFYV3YWt1MgU --filternode=/ip4/172.18.54.213/tcp/25875/p2p/16Uiu2HAmR3C9oKSoGRYo56Xq2MYegLHPEriRqtRDS2qsXMStFUJZ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.115.121 waku 536988164b639e7ace60ba451015007c55ab2f56cb21196fea30e2efde44bc2d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 536988164b63. Setting up logs at ./log/docker/node3_2025-01-17_11-06-04__f64d63be-46ce-490e-a71d-138587d2b508__quay.io_wakuorg_nwaku-pr:3244.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3244. REST: 13098
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13098/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13098/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.115.121/tcp/13099/p2p/16Uiu2HAmQt4KVG3QySe3uEwBeA9gm9qftmNEHnQSVZBX7M5GMS4i","/ip4/172.18.115.121/tcp/13100/ws/p2p/16Uiu2HAmQt4KVG3QySe3uEwBeA9gm9qftmNEHnQSVZBX7M5GMS4i"],"enrUri":"enr:-L24QB0dwsEjoQApY1FtoFlZr6hYZdcp7y3euCX51iNCk3KDGCraoFj4nK7Fu_SkFbSwlVg606rJtgri4SMhf3ur3hkCgmlkgnY0gmlwhKwSc3mKbXVsdGlhZGRyc5YACASsEnN5BjMrAAoErBJzeQYzLN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDtaVIBLqDRirPRRIiDCUPJTFQJLXoApkZHvtQny0FfOuDdGNwgjMrg3VkcIIzLYV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13098/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.54.213/tcp/25875/p2p/16Uiu2HAmR3C9oKSoGRYo56Xq2MYegLHPEriRqtRDS2qsXMStFUJZ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2025-01-17_11-06-04__f64d63be-46ce-490e-a71d-138587d2b508__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.56.22
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['52260', '52261', '52262', '52263', '52264']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 52260:52260 -p 52261:52261 -p 52262:52262 -p 52263:52263 -p 52264:52264 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=52262 --rest-port=52260 --tcp-port=52261 --discv5-udp-port=52263 --rest-address=0.0.0.0 --nat=extip:172.18.56.22 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=eb384fbb26519bababecd88cedbf1b2caf98ac8eaf739ddd135a0edbedfffb8d --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-L24QEPo-QMPn43p8v9QYwfG0XC7Ah1Lu1iJqLeZJdfQJ2dOeDIHGJs1S-JiCHdoJvWuPFWL-tCJo6koLYaoW5mQJ-YCgmlkgnY0gmlwhKwSNtWKbXVsdGlhZGRyc5YACASsEjbVBmUTAAoErBI21QZlFN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDt_xdh9C8z8SyCQ-RUsY9EanKRVApDJ-eiw5H9Wg6IcaDdGNwgmUTg3VkcIJlFYV3YWt1MgU --filternode=/ip4/172.18.54.213/tcp/25875/p2p/16Uiu2HAmR3C9oKSoGRYo56Xq2MYegLHPEriRqtRDS2qsXMStFUJZ --pubsub-topic=/waku/2/rs/3/1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.56.22 waku 095e8f58b3712290e6cfd9543257e62547154779e0d480fc6c1bf7defea07444
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 095e8f58b371. Setting up logs at ./log/docker/node4_2025-01-17_11-06-04__f64d63be-46ce-490e-a71d-138587d2b508__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 52260
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52260/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QKEyzmyvInCGQbw5JgWqWh3a3HTbiaEi7bzoZwqDO9lWebpbikFtSgy31ksehclP4fgHDS6b6ibbQPCgmOkSiZ-GAZRz8SnRgmlkgnY0gmlwhKwRAAWCcnOFAAMBAAGJc2VjcDI1NmsxoQK1Cqwz6frABAlOOuA44HKjpZ5plew6EpEGDZNu_3aaXoN0Y3CCzCWDdWRwgswnhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/52261/p2p/16Uiu2HAm7cPDGHXFBV7mpNPECXWrTmyeJPwDHGfmF486C4aGu3Pj","/ip4/127.0.0.1/tcp/52262/ws/p2p/16Uiu2HAm7cPDGHXFBV7mpNPECXWrTmyeJPwDHGfmF486C4aGu3Pj","/ip4/172.17.0.5/tcp/52261/p2p/16Uiu2HAm7cPDGHXFBV7mpNPECXWrTmyeJPwDHGfmF486C4aGu3Pj","/ip4/172.17.0.5/tcp/52262/ws/p2p/16Uiu2HAm7cPDGHXFBV7mpNPECXWrTmyeJPwDHGfmF486C4aGu3Pj"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52260/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.54.213/tcp/25875/p2p/16Uiu2HAmR3C9oKSoGRYo56Xq2MYegLHPEriRqtRDS2qsXMStFUJZ", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3244
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2025-01-17_11-06-04__f64d63be-46ce-490e-a71d-138587d2b508__quay.io_wakuorg_nwaku-pr:3244.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.29.85
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['41800', '41801', '41802', '41803', '41804']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 41800:41800 -p 41801:41801 -p 41802:41802 -p 41803:41803 -p 41804:41804 quay.io/wakuorg/nwaku-pr:3244 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=41802 --rest-port=41800 --tcp-port=41801 --discv5-udp-port=41803 --rest-address=0.0.0.0 --nat=extip:172.18.29.85 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=adda389f70996e25cbb49f2f5ec94a67b8bcfd4d8e2a0cbcdcf388c02ce9ce3f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=41804 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QEPo-QMPn43p8v9QYwfG0XC7Ah1Lu1iJqLeZJdfQJ2dOeDIHGJs1S-JiCHdoJvWuPFWL-tCJo6koLYaoW5mQJ-YCgmlkgnY0gmlwhKwSNtWKbXVsdGlhZGRyc5YACASsEjbVBmUTAAoErBI21QZlFN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDt_xdh9C8z8SyCQ-RUsY9EanKRVApDJ-eiw5H9Wg6IcaDdGNwgmUTg3VkcIJlFYV3YWt1MgU --filternode=/ip4/172.18.54.213/tcp/25875/p2p/16Uiu2HAmR3C9oKSoGRYo56Xq2MYegLHPEriRqtRDS2qsXMStFUJZ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.29.85 waku 99cd771599c86b85934d177c98b6d70f650f48cd89f99c2e16505c7f7ee04e88
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 99cd771599c8. Setting up logs at ./log/docker/node5_2025-01-17_11-06-04__f64d63be-46ce-490e-a71d-138587d2b508__quay.io_wakuorg_nwaku-pr:3244.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3244. REST: 41800
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41800/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41800/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.29.85/tcp/41801/p2p/16Uiu2HAkzXhhFguFdnvRpou9d2QXGiNaK7DLnbu4cDenmjd347dK","/ip4/172.18.29.85/tcp/41802/ws/p2p/16Uiu2HAkzXhhFguFdnvRpou9d2QXGiNaK7DLnbu4cDenmjd347dK"],"enrUri":"enr:-L24QDI75NPb2OQ6ROlgZL9cDn1gWi8PS6uxasq5shgZi3shZftRUeGOssnjbexVRpkWW9TWCfGeGM3kKHQvPcZdqhMCgmlkgnY0gmlwhKwSHVWKbXVsdGlhZGRyc5YACASsEh1VBqNJAAoErBIdVQajSt0DgnJzhQADAQAAiXNlY3AyNTZrMaECS9Xbw-8qnw0TJnXkNry_z0M6QyPsMC74LoZQzlvVhaqDdGNwgqNJg3VkcIKjS4V3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41800/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.54.213/tcp/25875/p2p/16Uiu2HAmR3C9oKSoGRYo56Xq2MYegLHPEriRqtRDS2qsXMStFUJZ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:25874/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8056/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "3fd768c9-44b6-4bd0-a52f-5bf9d2922a5d", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"3fd768c9-44b6-4bd0-a52f-5bf9d2922a5d","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13098/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "8726e090-91fd-48b7-b677-b7f39caf105e", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"8726e090-91fd-48b7-b677-b7f39caf105e","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52260/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "59692bfb-485c-43fc-b4e8-c1597ebda308", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"59692bfb-485c-43fc-b4e8-c1597ebda308","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41800/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "b83de048-7716-455c-afeb-b7ca0ce05093", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"b83de048-7716-455c-afeb-b7ca0ce05093","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:25874/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3244 can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8056/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1737111974678086400,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:25874/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3244 can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13098/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:13098/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 557e0b67a3dd
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 4676a62c6c94
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 557e0b67a3dd. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 536988164b63
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 095e8f58b371
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 4676a62c6c94. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 99cd771599c8
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 536988164b63. Exiting log stream.
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 095e8f58b371. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.