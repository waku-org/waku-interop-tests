[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_multiple_edge_service_nodes_communication with id: 2025-01-30_11-41-49__fac9c646-7445-461c-8591-47f84915e3c0
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:28 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3234
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-01-30_11-41-49__fac9c646-7445-461c-8591-47f84915e3c0__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3234
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-01-30_11-41-49__fac9c646-7445-461c-8591-47f84915e3c0__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3234
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2025-01-30_11-41-49__fac9c646-7445-461c-8591-47f84915e3c0__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3234
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2025-01-30_11-41-49__fac9c646-7445-461c-8591-47f84915e3c0__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3234
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2025-01-30_11-41-49__fac9c646-7445-461c-8591-47f84915e3c0__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3234
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node6_2025-01-30_11-41-49__fac9c646-7445-461c-8591-47f84915e3c0__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3234
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node7_2025-01-30_11-41-49__fac9c646-7445-461c-8591-47f84915e3c0__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3234
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node8_2025-01-30_11-41-49__fac9c646-7445-461c-8591-47f84915e3c0__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:439 Start 2 edges nodes and 3 service nodes 
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:33 Network waku created
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.65.14
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['16508', '16509', '16510', '16511', '16512']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 16508:16508 -p 16509:16509 -p 16510:16510 -p 16511:16511 -p 16512:16512 quay.io/wakuorg/nwaku-pr:3234 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=16510 --rest-port=16508 --tcp-port=16509 --discv5-udp-port=16511 --rest-address=0.0.0.0 --nat=extip:172.18.65.14 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b1a3bffbe97bd6deecccfaf5ca9146befc28e963ecc8a7c35f344dd85bdcdbcc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=16512 --metrics-logging=true --relay=true --store=true --lightpush=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.65.14 waku fbd32bea67dbba28baf2e34f89e5d4dbbd13ec16e7a581ba31255f3be494213c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID fbd32bea67db. Setting up logs at ./log/docker/node6_2025-01-30_11-41-49__fac9c646-7445-461c-8591-47f84915e3c0__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3234. REST: 16508
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16508/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16508/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.65.14/tcp/16509/p2p/16Uiu2HAmLgVziHkUJsGNVBkf9xYMESkzDK8m6w6GgaXiH3DpcDnR","/ip4/172.18.65.14/tcp/16510/ws/p2p/16Uiu2HAmLgVziHkUJsGNVBkf9xYMESkzDK8m6w6GgaXiH3DpcDnR"],"enrUri":"enr:-L24QGyAqK_FALzFWYuOTGQWW0y2TWobiT44zRG60W9P81qYdxT2Bm5sGU43tlkZwPXmneofHlvAE0RK7zSBqp9daAkCgmlkgnY0gmlwhKwSQQ6KbXVsdGlhZGRyc5YACASsEkEOBkB9AAoErBJBDgZAft0DgnJzhQADAQAAiXNlY3AyNTZrMaEDd0CYnyDLjSfCcAnzSUKRZK3ehyV673DG-vaVlnJ9emKDdGNwgkB9g3VkcIJAf4V3YWt1Mgs"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.15.202
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['1633', '1634', '1635', '1636', '1637']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 1633:1633 -p 1634:1634 -p 1635:1635 -p 1636:1636 -p 1637:1637 quay.io/wakuorg/nwaku-pr:3234 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=1635 --rest-port=1633 --tcp-port=1634 --discv5-udp-port=1636 --rest-address=0.0.0.0 --nat=extip:172.18.15.202 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9f49464aa3b36baebfa7f53d66f9f18debbd3559f93d0f1a3bb9dba19dffeacd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=1637 --metrics-logging=true --relay=false --lightpushnode=/ip4/172.18.65.14/tcp/16509/p2p/16Uiu2HAmLgVziHkUJsGNVBkf9xYMESkzDK8m6w6GgaXiH3DpcDnR --discv5-bootstrap-node=enr:-L24QGyAqK_FALzFWYuOTGQWW0y2TWobiT44zRG60W9P81qYdxT2Bm5sGU43tlkZwPXmneofHlvAE0RK7zSBqp9daAkCgmlkgnY0gmlwhKwSQQ6KbXVsdGlhZGRyc5YACASsEkEOBkB9AAoErBJBDgZAft0DgnJzhQADAQAAiXNlY3AyNTZrMaEDd0CYnyDLjSfCcAnzSUKRZK3ehyV673DG-vaVlnJ9emKDdGNwgkB9g3VkcIJAf4V3YWt1Mgs
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.15.202 waku f434945136db91d1e7bbd5dfd1cbbcb3ba2b0093a0a16b34371cc70540bd7063
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID f434945136db. Setting up logs at ./log/docker/node4_2025-01-30_11-41-49__fac9c646-7445-461c-8591-47f84915e3c0__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3234. REST: 1633
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1633/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1633/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.15.202/tcp/1634/p2p/16Uiu2HAmDfkcJJcABUquXPrrjnssyZxYus1Yfq1nMVC1Xgx5sHdQ","/ip4/172.18.15.202/tcp/1635/ws/p2p/16Uiu2HAmDfkcJJcABUquXPrrjnssyZxYus1Yfq1nMVC1Xgx5sHdQ"],"enrUri":"enr:-L24QBTbrBGT8UOR-6-Ez65K3rGchnjk5MTb3ZkDfRQFzbf8KkRk-x398lq07-Sb-HkIiZlA6NGYQEk6Pwl9rp4S9O4CgmlkgnY0gmlwhKwSD8qKbXVsdGlhZGRyc5YACASsEg_KBgZiAAoErBIPygYGY90DgnJzhQADAQAAiXNlY3AyNTZrMaEDDw27AVacBf2nIzhEzOjLoXQl6YYhHSzsT1yrlOdW3K-DdGNwggZig3VkcIIGZIV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.15.49
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['58598', '58599', '58600', '58601', '58602']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 58598:58598 -p 58599:58599 -p 58600:58600 -p 58601:58601 -p 58602:58602 quay.io/wakuorg/nwaku-pr:3234 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=58600 --rest-port=58598 --tcp-port=58599 --discv5-udp-port=58601 --rest-address=0.0.0.0 --nat=extip:172.18.15.49 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e26bfd0c8653ccc3e8af6ebfdb08cba474bdd45f3e4ceda3a8feeccda4dbebbd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=58602 --metrics-logging=true --relay=true --store=true --discv5-bootstrap-node=enr:-L24QGyAqK_FALzFWYuOTGQWW0y2TWobiT44zRG60W9P81qYdxT2Bm5sGU43tlkZwPXmneofHlvAE0RK7zSBqp9daAkCgmlkgnY0gmlwhKwSQQ6KbXVsdGlhZGRyc5YACASsEkEOBkB9AAoErBJBDgZAft0DgnJzhQADAQAAiXNlY3AyNTZrMaEDd0CYnyDLjSfCcAnzSUKRZK3ehyV673DG-vaVlnJ9emKDdGNwgkB9g3VkcIJAf4V3YWt1Mgs
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.15.49 waku 1eeb11a53aa2dc34a2bace51f486a0a23c294cd1215b6f17b0720c7dad5b7268
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 1eeb11a53aa2. Setting up logs at ./log/docker/node7_2025-01-30_11-41-49__fac9c646-7445-461c-8591-47f84915e3c0__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3234. REST: 58598
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58598/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58598/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.15.49/tcp/58599/p2p/16Uiu2HAmTwx2hmgGyyuAzKsgWJE2Bhqpbevbqh4pFZyREji7ATpi","/ip4/172.18.15.49/tcp/58600/ws/p2p/16Uiu2HAmTwx2hmgGyyuAzKsgWJE2Bhqpbevbqh4pFZyREji7ATpi"],"enrUri":"enr:-L24QHzUGqkCnloAZbW5X4SzPaJ8GGxc0JyRJ8ndXPmdGplZJwmXqNSknq57DMVaq8Kc1LWTPhd3djBi7aFWBybxssICgmlkgnY0gmlwhKwSDzGKbXVsdGlhZGRyc5YACASsEg8xBuTnAAoErBIPMQbk6N0DgnJzhQADAQAAiXNlY3AyNTZrMaED4zeNzOjgZ6DBm37WvvKxeAh5lgGdfn6P2ccN-aWEB9-DdGNwguTng3VkcILk6YV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.200.161
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['26986', '26987', '26988', '26989', '26990']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 26986:26986 -p 26987:26987 -p 26988:26988 -p 26989:26989 -p 26990:26990 quay.io/wakuorg/nwaku-pr:3234 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=26988 --rest-port=26986 --tcp-port=26987 --discv5-udp-port=26989 --rest-address=0.0.0.0 --nat=extip:172.18.200.161 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ad1f0fbf20c8dfd3eabf59fffa68c1ba5bf4b7bcfdcb4488b3f69ddea420475b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=26990 --metrics-logging=true --relay=true --filter=true --storenode=/ip4/172.18.15.49/tcp/58599/p2p/16Uiu2HAmTwx2hmgGyyuAzKsgWJE2Bhqpbevbqh4pFZyREji7ATpi --discv5-bootstrap-node=enr:-L24QHzUGqkCnloAZbW5X4SzPaJ8GGxc0JyRJ8ndXPmdGplZJwmXqNSknq57DMVaq8Kc1LWTPhd3djBi7aFWBybxssICgmlkgnY0gmlwhKwSDzGKbXVsdGlhZGRyc5YACASsEg8xBuTnAAoErBIPMQbk6N0DgnJzhQADAQAAiXNlY3AyNTZrMaED4zeNzOjgZ6DBm37WvvKxeAh5lgGdfn6P2ccN-aWEB9-DdGNwguTng3VkcILk6YV3YWt1MgM
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.200.161 waku 368a8075e5721c07fd1d7506e6cd1097208651999afa5ad73d53c8d55cb95ce4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 368a8075e572. Setting up logs at ./log/docker/node8_2025-01-30_11-41-49__fac9c646-7445-461c-8591-47f84915e3c0__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3234. REST: 26986
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26986/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26986/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.200.161/tcp/26987/p2p/16Uiu2HAmUNCc8WQuR1ZX82bCeWEy2g1uthpf3m6dZ7J7fKRGBkMq","/ip4/172.18.200.161/tcp/26988/ws/p2p/16Uiu2HAmUNCc8WQuR1ZX82bCeWEy2g1uthpf3m6dZ7J7fKRGBkMq"],"enrUri":"enr:-L24QNj-hDBu8pdM1uP_rAne64Chjz7hDnuWq93R0beXfhZZcMJ0jp3JWHFjUwT7rTIOcW7X9cl4MBKN6LVQqHHGPkgCgmlkgnY0gmlwhKwSyKGKbXVsdGlhZGRyc5YACASsEsihBmlrAAoErBLIoQZpbN0DgnJzhQADAQAAiXNlY3AyNTZrMaED6W35jfA9pLg0Q6DFdLPAnEkpe_TB0_EsV8UodPCYQcSDdGNwgmlrg3VkcIJpbYV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.216.85
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['52684', '52685', '52686', '52687', '52688']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 52684:52684 -p 52685:52685 -p 52686:52686 -p 52687:52687 -p 52688:52688 quay.io/wakuorg/nwaku-pr:3234 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=52686 --rest-port=52684 --tcp-port=52685 --discv5-udp-port=52687 --rest-address=0.0.0.0 --nat=extip:172.18.216.85 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=256ede6e06ad4ca49ac1f92a8aadc1fcdca9ffd0c5da500d0dee6e1094b01c0a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=52688 --metrics-logging=true --relay=false --filternode=/ip4/172.18.200.161/tcp/26987/p2p/16Uiu2HAmUNCc8WQuR1ZX82bCeWEy2g1uthpf3m6dZ7J7fKRGBkMq --storenode=/ip4/172.18.15.49/tcp/58599/p2p/16Uiu2HAmTwx2hmgGyyuAzKsgWJE2Bhqpbevbqh4pFZyREji7ATpi --discv5-bootstrap-node=enr:-L24QHzUGqkCnloAZbW5X4SzPaJ8GGxc0JyRJ8ndXPmdGplZJwmXqNSknq57DMVaq8Kc1LWTPhd3djBi7aFWBybxssICgmlkgnY0gmlwhKwSDzGKbXVsdGlhZGRyc5YACASsEg8xBuTnAAoErBIPMQbk6N0DgnJzhQADAQAAiXNlY3AyNTZrMaED4zeNzOjgZ6DBm37WvvKxeAh5lgGdfn6P2ccN-aWEB9-DdGNwguTng3VkcILk6YV3YWt1MgM
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.216.85 waku 3cb3fcb5a01623cbba1edc7b8aed46af63ad40f3f519bf91c62e7b200fbc746d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 3cb3fcb5a016. Setting up logs at ./log/docker/node5_2025-01-30_11-41-49__fac9c646-7445-461c-8591-47f84915e3c0__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3234. REST: 52684
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52684/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52684/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.216.85/tcp/52685/p2p/16Uiu2HAmDQDqgEsiiPrqbFcuPH7kAkioTxN676Yi5qRBtiLwNkir","/ip4/172.18.216.85/tcp/52686/ws/p2p/16Uiu2HAmDQDqgEsiiPrqbFcuPH7kAkioTxN676Yi5qRBtiLwNkir"],"enrUri":"enr:-L24QBbbQgkhHCsLCBkzK9K6KWIAcye_vFb1bzJ44_paZzF1dtafYbQ-HevNaXRTGTRRhmyccZF2QGEiAp8LaCXzIb0CgmlkgnY0gmlwhKwS2FWKbXVsdGlhZGRyc5YACASsEthVBs3NAAoErBLYVQbNzt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDCxM6M3gHxg4xvLLjgwWp4S8MnbYquIc6oYCeHdeaoc-DdGNwgs3Ng3VkcILNz4V3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:455 Connect 3 service nodes to relay subscriptions
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16508/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58598/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26986/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16508/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"multiaddr":"/ip4/172.18.15.49/tcp/58599/p2p/16Uiu2HAmTwx2hmgGyyuAzKsgWJE2Bhqpbevbqh4pFZyREji7ATpi","protocols":[{"protocol":"/vac/waku/relay/2.0.0","connected":true},{"protocol":"/vac/waku/store-query/3.0.0","connected":true},{"protocol":"/vac/waku/store/2.0.0-beta4","connected":true},{"protocol":"/vac/waku/peer-exchange/2.0.0-alpha1","connected":true}],"origin":"UnknownOrigin"}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58598/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"multiaddr":"/ip4/172.18.65.14/tcp/16509/p2p/16Uiu2HAmLgVziHkUJsGNVBkf9xYMESkzDK8m6w6GgaXiH3DpcDnR","protocols":[{"protocol":"/vac/waku/relay/2.0.0","connected":true},{"protocol":"/vac/waku/store-query/3.0.0","connected":true},{"protocol":"/vac/waku/store/2.0.0-beta4","connected":true},{"protocol":"/vac/waku/lightpush/2.0.0-beta1","connected":true},{"protocol":"/vac/waku/peer-exchange/2.0.0-alpha1","connected":true}],"origin":"Discv5"}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26986/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"multiaddr":"/ip4/172.18.15.49/tcp/58599/p2p/16Uiu2HAmTwx2hmgGyyuAzKsgWJE2Bhqpbevbqh4pFZyREji7ATpi","protocols":[{"protocol":"/vac/waku/relay/2.0.0","connected":false},{"protocol":"/vac/waku/store-query/3.0.0","connected":false}],"origin":"Discv5"}]'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 30 seconds
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:461 Edge node2 makes filter subscription to pubsubtopic /waku/2/rs/3/1 and content topic /test/1/waku-filter/proto
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52684/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"1","statusDesc":"OK"}'
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:466 Check if service node1 receives message sent by edge node1
[35mDEBUG   [0m src.steps.light_push:light_push.py:121 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1633/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/1", "message": {"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": 1738237350454322176}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:125 Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3234 can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16508/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1738237350454322176,"ephemeral":false}]'
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:470 Check if edge node2 can query stored message
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer quay.io/wakuorg/nwaku-pr:3234 can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52684/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F1&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"1084e51d6e5758fc1afb","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x5be5eb90f6697a06e14c1de8bd2247a8baf4bc81db5d87e745ab3d2bdb4d0dcc"}]}'
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:473 Check if service node3 can query stored message
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer quay.io/wakuorg/nwaku-pr:3234 can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26986/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F1&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"3a74f5093b1822590bef","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x5be5eb90f6697a06e14c1de8bd2247a8baf4bc81db5d87e745ab3d2bdb4d0dcc"}]}'
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:476 Check if edge node2 can get sent message using filter get request 
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52684/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1738237350454322176,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id fbd32bea67db
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id f434945136db
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 1eeb11a53aa2
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container fbd32bea67db. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 368a8075e572
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container f434945136db. Exiting log stream.
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 1eeb11a53aa2. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 3cb3fcb5a016
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 368a8075e572. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.