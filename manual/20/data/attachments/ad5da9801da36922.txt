[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_pubsub_topic with id: 2025-01-17_16-35-48__c8d95809-49d4-49f0-b61b-7ef2c72756e7
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3244
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-01-17_16-35-48__c8d95809-49d4-49f0-b61b-7ef2c72756e7__quay.io_wakuorg_nwaku-pr:3244.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.209.124
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['2101', '2102', '2103', '2104', '2105']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 2101:2101 -p 2102:2102 -p 2103:2103 -p 2104:2104 -p 2105:2105 quay.io/wakuorg/nwaku-pr:3244 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=2103 --rest-port=2101 --tcp-port=2102 --discv5-udp-port=2104 --rest-address=0.0.0.0 --nat=extip:172.18.209.124 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0e3c9ec8fd3cb5cf746dff800b1ae2f63a46ae6e5fda76b15dbdcf7f9330fd7e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=2105 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.209.124 waku df025a76d76f26a6fe793ef441b3bf20d71bf3888ad7e57af6a51059bc45f259
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID df025a76d76f. Setting up logs at ./log/docker/node1_2025-01-17_16-35-48__c8d95809-49d4-49f0-b61b-7ef2c72756e7__quay.io_wakuorg_nwaku-pr:3244.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3244. REST: 2101
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 17dd1b3d7fda. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2101/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2101/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.209.124/tcp/2102/p2p/16Uiu2HAkw5M7mLFgcz4Vdj6VBwfzwxdFFf16sJx4ZSCdYu4bGTNn","/ip4/172.18.209.124/tcp/2103/ws/p2p/16Uiu2HAkw5M7mLFgcz4Vdj6VBwfzwxdFFf16sJx4ZSCdYu4bGTNn"],"enrUri":"enr:-L24QC7yvp2mpzDbwSIq9Cm9R48dq5V8BAIAKiqnBEgaldZuCSARzqIPq2j4YgFKSC63FYX6HW3qW9q3tObLVurpbykCgmlkgnY0gmlwhKwS0XyKbXVsdGlhZGRyc5YACASsEtF8Bgg2AAoErBLRfAYIN90DgnJzhQADAQAAiXNlY3AyNTZrMaECGIJuAWkUh_T7cEQ7FSpI8OAHS7KZbcvt_qR_XqkRwG-DdGNwggg2g3VkcIIIOIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3244
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-01-17_16-35-48__c8d95809-49d4-49f0-b61b-7ef2c72756e7__quay.io_wakuorg_nwaku-pr:3244.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.239.170
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['43798', '43799', '43800', '43801', '43802']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 43798:43798 -p 43799:43799 -p 43800:43800 -p 43801:43801 -p 43802:43802 quay.io/wakuorg/nwaku-pr:3244 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=43800 --rest-port=43798 --tcp-port=43799 --discv5-udp-port=43801 --rest-address=0.0.0.0 --nat=extip:172.18.239.170 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d39afcd1f7ba740021dbabc5f62a3b2c8aca39e8fe5be57febbe24b7d091faed --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=43802 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QC7yvp2mpzDbwSIq9Cm9R48dq5V8BAIAKiqnBEgaldZuCSARzqIPq2j4YgFKSC63FYX6HW3qW9q3tObLVurpbykCgmlkgnY0gmlwhKwS0XyKbXVsdGlhZGRyc5YACASsEtF8Bgg2AAoErBLRfAYIN90DgnJzhQADAQAAiXNlY3AyNTZrMaECGIJuAWkUh_T7cEQ7FSpI8OAHS7KZbcvt_qR_XqkRwG-DdGNwggg2g3VkcIIIOIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.239.170 waku 2bafb63b9b2438b8f961abcd6f453d0cd5862a6ca9c9f597a0b6574ad1ddc033
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 2bafb63b9b24. Setting up logs at ./log/docker/node2_2025-01-17_16-35-48__c8d95809-49d4-49f0-b61b-7ef2c72756e7__quay.io_wakuorg_nwaku-pr:3244.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3244. REST: 43798
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43798/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43798/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.239.170/tcp/43799/p2p/16Uiu2HAkyVW1pxHWX5m5NKoJeTJGjTrEJbN6icX9GJJx882LZDr7","/ip4/172.18.239.170/tcp/43800/ws/p2p/16Uiu2HAkyVW1pxHWX5m5NKoJeTJGjTrEJbN6icX9GJJx882LZDr7"],"enrUri":"enr:-L24QE_qi0dKy1v6M05OIlysbzGi05ACX83B7wgbrOL2HBTvN-TF6qIbSopT2NSdBM0JmpKx2O8fxbql1_snW27-eQUCgmlkgnY0gmlwhKwS76qKbXVsdGlhZGRyc5YACASsEu-qBqsXAAoErBLvqgarGN0DgnJzhQADAQAAiXNlY3AyNTZrMaECPGnNthhFfal8zUvsad3nJbL635cy8tLJcx4uOdsbHeCDdGNwgqsXg3VkcIKrGYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43798/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.209.124/tcp/2102/p2p/16Uiu2HAkw5M7mLFgcz4Vdj6VBwfzwxdFFf16sJx4ZSCdYu4bGTNn"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3244
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2025-01-17_16-35-48__c8d95809-49d4-49f0-b61b-7ef2c72756e7__quay.io_wakuorg_nwaku-pr:3244.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.0.70
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['7286', '7287', '7288', '7289', '7290']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 7286:7286 -p 7287:7287 -p 7288:7288 -p 7289:7289 -p 7290:7290 quay.io/wakuorg/nwaku-pr:3244 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=7288 --rest-port=7286 --tcp-port=7287 --discv5-udp-port=7289 --rest-address=0.0.0.0 --nat=extip:172.18.0.70 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a8e766abdcdde73a274a2eabf5bdbaec8eeb4eafaeddb4fc957a0c79bae3eec2 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=7290 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QC7yvp2mpzDbwSIq9Cm9R48dq5V8BAIAKiqnBEgaldZuCSARzqIPq2j4YgFKSC63FYX6HW3qW9q3tObLVurpbykCgmlkgnY0gmlwhKwS0XyKbXVsdGlhZGRyc5YACASsEtF8Bgg2AAoErBLRfAYIN90DgnJzhQADAQAAiXNlY3AyNTZrMaECGIJuAWkUh_T7cEQ7FSpI8OAHS7KZbcvt_qR_XqkRwG-DdGNwggg2g3VkcIIIOIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.0.70 waku 30785551543e8d61903a73fd0cb6eab0b1fadc457154b7e6387dcedf32e9b8cc
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 30785551543e. Setting up logs at ./log/docker/node3_2025-01-17_16-35-48__c8d95809-49d4-49f0-b61b-7ef2c72756e7__quay.io_wakuorg_nwaku-pr:3244.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3244. REST: 7286
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7286/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7286/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.0.70/tcp/7287/p2p/16Uiu2HAmTgxNtr3yg1skVMXb1n571imqzVUhg9ostuDbBncdydb7","/ip4/172.18.0.70/tcp/7288/ws/p2p/16Uiu2HAmTgxNtr3yg1skVMXb1n571imqzVUhg9ostuDbBncdydb7"],"enrUri":"enr:-L24QGpA5iygf0_fxc2piRcnEAZVhG5Ndw3h-NrBHQfVCXQDRBwUhZB_2VQfzyuOLV0Drp6c27RcTYtfDW6ouHJz9ksCgmlkgnY0gmlwhKwSAEaKbXVsdGlhZGRyc5YACASsEgBGBhx3AAoErBIARgYceN0DgnJzhQADAQAAiXNlY3AyNTZrMaED32A8QqqX7O5h73uHf8q2eAK2JkoIv5RZKPCDGu-vaOqDdGNwghx3g3VkcIIceYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7286/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.209.124/tcp/2102/p2p/16Uiu2HAkw5M7mLFgcz4Vdj6VBwfzwxdFFf16sJx4ZSCdYu4bGTNn"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3244
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2025-01-17_16-35-48__c8d95809-49d4-49f0-b61b-7ef2c72756e7__quay.io_wakuorg_nwaku-pr:3244.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.134.201
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['60122', '60123', '60124', '60125', '60126']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 60122:60122 -p 60123:60123 -p 60124:60124 -p 60125:60125 -p 60126:60126 quay.io/wakuorg/nwaku-pr:3244 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=60124 --rest-port=60122 --tcp-port=60123 --discv5-udp-port=60125 --rest-address=0.0.0.0 --nat=extip:172.18.134.201 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3d59ed1aac91f8ef3d0cd3fe4b8c7ce04c930dd8bcd6ae90e5406a4c21df8883 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=60126 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QC7yvp2mpzDbwSIq9Cm9R48dq5V8BAIAKiqnBEgaldZuCSARzqIPq2j4YgFKSC63FYX6HW3qW9q3tObLVurpbykCgmlkgnY0gmlwhKwS0XyKbXVsdGlhZGRyc5YACASsEtF8Bgg2AAoErBLRfAYIN90DgnJzhQADAQAAiXNlY3AyNTZrMaECGIJuAWkUh_T7cEQ7FSpI8OAHS7KZbcvt_qR_XqkRwG-DdGNwggg2g3VkcIIIOIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.134.201 waku 2b92ebc7649696613e91d9c9af4de2ccdf7eaf5903afbd1785460368425bd5f8
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 2b92ebc76496. Setting up logs at ./log/docker/node4_2025-01-17_16-35-48__c8d95809-49d4-49f0-b61b-7ef2c72756e7__quay.io_wakuorg_nwaku-pr:3244.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3244. REST: 60122
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60122/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60122/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.134.201/tcp/60123/p2p/16Uiu2HAm9WSQkuirZZmUKjfGGhesRq65HX9E3VcUPe68uTn6jt3Y","/ip4/172.18.134.201/tcp/60124/ws/p2p/16Uiu2HAm9WSQkuirZZmUKjfGGhesRq65HX9E3VcUPe68uTn6jt3Y"],"enrUri":"enr:-L24QLrUjpMlz0swcZ3TQ0g3IiyW9pdtf9IcFrYer4kNTAhgX5-sulYOta0j3IA_Kdn1p-SEltQFEyQNbzd1wSH70VQCgmlkgnY0gmlwhKwShsmKbXVsdGlhZGRyc5YACASsEobJBurbAAoErBKGyQbq3N0DgnJzhQADAQAAiXNlY3AyNTZrMaEC0Twthv6_ipiMK5-w3ZZOOb8IxX9TwgUkLySo1ka7eT-DdGNwgurbg3VkcILq3YV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60122/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.209.124/tcp/2102/p2p/16Uiu2HAkw5M7mLFgcz4Vdj6VBwfzwxdFFf16sJx4ZSCdYu4bGTNn"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3244
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2025-01-17_16-35-48__c8d95809-49d4-49f0-b61b-7ef2c72756e7__quay.io_wakuorg_nwaku-pr:3244.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.5.179
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['6522', '6523', '6524', '6525', '6526']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 6522:6522 -p 6523:6523 -p 6524:6524 -p 6525:6525 -p 6526:6526 quay.io/wakuorg/nwaku-pr:3244 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=6524 --rest-port=6522 --tcp-port=6523 --discv5-udp-port=6525 --rest-address=0.0.0.0 --nat=extip:172.18.5.179 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ccec6bffb37bafd1bd8627e2ec7dbfc7ead7bd92bf9b4c284fb299a197e2c9a0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=6526 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QC7yvp2mpzDbwSIq9Cm9R48dq5V8BAIAKiqnBEgaldZuCSARzqIPq2j4YgFKSC63FYX6HW3qW9q3tObLVurpbykCgmlkgnY0gmlwhKwS0XyKbXVsdGlhZGRyc5YACASsEtF8Bgg2AAoErBLRfAYIN90DgnJzhQADAQAAiXNlY3AyNTZrMaECGIJuAWkUh_T7cEQ7FSpI8OAHS7KZbcvt_qR_XqkRwG-DdGNwggg2g3VkcIIIOIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.5.179 waku cc56f2f28d7b1876d7de41397941450c87a43590a169f5cfe9a7e8ee7008d4f6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID cc56f2f28d7b. Setting up logs at ./log/docker/node5_2025-01-17_16-35-48__c8d95809-49d4-49f0-b61b-7ef2c72756e7__quay.io_wakuorg_nwaku-pr:3244.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3244. REST: 6522
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6522/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6522/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.5.179/tcp/6523/p2p/16Uiu2HAmPDXUb1Hrmg7a1yJ5ApQHbmWcAGgRwE8q2hDWR63D8cjq","/ip4/172.18.5.179/tcp/6524/ws/p2p/16Uiu2HAmPDXUb1Hrmg7a1yJ5ApQHbmWcAGgRwE8q2hDWR63D8cjq"],"enrUri":"enr:-L24QNiJdm8ul5ZYBdazYEZcZdWvOI_ymyIDn0-eJMixrlJHE2fTCXnfhwziRupzCipTXYVmHRDAPGhvT7Q9I7IRkOsCgmlkgnY0gmlwhKwSBbOKbXVsdGlhZGRyc5YACASsEgWzBhl7AAoErBIFswYZfN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDnOqmM5KfSyQpH86sNlNt2GwFdRK00tugsd7ZqqTjTPiDdGNwghl7g3VkcIIZfYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6522/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.209.124/tcp/2102/p2p/16Uiu2HAkw5M7mLFgcz4Vdj6VBwfzwxdFFf16sJx4ZSCdYu4bGTNn"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2101/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43798/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2101/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3244 can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2101/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1737131754750120704,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3244 can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43798/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1737131754750120704,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2101/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3244 can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7286/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:7286/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1. Response content: b''
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id df025a76d76f
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 2bafb63b9b24
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container df025a76d76f. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 30785551543e
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 2bafb63b9b24. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 2b92ebc76496
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 30785551543e. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id cc56f2f28d7b
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 2b92ebc76496. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.