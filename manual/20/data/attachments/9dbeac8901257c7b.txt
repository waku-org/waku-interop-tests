[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_multiple_edge_service_nodes_communication with id: 2025-01-17_16-35-55__97a87c20-fa0e-4507-a9bf-5575b934852d
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:28 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3244
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-01-17_16-35-55__97a87c20-fa0e-4507-a9bf-5575b934852d__quay.io_wakuorg_nwaku-pr:3244.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3244
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-01-17_16-35-55__97a87c20-fa0e-4507-a9bf-5575b934852d__quay.io_wakuorg_nwaku-pr:3244.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3244
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2025-01-17_16-35-55__97a87c20-fa0e-4507-a9bf-5575b934852d__quay.io_wakuorg_nwaku-pr:3244.log
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3244
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2025-01-17_16-35-55__97a87c20-fa0e-4507-a9bf-5575b934852d__quay.io_wakuorg_nwaku-pr:3244.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3244
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2025-01-17_16-35-55__97a87c20-fa0e-4507-a9bf-5575b934852d__quay.io_wakuorg_nwaku-pr:3244.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3244
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node6_2025-01-17_16-35-55__97a87c20-fa0e-4507-a9bf-5575b934852d__quay.io_wakuorg_nwaku-pr:3244.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3244
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node7_2025-01-17_16-35-55__97a87c20-fa0e-4507-a9bf-5575b934852d__quay.io_wakuorg_nwaku-pr:3244.log
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3244
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node8_2025-01-17_16-35-55__97a87c20-fa0e-4507-a9bf-5575b934852d__quay.io_wakuorg_nwaku-pr:3244.log
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:439 Start 2 edges nodes and 3 service nodes 
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:33 Network waku created
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.128.100
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['13526', '13527', '13528', '13529', '13530']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 13526:13526 -p 13527:13527 -p 13528:13528 -p 13529:13529 -p 13530:13530 quay.io/wakuorg/nwaku-pr:3244 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=13528 --rest-port=13526 --tcp-port=13527 --discv5-udp-port=13529 --rest-address=0.0.0.0 --nat=extip:172.18.128.100 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ea0e3fb0e1e4699d0e6f1553e9bcfbe0f027eaab76ed45aaa00d2d1e5bbbdbc6 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=13530 --metrics-logging=true --relay=true --store=true --lightpush=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.128.100 waku 3332d73ee0074f8e861c40437182cb7fdb1c9051a741fdc153211265cc503244
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 3332d73ee007. Setting up logs at ./log/docker/node6_2025-01-17_16-35-55__97a87c20-fa0e-4507-a9bf-5575b934852d__quay.io_wakuorg_nwaku-pr:3244.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3244. REST: 13526
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13526/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13526/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.128.100/tcp/13527/p2p/16Uiu2HAmTt2p938NhZkZJK8572jwUtu6QLenXbJqWuQHGPYvUtDo","/ip4/172.18.128.100/tcp/13528/ws/p2p/16Uiu2HAmTt2p938NhZkZJK8572jwUtu6QLenXbJqWuQHGPYvUtDo"],"enrUri":"enr:-L24QOlf8bVIYyGT-5eHLN0HyZtNcpkRW_ClpJsKw9XeAb3gNOMupnE3Pvo7JkHPpIh1NRfpmF7w9vkunvLGfBfZXJECgmlkgnY0gmlwhKwSgGSKbXVsdGlhZGRyc5YACASsEoBkBjTXAAoErBKAZAY02N0DgnJzhQADAQAAiXNlY3AyNTZrMaED4jajpcuXHnXhmcMhdMmyXeiA7IjDzAq5WJSjt9semvqDdGNwgjTXg3VkcII02YV3YWt1Mgs"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.0.225
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['32930', '32931', '32932', '32933', '32934']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 32930:32930 -p 32931:32931 -p 32932:32932 -p 32933:32933 -p 32934:32934 quay.io/wakuorg/nwaku-pr:3244 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=32932 --rest-port=32930 --tcp-port=32931 --discv5-udp-port=32933 --rest-address=0.0.0.0 --nat=extip:172.18.0.225 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6ebbbfacede7f5dcddbd4e3d36ffa29ff8cc0f57b45dfecae4fd7abf80aeb28b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=32934 --metrics-logging=true --relay=false --lightpushnode=/ip4/172.18.128.100/tcp/13527/p2p/16Uiu2HAmTt2p938NhZkZJK8572jwUtu6QLenXbJqWuQHGPYvUtDo --discv5-bootstrap-node=enr:-L24QOlf8bVIYyGT-5eHLN0HyZtNcpkRW_ClpJsKw9XeAb3gNOMupnE3Pvo7JkHPpIh1NRfpmF7w9vkunvLGfBfZXJECgmlkgnY0gmlwhKwSgGSKbXVsdGlhZGRyc5YACASsEoBkBjTXAAoErBKAZAY02N0DgnJzhQADAQAAiXNlY3AyNTZrMaED4jajpcuXHnXhmcMhdMmyXeiA7IjDzAq5WJSjt9semvqDdGNwgjTXg3VkcII02YV3YWt1Mgs
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.0.225 waku 6f367486dfbfc247b68c8074721c5ce2aaed6f07b61716f8567e0b417cb32d91
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 6f367486dfbf. Setting up logs at ./log/docker/node4_2025-01-17_16-35-55__97a87c20-fa0e-4507-a9bf-5575b934852d__quay.io_wakuorg_nwaku-pr:3244.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3244. REST: 32930
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32930/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32930/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.0.225/tcp/32931/p2p/16Uiu2HAmAMDGUhhabVczf5nngC9qNz5PftUZtDJtHxuPNMeRxTmp","/ip4/172.18.0.225/tcp/32932/ws/p2p/16Uiu2HAmAMDGUhhabVczf5nngC9qNz5PftUZtDJtHxuPNMeRxTmp"],"enrUri":"enr:-L24QKbsraLc3cjxarHnPK4XYp6KAAcG9phzqwL-g2936DD3IEoc-Z8ZZ_-ilROCs1hPQpDIIW67xeEN5CFynalMSkICgmlkgnY0gmlwhKwSAOGKbXVsdGlhZGRyc5YACASsEgDhBoCjAAoErBIA4QaApN0DgnJzhQADAQAAiXNlY3AyNTZrMaEC3brG5Qf_7-5AIGcluCLBau-wKqRWSmI_HaWmIBFyu4eDdGNwgoCjg3VkcIKApYV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.90.204
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['9080', '9081', '9082', '9083', '9084']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 9080:9080 -p 9081:9081 -p 9082:9082 -p 9083:9083 -p 9084:9084 quay.io/wakuorg/nwaku-pr:3244 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=9082 --rest-port=9080 --tcp-port=9081 --discv5-udp-port=9083 --rest-address=0.0.0.0 --nat=extip:172.18.90.204 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=25463eb8ac4bbdf50f5f3b854bba6be2a3c3bedbc877bfcc3ed675a6b816dae0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=9084 --metrics-logging=true --relay=true --store=true --discv5-bootstrap-node=enr:-L24QOlf8bVIYyGT-5eHLN0HyZtNcpkRW_ClpJsKw9XeAb3gNOMupnE3Pvo7JkHPpIh1NRfpmF7w9vkunvLGfBfZXJECgmlkgnY0gmlwhKwSgGSKbXVsdGlhZGRyc5YACASsEoBkBjTXAAoErBKAZAY02N0DgnJzhQADAQAAiXNlY3AyNTZrMaED4jajpcuXHnXhmcMhdMmyXeiA7IjDzAq5WJSjt9semvqDdGNwgjTXg3VkcII02YV3YWt1Mgs
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.90.204 waku a26d097144d0fe34b345792d2cb6d0d85aa3d04e481d73ef136612a07e674801
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID a26d097144d0. Setting up logs at ./log/docker/node7_2025-01-17_16-35-55__97a87c20-fa0e-4507-a9bf-5575b934852d__quay.io_wakuorg_nwaku-pr:3244.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3244. REST: 9080
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9080/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9080/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.90.204/tcp/9081/p2p/16Uiu2HAkufQc8uSP2XsQEpphMDntMELtPbvQvfA1U5exoopogrUS","/ip4/172.18.90.204/tcp/9082/ws/p2p/16Uiu2HAkufQc8uSP2XsQEpphMDntMELtPbvQvfA1U5exoopogrUS"],"enrUri":"enr:-L24QAsaijbM2MorvnuCnAwCFGek88w7nOPVpXEnIycLM1HWAESZ5OkXQGIgIoJUkHmRbssROJ8bAd90VF3KndlxfBECgmlkgnY0gmlwhKwSWsyKbXVsdGlhZGRyc5YACASsElrMBiN5AAoErBJazAYjet0DgnJzhQADAQAAiXNlY3AyNTZrMaECA4S_oylgj5yk2UeAHOT_cNvVSSi1blYBv-7Hq4P9uvODdGNwgiN5g3VkcIIje4V3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.237.97
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['2364', '2365', '2366', '2367', '2368']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 2364:2364 -p 2365:2365 -p 2366:2366 -p 2367:2367 -p 2368:2368 quay.io/wakuorg/nwaku-pr:3244 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=2366 --rest-port=2364 --tcp-port=2365 --discv5-udp-port=2367 --rest-address=0.0.0.0 --nat=extip:172.18.237.97 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8afc17847e96cab9c140da29fcdaad173bcefc897cad5ceb0e1e3d62ce0ac4c9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=2368 --metrics-logging=true --relay=true --filter=true --storenode=/ip4/172.18.90.204/tcp/9081/p2p/16Uiu2HAkufQc8uSP2XsQEpphMDntMELtPbvQvfA1U5exoopogrUS --discv5-bootstrap-node=enr:-L24QAsaijbM2MorvnuCnAwCFGek88w7nOPVpXEnIycLM1HWAESZ5OkXQGIgIoJUkHmRbssROJ8bAd90VF3KndlxfBECgmlkgnY0gmlwhKwSWsyKbXVsdGlhZGRyc5YACASsElrMBiN5AAoErBJazAYjet0DgnJzhQADAQAAiXNlY3AyNTZrMaECA4S_oylgj5yk2UeAHOT_cNvVSSi1blYBv-7Hq4P9uvODdGNwgiN5g3VkcIIje4V3YWt1MgM
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.237.97 waku fab13b45d186dfddcc7748847c3244949d5012ad6b69744cbf21fa88c8e556e1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID fab13b45d186. Setting up logs at ./log/docker/node8_2025-01-17_16-35-55__97a87c20-fa0e-4507-a9bf-5575b934852d__quay.io_wakuorg_nwaku-pr:3244.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3244. REST: 2364
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2364/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2364/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.237.97/tcp/2365/p2p/16Uiu2HAmDa7Xv5ffY2KvB2CXjJPE64E5mBsMJvPd91ZQsm7zGmQh","/ip4/172.18.237.97/tcp/2366/ws/p2p/16Uiu2HAmDa7Xv5ffY2KvB2CXjJPE64E5mBsMJvPd91ZQsm7zGmQh"],"enrUri":"enr:-L24QGEFpyuTDHciwbr4ix782rhCnPsx6xb189GiiUlJaWSMXMB21vZgCuwpPaPkAJVrk3Il3H1Lvwo0sK0xSkqbW8ICgmlkgnY0gmlwhKwS7WGKbXVsdGlhZGRyc5YACASsEu1hBgk9AAoErBLtYQYJPt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDDZvnq4qOT6Vea2u5Tn2S2y-nJZWlz5IihxnUY-t1UTaDdGNwggk9g3VkcIIJP4V3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.199.4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['11178', '11179', '11180', '11181', '11182']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 11178:11178 -p 11179:11179 -p 11180:11180 -p 11181:11181 -p 11182:11182 quay.io/wakuorg/nwaku-pr:3244 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=11180 --rest-port=11178 --tcp-port=11179 --discv5-udp-port=11181 --rest-address=0.0.0.0 --nat=extip:172.18.199.4 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=97c880ed9cf7de6f96b82498f5b1f8c69cd4bb1bacc64b1ce1cc331aa0d604fd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=11182 --metrics-logging=true --relay=false --filternode=/ip4/172.18.237.97/tcp/2365/p2p/16Uiu2HAmDa7Xv5ffY2KvB2CXjJPE64E5mBsMJvPd91ZQsm7zGmQh --storenode=/ip4/172.18.90.204/tcp/9081/p2p/16Uiu2HAkufQc8uSP2XsQEpphMDntMELtPbvQvfA1U5exoopogrUS --discv5-bootstrap-node=enr:-L24QAsaijbM2MorvnuCnAwCFGek88w7nOPVpXEnIycLM1HWAESZ5OkXQGIgIoJUkHmRbssROJ8bAd90VF3KndlxfBECgmlkgnY0gmlwhKwSWsyKbXVsdGlhZGRyc5YACASsElrMBiN5AAoErBJazAYjet0DgnJzhQADAQAAiXNlY3AyNTZrMaECA4S_oylgj5yk2UeAHOT_cNvVSSi1blYBv-7Hq4P9uvODdGNwgiN5g3VkcIIje4V3YWt1MgM
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.199.4 waku d99ddcc8152740dcf693edea24d8291dce9c5aef943c7f9e063d9c7e29ff7ff5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID d99ddcc81527. Setting up logs at ./log/docker/node5_2025-01-17_16-35-55__97a87c20-fa0e-4507-a9bf-5575b934852d__quay.io_wakuorg_nwaku-pr:3244.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3244. REST: 11178
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11178/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11178/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.199.4/tcp/11179/p2p/16Uiu2HAmHAg9r7rVKZTktsNV4aek2h8x89fiWhaeQ4e2hmVpA3uP","/ip4/172.18.199.4/tcp/11180/ws/p2p/16Uiu2HAmHAg9r7rVKZTktsNV4aek2h8x89fiWhaeQ4e2hmVpA3uP"],"enrUri":"enr:-L24QMCGdP6OxcAgaqBQQBdixKzy-M6Kvephfq44wKLena5JJBM6wFDbcJjRuZn0PaTOsOUXHFm_4VcZ98AHcRviGzoCgmlkgnY0gmlwhKwSxwSKbXVsdGlhZGRyc5YACASsEscEBiurAAoErBLHBAYrrN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDQwmYo70Edmi2204qHhMdBS60yIF0OmUYWYMZMhCYAv6DdGNwgiurg3VkcIIrrYV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:455 Connect 3 service nodes to relay subscriptions
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13526/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9080/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2364/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13526/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"multiaddr":"/ip4/172.18.90.204/tcp/9081/p2p/16Uiu2HAkufQc8uSP2XsQEpphMDntMELtPbvQvfA1U5exoopogrUS","protocols":[{"protocol":"/vac/waku/relay/2.0.0","connected":true},{"protocol":"/vac/waku/store-query/3.0.0","connected":true},{"protocol":"/vac/waku/store/2.0.0-beta4","connected":true},{"protocol":"/vac/waku/peer-exchange/2.0.0-alpha1","connected":true}],"origin":"UnknownOrigin"}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9080/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"multiaddr":"/ip4/172.18.128.100/tcp/13527/p2p/16Uiu2HAmTt2p938NhZkZJK8572jwUtu6QLenXbJqWuQHGPYvUtDo","protocols":[{"protocol":"/vac/waku/relay/2.0.0","connected":true},{"protocol":"/vac/waku/store-query/3.0.0","connected":true},{"protocol":"/vac/waku/store/2.0.0-beta4","connected":true},{"protocol":"/vac/waku/lightpush/2.0.0-beta1","connected":true},{"protocol":"/vac/waku/peer-exchange/2.0.0-alpha1","connected":true}],"origin":"Discv5"}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2364/admin/v1/peers" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"multiaddr":"/ip4/172.18.90.204/tcp/9081/p2p/16Uiu2HAkufQc8uSP2XsQEpphMDntMELtPbvQvfA1U5exoopogrUS","protocols":[{"protocol":"/vac/waku/relay/2.0.0","connected":false},{"protocol":"/vac/waku/store-query/3.0.0","connected":false}],"origin":"Discv5"}]'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 30 seconds
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:461 Edge node2 makes filter subscription to pubsubtopic /waku/2/rs/3/1 and content topic /test/1/waku-filter/proto
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11178/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"1","statusDesc":"OK"}'
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:466 Check if service node1 receives message sent by edge node1
[35mDEBUG   [0m src.steps.light_push:light_push.py:121 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32930/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/1", "message": {"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": 1737131800250487296}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:125 Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3244 can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13526/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1737131800250487296,"ephemeral":false}]'
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:470 Check if edge node2 can query stored message
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer quay.io/wakuorg/nwaku-pr:3244 can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11178/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F1&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"8b556b2f3e4ac4d47b20","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"tyuT5yQUc6b2s/Yrn0rYoc+rDcsD7F/aAnWckm+InNg="}]}'
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:473 Check if service node3 can query stored message
[35mDEBUG   [0m src.steps.store:store.py:218 Checking that peer quay.io/wakuorg/nwaku-pr:3244 can find the stored messages
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2364/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F1&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"f5fb19faf3acf93a65d8","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"tyuT5yQUc6b2s/Yrn0rYoc+rDcsD7F/aAnWckm+InNg="}]}'
[35mDEBUG   [0m tests.e2e.test_e2e:test_e2e.py:476 Check if edge node2 can get sent message using filter get request 
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11178/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1737131800250487296,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 3332d73ee007
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 6f367486dfbf
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 3332d73ee007. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id a26d097144d0
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 6f367486dfbf. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id fab13b45d186
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container a26d097144d0. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id d99ddcc81527
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container fab13b45d186. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.