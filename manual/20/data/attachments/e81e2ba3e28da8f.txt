[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2025-01-17_16-35-43__04171317-6fd0-4250-a653-57937eddc0ba
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3244
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-01-17_16-35-43__04171317-6fd0-4250-a653-57937eddc0ba__quay.io_wakuorg_nwaku-pr:3244.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.241.68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['43625', '43626', '43627', '43628', '43629']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 43625:43625 -p 43626:43626 -p 43627:43627 -p 43628:43628 -p 43629:43629 quay.io/wakuorg/nwaku-pr:3244 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=43627 --rest-port=43625 --tcp-port=43626 --discv5-udp-port=43628 --rest-address=0.0.0.0 --nat=extip:172.18.241.68 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=30ce0e1f720a1eaceda4cdf8cbe91409ef72fd8ab0a9dec03de819bbac8bbabf --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=43629 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.241.68 waku f99b26beeeb561e6bf9aaae4090efb07417b3d0648914f65e3e84b5cb076917e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID f99b26beeeb5. Setting up logs at ./log/docker/node1_2025-01-17_16-35-43__04171317-6fd0-4250-a653-57937eddc0ba__quay.io_wakuorg_nwaku-pr:3244.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3244. REST: 43625
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 2dfbb78fdba1. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43625/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43625/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.241.68/tcp/43626/p2p/16Uiu2HAm6gGBrRfuLWvFugJWxf2GPs18SbRE1rm1tfAMZyZQFrKU","/ip4/172.18.241.68/tcp/43627/ws/p2p/16Uiu2HAm6gGBrRfuLWvFugJWxf2GPs18SbRE1rm1tfAMZyZQFrKU"],"enrUri":"enr:-L24QBWSInMhM5slMf-T5LfzlAfHPkww3kc-J1ahWGp9OuGrD1SCGw_KoPOdgrA4JqU7D0Kc574oSH9EIMc7-DwOs2sCgmlkgnY0gmlwhKwS8USKbXVsdGlhZGRyc5YACASsEvFEBqpqAAoErBLxRAaqa90DgnJzhQADAQAAiXNlY3AyNTZrMaECpy1d1WQ0TJoL6y9cdyJEMtSD4XGflzlu-QFcoxu3ErODdGNwgqpqg3VkcIKqbIV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3244
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-01-17_16-35-43__04171317-6fd0-4250-a653-57937eddc0ba__quay.io_wakuorg_nwaku-pr:3244.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.79.78
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['39609', '39610', '39611', '39612', '39613']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 39609:39609 -p 39610:39610 -p 39611:39611 -p 39612:39612 -p 39613:39613 quay.io/wakuorg/nwaku-pr:3244 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=39611 --rest-port=39609 --tcp-port=39610 --discv5-udp-port=39612 --rest-address=0.0.0.0 --nat=extip:172.18.79.78 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c8b28e8c5a3f84b0d1b7702aff1ad20fedcda27f2e07ceb45a2e2f7dc074de63 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=39613 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QBWSInMhM5slMf-T5LfzlAfHPkww3kc-J1ahWGp9OuGrD1SCGw_KoPOdgrA4JqU7D0Kc574oSH9EIMc7-DwOs2sCgmlkgnY0gmlwhKwS8USKbXVsdGlhZGRyc5YACASsEvFEBqpqAAoErBLxRAaqa90DgnJzhQADAQAAiXNlY3AyNTZrMaECpy1d1WQ0TJoL6y9cdyJEMtSD4XGflzlu-QFcoxu3ErODdGNwgqpqg3VkcIKqbIV3YWt1MgU --filternode=/ip4/172.18.241.68/tcp/43626/p2p/16Uiu2HAm6gGBrRfuLWvFugJWxf2GPs18SbRE1rm1tfAMZyZQFrKU
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.79.78 waku 23f191fcc03815f69907f258abc63a595173fd7fc885bcae235805f33f8e8251
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 23f191fcc038. Setting up logs at ./log/docker/node2_2025-01-17_16-35-43__04171317-6fd0-4250-a653-57937eddc0ba__quay.io_wakuorg_nwaku-pr:3244.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3244. REST: 39609
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39609/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39609/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.79.78/tcp/39610/p2p/16Uiu2HAkziAq9cV7y4NHmSTJpAUMVZKWRkG6LKPxjvZPV2EZ8J89","/ip4/172.18.79.78/tcp/39611/ws/p2p/16Uiu2HAkziAq9cV7y4NHmSTJpAUMVZKWRkG6LKPxjvZPV2EZ8J89"],"enrUri":"enr:-L24QMifvMm3sX6CHS4l572bCZ0PgaF1bswDP2CUxFkPFnV9aOYyGrp47pWrBUbSXdY30zZt-FeAl5I1G-rBJcLfrV8CgmlkgnY0gmlwhKwST06KbXVsdGlhZGRyc5YACASsEk9OBpq6AAoErBJPTgaau90DgnJzhQADAQAAiXNlY3AyNTZrMaECToRZdm5LFPbMiuekEPsBJIoxKOTjJsYfF_62ae4rqXqDdGNwgpq6g3VkcIKavIV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39609/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.241.68/tcp/43626/p2p/16Uiu2HAm6gGBrRfuLWvFugJWxf2GPs18SbRE1rm1tfAMZyZQFrKU"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3244
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2025-01-17_16-35-43__04171317-6fd0-4250-a653-57937eddc0ba__quay.io_wakuorg_nwaku-pr:3244.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.196.159
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['33879', '33880', '33881', '33882', '33883']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 33879:33879 -p 33880:33880 -p 33881:33881 -p 33882:33882 -p 33883:33883 quay.io/wakuorg/nwaku-pr:3244 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=33881 --rest-port=33879 --tcp-port=33880 --discv5-udp-port=33882 --rest-address=0.0.0.0 --nat=extip:172.18.196.159 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=df92cabd68dd64aa697df588856b4ede720b900a1b1d74b3588bbd9cbef7fe33 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=33883 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QBWSInMhM5slMf-T5LfzlAfHPkww3kc-J1ahWGp9OuGrD1SCGw_KoPOdgrA4JqU7D0Kc574oSH9EIMc7-DwOs2sCgmlkgnY0gmlwhKwS8USKbXVsdGlhZGRyc5YACASsEvFEBqpqAAoErBLxRAaqa90DgnJzhQADAQAAiXNlY3AyNTZrMaECpy1d1WQ0TJoL6y9cdyJEMtSD4XGflzlu-QFcoxu3ErODdGNwgqpqg3VkcIKqbIV3YWt1MgU --filternode=/ip4/172.18.241.68/tcp/43626/p2p/16Uiu2HAm6gGBrRfuLWvFugJWxf2GPs18SbRE1rm1tfAMZyZQFrKU
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.196.159 waku 5622dfff173190d5b82a23e0268bc72814ebcd133ebe5a69e1a3f41aec40dfeb
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 5622dfff1731. Setting up logs at ./log/docker/node3_2025-01-17_16-35-43__04171317-6fd0-4250-a653-57937eddc0ba__quay.io_wakuorg_nwaku-pr:3244.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3244. REST: 33879
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33879/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33879/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.196.159/tcp/33880/p2p/16Uiu2HAm34F4MoUpizqGhKH7H2SCbBRYkgPZpjpLLquosPB4y88R","/ip4/172.18.196.159/tcp/33881/ws/p2p/16Uiu2HAm34F4MoUpizqGhKH7H2SCbBRYkgPZpjpLLquosPB4y88R"],"enrUri":"enr:-L24QLEGS6q0c_4_ayr8wVXxlbaSf9xyVGaHz_FZBL9aR_nmNppw1aYUiy5l11_JmLQjOqikTt4F5LqD3ep__iKQEQMCgmlkgnY0gmlwhKwSxJ-KbXVsdGlhZGRyc5YACASsEsSfBoRYAAoErBLEnwaEWd0DgnJzhQADAQAAiXNlY3AyNTZrMaECcWAergLGLNpqA1Fv7R8fOt1Qo0s6r_o5N82yt_PQylqDdGNwgoRYg3VkcIKEWoV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33879/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.241.68/tcp/43626/p2p/16Uiu2HAm6gGBrRfuLWvFugJWxf2GPs18SbRE1rm1tfAMZyZQFrKU"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3244
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2025-01-17_16-35-43__04171317-6fd0-4250-a653-57937eddc0ba__quay.io_wakuorg_nwaku-pr:3244.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.49.35
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['31720', '31721', '31722', '31723', '31724']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 31720:31720 -p 31721:31721 -p 31722:31722 -p 31723:31723 -p 31724:31724 quay.io/wakuorg/nwaku-pr:3244 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=31722 --rest-port=31720 --tcp-port=31721 --discv5-udp-port=31723 --rest-address=0.0.0.0 --nat=extip:172.18.49.35 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c4d1eddd49dbb8f7e1742b73c3ffc1166ad94f04dcd2cf2bceadc1aeff9f6ba4 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=31724 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QBWSInMhM5slMf-T5LfzlAfHPkww3kc-J1ahWGp9OuGrD1SCGw_KoPOdgrA4JqU7D0Kc574oSH9EIMc7-DwOs2sCgmlkgnY0gmlwhKwS8USKbXVsdGlhZGRyc5YACASsEvFEBqpqAAoErBLxRAaqa90DgnJzhQADAQAAiXNlY3AyNTZrMaECpy1d1WQ0TJoL6y9cdyJEMtSD4XGflzlu-QFcoxu3ErODdGNwgqpqg3VkcIKqbIV3YWt1MgU --filternode=/ip4/172.18.241.68/tcp/43626/p2p/16Uiu2HAm6gGBrRfuLWvFugJWxf2GPs18SbRE1rm1tfAMZyZQFrKU
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.49.35 waku 99c1d7c1a2b63a8d75282a7b8f909239d1241398bfbd5c308c7a5c52c7d722fb
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 99c1d7c1a2b6. Setting up logs at ./log/docker/node4_2025-01-17_16-35-43__04171317-6fd0-4250-a653-57937eddc0ba__quay.io_wakuorg_nwaku-pr:3244.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3244. REST: 31720
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31720/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31720/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.49.35/tcp/31721/p2p/16Uiu2HAmL3C3emKE5Yg7haLJ5tpqANNkw6aZmDGUYEQMesZPD93J","/ip4/172.18.49.35/tcp/31722/ws/p2p/16Uiu2HAmL3C3emKE5Yg7haLJ5tpqANNkw6aZmDGUYEQMesZPD93J"],"enrUri":"enr:-L24QLDGzCJ3DMp8yOd88RRLvyOpOLtZ4CvTzpMqt1ZAjj9dAO2bbfvbK5Jy5E1JoFzX1fiDEKjwnemGs4aJNlAWggQCgmlkgnY0gmlwhKwSMSOKbXVsdGlhZGRyc5YACASsEjEjBnvpAAoErBIxIwZ76t0DgnJzhQADAQAAiXNlY3AyNTZrMaEDbbHPlajj3f6yVfKej9gWPR4Qu9CifBrRHCPebcRwmeWDdGNwgnvpg3VkcIJ764V3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31720/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.241.68/tcp/43626/p2p/16Uiu2HAm6gGBrRfuLWvFugJWxf2GPs18SbRE1rm1tfAMZyZQFrKU"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3244
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2025-01-17_16-35-43__04171317-6fd0-4250-a653-57937eddc0ba__quay.io_wakuorg_nwaku-pr:3244.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.219.8
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['41771', '41772', '41773', '41774', '41775']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 41771:41771 -p 41772:41772 -p 41773:41773 -p 41774:41774 -p 41775:41775 quay.io/wakuorg/nwaku-pr:3244 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=41773 --rest-port=41771 --tcp-port=41772 --discv5-udp-port=41774 --rest-address=0.0.0.0 --nat=extip:172.18.219.8 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=27e25915edc50883d8bf64c5f5b33d7269fcc66aab482beb0cbe1a5696c5def0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=41775 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QBWSInMhM5slMf-T5LfzlAfHPkww3kc-J1ahWGp9OuGrD1SCGw_KoPOdgrA4JqU7D0Kc574oSH9EIMc7-DwOs2sCgmlkgnY0gmlwhKwS8USKbXVsdGlhZGRyc5YACASsEvFEBqpqAAoErBLxRAaqa90DgnJzhQADAQAAiXNlY3AyNTZrMaECpy1d1WQ0TJoL6y9cdyJEMtSD4XGflzlu-QFcoxu3ErODdGNwgqpqg3VkcIKqbIV3YWt1MgU --filternode=/ip4/172.18.241.68/tcp/43626/p2p/16Uiu2HAm6gGBrRfuLWvFugJWxf2GPs18SbRE1rm1tfAMZyZQFrKU
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.219.8 waku 1b2d3a4a590d691703ce1e8502201772dc0f0bb853533dfe715bae1242a075f3
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 1b2d3a4a590d. Setting up logs at ./log/docker/node5_2025-01-17_16-35-43__04171317-6fd0-4250-a653-57937eddc0ba__quay.io_wakuorg_nwaku-pr:3244.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3244. REST: 41771
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41771/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41771/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.219.8/tcp/41772/p2p/16Uiu2HAmU2VpLftywfiMZxbZUNFXqFyuD7FURdLZyfZHoPWdSz2L","/ip4/172.18.219.8/tcp/41773/ws/p2p/16Uiu2HAmU2VpLftywfiMZxbZUNFXqFyuD7FURdLZyfZHoPWdSz2L"],"enrUri":"enr:-L24QBcEKCTiNv_WRvDrBJGMNwr1XyvTPjhm6bvwAksZH1yTMkiNynNj0sC7NPBzVrXb-aHD7EHM0KvQdVXELERYhiUCgmlkgnY0gmlwhKwS2wiKbXVsdGlhZGRyc5YACASsEtsIBqMsAAoErBLbCAajLd0DgnJzhQADAQAAiXNlY3AyNTZrMaED5GHRkanscwkBXbd6IOROyvqB3HXl-txLQxBTHxS9-RmDdGNwgqMsg3VkcIKjLoV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41771/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.241.68/tcp/43626/p2p/16Uiu2HAm6gGBrRfuLWvFugJWxf2GPs18SbRE1rm1tfAMZyZQFrKU"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43625/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39609/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "0622ec87-e385-4c15-a582-be9712498103", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"0622ec87-e385-4c15-a582-be9712498103","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33879/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "3d302e8a-e72f-4210-bfac-b9b03ee8e3e7", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"3d302e8a-e72f-4210-bfac-b9b03ee8e3e7","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31720/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "3b0a34fc-491e-4ab1-ab92-097d7fea961b", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"3b0a34fc-491e-4ab1-ab92-097d7fea961b","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41771/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "20e19141-eaf6-4ff1-8aa5-219cf9e90e21", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"20e19141-eaf6-4ff1-8aa5-219cf9e90e21","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43625/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3244 can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39609/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1737131750533487616,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43625/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3244 can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33879/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:33879/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id f99b26beeeb5
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 23f191fcc038
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container f99b26beeeb5. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 5622dfff1731
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 23f191fcc038. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 99c1d7c1a2b6
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 5622dfff1731. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 1b2d3a4a590d
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 99c1d7c1a2b6. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.