[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_first_node_to_start_publishes with id: 2025-01-17_16-36-50__58f90c2e-c09c-4f5e-8495-3382c48a2005
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3244
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-01-17_16-36-50__58f90c2e-c09c-4f5e-8495-3382c48a2005__quay.io_wakuorg_nwaku-pr:3244.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.115.14
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['60690', '60691', '60692', '60693', '60694']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 60690:60690 -p 60691:60691 -p 60692:60692 -p 60693:60693 -p 60694:60694 quay.io/wakuorg/nwaku-pr:3244 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=60692 --rest-port=60690 --tcp-port=60691 --discv5-udp-port=60693 --rest-address=0.0.0.0 --nat=extip:172.18.115.14 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ae446a1791c9c5277b2310d82e3f979fdb33fd0dddb5ef18b52cdf234ccebd92 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=60694 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.115.14 waku ea564a098da5d3e29c029aed3063395ed831816a837eda981637cb2aecc40a36
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID ea564a098da5. Setting up logs at ./log/docker/node1_2025-01-17_16-36-50__58f90c2e-c09c-4f5e-8495-3382c48a2005__quay.io_wakuorg_nwaku-pr:3244.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3244. REST: 60690
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container a13510e8c055. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60690/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60690/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.115.14/tcp/60691/p2p/16Uiu2HAmR5sw2SpNazA4ARSYwMd98V6QQmSDVSuWWPzL5jMTCMTW","/ip4/172.18.115.14/tcp/60692/ws/p2p/16Uiu2HAmR5sw2SpNazA4ARSYwMd98V6QQmSDVSuWWPzL5jMTCMTW"],"enrUri":"enr:-L24QCV7i4I6A6_taVG2l_I1A4cuxXPzvvCX9H8egINhXZVwJcJfjDquV3WNt1-ObhdRNRFSwvaTPRB_cnbDikpi8nQCgmlkgnY0gmlwhKwScw6KbXVsdGlhZGRyc5YACASsEnMOBu0TAAoErBJzDgbtFN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDuKyBj2uNIdMwncTDzbVhMtCVI7wL5L6bidIspKv-zimDdGNwgu0Tg3VkcILtFYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3244
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-01-17_16-36-50__58f90c2e-c09c-4f5e-8495-3382c48a2005__quay.io_wakuorg_nwaku-pr:3244.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.164.171
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['17412', '17413', '17414', '17415', '17416']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 17412:17412 -p 17413:17413 -p 17414:17414 -p 17415:17415 -p 17416:17416 quay.io/wakuorg/nwaku-pr:3244 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=17414 --rest-port=17412 --tcp-port=17413 --discv5-udp-port=17415 --rest-address=0.0.0.0 --nat=extip:172.18.164.171 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b34e3b7ca98e5030b56ac05efcdc8c3eb95f0666cfbfd5f29cfca5141b5b6b64 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=17416 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QCV7i4I6A6_taVG2l_I1A4cuxXPzvvCX9H8egINhXZVwJcJfjDquV3WNt1-ObhdRNRFSwvaTPRB_cnbDikpi8nQCgmlkgnY0gmlwhKwScw6KbXVsdGlhZGRyc5YACASsEnMOBu0TAAoErBJzDgbtFN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDuKyBj2uNIdMwncTDzbVhMtCVI7wL5L6bidIspKv-zimDdGNwgu0Tg3VkcILtFYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.164.171 waku 7a32a969c52d835452e1335e0557feeccc5874a41f3502d1d531f35da87f23b4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 7a32a969c52d. Setting up logs at ./log/docker/node2_2025-01-17_16-36-50__58f90c2e-c09c-4f5e-8495-3382c48a2005__quay.io_wakuorg_nwaku-pr:3244.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3244. REST: 17412
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17412/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17412/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.164.171/tcp/17413/p2p/16Uiu2HAmQ9jQiwzHMJxFSBqgXjGXjmhpMU1BtwtffiiFUHynDxaW","/ip4/172.18.164.171/tcp/17414/ws/p2p/16Uiu2HAmQ9jQiwzHMJxFSBqgXjGXjmhpMU1BtwtffiiFUHynDxaW"],"enrUri":"enr:-L24QE-1RO2xxhJx9SRWMaGj0l85LqtRvYGez9cj8p_z_e1jd_z9TphhQlXE_cDCXsQ3eoKfFIgubuBjsWUUCuwVOsYCgmlkgnY0gmlwhKwSpKuKbXVsdGlhZGRyc5YACASsEqSrBkQFAAoErBKkqwZEBt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDqs2BjFyLFxKKc5ZXQwJITMXXRX3M35t-Naw4E0To5oODdGNwgkQFg3VkcIJEB4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17412/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.115.14/tcp/60691/p2p/16Uiu2HAmR5sw2SpNazA4ARSYwMd98V6QQmSDVSuWWPzL5jMTCMTW"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3244
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2025-01-17_16-36-50__58f90c2e-c09c-4f5e-8495-3382c48a2005__quay.io_wakuorg_nwaku-pr:3244.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.130.79
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['62514', '62515', '62516', '62517', '62518']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 62514:62514 -p 62515:62515 -p 62516:62516 -p 62517:62517 -p 62518:62518 quay.io/wakuorg/nwaku-pr:3244 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=62516 --rest-port=62514 --tcp-port=62515 --discv5-udp-port=62517 --rest-address=0.0.0.0 --nat=extip:172.18.130.79 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=eceea9fcacd0eabfca9bcefdb7fd6c0a9fde7c97813eabdaaa6caa2e55aee68d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=62518 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QCV7i4I6A6_taVG2l_I1A4cuxXPzvvCX9H8egINhXZVwJcJfjDquV3WNt1-ObhdRNRFSwvaTPRB_cnbDikpi8nQCgmlkgnY0gmlwhKwScw6KbXVsdGlhZGRyc5YACASsEnMOBu0TAAoErBJzDgbtFN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDuKyBj2uNIdMwncTDzbVhMtCVI7wL5L6bidIspKv-zimDdGNwgu0Tg3VkcILtFYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.130.79 waku e411a3e155ad6959d843cc7575adbbb687ff0543b97c996fe6abbde1072ce407
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID e411a3e155ad. Setting up logs at ./log/docker/node3_2025-01-17_16-36-50__58f90c2e-c09c-4f5e-8495-3382c48a2005__quay.io_wakuorg_nwaku-pr:3244.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3244. REST: 62514
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62514/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62514/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.130.79/tcp/62515/p2p/16Uiu2HAkyY7cnVtf5HeqmNjygTjA1XAZbfqSVsTHtLtZ7QhMWrGu","/ip4/172.18.130.79/tcp/62516/ws/p2p/16Uiu2HAkyY7cnVtf5HeqmNjygTjA1XAZbfqSVsTHtLtZ7QhMWrGu"],"enrUri":"enr:-L24QDS2bNYmy2Janlsg7MEbZwjbP83MylMMHSy85sjXQww0aInYgb6xHLw4pGMU9eKN_PB00YfxgTMzw2tkbQEhdQ4CgmlkgnY0gmlwhKwSgk-KbXVsdGlhZGRyc5YACASsEoJPBvQzAAoErBKCTwb0NN0DgnJzhQADAQAAiXNlY3AyNTZrMaECPRU4px7g94ViouLC7TEHyk4SCC08fT5AbeqfEbhJhQaDdGNwgvQzg3VkcIL0NYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62514/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.115.14/tcp/60691/p2p/16Uiu2HAmR5sw2SpNazA4ARSYwMd98V6QQmSDVSuWWPzL5jMTCMTW"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3244
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2025-01-17_16-36-50__58f90c2e-c09c-4f5e-8495-3382c48a2005__quay.io_wakuorg_nwaku-pr:3244.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.182.52
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['64805', '64806', '64807', '64808', '64809']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 64805:64805 -p 64806:64806 -p 64807:64807 -p 64808:64808 -p 64809:64809 quay.io/wakuorg/nwaku-pr:3244 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=64807 --rest-port=64805 --tcp-port=64806 --discv5-udp-port=64808 --rest-address=0.0.0.0 --nat=extip:172.18.182.52 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c1d3d5c6d05c7b25c5ec7f140fc8f5a5d64d9abf8e34de5df78ce4fd588cc0e2 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=64809 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QCV7i4I6A6_taVG2l_I1A4cuxXPzvvCX9H8egINhXZVwJcJfjDquV3WNt1-ObhdRNRFSwvaTPRB_cnbDikpi8nQCgmlkgnY0gmlwhKwScw6KbXVsdGlhZGRyc5YACASsEnMOBu0TAAoErBJzDgbtFN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDuKyBj2uNIdMwncTDzbVhMtCVI7wL5L6bidIspKv-zimDdGNwgu0Tg3VkcILtFYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.182.52 waku a6aa03cf024f5a4aefc6563a634cca6f779abfcadf91fdb1a486bb53e472cb98
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID a6aa03cf024f. Setting up logs at ./log/docker/node4_2025-01-17_16-36-50__58f90c2e-c09c-4f5e-8495-3382c48a2005__quay.io_wakuorg_nwaku-pr:3244.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3244. REST: 64805
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64805/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64805/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.182.52/tcp/64806/p2p/16Uiu2HAm9kwQR74G5ZARiLxU1c83HLvnD8ZpDZjdqvTtBfcQN3Ya","/ip4/172.18.182.52/tcp/64807/ws/p2p/16Uiu2HAm9kwQR74G5ZARiLxU1c83HLvnD8ZpDZjdqvTtBfcQN3Ya"],"enrUri":"enr:-L24QBI5XeLPq6Y4klKWmgf6y--ZPAKTgfC6r2fWvM04yGLuLvj9GVU6aYCMWCDMsxvYssjxB3TpbZ1Am2uVCA55ro4CgmlkgnY0gmlwhKwStjSKbXVsdGlhZGRyc5YACASsErY0Bv0mAAoErBK2NAb9J90DgnJzhQADAQAAiXNlY3AyNTZrMaEC1PMXyVf3eNxXzHHI0vrQRGLV1J0YmKwSiF9hVPOhSYeDdGNwgv0mg3VkcIL9KIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:64805/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.115.14/tcp/60691/p2p/16Uiu2HAmR5sw2SpNazA4ARSYwMd98V6QQmSDVSuWWPzL5jMTCMTW"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3244
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2025-01-17_16-36-50__58f90c2e-c09c-4f5e-8495-3382c48a2005__quay.io_wakuorg_nwaku-pr:3244.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.82.54
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['45349', '45350', '45351', '45352', '45353']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 45349:45349 -p 45350:45350 -p 45351:45351 -p 45352:45352 -p 45353:45353 quay.io/wakuorg/nwaku-pr:3244 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=45351 --rest-port=45349 --tcp-port=45350 --discv5-udp-port=45352 --rest-address=0.0.0.0 --nat=extip:172.18.82.54 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1ca0eecb8590856e4b6e1b7c8e9d7b3d2ce9bdec06d5e6ba48eb870b2ff76610 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=45353 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QCV7i4I6A6_taVG2l_I1A4cuxXPzvvCX9H8egINhXZVwJcJfjDquV3WNt1-ObhdRNRFSwvaTPRB_cnbDikpi8nQCgmlkgnY0gmlwhKwScw6KbXVsdGlhZGRyc5YACASsEnMOBu0TAAoErBJzDgbtFN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDuKyBj2uNIdMwncTDzbVhMtCVI7wL5L6bidIspKv-zimDdGNwgu0Tg3VkcILtFYV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.82.54 waku f9bc2ffdfbf1878b8f9e72d9cfd0b8220f1564f3d368a62310cbba3d761fc954
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID f9bc2ffdfbf1. Setting up logs at ./log/docker/node5_2025-01-17_16-36-50__58f90c2e-c09c-4f5e-8495-3382c48a2005__quay.io_wakuorg_nwaku-pr:3244.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3244. REST: 45349
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45349/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45349/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.82.54/tcp/45350/p2p/16Uiu2HAkyMEVCXgqswGtVVU8i4HXz7NAycSqBRYer69ud9kVnMtc","/ip4/172.18.82.54/tcp/45351/ws/p2p/16Uiu2HAkyMEVCXgqswGtVVU8i4HXz7NAycSqBRYer69ud9kVnMtc"],"enrUri":"enr:-L24QMM7KYLtxIJa9kdvfnqlU5kbEq0hyD2cqroO-hr_OQGSMCsnwA6PPVzeOp5zkeC9swOTvezsFU36FugZH_QfwmYCgmlkgnY0gmlwhKwSUjaKbXVsdGlhZGRyc5YACASsElI2BrEmAAoErBJSNgaxJ90DgnJzhQADAQAAiXNlY3AyNTZrMaECOkuZdSLoYtD8w8f134-zxCBqkoigHGF4C_Y2Fz6HNymDdGNwgrEmg3VkcIKxKIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45349/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.115.14/tcp/60691/p2p/16Uiu2HAmR5sw2SpNazA4ARSYwMd98V6QQmSDVSuWWPzL5jMTCMTW"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60690/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17412/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62514/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:64805/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45349/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60690/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3244 can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60690/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1737131817211404032,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3244 can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17412/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1737131817211404032,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:quay.io/wakuorg/nwaku-pr:3244 can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62514/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1737131817211404032,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:quay.io/wakuorg/nwaku-pr:3244 can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64805/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1737131817211404032,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:quay.io/wakuorg/nwaku-pr:3244 can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45349/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1737131817211404032,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60690/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3244 can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60690/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1737131817335433216,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3244 can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17412/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1737131817335433216,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:quay.io/wakuorg/nwaku-pr:3244 can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62514/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1737131817335433216,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:quay.io/wakuorg/nwaku-pr:3244 can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64805/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1737131817335433216,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:quay.io/wakuorg/nwaku-pr:3244 can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45349/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1737131817335433216,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id ea564a098da5
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 7a32a969c52d
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container ea564a098da5. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id e411a3e155ad
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 7a32a969c52d. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id a6aa03cf024f
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container e411a3e155ad. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id f9bc2ffdfbf1
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container a6aa03cf024f. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.