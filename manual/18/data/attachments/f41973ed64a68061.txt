[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2025-01-17_11-54-07__fd903135-c12a-4f19-9773-5b5c436e795d
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3240
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-01-17_11-54-07__fd903135-c12a-4f19-9773-5b5c436e795d__quay.io_wakuorg_nwaku-pr:3240.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.130.14
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['29358', '29359', '29360', '29361', '29362']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 29358:29358 -p 29359:29359 -p 29360:29360 -p 29361:29361 -p 29362:29362 quay.io/wakuorg/nwaku-pr:3240 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=29360 --rest-port=29358 --tcp-port=29359 --discv5-udp-port=29361 --rest-address=0.0.0.0 --nat=extip:172.18.130.14 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a788c59f727bcda542e65fedb555eed1dbc5a3ca9aeae48aedcc1cc08d93dd3f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=29362 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.130.14 waku 63730de7b4b7a35d7daf5d4cc3102e1692e909298d74b1492226b7de41b373f4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 63730de7b4b7. Setting up logs at ./log/docker/node1_2025-01-17_11-54-07__fd903135-c12a-4f19-9773-5b5c436e795d__quay.io_wakuorg_nwaku-pr:3240.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3240. REST: 29358
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 33f98166ac5a. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29358/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29358/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.130.14/tcp/29359/p2p/16Uiu2HAkyUq9F8JpY3fz7ZADd3r4ktEKmBa4ucSgCSSvRoL11M92","/ip4/172.18.130.14/tcp/29360/ws/p2p/16Uiu2HAkyUq9F8JpY3fz7ZADd3r4ktEKmBa4ucSgCSSvRoL11M92"],"enrUri":"enr:-L24QCfYh7YmTDPGnO783T5QKDiVelIwgryD9UZ4gW_x20CgJiCR8Z4vk0ocR5vnPtAF_xmsKYINwmq4Kf8EhzMa4DQCgmlkgnY0gmlwhKwSgg6KbXVsdGlhZGRyc5YACASsEoIOBnKvAAoErBKCDgZysN0DgnJzhQADAQAAiXNlY3AyNTZrMaECPD3ZyAYgF0Zs129wV882ZW0SYT2b1d8o-eLTVX4LqgGDdGNwgnKvg3VkcIJysYV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3240
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-01-17_11-54-07__fd903135-c12a-4f19-9773-5b5c436e795d__quay.io_wakuorg_nwaku-pr:3240.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.166.207
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['31241', '31242', '31243', '31244', '31245']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 31241:31241 -p 31242:31242 -p 31243:31243 -p 31244:31244 -p 31245:31245 quay.io/wakuorg/nwaku-pr:3240 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=31243 --rest-port=31241 --tcp-port=31242 --discv5-udp-port=31244 --rest-address=0.0.0.0 --nat=extip:172.18.166.207 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bac9edc7c9e2b2ea97499fedbb582cbeadccc317dbf8fe096251dc68d6ee110e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=31245 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QCfYh7YmTDPGnO783T5QKDiVelIwgryD9UZ4gW_x20CgJiCR8Z4vk0ocR5vnPtAF_xmsKYINwmq4Kf8EhzMa4DQCgmlkgnY0gmlwhKwSgg6KbXVsdGlhZGRyc5YACASsEoIOBnKvAAoErBKCDgZysN0DgnJzhQADAQAAiXNlY3AyNTZrMaECPD3ZyAYgF0Zs129wV882ZW0SYT2b1d8o-eLTVX4LqgGDdGNwgnKvg3VkcIJysYV3YWt1MgU --filternode=/ip4/172.18.130.14/tcp/29359/p2p/16Uiu2HAkyUq9F8JpY3fz7ZADd3r4ktEKmBa4ucSgCSSvRoL11M92
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.166.207 waku 7f82d11891c6f17f0028621f0d8f50c01c9829d18eb855b1e67193bfc56f42dd
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 7f82d11891c6. Setting up logs at ./log/docker/node2_2025-01-17_11-54-07__fd903135-c12a-4f19-9773-5b5c436e795d__quay.io_wakuorg_nwaku-pr:3240.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3240. REST: 31241
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31241/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31241/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.166.207/tcp/31242/p2p/16Uiu2HAm7FtQv2awmiWJFnFoYVpvVgXj1RKzuuHB2KS42LRpa5Qs","/ip4/172.18.166.207/tcp/31243/ws/p2p/16Uiu2HAm7FtQv2awmiWJFnFoYVpvVgXj1RKzuuHB2KS42LRpa5Qs"],"enrUri":"enr:-L24QN_HeeXGGQR_C51TMF2fvI3AvnON64iIreElswM8htBoNecD5MPRt5ZL1xz8q4qBKGeFeuan-FbNOQQD1KHCWfgCgmlkgnY0gmlwhKwSps-KbXVsdGlhZGRyc5YACASsEqbPBnoKAAoErBKmzwZ6C90DgnJzhQADAQAAiXNlY3AyNTZrMaECr8p-QxD1PBmQVC7Mc1Gg8XWUhg7oDIJFGnykmkp55FCDdGNwgnoKg3VkcIJ6DIV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31241/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.130.14/tcp/29359/p2p/16Uiu2HAkyUq9F8JpY3fz7ZADd3r4ktEKmBa4ucSgCSSvRoL11M92"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3240
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2025-01-17_11-54-07__fd903135-c12a-4f19-9773-5b5c436e795d__quay.io_wakuorg_nwaku-pr:3240.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.98.34
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['1063', '1064', '1065', '1066', '1067']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 1063:1063 -p 1064:1064 -p 1065:1065 -p 1066:1066 -p 1067:1067 quay.io/wakuorg/nwaku-pr:3240 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=1065 --rest-port=1063 --tcp-port=1064 --discv5-udp-port=1066 --rest-address=0.0.0.0 --nat=extip:172.18.98.34 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6217f4c9b7bb88bdcb9c8acbc8a6a52772fcbe14dacbf693dda0dec2af94b0e4 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=1067 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QCfYh7YmTDPGnO783T5QKDiVelIwgryD9UZ4gW_x20CgJiCR8Z4vk0ocR5vnPtAF_xmsKYINwmq4Kf8EhzMa4DQCgmlkgnY0gmlwhKwSgg6KbXVsdGlhZGRyc5YACASsEoIOBnKvAAoErBKCDgZysN0DgnJzhQADAQAAiXNlY3AyNTZrMaECPD3ZyAYgF0Zs129wV882ZW0SYT2b1d8o-eLTVX4LqgGDdGNwgnKvg3VkcIJysYV3YWt1MgU --filternode=/ip4/172.18.130.14/tcp/29359/p2p/16Uiu2HAkyUq9F8JpY3fz7ZADd3r4ktEKmBa4ucSgCSSvRoL11M92
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.98.34 waku 42490be6e707a5f8583ea8f67af8b99d81f7d1e9d54d8c8045fa1ca82345b563
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 42490be6e707. Setting up logs at ./log/docker/node3_2025-01-17_11-54-07__fd903135-c12a-4f19-9773-5b5c436e795d__quay.io_wakuorg_nwaku-pr:3240.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3240. REST: 1063
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1063/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1063/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.98.34/tcp/1064/p2p/16Uiu2HAmNGtDbtweQu3CZ3yD3VwPRq1WD2FYXK2XoBWrs2yJpxHQ","/ip4/172.18.98.34/tcp/1065/ws/p2p/16Uiu2HAmNGtDbtweQu3CZ3yD3VwPRq1WD2FYXK2XoBWrs2yJpxHQ"],"enrUri":"enr:-L24QAASBdZOMPxbaqBgWU8KVxk_BbzfR2loKiEKaba4koStbvtJtuKXYNrNgZPU4UM1NRRxkJmKocUfJ_AkDhkvByUCgmlkgnY0gmlwhKwSYiKKbXVsdGlhZGRyc5YACASsEmIiBgQoAAoErBJiIgYEKd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDjusoSdvKamROJ4lQNNSsgWmmn11K08BgVw8O4lXNqxuDdGNwggQog3VkcIIEKoV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1063/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.130.14/tcp/29359/p2p/16Uiu2HAkyUq9F8JpY3fz7ZADd3r4ktEKmBa4ucSgCSSvRoL11M92"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3240
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2025-01-17_11-54-07__fd903135-c12a-4f19-9773-5b5c436e795d__quay.io_wakuorg_nwaku-pr:3240.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.149.176
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['38940', '38941', '38942', '38943', '38944']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 38940:38940 -p 38941:38941 -p 38942:38942 -p 38943:38943 -p 38944:38944 quay.io/wakuorg/nwaku-pr:3240 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=38942 --rest-port=38940 --tcp-port=38941 --discv5-udp-port=38943 --rest-address=0.0.0.0 --nat=extip:172.18.149.176 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=aadb7dbb66f9f21ac9bc5ce6baf3e99529af4ecee4c5d7983c46cfab5e1b378b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=38944 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QCfYh7YmTDPGnO783T5QKDiVelIwgryD9UZ4gW_x20CgJiCR8Z4vk0ocR5vnPtAF_xmsKYINwmq4Kf8EhzMa4DQCgmlkgnY0gmlwhKwSgg6KbXVsdGlhZGRyc5YACASsEoIOBnKvAAoErBKCDgZysN0DgnJzhQADAQAAiXNlY3AyNTZrMaECPD3ZyAYgF0Zs129wV882ZW0SYT2b1d8o-eLTVX4LqgGDdGNwgnKvg3VkcIJysYV3YWt1MgU --filternode=/ip4/172.18.130.14/tcp/29359/p2p/16Uiu2HAkyUq9F8JpY3fz7ZADd3r4ktEKmBa4ucSgCSSvRoL11M92
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.149.176 waku ddd1c068b2c5ff6b5f10fd9c675a5148dbcbb8b5f8e0113d987214739d31ccf3
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID ddd1c068b2c5. Setting up logs at ./log/docker/node4_2025-01-17_11-54-07__fd903135-c12a-4f19-9773-5b5c436e795d__quay.io_wakuorg_nwaku-pr:3240.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3240. REST: 38940
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38940/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38940/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.149.176/tcp/38941/p2p/16Uiu2HAmJtn6qCcZLQ4C3Aqyo6ZLTS3sc6er3W7HXU4wDGPthD17","/ip4/172.18.149.176/tcp/38942/ws/p2p/16Uiu2HAmJtn6qCcZLQ4C3Aqyo6ZLTS3sc6er3W7HXU4wDGPthD17"],"enrUri":"enr:-L24QMGQhEnkl1hMi24JidFvSY6WRim_-pL_Jl1owmRcfQClPpHuUScvHEXHP0IjnTtVUIKHMnkEKSNWF7sRzHznBvECgmlkgnY0gmlwhKwSlbCKbXVsdGlhZGRyc5YACASsEpWwBpgdAAoErBKVsAaYHt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDXK5nD8UOgE7XsK0Nv3G8_dI8JoTSRria9QTXnKqhZaaDdGNwgpgdg3VkcIKYH4V3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38940/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.130.14/tcp/29359/p2p/16Uiu2HAkyUq9F8JpY3fz7ZADd3r4ktEKmBa4ucSgCSSvRoL11M92"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3240
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2025-01-17_11-54-07__fd903135-c12a-4f19-9773-5b5c436e795d__quay.io_wakuorg_nwaku-pr:3240.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.248.96
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['34713', '34714', '34715', '34716', '34717']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 34713:34713 -p 34714:34714 -p 34715:34715 -p 34716:34716 -p 34717:34717 quay.io/wakuorg/nwaku-pr:3240 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=34715 --rest-port=34713 --tcp-port=34714 --discv5-udp-port=34716 --rest-address=0.0.0.0 --nat=extip:172.18.248.96 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=99fad9af260ce7f7a0f570f73f2b49b0ddbacb3e117a120f06bcd9ebdef7a97e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=34717 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QCfYh7YmTDPGnO783T5QKDiVelIwgryD9UZ4gW_x20CgJiCR8Z4vk0ocR5vnPtAF_xmsKYINwmq4Kf8EhzMa4DQCgmlkgnY0gmlwhKwSgg6KbXVsdGlhZGRyc5YACASsEoIOBnKvAAoErBKCDgZysN0DgnJzhQADAQAAiXNlY3AyNTZrMaECPD3ZyAYgF0Zs129wV882ZW0SYT2b1d8o-eLTVX4LqgGDdGNwgnKvg3VkcIJysYV3YWt1MgU --filternode=/ip4/172.18.130.14/tcp/29359/p2p/16Uiu2HAkyUq9F8JpY3fz7ZADd3r4ktEKmBa4ucSgCSSvRoL11M92
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.248.96 waku bb86d5c6fcb58589c5ae8dae5be72c8777a8b10a0760e5108bb2f9734fd47673
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID bb86d5c6fcb5. Setting up logs at ./log/docker/node5_2025-01-17_11-54-07__fd903135-c12a-4f19-9773-5b5c436e795d__quay.io_wakuorg_nwaku-pr:3240.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3240. REST: 34713
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34713/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34713/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.248.96/tcp/34714/p2p/16Uiu2HAmDLwGJiQgfmAwW9RLSw4qufJ7JWeZrS9MKppcT3ioNeja","/ip4/172.18.248.96/tcp/34715/ws/p2p/16Uiu2HAmDLwGJiQgfmAwW9RLSw4qufJ7JWeZrS9MKppcT3ioNeja"],"enrUri":"enr:-L24QPYSxybqd5u5uL9flRsG0-Ac4gLrUG_8xWsSIDY8TSU1UyvRoJ7AW-mDPpHXIEv0JZ7T6_qlbOTRDwuaUdaJFb0CgmlkgnY0gmlwhKwS-GCKbXVsdGlhZGRyc5YACASsEvhgBoeaAAoErBL4YAaHm90DgnJzhQADAQAAiXNlY3AyNTZrMaEDCju-O5MovJHazGxBWB1afB7QGQFdPezvNuc1x-bmFyGDdGNwgoeag3VkcIKHnIV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34713/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.130.14/tcp/29359/p2p/16Uiu2HAkyUq9F8JpY3fz7ZADd3r4ktEKmBa4ucSgCSSvRoL11M92"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29358/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31241/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "073d2682-4ff6-4215-9d11-1bc659ce9ff5", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"073d2682-4ff6-4215-9d11-1bc659ce9ff5","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1063/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "e974ac75-776e-4b12-bff8-22cbe889cc16", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"e974ac75-776e-4b12-bff8-22cbe889cc16","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38940/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "18479139-13cb-4a7c-812d-3e21c5b8821d", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"18479139-13cb-4a7c-812d-3e21c5b8821d","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34713/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "2d00208e-6330-4fd3-b96d-5876535f1771", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"2d00208e-6330-4fd3-b96d-5876535f1771","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29358/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3240 can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31241/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1737114854295021824,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29358/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3240 can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1063/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:1063/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 63730de7b4b7
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 7f82d11891c6
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 63730de7b4b7. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 42490be6e707
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 7f82d11891c6. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id ddd1c068b2c5
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 42490be6e707. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id bb86d5c6fcb5
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.