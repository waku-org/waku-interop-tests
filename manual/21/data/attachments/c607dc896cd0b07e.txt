[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_unsubscribe_with_content_topic_string_instead_of_list with id: 2025-01-23_11-46-40__9b20fe4e-c92a-4eab-a4b1-648be44aa970
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image harbor.status.im/wakuorg/nwaku:test-debug-flag
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-01-23_11-46-40__9b20fe4e-c92a-4eab-a4b1-648be44aa970__harbor.status.im_wakuorg_nwaku:test-debug-flag.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.0.42
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['57950', '57951', '57952', '57953', '57954']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 57950:57950 -p 57951:57951 -p 57952:57952 -p 57953:57953 -p 57954:57954 harbor.status.im/wakuorg/nwaku:test-debug-flag --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=57952 --rest-port=57950 --tcp-port=57951 --discv5-udp-port=57953 --rest-address=0.0.0.0 --nat=extip:172.18.0.42 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f5ab5d45ba0eb935a4f2a27ff33e99ddfc96a1ebf8bef98f83df7c72c70adada --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=57954 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.0.42 waku 180f0218349ea63379bacd3f797655c15435f48e29486dcbfa70a43b0c609898
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 180f0218349e. Setting up logs at ./log/docker/node1_2025-01-23_11-46-40__9b20fe4e-c92a-4eab-a4b1-648be44aa970__harbor.status.im_wakuorg_nwaku:test-debug-flag.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image harbor.status.im/wakuorg/nwaku:test-debug-flag. REST: 57950
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container d2cbb390fde6. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57950/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57950/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.0.42/tcp/57951/p2p/16Uiu2HAmS1bM1KpZLM9b3beT7KfGSWZL8AXwXzkSNLF69qNBW3Fa","/ip4/172.18.0.42/tcp/57952/ws/p2p/16Uiu2HAmS1bM1KpZLM9b3beT7KfGSWZL8AXwXzkSNLF69qNBW3Fa"],"enrUri":"enr:-L24QDywz83Ig-YEp5TTHFahswfma7OjmOHX8YVGV4aeR_PYYWYBKdU6eG0iPGh4jOcOj13-bdnKTumFsOSryA4-9doCgmlkgnY0gmlwhKwSACqKbXVsdGlhZGRyc5YACASsEgAqBuJfAAoErBIAKgbiYN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDxm8dheHHE4e8vWS1cSd7VNC5hdzl7RJH33A5BfWkEd2DdGNwguJfg3VkcILiYYV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image harbor.status.im/wakuorg/nwaku:test-debug-flag
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-01-23_11-46-40__9b20fe4e-c92a-4eab-a4b1-648be44aa970__harbor.status.im_wakuorg_nwaku:test-debug-flag.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.21.71
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['63898', '63899', '63900', '63901', '63902']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 63898:63898 -p 63899:63899 -p 63900:63900 -p 63901:63901 -p 63902:63902 harbor.status.im/wakuorg/nwaku:test-debug-flag --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=63900 --rest-port=63898 --tcp-port=63899 --discv5-udp-port=63901 --rest-address=0.0.0.0 --nat=extip:172.18.21.71 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e6f5455fdfa988c0de3dac55abcb1e9f0bedf7fdcbc3cdfc1a10dd2abf1b23ad --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=63902 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QDywz83Ig-YEp5TTHFahswfma7OjmOHX8YVGV4aeR_PYYWYBKdU6eG0iPGh4jOcOj13-bdnKTumFsOSryA4-9doCgmlkgnY0gmlwhKwSACqKbXVsdGlhZGRyc5YACASsEgAqBuJfAAoErBIAKgbiYN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDxm8dheHHE4e8vWS1cSd7VNC5hdzl7RJH33A5BfWkEd2DdGNwguJfg3VkcILiYYV3YWt1MgU --filternode=/ip4/172.18.0.42/tcp/57951/p2p/16Uiu2HAmS1bM1KpZLM9b3beT7KfGSWZL8AXwXzkSNLF69qNBW3Fa
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.21.71 waku daeb040953ac59ceabe9545099176187bd75005143011af25480bd52300d0020
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID daeb040953ac. Setting up logs at ./log/docker/node2_2025-01-23_11-46-40__9b20fe4e-c92a-4eab-a4b1-648be44aa970__harbor.status.im_wakuorg_nwaku:test-debug-flag.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image harbor.status.im/wakuorg/nwaku:test-debug-flag. REST: 63898
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63898/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63898/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.21.71/tcp/63899/p2p/16Uiu2HAmK6zUyfVULFvkX4ubChBq2X5HYdnbASbgLfy1TEnmhK2G","/ip4/172.18.21.71/tcp/63900/ws/p2p/16Uiu2HAmK6zUyfVULFvkX4ubChBq2X5HYdnbASbgLfy1TEnmhK2G"],"enrUri":"enr:-L24QK-EptcL0AN3rSHhhaHg6cqt86U70USJFu6O6l5AXcXoWAfnDRa-HIcT4YI79XJKOdOxkjBIk0S7UuADiToNMyQCgmlkgnY0gmlwhKwSFUeKbXVsdGlhZGRyc5YACASsEhVHBvmbAAoErBIVRwb5nN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDX89fWh3Z--lJxFWZcftalOQM1w3by5mfKc1BreRh4TGDdGNwgvmbg3VkcIL5nYV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63898/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.0.42/tcp/57951/p2p/16Uiu2HAmS1bM1KpZLM9b3beT7KfGSWZL8AXwXzkSNLF69qNBW3Fa"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57950/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63898/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "d04795cf-e838-423b-84b5-2d9986f6ab3b", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"d04795cf-e838-423b-84b5-2d9986f6ab3b","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:63898/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": "/test/1/waku-filter/proto", "pubsubTopic": "/waku/2/rs/3/1"}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:63898/filter/v2/subscriptions. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data\\", contentType: \\"text/plain\\"))"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 180f0218349e
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id daeb040953ac
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 180f0218349e. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.