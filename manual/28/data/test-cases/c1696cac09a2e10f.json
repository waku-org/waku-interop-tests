{"uid":"c1696cac09a2e10f","name":"test_metrics_after_filter_get","fullName":"tests.metrics.test_metrics.TestMetrics#test_metrics_after_filter_get","historyId":"f7c4063decf3bfb99e41627466834b7f","time":{"start":1738311992018,"stop":1738311997570,"duration":5552},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"set_allure_env_variables","time":{"start":1738311942495,"stop":1738311942495,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail","time":{"start":1738311989322,"stop":1738311989322,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes","time":{"start":1738311989322,"stop":1738311989322,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_id","time":{"start":1738311989322,"stop":1738311989322,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"check_waku_log_errors","time":{"start":1738311989322,"stop":1738311989322,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"light_push_setup","time":{"start":1738311989323,"stop":1738311989323,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"common_setup","time":{"start":1738311989323,"stop":1738311989323,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_setup","time":{"start":1738311989323,"stop":1738311989323,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"filter_setup","time":{"start":1738311989323,"stop":1738311989323,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"store_setup","time":{"start":1738311989324,"stop":1738311989324,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"relay_setup","time":{"start":1738311989324,"stop":1738311989324,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_main_relay_node","time":{"start":1738311989324,"stop":1738311990645,"duration":1321},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_main_filter_node","time":{"start":1738311990645,"stop":1738311991987,"duration":1342},"status":"passed","steps":[{"name":"add_node_peer","time":{"start":1738311991953,"stop":1738311991987,"duration":34},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.metrics.test_metrics.TestMetrics object at 0x7fcecefe6090>, <src.node.waku_node.WakuNode object at 0x7fcecedb83e0>, ['/ip4/172.18.167.54/tcp/17005/p2p/16Uiu2HAkwBhjZK74NhVzDeEzeC5xAQNdyMWL4wgHsxhpWX71n6MP'])"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"subscribe_main_nodes","time":{"start":1738311991987,"stop":1738311992017,"duration":30},"status":"passed","steps":[{"name":"wait_for_subscriptions_on_main_nodes","time":{"start":1738311991988,"stop":1738311992017,"duration":29},"status":"passed","steps":[{"name":"create_filter_subscription_with_retry","time":{"start":1738311991998,"stop":1738311992017,"duration":19},"status":"passed","steps":[{"name":"create_filter_subscription","time":{"start":1738311991998,"stop":1738311992017,"duration":19},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"subscription","value":"{'requestId': '6b8a906a-29bd-4f4d-8526-61357e9b3f3f', 'contentFilters': ['/test/1/waku-relay/proto'], 'pubsubTopic': '/waku/2/rs/3/1'}"},{"name":"node","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"subscription","value":"{'requestId': '6b8a906a-29bd-4f4d-8526-61357e9b3f3f', 'contentFilters': ['/test/1/waku-relay/proto'], 'pubsubTopic': '/waku/2/rs/3/1'}"},{"name":"node","value":"None"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"content_topic_list","value":"['/test/1/waku-relay/proto']"},{"name":"pubsub_topic","value":"None"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":3,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"testStage":{"status":"passed","steps":[{"name":"create_message","time":{"start":1738311992018,"stop":1738311992018,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"get_filter_messages","time":{"start":1738311992524,"stop":1738311992528,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"content_topic","value":"'/test/1/waku-relay/proto'"},{"name":"pubsub_topic","value":"'/waku/2/rs/3/1'"},{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7fcecedb83e0>"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_metric","time":{"start":1738311997528,"stop":1738311997533,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7fcecec50500>"},{"name":"metric_name","value":"'libp2p_peers'"},{"name":"expected_value","value":"1"},{"name":"exact","value":"False"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_metric","time":{"start":1738311997533,"stop":1738311997536,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7fcecec50500>"},{"name":"metric_name","value":"'libp2p_pubsub_peers'"},{"name":"expected_value","value":"1"},{"name":"exact","value":"False"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_metric","time":{"start":1738311997537,"stop":1738311997540,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7fcecec50500>"},{"name":"metric_name","value":"'libp2p_pubsub_topics'"},{"name":"expected_value","value":"1"},{"name":"exact","value":"False"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_metric","time":{"start":1738311997540,"stop":1738311997544,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7fcecec50500>"},{"name":"metric_name","value":"'libp2p_pubsub_subscriptions_total'"},{"name":"expected_value","value":"1"},{"name":"exact","value":"False"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_metric","time":{"start":1738311997544,"stop":1738311997547,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7fcecec50500>"},{"name":"metric_name","value":"'waku_peer_store_size'"},{"name":"expected_value","value":"1"},{"name":"exact","value":"False"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_metric","time":{"start":1738311997547,"stop":1738311997550,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7fcecec50500>"},{"name":"metric_name","value":"'waku_histogram_message_size_count'"},{"name":"expected_value","value":"1"},{"name":"exact","value":"False"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_metric","time":{"start":1738311997550,"stop":1738311997553,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7fcecec50500>"},{"name":"metric_name","value":"'waku_node_messages_total{type=\"relay\"}'"},{"name":"expected_value","value":"1"},{"name":"exact","value":"False"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_metric","time":{"start":1738311997553,"stop":1738311997556,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7fcecec50500>"},{"name":"metric_name","value":"'waku_filter_requests{type=\"SUBSCRIBE\"}'"},{"name":"expected_value","value":"1"},{"name":"exact","value":"False"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_metric","time":{"start":1738311997557,"stop":1738311997560,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7fcecedb83e0>"},{"name":"metric_name","value":"'waku_service_peers{protocol=\"/vac/waku/filter-subscribe/2.0.0-beta1\",peerId=\"/ip4/172.18.167.54/tcp/17005\"}'"},{"name":"expected_value","value":"1"},{"name":"exact","value":"False"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_metric","time":{"start":1738311997560,"stop":1738311997563,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7fcecedb83e0>"},{"name":"metric_name","value":"'libp2p_peers'"},{"name":"expected_value","value":"1"},{"name":"exact","value":"False"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_metric","time":{"start":1738311997564,"stop":1738311997567,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7fcecedb83e0>"},{"name":"metric_name","value":"'libp2p_total_dial_attempts_total'"},{"name":"expected_value","value":"1"},{"name":"exact","value":"False"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_metric","time":{"start":1738311997567,"stop":1738311997570,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7fcecedb83e0>"},{"name":"metric_name","value":"'waku_peer_store_size'"},{"name":"expected_value","value":"1"},{"name":"exact","value":"False"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"30535eed3e1066c1","name":"log","source":"30535eed3e1066c1.txt","type":"text/plain","size":14668}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":14,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"test_setup::0","time":{"start":1738311997572,"stop":1738311997573,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes::0","time":{"start":1738311997573,"stop":1738311999993,"duration":2420},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"check_waku_log_errors::0","time":{"start":1738311999996,"stop":1738312000004,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail::0","time":{"start":1738312000004,"stop":1738312000004,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"set_allure_env_variables::0","time":{"start":1738312170146,"stop":1738312170146,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"@pytest.mark.usefixtures('setup_main_relay_node', 'setup_main_filter_node', 'subscribe_main_nodes')"},{"name":"parentSuite","value":"tests.metrics"},{"name":"suite","value":"test_metrics"},{"name":"subSuite","value":"TestMetrics"},{"name":"host","value":"fv-az1267-952"},{"name":"thread","value":"1933-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.metrics.test_metrics"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":0,"passed":14,"unknown":0,"total":14},"items":[{"uid":"f2d61c08106048da","reportUrl":"https://waku-org.github.io/waku-interop-tests/manual/27//#testresult/f2d61c08106048da","status":"passed","time":{"start":1738244303617,"stop":1738244309165,"duration":5548}},{"uid":"ffa338bcde64de0e","reportUrl":"https://waku-org.github.io/waku-interop-tests/manual/27//#testresult/ffa338bcde64de0e","status":"passed","time":{"start":1738244303617,"stop":1738244309165,"duration":5548}},{"uid":"8f21912748a5ac1f","reportUrl":"https://waku-org.github.io/waku-interop-tests/manual/26//#testresult/8f21912748a5ac1f","status":"passed","time":{"start":1738239472086,"stop":1738239477633,"duration":5547}},{"uid":"2b4be0d328678f0","reportUrl":"https://waku-org.github.io/waku-interop-tests/manual/25//#testresult/2b4be0d328678f0","status":"passed","time":{"start":1738237437518,"stop":1738237443067,"duration":5549}},{"uid":"a67bb5a407ca1568","reportUrl":"https://waku-org.github.io/waku-interop-tests/manual/24//#testresult/a67bb5a407ca1568","status":"passed","time":{"start":1738235454548,"stop":1738235460095,"duration":5547}},{"uid":"90640cc1fa1b9cd0","reportUrl":"https://waku-org.github.io/waku-interop-tests/manual/23//#testresult/90640cc1fa1b9cd0","status":"passed","time":{"start":1738232838909,"stop":1738232844459,"duration":5550}},{"uid":"dda241d057fda254","reportUrl":"https://waku-org.github.io/waku-interop-tests/manual/22//#testresult/dda241d057fda254","status":"passed","time":{"start":1737714938244,"stop":1737714943795,"duration":5551}},{"uid":"bcdecad5d9b0513","reportUrl":"https://waku-org.github.io/waku-interop-tests/manual/21//#testresult/bcdecad5d9b0513","status":"passed","time":{"start":1737632524101,"stop":1737632529653,"duration":5552}},{"uid":"b5d57f72ac0fba5d","reportUrl":"https://waku-org.github.io/waku-interop-tests/manual/20//#testresult/b5d57f72ac0fba5d","status":"passed","time":{"start":1737131731849,"stop":1737131737395,"duration":5546}},{"uid":"eb5390b0fa18ec8a","reportUrl":"https://waku-org.github.io/waku-interop-tests/manual/19//#testresult/eb5390b0fa18ec8a","status":"passed","time":{"start":1737117164017,"stop":1737117169560,"duration":5543}},{"uid":"dc7ff41959faf24a","reportUrl":"https://waku-org.github.io/waku-interop-tests/manual/18//#testresult/dc7ff41959faf24a","status":"passed","time":{"start":1737114831451,"stop":1737114836993,"duration":5542}},{"uid":"36c328568bc377d8","reportUrl":"https://waku-org.github.io/waku-interop-tests/manual/17//#testresult/36c328568bc377d8","status":"passed","time":{"start":1737111998044,"stop":1737112003593,"duration":5549}},{"uid":"5c77470d612dbb5","reportUrl":"https://waku-org.github.io/waku-interop-tests/manual/16//#testresult/5c77470d612dbb5","status":"passed","time":{"start":1737108757531,"stop":1737108763074,"duration":5543}}]},"tags":["@pytest.mark.usefixtures('setup_main_relay_node', 'setup_main_filter_node', 'subscribe_main_nodes')"]},"source":"c1696cac09a2e10f.json","parameterValues":[]}