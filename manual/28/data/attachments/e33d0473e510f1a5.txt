[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2025-01-31_08-27-24__adc3c825-dfcb-4bb6-aa12-a4d2c5b78685
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3234
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-01-31_08-27-24__adc3c825-dfcb-4bb6-aa12-a4d2c5b78685__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.119.178
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['52999', '53000', '53001', '53002', '53003']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 52999:52999 -p 53000:53000 -p 53001:53001 -p 53002:53002 -p 53003:53003 quay.io/wakuorg/nwaku-pr:3234 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=53001 --rest-port=52999 --tcp-port=53000 --discv5-udp-port=53002 --rest-address=0.0.0.0 --nat=extip:172.18.119.178 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0bdd4c74de7ad1baedbc5f6be56dd1af14678bfe7bdda3fc0a6d53c23d2242bb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=53003 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.119.178 waku e7af999abc03a0165d0bd4e7ba26fc2dede6870d2e8593b060b0c641d3ca956a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID e7af999abc03. Setting up logs at ./log/docker/node1_2025-01-31_08-27-24__adc3c825-dfcb-4bb6-aa12-a4d2c5b78685__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3234. REST: 52999
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 748c7683c18d. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52999/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52999/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.119.178/tcp/53000/p2p/16Uiu2HAkz77Y66hm1E9KoWKLQLQLr3EnPeBAaSjnkHFghagwPUY4","/ip4/172.18.119.178/tcp/53001/ws/p2p/16Uiu2HAkz77Y66hm1E9KoWKLQLQLr3EnPeBAaSjnkHFghagwPUY4"],"enrUri":"enr:-L24QBC8wn_kpWshuoONKOg62UTxzaWjVAvyP-RJjWv29imHN3A5sXYBwQz5kR53qg7m2PVXr7dGaZLfDDv3gHqToMkCgmlkgnY0gmlwhKwSd7KKbXVsdGlhZGRyc5YACASsEneyBs8IAAoErBJ3sgbPCd0DgnJzhQADAQAAiXNlY3AyNTZrMaECRYlL44weOAlbuV6qdEb4oCeshgrTWmeu8HcqFKEnI0WDdGNwgs8Ig3VkcILPCoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3234
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-01-31_08-27-24__adc3c825-dfcb-4bb6-aa12-a4d2c5b78685__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.55.104
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['13920', '13921', '13922', '13923', '13924']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 13920:13920 -p 13921:13921 -p 13922:13922 -p 13923:13923 -p 13924:13924 quay.io/wakuorg/nwaku-pr:3234 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=13922 --rest-port=13920 --tcp-port=13921 --discv5-udp-port=13923 --rest-address=0.0.0.0 --nat=extip:172.18.55.104 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ecde1762dbadeec8fde3efdb9df16dddbd5dd8fe5edb08c5d7fd186edb1fc50b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=13924 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QBC8wn_kpWshuoONKOg62UTxzaWjVAvyP-RJjWv29imHN3A5sXYBwQz5kR53qg7m2PVXr7dGaZLfDDv3gHqToMkCgmlkgnY0gmlwhKwSd7KKbXVsdGlhZGRyc5YACASsEneyBs8IAAoErBJ3sgbPCd0DgnJzhQADAQAAiXNlY3AyNTZrMaECRYlL44weOAlbuV6qdEb4oCeshgrTWmeu8HcqFKEnI0WDdGNwgs8Ig3VkcILPCoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.55.104 waku 04906c644ea5f12798d1791333f0529ef9be6556be3991a9cc6d8a8be17b4e0d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 04906c644ea5. Setting up logs at ./log/docker/node2_2025-01-31_08-27-24__adc3c825-dfcb-4bb6-aa12-a4d2c5b78685__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3234. REST: 13920
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13920/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13920/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.55.104/tcp/13921/p2p/16Uiu2HAmP1haDoTJg9F4Rbad4iqiXGLE2vNnUvBPg5YMqPu5qjCi","/ip4/172.18.55.104/tcp/13922/ws/p2p/16Uiu2HAmP1haDoTJg9F4Rbad4iqiXGLE2vNnUvBPg5YMqPu5qjCi"],"enrUri":"enr:-L24QJR9IjpMhtnBQMxMO9cUeSrUv71juOMfGHQdUihNcTnMV-ie7YDElsXfrjgYaWm4XAe0vR-_ZJKTJGT0atbI0yQCgmlkgnY0gmlwhKwSN2iKbXVsdGlhZGRyc5YACASsEjdoBjZhAAoErBI3aAY2Yt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDmeMYrUQdVu-gPvjqNF4mkosk5q1dYvym-3XkJ-QMTk-DdGNwgjZhg3VkcII2Y4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13920/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.119.178/tcp/53000/p2p/16Uiu2HAkz77Y66hm1E9KoWKLQLQLr3EnPeBAaSjnkHFghagwPUY4"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3234
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2025-01-31_08-27-24__adc3c825-dfcb-4bb6-aa12-a4d2c5b78685__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.22.213
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['9305', '9306', '9307', '9308', '9309']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 9305:9305 -p 9306:9306 -p 9307:9307 -p 9308:9308 -p 9309:9309 quay.io/wakuorg/nwaku-pr:3234 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=9307 --rest-port=9305 --tcp-port=9306 --discv5-udp-port=9308 --rest-address=0.0.0.0 --nat=extip:172.18.22.213 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8d4fcc81e0db6dd582bab5e6dd9dfaa6cecbafc7559aaee0c94cfded3a9a084d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=9309 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QBC8wn_kpWshuoONKOg62UTxzaWjVAvyP-RJjWv29imHN3A5sXYBwQz5kR53qg7m2PVXr7dGaZLfDDv3gHqToMkCgmlkgnY0gmlwhKwSd7KKbXVsdGlhZGRyc5YACASsEneyBs8IAAoErBJ3sgbPCd0DgnJzhQADAQAAiXNlY3AyNTZrMaECRYlL44weOAlbuV6qdEb4oCeshgrTWmeu8HcqFKEnI0WDdGNwgs8Ig3VkcILPCoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.22.213 waku 67fb7b2e98a2f85e287618ec4b41577627b5532679fe9015498235fdfc7ac7e7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 67fb7b2e98a2. Setting up logs at ./log/docker/node3_2025-01-31_08-27-24__adc3c825-dfcb-4bb6-aa12-a4d2c5b78685__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3234. REST: 9305
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9305/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9305/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.22.213/tcp/9306/p2p/16Uiu2HAmCMCchrTLW86ZuaTNWgb76cZM4PLueQZqPWbpgH7A4krh","/ip4/172.18.22.213/tcp/9307/ws/p2p/16Uiu2HAmCMCchrTLW86ZuaTNWgb76cZM4PLueQZqPWbpgH7A4krh"],"enrUri":"enr:-L24QPBZdEef0NhYSxFvJ4RJzDKVC-NGducAepD4DAdCBBjDAxR5WRvfxkFR-GIc6zDjLCBYbR4KkgI0VskwId5Gb4ACgmlkgnY0gmlwhKwSFtWKbXVsdGlhZGRyc5YACASsEhbVBiRaAAoErBIW1QYkW90DgnJzhQADAQAAiXNlY3AyNTZrMaEC-3FqFhRxDYwoyTeSsHEsezLSZC_owuSg-En681uk6paDdGNwgiRag3VkcIIkXIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9305/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.119.178/tcp/53000/p2p/16Uiu2HAkz77Y66hm1E9KoWKLQLQLr3EnPeBAaSjnkHFghagwPUY4"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3234
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2025-01-31_08-27-24__adc3c825-dfcb-4bb6-aa12-a4d2c5b78685__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.138.198
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['63276', '63277', '63278', '63279', '63280']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 63276:63276 -p 63277:63277 -p 63278:63278 -p 63279:63279 -p 63280:63280 quay.io/wakuorg/nwaku-pr:3234 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=63278 --rest-port=63276 --tcp-port=63277 --discv5-udp-port=63279 --rest-address=0.0.0.0 --nat=extip:172.18.138.198 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9286064edc8d794fecd9cdfde3fe14a2fcbddf1edc6eef3dda9d9dc8b9bdc8d2 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=63280 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QBC8wn_kpWshuoONKOg62UTxzaWjVAvyP-RJjWv29imHN3A5sXYBwQz5kR53qg7m2PVXr7dGaZLfDDv3gHqToMkCgmlkgnY0gmlwhKwSd7KKbXVsdGlhZGRyc5YACASsEneyBs8IAAoErBJ3sgbPCd0DgnJzhQADAQAAiXNlY3AyNTZrMaECRYlL44weOAlbuV6qdEb4oCeshgrTWmeu8HcqFKEnI0WDdGNwgs8Ig3VkcILPCoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.138.198 waku 0a4960fb8075b74726880c83cfafbba2fe004c2212ec7428919f82afa7783b99
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 0a4960fb8075. Setting up logs at ./log/docker/node4_2025-01-31_08-27-24__adc3c825-dfcb-4bb6-aa12-a4d2c5b78685__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3234. REST: 63276
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63276/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63276/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.138.198/tcp/63277/p2p/16Uiu2HAm4SiAxZFpnj8E4UnFvsCZ9KR5TXGn8xfyMkRfzAD4LFW9","/ip4/172.18.138.198/tcp/63278/ws/p2p/16Uiu2HAm4SiAxZFpnj8E4UnFvsCZ9KR5TXGn8xfyMkRfzAD4LFW9"],"enrUri":"enr:-L24QFbHtGAfYhkHQ161a7ze7WYBLGU4aKOspjlXxP_m4w5oF7fFUUxyuRbrCFV39yTwUZXPPfDEep21OTObCXIbxGYCgmlkgnY0gmlwhKwSisaKbXVsdGlhZGRyc5YACASsEorGBvctAAoErBKKxgb3Lt0DgnJzhQADAQAAiXNlY3AyNTZrMaEChf0-AfB0oN2J6zH-t_NzPp4xoKOR99gOL9DaYCMzqvqDdGNwgvctg3VkcIL3L4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63276/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.119.178/tcp/53000/p2p/16Uiu2HAkz77Y66hm1E9KoWKLQLQLr3EnPeBAaSjnkHFghagwPUY4"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3234
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2025-01-31_08-27-24__adc3c825-dfcb-4bb6-aa12-a4d2c5b78685__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.89.45
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['54649', '54650', '54651', '54652', '54653']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 54649:54649 -p 54650:54650 -p 54651:54651 -p 54652:54652 -p 54653:54653 quay.io/wakuorg/nwaku-pr:3234 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=54651 --rest-port=54649 --tcp-port=54650 --discv5-udp-port=54652 --rest-address=0.0.0.0 --nat=extip:172.18.89.45 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ba4c15aeeae62cc8e65a1bfbfa3ce5cdecdba6f7ba31a2c556ecb5dfdb0a3621 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=54653 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QBC8wn_kpWshuoONKOg62UTxzaWjVAvyP-RJjWv29imHN3A5sXYBwQz5kR53qg7m2PVXr7dGaZLfDDv3gHqToMkCgmlkgnY0gmlwhKwSd7KKbXVsdGlhZGRyc5YACASsEneyBs8IAAoErBJ3sgbPCd0DgnJzhQADAQAAiXNlY3AyNTZrMaECRYlL44weOAlbuV6qdEb4oCeshgrTWmeu8HcqFKEnI0WDdGNwgs8Ig3VkcILPCoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.89.45 waku 72bb80fd552344416b1e19341073206c8d2afd574bc2214fa5a45115caa736bc
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 72bb80fd5523. Setting up logs at ./log/docker/node5_2025-01-31_08-27-24__adc3c825-dfcb-4bb6-aa12-a4d2c5b78685__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3234. REST: 54649
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54649/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54649/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.89.45/tcp/54650/p2p/16Uiu2HAm5h94XKvRVGW3HB3QfRY5r1GwaKVNP8CeY72wBjCzAsyC","/ip4/172.18.89.45/tcp/54651/ws/p2p/16Uiu2HAm5h94XKvRVGW3HB3QfRY5r1GwaKVNP8CeY72wBjCzAsyC"],"enrUri":"enr:-L24QNELOitdSgni6Ri6TTxl_oubeYo4V2kqyxGcjFtfaBi-c4VXN_JJIa4Pt0A39T1CwH7md26n0qbzRn-Y0Sz2o6sCgmlkgnY0gmlwhKwSWS2KbXVsdGlhZGRyc5YACASsElktBtV6AAoErBJZLQbVe90DgnJzhQADAQAAiXNlY3AyNTZrMaECmIsz3lD-8Yh2sxiNloX-TuIQfBipxMrC1Uasr7zlPxuDdGNwgtV6g3VkcILVfIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54649/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.119.178/tcp/53000/p2p/16Uiu2HAkz77Y66hm1E9KoWKLQLQLr3EnPeBAaSjnkHFghagwPUY4"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52999/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13920/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9305/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63276/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54649/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52999/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3234 can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52999/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738312051527080704,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3234 can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13920/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738312051527080704,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:quay.io/wakuorg/nwaku-pr:3234 can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9305/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738312051527080704,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:quay.io/wakuorg/nwaku-pr:3234 can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63276/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738312051527080704,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:quay.io/wakuorg/nwaku-pr:3234 can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54649/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738312051527080704,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54649/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3234 can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52999/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738312051662955008,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3234 can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13920/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738312051662955008,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:quay.io/wakuorg/nwaku-pr:3234 can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9305/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738312051662955008,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:quay.io/wakuorg/nwaku-pr:3234 can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63276/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738312051662955008,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:quay.io/wakuorg/nwaku-pr:3234 can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54649/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738312051662955008,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id e7af999abc03
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 04906c644ea5
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container e7af999abc03. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 67fb7b2e98a2
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 04906c644ea5. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 0a4960fb8075
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 67fb7b2e98a2. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 72bb80fd5523
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 0a4960fb8075. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.