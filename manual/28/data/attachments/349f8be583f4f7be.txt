[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2025-01-31_08-26-47__932251a0-b7d7-4e9d-a668-7d045924ea48
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3234
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-01-31_08-26-47__932251a0-b7d7-4e9d-a668-7d045924ea48__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.167.101
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['29915', '29916', '29917', '29918', '29919']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 29915:29915 -p 29916:29916 -p 29917:29917 -p 29918:29918 -p 29919:29919 quay.io/wakuorg/nwaku-pr:3234 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=29917 --rest-port=29915 --tcp-port=29916 --discv5-udp-port=29918 --rest-address=0.0.0.0 --nat=extip:172.18.167.101 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b076083693219ba8cdf4cd28f47f5ba5d9d7d3e3ab947bede30b69d846f1ff7d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=29919 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.167.101 waku 7d77e86c71a6b9d0cb20430e00efb8753f236d83231993af971fe873460386f4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 7d77e86c71a6. Setting up logs at ./log/docker/node1_2025-01-31_08-26-47__932251a0-b7d7-4e9d-a668-7d045924ea48__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3234. REST: 29915
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container c33b89666e46. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29915/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29915/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.167.101/tcp/29916/p2p/16Uiu2HAmBL9pAAN5dHBJv9kpKhtBtELbLrmTSu8CJufXb75541dD","/ip4/172.18.167.101/tcp/29917/ws/p2p/16Uiu2HAmBL9pAAN5dHBJv9kpKhtBtELbLrmTSu8CJufXb75541dD"],"enrUri":"enr:-L24QGs8pEiXhr7AWdYJbBO0-JxpkdNBwIOKWKzlwa6okGjKbKPpfFlnWwtziDBTGY-A1CcTaaSWNudcwJDR7xl4m80CgmlkgnY0gmlwhKwSp2WKbXVsdGlhZGRyc5YACASsEqdlBnTcAAoErBKnZQZ03d0DgnJzhQADAQAAiXNlY3AyNTZrMaEC7FD6U7YYkZfxPN6FXB9-hY5N2_iu0zPu449lBEnKjeyDdGNwgnTcg3VkcIJ03oV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3234
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-01-31_08-26-47__932251a0-b7d7-4e9d-a668-7d045924ea48__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.138.40
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['39415', '39416', '39417', '39418', '39419']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 39415:39415 -p 39416:39416 -p 39417:39417 -p 39418:39418 -p 39419:39419 quay.io/wakuorg/nwaku-pr:3234 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=39417 --rest-port=39415 --tcp-port=39416 --discv5-udp-port=39418 --rest-address=0.0.0.0 --nat=extip:172.18.138.40 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c412fa15c04ac7ec08f3a8ef6aaf78c023bbbd689d8b34f2ae8323642dd7f145 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=39419 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QGs8pEiXhr7AWdYJbBO0-JxpkdNBwIOKWKzlwa6okGjKbKPpfFlnWwtziDBTGY-A1CcTaaSWNudcwJDR7xl4m80CgmlkgnY0gmlwhKwSp2WKbXVsdGlhZGRyc5YACASsEqdlBnTcAAoErBKnZQZ03d0DgnJzhQADAQAAiXNlY3AyNTZrMaEC7FD6U7YYkZfxPN6FXB9-hY5N2_iu0zPu449lBEnKjeyDdGNwgnTcg3VkcIJ03oV3YWt1MgU --filternode=/ip4/172.18.167.101/tcp/29916/p2p/16Uiu2HAmBL9pAAN5dHBJv9kpKhtBtELbLrmTSu8CJufXb75541dD
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.138.40 waku 48f370c3595ddc7fabde6176ebd0fdb21a2a11e4a1980f0b64a08c22ca739756
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 48f370c3595d. Setting up logs at ./log/docker/node2_2025-01-31_08-26-47__932251a0-b7d7-4e9d-a668-7d045924ea48__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3234. REST: 39415
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39415/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39415/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.138.40/tcp/39416/p2p/16Uiu2HAm1mLrgNqFHGus2gDmZuBQFoh2e2o7j9qsaJUJhEdLRCjW","/ip4/172.18.138.40/tcp/39417/ws/p2p/16Uiu2HAm1mLrgNqFHGus2gDmZuBQFoh2e2o7j9qsaJUJhEdLRCjW"],"enrUri":"enr:-L24QFQa7ByxlDUmwbsFATo0DhzwiNr7GoZ9DkouMXqKPwMYUmL8PZyyHmNANs65eWU8Ue5i7QE9RscM2s72nokpaS4CgmlkgnY0gmlwhKwSiiiKbXVsdGlhZGRyc5YACASsEoooBpn4AAoErBKKKAaZ-d0DgnJzhQADAQAAiXNlY3AyNTZrMaECXjAdncHlfFS-Fo9CEtfeox_Mx9ujg7TRL3lhOFUOwN2DdGNwgpn4g3VkcIKZ-oV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39415/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.167.101/tcp/29916/p2p/16Uiu2HAmBL9pAAN5dHBJv9kpKhtBtELbLrmTSu8CJufXb75541dD"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3234
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2025-01-31_08-26-47__932251a0-b7d7-4e9d-a668-7d045924ea48__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.246.144
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['49389', '49390', '49391', '49392', '49393']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 49389:49389 -p 49390:49390 -p 49391:49391 -p 49392:49392 -p 49393:49393 quay.io/wakuorg/nwaku-pr:3234 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=49391 --rest-port=49389 --tcp-port=49390 --discv5-udp-port=49392 --rest-address=0.0.0.0 --nat=extip:172.18.246.144 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9c70bfe4d40da9b74836f6b436575c7b17d577a7be07c6c9ba60663e3bde25ac --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=49393 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QGs8pEiXhr7AWdYJbBO0-JxpkdNBwIOKWKzlwa6okGjKbKPpfFlnWwtziDBTGY-A1CcTaaSWNudcwJDR7xl4m80CgmlkgnY0gmlwhKwSp2WKbXVsdGlhZGRyc5YACASsEqdlBnTcAAoErBKnZQZ03d0DgnJzhQADAQAAiXNlY3AyNTZrMaEC7FD6U7YYkZfxPN6FXB9-hY5N2_iu0zPu449lBEnKjeyDdGNwgnTcg3VkcIJ03oV3YWt1MgU --filternode=/ip4/172.18.167.101/tcp/29916/p2p/16Uiu2HAmBL9pAAN5dHBJv9kpKhtBtELbLrmTSu8CJufXb75541dD
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.246.144 waku e773ca34247863091b233e25a90fb74ba548cb267c914adcf6e49231c258a22a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID e773ca342478. Setting up logs at ./log/docker/node3_2025-01-31_08-26-47__932251a0-b7d7-4e9d-a668-7d045924ea48__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3234. REST: 49389
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49389/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49389/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.246.144/tcp/49390/p2p/16Uiu2HAmD7Zh33KPHq3iia4Wc81oaRw94r1MZKQF9U2veFrz4F66","/ip4/172.18.246.144/tcp/49391/ws/p2p/16Uiu2HAmD7Zh33KPHq3iia4Wc81oaRw94r1MZKQF9U2veFrz4F66"],"enrUri":"enr:-L24QD62nrS5h9VabHXtOy_k0tkC39_1HqhxRTwJghIGrS9Ve1X-1vwalCgn1FudnBw_5Bi4P21COZtBCJ44cakwCVcCgmlkgnY0gmlwhKwS9pCKbXVsdGlhZGRyc5YACASsEvaQBsDuAAoErBL2kAbA790DgnJzhQADAQAAiXNlY3AyNTZrMaEDBs7MmJRmPZ7rEiEcxRoDFJSyVJlSWuJeMmmcU5GUSseDdGNwgsDug3VkcILA8IV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49389/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.167.101/tcp/29916/p2p/16Uiu2HAmBL9pAAN5dHBJv9kpKhtBtELbLrmTSu8CJufXb75541dD"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3234
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2025-01-31_08-26-47__932251a0-b7d7-4e9d-a668-7d045924ea48__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.146.173
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['45156', '45157', '45158', '45159', '45160']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 45156:45156 -p 45157:45157 -p 45158:45158 -p 45159:45159 -p 45160:45160 quay.io/wakuorg/nwaku-pr:3234 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=45158 --rest-port=45156 --tcp-port=45157 --discv5-udp-port=45159 --rest-address=0.0.0.0 --nat=extip:172.18.146.173 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f995c5092480df9af65363171fbbd3ea9a6c95c2e4fd6cbb9d6fdffeaa762406 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=45160 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QGs8pEiXhr7AWdYJbBO0-JxpkdNBwIOKWKzlwa6okGjKbKPpfFlnWwtziDBTGY-A1CcTaaSWNudcwJDR7xl4m80CgmlkgnY0gmlwhKwSp2WKbXVsdGlhZGRyc5YACASsEqdlBnTcAAoErBKnZQZ03d0DgnJzhQADAQAAiXNlY3AyNTZrMaEC7FD6U7YYkZfxPN6FXB9-hY5N2_iu0zPu449lBEnKjeyDdGNwgnTcg3VkcIJ03oV3YWt1MgU --filternode=/ip4/172.18.167.101/tcp/29916/p2p/16Uiu2HAmBL9pAAN5dHBJv9kpKhtBtELbLrmTSu8CJufXb75541dD
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.146.173 waku 61d7a868f621fbe8368673c1e345f414774366c7669e0056b4facf4693216ec2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 61d7a868f621. Setting up logs at ./log/docker/node4_2025-01-31_08-26-47__932251a0-b7d7-4e9d-a668-7d045924ea48__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3234. REST: 45156
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45156/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45156/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.146.173/tcp/45157/p2p/16Uiu2HAkvQg1ZC2LxvtTWPhYo1uEjxUwe77VPS5CEJmMDYuyT31f","/ip4/172.18.146.173/tcp/45158/ws/p2p/16Uiu2HAkvQg1ZC2LxvtTWPhYo1uEjxUwe77VPS5CEJmMDYuyT31f"],"enrUri":"enr:-L24QD9rqfMkDzZ9e_qQjg0FXSwMapV89ZRWzUgEj49OFor1ceUqHq9K-6f6fUYC22m2BTP4Qw_S9vGVaVfqBx9Szj0CgmlkgnY0gmlwhKwSkq2KbXVsdGlhZGRyc5YACASsEpKtBrBlAAoErBKSrQawZt0DgnJzhQADAQAAiXNlY3AyNTZrMaECDpoj9gwBYpncyQnzFKoEgzh1_DJUiNNkc9zZ7VrUyj6DdGNwgrBlg3VkcIKwZ4V3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45156/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.167.101/tcp/29916/p2p/16Uiu2HAmBL9pAAN5dHBJv9kpKhtBtELbLrmTSu8CJufXb75541dD"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3234
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2025-01-31_08-26-47__932251a0-b7d7-4e9d-a668-7d045924ea48__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.221.37
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['14187', '14188', '14189', '14190', '14191']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 14187:14187 -p 14188:14188 -p 14189:14189 -p 14190:14190 -p 14191:14191 quay.io/wakuorg/nwaku-pr:3234 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=14189 --rest-port=14187 --tcp-port=14188 --discv5-udp-port=14190 --rest-address=0.0.0.0 --nat=extip:172.18.221.37 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ea044ebe1d6261acbdb6e8bed479a412dacdb105bfacf8471ed98542a00ec83e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=14191 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QGs8pEiXhr7AWdYJbBO0-JxpkdNBwIOKWKzlwa6okGjKbKPpfFlnWwtziDBTGY-A1CcTaaSWNudcwJDR7xl4m80CgmlkgnY0gmlwhKwSp2WKbXVsdGlhZGRyc5YACASsEqdlBnTcAAoErBKnZQZ03d0DgnJzhQADAQAAiXNlY3AyNTZrMaEC7FD6U7YYkZfxPN6FXB9-hY5N2_iu0zPu449lBEnKjeyDdGNwgnTcg3VkcIJ03oV3YWt1MgU --filternode=/ip4/172.18.167.101/tcp/29916/p2p/16Uiu2HAmBL9pAAN5dHBJv9kpKhtBtELbLrmTSu8CJufXb75541dD
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.221.37 waku a81fcbe89330aa3eea56f74e415c8d7a44441e018a9cb88f0bf3ce2978760a60
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID a81fcbe89330. Setting up logs at ./log/docker/node5_2025-01-31_08-26-47__932251a0-b7d7-4e9d-a668-7d045924ea48__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3234. REST: 14187
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14187/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14187/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.221.37/tcp/14188/p2p/16Uiu2HAm9C5LhApsB1DcvzQGbt5QjqTjBp5CjKY6wmEafv1sybmz","/ip4/172.18.221.37/tcp/14189/ws/p2p/16Uiu2HAm9C5LhApsB1DcvzQGbt5QjqTjBp5CjKY6wmEafv1sybmz"],"enrUri":"enr:-L24QIpi3yyI6t33A6TKrV_A34i0d7wBnYoLkeauzSCv4NkqN-wZ1ChnXEUR4dXtt5R7rqSDGSYV1wnqx0hzDDumk2ICgmlkgnY0gmlwhKwS3SWKbXVsdGlhZGRyc5YACASsEt0lBjdsAAoErBLdJQY3bd0DgnJzhQADAQAAiXNlY3AyNTZrMaECzIfmNkR2e5MBJRbHdJTyHx3n1OJ3UcyuqeBS-Vc_TBmDdGNwgjdsg3VkcII3boV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14187/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.167.101/tcp/29916/p2p/16Uiu2HAmBL9pAAN5dHBJv9kpKhtBtELbLrmTSu8CJufXb75541dD"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29915/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39415/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "18416911-2882-4f72-a217-ea27ba1844ea", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"18416911-2882-4f72-a217-ea27ba1844ea","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49389/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "7217d553-d2f5-43ed-9a44-dd9a8116cddf", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"7217d553-d2f5-43ed-9a44-dd9a8116cddf","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45156/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "3d09d49b-278d-40af-b9ad-dc100e609cc2", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"3d09d49b-278d-40af-b9ad-dc100e609cc2","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14187/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "2b3f9b53-abd1-4000-86c0-83915decb89e", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"2b3f9b53-abd1-4000-86c0-83915decb89e","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29915/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3234 can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39415/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1738312014200862720,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29915/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3234 can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49389/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:49389/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 7d77e86c71a6
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 48f370c3595d
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 7d77e86c71a6. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id e773ca342478
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 48f370c3595d. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 61d7a868f621
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container e773ca342478. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id a81fcbe89330
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 61d7a868f621. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.