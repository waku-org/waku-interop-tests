[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-09-13_07-48-00__a05dd0f1-9fd7-4774-8466-cc8e34fc252a
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3036
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-09-13_07-48-00__a05dd0f1-9fd7-4774-8466-cc8e34fc252a__quay.io_wakuorg_nwaku-pr:3036.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.62.85
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['9111', '9112', '9113', '9114', '9115']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 9111:9111 -p 9112:9112 -p 9113:9113 -p 9114:9114 -p 9115:9115 quay.io/wakuorg/nwaku-pr:3036 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=9113 --rest-port=9111 --tcp-port=9112 --discv5-udp-port=9114 --rest-address=0.0.0.0 --nat=extip:172.18.62.85 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2131afa1cf8667d88dcc497aed06dce8ce5dabae229e7d57a8f9cca9f4dd8cbe --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=9115 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.62.85 waku d5a51d0fee3900d352852db7a5e8cd722e1bd29e181669df92be568dc523ae7f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID d5a51d0fee39. Setting up logs at ./log/docker/node1_2024-09-13_07-48-00__a05dd0f1-9fd7-4774-8466-cc8e34fc252a__quay.io_wakuorg_nwaku-pr:3036.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image quay.io/wakuorg/nwaku-pr:3036. REST: 9111
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9111/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9111/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.62.85/tcp/9112/p2p/16Uiu2HAm4vdZGsziaTARJpFX2bU78MjkCQ8SQmqrTXvopGRdQuq1","/ip4/172.18.62.85/tcp/9113/ws/p2p/16Uiu2HAm4vdZGsziaTARJpFX2bU78MjkCQ8SQmqrTXvopGRdQuq1"],"enrUri":"enr:-LO4QDJWl5hWUkMaCKvjzA2hPfbRzkwd7GgcSI_Z5Gaxi1HwGafJTdjYtklZf65OQSje_LeGV9wlfbkj_9bSRqapBpoBgmlkgnY0gmlwhKwSPlWKbXVsdGlhZGRyc4wACgSsEj5VBiOZ3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKNJElRee1Up5feKjLl1jsFrcG8ODLUEtHPz2bLy0kgSIN0Y3CCI5iDdWRwgiOahXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3036
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-09-13_07-48-00__a05dd0f1-9fd7-4774-8466-cc8e34fc252a__quay.io_wakuorg_nwaku-pr:3036.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.135.243
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['2656', '2657', '2658', '2659', '2660']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 2656:2656 -p 2657:2657 -p 2658:2658 -p 2659:2659 -p 2660:2660 quay.io/wakuorg/nwaku-pr:3036 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=2658 --rest-port=2656 --tcp-port=2657 --discv5-udp-port=2659 --rest-address=0.0.0.0 --nat=extip:172.18.135.243 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2d321d0b4c62b93a8bb35d0b0cec8fcb9fef02da4b3cfddc4f0b3a969e3c779b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=2660 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QDJWl5hWUkMaCKvjzA2hPfbRzkwd7GgcSI_Z5Gaxi1HwGafJTdjYtklZf65OQSje_LeGV9wlfbkj_9bSRqapBpoBgmlkgnY0gmlwhKwSPlWKbXVsdGlhZGRyc4wACgSsEj5VBiOZ3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKNJElRee1Up5feKjLl1jsFrcG8ODLUEtHPz2bLy0kgSIN0Y3CCI5iDdWRwgiOahXdha3UyBQ --filternode=/ip4/172.18.62.85/tcp/9112/p2p/16Uiu2HAm4vdZGsziaTARJpFX2bU78MjkCQ8SQmqrTXvopGRdQuq1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.135.243 waku 336fe45817ee16e90ac5eb81c09bcca0e3ff8c7701e18323f6c230b24aec1e5a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 336fe45817ee. Setting up logs at ./log/docker/node2_2024-09-13_07-48-00__a05dd0f1-9fd7-4774-8466-cc8e34fc252a__quay.io_wakuorg_nwaku-pr:3036.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image quay.io/wakuorg/nwaku-pr:3036. REST: 2656
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2656/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2656/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.135.243/tcp/2657/p2p/16Uiu2HAmAomEALLmBjRoriiUHfZPLVgPyfmm1Juib9EEE7FXG1Ce","/ip4/172.18.135.243/tcp/2658/ws/p2p/16Uiu2HAmAomEALLmBjRoriiUHfZPLVgPyfmm1Juib9EEE7FXG1Ce"],"enrUri":"enr:-LO4QMqovwaKA99ZvBBA1ah8xzkQRXIx9_TQYwi-_AJn6HshLpjG3taU3P2Ab4rRjqFV7hQX1OG4LFGCv3cDw4CxQiYBgmlkgnY0gmlwhKwSh_OKbXVsdGlhZGRyc4wACgSsEofzBgpi3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLkiAPsAF-bSOivLm4WYatDJE-IDQaJaykq3FxGVKCOm4N0Y3CCCmGDdWRwggpjhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2656/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.62.85/tcp/9112/p2p/16Uiu2HAm4vdZGsziaTARJpFX2bU78MjkCQ8SQmqrTXvopGRdQuq1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-09-13_07-48-00__a05dd0f1-9fd7-4774-8466-cc8e34fc252a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.42.76
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['38855', '38856', '38857', '38858', '38859']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 38855:38855 -p 38856:38856 -p 38857:38857 -p 38858:38858 -p 38859:38859 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=38857 --rest-port=38855 --tcp-port=38856 --discv5-udp-port=38858 --rest-address=0.0.0.0 --nat=extip:172.18.42.76 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=caaad8cc500795bcdf10e53cec27d62aa6be5fecbb9501de1c35ecb9c8f28d44 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=38859 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QDJWl5hWUkMaCKvjzA2hPfbRzkwd7GgcSI_Z5Gaxi1HwGafJTdjYtklZf65OQSje_LeGV9wlfbkj_9bSRqapBpoBgmlkgnY0gmlwhKwSPlWKbXVsdGlhZGRyc4wACgSsEj5VBiOZ3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKNJElRee1Up5feKjLl1jsFrcG8ODLUEtHPz2bLy0kgSIN0Y3CCI5iDdWRwgiOahXdha3UyBQ --filternode=/ip4/172.18.62.85/tcp/9112/p2p/16Uiu2HAm4vdZGsziaTARJpFX2bU78MjkCQ8SQmqrTXvopGRdQuq1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.42.76 waku 0b1ddb1713d602be4214a4b294f308b12d25323d3926d5f38c658bb132f6238a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 0b1ddb1713d6. Setting up logs at ./log/docker/node3_2024-09-13_07-48-00__a05dd0f1-9fd7-4774-8466-cc8e34fc252a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 38855
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38855/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38855/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.42.76/tcp/38856/p2p/16Uiu2HAm9e1xPjWro8oA3C4kV2D1k3ygye7Wn7sCyPmuGigqLjrf","/ip4/172.18.42.76/tcp/38857/ws/p2p/16Uiu2HAm9e1xPjWro8oA3C4kV2D1k3ygye7Wn7sCyPmuGigqLjrf"],"enrUri":"enr:-LO4QO5GjdM9ntSshl7rnZHSr5J4rcnoFiz5HY7hxgHYSDZ1I8K1nQfeGZEQ5_L-ZD5iWvfPKhiH6H642Z7bjW2RB4ABgmlkgnY0gmlwhKwSKkyKbXVsdGlhZGRyc4wACgSsEipMBpfJ3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLTLSxmuPQ2e7M3sqQfveEH4uFJ2deoWUpOUGcoTKr0QIN0Y3CCl8iDdWRwgpfKhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38855/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.62.85/tcp/9112/p2p/16Uiu2HAm4vdZGsziaTARJpFX2bU78MjkCQ8SQmqrTXvopGRdQuq1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-09-13_07-48-00__a05dd0f1-9fd7-4774-8466-cc8e34fc252a__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.74.106
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['16812', '16813', '16814', '16815', '16816']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 16812:16812 -p 16813:16813 -p 16814:16814 -p 16815:16815 -p 16816:16816 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=16814 --rest-port=16812 --tcp-port=16813 --discv5-udp-port=16815 --rest-address=0.0.0.0 --nat=extip:172.18.74.106 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5d52dafe4bbdfa27a622b52a731a8b95f0a1a0e1edec52bf35ad288fd7c1b6fd --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=false --discv5-bootstrap-node=enr:-LO4QDJWl5hWUkMaCKvjzA2hPfbRzkwd7GgcSI_Z5Gaxi1HwGafJTdjYtklZf65OQSje_LeGV9wlfbkj_9bSRqapBpoBgmlkgnY0gmlwhKwSPlWKbXVsdGlhZGRyc4wACgSsEj5VBiOZ3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKNJElRee1Up5feKjLl1jsFrcG8ODLUEtHPz2bLy0kgSIN0Y3CCI5iDdWRwgiOahXdha3UyBQ --filternode=/ip4/172.18.62.85/tcp/9112/p2p/16Uiu2HAm4vdZGsziaTARJpFX2bU78MjkCQ8SQmqrTXvopGRdQuq1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.74.106 waku a805a7f8c921e1fd3ce901e4d2e8e0aaaf14bd96465515980f8059e48e7f6c61
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID a805a7f8c921. Setting up logs at ./log/docker/node4_2024-09-13_07-48-00__a05dd0f1-9fd7-4774-8466-cc8e34fc252a__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 16812
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16812/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QBBrWMqpd99EPQSjDFqEEmKXM3p3F9Ms4z9MqY_3fOkaZ1k2orne01-MiFcnDF43RaTw6_VQeBR78INeu4Xngu2GAZHqWp0OgmlkgnY0gmlwhKwRAAyJc2VjcDI1NmsxoQOKli0_2KWFMtgGF2anXUUVF37QBb4KmgKbv3LZadYnV4N0Y3CCQa2DdWRwgkGvhXdha3UygA","listenAddresses":["/ip4/127.0.0.1/tcp/16813/p2p/16Uiu2HAmMyyRtnPdeLHbCzKXHPoCvMTrg89USiUfhB7JUbrz64uk","/ip4/127.0.0.1/tcp/16814/ws/p2p/16Uiu2HAmMyyRtnPdeLHbCzKXHPoCvMTrg89USiUfhB7JUbrz64uk","/ip4/172.17.0.12/tcp/16813/p2p/16Uiu2HAmMyyRtnPdeLHbCzKXHPoCvMTrg89USiUfhB7JUbrz64uk","/ip4/172.17.0.12/tcp/16814/ws/p2p/16Uiu2HAmMyyRtnPdeLHbCzKXHPoCvMTrg89USiUfhB7JUbrz64uk"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16812/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.62.85/tcp/9112/p2p/16Uiu2HAm4vdZGsziaTARJpFX2bU78MjkCQ8SQmqrTXvopGRdQuq1", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-09-13_07-48-00__a05dd0f1-9fd7-4774-8466-cc8e34fc252a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.136.95
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['47462', '47463', '47464', '47465', '47466']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 47462:47462 -p 47463:47463 -p 47464:47464 -p 47465:47465 -p 47466:47466 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=47464 --rest-port=47462 --tcp-port=47463 --discv5-udp-port=47465 --rest-address=0.0.0.0 --nat=extip:172.18.136.95 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=686faa7d0d4232caae7eefbe5bcfa481461b0cca0c85852dae2c2a64aaa76718 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=47466 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QDJWl5hWUkMaCKvjzA2hPfbRzkwd7GgcSI_Z5Gaxi1HwGafJTdjYtklZf65OQSje_LeGV9wlfbkj_9bSRqapBpoBgmlkgnY0gmlwhKwSPlWKbXVsdGlhZGRyc4wACgSsEj5VBiOZ3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKNJElRee1Up5feKjLl1jsFrcG8ODLUEtHPz2bLy0kgSIN0Y3CCI5iDdWRwgiOahXdha3UyBQ --filternode=/ip4/172.18.62.85/tcp/9112/p2p/16Uiu2HAm4vdZGsziaTARJpFX2bU78MjkCQ8SQmqrTXvopGRdQuq1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.136.95 waku 9e7fd39a7417e6d7b28b748ef7a645bddbb2c47148e925d713ad2f29ac3d7942
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 9e7fd39a7417. Setting up logs at ./log/docker/node5_2024-09-13_07-48-00__a05dd0f1-9fd7-4774-8466-cc8e34fc252a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 47462
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47462/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47462/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.136.95/tcp/47463/p2p/16Uiu2HAmVECvTKtVaFHyzsgGV6HxT82HtFappBw781qHUBGt7z2n","/ip4/172.18.136.95/tcp/47464/ws/p2p/16Uiu2HAmVECvTKtVaFHyzsgGV6HxT82HtFappBw781qHUBGt7z2n"],"enrUri":"enr:-LO4QDlPKaOe_ApliRfOtv8IEPqc9_yEeigFz6Z3qppy98JDCrqYrp7z4b5ZsO97ibvPO2EhzmmSJE_UTTTDrwpcPnYBgmlkgnY0gmlwhKwSiF-KbXVsdGlhZGRyc4wACgSsEohfBrlo3QOCcnOFAAMBAACJc2VjcDI1NmsxoQP2PV9cwYOnJLEya0C_TbvkbDya8bbJdtGxlBd6spkK64N0Y3CCuWeDdWRwgrlphXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47462/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.62.85/tcp/9112/p2p/16Uiu2HAm4vdZGsziaTARJpFX2bU78MjkCQ8SQmqrTXvopGRdQuq1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9111/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2656/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "2380e54d-d8fb-498b-a9b5-34a5f66ddfb1", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"2380e54d-d8fb-498b-a9b5-34a5f66ddfb1","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38855/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "551093cc-ff18-4fe8-8ca4-947316e2401c", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"551093cc-ff18-4fe8-8ca4-947316e2401c","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16812/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "72c5378b-8333-4876-ae31-b3908d46b9d4", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"72c5378b-8333-4876-ae31-b3908d46b9d4","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47462/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "7e27f10e-355c-4c3e-b597-eaca380b8cb8", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"7e27f10e-355c-4c3e-b597-eaca380b8cb8","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9111/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3036 can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2656/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1726213695373295872,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9111/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38855/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:38855/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id d5a51d0fee39
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 336fe45817ee
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 0b1ddb1713d6
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id a805a7f8c921
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 9e7fd39a7417
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.