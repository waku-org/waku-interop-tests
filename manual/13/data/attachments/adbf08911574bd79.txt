[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2024-09-13_07-56-45__b48ddb83-b436-4bf8-a80e-7b8bc4c53217
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3036
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-09-13_07-56-45__b48ddb83-b436-4bf8-a80e-7b8bc4c53217__quay.io_wakuorg_nwaku-pr:3036.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.53.42
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['2316', '2317', '2318', '2319', '2320']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 2316:2316 -p 2317:2317 -p 2318:2318 -p 2319:2319 -p 2320:2320 quay.io/wakuorg/nwaku-pr:3036 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=2318 --rest-port=2316 --tcp-port=2317 --discv5-udp-port=2319 --rest-address=0.0.0.0 --nat=extip:172.18.53.42 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0df7f8131d01dbc7ebfa5d718aadfca23b0bcacfb4e03c0f9d2fd2e81f65173d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=2320 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.53.42 waku 2c6b2e30e5988b782b545bfe04be00a63662b2a218b56356fb32cc829647b27e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 2c6b2e30e598. Setting up logs at ./log/docker/node1_2024-09-13_07-56-45__b48ddb83-b436-4bf8-a80e-7b8bc4c53217__quay.io_wakuorg_nwaku-pr:3036.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image quay.io/wakuorg/nwaku-pr:3036. REST: 2316
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2316/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2316/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.53.42/tcp/2317/p2p/16Uiu2HAmTTVa3dHDML6ZJkpUNKJZ8FBjFQMQyjpPobB55pw1q4mf","/ip4/172.18.53.42/tcp/2318/ws/p2p/16Uiu2HAmTTVa3dHDML6ZJkpUNKJZ8FBjFQMQyjpPobB55pw1q4mf"],"enrUri":"enr:-LO4QFfUE4IfsQ8_CY19Njza7UAGdFq82DGxFsk_M7pKG_LGANusCAYihD19AVdUbAyfEpoEb9BEqeoEKjZBbYpplwMBgmlkgnY0gmlwhKwSNSqKbXVsdGlhZGRyc4wACgSsEjUqBgkO3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPb7V-OvWMHAhhjwJp71Zt3TbyuyN_kO_b_MR4ljKWYioN0Y3CCCQ2DdWRwggkPhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3036
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-09-13_07-56-45__b48ddb83-b436-4bf8-a80e-7b8bc4c53217__quay.io_wakuorg_nwaku-pr:3036.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.54.246
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['7408', '7409', '7410', '7411', '7412']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 7408:7408 -p 7409:7409 -p 7410:7410 -p 7411:7411 -p 7412:7412 quay.io/wakuorg/nwaku-pr:3036 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=7410 --rest-port=7408 --tcp-port=7409 --discv5-udp-port=7411 --rest-address=0.0.0.0 --nat=extip:172.18.54.246 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=abc24e4e55ac0b67a4ff4e99c9613972db6ace9febcbb4cdbea9699da83ff6a8 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=7412 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QFfUE4IfsQ8_CY19Njza7UAGdFq82DGxFsk_M7pKG_LGANusCAYihD19AVdUbAyfEpoEb9BEqeoEKjZBbYpplwMBgmlkgnY0gmlwhKwSNSqKbXVsdGlhZGRyc4wACgSsEjUqBgkO3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPb7V-OvWMHAhhjwJp71Zt3TbyuyN_kO_b_MR4ljKWYioN0Y3CCCQ2DdWRwggkPhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.54.246 waku c91df66e73f7de3ad113ff8b249e20acb642f4bda21bbe6db12789b338e058bf
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID c91df66e73f7. Setting up logs at ./log/docker/node2_2024-09-13_07-56-45__b48ddb83-b436-4bf8-a80e-7b8bc4c53217__quay.io_wakuorg_nwaku-pr:3036.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image quay.io/wakuorg/nwaku-pr:3036. REST: 7408
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7408/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7408/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.54.246/tcp/7409/p2p/16Uiu2HAmMcXJYTDDbMV4QoYuV5nBAVs23YK8q7mCwFPU6UCEMjr6","/ip4/172.18.54.246/tcp/7410/ws/p2p/16Uiu2HAmMcXJYTDDbMV4QoYuV5nBAVs23YK8q7mCwFPU6UCEMjr6"],"enrUri":"enr:-LO4QARNWruMdeFn33EDidQ8nRAcH0oIsbQVm9CIauQ1KPFiUU2_GvOdimkSsZ9-W9dbjJ7oua0KH0FLNcoquQHfzb8BgmlkgnY0gmlwhKwSNvaKbXVsdGlhZGRyc4wACgSsEjb2Bhzy3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOFF3AsIginnlFuuW6rN3bTcGm1oQ_z8wa0S_b0Ry_CF4N0Y3CCHPGDdWRwghzzhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7408/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.53.42/tcp/2317/p2p/16Uiu2HAmTTVa3dHDML6ZJkpUNKJZ8FBjFQMQyjpPobB55pw1q4mf"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-09-13_07-56-45__b48ddb83-b436-4bf8-a80e-7b8bc4c53217__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.65.86
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['49006', '49007', '49008', '49009', '49010']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 49006:49006 -p 49007:49007 -p 49008:49008 -p 49009:49009 -p 49010:49010 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=49008 --rest-port=49006 --tcp-port=49007 --discv5-udp-port=49009 --rest-address=0.0.0.0 --nat=extip:172.18.65.86 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e3dbda5de3ed847643adbe52f420e9f1cdcc1cabf0f9e2f9ac45a2f9cffa38c0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=49010 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QFfUE4IfsQ8_CY19Njza7UAGdFq82DGxFsk_M7pKG_LGANusCAYihD19AVdUbAyfEpoEb9BEqeoEKjZBbYpplwMBgmlkgnY0gmlwhKwSNSqKbXVsdGlhZGRyc4wACgSsEjUqBgkO3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPb7V-OvWMHAhhjwJp71Zt3TbyuyN_kO_b_MR4ljKWYioN0Y3CCCQ2DdWRwggkPhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.65.86 waku cdbeab5d88eca03269d34f5500f15f12476635275ed5d041dc88f4e825e467ce
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID cdbeab5d88ec. Setting up logs at ./log/docker/node3_2024-09-13_07-56-45__b48ddb83-b436-4bf8-a80e-7b8bc4c53217__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 49006
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49006/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49006/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.65.86/tcp/49007/p2p/16Uiu2HAmBwsVfcpMsPNtmCJLU16H3FmARdZSKpCnoKznNDSoP1q7","/ip4/172.18.65.86/tcp/49008/ws/p2p/16Uiu2HAmBwsVfcpMsPNtmCJLU16H3FmARdZSKpCnoKznNDSoP1q7"],"enrUri":"enr:-LO4QMV1DUQOqcelLJxcTZEyPpRVVbUjyoQh4-GWD65-iFdgX8EXFvPq4rUqv1YMIzUb3VXJhLhDv9kMcebBbY_5ZuABgmlkgnY0gmlwhKwSQVaKbXVsdGlhZGRyc4wACgSsEkFWBr9w3QOCcnOFAAMBAACJc2VjcDI1NmsxoQL1d29ptMjylc7xxR9PpMI5WZhVmfDGns-2SbESNvRGVoN0Y3CCv2-DdWRwgr9xhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49006/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.53.42/tcp/2317/p2p/16Uiu2HAmTTVa3dHDML6ZJkpUNKJZ8FBjFQMQyjpPobB55pw1q4mf"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-09-13_07-56-45__b48ddb83-b436-4bf8-a80e-7b8bc4c53217__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.104.117
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['65170', '65171', '65172', '65173', '65174']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 65170:65170 -p 65171:65171 -p 65172:65172 -p 65173:65173 -p 65174:65174 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=65172 --rest-port=65170 --tcp-port=65171 --discv5-udp-port=65173 --rest-address=0.0.0.0 --nat=extip:172.18.104.117 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b76b3fcd58bff6ceecf7bef7fc911b4bff1e031fa6a7dc1e2eccdbfa0c40a6cc --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-LO4QFfUE4IfsQ8_CY19Njza7UAGdFq82DGxFsk_M7pKG_LGANusCAYihD19AVdUbAyfEpoEb9BEqeoEKjZBbYpplwMBgmlkgnY0gmlwhKwSNSqKbXVsdGlhZGRyc4wACgSsEjUqBgkO3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPb7V-OvWMHAhhjwJp71Zt3TbyuyN_kO_b_MR4ljKWYioN0Y3CCCQ2DdWRwggkPhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.104.117 waku 4fb869304678d1b3ce5c75b18e92a9903cd22e19d82dd7eec478f19376e023df
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 4fb869304678. Setting up logs at ./log/docker/node4_2024-09-13_07-56-45__b48ddb83-b436-4bf8-a80e-7b8bc4c53217__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/go-waku:latest. REST: 65170
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:65170/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-Ji4QGsqTVVkhHqBwPntp6N55MOG-JgCXRfgkPwCIvixf9LCHtciefsAQgwWleJgUTtfCXf31kOn_gPgx8YMtwqYEnKGAZHqYowHgmlkgnY0gmlwhKwRAAyJc2VjcDI1NmsxoQN4qhfJTXgaHrK9XSEXhQeZ35RItdwILs7266Q7YBWzo4N0Y3CC_pODdWRwgv6VhXdha3UyAQ","listenAddresses":["/ip4/127.0.0.1/tcp/65171/p2p/16Uiu2HAmLn1hsCtSkHzzLAcHEuAAJUXGDQTr6xYb5n6rLmBbt42e","/ip4/127.0.0.1/tcp/65172/ws/p2p/16Uiu2HAmLn1hsCtSkHzzLAcHEuAAJUXGDQTr6xYb5n6rLmBbt42e","/ip4/172.17.0.12/tcp/65171/p2p/16Uiu2HAmLn1hsCtSkHzzLAcHEuAAJUXGDQTr6xYb5n6rLmBbt42e","/ip4/172.17.0.12/tcp/65172/ws/p2p/16Uiu2HAmLn1hsCtSkHzzLAcHEuAAJUXGDQTr6xYb5n6rLmBbt42e"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:65170/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.53.42/tcp/2317/p2p/16Uiu2HAmTTVa3dHDML6ZJkpUNKJZ8FBjFQMQyjpPobB55pw1q4mf", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-09-13_07-56-45__b48ddb83-b436-4bf8-a80e-7b8bc4c53217__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.127.178
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['6007', '6008', '6009', '6010', '6011']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 6007:6007 -p 6008:6008 -p 6009:6009 -p 6010:6010 -p 6011:6011 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=6009 --rest-port=6007 --tcp-port=6008 --discv5-udp-port=6010 --rest-address=0.0.0.0 --nat=extip:172.18.127.178 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dedd10c175df0c04f8aedacbffaa714fb9668ff6eaec3bc1c228a04bae2ac7dc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=6011 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QFfUE4IfsQ8_CY19Njza7UAGdFq82DGxFsk_M7pKG_LGANusCAYihD19AVdUbAyfEpoEb9BEqeoEKjZBbYpplwMBgmlkgnY0gmlwhKwSNSqKbXVsdGlhZGRyc4wACgSsEjUqBgkO3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPb7V-OvWMHAhhjwJp71Zt3TbyuyN_kO_b_MR4ljKWYioN0Y3CCCQ2DdWRwggkPhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.127.178 waku 54faeb7e715ea26735daabd104f988e97f6f574ffd86c524f58b5db724503cdc
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 54faeb7e715e. Setting up logs at ./log/docker/node5_2024-09-13_07-56-45__b48ddb83-b436-4bf8-a80e-7b8bc4c53217__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 6007
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6007/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6007/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.127.178/tcp/6008/p2p/16Uiu2HAm2GWRZPfsJej99BQh65R2Am3KDmwDMcPxy51d7vYuYk8v","/ip4/172.18.127.178/tcp/6009/ws/p2p/16Uiu2HAm2GWRZPfsJej99BQh65R2Am3KDmwDMcPxy51d7vYuYk8v"],"enrUri":"enr:-LO4QIL-vCGfS8WNn4IQBL6CAjWWXZ38iQ8BPjTNx9OgVT7LdseVdWRyfPFPfhcxbDtsW5tsjTGbN2DqC16yKsZduV4BgmlkgnY0gmlwhKwSf7KKbXVsdGlhZGRyc4wACgSsEn-yBhd53QOCcnOFAAMBAACJc2VjcDI1NmsxoQJlqMbGkgUxTpQXDhk0gm-o05mxg9a3HW2vFWUSzBn1j4N0Y3CCF3iDdWRwghd6hXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6007/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.53.42/tcp/2317/p2p/16Uiu2HAmTTVa3dHDML6ZJkpUNKJZ8FBjFQMQyjpPobB55pw1q4mf"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2316/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7408/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49006/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:65170/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6007/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2316/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3036 can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2316/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1726214215705232128,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3036 can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7408/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1726214215705232128,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49006/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1726214215705232128,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:65170/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1726214215705232128,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6007/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1726214215705232128,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6007/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3036 can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2316/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1726214215840284928,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3036 can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7408/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1726214215840284928,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49006/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1726214215840284928,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/go-waku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:65170/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1726214215840284928,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6007/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1726214215840284928,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 2c6b2e30e598
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id c91df66e73f7
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id cdbeab5d88ec
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 4fb869304678
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 54faeb7e715e
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.