2025-02-06 15:38:45.930 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-06 15:38:45.931 DEBUG [tests.conftest] Running test: test_relay_unsubscribe_from_some_pubsub_topics with id: 2025-02-06_15-38-45__05b9196e-9e8d-48fe-be51-1bb5894ece05
2025-02-06 15:38:45.931 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-06 15:38:45.931 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-06 15:38:45.932 DEBUG [src.steps.relay] Running fixture setup: setup_main_relay_nodes
2025-02-06 15:38:45.938 DEBUG [src.node.docker_mananger] Docker client initialized with image quay.io/wakuorg/nwaku-pr:3281
2025-02-06 15:38:45.938 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-06_15-38-45__05b9196e-9e8d-48fe-be51-1bb5894ece05__quay.io_wakuorg_nwaku-pr:3281.log
2025-02-06 15:38:45.938 DEBUG [src.node.waku_node] Starting Node...
2025-02-06 15:38:45.938 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-06 15:38:45.940 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-06 15:38:45.940 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.81.148
2025-02-06 15:38:45.940 DEBUG [src.node.docker_mananger] Generated ports ['22996', '22997', '22998', '22999', '23000']
2025-02-06 15:38:45.940 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-06 15:38:45.940 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-06 15:38:45.940 DEBUG [src.node.waku_node] Using volumes []
2025-02-06 15:38:45.941 DEBUG [src.node.docker_mananger] docker run -i -t -p 22996:22996 -p 22997:22997 -p 22998:22998 -p 22999:22999 -p 23000:23000 quay.io/wakuorg/nwaku-pr:3281 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=22998 --rest-port=22996 --tcp-port=22997 --discv5-udp-port=22999 --rest-address=0.0.0.0 --nat=extip:172.18.81.148 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5dc7cca6ba6a70ca9b0ddb95cedbd5e0f5e301c0d7b5be84902cc078b6d5d09e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=23000 --metrics-logging=true --relay=true
2025-02-06 15:38:46.175 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.81.148 waku e2ae4298c7a245880edcffe5d8008b65db0de5bfe342f532da15fbb44a9c3307
2025-02-06 15:38:46.224 ERROR [src.node.docker_mananger] Max retries reached for container 2555cdba8386. Exiting log stream.
2025-02-06 15:38:46.228 DEBUG [src.node.docker_mananger] Container started with ID e2ae4298c7a2. Setting up logs at ./log/docker/node1_2025-02-06_15-38-45__05b9196e-9e8d-48fe-be51-1bb5894ece05__quay.io_wakuorg_nwaku-pr:3281.log
2025-02-06 15:38:46.229 DEBUG [src.node.waku_node] Started container from image quay.io/wakuorg/nwaku-pr:3281. REST: 22996
2025-02-06 15:38:46.229 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-06 15:38:46.735 ERROR [src.node.docker_mananger] Max retries reached for container 7b8146950f63. Exiting log stream.
2025-02-06 15:38:47.230 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22996/health" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:38:47.233 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-06 15:38:47.233 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-06 15:38:47.234 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22996/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:38:47.236 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.81.148/tcp/22997/p2p/16Uiu2HAmJDsdA2HTGNu4WAZDuM3JKQbwNZ4AdfsZHv7ajb2rgNoD","/ip4/172.18.81.148/tcp/22998/ws/p2p/16Uiu2HAmJDsdA2HTGNu4WAZDuM3JKQbwNZ4AdfsZHv7ajb2rgNoD"],"enrUri":"enr:-L24QFT1mQiaBYp_VfBt3HAcEXm9qj21lEKvDHM9bAznJbZWdpAdZbZXfKw79hHyK3zKXN10nFn0yN7Nk1ulQzgYBy0CgmlkgnY0gmlwhKwSUZSKbXVsdGlhZGRyc5YACASsElGUBlnVAAoErBJRlAZZ1t0DgnJzhQADAQAAiXNlY3AyNTZrMaEDUrb-55u9pNstgA1jn_-qzwLHMr4is30basyV-nMZbrSDdGNwglnVg3VkcIJZ14V3YWt1MgE"}'
2025-02-06 15:38:47.236 INFO [src.node.waku_node] REST service is ready !!
2025-02-06 15:38:47.242 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-06 15:38:47.242 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-06_15-38-45__05b9196e-9e8d-48fe-be51-1bb5894ece05__wakuorg_go-waku:latest.log
2025-02-06 15:38:47.243 DEBUG [src.node.waku_node] Starting Node...
2025-02-06 15:38:47.243 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-06 15:38:47.244 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-06 15:38:47.244 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.3.133
2025-02-06 15:38:47.244 DEBUG [src.node.docker_mananger] Generated ports ['42386', '42387', '42388', '42389', '42390']
2025-02-06 15:38:47.245 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-06 15:38:47.245 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-06 15:38:47.245 DEBUG [src.node.waku_node] Using volumes []
2025-02-06 15:38:47.245 DEBUG [src.node.docker_mananger] docker run -i -t -p 42386:42386 -p 42387:42387 -p 42388:42388 -p 42389:42389 -p 42390:42390 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=42388 --rest-port=42386 --tcp-port=42387 --discv5-udp-port=42389 --rest-address=0.0.0.0 --nat=extip:172.18.3.133 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2cafe669a40be66ce48ed9c7b9647505ac1d9334b39b0e65e3022995c6d51f6b --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-L24QFT1mQiaBYp_VfBt3HAcEXm9qj21lEKvDHM9bAznJbZWdpAdZbZXfKw79hHyK3zKXN10nFn0yN7Nk1ulQzgYBy0CgmlkgnY0gmlwhKwSUZSKbXVsdGlhZGRyc5YACASsElGUBlnVAAoErBJRlAZZ1t0DgnJzhQADAQAAiXNlY3AyNTZrMaEDUrb-55u9pNstgA1jn_-qzwLHMr4is30basyV-nMZbrSDdGNwglnVg3VkcIJZ14V3YWt1MgE
2025-02-06 15:38:47.481 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.3.133 waku 87ba3cb2b99ba93547ca6bb4183f391dbbbafe8af9104534eaee24e15999a492
2025-02-06 15:38:47.537 DEBUG [src.node.docker_mananger] Container started with ID 87ba3cb2b99b. Setting up logs at ./log/docker/node2_2025-02-06_15-38-45__05b9196e-9e8d-48fe-be51-1bb5894ece05__wakuorg_go-waku:latest.log
2025-02-06 15:38:47.539 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 42386
2025-02-06 15:38:47.539 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-06 15:38:48.540 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42386/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:38:48.543 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QCiJYsVdFkh9r6aLrKfHBpPzF9Desk9I8D09dXDMYwXyDIWrA5VnTe6z8D3mmbLIiswGCZrZtORMU-A9lR87EcGGAZTb6elogmlkgnY0gmlwhKwRAAOCcnODAAMAiXNlY3AyNTZrMaECl6TTwGL7ONLo7HVt3gAol2WPHbGM5zvOy6ix0fknykWDdGNwgqWTg3VkcIKllYV3YWt1MgE","listenAddresses":["/ip4/127.0.0.1/tcp/42387/p2p/16Uiu2HAm5ddKJQDNSH5CeRaPpNHmJ77yFtr1TWP5LwDt9jrvFGj6","/ip4/127.0.0.1/tcp/42388/ws/p2p/16Uiu2HAm5ddKJQDNSH5CeRaPpNHmJ77yFtr1TWP5LwDt9jrvFGj6","/ip4/172.17.0.3/tcp/42387/p2p/16Uiu2HAm5ddKJQDNSH5CeRaPpNHmJ77yFtr1TWP5LwDt9jrvFGj6","/ip4/172.17.0.3/tcp/42388/ws/p2p/16Uiu2HAm5ddKJQDNSH5CeRaPpNHmJ77yFtr1TWP5LwDt9jrvFGj6"]}'
2025-02-06 15:38:48.543 INFO [src.node.waku_node] REST service is ready !!
2025-02-06 15:38:48.544 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:42386/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.81.148/tcp/22997/p2p/16Uiu2HAmJDsdA2HTGNu4WAZDuM3JKQbwNZ4AdfsZHv7ajb2rgNoD", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-06 15:38:48.560 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-06 15:38:48.563 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:22996/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9", "/waku/2/rs/3/25", "/waku/2/rs/3/1000"]'
2025-02-06 15:38:48.570 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:38:48.571 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:42386/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9", "/waku/2/rs/3/25", "/waku/2/rs/3/1000"]'
2025-02-06 15:38:48.573 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-06 15:38:48.574 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:22996/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 15:38:48.579 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:38:48.579 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:38:48.680 DEBUG [src.steps.relay] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the published message
2025-02-06 15:38:48.680 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22996/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:38:48.683 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738856328574238208,"ephemeral":false}]'
2025-02-06 15:38:48.684 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-06 15:38:48.685 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42386/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:38:48.686 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-06 15:38:49.687 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:22996/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 15:38:49.692 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:38:49.692 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:38:49.792 DEBUG [src.steps.relay] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the published message
2025-02-06 15:38:49.793 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22996/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:38:49.796 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738856329687636480,"ephemeral":false}]'
2025-02-06 15:38:49.797 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-06 15:38:49.797 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42386/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:38:49.799 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738856329687636480,"ephemeral":false}]'
2025-02-06 15:38:49.801 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:22996/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 15:38:49.805 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:38:49.805 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:38:49.905 DEBUG [src.steps.relay] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the published message
2025-02-06 15:38:49.905 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22996/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:38:49.907 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738856329800911104,"ephemeral":false}]'
2025-02-06 15:38:49.909 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-06 15:38:49.909 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42386/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:38:49.910 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738856329800911104,"ephemeral":false}]'
2025-02-06 15:38:49.912 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:22996/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F9" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 15:38:49.916 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:38:49.916 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:38:50.016 DEBUG [src.steps.relay] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the published message
2025-02-06 15:38:50.017 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22996/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F9" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:38:50.019 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738856329912557312,"ephemeral":false}]'
2025-02-06 15:38:50.021 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-06 15:38:50.021 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42386/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F9" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:38:50.022 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738856329912557312,"ephemeral":false}]'
2025-02-06 15:38:50.024 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:22996/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 15:38:50.028 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:38:50.028 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:38:50.128 DEBUG [src.steps.relay] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the published message
2025-02-06 15:38:50.129 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22996/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:38:50.131 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738856330024393216,"ephemeral":false}]'
2025-02-06 15:38:50.133 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-06 15:38:50.133 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42386/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:38:50.134 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738856330024393216,"ephemeral":false}]'
2025-02-06 15:38:50.136 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:22996/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 15:38:50.140 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:38:50.140 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:38:50.241 DEBUG [src.steps.relay] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the published message
2025-02-06 15:38:50.241 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22996/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:38:50.243 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738856330136459008,"ephemeral":false}]'
2025-02-06 15:38:50.245 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-06 15:38:50.245 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42386/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:38:50.246 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738856330136459008,"ephemeral":false}]'
2025-02-06 15:38:50.248 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:22996/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9"]'
2025-02-06 15:38:50.254 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:38:50.255 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:42386/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9"]'
2025-02-06 15:38:50.257 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-06 15:38:50.258 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:22996/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 15:38:50.261 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:22996/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/3/0'
2025-02-06 15:38:50.262 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:22996/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 15:38:50.264 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:22996/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/3/1'
2025-02-06 15:38:50.264 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:22996/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F9" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 15:38:50.267 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:22996/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F9. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/3/9'
2025-02-06 15:38:50.267 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:22996/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 15:38:50.271 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:38:50.271 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:38:50.372 DEBUG [src.steps.relay] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the published message
2025-02-06 15:38:50.372 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22996/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:38:50.374 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738856330267581952,"ephemeral":false}]'
2025-02-06 15:38:50.376 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-06 15:38:50.376 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42386/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F25" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:38:50.377 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738856330267581952,"ephemeral":false}]'
2025-02-06 15:38:50.379 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:22996/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 15:38:50.383 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:38:50.383 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:38:50.484 DEBUG [src.steps.relay] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the published message
2025-02-06 15:38:50.484 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22996/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:38:50.486 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738856330379497984,"ephemeral":false}]'
2025-02-06 15:38:50.487 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-06 15:38:50.488 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42386/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1000" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:38:50.489 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738856330379497984,"ephemeral":false}]'
2025-02-06 15:38:50.492 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-06 15:38:50.493 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-06 15:38:50.493 DEBUG [src.node.waku_node] Stopping container with id e2ae4298c7a2
2025-02-06 15:38:51.705 DEBUG [src.node.waku_node] Container stopped.
2025-02-06 15:38:51.706 DEBUG [src.node.waku_node] Stopping container with id 87ba3cb2b99b
2025-02-06 15:38:52.215 DEBUG [src.node.waku_node] Container stopped.
2025-02-06 15:38:52.215 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-06 15:38:52.232 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-06 15:38:52.236 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
