2025-02-06 15:40:46.765 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-06 15:40:46.765 DEBUG [tests.conftest] Running test: test_unsubscribe_from_some_pubsub_topics with id: 2025-02-06_15-40-46__341eb47c-c731-4018-857d-c1f5066a5747
2025-02-06 15:40:46.765 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-06 15:40:46.765 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-06 15:40:46.766 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-06 15:40:46.773 DEBUG [src.node.docker_mananger] Docker client initialized with image quay.io/wakuorg/nwaku-pr:3281
2025-02-06 15:40:46.774 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-06_15-40-46__341eb47c-c731-4018-857d-c1f5066a5747__quay.io_wakuorg_nwaku-pr:3281.log
2025-02-06 15:40:46.774 DEBUG [src.node.waku_node] Starting Node...
2025-02-06 15:40:46.774 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-06 15:40:46.775 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-06 15:40:46.776 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.22.69
2025-02-06 15:40:46.776 DEBUG [src.node.docker_mananger] Generated ports ['36842', '36843', '36844', '36845', '36846']
2025-02-06 15:40:46.776 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-06 15:40:46.776 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-06 15:40:46.776 DEBUG [src.node.waku_node] Using volumes []
2025-02-06 15:40:46.776 DEBUG [src.node.docker_mananger] docker run -i -t -p 36842:36842 -p 36843:36843 -p 36844:36844 -p 36845:36845 -p 36846:36846 quay.io/wakuorg/nwaku-pr:3281 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=36844 --rest-port=36842 --tcp-port=36843 --discv5-udp-port=36845 --rest-address=0.0.0.0 --nat=extip:172.18.22.69 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=ce3e97ef8f9abfa8f8eaa0ac07d4ce124846acba4a50ffa01ea994f624dff2b1 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=36846 --metrics-logging=true --relay=true --filter=true --pubsub-topic=/waku/2/rs/2/0 --pubsub-topic=/waku/2/rs/2/1 --pubsub-topic=/waku/2/rs/2/2 --pubsub-topic=/waku/2/rs/2/3 --pubsub-topic=/waku/2/rs/2/4 --pubsub-topic=/waku/2/rs/2/5 --pubsub-topic=/waku/2/rs/2/6 --pubsub-topic=/waku/2/rs/2/7
2025-02-06 15:40:47.013 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.22.69 waku d17a5217efe175e2f34411f672e2d503bde460f82ac71338cca3f20701fec56f
2025-02-06 15:40:47.069 DEBUG [src.node.docker_mananger] Container started with ID d17a5217efe1. Setting up logs at ./log/docker/node1_2025-02-06_15-40-46__341eb47c-c731-4018-857d-c1f5066a5747__quay.io_wakuorg_nwaku-pr:3281.log
2025-02-06 15:40:47.069 DEBUG [src.node.waku_node] Started container from image quay.io/wakuorg/nwaku-pr:3281. REST: 36842
2025-02-06 15:40:47.070 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-06 15:40:47.554 ERROR [src.node.docker_mananger] Max retries reached for container 2eb9a88a0351. Exiting log stream.
2025-02-06 15:40:48.072 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36842/health" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:40:48.075 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-06 15:40:48.075 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-06 15:40:48.075 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36842/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:40:48.078 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.22.69/tcp/36843/p2p/16Uiu2HAm6jcMFbr8yCsC8KShSXUYVDwjbK3HBZEC6pjF7bRgNk2i","/ip4/172.18.22.69/tcp/36844/ws/p2p/16Uiu2HAm6jcMFbr8yCsC8KShSXUYVDwjbK3HBZEC6pjF7bRgNk2i"],"enrUri":"enr:-Mu4QGNrd_Y0hNzxfQjjoJosGLW4SV3md_w0fYqF9TPhCHSqF2kGfB6PpIv278n8MnuuZn-xzhBjPI4bdDZkTBNRo0gCgmlkgnY0gmlwhKwSFkWKbXVsdGlhZGRyc5YACASsEhZFBo_rAAoErBIWRQaP7N0DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQKoCOgB_asiuKLDGsT3YE8RsvlDmyBF9MawBqe2tYy4p4N0Y3CCj-uDdWRwgo_thXdha3UyBQ"}'
2025-02-06 15:40:48.078 INFO [src.node.waku_node] REST service is ready !!
2025-02-06 15:40:48.085 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-06 15:40:48.085 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-06_15-40-46__341eb47c-c731-4018-857d-c1f5066a5747__wakuorg_go-waku:latest.log
2025-02-06 15:40:48.085 DEBUG [src.node.waku_node] Starting Node...
2025-02-06 15:40:48.085 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-06 15:40:48.086 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-06 15:40:48.087 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.17.211
2025-02-06 15:40:48.087 DEBUG [src.node.docker_mananger] Generated ports ['22738', '22739', '22740', '22741', '22742']
2025-02-06 15:40:48.087 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-06 15:40:48.087 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-06 15:40:48.087 DEBUG [src.node.waku_node] Using volumes []
2025-02-06 15:40:48.087 DEBUG [src.node.docker_mananger] docker run -i -t -p 22738:22738 -p 22739:22739 -p 22740:22740 -p 22741:22741 -p 22742:22742 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=22740 --rest-port=22738 --tcp-port=22739 --discv5-udp-port=22741 --rest-address=0.0.0.0 --nat=extip:172.18.17.211 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=a97a98bdae24e49b89e041e242d2f73ec2fdaec1eec1d774417cbabadba8cb1d --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --relay=true --discv5-bootstrap-node=enr:-Mu4QGNrd_Y0hNzxfQjjoJosGLW4SV3md_w0fYqF9TPhCHSqF2kGfB6PpIv278n8MnuuZn-xzhBjPI4bdDZkTBNRo0gCgmlkgnY0gmlwhKwSFkWKbXVsdGlhZGRyc5YACASsEhZFBo_rAAoErBIWRQaP7N0DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQKoCOgB_asiuKLDGsT3YE8RsvlDmyBF9MawBqe2tYy4p4N0Y3CCj-uDdWRwgo_thXdha3UyBQ --pubsub-topic=/waku/2/rs/2/0 --pubsub-topic=/waku/2/rs/2/1 --pubsub-topic=/waku/2/rs/2/2 --pubsub-topic=/waku/2/rs/2/3 --pubsub-topic=/waku/2/rs/2/4 --pubsub-topic=/waku/2/rs/2/5 --pubsub-topic=/waku/2/rs/2/6 --pubsub-topic=/waku/2/rs/2/7
2025-02-06 15:40:48.332 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.17.211 waku 2cad8c2462d306a7ff8a2b63f91612ce0990a7747238c7c64e630da05e2b3714
2025-02-06 15:40:48.385 DEBUG [src.node.docker_mananger] Container started with ID 2cad8c2462d3. Setting up logs at ./log/docker/node2_2025-02-06_15-40-46__341eb47c-c731-4018-857d-c1f5066a5747__wakuorg_go-waku:latest.log
2025-02-06 15:40:48.386 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 22738
2025-02-06 15:40:48.387 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-06 15:40:49.387 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22738/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:40:49.389 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-K-4QCmUkQboyFfxJk7gvqpn_8kKaWakgkxpI01qkyMlzZfyYFsMJrQDfJAKlm3h6pM2xWQzxPPUJiO_nYpyG6rpLVGGAZTb68F9gmlkgnY0gmlwhKwRAAOCcnOTAAIIAAAAAQACAAMABAAFAAYAB4lzZWNwMjU2azGhA8jB6m9b2kg_DQO9TDxw6wwjtN35VWys_GS_OwMmSL6Eg3RjcIJY04N1ZHCCWNWFd2FrdTIB","listenAddresses":["/ip4/127.0.0.1/tcp/22739/p2p/16Uiu2HAmSAfPb6eXwboLMqLtarAfDy83S6juPM6djjsakGZWPYp3","/ip4/127.0.0.1/tcp/22740/ws/p2p/16Uiu2HAmSAfPb6eXwboLMqLtarAfDy83S6juPM6djjsakGZWPYp3","/ip4/172.17.0.3/tcp/22739/p2p/16Uiu2HAmSAfPb6eXwboLMqLtarAfDy83S6juPM6djjsakGZWPYp3","/ip4/172.17.0.3/tcp/22740/ws/p2p/16Uiu2HAmSAfPb6eXwboLMqLtarAfDy83S6juPM6djjsakGZWPYp3"]}'
2025-02-06 15:40:49.390 INFO [src.node.waku_node] REST service is ready !!
2025-02-06 15:40:49.390 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:22738/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.22.69/tcp/36843/p2p/16Uiu2HAm6jcMFbr8yCsC8KShSXUYVDwjbK3HBZEC6pjF7bRgNk2i", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-06 15:40:49.392 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-06 15:40:49.393 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:36842/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2", "/waku/2/rs/2/3", "/waku/2/rs/2/4", "/waku/2/rs/2/5", "/waku/2/rs/2/6", "/waku/2/rs/2/7"]'
2025-02-06 15:40:49.395 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:40:49.396 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:22738/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2", "/waku/2/rs/2/3", "/waku/2/rs/2/4", "/waku/2/rs/2/5", "/waku/2/rs/2/6", "/waku/2/rs/2/7"]'
2025-02-06 15:40:49.398 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-06 15:40:49.398 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:36842/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 15:40:49.404 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:40:49.404 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:40:49.504 DEBUG [src.steps.sharding] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the published message
2025-02-06 15:40:49.505 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36842/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:40:49.507 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738856449398782720,"ephemeral":false}]'
2025-02-06 15:40:49.510 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-06 15:40:49.511 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22738/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:40:49.513 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738856449398782720,"ephemeral":false}]'
2025-02-06 15:40:49.515 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:36842/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 15:40:49.520 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:40:49.520 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:40:49.620 DEBUG [src.steps.sharding] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the published message
2025-02-06 15:40:49.621 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36842/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:40:49.623 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738856449515043328,"ephemeral":false}]'
2025-02-06 15:40:49.625 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-06 15:40:49.625 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22738/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:40:49.627 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738856449515043328,"ephemeral":false}]'
2025-02-06 15:40:49.629 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:36842/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 15:40:49.634 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:40:49.634 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:40:49.734 DEBUG [src.steps.sharding] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the published message
2025-02-06 15:40:49.735 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36842/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:40:49.738 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738856449629464064,"ephemeral":false}]'
2025-02-06 15:40:49.739 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-06 15:40:49.740 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22738/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:40:49.742 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738856449629464064,"ephemeral":false}]'
2025-02-06 15:40:49.743 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:36842/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 15:40:49.749 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:40:49.749 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:40:49.849 DEBUG [src.steps.sharding] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the published message
2025-02-06 15:40:49.850 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36842/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:40:49.853 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738856449743852800,"ephemeral":false}]'
2025-02-06 15:40:49.854 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-06 15:40:49.854 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22738/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:40:49.856 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738856449743852800,"ephemeral":false}]'
2025-02-06 15:40:49.858 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:36842/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 15:40:49.863 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:40:49.863 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:40:49.963 DEBUG [src.steps.sharding] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the published message
2025-02-06 15:40:49.964 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36842/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:40:49.967 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738856449858307840,"ephemeral":false}]'
2025-02-06 15:40:49.969 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-06 15:40:49.969 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22738/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:40:49.970 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738856449858307840,"ephemeral":false}]'
2025-02-06 15:40:49.972 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:36842/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 15:40:49.977 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:40:49.977 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:40:50.078 DEBUG [src.steps.sharding] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the published message
2025-02-06 15:40:50.078 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36842/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:40:50.081 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738856449972619264,"ephemeral":false}]'
2025-02-06 15:40:50.082 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-06 15:40:50.083 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22738/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:40:50.084 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738856449972619264,"ephemeral":false}]'
2025-02-06 15:40:50.086 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:36842/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 15:40:50.091 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:40:50.092 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:40:50.192 DEBUG [src.steps.sharding] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the published message
2025-02-06 15:40:50.192 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36842/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:40:50.195 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738856450086690048,"ephemeral":false}]'
2025-02-06 15:40:50.197 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-06 15:40:50.197 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22738/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:40:50.199 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738856450086690048,"ephemeral":false}]'
2025-02-06 15:40:50.200 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:36842/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 15:40:50.205 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:40:50.205 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:40:50.306 DEBUG [src.steps.sharding] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the published message
2025-02-06 15:40:50.306 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36842/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:40:50.309 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738856450200811008,"ephemeral":false}]'
2025-02-06 15:40:50.311 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-06 15:40:50.311 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22738/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:40:50.313 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738856450200811008,"ephemeral":false}]'
2025-02-06 15:40:50.314 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:36842/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2"]'
2025-02-06 15:40:50.321 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:40:50.322 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:22738/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2"]'
2025-02-06 15:40:50.324 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-06 15:40:50.325 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:36842/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 15:40:50.329 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:36842/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/2/0'
2025-02-06 15:40:50.331 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:36842/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 15:40:50.333 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:36842/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/2/1'
2025-02-06 15:40:50.335 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:36842/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 15:40:50.337 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:36842/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/2/2'
2025-02-06 15:40:50.338 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:36842/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 15:40:50.343 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:40:50.343 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:40:50.443 DEBUG [src.steps.sharding] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the published message
2025-02-06 15:40:50.444 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36842/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:40:50.446 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738856450338776576,"ephemeral":false}]'
2025-02-06 15:40:50.448 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-06 15:40:50.448 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22738/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:40:50.450 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738856450338776576,"ephemeral":false}]'
2025-02-06 15:40:50.452 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:36842/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 15:40:50.456 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:40:50.457 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:40:50.557 DEBUG [src.steps.sharding] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the published message
2025-02-06 15:40:50.557 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36842/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:40:50.560 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738856450451890944,"ephemeral":false}]'
2025-02-06 15:40:50.562 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-06 15:40:50.562 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22738/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:40:50.564 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738856450451890944,"ephemeral":false}]'
2025-02-06 15:40:50.565 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:36842/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 15:40:50.570 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:40:50.571 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:40:50.671 DEBUG [src.steps.sharding] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the published message
2025-02-06 15:40:50.671 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36842/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:40:50.674 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738856450565863168,"ephemeral":false}]'
2025-02-06 15:40:50.676 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-06 15:40:50.676 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22738/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:40:50.678 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738856450565863168,"ephemeral":false}]'
2025-02-06 15:40:50.680 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:36842/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 15:40:50.684 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:40:50.684 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:40:50.784 DEBUG [src.steps.sharding] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the published message
2025-02-06 15:40:50.785 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36842/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:40:50.788 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738856450679969280,"ephemeral":false}]'
2025-02-06 15:40:50.789 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-06 15:40:50.790 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22738/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:40:50.791 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738856450679969280,"ephemeral":false}]'
2025-02-06 15:40:50.793 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:36842/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 15:40:50.798 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:40:50.798 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:40:50.898 DEBUG [src.steps.sharding] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the published message
2025-02-06 15:40:50.899 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36842/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:40:50.901 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738856450793405952,"ephemeral":false}]'
2025-02-06 15:40:50.903 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/go-waku:latest can find the published message
2025-02-06 15:40:50.903 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22738/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:40:50.905 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738856450793405952,"ephemeral":false}]'
2025-02-06 15:40:50.908 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-06 15:40:50.909 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-06 15:40:50.909 DEBUG [src.node.waku_node] Stopping container with id d17a5217efe1
2025-02-06 15:40:51.592 DEBUG [src.node.waku_node] Container stopped.
2025-02-06 15:40:51.593 DEBUG [src.node.waku_node] Stopping container with id 2cad8c2462d3
2025-02-06 15:40:52.405 ERROR [src.node.docker_mananger] Max retries reached for container d17a5217efe1. Exiting log stream.
2025-02-06 15:41:02.129 DEBUG [src.node.waku_node] Container stopped.
2025-02-06 15:41:02.131 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-06 15:41:02.140 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-06 15:41:02.144 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
