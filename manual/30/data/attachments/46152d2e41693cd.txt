2025-02-06 15:36:15.210 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-06 15:36:15.211 DEBUG [tests.conftest] Running test: test_light_push_with_valid_content_topics with id: 2025-02-06_15-36-15__ce16c8ca-9c4c-4e25-a5e6-b4eb5b8d3a94
2025-02-06 15:36:15.211 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-06 15:36:15.211 DEBUG [src.steps.light_push] Running fixture setup: light_push_setup
2025-02-06 15:36:15.218 DEBUG [src.node.docker_mananger] Docker client initialized with image quay.io/wakuorg/nwaku-pr:3281
2025-02-06 15:36:15.218 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node1_2025-02-06_15-36-15__ce16c8ca-9c4c-4e25-a5e6-b4eb5b8d3a94__quay.io_wakuorg_nwaku-pr:3281.log
2025-02-06 15:36:15.219 DEBUG [src.node.waku_node] Starting Node...
2025-02-06 15:36:15.219 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-06 15:36:15.220 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-06 15:36:15.220 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.217.100
2025-02-06 15:36:15.221 DEBUG [src.node.docker_mananger] Generated ports ['5884', '5885', '5886', '5887', '5888']
2025-02-06 15:36:15.221 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-06 15:36:15.221 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-06 15:36:15.221 DEBUG [src.node.waku_node] Using volumes []
2025-02-06 15:36:15.221 DEBUG [src.node.docker_mananger] docker run -i -t -p 5884:5884 -p 5885:5885 -p 5886:5886 -p 5887:5887 -p 5888:5888 quay.io/wakuorg/nwaku-pr:3281 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=5886 --rest-port=5884 --tcp-port=5885 --discv5-udp-port=5887 --rest-address=0.0.0.0 --nat=extip:172.18.217.100 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f13468ddfbc9cda8fcca59e2d24254bec1c0a9d7cac47ea4d2c4afdcb0a5d147 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=5888 --metrics-logging=true --lightpush=true --relay=true
2025-02-06 15:36:15.462 ERROR [src.node.docker_mananger] Max retries reached for container abb2e6cee598. Exiting log stream.
2025-02-06 15:36:15.481 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.217.100 waku 42673ab2684090efdf79410c82943859a38fb23c672475ce7f8144c73952d476
2025-02-06 15:36:15.534 DEBUG [src.node.docker_mananger] Container started with ID 42673ab26840. Setting up logs at ./log/docker/receiving_node1_2025-02-06_15-36-15__ce16c8ca-9c4c-4e25-a5e6-b4eb5b8d3a94__quay.io_wakuorg_nwaku-pr:3281.log
2025-02-06 15:36:15.534 DEBUG [src.node.waku_node] Started container from image quay.io/wakuorg/nwaku-pr:3281. REST: 5884
2025-02-06 15:36:15.535 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-06 15:36:16.004 ERROR [src.node.docker_mananger] Max retries reached for container 4754445ba119. Exiting log stream.
2025-02-06 15:36:16.536 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5884/health" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:16.539 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-06 15:36:16.539 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-06 15:36:16.540 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5884/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:16.542 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.217.100/tcp/5885/p2p/16Uiu2HAmQWsLE1ZH6AQxGmzsxvVWh9ud5DVVAkLcZ6hB2nVUpZae","/ip4/172.18.217.100/tcp/5886/ws/p2p/16Uiu2HAmQWsLE1ZH6AQxGmzsxvVWh9ud5DVVAkLcZ6hB2nVUpZae"],"enrUri":"enr:-L24QB9-OV1w_Gh0eNaWB1FRl-MrGEVLXDLx0u4YCgp35eVlRfKVptfmDkOfpjDIIndgtEGA3MefWK_uHSt7jPn8z3oCgmlkgnY0gmlwhKwS2WSKbXVsdGlhZGRyc5YACASsEtlkBhb9AAoErBLZZAYW_t0DgnJzhQADAQAAiXNlY3AyNTZrMaEDsDepNL7z7S-uQjfrB-wubT74WB4uVe8TW50Y2XrU-WeDdGNwghb9g3VkcIIW_4V3YWt1Mgk"}'
2025-02-06 15:36:16.542 INFO [src.node.waku_node] REST service is ready !!
2025-02-06 15:36:16.551 DEBUG [src.node.docker_mananger] Docker client initialized with image quay.io/wakuorg/nwaku-pr:3281
2025-02-06 15:36:16.551 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node2_2025-02-06_15-36-15__ce16c8ca-9c4c-4e25-a5e6-b4eb5b8d3a94__quay.io_wakuorg_nwaku-pr:3281.log
2025-02-06 15:36:16.552 DEBUG [src.node.waku_node] Starting Node...
2025-02-06 15:36:16.552 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-06 15:36:16.553 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-06 15:36:16.553 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.199.10
2025-02-06 15:36:16.554 DEBUG [src.node.docker_mananger] Generated ports ['18334', '18335', '18336', '18337', '18338']
2025-02-06 15:36:16.554 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-06 15:36:16.554 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-06 15:36:16.554 DEBUG [src.node.waku_node] Using volumes []
2025-02-06 15:36:16.554 DEBUG [src.node.docker_mananger] docker run -i -t -p 18334:18334 -p 18335:18335 -p 18336:18336 -p 18337:18337 -p 18338:18338 quay.io/wakuorg/nwaku-pr:3281 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=18336 --rest-port=18334 --tcp-port=18335 --discv5-udp-port=18337 --rest-address=0.0.0.0 --nat=extip:172.18.199.10 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2a4a12c7efbddc6abfe7fb6b2ef304e1b4fdc1deadfaf6266228bed20e9cad2c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=18338 --metrics-logging=true --lightpush=false --relay=true
2025-02-06 15:36:16.815 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.199.10 waku de106ac9336134724e56a9f3b0d9c778b2aa1c5156f978923f4c72a63c108b68
2025-02-06 15:36:16.871 DEBUG [src.node.docker_mananger] Container started with ID de106ac93361. Setting up logs at ./log/docker/receiving_node2_2025-02-06_15-36-15__ce16c8ca-9c4c-4e25-a5e6-b4eb5b8d3a94__quay.io_wakuorg_nwaku-pr:3281.log
2025-02-06 15:36:16.871 DEBUG [src.node.waku_node] Started container from image quay.io/wakuorg/nwaku-pr:3281. REST: 18334
2025-02-06 15:36:16.871 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-06 15:36:17.873 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18334/health" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:17.876 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-06 15:36:17.876 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-06 15:36:17.876 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18334/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:17.879 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.199.10/tcp/18335/p2p/16Uiu2HAmLJvqHJ9BBTTNUQonGW4Gs5vFyvtdVzc5CsVkEQ83zes5","/ip4/172.18.199.10/tcp/18336/ws/p2p/16Uiu2HAmLJvqHJ9BBTTNUQonGW4Gs5vFyvtdVzc5CsVkEQ83zes5"],"enrUri":"enr:-L24QLtwGEtLHTArTGDWOrdp8tVYkGQ_ETVAlHEpjzj-qx6Ef5WHvUmgRmHoxD14-7lVZuOGQidgOmEykUypFlNBwxkCgmlkgnY0gmlwhKwSxwqKbXVsdGlhZGRyc5YACASsEscKBkefAAoErBLHCgZHoN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDcbnm8O8amXr_dAM6dHWlbrfyEWtgGHzK34gntnzGETSDdGNwgkefg3VkcIJHoYV3YWt1MgE"}'
2025-02-06 15:36:17.879 INFO [src.node.waku_node] REST service is ready !!
2025-02-06 15:36:17.879 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:18334/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.217.100/tcp/5885/p2p/16Uiu2HAmQWsLE1ZH6AQxGmzsxvVWh9ud5DVVAkLcZ6hB2nVUpZae"]'
2025-02-06 15:36:17.915 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:36:17.927 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-06 15:36:17.928 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/lightpush_node1_2025-02-06_15-36-15__ce16c8ca-9c4c-4e25-a5e6-b4eb5b8d3a94__wakuorg_go-waku:latest.log
2025-02-06 15:36:17.928 DEBUG [src.node.waku_node] Starting Node...
2025-02-06 15:36:17.928 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-06 15:36:17.929 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-06 15:36:17.930 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.206.196
2025-02-06 15:36:17.930 DEBUG [src.node.docker_mananger] Generated ports ['56987', '56988', '56989', '56990', '56991']
2025-02-06 15:36:17.930 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-06 15:36:17.930 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-06 15:36:17.930 DEBUG [src.node.waku_node] Using volumes []
2025-02-06 15:36:17.930 DEBUG [src.node.docker_mananger] docker run -i -t -p 56987:56987 -p 56988:56988 -p 56989:56989 -p 56990:56990 -p 56991:56991 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=56989 --rest-port=56987 --tcp-port=56988 --discv5-udp-port=56990 --rest-address=0.0.0.0 --nat=extip:172.18.206.196 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3c3209eee39558ebabf76bfefcbaefd5846dfc4dd0b34cb5364c22bdb412eed9 --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-L24QB9-OV1w_Gh0eNaWB1FRl-MrGEVLXDLx0u4YCgp35eVlRfKVptfmDkOfpjDIIndgtEGA3MefWK_uHSt7jPn8z3oCgmlkgnY0gmlwhKwS2WSKbXVsdGlhZGRyc5YACASsEtlkBhb9AAoErBLZZAYW_t0DgnJzhQADAQAAiXNlY3AyNTZrMaEDsDepNL7z7S-uQjfrB-wubT74WB4uVe8TW50Y2XrU-WeDdGNwghb9g3VkcIIW_4V3YWt1Mgk --lightpushnode=/ip4/172.18.217.100/tcp/5885/p2p/16Uiu2HAmQWsLE1ZH6AQxGmzsxvVWh9ud5DVVAkLcZ6hB2nVUpZae --lightpush=true --relay=false --pubsub-topic=/waku/2/rs/3/1
2025-02-06 15:36:18.181 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.206.196 waku ac58dc6ef96fa516b07da9fbd840f6b3f5b4c8cf852be9b4cc7d8de40d54464f
2025-02-06 15:36:18.244 DEBUG [src.node.docker_mananger] Container started with ID ac58dc6ef96f. Setting up logs at ./log/docker/lightpush_node1_2025-02-06_15-36-15__ce16c8ca-9c4c-4e25-a5e6-b4eb5b8d3a94__wakuorg_go-waku:latest.log
2025-02-06 15:36:18.245 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 56987
2025-02-06 15:36:18.246 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-06 15:36:19.247 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:56987/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:19.249 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QKtb0PrwkZSurJBRlhnO3AKfk4zxusCpN7Cdi38iKCQ4BZUsk-Lsu2vaK_q7miboSntnov8PXTJy2DGcRetVE5mGAZTb56I3gmlkgnY0gmlwhKwRAASCcnOFAAMBAAGJc2VjcDI1NmsxoQM_x8ZKvWNT4Zm8gokAbYqGndEep3C2B8f9noIquB3GJIN0Y3CC3pyDdWRwgt6ehXdha3UyCA","listenAddresses":["/ip4/127.0.0.1/tcp/56988/p2p/16Uiu2HAmGwxiZ36jZc9JZwVrKuHJKvF6Wxveuc7p6xwoi1BdxjMV","/ip4/127.0.0.1/tcp/56989/ws/p2p/16Uiu2HAmGwxiZ36jZc9JZwVrKuHJKvF6Wxveuc7p6xwoi1BdxjMV","/ip4/172.17.0.4/tcp/56988/p2p/16Uiu2HAmGwxiZ36jZc9JZwVrKuHJKvF6Wxveuc7p6xwoi1BdxjMV","/ip4/172.17.0.4/tcp/56989/ws/p2p/16Uiu2HAmGwxiZ36jZc9JZwVrKuHJKvF6Wxveuc7p6xwoi1BdxjMV"]}'
2025-02-06 15:36:19.250 INFO [src.node.waku_node] REST service is ready !!
2025-02-06 15:36:19.250 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56987/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.217.100/tcp/5885/p2p/16Uiu2HAmQWsLE1ZH6AQxGmzsxvVWh9ud5DVVAkLcZ6hB2nVUpZae", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-06 15:36:19.252 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-06 15:36:19.252 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56987/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.199.10/tcp/18335/p2p/16Uiu2HAmLJvqHJ9BBTTNUQonGW4Gs5vFyvtdVzc5CsVkEQ83zes5", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-06 15:36:19.270 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-06 15:36:19.275 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5884/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-06 15:36:19.279 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:36:19.280 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:18334/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-06 15:36:19.283 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:36:19.284 DEBUG [tests.light_push.test_publish] Running test with content topic A simple string
2025-02-06 15:36:19.285 DEBUG [src.steps.light_push] Lightpushing message
2025-02-06 15:36:19.285 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56987/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "Hello World!", "timestamp": 1738856179284668928}}'
2025-02-06 15:36:19.292 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-06 15:36:19.294 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:36:19.394 DEBUG [src.steps.light_push] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:19.395 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5884/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:19.398 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Hello World!","version":0,"timestamp":1738856179284668928,"ephemeral":false}]'
2025-02-06 15:36:19.399 DEBUG [src.steps.light_push] Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:19.399 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:19.402 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Hello World!","version":0,"timestamp":1738856179284668928,"ephemeral":false}]'
2025-02-06 15:36:19.403 DEBUG [tests.light_push.test_publish] Running test with content topic An integer
2025-02-06 15:36:19.404 DEBUG [src.steps.light_push] Lightpushing message
2025-02-06 15:36:19.404 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56987/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "1234567890", "timestamp": 1738856179403994368}}'
2025-02-06 15:36:19.412 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-06 15:36:19.413 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:36:19.514 DEBUG [src.steps.light_push] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:19.514 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5884/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:19.517 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"1234567890","version":0,"timestamp":1738856179403994368,"ephemeral":false}]'
2025-02-06 15:36:19.518 DEBUG [src.steps.light_push] Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:19.519 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:19.521 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"1234567890","version":0,"timestamp":1738856179403994368,"ephemeral":false}]'
2025-02-06 15:36:19.523 DEBUG [tests.light_push.test_publish] Running test with content topic A dictionary
2025-02-06 15:36:19.523 DEBUG [src.steps.light_push] Lightpushing message
2025-02-06 15:36:19.523 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56987/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "{\"key\": \"value\"}", "timestamp": 1738856179523569152}}'
2025-02-06 15:36:19.534 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-06 15:36:19.535 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:36:19.635 DEBUG [src.steps.light_push] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:19.636 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5884/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:19.639 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"{\\"key\\": \\"value\\"}","version":0,"timestamp":1738856179523569152,"ephemeral":false}]'
2025-02-06 15:36:19.640 DEBUG [src.steps.light_push] Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:19.640 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:19.643 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"{\\"key\\": \\"value\\"}","version":0,"timestamp":1738856179523569152,"ephemeral":false}]'
2025-02-06 15:36:19.645 DEBUG [tests.light_push.test_publish] Running test with content topic Chinese characters
2025-02-06 15:36:19.645 DEBUG [src.steps.light_push] Lightpushing message
2025-02-06 15:36:19.645 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56987/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "\u8fd9\u662f\u4e00\u4e9b\u4e2d\u6587", "timestamp": 1738856179645367808}}'
2025-02-06 15:36:19.653 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-06 15:36:19.653 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:36:19.754 DEBUG [src.steps.light_push] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:19.754 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5884/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:19.758 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xe8\xbf\x99\xe6\x98\xaf\xe4\xb8\x80\xe4\xba\x9b\xe4\xb8\xad\xe6\x96\x87","version":0,"timestamp":1738856179645367808,"ephemeral":false}]'
2025-02-06 15:36:19.759 DEBUG [src.steps.light_push] Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:19.760 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:19.762 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xe8\xbf\x99\xe6\x98\xaf\xe4\xb8\x80\xe4\xba\x9b\xe4\xb8\xad\xe6\x96\x87","version":0,"timestamp":1738856179645367808,"ephemeral":false}]'
2025-02-06 15:36:19.764 DEBUG [tests.light_push.test_publish] Running test with content topic Emojis
2025-02-06 15:36:19.764 DEBUG [src.steps.light_push] Lightpushing message
2025-02-06 15:36:19.765 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56987/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "\ud83d\ude80\ud83c\udf1f\u2728", "timestamp": 1738856179764532224}}'
2025-02-06 15:36:19.772 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-06 15:36:19.773 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:36:19.873 DEBUG [src.steps.light_push] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:19.874 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5884/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:19.877 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xf0\x9f\x9a\x80\xf0\x9f\x8c\x9f\xe2\x9c\xa8","version":0,"timestamp":1738856179764532224,"ephemeral":false}]'
2025-02-06 15:36:19.878 DEBUG [src.steps.light_push] Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:19.878 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:19.881 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xf0\x9f\x9a\x80\xf0\x9f\x8c\x9f\xe2\x9c\xa8","version":0,"timestamp":1738856179764532224,"ephemeral":false}]'
2025-02-06 15:36:19.885 DEBUG [tests.light_push.test_publish] Running test with content topic Lorem ipsum text
2025-02-06 15:36:19.885 DEBUG [src.steps.light_push] Lightpushing message
2025-02-06 15:36:19.885 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56987/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "Lorem ipsum dolor sit amet", "timestamp": 1738856179885505536}}'
2025-02-06 15:36:19.893 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-06 15:36:19.895 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:36:19.996 DEBUG [src.steps.light_push] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:19.996 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5884/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:19.999 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Lorem ipsum dolor sit amet","version":0,"timestamp":1738856179885505536,"ephemeral":false}]'
2025-02-06 15:36:20.001 DEBUG [src.steps.light_push] Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:20.001 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:20.009 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Lorem ipsum dolor sit amet","version":0,"timestamp":1738856179885505536,"ephemeral":false}]'
2025-02-06 15:36:20.010 DEBUG [tests.light_push.test_publish] Running test with content topic HTML content
2025-02-06 15:36:20.011 DEBUG [src.steps.light_push] Lightpushing message
2025-02-06 15:36:20.011 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56987/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "<html><body>Hello</body></html>", "timestamp": 1738856180011119872}}'
2025-02-06 15:36:20.018 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-06 15:36:20.020 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:36:20.121 DEBUG [src.steps.light_push] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:20.121 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5884/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:20.124 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"<html><body>Hello</body></html>","version":0,"timestamp":1738856180011119872,"ephemeral":false}]'
2025-02-06 15:36:20.126 DEBUG [src.steps.light_push] Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:20.126 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:20.128 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"<html><body>Hello</body></html>","version":0,"timestamp":1738856180011119872,"ephemeral":false}]'
2025-02-06 15:36:20.130 DEBUG [tests.light_push.test_publish] Running test with content topic Cyrillic characters
2025-02-06 15:36:20.131 DEBUG [src.steps.light_push] Lightpushing message
2025-02-06 15:36:20.131 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56987/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "\u041f\u0440\u0438\u0432\u0435\u0442", "timestamp": 1738856180130856192}}'
2025-02-06 15:36:20.140 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-06 15:36:20.141 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:36:20.242 DEBUG [src.steps.light_push] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:20.242 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5884/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:20.245 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xd0\x9f\xd1\x80\xd0\xb8\xd0\xb2\xd0\xb5\xd1\x82","version":0,"timestamp":1738856180130856192,"ephemeral":false}]'
2025-02-06 15:36:20.247 DEBUG [src.steps.light_push] Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:20.247 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:20.250 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\xd0\x9f\xd1\x80\xd0\xb8\xd0\xb2\xd0\xb5\xd1\x82","version":0,"timestamp":1738856180130856192,"ephemeral":false}]'
2025-02-06 15:36:20.251 DEBUG [tests.light_push.test_publish] Running test with content topic Base64 encoded string
2025-02-06 15:36:20.252 DEBUG [src.steps.light_push] Lightpushing message
2025-02-06 15:36:20.252 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56987/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "Base64==dGVzdA==", "timestamp": 1738856180252225536}}'
2025-02-06 15:36:20.259 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-06 15:36:20.260 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:36:20.362 DEBUG [src.steps.light_push] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:20.362 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5884/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:20.365 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Base64==dGVzdA==","version":0,"timestamp":1738856180252225536,"ephemeral":false}]'
2025-02-06 15:36:20.367 DEBUG [src.steps.light_push] Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:20.367 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:20.370 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Base64==dGVzdA==","version":0,"timestamp":1738856180252225536,"ephemeral":false}]'
2025-02-06 15:36:20.372 DEBUG [tests.light_push.test_publish] Running test with content topic Binary data
2025-02-06 15:36:20.372 DEBUG [src.steps.light_push] Lightpushing message
2025-02-06 15:36:20.372 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56987/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "d29ya2luZyB3aXRoIGJpbmFyeSBkYXRh: PQ", "timestamp": 1738856180372487424}}'
2025-02-06 15:36:20.380 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-06 15:36:20.381 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:36:20.482 DEBUG [src.steps.light_push] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:20.482 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5884/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:20.485 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"d29ya2luZyB3aXRoIGJpbmFyeSBkYXRh: PQ","version":0,"timestamp":1738856180372487424,"ephemeral":false}]'
2025-02-06 15:36:20.486 DEBUG [src.steps.light_push] Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:20.486 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:20.489 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"d29ya2luZyB3aXRoIGJpbmFyeSBkYXRh: PQ","version":0,"timestamp":1738856180372487424,"ephemeral":false}]'
2025-02-06 15:36:20.491 DEBUG [tests.light_push.test_publish] Running test with content topic Special characters with whitespace
2025-02-06 15:36:20.492 DEBUG [src.steps.light_push] Lightpushing message
2025-02-06 15:36:20.492 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56987/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "\t\nSpecial\tCharacters\n", "timestamp": 1738856180492150784}}'
2025-02-06 15:36:20.499 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-06 15:36:20.501 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:36:20.602 DEBUG [src.steps.light_push] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:20.602 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5884/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:20.605 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\\t\\nSpecial\\tCharacters\\n","version":0,"timestamp":1738856180492150784,"ephemeral":false}]'
2025-02-06 15:36:20.606 DEBUG [src.steps.light_push] Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:20.607 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:20.609 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\\t\\nSpecial\\tCharacters\\n","version":0,"timestamp":1738856180492150784,"ephemeral":false}]'
2025-02-06 15:36:20.611 DEBUG [tests.light_push.test_publish] Running test with content topic Boolean false as a string
2025-02-06 15:36:20.612 DEBUG [src.steps.light_push] Lightpushing message
2025-02-06 15:36:20.612 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56987/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "False", "timestamp": 1738856180611782912}}'
2025-02-06 15:36:20.622 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-06 15:36:20.623 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:36:20.723 DEBUG [src.steps.light_push] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:20.724 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5884/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:20.726 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"False","version":0,"timestamp":1738856180611782912,"ephemeral":false}]'
2025-02-06 15:36:20.728 DEBUG [src.steps.light_push] Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:20.728 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:20.731 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"False","version":0,"timestamp":1738856180611782912,"ephemeral":false}]'
2025-02-06 15:36:20.732 DEBUG [tests.light_push.test_publish] Running test with content topic A float number
2025-02-06 15:36:20.732 DEBUG [src.steps.light_push] Lightpushing message
2025-02-06 15:36:20.733 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56987/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "3.1415926535", "timestamp": 1738856180732630272}}'
2025-02-06 15:36:20.739 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-06 15:36:20.739 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:36:20.841 DEBUG [src.steps.light_push] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:20.841 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5884/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:20.844 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"3.1415926535","version":0,"timestamp":1738856180732630272,"ephemeral":false}]'
2025-02-06 15:36:20.846 DEBUG [src.steps.light_push] Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:20.846 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:20.849 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"3.1415926535","version":0,"timestamp":1738856180732630272,"ephemeral":false}]'
2025-02-06 15:36:20.850 DEBUG [tests.light_push.test_publish] Running test with content topic A list
2025-02-06 15:36:20.851 DEBUG [src.steps.light_push] Lightpushing message
2025-02-06 15:36:20.851 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56987/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "[1, 2, 3, 4, 5]", "timestamp": 1738856180850825984}}'
2025-02-06 15:36:20.858 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-06 15:36:20.858 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:36:20.959 DEBUG [src.steps.light_push] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:20.959 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5884/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:20.962 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"[1, 2, 3, 4, 5]","version":0,"timestamp":1738856180850825984,"ephemeral":false}]'
2025-02-06 15:36:20.963 DEBUG [src.steps.light_push] Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:20.964 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:20.966 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"[1, 2, 3, 4, 5]","version":0,"timestamp":1738856180850825984,"ephemeral":false}]'
2025-02-06 15:36:20.967 DEBUG [tests.light_push.test_publish] Running test with content topic Hexadecimal number as a string
2025-02-06 15:36:20.968 DEBUG [src.steps.light_push] Lightpushing message
2025-02-06 15:36:20.968 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56987/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "0xDEADBEEF", "timestamp": 1738856180968021760}}'
2025-02-06 15:36:20.975 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-06 15:36:20.977 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:36:21.077 DEBUG [src.steps.light_push] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:21.078 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5884/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:21.081 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"0xDEADBEEF","version":0,"timestamp":1738856180968021760,"ephemeral":false}]'
2025-02-06 15:36:21.082 DEBUG [src.steps.light_push] Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:21.083 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:21.086 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"0xDEADBEEF","version":0,"timestamp":1738856180968021760,"ephemeral":false}]'
2025-02-06 15:36:21.088 DEBUG [tests.light_push.test_publish] Running test with content topic Email format
2025-02-06 15:36:21.088 DEBUG [src.steps.light_push] Lightpushing message
2025-02-06 15:36:21.089 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56987/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "user@example.com", "timestamp": 1738856181088597248}}'
2025-02-06 15:36:21.095 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-06 15:36:21.096 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:36:21.198 DEBUG [src.steps.light_push] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:21.199 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5884/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:21.201 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"user@example.com","version":0,"timestamp":1738856181088597248,"ephemeral":false}]'
2025-02-06 15:36:21.203 DEBUG [src.steps.light_push] Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:21.203 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:21.206 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"user@example.com","version":0,"timestamp":1738856181088597248,"ephemeral":false}]'
2025-02-06 15:36:21.207 DEBUG [tests.light_push.test_publish] Running test with content topic URL format
2025-02-06 15:36:21.210 DEBUG [src.steps.light_push] Lightpushing message
2025-02-06 15:36:21.210 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56987/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "http://example.com", "timestamp": 1738856181210255616}}'
2025-02-06 15:36:21.217 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-06 15:36:21.218 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:36:21.319 DEBUG [src.steps.light_push] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:21.320 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5884/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:21.323 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"http://example.com","version":0,"timestamp":1738856181210255616,"ephemeral":false}]'
2025-02-06 15:36:21.324 DEBUG [src.steps.light_push] Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:21.324 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:21.327 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"http://example.com","version":0,"timestamp":1738856181210255616,"ephemeral":false}]'
2025-02-06 15:36:21.331 DEBUG [tests.light_push.test_publish] Running test with content topic Date and time in ISO format
2025-02-06 15:36:21.332 DEBUG [src.steps.light_push] Lightpushing message
2025-02-06 15:36:21.332 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56987/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "2023-11-01T12:00:00Z", "timestamp": 1738856181331495424}}'
2025-02-06 15:36:21.339 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-06 15:36:21.340 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:36:21.441 DEBUG [src.steps.light_push] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:21.441 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5884/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:21.444 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"2023-11-01T12:00:00Z","version":0,"timestamp":1738856181331495424,"ephemeral":false}]'
2025-02-06 15:36:21.446 DEBUG [src.steps.light_push] Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:21.446 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:21.448 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"2023-11-01T12:00:00Z","version":0,"timestamp":1738856181331495424,"ephemeral":false}]'
2025-02-06 15:36:21.450 DEBUG [tests.light_push.test_publish] Running test with content topic String with escaped quotes
2025-02-06 15:36:21.451 DEBUG [src.steps.light_push] Lightpushing message
2025-02-06 15:36:21.451 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56987/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "\"Escaped\" \\\"quotes\\\"", "timestamp": 1738856181450906880}}'
2025-02-06 15:36:21.462 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-06 15:36:21.464 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:36:21.564 DEBUG [src.steps.light_push] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:21.565 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5884/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:21.568 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\\"Escaped\\" \\\\\\"quotes\\\\\\"","version":0,"timestamp":1738856181450906880,"ephemeral":false}]'
2025-02-06 15:36:21.569 DEBUG [src.steps.light_push] Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:21.569 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:21.572 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"\\"Escaped\\" \\\\\\"quotes\\\\\\"","version":0,"timestamp":1738856181450906880,"ephemeral":false}]'
2025-02-06 15:36:21.574 DEBUG [tests.light_push.test_publish] Running test with content topic A regular expression
2025-02-06 15:36:21.574 DEBUG [src.steps.light_push] Lightpushing message
2025-02-06 15:36:21.574 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56987/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "Regular expression: ^[a-z0-9_-]{3,16}$", "timestamp": 1738856181574500864}}'
2025-02-06 15:36:21.580 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-06 15:36:21.581 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:36:21.682 DEBUG [src.steps.light_push] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:21.682 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5884/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:21.685 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Regular expression: ^[a-z0-9_-]{3,16}$","version":0,"timestamp":1738856181574500864,"ephemeral":false}]'
2025-02-06 15:36:21.687 DEBUG [src.steps.light_push] Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:21.687 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:21.689 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Regular expression: ^[a-z0-9_-]{3,16}$","version":0,"timestamp":1738856181574500864,"ephemeral":false}]'
2025-02-06 15:36:21.691 DEBUG [tests.light_push.test_publish] Running test with content topic A very long string
2025-02-06 15:36:21.691 DEBUG [src.steps.light_push] Lightpushing message
2025-02-06 15:36:21.692 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56987/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx", "timestamp": 1738856181691609088}}'
2025-02-06 15:36:21.698 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-06 15:36:21.701 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:36:21.802 DEBUG [src.steps.light_push] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:21.802 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5884/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:21.805 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx","version":0,"timestamp":1738856181691609088,"ephemeral":false}]'
2025-02-06 15:36:21.807 DEBUG [src.steps.light_push] Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:21.807 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:21.810 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx","version":0,"timestamp":1738856181691609088,"ephemeral":false}]'
2025-02-06 15:36:21.811 DEBUG [tests.light_push.test_publish] Running test with content topic A JSON string
2025-02-06 15:36:21.812 DEBUG [src.steps.light_push] Lightpushing message
2025-02-06 15:36:21.812 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56987/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "{\"name\": \"John\", \"age\": 30, \"city\": \"New York\"}", "timestamp": 1738856181812264448}}'
2025-02-06 15:36:21.819 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-06 15:36:21.821 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:36:21.921 DEBUG [src.steps.light_push] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:21.922 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5884/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:21.925 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"{\\"name\\": \\"John\\", \\"age\\": 30, \\"city\\": \\"New York\\"}","version":0,"timestamp":1738856181812264448,"ephemeral":false}]'
2025-02-06 15:36:21.927 DEBUG [src.steps.light_push] Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:21.927 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:21.930 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"{\\"name\\": \\"John\\", \\"age\\": 30, \\"city\\": \\"New York\\"}","version":0,"timestamp":1738856181812264448,"ephemeral":false}]'
2025-02-06 15:36:21.931 DEBUG [tests.light_push.test_publish] Running test with content topic A Unix path
2025-02-06 15:36:21.931 DEBUG [src.steps.light_push] Lightpushing message
2025-02-06 15:36:21.932 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56987/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/usr/local/bin", "timestamp": 1738856181931767296}}'
2025-02-06 15:36:21.939 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-06 15:36:21.940 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:36:22.040 DEBUG [src.steps.light_push] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:22.041 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5884/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:22.044 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/usr/local/bin","version":0,"timestamp":1738856181931767296,"ephemeral":false}]'
2025-02-06 15:36:22.045 DEBUG [src.steps.light_push] Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:22.046 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:22.049 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/usr/local/bin","version":0,"timestamp":1738856181931767296,"ephemeral":false}]'
2025-02-06 15:36:22.051 DEBUG [tests.light_push.test_publish] Running test with content topic A Windows path
2025-02-06 15:36:22.051 DEBUG [src.steps.light_push] Lightpushing message
2025-02-06 15:36:22.052 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56987/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "C:\\Windows\\System32", "timestamp": 1738856182051783168}}'
2025-02-06 15:36:22.058 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-06 15:36:22.060 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:36:22.161 DEBUG [src.steps.light_push] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:22.161 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5884/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:22.164 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"C:\\\\Windows\\\\System32","version":0,"timestamp":1738856182051783168,"ephemeral":false}]'
2025-02-06 15:36:22.166 DEBUG [src.steps.light_push] Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:22.166 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:22.169 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"C:\\\\Windows\\\\System32","version":0,"timestamp":1738856182051783168,"ephemeral":false}]'
2025-02-06 15:36:22.171 DEBUG [tests.light_push.test_publish] Running test with content topic An SQL query
2025-02-06 15:36:22.171 DEBUG [src.steps.light_push] Lightpushing message
2025-02-06 15:36:22.171 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56987/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "SELECT * FROM users WHERE id = 1;", "timestamp": 1738856182171303424}}'
2025-02-06 15:36:22.179 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-06 15:36:22.180 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:36:22.281 DEBUG [src.steps.light_push] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:22.281 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5884/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:22.284 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"SELECT * FROM users WHERE id = 1;","version":0,"timestamp":1738856182171303424,"ephemeral":false}]'
2025-02-06 15:36:22.286 DEBUG [src.steps.light_push] Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:22.286 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:22.292 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"SELECT * FROM users WHERE id = 1;","version":0,"timestamp":1738856182171303424,"ephemeral":false}]'
2025-02-06 15:36:22.294 DEBUG [tests.light_push.test_publish] Running test with content topic JavaScript code snippet
2025-02-06 15:36:22.294 DEBUG [src.steps.light_push] Lightpushing message
2025-02-06 15:36:22.294 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56987/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "function test() { console.log('Hello World'); }", "timestamp": 1738856182294377472}}'
2025-02-06 15:36:22.301 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-06 15:36:22.303 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:36:22.404 DEBUG [src.steps.light_push] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:22.404 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5884/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:22.407 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"function test() { console.log(\'Hello World\'); }","version":0,"timestamp":1738856182294377472,"ephemeral":false}]'
2025-02-06 15:36:22.408 DEBUG [src.steps.light_push] Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:22.409 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:22.411 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"function test() { console.log(\'Hello World\'); }","version":0,"timestamp":1738856182294377472,"ephemeral":false}]'
2025-02-06 15:36:22.413 DEBUG [tests.light_push.test_publish] Running test with content topic A CSS snippet
2025-02-06 15:36:22.414 DEBUG [src.steps.light_push] Lightpushing message
2025-02-06 15:36:22.414 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56987/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "body { background-color: #fff; }", "timestamp": 1738856182413842432}}'
2025-02-06 15:36:22.425 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-06 15:36:22.426 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:36:22.526 DEBUG [src.steps.light_push] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:22.527 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5884/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:22.530 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"body { background-color: #fff; }","version":0,"timestamp":1738856182413842432,"ephemeral":false}]'
2025-02-06 15:36:22.531 DEBUG [src.steps.light_push] Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:22.532 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:22.534 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"body { background-color: #fff; }","version":0,"timestamp":1738856182413842432,"ephemeral":false}]'
2025-02-06 15:36:22.535 DEBUG [tests.light_push.test_publish] Running test with content topic A Python one-liner
2025-02-06 15:36:22.536 DEBUG [src.steps.light_push] Lightpushing message
2025-02-06 15:36:22.536 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56987/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "print('Hello World')", "timestamp": 1738856182535851776}}'
2025-02-06 15:36:22.542 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-06 15:36:22.544 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:36:22.645 DEBUG [src.steps.light_push] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:22.645 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5884/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:22.648 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"print(\'Hello World\')","version":0,"timestamp":1738856182535851776,"ephemeral":false}]'
2025-02-06 15:36:22.651 DEBUG [src.steps.light_push] Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:22.651 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:22.654 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"print(\'Hello World\')","version":0,"timestamp":1738856182535851776,"ephemeral":false}]'
2025-02-06 15:36:22.655 DEBUG [tests.light_push.test_publish] Running test with content topic An IP address
2025-02-06 15:36:22.656 DEBUG [src.steps.light_push] Lightpushing message
2025-02-06 15:36:22.656 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56987/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "192.168.1.1", "timestamp": 1738856182655969792}}'
2025-02-06 15:36:22.662 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-06 15:36:22.663 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:36:22.763 DEBUG [src.steps.light_push] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:22.764 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5884/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:22.767 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"192.168.1.1","version":0,"timestamp":1738856182655969792,"ephemeral":false}]'
2025-02-06 15:36:22.768 DEBUG [src.steps.light_push] Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:22.768 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:22.771 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"192.168.1.1","version":0,"timestamp":1738856182655969792,"ephemeral":false}]'
2025-02-06 15:36:22.773 DEBUG [tests.light_push.test_publish] Running test with content topic A domain name
2025-02-06 15:36:22.773 DEBUG [src.steps.light_push] Lightpushing message
2025-02-06 15:36:22.773 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56987/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "www.example.com", "timestamp": 1738856182773320960}}'
2025-02-06 15:36:22.780 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-06 15:36:22.780 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:36:22.881 DEBUG [src.steps.light_push] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:22.881 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5884/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:22.884 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"www.example.com","version":0,"timestamp":1738856182773320960,"ephemeral":false}]'
2025-02-06 15:36:22.886 DEBUG [src.steps.light_push] Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:22.886 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:22.888 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"www.example.com","version":0,"timestamp":1738856182773320960,"ephemeral":false}]'
2025-02-06 15:36:22.890 DEBUG [tests.light_push.test_publish] Running test with content topic A user agent string
2025-02-06 15:36:22.890 DEBUG [src.steps.light_push] Lightpushing message
2025-02-06 15:36:22.891 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56987/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "Mozilla/5.0 (Windows NT 10.0; Win64; x64)", "timestamp": 1738856182890688000}}'
2025-02-06 15:36:22.898 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-06 15:36:22.899 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:36:23.000 DEBUG [src.steps.light_push] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:23.000 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5884/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:23.003 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Mozilla/5.0 (Windows NT 10.0; Win64; x64)","version":0,"timestamp":1738856182890688000,"ephemeral":false}]'
2025-02-06 15:36:23.005 DEBUG [src.steps.light_push] Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:23.005 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:23.007 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"Mozilla/5.0 (Windows NT 10.0; Win64; x64)","version":0,"timestamp":1738856182890688000,"ephemeral":false}]'
2025-02-06 15:36:23.009 DEBUG [tests.light_push.test_publish] Running test with content topic A credit card number
2025-02-06 15:36:23.009 DEBUG [src.steps.light_push] Lightpushing message
2025-02-06 15:36:23.009 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56987/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "1234-5678-9012-3456", "timestamp": 1738856183009304576}}'
2025-02-06 15:36:23.018 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-06 15:36:23.019 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:36:23.119 DEBUG [src.steps.light_push] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:23.120 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5884/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:23.122 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"1234-5678-9012-3456","version":0,"timestamp":1738856183009304576,"ephemeral":false}]'
2025-02-06 15:36:23.124 DEBUG [src.steps.light_push] Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:23.124 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:23.127 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"1234-5678-9012-3456","version":0,"timestamp":1738856183009304576,"ephemeral":false}]'
2025-02-06 15:36:23.128 DEBUG [tests.light_push.test_publish] Running test with content topic A phone number
2025-02-06 15:36:23.129 DEBUG [src.steps.light_push] Lightpushing message
2025-02-06 15:36:23.129 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56987/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "+1234567890", "timestamp": 1738856183128891904}}'
2025-02-06 15:36:23.135 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-06 15:36:23.138 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:36:23.239 DEBUG [src.steps.light_push] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:23.239 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5884/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:23.242 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"+1234567890","version":0,"timestamp":1738856183128891904,"ephemeral":false}]'
2025-02-06 15:36:23.244 DEBUG [src.steps.light_push] Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:23.244 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:23.247 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"+1234567890","version":0,"timestamp":1738856183128891904,"ephemeral":false}]'
2025-02-06 15:36:23.248 DEBUG [tests.light_push.test_publish] Running test with content topic A UUID
2025-02-06 15:36:23.248 DEBUG [src.steps.light_push] Lightpushing message
2025-02-06 15:36:23.249 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56987/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "123e4567-e89b-12d3-a456-426614174000", "timestamp": 1738856183248666624}}'
2025-02-06 15:36:23.258 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-06 15:36:23.259 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:36:23.360 DEBUG [src.steps.light_push] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:23.360 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5884/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:23.363 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"123e4567-e89b-12d3-a456-426614174000","version":0,"timestamp":1738856183248666624,"ephemeral":false}]'
2025-02-06 15:36:23.364 DEBUG [src.steps.light_push] Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:23.365 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:23.368 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"123e4567-e89b-12d3-a456-426614174000","version":0,"timestamp":1738856183248666624,"ephemeral":false}]'
2025-02-06 15:36:23.369 DEBUG [tests.light_push.test_publish] Running test with content topic A hashtag
2025-02-06 15:36:23.370 DEBUG [src.steps.light_push] Lightpushing message
2025-02-06 15:36:23.370 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56987/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "#helloWorld", "timestamp": 1738856183369817088}}'
2025-02-06 15:36:23.378 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-06 15:36:23.378 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:36:23.479 DEBUG [src.steps.light_push] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:23.479 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5884/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:23.482 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"#helloWorld","version":0,"timestamp":1738856183369817088,"ephemeral":false}]'
2025-02-06 15:36:23.483 DEBUG [src.steps.light_push] Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:23.484 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:23.486 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"#helloWorld","version":0,"timestamp":1738856183369817088,"ephemeral":false}]'
2025-02-06 15:36:23.488 DEBUG [tests.light_push.test_publish] Running test with content topic A Twitter handle
2025-02-06 15:36:23.488 DEBUG [src.steps.light_push] Lightpushing message
2025-02-06 15:36:23.489 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56987/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "@username", "timestamp": 1738856183488699904}}'
2025-02-06 15:36:23.499 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-06 15:36:23.501 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:36:23.601 DEBUG [src.steps.light_push] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:23.601 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5884/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:23.604 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"@username","version":0,"timestamp":1738856183488699904,"ephemeral":false}]'
2025-02-06 15:36:23.606 DEBUG [src.steps.light_push] Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:23.606 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:23.609 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"@username","version":0,"timestamp":1738856183488699904,"ephemeral":false}]'
2025-02-06 15:36:23.610 DEBUG [tests.light_push.test_publish] Running test with content topic A password
2025-02-06 15:36:23.610 DEBUG [src.steps.light_push] Lightpushing message
2025-02-06 15:36:23.610 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56987/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "P@ssw0rd!", "timestamp": 1738856183610623232}}'
2025-02-06 15:36:23.621 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-06 15:36:23.622 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:36:23.722 DEBUG [src.steps.light_push] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:23.723 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5884/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:23.726 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"P@ssw0rd!","version":0,"timestamp":1738856183610623232,"ephemeral":false}]'
2025-02-06 15:36:23.727 DEBUG [src.steps.light_push] Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:23.727 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:23.730 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"P@ssw0rd!","version":0,"timestamp":1738856183610623232,"ephemeral":false}]'
2025-02-06 15:36:23.731 DEBUG [tests.light_push.test_publish] Running test with content topic A date in common format
2025-02-06 15:36:23.732 DEBUG [src.steps.light_push] Lightpushing message
2025-02-06 15:36:23.732 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56987/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "01/11/2023", "timestamp": 1738856183731773184}}'
2025-02-06 15:36:23.741 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-06 15:36:23.741 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:36:23.841 DEBUG [src.steps.light_push] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:23.842 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5884/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:23.844 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"01/11/2023","version":0,"timestamp":1738856183731773184,"ephemeral":false}]'
2025-02-06 15:36:23.846 DEBUG [src.steps.light_push] Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:23.846 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:23.854 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"01/11/2023","version":0,"timestamp":1738856183731773184,"ephemeral":false}]'
2025-02-06 15:36:23.856 DEBUG [tests.light_push.test_publish] Running test with content topic A time string
2025-02-06 15:36:23.856 DEBUG [src.steps.light_push] Lightpushing message
2025-02-06 15:36:23.857 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56987/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "12:00:00", "timestamp": 1738856183856622080}}'
2025-02-06 15:36:23.863 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-06 15:36:23.866 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:36:23.966 DEBUG [src.steps.light_push] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:23.966 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5884/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:23.969 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"12:00:00","version":0,"timestamp":1738856183856622080,"ephemeral":false}]'
2025-02-06 15:36:23.971 DEBUG [src.steps.light_push] Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:23.971 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:23.973 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"12:00:00","version":0,"timestamp":1738856183856622080,"ephemeral":false}]'
2025-02-06 15:36:23.974 DEBUG [tests.light_push.test_publish] Running test with content topic A mathematical equation
2025-02-06 15:36:23.975 DEBUG [src.steps.light_push] Lightpushing message
2025-02-06 15:36:23.975 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:56987/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "E = mc^2", "timestamp": 1738856183975236608}}'
2025-02-06 15:36:23.982 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-06 15:36:23.983 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-06 15:36:24.084 DEBUG [src.steps.light_push] Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:24.084 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5884/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:24.087 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"E = mc^2","version":0,"timestamp":1738856183975236608,"ephemeral":false}]'
2025-02-06 15:36:24.088 DEBUG [src.steps.light_push] Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
2025-02-06 15:36:24.088 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:18334/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:36:24.091 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"E = mc^2","version":0,"timestamp":1738856183975236608,"ephemeral":false}]'
2025-02-06 15:36:24.094 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-06 15:36:24.095 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-06 15:36:24.095 DEBUG [src.node.waku_node] Stopping container with id 42673ab26840
2025-02-06 15:36:24.695 DEBUG [src.node.waku_node] Container stopped.
2025-02-06 15:36:24.698 DEBUG [src.node.waku_node] Stopping container with id de106ac93361
2025-02-06 15:36:25.510 ERROR [src.node.docker_mananger] Max retries reached for container 42673ab26840. Exiting log stream.
2025-02-06 15:36:25.921 DEBUG [src.node.waku_node] Container stopped.
2025-02-06 15:36:25.922 DEBUG [src.node.waku_node] Stopping container with id ac58dc6ef96f
2025-02-06 15:36:26.474 DEBUG [src.node.waku_node] Container stopped.
2025-02-06 15:36:26.476 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-06 15:36:26.496 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-06 15:36:26.509 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-06 15:36:26.513 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
