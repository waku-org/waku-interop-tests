2025-02-06 15:39:12.676 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-06 15:39:12.676 DEBUG [tests.conftest] Running test: test_get_store_messages_with_different_pubsub_topics with id: 2025-02-06_15-39-12__168a1ac5-90a1-43bb-8cee-c8ca9abad270
2025-02-06 15:39:12.676 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-06 15:39:12.677 DEBUG [src.steps.store] Running fixture setup: store_setup
2025-02-06 15:39:12.677 DEBUG [src.steps.store] Running fixture setup: node_setup
2025-02-06 15:39:12.683 DEBUG [src.node.docker_mananger] Docker client initialized with image quay.io/wakuorg/nwaku-pr:3281
2025-02-06 15:39:12.683 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-06_15-39-12__168a1ac5-90a1-43bb-8cee-c8ca9abad270__quay.io_wakuorg_nwaku-pr:3281.log
2025-02-06 15:39:12.683 DEBUG [src.node.waku_node] Starting Node...
2025-02-06 15:39:12.683 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-06 15:39:12.685 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-06 15:39:12.685 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.96.62
2025-02-06 15:39:12.685 DEBUG [src.node.docker_mananger] Generated ports ['13951', '13952', '13953', '13954', '13955']
2025-02-06 15:39:12.685 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-06 15:39:12.685 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-06 15:39:12.685 DEBUG [src.node.waku_node] Using volumes []
2025-02-06 15:39:12.686 DEBUG [src.node.docker_mananger] docker run -i -t -p 13951:13951 -p 13952:13952 -p 13953:13953 -p 13954:13954 -p 13955:13955 quay.io/wakuorg/nwaku-pr:3281 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=13953 --rest-port=13951 --tcp-port=13952 --discv5-udp-port=13954 --rest-address=0.0.0.0 --nat=extip:172.18.96.62 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ab239a2a3cccb7bab28feb0ce30fd9eb3c951cab99ecbbef8bc66f1ffacd9eb6 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=13955 --metrics-logging=true --store=true --relay=true
2025-02-06 15:39:12.916 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.96.62 waku a37d8f08909dc0afebcc3a32ea1911a1001bdfaf577c3e1c451276b0856d5dfd
2025-02-06 15:39:12.941 ERROR [src.node.docker_mananger] Max retries reached for container 56f6ca0c7bd8. Exiting log stream.
2025-02-06 15:39:12.972 DEBUG [src.node.docker_mananger] Container started with ID a37d8f08909d. Setting up logs at ./log/docker/publishing_node1_2025-02-06_15-39-12__168a1ac5-90a1-43bb-8cee-c8ca9abad270__quay.io_wakuorg_nwaku-pr:3281.log
2025-02-06 15:39:12.973 DEBUG [src.node.waku_node] Started container from image quay.io/wakuorg/nwaku-pr:3281. REST: 13951
2025-02-06 15:39:12.973 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-06 15:39:13.479 ERROR [src.node.docker_mananger] Max retries reached for container 0287f9509d9a. Exiting log stream.
2025-02-06 15:39:13.973 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13951/health" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:39:13.976 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-06 15:39:13.976 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-06 15:39:13.977 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13951/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:39:13.979 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.96.62/tcp/13952/p2p/16Uiu2HAmU9XM2sgD7GtGGHGXQwx7w9vCVbSFSDDbfZT3yytUCCSL","/ip4/172.18.96.62/tcp/13953/ws/p2p/16Uiu2HAmU9XM2sgD7GtGGHGXQwx7w9vCVbSFSDDbfZT3yytUCCSL"],"enrUri":"enr:-L24QFeKa3CegCm0vpklMs-yB1_x_qOedrI2C8KpJ_ZxSCeqWb97uES0TbW5apwXqT5SEmYYRQsDI74TVYN3ur4R4soCgmlkgnY0gmlwhKwSYD6KbXVsdGlhZGRyc5YACASsEmA-BjaAAAoErBJgPgY2gd0DgnJzhQADAQAAiXNlY3AyNTZrMaED5i6dBOHEWIYfKQQFoNg4kkpKOHe5tPiUgNpYHEy4JZGDdGNwgjaAg3VkcII2goV3YWt1MgM"}'
2025-02-06 15:39:13.979 INFO [src.node.waku_node] REST service is ready !!
2025-02-06 15:39:13.985 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/go-waku:latest
2025-02-06 15:39:13.986 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-06_15-39-12__168a1ac5-90a1-43bb-8cee-c8ca9abad270__wakuorg_go-waku:latest.log
2025-02-06 15:39:13.986 DEBUG [src.node.waku_node] Starting Node...
2025-02-06 15:39:13.986 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-06 15:39:13.987 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-06 15:39:13.987 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.157.195
2025-02-06 15:39:13.987 DEBUG [src.node.docker_mananger] Generated ports ['16032', '16033', '16034', '16035', '16036']
2025-02-06 15:39:13.988 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-06 15:39:13.988 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-06 15:39:13.988 DEBUG [src.node.waku_node] Using volumes []
2025-02-06 15:39:13.988 DEBUG [src.node.docker_mananger] docker run -i -t -p 16032:16032 -p 16033:16033 -p 16034:16034 -p 16035:16035 -p 16036:16036 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=16034 --rest-port=16032 --tcp-port=16033 --discv5-udp-port=16035 --rest-address=0.0.0.0 --nat=extip:172.18.157.195 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cb06de141f972bbee2ba7f4a421ce11925f6ff3deb3a4c9df1e5abf791bcea8a --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-L24QFeKa3CegCm0vpklMs-yB1_x_qOedrI2C8KpJ_ZxSCeqWb97uES0TbW5apwXqT5SEmYYRQsDI74TVYN3ur4R4soCgmlkgnY0gmlwhKwSYD6KbXVsdGlhZGRyc5YACASsEmA-BjaAAAoErBJgPgY2gd0DgnJzhQADAQAAiXNlY3AyNTZrMaED5i6dBOHEWIYfKQQFoNg4kkpKOHe5tPiUgNpYHEy4JZGDdGNwgjaAg3VkcII2goV3YWt1MgM --storenode=/ip4/172.18.96.62/tcp/13952/p2p/16Uiu2HAmU9XM2sgD7GtGGHGXQwx7w9vCVbSFSDDbfZT3yytUCCSL --store=true --relay=true
2025-02-06 15:39:14.217 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.157.195 waku 2247c933e105e2e61c2eccf1858ac9b0e8b5e6014958f91bc90fe9fd892f4bdb
2025-02-06 15:39:14.271 DEBUG [src.node.docker_mananger] Container started with ID 2247c933e105. Setting up logs at ./log/docker/store_node1_2025-02-06_15-39-12__168a1ac5-90a1-43bb-8cee-c8ca9abad270__wakuorg_go-waku:latest.log
2025-02-06 15:39:14.272 DEBUG [src.node.waku_node] Started container from image wakuorg/go-waku:latest. REST: 16032
2025-02-06 15:39:14.272 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-06 15:39:15.272 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16032/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:39:15.275 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"enrUri":"enr:-J-4QM1QbaCQB_VIoPvc3vF0DdS85RvDjPyrJOrXpXjKftlVQhN7sgef1N2GPqP7gXCNOD0wAVfDKXOdNyDb5zBa-tuGAZTb6lHegmlkgnY0gmlwhKwRAAOCcnODAAMAiXNlY3AyNTZrMaEC7MfPZAR7vF5oRLBjP5U6QjQNhLCUJJDX6YVGb4IUOxKDdGNwgj6hg3VkcII-o4V3YWt1MgM","listenAddresses":["/ip4/127.0.0.1/tcp/16033/p2p/16Uiu2HAmBMxuifvfUnRPYfbwR2m11FqVhhTG9VGR7rCRziGjeeFj","/ip4/127.0.0.1/tcp/16034/ws/p2p/16Uiu2HAmBMxuifvfUnRPYfbwR2m11FqVhhTG9VGR7rCRziGjeeFj","/ip4/172.17.0.3/tcp/16033/p2p/16Uiu2HAmBMxuifvfUnRPYfbwR2m11FqVhhTG9VGR7rCRziGjeeFj","/ip4/172.17.0.3/tcp/16034/ws/p2p/16Uiu2HAmBMxuifvfUnRPYfbwR2m11FqVhhTG9VGR7rCRziGjeeFj"]}'
2025-02-06 15:39:15.276 INFO [src.node.waku_node] REST service is ready !!
2025-02-06 15:39:15.276 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:16032/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.96.62/tcp/13952/p2p/16Uiu2HAmU9XM2sgD7GtGGHGXQwx7w9vCVbSFSDDbfZT3yytUCCSL", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
2025-02-06 15:39:15.293 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'null'
2025-02-06 15:39:15.297 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:13951/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-06 15:39:15.303 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:39:15.303 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:16032/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-06 15:39:15.305 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-06 15:39:15.307 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:13951/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/2", "/waku/2/rs/3/3", "/waku/2/rs/3/4", "/waku/2/rs/3/5", "/waku/2/rs/3/6", "/waku/2/rs/3/7", "/waku/2/rs/3/8"]'
2025-02-06 15:39:15.321 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:39:15.321 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:16032/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/2", "/waku/2/rs/3/3", "/waku/2/rs/3/4", "/waku/2/rs/3/5", "/waku/2/rs/3/6", "/waku/2/rs/3/7", "/waku/2/rs/3/8"]'
2025-02-06 15:39:15.330 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'true'
2025-02-06 15:39:15.331 DEBUG [tests.store.test_get_messages] Running test with pubsub topic /waku/2/rs/3/0
2025-02-06 15:39:15.332 DEBUG [src.steps.store] Relaying message
2025-02-06 15:39:15.333 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:13951/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 15:39:15.354 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:39:15.354 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-06 15:39:15.555 DEBUG [src.steps.store] Checking that peer quay.io/wakuorg/nwaku-pr:3281 can find the stored messages
2025-02-06 15:39:15.555 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13951/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:39:15.559 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x3a76aa7956de15034f35bb133bce4e23a621338eb34b19ccc6d8cad37a5f163d"}]}'
2025-02-06 15:39:15.559 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-06 15:39:15.559 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16032/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:39:15.565 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"3a6388474fa130d73cb74a2a4860f9b3b9604b627fbccdd809b89699d325acb6","status_code":200,"status_desc":"OK","messages":[{"message_hash":"OnaqeVbeFQNPNbsTO85OI6YhM46zSxnMxtjK03pfFj0="}]}'
2025-02-06 15:39:15.565 DEBUG [tests.store.test_get_messages] Running test with pubsub topic /waku/2/rs/3/1
2025-02-06 15:39:15.566 DEBUG [src.steps.store] Relaying message
2025-02-06 15:39:15.566 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:13951/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 15:39:15.571 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:39:15.571 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-06 15:39:15.772 DEBUG [src.steps.store] Checking that peer quay.io/wakuorg/nwaku-pr:3281 can find the stored messages
2025-02-06 15:39:15.772 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13951/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F1&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:39:15.776 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x6dd9ff2e72cdb23acbf8808997f2030a988f59da90221e27fe8a4cfdd37a7ad3"}]}'
2025-02-06 15:39:15.776 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-06 15:39:15.776 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16032/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F1&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:39:17.954 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"49f3c33b488d54c1d8106a175fe49724784009f5f3f8d77a4f915e5f39d3bc2b","status_code":200,"status_desc":"OK","messages":[{"message_hash":"bdn/LnLNsjrL+ICJl/IDCpiPWdqQIh4n/opM/dN6etM="}]}'
2025-02-06 15:39:17.955 DEBUG [tests.store.test_get_messages] Running test with pubsub topic /waku/2/rs/3/2
2025-02-06 15:39:17.955 DEBUG [src.steps.store] Relaying message
2025-02-06 15:39:17.956 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:13951/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F2" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 15:39:17.961 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:39:17.961 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-06 15:39:18.162 DEBUG [src.steps.store] Checking that peer quay.io/wakuorg/nwaku-pr:3281 can find the stored messages
2025-02-06 15:39:18.162 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13951/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F2&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:39:18.165 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x76f1646d41de1aa3e348dfad0c8223dfb13cd5d21c14e892c3ffc3f5baaa96b6"}]}'
2025-02-06 15:39:18.166 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-06 15:39:18.166 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16032/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F2&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:39:18.171 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"c527c514376da3d6e442015c254ee6c8888964b397b818943e6c332524560fbe","status_code":200,"status_desc":"OK","messages":[{"message_hash":"dvFkbUHeGqPjSN+tDIIj37E81dIcFOiSw//D9bqqlrY="}]}'
2025-02-06 15:39:18.172 DEBUG [tests.store.test_get_messages] Running test with pubsub topic /waku/2/rs/3/3
2025-02-06 15:39:18.172 DEBUG [src.steps.store] Relaying message
2025-02-06 15:39:18.172 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:13951/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F3" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 15:39:18.177 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:39:18.177 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-06 15:39:18.378 DEBUG [src.steps.store] Checking that peer quay.io/wakuorg/nwaku-pr:3281 can find the stored messages
2025-02-06 15:39:18.378 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13951/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F3&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:39:18.381 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x00e0a5c7eb2465bb30dd8b49d2e4d4700c4858146e604dc0fe70ece9371e9620"}]}'
2025-02-06 15:39:18.382 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-06 15:39:18.382 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16032/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F3&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:39:18.386 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"f92be2d39b6a028bb8dab2434a8bdf86c562d9ca5d8822deb1b6a5524d1a32ab","status_code":200,"status_desc":"OK","messages":[{"message_hash":"AOClx+skZbsw3YtJ0uTUcAxIWBRuYE3A/nDs6TceliA="}]}'
2025-02-06 15:39:18.387 DEBUG [tests.store.test_get_messages] Running test with pubsub topic /waku/2/rs/3/4
2025-02-06 15:39:18.388 DEBUG [src.steps.store] Relaying message
2025-02-06 15:39:18.388 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:13951/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F4" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 15:39:18.394 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:39:18.394 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-06 15:39:18.595 DEBUG [src.steps.store] Checking that peer quay.io/wakuorg/nwaku-pr:3281 can find the stored messages
2025-02-06 15:39:18.595 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13951/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F4&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:39:18.598 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xb58701d8a3a9f12675b307415effcdcba55608b1d36baa9aea3c67ffff2903a3"}]}'
2025-02-06 15:39:18.598 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-06 15:39:18.598 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16032/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F4&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:39:18.602 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"db1f776d91111b9a59ab16694e2379ea5949f66b82580bfa7b0092d6c17055ee","status_code":200,"status_desc":"OK","messages":[{"message_hash":"tYcB2KOp8SZ1swdBXv/Ny6VWCLHTa6qa6jxn//8pA6M="}]}'
2025-02-06 15:39:18.603 DEBUG [tests.store.test_get_messages] Running test with pubsub topic /waku/2/rs/3/5
2025-02-06 15:39:18.603 DEBUG [src.steps.store] Relaying message
2025-02-06 15:39:18.604 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:13951/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F5" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 15:39:18.608 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:39:18.609 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-06 15:39:18.809 DEBUG [src.steps.store] Checking that peer quay.io/wakuorg/nwaku-pr:3281 can find the stored messages
2025-02-06 15:39:18.810 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13951/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F5&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:39:18.813 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x77d91e89ebeaceefe996ee48e1eaf292c456e03c300a5bd89c8144f8bd84de60"}]}'
2025-02-06 15:39:18.813 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-06 15:39:18.813 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16032/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F5&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:39:18.818 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"2faf7f4aed0ffc6c649e1ebf00e0ed24f528b6428df314d71be9414fd8d8aadb","status_code":200,"status_desc":"OK","messages":[{"message_hash":"d9keievqzu/plu5I4eryksRW4DwwClvYnIFE+L2E3mA="}]}'
2025-02-06 15:39:18.819 DEBUG [tests.store.test_get_messages] Running test with pubsub topic /waku/2/rs/3/6
2025-02-06 15:39:18.819 DEBUG [src.steps.store] Relaying message
2025-02-06 15:39:18.819 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:13951/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F6" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 15:39:18.827 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:39:18.827 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-06 15:39:19.028 DEBUG [src.steps.store] Checking that peer quay.io/wakuorg/nwaku-pr:3281 can find the stored messages
2025-02-06 15:39:19.028 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13951/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F6&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:39:19.031 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x5a62c76dbf36e7923e2d27b848bd6519dd5129302c162976b356f721e6c6096e"}]}'
2025-02-06 15:39:19.031 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-06 15:39:19.032 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16032/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F6&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:39:19.036 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"b8975eae1cbeb175a8d433bfae07fce97a9e494c6a7021e0f11272e0cdd14283","status_code":200,"status_desc":"OK","messages":[{"message_hash":"WmLHbb8255I+LSe4SL1lGd1RKTAsFil2s1b3IebGCW4="}]}'
2025-02-06 15:39:19.036 DEBUG [tests.store.test_get_messages] Running test with pubsub topic /waku/2/rs/3/7
2025-02-06 15:39:19.037 DEBUG [src.steps.store] Relaying message
2025-02-06 15:39:19.037 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:13951/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F7" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 15:39:19.042 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:39:19.043 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-06 15:39:19.243 DEBUG [src.steps.store] Checking that peer quay.io/wakuorg/nwaku-pr:3281 can find the stored messages
2025-02-06 15:39:19.244 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13951/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F7&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:39:19.247 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x020b0173d5ff9e97fdbaa5ef487cfc38af29f64b9a3877336b602492c7689a23"}]}'
2025-02-06 15:39:19.247 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-06 15:39:19.247 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16032/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F7&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:39:19.252 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"99d98ff1738a1bce1b9676bbab3776a61b73237495e9d7c6d174d13d88d23da9","status_code":200,"status_desc":"OK","messages":[{"message_hash":"AgsBc9X/npf9uqXvSHz8OK8p9kuaOHcza2AkksdomiM="}]}'
2025-02-06 15:39:19.252 DEBUG [tests.store.test_get_messages] Running test with pubsub topic /waku/2/rs/3/8
2025-02-06 15:39:19.253 DEBUG [src.steps.store] Relaying message
2025-02-06 15:39:19.253 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:13951/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F8" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-06 15:39:19.258 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-06 15:39:19.258 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-06 15:39:19.459 DEBUG [src.steps.store] Checking that peer quay.io/wakuorg/nwaku-pr:3281 can find the stored messages
2025-02-06 15:39:19.459 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:13951/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F8&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:39:19.463 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x0443edfc86f69c41600edac2cc4cc569c3db1369edc8e51b524314e90b56143e"}]}'
2025-02-06 15:39:19.463 DEBUG [src.steps.store] Checking that peer wakuorg/go-waku:latest can find the stored messages
2025-02-06 15:39:19.463 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:16032/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F8&contentTopics=%2Fmyapp%2F1%2Flatest%2Fproto&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-06 15:39:19.468 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"request_id":"bbc829b107e4a44cbd262fc8c5f14881ab22f1a8d91bacfb1a63ce2e0ac16e83","status_code":200,"status_desc":"OK","messages":[{"message_hash":"BEPt/Ib2nEFgDtrCzEzFacPbE2ntyOUbUkMU6QtWFD4="}]}'
2025-02-06 15:39:19.470 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-06 15:39:19.471 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-06 15:39:19.472 DEBUG [src.node.waku_node] Stopping container with id a37d8f08909d
2025-02-06 15:39:19.981 DEBUG [src.node.waku_node] Container stopped.
2025-02-06 15:39:19.981 DEBUG [src.node.waku_node] Stopping container with id 2247c933e105
2025-02-06 15:39:20.794 ERROR [src.node.docker_mananger] Max retries reached for container a37d8f08909d. Exiting log stream.
2025-02-06 15:39:30.501 DEBUG [src.node.waku_node] Container stopped.
2025-02-06 15:39:30.502 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-06 15:39:30.517 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-06 15:39:30.520 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
