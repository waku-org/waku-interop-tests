[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_multiple_lightpush_nodes with id: 2025-02-06_15-36-08__9ffb5ace-96df-4c89-8efb-9d413fd79936
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:28 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3281
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2025-02-06_15-36-08__9ffb5ace-96df-4c89-8efb-9d413fd79936__quay.io_wakuorg_nwaku-pr:3281.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.108.222
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['41646', '41647', '41648', '41649', '41650']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 41646:41646 -p 41647:41647 -p 41648:41648 -p 41649:41649 -p 41650:41650 quay.io/wakuorg/nwaku-pr:3281 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=41648 --rest-port=41646 --tcp-port=41647 --discv5-udp-port=41649 --rest-address=0.0.0.0 --nat=extip:172.18.108.222 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ce0bc628b3c7091e7cedad905f90a0c2168decaddc667a0da3ecab48cedffa9f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=41650 --metrics-logging=true --lightpush=true --relay=true
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 55587327a0e1. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.108.222 waku 68b4c7dc47b6a2f992e77ed61b1d59edf7f109c44bbfb75f17c984d5f14599cf
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 68b4c7dc47b6. Setting up logs at ./log/docker/receiving_node1_2025-02-06_15-36-08__9ffb5ace-96df-4c89-8efb-9d413fd79936__quay.io_wakuorg_nwaku-pr:3281.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3281. REST: 41646
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 07ca9a12a64a. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41646/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41646/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.108.222/tcp/41647/p2p/16Uiu2HAmT7UueeaxbXW5yMPaExAKBiuv5mYxewGFzbn115Fqx7jn","/ip4/172.18.108.222/tcp/41648/ws/p2p/16Uiu2HAmT7UueeaxbXW5yMPaExAKBiuv5mYxewGFzbn115Fqx7jn"],"enrUri":"enr:-L24QI-r9nLlpc7e9pejf7xgBXANQ86_1BaIFCOTP4Max_38SX79NrzUAO0zP6_6xnoe7lvp8yv9eUCX0Paz-03HWoUCgmlkgnY0gmlwhKwSbN6KbXVsdGlhZGRyc5YACASsEmzeBqKvAAoErBJs3gaisN0DgnJzhQADAQAAiXNlY3AyNTZrMaED1s0CMRL5i8E0s72RtuyduGbaWMhSbMRHVpO36OYdc-GDdGNwgqKvg3VkcIKisYV3YWt1Mgk"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3281
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2025-02-06_15-36-08__9ffb5ace-96df-4c89-8efb-9d413fd79936__quay.io_wakuorg_nwaku-pr:3281.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.33.34
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['41673', '41674', '41675', '41676', '41677']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 41673:41673 -p 41674:41674 -p 41675:41675 -p 41676:41676 -p 41677:41677 quay.io/wakuorg/nwaku-pr:3281 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=41675 --rest-port=41673 --tcp-port=41674 --discv5-udp-port=41676 --rest-address=0.0.0.0 --nat=extip:172.18.33.34 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f87a2f59a56f5caa9e75d71a28facba5c3f01cec1b3bc914bd10f66ff2f30e80 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=41677 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.33.34 waku be5eb370686d90d7aac176fb605d37a23e802533008ea1dced52eb428b0f4d1f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID be5eb370686d. Setting up logs at ./log/docker/receiving_node2_2025-02-06_15-36-08__9ffb5ace-96df-4c89-8efb-9d413fd79936__quay.io_wakuorg_nwaku-pr:3281.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3281. REST: 41673
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41673/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41673/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.33.34/tcp/41674/p2p/16Uiu2HAmTaTperKdBxmwuX9tJ3JYMD5KdjcYmRTXVyMQ7JxwVHcQ","/ip4/172.18.33.34/tcp/41675/ws/p2p/16Uiu2HAmTaTperKdBxmwuX9tJ3JYMD5KdjcYmRTXVyMQ7JxwVHcQ"],"enrUri":"enr:-L24QG7c8wIc6-WTHfDi9uZEPHM_snvjy2mjv56G0eG2N3MKT127CCxSFYA-VU48Bu1c7CFO2lQH2MVIcUITQ7t1bCECgmlkgnY0gmlwhKwSISKKbXVsdGlhZGRyc5YACASsEiEiBqLKAAoErBIhIgaiy90DgnJzhQADAQAAiXNlY3AyNTZrMaED3bZ2WQzHqcTmXRBI0eDHsa59ktAMZqx0MM_xrcCLJaWDdGNwgqLKg3VkcIKizIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41673/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.108.222/tcp/41647/p2p/16Uiu2HAmT7UueeaxbXW5yMPaExAKBiuv5mYxewGFzbn115Fqx7jn"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/go-waku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2025-02-06_15-36-08__9ffb5ace-96df-4c89-8efb-9d413fd79936__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.190.43
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['48620', '48621', '48622', '48623', '48624']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 48620:48620 -p 48621:48621 -p 48622:48622 -p 48623:48623 -p 48624:48624 wakuorg/go-waku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=DEBUG --rest-relay-cache-capacity=100 --websocket-port=48622 --rest-port=48620 --tcp-port=48621 --discv5-udp-port=48623 --rest-address=0.0.0.0 --nat=extip:172.18.190.43 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=32341fbcd6aeacc1425a647ec2fddbd544acbbb0d0e78bfcbbbc90ce916cac4c --min-relay-peers-to-publish=1 --rest-filter-cache-capacity=50 --peer-store-capacity=10 --discv5-bootstrap-node=enr:-L24QI-r9nLlpc7e9pejf7xgBXANQ86_1BaIFCOTP4Max_38SX79NrzUAO0zP6_6xnoe7lvp8yv9eUCX0Paz-03HWoUCgmlkgnY0gmlwhKwSbN6KbXVsdGlhZGRyc5YACASsEmzeBqKvAAoErBJs3gaisN0DgnJzhQADAQAAiXNlY3AyNTZrMaED1s0CMRL5i8E0s72RtuyduGbaWMhSbMRHVpO36OYdc-GDdGNwgqKvg3VkcIKisYV3YWt1Mgk --lightpushnode=/ip4/172.18.108.222/tcp/41647/p2p/16Uiu2HAmT7UueeaxbXW5yMPaExAKBiuv5mYxewGFzbn115Fqx7jn --lightpush=true --relay=false --pubsub-topic=/waku/2/rs/3/1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.190.43 waku 6aff16cf733abfa91bafe5bf7c24171121f2a476d4e9e8334fbb55a0d92cb8ac
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 6aff16cf733a. Setting up logs at ./log/docker/lightpush_node1_2025-02-06_15-36-08__9ffb5ace-96df-4c89-8efb-9d413fd79936__wakuorg_go-waku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/go-waku:latest. REST: 48620
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48620/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"enrUri":"enr:-KG4QJmNK7x1IIpO5NGBNPNV4nvdm4uvKyOoir4OzAgydhLPMU-V6WPGiqHxS3LNvVXzw4NR3JMqy1fTQVar4aJSt0SGAZTb54dngmlkgnY0gmlwhKwRAASCcnOFAAMBAAGJc2VjcDI1NmsxoQN2g2th_6bK96VbSa5llEWeme-kEHZYOtyk4cowZUxZp4N0Y3CCve2DdWRwgr3vhXdha3UyCA","listenAddresses":["/ip4/127.0.0.1/tcp/48621/p2p/16Uiu2HAmLdcgoLQciMVTStDRw5urGvTUKmdjAdRoM7mZmfZjQnxe","/ip4/127.0.0.1/tcp/48622/ws/p2p/16Uiu2HAmLdcgoLQciMVTStDRw5urGvTUKmdjAdRoM7mZmfZjQnxe","/ip4/172.17.0.4/tcp/48621/p2p/16Uiu2HAmLdcgoLQciMVTStDRw5urGvTUKmdjAdRoM7mZmfZjQnxe","/ip4/172.17.0.4/tcp/48622/ws/p2p/16Uiu2HAmLdcgoLQciMVTStDRw5urGvTUKmdjAdRoM7mZmfZjQnxe"]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48620/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.108.222/tcp/41647/p2p/16Uiu2HAmT7UueeaxbXW5yMPaExAKBiuv5mYxewGFzbn115Fqx7jn", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48620/admin/v1/peers" -H "Content-Type: application/json" -d '{"multiaddr": "/ip4/172.18.33.34/tcp/41674/p2p/16Uiu2HAmTaTperKdBxmwuX9tJ3JYMD5KdjcYmRTXVyMQ7JxwVHcQ", "protocols": ["/vac/waku/relay/2.0.0"], "shards": [0, 1, 2, 3, 4, 5, 6, 7, 8]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'null'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3281
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node2_2025-02-06_15-36-08__9ffb5ace-96df-4c89-8efb-9d413fd79936__quay.io_wakuorg_nwaku-pr:3281.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.69.213
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['63457', '63458', '63459', '63460', '63461']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 63457:63457 -p 63458:63458 -p 63459:63459 -p 63460:63460 -p 63461:63461 quay.io/wakuorg/nwaku-pr:3281 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=63459 --rest-port=63457 --tcp-port=63458 --discv5-udp-port=63460 --rest-address=0.0.0.0 --nat=extip:172.18.69.213 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=37ef4bd0cdae0e39b3c9ae0400940dac37f40e9eadac884018ec1fd4c0ceecf4 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=63461 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QI-r9nLlpc7e9pejf7xgBXANQ86_1BaIFCOTP4Max_38SX79NrzUAO0zP6_6xnoe7lvp8yv9eUCX0Paz-03HWoUCgmlkgnY0gmlwhKwSbN6KbXVsdGlhZGRyc5YACASsEmzeBqKvAAoErBJs3gaisN0DgnJzhQADAQAAiXNlY3AyNTZrMaED1s0CMRL5i8E0s72RtuyduGbaWMhSbMRHVpO36OYdc-GDdGNwgqKvg3VkcIKisYV3YWt1Mgk --lightpushnode=/ip4/172.18.108.222/tcp/41647/p2p/16Uiu2HAmT7UueeaxbXW5yMPaExAKBiuv5mYxewGFzbn115Fqx7jn --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.69.213 waku f90321e209257d3a0c69cab1769c4ec50224605496cd029a74e84a964d0a9116
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID f90321e20925. Setting up logs at ./log/docker/lightpush_node2_2025-02-06_15-36-08__9ffb5ace-96df-4c89-8efb-9d413fd79936__quay.io_wakuorg_nwaku-pr:3281.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3281. REST: 63457
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63457/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63457/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.69.213/tcp/63458/p2p/16Uiu2HAmBWoazzULaKQ3pWfAebwJvvfdyxZ61hXbWsBauxHN2UEU","/ip4/172.18.69.213/tcp/63459/ws/p2p/16Uiu2HAmBWoazzULaKQ3pWfAebwJvvfdyxZ61hXbWsBauxHN2UEU"],"enrUri":"enr:-L24QMadxMBu_o5bim59aez16mXQzQrmbKwXgmst-xW9pLu0fFX6UQ9bvFbMNb_ok4TlBILxawagnMc7UbcoL1CCZiMCgmlkgnY0gmlwhKwSRdWKbXVsdGlhZGRyc5YACASsEkXVBvfiAAoErBJF1Qb3490DgnJzhQADAQAAiXNlY3AyNTZrMaEC7wt_A8qYIHGdOEk0CvY4qJLt_4L4K2sDnhpOLEQfuxGDdGNwgvfig3VkcIL35IV3YWt1Mgg"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63457/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.108.222/tcp/41647/p2p/16Uiu2HAmT7UueeaxbXW5yMPaExAKBiuv5mYxewGFzbn115Fqx7jn"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63457/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.33.34/tcp/41674/p2p/16Uiu2HAmTaTperKdBxmwuX9tJ3JYMD5KdjcYmRTXVyMQ7JxwVHcQ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3281
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node3_2025-02-06_15-36-08__9ffb5ace-96df-4c89-8efb-9d413fd79936__quay.io_wakuorg_nwaku-pr:3281.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.12.125
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['13076', '13077', '13078', '13079', '13080']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 13076:13076 -p 13077:13077 -p 13078:13078 -p 13079:13079 -p 13080:13080 quay.io/wakuorg/nwaku-pr:3281 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=13078 --rest-port=13076 --tcp-port=13077 --discv5-udp-port=13079 --rest-address=0.0.0.0 --nat=extip:172.18.12.125 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6cb351baac1df140ac4efddcdfd0a5f5080fadd9d58e4c54ec5acbb4c8b1d84e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=13080 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QI-r9nLlpc7e9pejf7xgBXANQ86_1BaIFCOTP4Max_38SX79NrzUAO0zP6_6xnoe7lvp8yv9eUCX0Paz-03HWoUCgmlkgnY0gmlwhKwSbN6KbXVsdGlhZGRyc5YACASsEmzeBqKvAAoErBJs3gaisN0DgnJzhQADAQAAiXNlY3AyNTZrMaED1s0CMRL5i8E0s72RtuyduGbaWMhSbMRHVpO36OYdc-GDdGNwgqKvg3VkcIKisYV3YWt1Mgk --lightpushnode=/ip4/172.18.108.222/tcp/41647/p2p/16Uiu2HAmT7UueeaxbXW5yMPaExAKBiuv5mYxewGFzbn115Fqx7jn --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.12.125 waku d8508c2cecbf5b54add273b865f7f8ead55f7649b1a5415b5de9a896e25096e3
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID d8508c2cecbf. Setting up logs at ./log/docker/lightpush_node3_2025-02-06_15-36-08__9ffb5ace-96df-4c89-8efb-9d413fd79936__quay.io_wakuorg_nwaku-pr:3281.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3281. REST: 13076
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13076/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13076/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.12.125/tcp/13077/p2p/16Uiu2HAmLRZ6sjWDbE5wuf5wouVb6cWCP1Z3wgRtjvRoAmpQo8GD","/ip4/172.18.12.125/tcp/13078/ws/p2p/16Uiu2HAmLRZ6sjWDbE5wuf5wouVb6cWCP1Z3wgRtjvRoAmpQo8GD"],"enrUri":"enr:-L24QAlaZvMqE-4zYDtH7YfJhphTa41Ce9Vqf3Vydq-OyXv1aSekVepJreEqM_5UVfihzMJiSCP3hcCZ2qMGlBKlvcACgmlkgnY0gmlwhKwSDH2KbXVsdGlhZGRyc5YACASsEgx9BjMVAAoErBIMfQYzFt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDc2xlc68cD6qN48qGmte0621mnI0ABphDuLSxoz32Gu6DdGNwgjMVg3VkcIIzF4V3YWt1Mgg"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13076/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.108.222/tcp/41647/p2p/16Uiu2HAmT7UueeaxbXW5yMPaExAKBiuv5mYxewGFzbn115Fqx7jn"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13076/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.33.34/tcp/41674/p2p/16Uiu2HAmTaTperKdBxmwuX9tJ3JYMD5KdjcYmRTXVyMQ7JxwVHcQ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41646/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41673/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.light_push:light_push.py:121 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48620/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1738856175124534528}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'true'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:125 Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41646/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738856175124534528,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:125 Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41673/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738856175124534528,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:121 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63457/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1738856175242746112}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:125 Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41646/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738856175242746112,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:125 Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41673/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738856175242746112,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:121 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13076/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1738856175361312512}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:125 Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41646/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738856175361312512,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:125 Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3281 can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41673/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1738856175361312512,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 68b4c7dc47b6
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id be5eb370686d
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 68b4c7dc47b6. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 6aff16cf733a
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id f90321e20925
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container be5eb370686d. Exiting log stream.
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 6aff16cf733a. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id d8508c2cecbf
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container f90321e20925. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.