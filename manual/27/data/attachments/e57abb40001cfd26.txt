[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2025-01-30_13-39-56__93ed746a-58ad-4803-96d2-f1a6df7120d7
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3234
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-01-30_13-39-56__93ed746a-58ad-4803-96d2-f1a6df7120d7__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.19.94
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['4844', '4845', '4846', '4847', '4848']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 4844:4844 -p 4845:4845 -p 4846:4846 -p 4847:4847 -p 4848:4848 quay.io/wakuorg/nwaku-pr:3234 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=4846 --rest-port=4844 --tcp-port=4845 --discv5-udp-port=4847 --rest-address=0.0.0.0 --nat=extip:172.18.19.94 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1aa23a32d56ba4fdd6cd0074efabe8cf5fbf9d54b6fbdcbdb5b6fc6559a6aca8 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=4848 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.19.94 waku 5a067ba98d91deaa9256aea39592b94f6863629cea7510001c02c24576ef4ea7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 5a067ba98d91. Setting up logs at ./log/docker/node1_2025-01-30_13-39-56__93ed746a-58ad-4803-96d2-f1a6df7120d7__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3234. REST: 4844
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 67507d862c7d. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4844/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4844/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.19.94/tcp/4845/p2p/16Uiu2HAmU5dVfPkDNsViWgG8GhZRPoUazBndwbNFmasbtBwbDrPV","/ip4/172.18.19.94/tcp/4846/ws/p2p/16Uiu2HAmU5dVfPkDNsViWgG8GhZRPoUazBndwbNFmasbtBwbDrPV"],"enrUri":"enr:-L24QCUFSo5k0nXJB8W-dYeOdyAa-qUGtsbGABl6udzwa1f-A14DSL_2bSmTSH6ovgGIHcm7-GglMUJyLmwcFeGLBi8CgmlkgnY0gmlwhKwSE16KbXVsdGlhZGRyc5YACASsEhNeBhLtAAoErBITXgYS7t0DgnJzhQADAQAAiXNlY3AyNTZrMaED5S8-GWB1pS-xGq2WHvzKkOy278rOZ_D9KqkrmeUovryDdGNwghLtg3VkcIIS74V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3234
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-01-30_13-39-56__93ed746a-58ad-4803-96d2-f1a6df7120d7__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.147.216
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['57112', '57113', '57114', '57115', '57116']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 57112:57112 -p 57113:57113 -p 57114:57114 -p 57115:57115 -p 57116:57116 quay.io/wakuorg/nwaku-pr:3234 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=57114 --rest-port=57112 --tcp-port=57113 --discv5-udp-port=57115 --rest-address=0.0.0.0 --nat=extip:172.18.147.216 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ea8be4b8b5eeeb556a3eb14c4335ddc1de8e53f01f2c8ec2e0ec5c7f5f02d0fa --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=57116 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QCUFSo5k0nXJB8W-dYeOdyAa-qUGtsbGABl6udzwa1f-A14DSL_2bSmTSH6ovgGIHcm7-GglMUJyLmwcFeGLBi8CgmlkgnY0gmlwhKwSE16KbXVsdGlhZGRyc5YACASsEhNeBhLtAAoErBITXgYS7t0DgnJzhQADAQAAiXNlY3AyNTZrMaED5S8-GWB1pS-xGq2WHvzKkOy278rOZ_D9KqkrmeUovryDdGNwghLtg3VkcIIS74V3YWt1MgE
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.178.22
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['50064', '50065', '50066', '50067', '50068']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 50064:50064 -p 50065:50065 -p 50066:50066 -p 50067:50067 -p 50068:50068 quay.io/wakuorg/nwaku-pr:3234 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=50066 --rest-port=50064 --tcp-port=50065 --discv5-udp-port=50067 --rest-address=0.0.0.0 --nat=extip:172.18.178.22 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3eeff9dcb9ccace4d362365ec218d75dd7218b9a6cfb5aff7caad6bb1a21fd09 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=50068 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QCUFSo5k0nXJB8W-dYeOdyAa-qUGtsbGABl6udzwa1f-A14DSL_2bSmTSH6ovgGIHcm7-GglMUJyLmwcFeGLBi8CgmlkgnY0gmlwhKwSE16KbXVsdGlhZGRyc5YACASsEhNeBhLtAAoErBITXgYS7t0DgnJzhQADAQAAiXNlY3AyNTZrMaED5S8-GWB1pS-xGq2WHvzKkOy278rOZ_D9KqkrmeUovryDdGNwghLtg3VkcIIS74V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.178.22 waku 9305bde1221c8fda8c2c19a4ee0f57c83e1513de20e9e4b1366c69fa9053cdaa
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 9305bde1221c. Setting up logs at ./log/docker/node2_2025-01-30_13-39-56__93ed746a-58ad-4803-96d2-f1a6df7120d7__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3234. REST: 50064
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50064/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50064/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.178.22/tcp/50065/p2p/16Uiu2HAmA3gcb3fmmjNGy2YYuLQbGYCH6P5CYzLJ3jgoD85p5tz3","/ip4/172.18.178.22/tcp/50066/ws/p2p/16Uiu2HAmA3gcb3fmmjNGy2YYuLQbGYCH6P5CYzLJ3jgoD85p5tz3"],"enrUri":"enr:-L24QNH7jGkRiAYzdw4N7qbHvN1I1DapdsR1bOdAlH0DPni1WJ3KSmtRS0lT5N-2lk9LwkiNh4irCgELH9f-SoeJFuoCgmlkgnY0gmlwhKwSshaKbXVsdGlhZGRyc5YACASsErIWBsORAAoErBKyFgbDkt0DgnJzhQADAQAAiXNlY3AyNTZrMaEC2T0-TzrCtCMDaHrBkXHCVZ0kLfKKOi0RNZEf4gaspeiDdGNwgsORg3VkcILDk4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50064/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.19.94/tcp/4845/p2p/16Uiu2HAmU5dVfPkDNsViWgG8GhZRPoUazBndwbNFmasbtBwbDrPV"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3234
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2025-01-30_13-39-56__93ed746a-58ad-4803-96d2-f1a6df7120d7__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.232.2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['28775', '28776', '28777', '28778', '28779']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 28775:28775 -p 28776:28776 -p 28777:28777 -p 28778:28778 -p 28779:28779 quay.io/wakuorg/nwaku-pr:3234 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=28777 --rest-port=28775 --tcp-port=28776 --discv5-udp-port=28778 --rest-address=0.0.0.0 --nat=extip:172.18.232.2 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1b4d83bafb1a3ed8e6b9f74ececcf8c35a6beffa78faaffc93bdad4cdf4f0b00 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=28779 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QCUFSo5k0nXJB8W-dYeOdyAa-qUGtsbGABl6udzwa1f-A14DSL_2bSmTSH6ovgGIHcm7-GglMUJyLmwcFeGLBi8CgmlkgnY0gmlwhKwSE16KbXVsdGlhZGRyc5YACASsEhNeBhLtAAoErBITXgYS7t0DgnJzhQADAQAAiXNlY3AyNTZrMaED5S8-GWB1pS-xGq2WHvzKkOy278rOZ_D9KqkrmeUovryDdGNwghLtg3VkcIIS74V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.232.2 waku d7bb3bdaf760f1914d0e61eca8ae4e24926603306edd66bf7926b2a1c29850b4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID d7bb3bdaf760. Setting up logs at ./log/docker/node3_2025-01-30_13-39-56__93ed746a-58ad-4803-96d2-f1a6df7120d7__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3234. REST: 28775
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28775/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28775/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.232.2/tcp/28776/p2p/16Uiu2HAm2eTNLRoafh2T6xVzZwtQTMLQrDdooBTA9sqhD2CPqvrE","/ip4/172.18.232.2/tcp/28777/ws/p2p/16Uiu2HAm2eTNLRoafh2T6xVzZwtQTMLQrDdooBTA9sqhD2CPqvrE"],"enrUri":"enr:-L24QKNaj2A--OFmyTkcqFbUfLDraYoKa4oM4-Ohwy8uTKDISXuFCQof8QqfnTZAHinMOmXjLk1K-oIZEvX3i5ArNYkCgmlkgnY0gmlwhKwS6AKKbXVsdGlhZGRyc5YACASsEugCBnBoAAoErBLoAgZwad0DgnJzhQADAQAAiXNlY3AyNTZrMaECa0gZbKub4mSTZ8mdVMYfDAzxESjAUD6qObc-5JCinJuDdGNwgnBog3VkcIJwaoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28775/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.19.94/tcp/4845/p2p/16Uiu2HAmU5dVfPkDNsViWgG8GhZRPoUazBndwbNFmasbtBwbDrPV"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3234
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2025-01-30_13-39-56__93ed746a-58ad-4803-96d2-f1a6df7120d7__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.27.73
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['20452', '20453', '20454', '20455', '20456']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 20452:20452 -p 20453:20453 -p 20454:20454 -p 20455:20455 -p 20456:20456 quay.io/wakuorg/nwaku-pr:3234 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=20454 --rest-port=20452 --tcp-port=20453 --discv5-udp-port=20455 --rest-address=0.0.0.0 --nat=extip:172.18.27.73 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=df85e76f8e63fcae0bfeefd3769a8a6c52aab3f1fcb72bacafd6bdcfbd8c74bf --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=20456 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QCUFSo5k0nXJB8W-dYeOdyAa-qUGtsbGABl6udzwa1f-A14DSL_2bSmTSH6ovgGIHcm7-GglMUJyLmwcFeGLBi8CgmlkgnY0gmlwhKwSE16KbXVsdGlhZGRyc5YACASsEhNeBhLtAAoErBITXgYS7t0DgnJzhQADAQAAiXNlY3AyNTZrMaED5S8-GWB1pS-xGq2WHvzKkOy278rOZ_D9KqkrmeUovryDdGNwghLtg3VkcIIS74V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.27.73 waku 2a2f0ad3c56668511a437564ddda5f3fed800f8feb6d95f085775e4660764b61
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 2a2f0ad3c566. Setting up logs at ./log/docker/node4_2025-01-30_13-39-56__93ed746a-58ad-4803-96d2-f1a6df7120d7__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3234. REST: 20452
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20452/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20452/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.27.73/tcp/20453/p2p/16Uiu2HAmNS4hZmUF5o7MnwerFY7mocL3ZYnDXko2DvHctttrDBKN","/ip4/172.18.27.73/tcp/20454/ws/p2p/16Uiu2HAmNS4hZmUF5o7MnwerFY7mocL3ZYnDXko2DvHctttrDBKN"],"enrUri":"enr:-L24QOcfUmQ68djTTaRWQeAA8Ci3EE5XjNJCdSGV-NKE6m8ZRqeD2oM6XdThQCx_zDDfOyZUvX2tT4eJ1eHRrS3MTs4CgmlkgnY0gmlwhKwSG0mKbXVsdGlhZGRyc5YACASsEhtJBk_lAAoErBIbSQZP5t0DgnJzhQADAQAAiXNlY3AyNTZrMaEDkUU8oUor4tX9twIjW1O9X_0RNMdRo0o8zLLX2cZ-raGDdGNwgk_lg3VkcIJP54V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20452/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.19.94/tcp/4845/p2p/16Uiu2HAmU5dVfPkDNsViWgG8GhZRPoUazBndwbNFmasbtBwbDrPV"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3234
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2025-01-30_13-39-56__93ed746a-58ad-4803-96d2-f1a6df7120d7__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.154.249
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['62562', '62563', '62564', '62565', '62566']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 62562:62562 -p 62563:62563 -p 62564:62564 -p 62565:62565 -p 62566:62566 quay.io/wakuorg/nwaku-pr:3234 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=62564 --rest-port=62562 --tcp-port=62563 --discv5-udp-port=62565 --rest-address=0.0.0.0 --nat=extip:172.18.154.249 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=4ed72b022ae179dfcdeec0e39edfab9becd90ab868d3b42084228c581cc12eab --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=62566 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QCUFSo5k0nXJB8W-dYeOdyAa-qUGtsbGABl6udzwa1f-A14DSL_2bSmTSH6ovgGIHcm7-GglMUJyLmwcFeGLBi8CgmlkgnY0gmlwhKwSE16KbXVsdGlhZGRyc5YACASsEhNeBhLtAAoErBITXgYS7t0DgnJzhQADAQAAiXNlY3AyNTZrMaED5S8-GWB1pS-xGq2WHvzKkOy278rOZ_D9KqkrmeUovryDdGNwghLtg3VkcIIS74V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.154.249 waku f2931dc4f7a99ec2510c7304706d3778cc197fd60f47ad83d60b580626f4fcc6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID f2931dc4f7a9. Setting up logs at ./log/docker/node5_2025-01-30_13-39-56__93ed746a-58ad-4803-96d2-f1a6df7120d7__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3234. REST: 62562
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62562/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62562/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.154.249/tcp/62563/p2p/16Uiu2HAm6y8Vdr4M11XyDvV5vkmayJdNXXbtF74zr376iPMn4ADt","/ip4/172.18.154.249/tcp/62564/ws/p2p/16Uiu2HAm6y8Vdr4M11XyDvV5vkmayJdNXXbtF74zr376iPMn4ADt"],"enrUri":"enr:-L24QBhxTzTRmYl3xQM1hQ7EyKjdQEkNAbkBh8m7RCxX2gMgNXpG6XryOIjkROZsTjTa_0W1_7GF7GOGXV5qmPQ6VgcCgmlkgnY0gmlwhKwSmvmKbXVsdGlhZGRyc5YACASsEpr5BvRjAAoErBKa-Qb0ZN0DgnJzhQADAQAAiXNlY3AyNTZrMaECq3-KlW1i2uMkk3lSQFDQty-uyzjYryK3GreL1HB_fPeDdGNwgvRjg3VkcIL0ZYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62562/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.19.94/tcp/4845/p2p/16Uiu2HAmU5dVfPkDNsViWgG8GhZRPoUazBndwbNFmasbtBwbDrPV"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4844/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50064/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28775/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20452/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62562/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4844/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3234 can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4844/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738244403042343424,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3234 can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50064/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738244403042343424,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:quay.io/wakuorg/nwaku-pr:3234 can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28775/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738244403042343424,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:quay.io/wakuorg/nwaku-pr:3234 can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20452/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738244403042343424,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:quay.io/wakuorg/nwaku-pr:3234 can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62562/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738244403042343424,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62562/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3234 can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4844/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738244403176431616,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3234 can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50064/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738244403176431616,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:quay.io/wakuorg/nwaku-pr:3234 can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28775/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738244403176431616,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:quay.io/wakuorg/nwaku-pr:3234 can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20452/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738244403176431616,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:quay.io/wakuorg/nwaku-pr:3234 can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62562/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738244403176431616,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 5a067ba98d91
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 9305bde1221c
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 5a067ba98d91. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id d7bb3bdaf760
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 9305bde1221c. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 2a2f0ad3c566
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container d7bb3bdaf760. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id f2931dc4f7a9
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 2a2f0ad3c566. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.