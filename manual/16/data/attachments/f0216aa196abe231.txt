[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_publish_on_not_subscribed_content_topic_works with id: 2025-01-17_10-13-56__bed15486-60ed-410f-b0ad-3b76546b9ba8
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.sharding:sharding.py:29 Running fixture setup: sharding_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3244
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-01-17_10-13-56__bed15486-60ed-410f-b0ad-3b76546b9ba8__quay.io_wakuorg_nwaku-pr:3244.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.75.213
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['7597', '7598', '7599', '7600', '7601']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 7597:7597 -p 7598:7598 -p 7599:7599 -p 7600:7600 -p 7601:7601 quay.io/wakuorg/nwaku-pr:3244 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=7599 --rest-port=7597 --tcp-port=7598 --discv5-udp-port=7600 --rest-address=0.0.0.0 --nat=extip:172.18.75.213 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=e6d99efdfe0faf7290cfef5fbab2129e6cdd0d030ecc59b0df7cb4c4f7270d22 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=7601 --metrics-logging=true --relay=true --filter=true --content-topic=/myapp/1/latest/proto
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.75.213 waku ef6793ef0f5f18cf3f9cc1bfb35f0d4d41a32fc69d9097abce51c106d2de7b94
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID ef6793ef0f5f. Setting up logs at ./log/docker/node1_2025-01-17_10-13-56__bed15486-60ed-410f-b0ad-3b76546b9ba8__quay.io_wakuorg_nwaku-pr:3244.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3244. REST: 7597
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 7921759b0cf0. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7597/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7597/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.75.213/tcp/7598/p2p/16Uiu2HAm48jeuBsX4nWCSZDR7KXR42AJ3JM6cFGML6E6FmTruYjm","/ip4/172.18.75.213/tcp/7599/ws/p2p/16Uiu2HAm48jeuBsX4nWCSZDR7KXR42AJ3JM6cFGML6E6FmTruYjm"],"enrUri":"enr:-L24QOz_ejxQpp0S7IU-nYo1ndndLopcLvookEcjmmNUnilfBUqjqMlN9-3RLorBAfgF3Q_yhr7CH2KZ7vbQmvCUp70CgmlkgnY0gmlwhKwSS9WKbXVsdGlhZGRyc5YACASsEkvVBh2uAAoErBJL1QYdr90DgnJzhQACAQAAiXNlY3AyNTZrMaECgWJ2jIpPqPiLxGq2kRoMtLs7bTK0lqatr2buyAZADHyDdGNwgh2ug3VkcIIdsIV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3244
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-01-17_10-13-56__bed15486-60ed-410f-b0ad-3b76546b9ba8__quay.io_wakuorg_nwaku-pr:3244.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.203.134
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['50073', '50074', '50075', '50076', '50077']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 50073:50073 -p 50074:50074 -p 50075:50075 -p 50076:50076 -p 50077:50077 quay.io/wakuorg/nwaku-pr:3244 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=50075 --rest-port=50073 --tcp-port=50074 --discv5-udp-port=50076 --rest-address=0.0.0.0 --nat=extip:172.18.203.134 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=04b2e1debc8eaa2fef5fb71fe27db9b7d014c160a565f81ecf3cce632167fbee --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=50077 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QOz_ejxQpp0S7IU-nYo1ndndLopcLvookEcjmmNUnilfBUqjqMlN9-3RLorBAfgF3Q_yhr7CH2KZ7vbQmvCUp70CgmlkgnY0gmlwhKwSS9WKbXVsdGlhZGRyc5YACASsEkvVBh2uAAoErBJL1QYdr90DgnJzhQACAQAAiXNlY3AyNTZrMaECgWJ2jIpPqPiLxGq2kRoMtLs7bTK0lqatr2buyAZADHyDdGNwgh2ug3VkcIIdsIV3YWt1MgU --content-topic=/myapp/1/latest/proto
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.203.134 waku 544bbe8829477b07ae2ee29021424c5b1328b4aad3593a72f53e1d0783464fb9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 544bbe882947. Setting up logs at ./log/docker/node2_2025-01-17_10-13-56__bed15486-60ed-410f-b0ad-3b76546b9ba8__quay.io_wakuorg_nwaku-pr:3244.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3244. REST: 50073
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50073/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50073/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.203.134/tcp/50074/p2p/16Uiu2HAmE61r72S4onvC3sV9A58xFj7hY77fT6UAk2j3LX2jKVhY","/ip4/172.18.203.134/tcp/50075/ws/p2p/16Uiu2HAmE61r72S4onvC3sV9A58xFj7hY77fT6UAk2j3LX2jKVhY"],"enrUri":"enr:-L24QHTVMst7Nqyeg9tnkeS_oOohPeyHGB3-TdusZPRWyzlPFfR7zys0W9nbM8xsoLgrBqCNDTtxNaj1kfhNhyO9XSACgmlkgnY0gmlwhKwSy4aKbXVsdGlhZGRyc5YACASsEsuGBsOaAAoErBLLhgbDm90DgnJzhQACAQAAiXNlY3AyNTZrMaEDFUTmTBW1768pBeft6jupa-b5l3WQXP2rIfPfOXHOHy-DdGNwgsOag3VkcILDnIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50073/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.75.213/tcp/7598/p2p/16Uiu2HAm48jeuBsX4nWCSZDR7KXR42AJ3JM6cFGML6E6FmTruYjm"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7597/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50073/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7597/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50073/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id ef6793ef0f5f
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 544bbe882947
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container ef6793ef0f5f. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.