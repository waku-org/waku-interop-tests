[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_publish_without_subscribing_via_api_works with id: 2024-09-13_09-57-47__1284a8aa-d140-47e5-bd5f-2d06b0b5c5be
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.sharding:sharding.py:29 Running fixture setup: sharding_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3036
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-09-13_09-57-47__1284a8aa-d140-47e5-bd5f-2d06b0b5c5be__quay.io_wakuorg_nwaku-pr:3036.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.88.196
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['59454', '59455', '59456', '59457', '59458']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 59454:59454 -p 59455:59455 -p 59456:59456 -p 59457:59457 -p 59458:59458 quay.io/wakuorg/nwaku-pr:3036 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=59456 --rest-port=59454 --tcp-port=59455 --discv5-udp-port=59457 --rest-address=0.0.0.0 --nat=extip:172.18.88.196 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=dd3fbf7daa87a6a45d87bc43e965aab9f87fbfca8387f854f8fa92dbcda086ec --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=59458 --metrics-logging=true --relay=true --filter=true --content-topic=/myapp/1/latest/proto
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.63.129
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['25193', '25194', '25195', '25196', '25197']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 25193:25193 -p 25194:25194 -p 25195:25195 -p 25196:25196 -p 25197:25197 quay.io/wakuorg/nwaku-pr:3036 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=25195 --rest-port=25193 --tcp-port=25194 --discv5-udp-port=25196 --rest-address=0.0.0.0 --nat=extip:172.18.63.129 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=eeecdaf3d3cc8abada239b9ecc8ea4afabf0040ea3f2e51cbe117b159c12cde5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=25197 --metrics-logging=true --relay=true --filter=true --content-topic=/myapp/1/latest/proto
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.63.129 waku c3c044b650159f1b5cdcc04d9347a99149a7b42ff538e7fb9d7deb0ed6eeb643
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID c3c044b65015. Setting up logs at ./log/docker/node1_2024-09-13_09-57-47__1284a8aa-d140-47e5-bd5f-2d06b0b5c5be__quay.io_wakuorg_nwaku-pr:3036.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image quay.io/wakuorg/nwaku-pr:3036. REST: 25193
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25193/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:25193/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.63.129/tcp/25194/p2p/16Uiu2HAmABWzyuNatyp7t1FGAZeys8gA9Ge3N6FDsJLvzx8HzbK4","/ip4/172.18.63.129/tcp/25195/ws/p2p/16Uiu2HAmABWzyuNatyp7t1FGAZeys8gA9Ge3N6FDsJLvzx8HzbK4"],"enrUri":"enr:-LO4QJrFtnwnA7fVkbkBQGV-Z0ew00zWZak-F6uirtJViTY_GkSZvZ3R-vuGPsDQKsBlWxUJOFmLtueWQ3ZnHsg9rLIBgmlkgnY0gmlwhKwSP4GKbXVsdGlhZGRyc4wACgSsEj-BBmJr3QOCcnOFAAIBAACJc2VjcDI1NmsxoQLbPwT3nCNq22Jrg_0ttvGoFdpqzgp87C44cOja5nxDZ4N0Y3CCYmqDdWRwgmJshXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3036
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-09-13_09-57-47__1284a8aa-d140-47e5-bd5f-2d06b0b5c5be__quay.io_wakuorg_nwaku-pr:3036.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.194.156
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['14890', '14891', '14892', '14893', '14894']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 14890:14890 -p 14891:14891 -p 14892:14892 -p 14893:14893 -p 14894:14894 quay.io/wakuorg/nwaku-pr:3036 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=14892 --rest-port=14890 --tcp-port=14891 --discv5-udp-port=14893 --rest-address=0.0.0.0 --nat=extip:172.18.194.156 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=bce221aed2c1edaa24b8b2ebe027af4fe7eba78807e9bab56ece5bdf8bfe5b02 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=14894 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QJrFtnwnA7fVkbkBQGV-Z0ew00zWZak-F6uirtJViTY_GkSZvZ3R-vuGPsDQKsBlWxUJOFmLtueWQ3ZnHsg9rLIBgmlkgnY0gmlwhKwSP4GKbXVsdGlhZGRyc4wACgSsEj-BBmJr3QOCcnOFAAIBAACJc2VjcDI1NmsxoQLbPwT3nCNq22Jrg_0ttvGoFdpqzgp87C44cOja5nxDZ4N0Y3CCYmqDdWRwgmJshXdha3UyBQ --content-topic=/myapp/1/latest/proto
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.194.156 waku 52fa25e9c0965e9f551208e5aabc3dd8319f0b6de953e7ab8048bd18a0e6801b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 52fa25e9c096. Setting up logs at ./log/docker/node2_2024-09-13_09-57-47__1284a8aa-d140-47e5-bd5f-2d06b0b5c5be__quay.io_wakuorg_nwaku-pr:3036.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image quay.io/wakuorg/nwaku-pr:3036. REST: 14890
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14890/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14890/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.194.156/tcp/14891/p2p/16Uiu2HAkvES7M1ekpiYyqkzzLpkwB3iD5Vc6Cutx8FaBsxfXEPz1","/ip4/172.18.194.156/tcp/14892/ws/p2p/16Uiu2HAkvES7M1ekpiYyqkzzLpkwB3iD5Vc6Cutx8FaBsxfXEPz1"],"enrUri":"enr:-LO4QGKUg2mpF12wa-58xeMmPQkdY0cj_dh_3VcAiH1EW_NHONlWdFv1w3wScFKru3iZ9rejC0Nq7uMnXumGPFxWDAIBgmlkgnY0gmlwhKwSwpyKbXVsdGlhZGRyc4wACgSsEsKcBjos3QOCcnOFAAIBAACJc2VjcDI1NmsxoQIL-p2LXCrMy35lwD0KHkIw9_Eln6BTaeboWlSNuyuIaoN0Y3CCOiuDdWRwgjothXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14890/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.63.129/tcp/25194/p2p/16Uiu2HAmABWzyuNatyp7t1FGAZeys8gA9Ge3N6FDsJLvzx8HzbK4"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:25193/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14890/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id c3c044b65015
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 52fa25e9c096
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.