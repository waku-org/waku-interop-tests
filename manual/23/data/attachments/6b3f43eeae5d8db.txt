[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_relay_no_subscription with id: 2025-01-30_10-31-45__5d2c4fc6-3f19-4f6c-a593-1241354fbfbf
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3234
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-01-30_10-31-45__5d2c4fc6-3f19-4f6c-a593-1241354fbfbf__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.156.186
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['39595', '39596', '39597', '39598', '39599']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 39595:39595 -p 39596:39596 -p 39597:39597 -p 39598:39598 -p 39599:39599 quay.io/wakuorg/nwaku-pr:3234 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=39597 --rest-port=39595 --tcp-port=39596 --discv5-udp-port=39598 --rest-address=0.0.0.0 --nat=extip:172.18.156.186 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d9d4ae1da890eb0d0d4ce3d66dea20dcdb7a61f6bfd6ee90d234fa0bcd026fe1 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=39599 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.156.186 waku ae30cbb8e0f49455c81d2469c0fe9db1fc41bff27f3c08dee0de356873c69f39
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID ae30cbb8e0f4. Setting up logs at ./log/docker/node1_2025-01-30_10-31-45__5d2c4fc6-3f19-4f6c-a593-1241354fbfbf__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3234. REST: 39595
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 8df7fe3e2788. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39595/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39595/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.156.186/tcp/39596/p2p/16Uiu2HAm3iqkevQTD6JYLKJvZnn72WWAaemdoBpnSxwNdszUhENK","/ip4/172.18.156.186/tcp/39597/ws/p2p/16Uiu2HAm3iqkevQTD6JYLKJvZnn72WWAaemdoBpnSxwNdszUhENK"],"enrUri":"enr:-L24QJ7WZVnG2HrQA4_rImIuGm3AZNwqFhHodRdezsEDLtVJDJpmouc-cfVUXX-cScRSa0pfxJgc6xmkFahyIu6M92wCgmlkgnY0gmlwhKwSnLqKbXVsdGlhZGRyc5YACASsEpy6BpqsAAoErBKcugaard0DgnJzhQADAQAAiXNlY3AyNTZrMaECe0NriQrDa-fJurJBWBHtUc_e0e6wRusmCFg_qO2sLriDdGNwgpqsg3VkcIKaroV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3234
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-01-30_10-31-45__5d2c4fc6-3f19-4f6c-a593-1241354fbfbf__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.19.28
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['5578', '5579', '5580', '5581', '5582']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 5578:5578 -p 5579:5579 -p 5580:5580 -p 5581:5581 -p 5582:5582 quay.io/wakuorg/nwaku-pr:3234 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=5580 --rest-port=5578 --tcp-port=5579 --discv5-udp-port=5581 --rest-address=0.0.0.0 --nat=extip:172.18.19.28 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a10c3d3eaaf880615ddbfccd59133959bafabfb5dcef78f4ce454ea97ccb68ce --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=5582 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QJ7WZVnG2HrQA4_rImIuGm3AZNwqFhHodRdezsEDLtVJDJpmouc-cfVUXX-cScRSa0pfxJgc6xmkFahyIu6M92wCgmlkgnY0gmlwhKwSnLqKbXVsdGlhZGRyc5YACASsEpy6BpqsAAoErBKcugaard0DgnJzhQADAQAAiXNlY3AyNTZrMaECe0NriQrDa-fJurJBWBHtUc_e0e6wRusmCFg_qO2sLriDdGNwgpqsg3VkcIKaroV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.19.28 waku 44077aad08f16a958101140bd72af783c00a90b5ad45d530fe4a4086f3252d87
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 44077aad08f1. Setting up logs at ./log/docker/node2_2025-01-30_10-31-45__5d2c4fc6-3f19-4f6c-a593-1241354fbfbf__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3234. REST: 5578
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5578/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5578/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.19.28/tcp/5579/p2p/16Uiu2HAmBEEzjnZ4JaiLaZBKGoUGWwXr88bZuSMZxNduLvv9c6mM","/ip4/172.18.19.28/tcp/5580/ws/p2p/16Uiu2HAmBEEzjnZ4JaiLaZBKGoUGWwXr88bZuSMZxNduLvv9c6mM"],"enrUri":"enr:-L24QNvQu8AnZmomTC2_QRSBUX1Rt51FQTIUmZMoQj53V5k2GXSfih6f3faCYu5VdgvIigpuCpP-lclPGcChZ468EY0CgmlkgnY0gmlwhKwSExyKbXVsdGlhZGRyc5YACASsEhMcBhXLAAoErBITHAYVzN0DgnJzhQADAQAAiXNlY3AyNTZrMaEC6s1aThUnM9zOfw15amPCVhFB7lx9zyQcnuNg1CfjPJiDdGNwghXLg3VkcIIVzYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5578/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.156.186/tcp/39596/p2p/16Uiu2HAm3iqkevQTD6JYLKJvZnn72WWAaemdoBpnSxwNdszUhENK"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39595/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:39595/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/3/1'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id ae30cbb8e0f4
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 44077aad08f1
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container ae30cbb8e0f4. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.