[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2025-01-30_10-28-47__2bae30f5-6548-4065-90fc-4197b1cfe46d
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3234
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-01-30_10-28-47__2bae30f5-6548-4065-90fc-4197b1cfe46d__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.221.90
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['4869', '4870', '4871', '4872', '4873']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 4869:4869 -p 4870:4870 -p 4871:4871 -p 4872:4872 -p 4873:4873 quay.io/wakuorg/nwaku-pr:3234 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=4871 --rest-port=4869 --tcp-port=4870 --discv5-udp-port=4872 --rest-address=0.0.0.0 --nat=extip:172.18.221.90 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=beefede1bf70f6f3fb12c617302ef26fe7b757dc0514bc54cdc7eabbc5d2bbb3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=4873 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.221.90 waku 7725963479cff7405212fab3b34eb4b2bbf3f466b008dafae5dbeeba1eff406c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 7725963479cf. Setting up logs at ./log/docker/node1_2025-01-30_10-28-47__2bae30f5-6548-4065-90fc-4197b1cfe46d__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3234. REST: 4869
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 7bdb08548340. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4869/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4869/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.221.90/tcp/4870/p2p/16Uiu2HAmEnapQiTo2CvUwmPbjR89JrYp4VmMAbLi7c1bdo2Ugy9D","/ip4/172.18.221.90/tcp/4871/ws/p2p/16Uiu2HAmEnapQiTo2CvUwmPbjR89JrYp4VmMAbLi7c1bdo2Ugy9D"],"enrUri":"enr:-L24QASg9N8M_duEBHyMvIc5pQ0OWbhflYts32AIFV1Kj0hkZuQt6wMioBR6dhzBt_pguXVgqoz0r1ottbXYRkX6yJgCgmlkgnY0gmlwhKwS3VqKbXVsdGlhZGRyc5YACASsEt1aBhMGAAoErBLdWgYTB90DgnJzhQADAQAAiXNlY3AyNTZrMaEDH6lpgclpEO2ypi7StyWnpHOfWm5MreO2jjX1C8Yye6SDdGNwghMGg3VkcIITCIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3234
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-01-30_10-28-47__2bae30f5-6548-4065-90fc-4197b1cfe46d__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.250.175
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['42345', '42346', '42347', '42348', '42349']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 42345:42345 -p 42346:42346 -p 42347:42347 -p 42348:42348 -p 42349:42349 quay.io/wakuorg/nwaku-pr:3234 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=42347 --rest-port=42345 --tcp-port=42346 --discv5-udp-port=42348 --rest-address=0.0.0.0 --nat=extip:172.18.250.175 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fd32d9601cd4fc8e0afd15e487b3e4db96cdbcc409a7b0f55ef96d346f6720cb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=42349 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QASg9N8M_duEBHyMvIc5pQ0OWbhflYts32AIFV1Kj0hkZuQt6wMioBR6dhzBt_pguXVgqoz0r1ottbXYRkX6yJgCgmlkgnY0gmlwhKwS3VqKbXVsdGlhZGRyc5YACASsEt1aBhMGAAoErBLdWgYTB90DgnJzhQADAQAAiXNlY3AyNTZrMaEDH6lpgclpEO2ypi7StyWnpHOfWm5MreO2jjX1C8Yye6SDdGNwghMGg3VkcIITCIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.250.175 waku 23fd1ba1debcba22887b178e12555a699942f2d64a411ffc5c0e082f62a0d715
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 23fd1ba1debc. Setting up logs at ./log/docker/node2_2025-01-30_10-28-47__2bae30f5-6548-4065-90fc-4197b1cfe46d__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3234. REST: 42345
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42345/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42345/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.250.175/tcp/42346/p2p/16Uiu2HAmTCUyiefKet9EUovMPS1UDyoTBmPftN73Drsxuv3nj8oG","/ip4/172.18.250.175/tcp/42347/ws/p2p/16Uiu2HAmTCUyiefKet9EUovMPS1UDyoTBmPftN73Drsxuv3nj8oG"],"enrUri":"enr:-L24QKOu_X2k1fV53FaX0YUClD6gfW5FAT6eIO6qTl6IGveWIyCuYotTwMVhSI7MA4rae5cgzSCD4cA7Bx5g22W9WnoCgmlkgnY0gmlwhKwS-q-KbXVsdGlhZGRyc5YACASsEvqvBqVqAAoErBL6rwala90DgnJzhQADAQAAiXNlY3AyNTZrMaED2BT97zNGwwqitiChexY_sF7Go8JNBpbZYnEqWLQEJFeDdGNwgqVqg3VkcIKlbIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42345/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.221.90/tcp/4870/p2p/16Uiu2HAmEnapQiTo2CvUwmPbjR89JrYp4VmMAbLi7c1bdo2Ugy9D"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3234
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2025-01-30_10-28-47__2bae30f5-6548-4065-90fc-4197b1cfe46d__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.22.3
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['51168', '51169', '51170', '51171', '51172']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 51168:51168 -p 51169:51169 -p 51170:51170 -p 51171:51171 -p 51172:51172 quay.io/wakuorg/nwaku-pr:3234 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=51170 --rest-port=51168 --tcp-port=51169 --discv5-udp-port=51171 --rest-address=0.0.0.0 --nat=extip:172.18.22.3 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c0ffd45a8c4c8ccefc2f47adbddd8955c29ee5a99cdba2c18f7fe7ecfc8e6ea7 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=51172 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QASg9N8M_duEBHyMvIc5pQ0OWbhflYts32AIFV1Kj0hkZuQt6wMioBR6dhzBt_pguXVgqoz0r1ottbXYRkX6yJgCgmlkgnY0gmlwhKwS3VqKbXVsdGlhZGRyc5YACASsEt1aBhMGAAoErBLdWgYTB90DgnJzhQADAQAAiXNlY3AyNTZrMaEDH6lpgclpEO2ypi7StyWnpHOfWm5MreO2jjX1C8Yye6SDdGNwghMGg3VkcIITCIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.22.3 waku 5cd69eecf738587a3aca65426a53771df0b2d43456967c4fff8d97bca7542a3a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 5cd69eecf738. Setting up logs at ./log/docker/node3_2025-01-30_10-28-47__2bae30f5-6548-4065-90fc-4197b1cfe46d__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3234. REST: 51168
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51168/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51168/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.22.3/tcp/51169/p2p/16Uiu2HAmC8FndHVkXATvgmzQHEYY6g34hUiYZkWoxByz546tGsRm","/ip4/172.18.22.3/tcp/51170/ws/p2p/16Uiu2HAmC8FndHVkXATvgmzQHEYY6g34hUiYZkWoxByz546tGsRm"],"enrUri":"enr:-L24QFyP8DpAtwOJQvzcro3XTM8-66VIrL-3S3jXIDZcpaEzN_hV8MtqD7J_pYLR5iEpeIbdJXwoMbmR85OYSCjTQdYCgmlkgnY0gmlwhKwSFgOKbXVsdGlhZGRyc5YACASsEhYDBsfhAAoErBIWAwbH4t0DgnJzhQADAQAAiXNlY3AyNTZrMaEC-CBzDEAP__kD8WWqpo9JVjOa-XXM9ZU_g3b1MhpvKwyDdGNwgsfhg3VkcILH44V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51168/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.221.90/tcp/4870/p2p/16Uiu2HAmEnapQiTo2CvUwmPbjR89JrYp4VmMAbLi7c1bdo2Ugy9D"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3234
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2025-01-30_10-28-47__2bae30f5-6548-4065-90fc-4197b1cfe46d__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.116.15
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['46691', '46692', '46693', '46694', '46695']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 46691:46691 -p 46692:46692 -p 46693:46693 -p 46694:46694 -p 46695:46695 quay.io/wakuorg/nwaku-pr:3234 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=46693 --rest-port=46691 --tcp-port=46692 --discv5-udp-port=46694 --rest-address=0.0.0.0 --nat=extip:172.18.116.15 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=da12adf59862cb5ddd7bb5ee18a9eeedec47cec5948ddd6eb74e8cafd87de77b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=46695 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QASg9N8M_duEBHyMvIc5pQ0OWbhflYts32AIFV1Kj0hkZuQt6wMioBR6dhzBt_pguXVgqoz0r1ottbXYRkX6yJgCgmlkgnY0gmlwhKwS3VqKbXVsdGlhZGRyc5YACASsEt1aBhMGAAoErBLdWgYTB90DgnJzhQADAQAAiXNlY3AyNTZrMaEDH6lpgclpEO2ypi7StyWnpHOfWm5MreO2jjX1C8Yye6SDdGNwghMGg3VkcIITCIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.116.15 waku 1863b692f4add2d5cd8bd1d873a0f91d966e79a76a902df9656480fbe832d59a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 1863b692f4ad. Setting up logs at ./log/docker/node4_2025-01-30_10-28-47__2bae30f5-6548-4065-90fc-4197b1cfe46d__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3234. REST: 46691
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46691/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46691/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.116.15/tcp/46692/p2p/16Uiu2HAm1jmbAfzzFjWVg9tGRfvZPhVrp9LMc6j78kGyGi8SaU9D","/ip4/172.18.116.15/tcp/46693/ws/p2p/16Uiu2HAm1jmbAfzzFjWVg9tGRfvZPhVrp9LMc6j78kGyGi8SaU9D"],"enrUri":"enr:-L24QGVUHShmoH_pM3hGX0HWX9sry3EyDoCQKP8n3TDsqAP_a0Z2ak9xk0xApqDhl2ktToO-04q375mJHZpPEnAJbaUCgmlkgnY0gmlwhKwSdA-KbXVsdGlhZGRyc5YACASsEnQPBrZkAAoErBJ0Dwa2Zd0DgnJzhQADAQAAiXNlY3AyNTZrMaECXcjrVCnqTGDwm7gRt3BxplaTUfZfNmHt77nfXwUFgYCDdGNwgrZkg3VkcIK2ZoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46691/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.221.90/tcp/4870/p2p/16Uiu2HAmEnapQiTo2CvUwmPbjR89JrYp4VmMAbLi7c1bdo2Ugy9D"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3234
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2025-01-30_10-28-47__2bae30f5-6548-4065-90fc-4197b1cfe46d__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.159.126
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['31504', '31505', '31506', '31507', '31508']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 31504:31504 -p 31505:31505 -p 31506:31506 -p 31507:31507 -p 31508:31508 quay.io/wakuorg/nwaku-pr:3234 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=31506 --rest-port=31504 --tcp-port=31505 --discv5-udp-port=31507 --rest-address=0.0.0.0 --nat=extip:172.18.159.126 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=eca7cc313c4eaba1b0ec5777cd7dacdacc7d675bc85ed6fa69468cc47979bb9a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=31508 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QASg9N8M_duEBHyMvIc5pQ0OWbhflYts32AIFV1Kj0hkZuQt6wMioBR6dhzBt_pguXVgqoz0r1ottbXYRkX6yJgCgmlkgnY0gmlwhKwS3VqKbXVsdGlhZGRyc5YACASsEt1aBhMGAAoErBLdWgYTB90DgnJzhQADAQAAiXNlY3AyNTZrMaEDH6lpgclpEO2ypi7StyWnpHOfWm5MreO2jjX1C8Yye6SDdGNwghMGg3VkcIITCIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.159.126 waku bc292fc847a10a5a8a1cc5e0306359a68d5fb9aa52c928e43cf480a3b21ee0bc
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID bc292fc847a1. Setting up logs at ./log/docker/node5_2025-01-30_10-28-47__2bae30f5-6548-4065-90fc-4197b1cfe46d__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3234. REST: 31504
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31504/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31504/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.159.126/tcp/31505/p2p/16Uiu2HAm3a8qbiqxrnsywmnHcectc6DH8ZdAGK7LTuQLgodC9CSF","/ip4/172.18.159.126/tcp/31506/ws/p2p/16Uiu2HAm3a8qbiqxrnsywmnHcectc6DH8ZdAGK7LTuQLgodC9CSF"],"enrUri":"enr:-L24QIN6FFWEZq7TyJJpVBPYtTWcbtLn3umZ_P8wGTDmP4zEIVihS-rGjq-LqbNtEFXDvsfj_r6N_JrJs92VZDeYJ28CgmlkgnY0gmlwhKwSn36KbXVsdGlhZGRyc5YACASsEp9-BnsRAAoErBKffgZ7Et0DgnJzhQADAQAAiXNlY3AyNTZrMaECeQiC2fndn1vfSZqYYBb2md88yhgfjOIvuQYsyZlfc7SDdGNwgnsRg3VkcIJ7E4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31504/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.221.90/tcp/4870/p2p/16Uiu2HAmEnapQiTo2CvUwmPbjR89JrYp4VmMAbLi7c1bdo2Ugy9D"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4869/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42345/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51168/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46691/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31504/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4869/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3234 can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4869/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738232934193585152,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3234 can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42345/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738232934193585152,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:quay.io/wakuorg/nwaku-pr:3234 can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51168/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738232934193585152,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:quay.io/wakuorg/nwaku-pr:3234 can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46691/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738232934193585152,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:quay.io/wakuorg/nwaku-pr:3234 can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31504/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738232934193585152,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31504/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:quay.io/wakuorg/nwaku-pr:3234 can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4869/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738232934326028544,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:quay.io/wakuorg/nwaku-pr:3234 can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42345/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738232934326028544,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:quay.io/wakuorg/nwaku-pr:3234 can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51168/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738232934326028544,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:quay.io/wakuorg/nwaku-pr:3234 can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46691/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738232934326028544,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:quay.io/wakuorg/nwaku-pr:3234 can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31504/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1738232934326028544,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 7725963479cf
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 23fd1ba1debc
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 7725963479cf. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 5cd69eecf738
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 23fd1ba1debc. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 1863b692f4ad
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 5cd69eecf738. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id bc292fc847a1
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 1863b692f4ad. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.