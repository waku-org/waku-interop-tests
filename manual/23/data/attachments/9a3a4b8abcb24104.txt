[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_cursor_equal_to_first_message with id: 2025-01-30_10-32-22__2c387059-024c-4520-81c3-bb2c579cf20c
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3234
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-01-30_10-32-22__2c387059-024c-4520-81c3-bb2c579cf20c__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.79.148
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['6923', '6924', '6925', '6926', '6927']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 6923:6923 -p 6924:6924 -p 6925:6925 -p 6926:6926 -p 6927:6927 quay.io/wakuorg/nwaku-pr:3234 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=6925 --rest-port=6923 --tcp-port=6924 --discv5-udp-port=6926 --rest-address=0.0.0.0 --nat=extip:172.18.79.148 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cf4b2acfc7bb4aadbce3ffccf20c53b200ac099822a74ea4ee177044f559bacc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=6927 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.79.148 waku 4f087680b3d3821ad7ae8a254cc15439e13b86426d6db9e6812c72c21030c921
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 4f087680b3d3. Setting up logs at ./log/docker/publishing_node1_2025-01-30_10-32-22__2c387059-024c-4520-81c3-bb2c579cf20c__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3234. REST: 6923
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container fb7307df2bb8. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6923/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6923/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.79.148/tcp/6924/p2p/16Uiu2HAm8FhQsPZVsK5Masxrc39WGh4iedLrVbu9Tk5AsXnMxtwx","/ip4/172.18.79.148/tcp/6925/ws/p2p/16Uiu2HAm8FhQsPZVsK5Masxrc39WGh4iedLrVbu9Tk5AsXnMxtwx"],"enrUri":"enr:-L24QHAQolYTHjsfdCASw093Sp8JtVt_Aap4tRBJCieMtJCUeHXaVqvrubNP1Z3ZmbE47HsaOdLUJNsXJ6Q7c_OVy9gCgmlkgnY0gmlwhKwST5SKbXVsdGlhZGRyc5YACASsEk-UBhsMAAoErBJPlAYbDd0DgnJzhQADAQAAiXNlY3AyNTZrMaECvpm906X4jObC0k0sdgThNVionYilSS9hdbsLV6fk0ReDdGNwghsMg3VkcIIbDoV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image quay.io/wakuorg/nwaku-pr:3234
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2025-01-30_10-32-22__2c387059-024c-4520-81c3-bb2c579cf20c__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.253.155
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['57486', '57487', '57488', '57489', '57490']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 57486:57486 -p 57487:57487 -p 57488:57488 -p 57489:57489 -p 57490:57490 quay.io/wakuorg/nwaku-pr:3234 --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=57488 --rest-port=57486 --tcp-port=57487 --discv5-udp-port=57489 --rest-address=0.0.0.0 --nat=extip:172.18.253.155 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6612bbe4bccbb3a246266fddff6f538be4ade05bb1a21f5112a71ee4d56fbd50 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=57490 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QHAQolYTHjsfdCASw093Sp8JtVt_Aap4tRBJCieMtJCUeHXaVqvrubNP1Z3ZmbE47HsaOdLUJNsXJ6Q7c_OVy9gCgmlkgnY0gmlwhKwST5SKbXVsdGlhZGRyc5YACASsEk-UBhsMAAoErBJPlAYbDd0DgnJzhQADAQAAiXNlY3AyNTZrMaECvpm906X4jObC0k0sdgThNVionYilSS9hdbsLV6fk0ReDdGNwghsMg3VkcIIbDoV3YWt1MgM --storenode=/ip4/172.18.79.148/tcp/6924/p2p/16Uiu2HAm8FhQsPZVsK5Masxrc39WGh4iedLrVbu9Tk5AsXnMxtwx --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.253.155 waku 29aef83595ae412ca55036e2077fe7f0f63fd21a49b62a43a5d63b889dccb86c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 29aef83595ae. Setting up logs at ./log/docker/store_node1_2025-01-30_10-32-22__2c387059-024c-4520-81c3-bb2c579cf20c__quay.io_wakuorg_nwaku-pr:3234.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image quay.io/wakuorg/nwaku-pr:3234. REST: 57486
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57486/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57486/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.253.155/tcp/57487/p2p/16Uiu2HAmF2RDmczxBrjsZFqRjhsqfQ93xFtRPb7cBTTmfc62a6yM","/ip4/172.18.253.155/tcp/57488/ws/p2p/16Uiu2HAmF2RDmczxBrjsZFqRjhsqfQ93xFtRPb7cBTTmfc62a6yM"],"enrUri":"enr:-L24QFYPYgz1yjOVMjLx83aTOh4RgAWpHzhiA4KCLL5ljDHLahcbO40s_yfYmEKWnLR5yYUqpcDaN77-v0FiZOOpVLwCgmlkgnY0gmlwhKwS_ZuKbXVsdGlhZGRyc5YACASsEv2bBuCPAAoErBL9mwbgkN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDIzSxHDnTOQ2KTEhtMS3BXO1UJHJoSh6UKBlcgs0oiJCDdGNwguCPg3VkcILgkYV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57486/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.79.148/tcp/6924/p2p/16Uiu2HAm8FhQsPZVsK5Masxrc39WGh4iedLrVbu9Tk5AsXnMxtwx"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6923/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57486/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6923/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8w", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6923/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8x", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6923/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8y", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6923/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8z", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6923/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV80", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6923/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV81", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6923/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV82", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6923/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV83", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6923/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV84", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6923/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV85", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6923/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&cursor=0x7fff4bd3e1c0b34986979bc86b45155ad7d02c0ae29f5f73ab85fa6adf360c6e&pageSize=100&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xadae37a3059a4f51ba7e072e2b9c72e98ec0597ac542b317c146352b0f00b0f3"},{"messageHash":"0xbeb21e36a00c88a3fbc3ca7c2152b301d4f8fd73272145979887a623888d1e0b"},{"messageHash":"0x4e4820764b708d58eb9a92208db0437e47442af047e0b6c82c47175750a16951"},{"messageHash":"0x1dbed0a42372b17fef164d6b9d42d86921c131b4d2d6ae917cd12aec01c8609e"},{"messageHash":"0x04c7d27e971e0b7dbf0266d0871a550b1347391eba9c26e6e8f6afec6c715be1"},{"messageHash":"0x7cb802818515f10d28e57ba4eee7cc7b19aaf1196393bb23fbe93844b950468a"},{"messageHash":"0x464659a69bd3ea475f07b602171c3e33bbbf3005de967d77f3776e9eee4137ba"},{"messageHash":"0xfaee9d5dc9da9f0a52418baed6bfb4101535de0f3a174fd085e1388b4cc04a8f"},{"messageHash":"0xb49cca5b8f9850fdbc0fb386cd5ad69b267a1d759056ce6fa357da1f2ec6a568"}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57486/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&cursor=0x7fff4bd3e1c0b34986979bc86b45155ad7d02c0ae29f5f73ab85fa6adf360c6e&pageSize=100&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xadae37a3059a4f51ba7e072e2b9c72e98ec0597ac542b317c146352b0f00b0f3"},{"messageHash":"0xbeb21e36a00c88a3fbc3ca7c2152b301d4f8fd73272145979887a623888d1e0b"},{"messageHash":"0x4e4820764b708d58eb9a92208db0437e47442af047e0b6c82c47175750a16951"},{"messageHash":"0x1dbed0a42372b17fef164d6b9d42d86921c131b4d2d6ae917cd12aec01c8609e"},{"messageHash":"0x04c7d27e971e0b7dbf0266d0871a550b1347391eba9c26e6e8f6afec6c715be1"},{"messageHash":"0x7cb802818515f10d28e57ba4eee7cc7b19aaf1196393bb23fbe93844b950468a"},{"messageHash":"0x464659a69bd3ea475f07b602171c3e33bbbf3005de967d77f3776e9eee4137ba"},{"messageHash":"0xfaee9d5dc9da9f0a52418baed6bfb4101535de0f3a174fd085e1388b4cc04a8f"},{"messageHash":"0xb49cca5b8f9850fdbc0fb386cd5ad69b267a1d759056ce6fa357da1f2ec6a568"}]}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 4f087680b3d3
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 29aef83595ae
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 4f087680b3d3. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.