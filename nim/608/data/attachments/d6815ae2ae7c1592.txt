[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_light_push_with_extra_field with id: 2025-01-06_13-32-14__b1323478-a82f-4324-bb13-bf33b7d7ae16
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:28 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2025-01-06_13-32-14__b1323478-a82f-4324-bb13-bf33b7d7ae16__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.176.114
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['48017', '48018', '48019', '48020', '48021']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 48017:48017 -p 48018:48018 -p 48019:48019 -p 48020:48020 -p 48021:48021 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=48019 --rest-port=48017 --tcp-port=48018 --discv5-udp-port=48020 --rest-address=0.0.0.0 --nat=extip:172.18.176.114 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b7fef1b8dcec5d9b44bdf78ec30e59be306cf9c1ad819b1c506c4bf4c3a4c2f9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=48021 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.176.114 waku 7ce60267246fb8f38be5605ee27e9b0b85fe01a324d6a1113dbacc014ef4b3f8
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 7ce60267246f. Setting up logs at ./log/docker/receiving_node1_2025-01-06_13-32-14__b1323478-a82f-4324-bb13-bf33b7d7ae16__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 48017
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 28c3cd4a4cc3. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48017/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48017/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.176.114/tcp/48018/p2p/16Uiu2HAmExu35NHtr3BQ3mb5Ju8ETEHUCCqg227YLNz5wNgexdGJ","/ip4/172.18.176.114/tcp/48019/ws/p2p/16Uiu2HAmExu35NHtr3BQ3mb5Ju8ETEHUCCqg227YLNz5wNgexdGJ"],"enrUri":"enr:-L24QBgbviRk3yqn6GL5GrZ41_75ngXr_eNUybxE4hmhjJfdX_wdWOlJb5WuFh0Vnb6FcNrqiKTG3SnfbdYl87zDF_UCgmlkgnY0gmlwhKwSsHKKbXVsdGlhZGRyc5YACASsErByBruSAAoErBKwcga7k90DgnJzhQADAQAAiXNlY3AyNTZrMaEDIk3R3-ZinO_xHi4qcTvgsq4KRWJjyDgT_ShPbH_Tbg-DdGNwgruSg3VkcIK7lIV3YWt1Mgk"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2025-01-06_13-32-14__b1323478-a82f-4324-bb13-bf33b7d7ae16__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.162.101
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['58566', '58567', '58568', '58569', '58570']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 58566:58566 -p 58567:58567 -p 58568:58568 -p 58569:58569 -p 58570:58570 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=58568 --rest-port=58566 --tcp-port=58567 --discv5-udp-port=58569 --rest-address=0.0.0.0 --nat=extip:172.18.162.101 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=76a233b8c0c52f01fd0b1cf811f0c7c9f5da8bad35a7d0b2bbfcc8aafaf0d4cc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=58570 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.162.101 waku 6672fc29a4f315f7c32f13b4a63b446ef96ad785229bdbcd4fc5c52fadaa3fca
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 6672fc29a4f3. Setting up logs at ./log/docker/receiving_node2_2025-01-06_13-32-14__b1323478-a82f-4324-bb13-bf33b7d7ae16__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 58566
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58566/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58566/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.162.101/tcp/58567/p2p/16Uiu2HAm65MTrbTapg7BPrNTmnciBAcfRhpszdyoWhCwbRLn93bC","/ip4/172.18.162.101/tcp/58568/ws/p2p/16Uiu2HAm65MTrbTapg7BPrNTmnciBAcfRhpszdyoWhCwbRLn93bC"],"enrUri":"enr:-L24QIh3LUp-_ikvRrzgwsJH3YtOmdoI8XuCINP1VRvaYdcFcToxdLgvAEaj16HtjriaTdLqdz2NjtmJxMaNUb_BUsICgmlkgnY0gmlwhKwSomWKbXVsdGlhZGRyc5YACASsEqJlBuTHAAoErBKiZQbkyN0DgnJzhQADAQAAiXNlY3AyNTZrMaECnjwA81C-OEO54rZFbvoynNwR7lFtOasrcuOyhcJ9UPeDdGNwguTHg3VkcILkyYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58566/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.176.114/tcp/48018/p2p/16Uiu2HAmExu35NHtr3BQ3mb5Ju8ETEHUCCqg227YLNz5wNgexdGJ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2025-01-06_13-32-14__b1323478-a82f-4324-bb13-bf33b7d7ae16__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.209.217
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['30462', '30463', '30464', '30465', '30466']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 30462:30462 -p 30463:30463 -p 30464:30464 -p 30465:30465 -p 30466:30466 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=30464 --rest-port=30462 --tcp-port=30463 --discv5-udp-port=30465 --rest-address=0.0.0.0 --nat=extip:172.18.209.217 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=eed82927badcbabccfdca532ba83c4edfc44d1bfcbffa2006ab8f8ed822d3d66 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=30466 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QBgbviRk3yqn6GL5GrZ41_75ngXr_eNUybxE4hmhjJfdX_wdWOlJb5WuFh0Vnb6FcNrqiKTG3SnfbdYl87zDF_UCgmlkgnY0gmlwhKwSsHKKbXVsdGlhZGRyc5YACASsErByBruSAAoErBKwcga7k90DgnJzhQADAQAAiXNlY3AyNTZrMaEDIk3R3-ZinO_xHi4qcTvgsq4KRWJjyDgT_ShPbH_Tbg-DdGNwgruSg3VkcIK7lIV3YWt1Mgk --lightpushnode=/ip4/172.18.176.114/tcp/48018/p2p/16Uiu2HAmExu35NHtr3BQ3mb5Ju8ETEHUCCqg227YLNz5wNgexdGJ --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.209.217 waku f2014ba346642e155b5da26065d753438ef6b23ae1f03bc399627eb47af5ab73
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID f2014ba34664. Setting up logs at ./log/docker/lightpush_node1_2025-01-06_13-32-14__b1323478-a82f-4324-bb13-bf33b7d7ae16__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 30462
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30462/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30462/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.209.217/tcp/30463/p2p/16Uiu2HAmNk8wToUfi5CQ2bvHEbPMpt6E7sNiU6aSE5ZZQ7sjEWVv","/ip4/172.18.209.217/tcp/30464/ws/p2p/16Uiu2HAmNk8wToUfi5CQ2bvHEbPMpt6E7sNiU6aSE5ZZQ7sjEWVv"],"enrUri":"enr:-L24QHaiuxnqth5bxuz8_zhrxTzTzyW6iigcru971xYgkZ1HXgFWtgHqtslJtPho6EqaEQLfT1gdda9jloE3n1cz1ScCgmlkgnY0gmlwhKwS0dmKbXVsdGlhZGRyc5YACASsEtHZBnb_AAoErBLR2QZ3AN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDleZ8MfQhljfXuDWwxOwjWZKFh4fg84hryTV8wl3kNImDdGNwgnb_g3VkcIJ3AYV3YWt1Mgg"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30462/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.176.114/tcp/48018/p2p/16Uiu2HAmExu35NHtr3BQ3mb5Ju8ETEHUCCqg227YLNz5wNgexdGJ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30462/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.162.101/tcp/58567/p2p/16Uiu2HAm65MTrbTapg7BPrNTmnciBAcfRhpszdyoWhCwbRLn93bC"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48017/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58566/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.light_push:light_push.py:121 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30462/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1736170338494625280, "extraField": "extraValue"}}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:30462/lightpush/v1/message. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 7ce60267246f
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 6672fc29a4f3
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 7ce60267246f. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id f2014ba34664
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 6672fc29a4f3. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.