[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2024-10-13_04-23-23__b93a2006-d897-4eb1-9d77-f006392e6af1
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-10-13_04-23-23__b93a2006-d897-4eb1-9d77-f006392e6af1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.85.12
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['30442', '30443', '30444', '30445', '30446']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 30442:30442 -p 30443:30443 -p 30444:30444 -p 30445:30445 -p 30446:30446 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=30444 --rest-port=30442 --tcp-port=30443 --discv5-udp-port=30445 --rest-address=0.0.0.0 --nat=extip:172.18.85.12 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=91cb0b1ff1bee49eccd25ddacf36a7fd2ba9e0c7ec1ae5f55c500edccace2d83 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=30446 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.85.12 waku 6e696079d7c1d258bedb6a2654fd77866f3bee297e9e7a4a34b87936a89a0fc7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 6e696079d7c1. Setting up logs at ./log/docker/node1_2024-10-13_04-23-23__b93a2006-d897-4eb1-9d77-f006392e6af1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 30442
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30442/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30442/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.85.12/tcp/30443/p2p/16Uiu2HAmJfGkzZrrUrTfCiUrzZMmFhN3zUbt1wCH3YJXwMzKXt2k","/ip4/172.18.85.12/tcp/30444/ws/p2p/16Uiu2HAmJfGkzZrrUrTfCiUrzZMmFhN3zUbt1wCH3YJXwMzKXt2k"],"enrUri":"enr:-LO4QEAf2IDkv0BA6GAL9_9bw4DB1QuZ4-gf7Rs4nbMXYq8DLEWdle0kuGIqaH1r7KWG5Wa0Zb-Jcq_Qdn3AMOwNIbEBgmlkgnY0gmlwhKwSVQyKbXVsdGlhZGRyc4wACgSsElUMBnbs3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNZOKzHDNqfpBcv7CPj8Og_qXxJgBLHYU_b0eVzej-DAYN0Y3CCduuDdWRwgnbthXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-10-13_04-23-23__b93a2006-d897-4eb1-9d77-f006392e6af1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.215.235
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['18033', '18034', '18035', '18036', '18037']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 18033:18033 -p 18034:18034 -p 18035:18035 -p 18036:18036 -p 18037:18037 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=18035 --rest-port=18033 --tcp-port=18034 --discv5-udp-port=18036 --rest-address=0.0.0.0 --nat=extip:172.18.215.235 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3beec1ec48d97b9bbd828c63f10de7befeda41d06acbd9c35f60dce01e24a34a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=18037 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QEAf2IDkv0BA6GAL9_9bw4DB1QuZ4-gf7Rs4nbMXYq8DLEWdle0kuGIqaH1r7KWG5Wa0Zb-Jcq_Qdn3AMOwNIbEBgmlkgnY0gmlwhKwSVQyKbXVsdGlhZGRyc4wACgSsElUMBnbs3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNZOKzHDNqfpBcv7CPj8Og_qXxJgBLHYU_b0eVzej-DAYN0Y3CCduuDdWRwgnbthXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.215.235 waku 407bd34e0007cd5f8db353781899a5b1a3df1c149b38d7a585a9a8cb1cc11999
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 407bd34e0007. Setting up logs at ./log/docker/node2_2024-10-13_04-23-23__b93a2006-d897-4eb1-9d77-f006392e6af1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 18033
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18033/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18033/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.215.235/tcp/18034/p2p/16Uiu2HAmVARvR23xe4HVCUMjZ3JeL4cTxTJN8awUnoRPtk5W6n2C","/ip4/172.18.215.235/tcp/18035/ws/p2p/16Uiu2HAmVARvR23xe4HVCUMjZ3JeL4cTxTJN8awUnoRPtk5W6n2C"],"enrUri":"enr:-LO4QA61LYE-LFDwLbecpfWvSIv_Zp043BARNZCPNtDwgOyxJMXb8fonLpWmMsLf09QkFIxCsDMmtjHZnlmx5FiyTa4BgmlkgnY0gmlwhKwS1-uKbXVsdGlhZGRyc4wACgSsEtfrBkZz3QOCcnOFAAMBAACJc2VjcDI1NmsxoQP1Rb9lmbfHWyz3cfhE2E4vFhJMJZhdh-mNM8LTjKf98YN0Y3CCRnKDdWRwgkZ0hXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:18033/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.85.12/tcp/30443/p2p/16Uiu2HAmJfGkzZrrUrTfCiUrzZMmFhN3zUbt1wCH3YJXwMzKXt2k"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-10-13_04-23-23__b93a2006-d897-4eb1-9d77-f006392e6af1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.223.102
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['2927', '2928', '2929', '2930', '2931']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 2927:2927 -p 2928:2928 -p 2929:2929 -p 2930:2930 -p 2931:2931 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=2929 --rest-port=2927 --tcp-port=2928 --discv5-udp-port=2930 --rest-address=0.0.0.0 --nat=extip:172.18.223.102 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=38fd9ce3bd32a3512df56ae872839c3d5ddce5360ebda7f9a9efdefaac9ea2ad --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=2931 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QEAf2IDkv0BA6GAL9_9bw4DB1QuZ4-gf7Rs4nbMXYq8DLEWdle0kuGIqaH1r7KWG5Wa0Zb-Jcq_Qdn3AMOwNIbEBgmlkgnY0gmlwhKwSVQyKbXVsdGlhZGRyc4wACgSsElUMBnbs3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNZOKzHDNqfpBcv7CPj8Og_qXxJgBLHYU_b0eVzej-DAYN0Y3CCduuDdWRwgnbthXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.223.102 waku 1053e36caf1f78b07c8a9d627221906f50cf42fbaca9e7d2fc2e8f8ae1e9c6b7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 1053e36caf1f. Setting up logs at ./log/docker/node3_2024-10-13_04-23-23__b93a2006-d897-4eb1-9d77-f006392e6af1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 2927
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2927/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2927/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.223.102/tcp/2928/p2p/16Uiu2HAm6RNyzXrLN5e9Ax4ZzsJFiWedPHUWmCFKpTawPqioppAX","/ip4/172.18.223.102/tcp/2929/ws/p2p/16Uiu2HAm6RNyzXrLN5e9Ax4ZzsJFiWedPHUWmCFKpTawPqioppAX"],"enrUri":"enr:-LO4QMkNEcvG-XJZ5AicjmUFzFOK9ouSl5k6jYw-nPBXbQ38QtwnfngBGw7lOFS258pVCTo3eWnQkvGl8RuQupWXdKABgmlkgnY0gmlwhKwS32aKbXVsdGlhZGRyc4wACgSsEt9mBgtx3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKjXVaOixkiDCxoF4lKCSX62YQ4gLiZo_uXak_owIcrnIN0Y3CCC3CDdWRwggtyhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2927/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.85.12/tcp/30443/p2p/16Uiu2HAmJfGkzZrrUrTfCiUrzZMmFhN3zUbt1wCH3YJXwMzKXt2k"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-10-13_04-23-23__b93a2006-d897-4eb1-9d77-f006392e6af1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.109.1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['42566', '42567', '42568', '42569', '42570']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 42566:42566 -p 42567:42567 -p 42568:42568 -p 42569:42569 -p 42570:42570 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=42568 --rest-port=42566 --tcp-port=42567 --discv5-udp-port=42569 --rest-address=0.0.0.0 --nat=extip:172.18.109.1 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=68f78bfaceecfec4bcfcf85adeaa1ec919cdeae97ebb78ee7edb6edcb1db02f3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=42570 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QEAf2IDkv0BA6GAL9_9bw4DB1QuZ4-gf7Rs4nbMXYq8DLEWdle0kuGIqaH1r7KWG5Wa0Zb-Jcq_Qdn3AMOwNIbEBgmlkgnY0gmlwhKwSVQyKbXVsdGlhZGRyc4wACgSsElUMBnbs3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNZOKzHDNqfpBcv7CPj8Og_qXxJgBLHYU_b0eVzej-DAYN0Y3CCduuDdWRwgnbthXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.109.1 waku 55c2ee7bffb8d764887e564d0bde5ac04bb9d9bba0a88f0044e14f868f4ce602
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 55c2ee7bffb8. Setting up logs at ./log/docker/node4_2024-10-13_04-23-23__b93a2006-d897-4eb1-9d77-f006392e6af1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 42566
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42566/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42566/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.109.1/tcp/42567/p2p/16Uiu2HAmHsxAWFTeGsGTt2ZWiBgHMUbriMEfjctCTCfcWKTw9ze7","/ip4/172.18.109.1/tcp/42568/ws/p2p/16Uiu2HAmHsxAWFTeGsGTt2ZWiBgHMUbriMEfjctCTCfcWKTw9ze7"],"enrUri":"enr:-LO4QKuD0NufjbidgS6Ojs25mvzACae9FOgvpWvWP98t159TL4pC78JnPaFgOHYUKuceMWj8ykS7vDdvuobuYrMSJJgBgmlkgnY0gmlwhKwSbQGKbXVsdGlhZGRyc4wACgSsEm0BBqZI3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNNnIN0ZRLyVHGwRPa5NDZNKNaZink3bW0K9iEvtWFGTIN0Y3CCpkeDdWRwgqZJhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42566/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.85.12/tcp/30443/p2p/16Uiu2HAmJfGkzZrrUrTfCiUrzZMmFhN3zUbt1wCH3YJXwMzKXt2k"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-10-13_04-23-23__b93a2006-d897-4eb1-9d77-f006392e6af1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.225.24
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['8779', '8780', '8781', '8782', '8783']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 8779:8779 -p 8780:8780 -p 8781:8781 -p 8782:8782 -p 8783:8783 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=8781 --rest-port=8779 --tcp-port=8780 --discv5-udp-port=8782 --rest-address=0.0.0.0 --nat=extip:172.18.225.24 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9868d8d794a3d6d138eaf4d18f01c6ebb5abbbf1e1f3ebdb2c34a4cfab9c75ba --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=8783 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QEAf2IDkv0BA6GAL9_9bw4DB1QuZ4-gf7Rs4nbMXYq8DLEWdle0kuGIqaH1r7KWG5Wa0Zb-Jcq_Qdn3AMOwNIbEBgmlkgnY0gmlwhKwSVQyKbXVsdGlhZGRyc4wACgSsElUMBnbs3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNZOKzHDNqfpBcv7CPj8Og_qXxJgBLHYU_b0eVzej-DAYN0Y3CCduuDdWRwgnbthXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.225.24 waku 9905464f2d100a6d483a64f60535803c0ca92625cfe4b0384afa1b9e8640f0db
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 9905464f2d10. Setting up logs at ./log/docker/node5_2024-10-13_04-23-23__b93a2006-d897-4eb1-9d77-f006392e6af1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 8779
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8779/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8779/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.225.24/tcp/8780/p2p/16Uiu2HAm9Wrox4WgNknX5Ztgcj8onReMY3rLgfpymRbXf2uCo9xg","/ip4/172.18.225.24/tcp/8781/ws/p2p/16Uiu2HAm9Wrox4WgNknX5Ztgcj8onReMY3rLgfpymRbXf2uCo9xg"],"enrUri":"enr:-LO4QMZuuul4Up9acCLD6l5aLfciajMy3vHymxM6Bgx2SVTVLTp12jnCQclr0OYaFizUT6UwU4LECKTbYx82lCGKNCUBgmlkgnY0gmlwhKwS4RiKbXVsdGlhZGRyc4wACgSsEuEYBiJN3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLRV8RQ0_J8pwExSKqxrKbStVRmtsuItjxdADp4CdxkXYN0Y3CCIkyDdWRwgiJOhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8779/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.85.12/tcp/30443/p2p/16Uiu2HAmJfGkzZrrUrTfCiUrzZMmFhN3zUbt1wCH3YJXwMzKXt2k"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30442/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:18033/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2927/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42566/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8779/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30442/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30442/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1728793414940632576,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18033/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1728793414940632576,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2927/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1728793414940632576,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42566/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1728793414940632576,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8779/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1728793414940632576,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8779/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30442/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1728793415075271168,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18033/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1728793415075271168,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2927/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1728793415075271168,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42566/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1728793415075271168,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8779/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1728793415075271168,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 6e696079d7c1
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 407bd34e0007
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 1053e36caf1f
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 55c2ee7bffb8
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 9905464f2d10
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.