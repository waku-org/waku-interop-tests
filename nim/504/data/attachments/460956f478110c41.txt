[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-12-05_11-54-49__8eb9e126-10af-4acb-b310-a9666d8318c7
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-05_11-54-49__8eb9e126-10af-4acb-b310-a9666d8318c7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.6.220
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['46987', '46988', '46989', '46990', '46991']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 46987:46987 -p 46988:46988 -p 46989:46989 -p 46990:46990 -p 46991:46991 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=46989 --rest-port=46987 --tcp-port=46988 --discv5-udp-port=46990 --rest-address=0.0.0.0 --nat=extip:172.18.6.220 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=08575f33d3a1eee51cfe53c51d10b1e7dfdb7abebb0a3cc980ead85ab59cc3ed --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=46991 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.6.220 waku c29203c741a442daef98a1cf19becf9e40b382222cf0aa16539a20d4d7882ab7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID c29203c741a4. Setting up logs at ./log/docker/node1_2024-12-05_11-54-49__8eb9e126-10af-4acb-b310-a9666d8318c7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 46987
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 5bace2cbb698. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46987/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46987/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.6.220/tcp/46988/p2p/16Uiu2HAkvue43XrKr4BG5LjVASmrhDhqNFMRdenuzdbmkVtvJn3q","/ip4/172.18.6.220/tcp/46989/ws/p2p/16Uiu2HAkvue43XrKr4BG5LjVASmrhDhqNFMRdenuzdbmkVtvJn3q"],"enrUri":"enr:-L24QCtJ1pyTdyjj0OdRKOO6QozC9FpHaAkivhpX4fhSxsjRFOJ7lh1gJBKlFKdDawyrgavdASzwUiwuQSHfbYciF5ECgmlkgnY0gmlwhKwSBtyKbXVsdGlhZGRyc5YACASsEgbcBreMAAoErBIG3Aa3jd0DgnJzhQADAQAAiXNlY3AyNTZrMaECFgXFYzY4Vg5_ZmrvXuXnDBlccnEYMUhL1LVOoYt9ulCDdGNwgreMg3VkcIK3joV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-05_11-54-49__8eb9e126-10af-4acb-b310-a9666d8318c7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.115.55
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['27798', '27799', '27800', '27801', '27802']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 27798:27798 -p 27799:27799 -p 27800:27800 -p 27801:27801 -p 27802:27802 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=27800 --rest-port=27798 --tcp-port=27799 --discv5-udp-port=27801 --rest-address=0.0.0.0 --nat=extip:172.18.115.55 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cfa8f4d792cffbc9ec6ef499ddbbf29e8f6dca5810951cafe790b97cb41a7cca --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=27802 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QCtJ1pyTdyjj0OdRKOO6QozC9FpHaAkivhpX4fhSxsjRFOJ7lh1gJBKlFKdDawyrgavdASzwUiwuQSHfbYciF5ECgmlkgnY0gmlwhKwSBtyKbXVsdGlhZGRyc5YACASsEgbcBreMAAoErBIG3Aa3jd0DgnJzhQADAQAAiXNlY3AyNTZrMaECFgXFYzY4Vg5_ZmrvXuXnDBlccnEYMUhL1LVOoYt9ulCDdGNwgreMg3VkcIK3joV3YWt1MgU --filternode=/ip4/172.18.6.220/tcp/46988/p2p/16Uiu2HAkvue43XrKr4BG5LjVASmrhDhqNFMRdenuzdbmkVtvJn3q
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.115.55 waku 4d469739340b1c18e269d23411a786525e1dba08d0654b70bad420c9c98c096c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 4d469739340b. Setting up logs at ./log/docker/node2_2024-12-05_11-54-49__8eb9e126-10af-4acb-b310-a9666d8318c7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 27798
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27798/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27798/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.115.55/tcp/27799/p2p/16Uiu2HAmDBLELkTVajumkQFUF3e3UpS5pRbxH1gUxbh7gA7nY6bG","/ip4/172.18.115.55/tcp/27800/ws/p2p/16Uiu2HAmDBLELkTVajumkQFUF3e3UpS5pRbxH1gUxbh7gA7nY6bG"],"enrUri":"enr:-L24QHogyIEc75ujbm6XqavXkI12jsrNcLZtlpyhQYeliieBQ9FPrq6DiteWcC4IXBi0wYcRwxMvdwp3EuLKZ0_VuOQCgmlkgnY0gmlwhKwSczeKbXVsdGlhZGRyc5YACASsEnM3BmyXAAoErBJzNwZsmN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDB8XnI1eT0MCo3mQ1-6f1rHVMPibgoWGWiS2Sy7IY2Z-DdGNwgmyXg3VkcIJsmYV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27798/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.6.220/tcp/46988/p2p/16Uiu2HAkvue43XrKr4BG5LjVASmrhDhqNFMRdenuzdbmkVtvJn3q"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-12-05_11-54-49__8eb9e126-10af-4acb-b310-a9666d8318c7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.209.211
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['36743', '36744', '36745', '36746', '36747']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 36743:36743 -p 36744:36744 -p 36745:36745 -p 36746:36746 -p 36747:36747 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=36745 --rest-port=36743 --tcp-port=36744 --discv5-udp-port=36746 --rest-address=0.0.0.0 --nat=extip:172.18.209.211 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a710a746efaa8ac75a784af5ab2ec4038c1bffb3abf5afccc280f07a332eba6d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=36747 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QCtJ1pyTdyjj0OdRKOO6QozC9FpHaAkivhpX4fhSxsjRFOJ7lh1gJBKlFKdDawyrgavdASzwUiwuQSHfbYciF5ECgmlkgnY0gmlwhKwSBtyKbXVsdGlhZGRyc5YACASsEgbcBreMAAoErBIG3Aa3jd0DgnJzhQADAQAAiXNlY3AyNTZrMaECFgXFYzY4Vg5_ZmrvXuXnDBlccnEYMUhL1LVOoYt9ulCDdGNwgreMg3VkcIK3joV3YWt1MgU --filternode=/ip4/172.18.6.220/tcp/46988/p2p/16Uiu2HAkvue43XrKr4BG5LjVASmrhDhqNFMRdenuzdbmkVtvJn3q
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.209.211 waku dea188b221227ab2bb0ff455edccb7764d024fb928ae167c5bd5848b7a88c89e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID dea188b22122. Setting up logs at ./log/docker/node3_2024-12-05_11-54-49__8eb9e126-10af-4acb-b310-a9666d8318c7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 36743
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36743/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36743/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.209.211/tcp/36744/p2p/16Uiu2HAmUUXAyZ5ZKgWczt5J3wkyv9ViThq9Gzgtzguvu8QbLYhf","/ip4/172.18.209.211/tcp/36745/ws/p2p/16Uiu2HAmUUXAyZ5ZKgWczt5J3wkyv9ViThq9Gzgtzguvu8QbLYhf"],"enrUri":"enr:-L24QP57Rypl_O0_vhqnld7WuRCfHxalQr6Z7LZEe_b63_TjJZSLcibSgPq3IGxdpJtAqUpcAq7YhrKJZeVS4Z5DrbACgmlkgnY0gmlwhKwS0dOKbXVsdGlhZGRyc5YACASsEtHTBo-IAAoErBLR0waPid0DgnJzhQADAQAAiXNlY3AyNTZrMaED6wxz4btCBt7IfRGn8jQnnofvpYgM1KOuPWG8q8Gj_cqDdGNwgo-Ig3VkcIKPioV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36743/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.6.220/tcp/46988/p2p/16Uiu2HAkvue43XrKr4BG5LjVASmrhDhqNFMRdenuzdbmkVtvJn3q"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-12-05_11-54-49__8eb9e126-10af-4acb-b310-a9666d8318c7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.86.184
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['20924', '20925', '20926', '20927', '20928']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 20924:20924 -p 20925:20925 -p 20926:20926 -p 20927:20927 -p 20928:20928 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=20926 --rest-port=20924 --tcp-port=20925 --discv5-udp-port=20927 --rest-address=0.0.0.0 --nat=extip:172.18.86.184 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=170eda26aabfa8c2f4d1afff43b40beeb667fdbbb6bbc4af51ecdacb74e903ee --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=20928 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QCtJ1pyTdyjj0OdRKOO6QozC9FpHaAkivhpX4fhSxsjRFOJ7lh1gJBKlFKdDawyrgavdASzwUiwuQSHfbYciF5ECgmlkgnY0gmlwhKwSBtyKbXVsdGlhZGRyc5YACASsEgbcBreMAAoErBIG3Aa3jd0DgnJzhQADAQAAiXNlY3AyNTZrMaECFgXFYzY4Vg5_ZmrvXuXnDBlccnEYMUhL1LVOoYt9ulCDdGNwgreMg3VkcIK3joV3YWt1MgU --filternode=/ip4/172.18.6.220/tcp/46988/p2p/16Uiu2HAkvue43XrKr4BG5LjVASmrhDhqNFMRdenuzdbmkVtvJn3q
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.86.184 waku bf818989229cf4606823f446162a18bcc6d802528bd70f44070eab9c5a1a8649
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID bf818989229c. Setting up logs at ./log/docker/node4_2024-12-05_11-54-49__8eb9e126-10af-4acb-b310-a9666d8318c7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 20924
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20924/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20924/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.86.184/tcp/20925/p2p/16Uiu2HAmEUuMZtU8Wcv9tUN6T6cHMCfgBZAt2zkiG9HQnHmLmjbb","/ip4/172.18.86.184/tcp/20926/ws/p2p/16Uiu2HAmEUuMZtU8Wcv9tUN6T6cHMCfgBZAt2zkiG9HQnHmLmjbb"],"enrUri":"enr:-L24QBjThqybku0ESu7MTc-iGPYOJUntzAWFPLj1IyCsbjjQP8Ix_bN6mQH5vdrdKnz532gMDyUyJq9RaoaC8blMKEYCgmlkgnY0gmlwhKwSVriKbXVsdGlhZGRyc5YACASsEla4BlG9AAoErBJWuAZRvt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDGyHq6_MrSpSgxmZ1cvlPhIMWRp4sN_hIkN_xxXp3Wc6DdGNwglG9g3VkcIJRv4V3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20924/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.6.220/tcp/46988/p2p/16Uiu2HAkvue43XrKr4BG5LjVASmrhDhqNFMRdenuzdbmkVtvJn3q"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-12-05_11-54-49__8eb9e126-10af-4acb-b310-a9666d8318c7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.16.247
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['19019', '19020', '19021', '19022', '19023']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 19019:19019 -p 19020:19020 -p 19021:19021 -p 19022:19022 -p 19023:19023 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=19021 --rest-port=19019 --tcp-port=19020 --discv5-udp-port=19022 --rest-address=0.0.0.0 --nat=extip:172.18.16.247 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bcb8dcb5abef9eda738f02efd0f8a58dbad1c666ead0f2532bbbeb6f1cf174cb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=19023 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QCtJ1pyTdyjj0OdRKOO6QozC9FpHaAkivhpX4fhSxsjRFOJ7lh1gJBKlFKdDawyrgavdASzwUiwuQSHfbYciF5ECgmlkgnY0gmlwhKwSBtyKbXVsdGlhZGRyc5YACASsEgbcBreMAAoErBIG3Aa3jd0DgnJzhQADAQAAiXNlY3AyNTZrMaECFgXFYzY4Vg5_ZmrvXuXnDBlccnEYMUhL1LVOoYt9ulCDdGNwgreMg3VkcIK3joV3YWt1MgU --filternode=/ip4/172.18.6.220/tcp/46988/p2p/16Uiu2HAkvue43XrKr4BG5LjVASmrhDhqNFMRdenuzdbmkVtvJn3q
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.16.247 waku 5d35340166e93897d0caef45060c5c171da0569f56ebcd0fe2d6fd3014c34f76
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 5d35340166e9. Setting up logs at ./log/docker/node5_2024-12-05_11-54-49__8eb9e126-10af-4acb-b310-a9666d8318c7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 19019
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19019/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19019/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.16.247/tcp/19020/p2p/16Uiu2HAmD1kXt1jHcr5hmverBXYVMhPuAPom2a8mHWQQmEXf3RZs","/ip4/172.18.16.247/tcp/19021/ws/p2p/16Uiu2HAmD1kXt1jHcr5hmverBXYVMhPuAPom2a8mHWQQmEXf3RZs"],"enrUri":"enr:-L24QF1fZq5wT98P1w7ICkS3OyC52FWKCMbzGoaifGZlQpU9aH7tnFZwSLaLlruD7NYyww9nf9bnkue7O_E40MUkwLsCgmlkgnY0gmlwhKwSEPeKbXVsdGlhZGRyc5YACASsEhD3BkpMAAoErBIQ9wZKTd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDBVGS13TZG72WOrWkOZklTIECa0cYP7bQFDbD1DSM0IKDdGNwgkpMg3VkcIJKToV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19019/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.6.220/tcp/46988/p2p/16Uiu2HAkvue43XrKr4BG5LjVASmrhDhqNFMRdenuzdbmkVtvJn3q"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46987/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27798/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "79138201-9c73-457e-92ed-690128b791c6", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"79138201-9c73-457e-92ed-690128b791c6","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36743/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "82162e43-cf3e-4b77-af18-fb2dacf8d130", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"82162e43-cf3e-4b77-af18-fb2dacf8d130","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20924/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "63059ddb-6b20-4110-a4a1-a650c5c35e43", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"63059ddb-6b20-4110-a4a1-a650c5c35e43","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19019/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "7a7499e9-1955-4e7b-aaeb-5d308480a3c9", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"7a7499e9-1955-4e7b-aaeb-5d308480a3c9","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46987/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27798/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1733399696895646720,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46987/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36743/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:36743/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id c29203c741a4
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 4d469739340b
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container c29203c741a4. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id dea188b22122
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 4d469739340b. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id bf818989229c
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container dea188b22122. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 5d35340166e9
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container bf818989229c. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.