[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2024-12-05_12-02-07__a92ab96e-f796-4f53-89f5-322e4d2f313e
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-05_12-02-07__a92ab96e-f796-4f53-89f5-322e4d2f313e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.111.104
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['62247', '62248', '62249', '62250', '62251']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 62247:62247 -p 62248:62248 -p 62249:62249 -p 62250:62250 -p 62251:62251 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=62249 --rest-port=62247 --tcp-port=62248 --discv5-udp-port=62250 --rest-address=0.0.0.0 --nat=extip:172.18.111.104 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=10e4fbae93d7d4c41caea9eb5b74cf6712eaa3c6eecb3ddd379357ac27d898ae --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=62251 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.111.104 waku fca5f5724f6fab608b8d3790acc9cdbb2e94f2af073a6da07537119f52d3fb14
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID fca5f5724f6f. Setting up logs at ./log/docker/node1_2024-12-05_12-02-07__a92ab96e-f796-4f53-89f5-322e4d2f313e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 62247
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container d0216c6824aa. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62247/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62247/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.111.104/tcp/62248/p2p/16Uiu2HAmMLH398i75hELpTc2mGCzg2xL787gdKCWM9DBrFNVAwcu","/ip4/172.18.111.104/tcp/62249/ws/p2p/16Uiu2HAmMLH398i75hELpTc2mGCzg2xL787gdKCWM9DBrFNVAwcu"],"enrUri":"enr:-L24QD0DA3YuNb4-qhNS1gzBRaKlFvD0omafptYmKfFuOZpfBcxi1Jf-nG7yYaeypiVkxpI9yA4a02zNFe1pQFDiI64CgmlkgnY0gmlwhKwSb2iKbXVsdGlhZGRyc5YACASsEm9oBvMoAAoErBJvaAbzKd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDgO4D3qvsF7QMB2ZHlVef8IOajy_Lgkj0B9om_jUPGQKDdGNwgvMog3VkcILzKoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-05_12-02-07__a92ab96e-f796-4f53-89f5-322e4d2f313e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.71.211
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['11501', '11502', '11503', '11504', '11505']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 11501:11501 -p 11502:11502 -p 11503:11503 -p 11504:11504 -p 11505:11505 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=11503 --rest-port=11501 --tcp-port=11502 --discv5-udp-port=11504 --rest-address=0.0.0.0 --nat=extip:172.18.71.211 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8b09bbfeb0bcffc1c5bf7606b08d19af7ccdec0a8cbe4fcd527fd5c385f61ec6 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=11505 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QD0DA3YuNb4-qhNS1gzBRaKlFvD0omafptYmKfFuOZpfBcxi1Jf-nG7yYaeypiVkxpI9yA4a02zNFe1pQFDiI64CgmlkgnY0gmlwhKwSb2iKbXVsdGlhZGRyc5YACASsEm9oBvMoAAoErBJvaAbzKd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDgO4D3qvsF7QMB2ZHlVef8IOajy_Lgkj0B9om_jUPGQKDdGNwgvMog3VkcILzKoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.71.211 waku 19fd75f3c8f0b8a2a23dd1c884c4c6817b90efb42dad235d4a90e9a62ad91cd1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 19fd75f3c8f0. Setting up logs at ./log/docker/node2_2024-12-05_12-02-07__a92ab96e-f796-4f53-89f5-322e4d2f313e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 11501
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11501/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11501/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.71.211/tcp/11502/p2p/16Uiu2HAmBaxpbgvUowVbsuEFqnaco78WZ6pqvAbR26smt2C3YMzN","/ip4/172.18.71.211/tcp/11503/ws/p2p/16Uiu2HAmBaxpbgvUowVbsuEFqnaco78WZ6pqvAbR26smt2C3YMzN"],"enrUri":"enr:-L24QHT44VV-t9-gmj6cJMXCqVT_A95MZJf8_d2IaOQ3pK9fPG14n8dOt0L6oBiTUJKtZ7w7QW9Q6Oiw9AOoVAfqpwUCgmlkgnY0gmlwhKwSR9OKbXVsdGlhZGRyc5YACASsEkfTBizuAAoErBJH0wYs790DgnJzhQADAQAAiXNlY3AyNTZrMaEC8BxCxNyL0o6b1k5slmqLhxSUp7rf9kzPhmXKZQ0mgGeDdGNwgizug3VkcIIs8IV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11501/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.111.104/tcp/62248/p2p/16Uiu2HAmMLH398i75hELpTc2mGCzg2xL787gdKCWM9DBrFNVAwcu"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-12-05_12-02-07__a92ab96e-f796-4f53-89f5-322e4d2f313e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.47.164
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['56715', '56716', '56717', '56718', '56719']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 56715:56715 -p 56716:56716 -p 56717:56717 -p 56718:56718 -p 56719:56719 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=56717 --rest-port=56715 --tcp-port=56716 --discv5-udp-port=56718 --rest-address=0.0.0.0 --nat=extip:172.18.47.164 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ec3b4c036add0c2105d58c7dc9fac5e5a083cf6acba11bad7300deddd4e8aecb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=56719 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QD0DA3YuNb4-qhNS1gzBRaKlFvD0omafptYmKfFuOZpfBcxi1Jf-nG7yYaeypiVkxpI9yA4a02zNFe1pQFDiI64CgmlkgnY0gmlwhKwSb2iKbXVsdGlhZGRyc5YACASsEm9oBvMoAAoErBJvaAbzKd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDgO4D3qvsF7QMB2ZHlVef8IOajy_Lgkj0B9om_jUPGQKDdGNwgvMog3VkcILzKoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.47.164 waku 979333d989dc43a7db6ff4765a1b779c183f9e056ca3257e57b1b74392d8e33c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 979333d989dc. Setting up logs at ./log/docker/node3_2024-12-05_12-02-07__a92ab96e-f796-4f53-89f5-322e4d2f313e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 56715
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56715/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56715/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.47.164/tcp/56716/p2p/16Uiu2HAm96d1KTPVgNf8sDtWcQL7dxv516pnN28kbBSiPww6SJzj","/ip4/172.18.47.164/tcp/56717/ws/p2p/16Uiu2HAm96d1KTPVgNf8sDtWcQL7dxv516pnN28kbBSiPww6SJzj"],"enrUri":"enr:-L24QDpzSXR5cPYYNgt_2PY9Gldch7cBLZMIkOSZunbjq3wWWsNE-orTw6zDUspbXt1tmIfTKoorapfeTzSI-yodHKUCgmlkgnY0gmlwhKwSL6SKbXVsdGlhZGRyc5YACASsEi-kBt2MAAoErBIvpAbdjd0DgnJzhQADAQAAiXNlY3AyNTZrMaECyyI4Hx_amQiKTIaRjXQiOBl0m5sQbBvAlnN27Nsi_vCDdGNwgt2Mg3VkcILdjoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56715/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.111.104/tcp/62248/p2p/16Uiu2HAmMLH398i75hELpTc2mGCzg2xL787gdKCWM9DBrFNVAwcu"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-12-05_12-02-07__a92ab96e-f796-4f53-89f5-322e4d2f313e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.164.149
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['29229', '29230', '29231', '29232', '29233']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 29229:29229 -p 29230:29230 -p 29231:29231 -p 29232:29232 -p 29233:29233 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=29231 --rest-port=29229 --tcp-port=29230 --discv5-udp-port=29232 --rest-address=0.0.0.0 --nat=extip:172.18.164.149 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a0cba36c84ecceda5f4482dccb97e983f1a7fb8ac54d90fa3befdef38470bd0b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=29233 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QD0DA3YuNb4-qhNS1gzBRaKlFvD0omafptYmKfFuOZpfBcxi1Jf-nG7yYaeypiVkxpI9yA4a02zNFe1pQFDiI64CgmlkgnY0gmlwhKwSb2iKbXVsdGlhZGRyc5YACASsEm9oBvMoAAoErBJvaAbzKd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDgO4D3qvsF7QMB2ZHlVef8IOajy_Lgkj0B9om_jUPGQKDdGNwgvMog3VkcILzKoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.164.149 waku 92454eaf78f05f8943d4fa32e0e9be9a77b1f19d52afc09a3c68c58943906b67
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 92454eaf78f0. Setting up logs at ./log/docker/node4_2024-12-05_12-02-07__a92ab96e-f796-4f53-89f5-322e4d2f313e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 29229
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29229/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29229/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.164.149/tcp/29230/p2p/16Uiu2HAmVJYpYQ7poiRZZ9stkdr5fjafPsT2ocfFW3FB9uPuv3JM","/ip4/172.18.164.149/tcp/29231/ws/p2p/16Uiu2HAmVJYpYQ7poiRZZ9stkdr5fjafPsT2ocfFW3FB9uPuv3JM"],"enrUri":"enr:-L24QENC_S2oqjmBr9Mjh2RYgE-6puooRrluXOXTbJDjFdnYR9UF1WrRJ1zHazEROY11R7cQvJonixQ9bWxvHvjvfr8CgmlkgnY0gmlwhKwSpJWKbXVsdGlhZGRyc5YACASsEqSVBnIuAAoErBKklQZyL90DgnJzhQADAQAAiXNlY3AyNTZrMaED91oxzj4AXiMirb-jMRXSXQwGqLBw7C5FGVMB844D6n6DdGNwgnIug3VkcIJyMIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29229/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.111.104/tcp/62248/p2p/16Uiu2HAmMLH398i75hELpTc2mGCzg2xL787gdKCWM9DBrFNVAwcu"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-12-05_12-02-07__a92ab96e-f796-4f53-89f5-322e4d2f313e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.22.72
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['63059', '63060', '63061', '63062', '63063']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 63059:63059 -p 63060:63060 -p 63061:63061 -p 63062:63062 -p 63063:63063 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=63061 --rest-port=63059 --tcp-port=63060 --discv5-udp-port=63062 --rest-address=0.0.0.0 --nat=extip:172.18.22.72 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8d1d06dbacf246f9d1cc1132c9bd6f48a1ffa0aafc90cf4ccc2b4eb589d2f6fc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=63063 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QD0DA3YuNb4-qhNS1gzBRaKlFvD0omafptYmKfFuOZpfBcxi1Jf-nG7yYaeypiVkxpI9yA4a02zNFe1pQFDiI64CgmlkgnY0gmlwhKwSb2iKbXVsdGlhZGRyc5YACASsEm9oBvMoAAoErBJvaAbzKd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDgO4D3qvsF7QMB2ZHlVef8IOajy_Lgkj0B9om_jUPGQKDdGNwgvMog3VkcILzKoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.22.72 waku 036bfb2f1c9a20e824f8383b2f927dd9391bb1d6c0cc79547e50716b5fd08208
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 036bfb2f1c9a. Setting up logs at ./log/docker/node5_2024-12-05_12-02-07__a92ab96e-f796-4f53-89f5-322e4d2f313e__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 63059
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63059/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63059/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.22.72/tcp/63060/p2p/16Uiu2HAm8Q6kGHM1A4SiEX1HMKMwS9VVnkCXVvWDbdWHF8eMxqs4","/ip4/172.18.22.72/tcp/63061/ws/p2p/16Uiu2HAm8Q6kGHM1A4SiEX1HMKMwS9VVnkCXVvWDbdWHF8eMxqs4"],"enrUri":"enr:-L24QJbJCB3jPL4nqFX0lOsE19NyAY4fQon3sikIRS9MRMviGnz_N_EJTqzr6YeFoiazZEmvk72B9mFzAK2zN4IDEBgCgmlkgnY0gmlwhKwSFkiKbXVsdGlhZGRyc5YACASsEhZIBvZUAAoErBIWSAb2Vd0DgnJzhQADAQAAiXNlY3AyNTZrMaECwMDFsxXT_DjMRd0Fp3v19jyBzcg93ePELBakT5MSRs-DdGNwgvZUg3VkcIL2VoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63059/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.111.104/tcp/62248/p2p/16Uiu2HAmMLH398i75hELpTc2mGCzg2xL787gdKCWM9DBrFNVAwcu"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62247/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11501/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56715/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29229/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63059/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62247/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62247/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733400134798739968,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11501/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733400134798739968,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56715/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733400134798739968,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29229/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733400134798739968,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63059/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733400134798739968,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63059/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62247/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733400134930213120,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11501/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733400134930213120,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56715/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733400134930213120,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29229/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733400134930213120,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63059/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733400134930213120,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id fca5f5724f6f
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 19fd75f3c8f0
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container fca5f5724f6f. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 979333d989dc
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 19fd75f3c8f0. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 92454eaf78f0
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 979333d989dc. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 036bfb2f1c9a
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 92454eaf78f0. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.