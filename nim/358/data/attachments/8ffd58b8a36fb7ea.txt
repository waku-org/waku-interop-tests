[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_unsubscribe_all_with_invalid_request_id with id: 2024-09-12_06-06-24__a836d5f3-c48f-437e-8e9d-eca133338bf3
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-09-12_06-06-24__a836d5f3-c48f-437e-8e9d-eca133338bf3__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.46.229
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['18173', '18174', '18175', '18176', '18177']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 18173:18173 -p 18174:18174 -p 18175:18175 -p 18176:18176 -p 18177:18177 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=18175 --rest-port=18173 --tcp-port=18174 --discv5-udp-port=18176 --rest-address=0.0.0.0 --nat=extip:172.18.46.229 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f0ee08d43edde433a850b8ae69e7eb0f444d08fe9f1fddccb59aed1f1dac8a92 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=18177 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.46.229 waku 128d776a730ef107575bd64c5212defafa73d5ac403dc95a4d2ea0f534059d1e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 128d776a730e. Setting up logs at ./log/docker/node1_2024-09-12_06-06-24__a836d5f3-c48f-437e-8e9d-eca133338bf3__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 18173
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18173/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18173/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.46.229/tcp/18174/p2p/16Uiu2HAm5PUjjGUwdmeYnUgv8nVEtprpGRmidUWHhmz1VYNC3wbT","/ip4/172.18.46.229/tcp/18175/ws/p2p/16Uiu2HAm5PUjjGUwdmeYnUgv8nVEtprpGRmidUWHhmz1VYNC3wbT"],"enrUri":"enr:-LO4QDbe9nO1_69WblltkJCZTYE9falD_DjQxPDeIXp_LFFAGb9T_Ji3PnpHEA2AQZVjngVy01j3mDrICTS9py6aiEIBgmlkgnY0gmlwhKwSLuWKbXVsdGlhZGRyc4wACgSsEi7lBkb_3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKUBP7oL1zwaEhpdctgXyDWLTJSsYU0FuajCoAI_b5ZRoN0Y3CCRv6DdWRwgkcAhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-09-12_06-06-24__a836d5f3-c48f-437e-8e9d-eca133338bf3__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.26.117
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['59116', '59117', '59118', '59119', '59120']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 59116:59116 -p 59117:59117 -p 59118:59118 -p 59119:59119 -p 59120:59120 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=59118 --rest-port=59116 --tcp-port=59117 --discv5-udp-port=59119 --rest-address=0.0.0.0 --nat=extip:172.18.26.117 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a47cf0272ec57cacb67f4478b0cb42bde47ce5ab016d11fb7e0dbce13bd230b5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=59120 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QDbe9nO1_69WblltkJCZTYE9falD_DjQxPDeIXp_LFFAGb9T_Ji3PnpHEA2AQZVjngVy01j3mDrICTS9py6aiEIBgmlkgnY0gmlwhKwSLuWKbXVsdGlhZGRyc4wACgSsEi7lBkb_3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKUBP7oL1zwaEhpdctgXyDWLTJSsYU0FuajCoAI_b5ZRoN0Y3CCRv6DdWRwgkcAhXdha3UyBQ --filternode=/ip4/172.18.46.229/tcp/18174/p2p/16Uiu2HAm5PUjjGUwdmeYnUgv8nVEtprpGRmidUWHhmz1VYNC3wbT
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.26.117 waku de94bbace2a48a949156c8461b53f55238ce9442df80fba5541dd2a146de4434
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID de94bbace2a4. Setting up logs at ./log/docker/node2_2024-09-12_06-06-24__a836d5f3-c48f-437e-8e9d-eca133338bf3__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 59116
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59116/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59116/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.26.117/tcp/59117/p2p/16Uiu2HAmPcpKNfiE7QymK14nhT7zEPKrsHAgqhPvqkjMiyKkYGLT","/ip4/172.18.26.117/tcp/59118/ws/p2p/16Uiu2HAmPcpKNfiE7QymK14nhT7zEPKrsHAgqhPvqkjMiyKkYGLT"],"enrUri":"enr:-LO4QLqIb_0jUlH8M5h8qtT9MeMUDo6H9jqTV-VieW0It-djJTMbYSqmL-ubL29jr0j3YQCSzi6LpyMXkMFPRcA_jRIBgmlkgnY0gmlwhKwSGnWKbXVsdGlhZGRyc4wACgSsEhp1Bubu3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOi4gzZe-jI4GlNdYTrwUVYxNlSj-CtOsSZXYZxSjFLzIN0Y3CC5u2DdWRwgubvhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59116/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.46.229/tcp/18174/p2p/16Uiu2HAm5PUjjGUwdmeYnUgv8nVEtprpGRmidUWHhmz1VYNC3wbT"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:18173/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59116/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "f522068b-7b38-44c1-8755-257a3621aa80", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"f522068b-7b38-44c1-8755-257a3621aa80","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:59116/filter/v2/subscriptions/all" -H "Content-Type: application/json" -d '{"requestId": 1}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:59116/filter/v2/subscriptions/all. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data\\", contentType: \\"text/plain\\"))"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 128d776a730e
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id de94bbace2a4
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.