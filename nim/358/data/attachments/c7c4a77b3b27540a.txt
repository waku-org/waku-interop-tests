[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_auto_sharding_multiple_content_topics with id: 2024-09-12_06-13-52__e59fa020-ec6b-4f45-8e25-7d353f29dd96
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.sharding:sharding.py:29 Running fixture setup: sharding_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-09-12_06-13-52__e59fa020-ec6b-4f45-8e25-7d353f29dd96__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.43.91
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['4546', '4547', '4548', '4549', '4550']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 4546:4546 -p 4547:4547 -p 4548:4548 -p 4549:4549 -p 4550:4550 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=4548 --rest-port=4546 --tcp-port=4547 --discv5-udp-port=4549 --rest-address=0.0.0.0 --nat=extip:172.18.43.91 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=c2bfee0430bab39eceffae3eedd1a5e36ea269add925f5cd23ebccbbfeee9fbc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=4550 --metrics-logging=true --relay=true --filter=true --content-topic=/myapp/1/latest/proto --content-topic=/waku/2/content/test.js --content-topic=/app/22/sometopic/someencoding --content-topic=/toychat/2/huilong/proto --content-topic=/statusim/1/community/cbor --content-topic=/app/27/sometopic/someencoding --content-topic=/app/29/sometopic/someencoding --content-topic=/app/20/sometopic/someencoding --pubsub-topic=/waku/2/rs/2/0 --pubsub-topic=/waku/2/rs/2/1 --pubsub-topic=/waku/2/rs/2/2 --pubsub-topic=/waku/2/rs/2/3 --pubsub-topic=/waku/2/rs/2/4 --pubsub-topic=/waku/2/rs/2/5 --pubsub-topic=/waku/2/rs/2/6 --pubsub-topic=/waku/2/rs/2/7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.43.91 waku 4de3010c671852aacd9def16ba66b70ea7dfdbe8984eb5920280901047339cf9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 4de3010c6718. Setting up logs at ./log/docker/node1_2024-09-12_06-13-52__e59fa020-ec6b-4f45-8e25-7d353f29dd96__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 4546
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4546/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4546/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.43.91/tcp/4547/p2p/16Uiu2HAmHa7cQiG9CpMtzKWDXd22QESjfNeei7esGLoRNDhb4eSm","/ip4/172.18.43.91/tcp/4548/ws/p2p/16Uiu2HAmHa7cQiG9CpMtzKWDXd22QESjfNeei7esGLoRNDhb4eSm"],"enrUri":"enr:-MG4QAwqy7-OKfP24cRU15QBiBENEWsHzCILzHXYMOdGOCH5I-fdNiaZXcTEzGWFiLOtRV42z7hOF0e3mxhHjjaTqF0BgmlkgnY0gmlwhKwSK1uKbXVsdGlhZGRyc4wACgSsEitbBhHE3QOCcnOTAAIIAAAAAQACAAMABAAFAAYAB4lzZWNwMjU2azGhA0kKvYJPaz3m-MiOPvZ7dRvEgDK_8p2ISUt2qSqvs8cig3RjcIIRw4N1ZHCCEcWFd2FrdTIF"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-09-12_06-13-52__e59fa020-ec6b-4f45-8e25-7d353f29dd96__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.240.207
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['16982', '16983', '16984', '16985', '16986']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 16982:16982 -p 16983:16983 -p 16984:16984 -p 16985:16985 -p 16986:16986 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=16984 --rest-port=16982 --tcp-port=16983 --discv5-udp-port=16985 --rest-address=0.0.0.0 --nat=extip:172.18.240.207 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=e517ed5dc374a10f15a8f7c21310ec2d1d756cfbc2ead42864e7772d9dfffc3f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=16986 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-MG4QAwqy7-OKfP24cRU15QBiBENEWsHzCILzHXYMOdGOCH5I-fdNiaZXcTEzGWFiLOtRV42z7hOF0e3mxhHjjaTqF0BgmlkgnY0gmlwhKwSK1uKbXVsdGlhZGRyc4wACgSsEitbBhHE3QOCcnOTAAIIAAAAAQACAAMABAAFAAYAB4lzZWNwMjU2azGhA0kKvYJPaz3m-MiOPvZ7dRvEgDK_8p2ISUt2qSqvs8cig3RjcIIRw4N1ZHCCEcWFd2FrdTIF --filternode=/ip4/172.18.43.91/tcp/4547/p2p/16Uiu2HAmHa7cQiG9CpMtzKWDXd22QESjfNeei7esGLoRNDhb4eSm --content-topic=/myapp/1/latest/proto --content-topic=/waku/2/content/test.js --content-topic=/app/22/sometopic/someencoding --content-topic=/toychat/2/huilong/proto --content-topic=/statusim/1/community/cbor --content-topic=/app/27/sometopic/someencoding --content-topic=/app/29/sometopic/someencoding --content-topic=/app/20/sometopic/someencoding --pubsub-topic=/waku/2/rs/2/0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.240.207 waku 02548f51cbd0c5312a31181ea7470bf87df614d8ddbbdad858a8e289873c9290
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 02548f51cbd0. Setting up logs at ./log/docker/node2_2024-09-12_06-13-52__e59fa020-ec6b-4f45-8e25-7d353f29dd96__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 16982
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16982/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16982/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.240.207/tcp/16983/p2p/16Uiu2HAmQLf2ks7ZbAVrHeij5peH8QS65sK2uWvpAVmWCoGuuW3F","/ip4/172.18.240.207/tcp/16984/ws/p2p/16Uiu2HAmQLf2ks7ZbAVrHeij5peH8QS65sK2uWvpAVmWCoGuuW3F"],"enrUri":"enr:-LO4QHrFci49dLLR_D0ONUmbqH6lmmuPR67RQLb4ueHXaV45HoWYvBzWqj54NzVP5H_CI9u4DXdNdF0TZsJGNrRu9BEBgmlkgnY0gmlwhKwS8M-KbXVsdGlhZGRyc4wACgSsEvDPBkJY3QOCcnOFAAIBAACJc2VjcDI1NmsxoQOtmfGiw1spj3zpxdI_IQ_PKeJBiUp-7k2AHRuqfkepVoN0Y3CCQleDdWRwgkJZhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16982/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.43.91/tcp/4547/p2p/16Uiu2HAmHa7cQiG9CpMtzKWDXd22QESjfNeei7esGLoRNDhb4eSm"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4546/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16982/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "69f40b5e-757e-453b-919d-c524c8885541", "contentFilters": ["/myapp/1/latest/proto"], "pubsubTopic": "/waku/2/rs/2/0"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"69f40b5e-757e-453b-919d-c524c8885541","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16982/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "d091daec-90b5-4b14-b06c-6cc84d599f36", "contentFilters": ["/waku/2/content/test.js"], "pubsubTopic": "/waku/2/rs/2/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"d091daec-90b5-4b14-b06c-6cc84d599f36","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16982/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "027edb4a-cd00-4930-a486-8f24f4a949ce", "contentFilters": ["/app/22/sometopic/someencoding"], "pubsubTopic": "/waku/2/rs/2/2"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"027edb4a-cd00-4930-a486-8f24f4a949ce","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16982/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "ae549b34-34db-496e-ae99-45a8b2f61925", "contentFilters": ["/toychat/2/huilong/proto"], "pubsubTopic": "/waku/2/rs/2/3"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"ae549b34-34db-496e-ae99-45a8b2f61925","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16982/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "3bc1e4f4-2f19-4e6d-9dbd-31a3e9857314", "contentFilters": ["/statusim/1/community/cbor"], "pubsubTopic": "/waku/2/rs/2/4"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"3bc1e4f4-2f19-4e6d-9dbd-31a3e9857314","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16982/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "5a5f2c60-4cfd-414d-82fb-61e32fbb38c7", "contentFilters": ["/app/27/sometopic/someencoding"], "pubsubTopic": "/waku/2/rs/2/5"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"5a5f2c60-4cfd-414d-82fb-61e32fbb38c7","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16982/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "053b08b2-fd47-4a1e-9c4f-1c0dcfd90dc2", "contentFilters": ["/app/29/sometopic/someencoding"], "pubsubTopic": "/waku/2/rs/2/6"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"053b08b2-fd47-4a1e-9c4f-1c0dcfd90dc2","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16982/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "c193df45-34a7-48ec-92c8-3440f36b77dc", "contentFilters": ["/app/20/sometopic/someencoding"], "pubsubTopic": "/waku/2/rs/2/7"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"c193df45-34a7-48ec-92c8-3440f36b77dc","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4546/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.sharding:sharding.py:186 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16982/filter/v2/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 4de3010c6718
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 02548f51cbd0
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node1_2024-09-12_06-13-52__e59fa020-ec6b-4f45-8e25-7d353f29dd96__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node2_2024-09-12_06-13-52__e59fa020-ec6b-4f45-8e25-7d353f29dd96__wakuorg_nwaku:latest.log
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_auto_sharding_multiple_content_topics with id: 2024-09-12_06-14-00__1476f107-93ae-4d0b-8d76-427d23213bf8
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.sharding:sharding.py:29 Running fixture setup: sharding_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-09-12_06-14-00__1476f107-93ae-4d0b-8d76-427d23213bf8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.234.218
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['61969', '61970', '61971', '61972', '61973']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 61969:61969 -p 61970:61970 -p 61971:61971 -p 61972:61972 -p 61973:61973 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=61971 --rest-port=61969 --tcp-port=61970 --discv5-udp-port=61972 --rest-address=0.0.0.0 --nat=extip:172.18.234.218 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=6ee2dfac00fc9eac1dfac503cfce1beafe3d4d2e561ebf5da37f7e3f2c15fabe --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=61973 --metrics-logging=true --relay=true --filter=true --content-topic=/myapp/1/latest/proto --content-topic=/waku/2/content/test.js --content-topic=/app/22/sometopic/someencoding --content-topic=/toychat/2/huilong/proto --content-topic=/statusim/1/community/cbor --content-topic=/app/27/sometopic/someencoding --content-topic=/app/29/sometopic/someencoding --content-topic=/app/20/sometopic/someencoding --pubsub-topic=/waku/2/rs/2/0 --pubsub-topic=/waku/2/rs/2/1 --pubsub-topic=/waku/2/rs/2/2 --pubsub-topic=/waku/2/rs/2/3 --pubsub-topic=/waku/2/rs/2/4 --pubsub-topic=/waku/2/rs/2/5 --pubsub-topic=/waku/2/rs/2/6 --pubsub-topic=/waku/2/rs/2/7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.234.218 waku d60b142752245835860a5386f663ee16afb3e75965d977b095a31f3d5d2ff0a9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID d60b14275224. Setting up logs at ./log/docker/node1_2024-09-12_06-14-00__1476f107-93ae-4d0b-8d76-427d23213bf8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 61969
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61969/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61969/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.234.218/tcp/61970/p2p/16Uiu2HAm65d157BJxWJ4dsMoEx3HqirxugDVjdZdKrsAPUu3FuZ3","/ip4/172.18.234.218/tcp/61971/ws/p2p/16Uiu2HAm65d157BJxWJ4dsMoEx3HqirxugDVjdZdKrsAPUu3FuZ3"],"enrUri":"enr:-MG4QBfGRzP2x4MkUqaWfMMQ-3Q0BP52Du-_RP1JqjX5IPenH2NgUYgzZeBZQ1fAzpEbMbSW47PkwkgTy3-mpzO5CxsBgmlkgnY0gmlwhKwS6tqKbXVsdGlhZGRyc4wACgSsEuraBvIT3QOCcnOTAAIIAAAAAQACAAMABAAFAAYAB4lzZWNwMjU2azGhAp5NkqPwS9w7jIVKIIiKc-HwGlWH8KfMP296Vx-V2EAig3RjcILyEoN1ZHCC8hSFd2FrdTIF"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-09-12_06-14-00__1476f107-93ae-4d0b-8d76-427d23213bf8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.101.244
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['50196', '50197', '50198', '50199', '50200']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 50196:50196 -p 50197:50197 -p 50198:50198 -p 50199:50199 -p 50200:50200 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=50198 --rest-port=50196 --tcp-port=50197 --discv5-udp-port=50199 --rest-address=0.0.0.0 --nat=extip:172.18.101.244 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=fad48fcbccb59d5b7c3bd351f6bf4ab2e252f7a0d6863aca7b5bd003ab9ecc18 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=50200 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-MG4QBfGRzP2x4MkUqaWfMMQ-3Q0BP52Du-_RP1JqjX5IPenH2NgUYgzZeBZQ1fAzpEbMbSW47PkwkgTy3-mpzO5CxsBgmlkgnY0gmlwhKwS6tqKbXVsdGlhZGRyc4wACgSsEuraBvIT3QOCcnOTAAIIAAAAAQACAAMABAAFAAYAB4lzZWNwMjU2azGhAp5NkqPwS9w7jIVKIIiKc-HwGlWH8KfMP296Vx-V2EAig3RjcILyEoN1ZHCC8hSFd2FrdTIF --filternode=/ip4/172.18.234.218/tcp/61970/p2p/16Uiu2HAm65d157BJxWJ4dsMoEx3HqirxugDVjdZdKrsAPUu3FuZ3 --content-topic=/myapp/1/latest/proto --content-topic=/waku/2/content/test.js --content-topic=/app/22/sometopic/someencoding --content-topic=/toychat/2/huilong/proto --content-topic=/statusim/1/community/cbor --content-topic=/app/27/sometopic/someencoding --content-topic=/app/29/sometopic/someencoding --content-topic=/app/20/sometopic/someencoding --pubsub-topic=/waku/2/rs/2/0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.101.244 waku 5633cb79a8ff26f1718236a0c24259e30d42321ff08b1f1309274a65fd22ff24
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 5633cb79a8ff. Setting up logs at ./log/docker/node2_2024-09-12_06-14-00__1476f107-93ae-4d0b-8d76-427d23213bf8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 50196
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50196/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50196/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.101.244/tcp/50197/p2p/16Uiu2HAkyufUtJPSFMAbP9u2wxZ8F1PFgcYgDNaFe3q7PHQfcBD6","/ip4/172.18.101.244/tcp/50198/ws/p2p/16Uiu2HAkyufUtJPSFMAbP9u2wxZ8F1PFgcYgDNaFe3q7PHQfcBD6"],"enrUri":"enr:-LO4QA7B2Px-V0iJZLFkJLt8u2L-j8lPFkgWIeUnXojSzkUuIoBUiOLajjzazVxymC2sKnX4nuchkQ7uh8LKCi_o8aUBgmlkgnY0gmlwhKwSZfSKbXVsdGlhZGRyc4wACgSsEmX0BsQW3QOCcnOFAAIBAACJc2VjcDI1NmsxoQJCmnJhSFdI83WRuvn9IV6088VJNXeeuoeoPA202Ba8XYN0Y3CCxBWDdWRwgsQXhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50196/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.234.218/tcp/61970/p2p/16Uiu2HAm65d157BJxWJ4dsMoEx3HqirxugDVjdZdKrsAPUu3FuZ3"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61969/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50196/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "880b9383-3e95-4add-8786-d3ec85d8693d", "contentFilters": ["/myapp/1/latest/proto"], "pubsubTopic": "/waku/2/rs/2/0"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"880b9383-3e95-4add-8786-d3ec85d8693d","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50196/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "35785d0d-2ef8-45e3-b962-e6bedbbdd739", "contentFilters": ["/waku/2/content/test.js"], "pubsubTopic": "/waku/2/rs/2/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"35785d0d-2ef8-45e3-b962-e6bedbbdd739","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50196/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "da526efa-8c9b-4e86-b977-08e1429f6972", "contentFilters": ["/app/22/sometopic/someencoding"], "pubsubTopic": "/waku/2/rs/2/2"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"da526efa-8c9b-4e86-b977-08e1429f6972","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50196/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "d8a9145c-9078-434b-a442-78d4228d8d56", "contentFilters": ["/toychat/2/huilong/proto"], "pubsubTopic": "/waku/2/rs/2/3"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"d8a9145c-9078-434b-a442-78d4228d8d56","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50196/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "be77bf5d-8580-421f-9976-a09899c14125", "contentFilters": ["/statusim/1/community/cbor"], "pubsubTopic": "/waku/2/rs/2/4"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"be77bf5d-8580-421f-9976-a09899c14125","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50196/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "47886252-26b3-4ca6-ab77-a41c1a9a9b4e", "contentFilters": ["/app/27/sometopic/someencoding"], "pubsubTopic": "/waku/2/rs/2/5"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"47886252-26b3-4ca6-ab77-a41c1a9a9b4e","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50196/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "4fff56f1-6181-4067-9c7a-be7207b251b6", "contentFilters": ["/app/29/sometopic/someencoding"], "pubsubTopic": "/waku/2/rs/2/6"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"4fff56f1-6181-4067-9c7a-be7207b251b6","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50196/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "9ac50cc1-af65-4d89-aefc-06317df3d6a6", "contentFilters": ["/app/20/sometopic/someencoding"], "pubsubTopic": "/waku/2/rs/2/7"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"9ac50cc1-af65-4d89-aefc-06317df3d6a6","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61969/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.sharding:sharding.py:186 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50196/filter/v2/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id d60b14275224
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 5633cb79a8ff
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node2_2024-09-12_06-14-00__1476f107-93ae-4d0b-8d76-427d23213bf8__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/node1_2024-09-12_06-14-00__1476f107-93ae-4d0b-8d76-427d23213bf8__wakuorg_nwaku:latest.log