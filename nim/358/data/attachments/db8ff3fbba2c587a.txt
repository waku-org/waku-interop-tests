[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_time_filter_matches_multiple_messages with id: 2024-09-12_06-28-21__5cb5bb3f-ce2a-4ce1-9cd3-02560de63c7c
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:28 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:36 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-09-12_06-28-21__5cb5bb3f-ce2a-4ce1-9cd3-02560de63c7c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.219.86
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['58769', '58770', '58771', '58772', '58773']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 58769:58769 -p 58770:58770 -p 58771:58771 -p 58772:58772 -p 58773:58773 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=58771 --rest-port=58769 --tcp-port=58770 --discv5-udp-port=58772 --rest-address=0.0.0.0 --nat=extip:172.18.219.86 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ddeca28fa61fbe1a9f4afa32320c66f76adb1debee9ff7da8dbfdfbcc70ee86f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=58773 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.219.86 waku c9eb3869a0b28f1c0c898b13c23980d9d97e16a13a72a756bfb27f7d42add478
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID c9eb3869a0b2. Setting up logs at ./log/docker/publishing_node1_2024-09-12_06-28-21__5cb5bb3f-ce2a-4ce1-9cd3-02560de63c7c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 58769
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58769/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58769/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.219.86/tcp/58770/p2p/16Uiu2HAmEDw38yNqUjCYWaD7mywrchtMKkb66mq2tbWqAxAP5Nxz","/ip4/172.18.219.86/tcp/58771/ws/p2p/16Uiu2HAmEDw38yNqUjCYWaD7mywrchtMKkb66mq2tbWqAxAP5Nxz"],"enrUri":"enr:-LO4QEEy_1MgN8Sv0N5Ayl59fmSIOEqn0XPa8z5l3yb7izH8aF5plTUAqUwovX5QIgFH4ZcSlt1dkuWK0n5U5xZwKnABgmlkgnY0gmlwhKwS21aKbXVsdGlhZGRyc4wACgSsEttWBuWT3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMXTBuPCgnKtBhDOXdc9Ho_0l1XUSdx94atjDdpez9Tg4N0Y3CC5ZKDdWRwguWUhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-09-12_06-28-21__5cb5bb3f-ce2a-4ce1-9cd3-02560de63c7c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.221.141
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['51418', '51419', '51420', '51421', '51422']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 51418:51418 -p 51419:51419 -p 51420:51420 -p 51421:51421 -p 51422:51422 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=51420 --rest-port=51418 --tcp-port=51419 --discv5-udp-port=51421 --rest-address=0.0.0.0 --nat=extip:172.18.221.141 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ceee957a2c775aed61bff21811d7a53abab4e29346a573c051ac46f1b3096fd4 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=51422 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QEEy_1MgN8Sv0N5Ayl59fmSIOEqn0XPa8z5l3yb7izH8aF5plTUAqUwovX5QIgFH4ZcSlt1dkuWK0n5U5xZwKnABgmlkgnY0gmlwhKwS21aKbXVsdGlhZGRyc4wACgSsEttWBuWT3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMXTBuPCgnKtBhDOXdc9Ho_0l1XUSdx94atjDdpez9Tg4N0Y3CC5ZKDdWRwguWUhXdha3UyAw --storenode=/ip4/172.18.219.86/tcp/58770/p2p/16Uiu2HAmEDw38yNqUjCYWaD7mywrchtMKkb66mq2tbWqAxAP5Nxz --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.221.141 waku 44ce0b1c19a4e5b6650c76e9c99e0aeaa7aded858990062eb373b5d201c00c63
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 44ce0b1c19a4. Setting up logs at ./log/docker/store_node1_2024-09-12_06-28-21__5cb5bb3f-ce2a-4ce1-9cd3-02560de63c7c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 51418
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51418/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51418/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.221.141/tcp/51419/p2p/16Uiu2HAm3CP98nUhaxXBeE4fGs8ASdFzZHxN763NufSgCzAh6gZY","/ip4/172.18.221.141/tcp/51420/ws/p2p/16Uiu2HAm3CP98nUhaxXBeE4fGs8ASdFzZHxN763NufSgCzAh6gZY"],"enrUri":"enr:-LO4QFVI2FDzsZWwMJlz0Grl6B038BxBsrIxCDoFxNwivE6cWtUZVTb0MEYx94rxgmEHKcB1Xm1NatUYkMkgKVhU7XwBgmlkgnY0gmlwhKwS3Y2KbXVsdGlhZGRyc4wACgSsEt2NBsjc3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJzdeew6cHefxG0UdD4dLFMRPsDT9AAJNhMtuqMYmhog4N0Y3CCyNuDdWRwgsjdhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51418/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.219.86/tcp/58770/p2p/16Uiu2HAmEDw38yNqUjCYWaD7mywrchtMKkb66mq2tbWqAxAP5Nxz"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58769/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51418/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58769/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58769/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58769/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58769/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58769/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58769/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58769/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1726122498369644128&endTime=1726122503369861024&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"Rvvn2/mKkcCIOFOp2ctIdxLMNqYuGwISPtoDF52HASQ="},{"messageHash":"9bNQQcKLTffrb9GKOh+0d33MwQFvqHxflSeD6tPsk3A="},{"messageHash":"eeTSc/jcRb5NOFXpa+dKDzVypkn5MxAPy+pa2IiOBpc="},{"messageHash":"UpGLJQ1k7v+79IwmSziSuNUb9Xu7vkryjD5SIv/WEm4="},{"messageHash":"xWAe4lvrsGz3RHqih8VTCVDoK4uZ6IpJt3vkzDL4HJc="}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51418/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=1726122498369644128&endTime=1726122503369861024&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"Rvvn2/mKkcCIOFOp2ctIdxLMNqYuGwISPtoDF52HASQ="},{"messageHash":"9bNQQcKLTffrb9GKOh+0d33MwQFvqHxflSeD6tPsk3A="},{"messageHash":"eeTSc/jcRb5NOFXpa+dKDzVypkn5MxAPy+pa2IiOBpc="},{"messageHash":"UpGLJQ1k7v+79IwmSziSuNUb9Xu7vkryjD5SIv/WEm4="},{"messageHash":"xWAe4lvrsGz3RHqih8VTCVDoK4uZ6IpJt3vkzDL4HJc="}]}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id c9eb3869a0b2
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 44ce0b1c19a4
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.