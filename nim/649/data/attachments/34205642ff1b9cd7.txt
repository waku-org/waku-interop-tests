2025-02-12 04:08:59.322 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-12 04:08:59.323 DEBUG [tests.conftest] Running test: test_unsubscribe_from_some_pubsub_topics with id: 2025-02-12_04-08-59__c89f6a7d-8220-43c3-b05e-0516f11e3aa2
2025-02-12 04:08:59.323 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-12 04:08:59.323 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-12 04:08:59.323 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-12 04:08:59.331 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-12 04:08:59.331 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-12_04-08-59__c89f6a7d-8220-43c3-b05e-0516f11e3aa2__wakuorg_nwaku:latest.log
2025-02-12 04:08:59.331 DEBUG [src.node.waku_node] Starting Node...
2025-02-12 04:08:59.331 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-12 04:08:59.333 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-12 04:08:59.333 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.246.6
2025-02-12 04:08:59.333 DEBUG [src.node.docker_mananger] Generated ports ['17748', '17749', '17750', '17751', '17752']
2025-02-12 04:08:59.334 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-12 04:08:59.334 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-12 04:08:59.334 DEBUG [src.node.waku_node] Using volumes []
2025-02-12 04:08:59.334 DEBUG [src.node.docker_mananger] docker run -i -t -p 17748:17748 -p 17749:17749 -p 17750:17750 -p 17751:17751 -p 17752:17752 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=17750 --rest-port=17748 --tcp-port=17749 --discv5-udp-port=17751 --rest-address=0.0.0.0 --nat=extip:172.18.246.6 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=91cd8e7c4b52b26e9fcbe6acec0dfdc3debadbbb3c3cadb0a99fc3b559faa201 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=17752 --metrics-logging=true --relay=true --filter=true --pubsub-topic=/waku/2/rs/2/0 --pubsub-topic=/waku/2/rs/2/1 --pubsub-topic=/waku/2/rs/2/2 --pubsub-topic=/waku/2/rs/2/3 --pubsub-topic=/waku/2/rs/2/4 --pubsub-topic=/waku/2/rs/2/5 --pubsub-topic=/waku/2/rs/2/6 --pubsub-topic=/waku/2/rs/2/7
2025-02-12 04:08:59.572 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.246.6 waku 6679372e755eb4239092459403b4d99ad0173b24d8b39f1bb0aa19ee6b70057e
2025-02-12 04:08:59.625 DEBUG [src.node.docker_mananger] Container started with ID 6679372e755e. Setting up logs at ./log/docker/node1_2025-02-12_04-08-59__c89f6a7d-8220-43c3-b05e-0516f11e3aa2__wakuorg_nwaku:latest.log
2025-02-12 04:08:59.625 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 17748
2025-02-12 04:08:59.625 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-12 04:09:00.130 ERROR [src.node.docker_mananger] Max retries reached for container 755f208b5036. Exiting log stream.
2025-02-12 04:09:00.626 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17748/health" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:09:00.629 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-12 04:09:00.629 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-12 04:09:00.629 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17748/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:09:00.632 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.246.6/tcp/17749/p2p/16Uiu2HAm3F3sRwW5RGHKisNPSjZdAh5RbDBia23RVybZqjdoyPdP","/ip4/172.18.246.6/tcp/17750/ws/p2p/16Uiu2HAm3F3sRwW5RGHKisNPSjZdAh5RbDBia23RVybZqjdoyPdP"],"enrUri":"enr:-Mu4QO8wALtvTTqfvBF01iR71mDNEBqp_DGmdTvtZIp08SNDfYS5fI34KOGe1QhOfn7h5aOiO_JE1MSaSieQXdMdKAgCgmlkgnY0gmlwhKwS9gaKbXVsdGlhZGRyc5YACASsEvYGBkVVAAoErBL2BgZFVt0DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQJ0JNuinS3RtItguENm1JDsYfxNP8oWsTcxrO9G9nfX9oN0Y3CCRVWDdWRwgkVXhXdha3UyBQ"}'
2025-02-12 04:09:00.632 INFO [src.node.waku_node] REST service is ready !!
2025-02-12 04:09:00.639 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-12 04:09:00.639 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-12_04-08-59__c89f6a7d-8220-43c3-b05e-0516f11e3aa2__wakuorg_nwaku:latest.log
2025-02-12 04:09:00.640 DEBUG [src.node.waku_node] Starting Node...
2025-02-12 04:09:00.640 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-12 04:09:00.641 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-12 04:09:00.642 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.255.219
2025-02-12 04:09:00.642 DEBUG [src.node.docker_mananger] Generated ports ['60062', '60063', '60064', '60065', '60066']
2025-02-12 04:09:00.642 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-12 04:09:00.642 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-12 04:09:00.642 DEBUG [src.node.waku_node] Using volumes []
2025-02-12 04:09:00.642 DEBUG [src.node.docker_mananger] docker run -i -t -p 60062:60062 -p 60063:60063 -p 60064:60064 -p 60065:60065 -p 60066:60066 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=60064 --rest-port=60062 --tcp-port=60063 --discv5-udp-port=60065 --rest-address=0.0.0.0 --nat=extip:172.18.255.219 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=45acd8acbe1d24d611fbca5718ca0516ac0be453025078ce29b9b8f8a8ed9859 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=60066 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-Mu4QO8wALtvTTqfvBF01iR71mDNEBqp_DGmdTvtZIp08SNDfYS5fI34KOGe1QhOfn7h5aOiO_JE1MSaSieQXdMdKAgCgmlkgnY0gmlwhKwS9gaKbXVsdGlhZGRyc5YACASsEvYGBkVVAAoErBL2BgZFVt0DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQJ0JNuinS3RtItguENm1JDsYfxNP8oWsTcxrO9G9nfX9oN0Y3CCRVWDdWRwgkVXhXdha3UyBQ --pubsub-topic=/waku/2/rs/2/0 --pubsub-topic=/waku/2/rs/2/1 --pubsub-topic=/waku/2/rs/2/2 --pubsub-topic=/waku/2/rs/2/3 --pubsub-topic=/waku/2/rs/2/4 --pubsub-topic=/waku/2/rs/2/5 --pubsub-topic=/waku/2/rs/2/6 --pubsub-topic=/waku/2/rs/2/7
2025-02-12 04:09:00.893 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.255.219 waku cc9c81e0234ca4720f8244ade54a6cc61642754c88068f7d715121a3366ae747
2025-02-12 04:09:00.945 DEBUG [src.node.docker_mananger] Container started with ID cc9c81e0234c. Setting up logs at ./log/docker/node2_2025-02-12_04-08-59__c89f6a7d-8220-43c3-b05e-0516f11e3aa2__wakuorg_nwaku:latest.log
2025-02-12 04:09:00.945 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 60062
2025-02-12 04:09:00.946 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-12 04:09:01.947 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60062/health" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:09:01.966 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-12 04:09:01.969 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-12 04:09:01.972 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60062/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:09:01.988 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.255.219/tcp/60063/p2p/16Uiu2HAkzPHmFRMYbvceZpuAgerBWyJtjqm9xYcgV89WVjaPyPUt","/ip4/172.18.255.219/tcp/60064/ws/p2p/16Uiu2HAkzPHmFRMYbvceZpuAgerBWyJtjqm9xYcgV89WVjaPyPUt"],"enrUri":"enr:-Mu4QIPtTJGFXYMnpYurUidJmpI1Y7wczUaQ1szxVVs-853-QEBE4bXOuuke-jyOe7yUEUodPxZYrpn9WFjcXKOC7FkCgmlkgnY0gmlwhKwS_9uKbXVsdGlhZGRyc5YACASsEv_bBuqfAAoErBL_2wbqoN0DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQJJricqRnUn9TMWtSiWxk-hSEjGrBn9Fao2ohOoZKcOqYN0Y3CC6p-DdWRwguqhhXdha3UyAQ"}'
2025-02-12 04:09:01.991 INFO [src.node.waku_node] REST service is ready !!
2025-02-12 04:09:01.992 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60062/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.246.6/tcp/17749/p2p/16Uiu2HAm3F3sRwW5RGHKisNPSjZdAh5RbDBia23RVybZqjdoyPdP"]'
2025-02-12 04:09:01.998 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:09:02.001 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17748/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2", "/waku/2/rs/2/3", "/waku/2/rs/2/4", "/waku/2/rs/2/5", "/waku/2/rs/2/6", "/waku/2/rs/2/7"]'
2025-02-12 04:09:02.005 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:09:02.005 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60062/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2", "/waku/2/rs/2/3", "/waku/2/rs/2/4", "/waku/2/rs/2/5", "/waku/2/rs/2/6", "/waku/2/rs/2/7"]'
2025-02-12 04:09:02.008 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:09:02.008 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17748/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:09:02.013 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:09:02.014 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:09:02.114 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:09:02.114 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17748/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:09:02.117 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333342008575488,"ephemeral":false}]'
2025-02-12 04:09:02.119 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:09:02.119 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60062/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:09:02.122 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333342008575488,"ephemeral":false}]'
2025-02-12 04:09:02.123 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17748/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:09:02.129 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:09:02.129 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:09:02.229 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:09:02.230 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17748/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:09:02.232 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333342123653376,"ephemeral":false}]'
2025-02-12 04:09:02.234 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:09:02.234 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60062/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:09:02.236 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333342123653376,"ephemeral":false}]'
2025-02-12 04:09:02.238 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17748/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:09:02.243 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:09:02.244 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:09:02.345 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:09:02.345 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17748/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:09:02.348 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333342238496512,"ephemeral":false}]'
2025-02-12 04:09:02.349 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:09:02.350 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60062/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:09:02.352 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333342238496512,"ephemeral":false}]'
2025-02-12 04:09:02.354 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17748/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:09:02.360 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:09:02.360 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:09:02.461 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:09:02.461 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17748/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:09:02.464 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333342354449920,"ephemeral":false}]'
2025-02-12 04:09:02.466 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:09:02.466 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60062/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:09:02.468 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333342354449920,"ephemeral":false}]'
2025-02-12 04:09:02.470 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17748/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:09:02.476 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:09:02.476 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:09:02.577 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:09:02.577 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17748/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:09:02.580 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333342470618112,"ephemeral":false}]'
2025-02-12 04:09:02.582 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:09:02.582 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60062/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:09:02.585 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333342470618112,"ephemeral":false}]'
2025-02-12 04:09:02.587 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17748/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:09:02.593 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:09:02.594 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:09:02.694 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:09:02.695 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17748/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:09:02.698 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333342587462656,"ephemeral":false}]'
2025-02-12 04:09:02.699 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:09:02.699 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60062/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:09:02.702 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333342587462656,"ephemeral":false}]'
2025-02-12 04:09:02.704 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17748/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:09:02.710 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:09:02.711 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:09:02.811 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:09:02.812 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17748/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:09:02.815 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333342704628992,"ephemeral":false}]'
2025-02-12 04:09:02.816 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:09:02.816 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60062/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:09:02.819 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333342704628992,"ephemeral":false}]'
2025-02-12 04:09:02.820 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17748/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:09:02.825 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:09:02.826 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:09:02.926 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:09:02.927 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17748/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:09:02.929 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333342820544512,"ephemeral":false}]'
2025-02-12 04:09:02.931 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:09:02.931 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60062/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:09:02.934 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333342820544512,"ephemeral":false}]'
2025-02-12 04:09:02.935 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:17748/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2"]'
2025-02-12 04:09:02.944 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:09:02.946 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:60062/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2"]'
2025-02-12 04:09:02.953 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:09:02.954 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17748/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:09:02.957 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:17748/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/2/0'
2025-02-12 04:09:02.959 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17748/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:09:02.961 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:17748/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/2/1'
2025-02-12 04:09:02.964 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17748/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:09:02.966 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:17748/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/2/2'
2025-02-12 04:09:02.968 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17748/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:09:02.973 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:09:02.973 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:09:03.074 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:09:03.075 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17748/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:09:03.077 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333342968312832,"ephemeral":false}]'
2025-02-12 04:09:03.079 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:09:03.079 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60062/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:09:03.081 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333342968312832,"ephemeral":false}]'
2025-02-12 04:09:03.083 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17748/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:09:03.087 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:09:03.088 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:09:03.188 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:09:03.189 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17748/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:09:03.191 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333343083121664,"ephemeral":false}]'
2025-02-12 04:09:03.223 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:09:03.224 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60062/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:09:03.227 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333343083121664,"ephemeral":false}]'
2025-02-12 04:09:03.229 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17748/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:09:03.235 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:09:03.235 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:09:03.336 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:09:03.337 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17748/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:09:03.340 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333343229646080,"ephemeral":false}]'
2025-02-12 04:09:03.341 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:09:03.341 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60062/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:09:03.344 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333343229646080,"ephemeral":false}]'
2025-02-12 04:09:03.346 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17748/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:09:03.352 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:09:03.352 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:09:03.453 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:09:03.453 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17748/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:09:03.456 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333343346211584,"ephemeral":false}]'
2025-02-12 04:09:03.458 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:09:03.458 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60062/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:09:03.460 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333343346211584,"ephemeral":false}]'
2025-02-12 04:09:03.462 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:17748/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:09:03.468 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:09:03.469 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:09:03.569 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:09:03.569 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:17748/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:09:03.572 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333343462222080,"ephemeral":false}]'
2025-02-12 04:09:03.574 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:09:03.574 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60062/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:09:03.576 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333343462222080,"ephemeral":false}]'
2025-02-12 04:09:03.579 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-12 04:09:03.581 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-12 04:09:03.581 DEBUG [src.node.waku_node] Stopping container with id 6679372e755e
2025-02-12 04:09:04.128 DEBUG [src.node.waku_node] Container stopped.
2025-02-12 04:09:04.128 DEBUG [src.node.waku_node] Stopping container with id cc9c81e0234c
2025-02-12 04:09:04.941 ERROR [src.node.docker_mananger] Max retries reached for container 6679372e755e. Exiting log stream.
2025-02-12 04:09:05.634 DEBUG [src.node.waku_node] Container stopped.
2025-02-12 04:09:05.635 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-12 04:09:05.645 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-12 04:09:05.655 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
