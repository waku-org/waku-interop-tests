2025-02-12 04:03:56.239 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-12 04:03:56.239 DEBUG [tests.conftest] Running test: test_subscribe_one_by_one_to_different_content_topics_and_send_messages with id: 2025-02-12_04-03-56__c91cf3ff-7bf5-4423-97e3-35be1033e615
2025-02-12 04:03:56.240 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-12 04:03:56.240 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-12 04:03:56.240 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-12 04:03:56.247 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-12 04:03:56.247 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-12_04-03-56__c91cf3ff-7bf5-4423-97e3-35be1033e615__wakuorg_nwaku:latest.log
2025-02-12 04:03:56.248 DEBUG [src.node.waku_node] Starting Node...
2025-02-12 04:03:56.248 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-12 04:03:56.249 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-12 04:03:56.249 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.44.24
2025-02-12 04:03:56.249 DEBUG [src.node.docker_mananger] Generated ports ['2865', '2866', '2867', '2868', '2869']
2025-02-12 04:03:56.250 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-12 04:03:56.250 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-12 04:03:56.250 DEBUG [src.node.waku_node] Using volumes []
2025-02-12 04:03:56.250 DEBUG [src.node.docker_mananger] docker run -i -t -p 2865:2865 -p 2866:2866 -p 2867:2867 -p 2868:2868 -p 2869:2869 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=2867 --rest-port=2865 --tcp-port=2866 --discv5-udp-port=2868 --rest-address=0.0.0.0 --nat=extip:172.18.44.24 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=83d95fb2b6b96ebeeabd159dc96e027ed9cbfaaab8aa25dbd40c01abb2d5cc16 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=2869 --metrics-logging=true --relay=true --filter=true --content-topic=/myapp/1/latest/proto
2025-02-12 04:03:56.491 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.44.24 waku 5cbb6a30430f5dfa4ecc0477f8be8e94113172522b1bc4628f67905e19207acb
2025-02-12 04:03:56.544 DEBUG [src.node.docker_mananger] Container started with ID 5cbb6a30430f. Setting up logs at ./log/docker/node1_2025-02-12_04-03-56__c91cf3ff-7bf5-4423-97e3-35be1033e615__wakuorg_nwaku:latest.log
2025-02-12 04:03:56.545 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 2865
2025-02-12 04:03:56.545 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-12 04:03:57.058 ERROR [src.node.docker_mananger] Max retries reached for container 81b677504a47. Exiting log stream.
2025-02-12 04:03:57.547 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2865/health" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:03:57.550 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-12 04:03:57.550 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-12 04:03:57.550 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2865/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:03:57.552 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.44.24/tcp/2866/p2p/16Uiu2HAmJ2RxVLDFDX9AbgCto7Wte8eKmLwUm68tnP7x6wTzHJgJ","/ip4/172.18.44.24/tcp/2867/ws/p2p/16Uiu2HAmJ2RxVLDFDX9AbgCto7Wte8eKmLwUm68tnP7x6wTzHJgJ"],"enrUri":"enr:-L24QHzwxeS-RygIzgCZaCnoGDRIQomRu7-aFwfY2K_5eOIcdoK00RskATLRZ4InluZFj3ya_la17PhB-6U17nZe9EQCgmlkgnY0gmlwhKwSLBiKbXVsdGlhZGRyc5YACASsEiwYBgsyAAoErBIsGAYLM90DgnJzhQACAQAAiXNlY3AyNTZrMaEDT8iV3ie4bJA_a_B3Z29QS1ska1OXrVn_685IRhx7TpuDdGNwggsyg3VkcIILNIV3YWt1MgU"}'
2025-02-12 04:03:57.553 INFO [src.node.waku_node] REST service is ready !!
2025-02-12 04:03:57.559 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-12 04:03:57.559 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-12_04-03-56__c91cf3ff-7bf5-4423-97e3-35be1033e615__wakuorg_nwaku:latest.log
2025-02-12 04:03:57.560 DEBUG [src.node.waku_node] Starting Node...
2025-02-12 04:03:57.560 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-12 04:03:57.561 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-12 04:03:57.561 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.119.221
2025-02-12 04:03:57.561 DEBUG [src.node.docker_mananger] Generated ports ['5258', '5259', '5260', '5261', '5262']
2025-02-12 04:03:57.562 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-12 04:03:57.562 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-12 04:03:57.562 DEBUG [src.node.waku_node] Using volumes []
2025-02-12 04:03:57.562 DEBUG [src.node.docker_mananger] docker run -i -t -p 5258:5258 -p 5259:5259 -p 5260:5260 -p 5261:5261 -p 5262:5262 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=5260 --rest-port=5258 --tcp-port=5259 --discv5-udp-port=5261 --rest-address=0.0.0.0 --nat=extip:172.18.119.221 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=8776a4f835adbc24a88adb409a78efeae5e2b7cffda96abfbe44351bbb8f5f1c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=5262 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QHzwxeS-RygIzgCZaCnoGDRIQomRu7-aFwfY2K_5eOIcdoK00RskATLRZ4InluZFj3ya_la17PhB-6U17nZe9EQCgmlkgnY0gmlwhKwSLBiKbXVsdGlhZGRyc5YACASsEiwYBgsyAAoErBIsGAYLM90DgnJzhQACAQAAiXNlY3AyNTZrMaEDT8iV3ie4bJA_a_B3Z29QS1ska1OXrVn_685IRhx7TpuDdGNwggsyg3VkcIILNIV3YWt1MgU --content-topic=/myapp/1/latest/proto
2025-02-12 04:03:57.809 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.119.221 waku 2aa36c3584142e4a4a242a61cd33b5757571c8df5b6e4d34559d07fdf7a19257
2025-02-12 04:03:57.859 DEBUG [src.node.docker_mananger] Container started with ID 2aa36c358414. Setting up logs at ./log/docker/node2_2025-02-12_04-03-56__c91cf3ff-7bf5-4423-97e3-35be1033e615__wakuorg_nwaku:latest.log
2025-02-12 04:03:57.860 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 5258
2025-02-12 04:03:57.860 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-12 04:03:58.861 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5258/health" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:03:58.869 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-12 04:03:58.870 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-12 04:03:58.870 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5258/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:03:58.873 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.119.221/tcp/5259/p2p/16Uiu2HAkyG5hisiupkHeVWEnhDjZnu8kjG8S5U1frA7FZ47ZixKR","/ip4/172.18.119.221/tcp/5260/ws/p2p/16Uiu2HAkyG5hisiupkHeVWEnhDjZnu8kjG8S5U1frA7FZ47ZixKR"],"enrUri":"enr:-L24QHjjWVk2Htw61b7BxlMYRy1BoXWzxaLUbD346OZhTlQ3IpMnEnTMcq3F9L4MVIjMbklZujXFwJ7N_OT_6kyZ7CECgmlkgnY0gmlwhKwSd92KbXVsdGlhZGRyc5YACASsEnfdBhSLAAoErBJ33QYUjN0DgnJzhQACAQAAiXNlY3AyNTZrMaECOPnDYVi64xun80VGKsX3Ye2HESelCxcx-Ajs5vHew9CDdGNwghSLg3VkcIIUjYV3YWt1MgE"}'
2025-02-12 04:03:58.873 INFO [src.node.waku_node] REST service is ready !!
2025-02-12 04:03:58.873 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5258/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.44.24/tcp/2866/p2p/16Uiu2HAmJ2RxVLDFDX9AbgCto7Wte8eKmLwUm68tnP7x6wTzHJgJ"]'
2025-02-12 04:03:58.876 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:03:58.876 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2865/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto"]'
2025-02-12 04:03:58.878 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:03:58.879 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5258/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto"]'
2025-02-12 04:03:58.881 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:03:58.881 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2865/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:03:58.886 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:03:58.887 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:03:58.988 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:03:58.988 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2865/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:03:58.991 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333038881762048,"ephemeral":false}]'
2025-02-12 04:03:58.993 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:03:58.993 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5258/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:03:58.995 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333038881762048,"ephemeral":false}]'
2025-02-12 04:03:58.997 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2865/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/content/test.js"]'
2025-02-12 04:03:59.000 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:03:59.001 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5258/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/content/test.js"]'
2025-02-12 04:03:59.006 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:03:59.007 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2865/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:03:59.013 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:03:59.014 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:03:59.114 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:03:59.115 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2865/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:03:59.118 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1739333039007576064,"ephemeral":false}]'
2025-02-12 04:03:59.119 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:03:59.119 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5258/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:03:59.121 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1739333039007576064,"ephemeral":false}]'
2025-02-12 04:03:59.123 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2865/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/22/sometopic/someencoding"]'
2025-02-12 04:03:59.126 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:03:59.127 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5258/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/22/sometopic/someencoding"]'
2025-02-12 04:03:59.133 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:03:59.135 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2865/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:03:59.140 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:03:59.140 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:03:59.241 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:03:59.241 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2865/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:03:59.244 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1739333039135358720,"ephemeral":false}]'
2025-02-12 04:03:59.245 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:03:59.245 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5258/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:03:59.247 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1739333039135358720,"ephemeral":false}]'
2025-02-12 04:03:59.249 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2865/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/toychat/2/huilong/proto"]'
2025-02-12 04:03:59.253 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:03:59.253 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5258/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/toychat/2/huilong/proto"]'
2025-02-12 04:03:59.258 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:03:59.259 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2865/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:03:59.264 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:03:59.265 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:03:59.365 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:03:59.366 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2865/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:03:59.369 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739333039259265536,"ephemeral":false}]'
2025-02-12 04:03:59.370 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:03:59.370 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5258/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:03:59.373 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739333039259265536,"ephemeral":false}]'
2025-02-12 04:03:59.374 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2865/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/statusim/1/community/cbor"]'
2025-02-12 04:03:59.379 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:03:59.379 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5258/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/statusim/1/community/cbor"]'
2025-02-12 04:03:59.385 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:03:59.387 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2865/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:03:59.394 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:03:59.396 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:03:59.496 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:03:59.497 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2865/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:03:59.499 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739333039386960384,"ephemeral":false}]'
2025-02-12 04:03:59.501 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:03:59.501 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5258/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:03:59.503 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739333039386960384,"ephemeral":false}]'
2025-02-12 04:03:59.506 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2865/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/27/sometopic/someencoding"]'
2025-02-12 04:03:59.510 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:03:59.511 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5258/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/27/sometopic/someencoding"]'
2025-02-12 04:03:59.516 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:03:59.518 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2865/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:03:59.525 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:03:59.525 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:03:59.625 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:03:59.626 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2865/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:03:59.629 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739333039518754304,"ephemeral":false}]'
2025-02-12 04:03:59.630 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:03:59.631 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5258/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:03:59.633 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739333039518754304,"ephemeral":false}]'
2025-02-12 04:03:59.634 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2865/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/29/sometopic/someencoding"]'
2025-02-12 04:03:59.638 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:03:59.638 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5258/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/29/sometopic/someencoding"]'
2025-02-12 04:03:59.644 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:03:59.645 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2865/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:03:59.651 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:03:59.651 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:03:59.751 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:03:59.752 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2865/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:03:59.755 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739333039645775616,"ephemeral":false}]'
2025-02-12 04:03:59.756 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:03:59.757 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5258/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:03:59.759 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739333039645775616,"ephemeral":false}]'
2025-02-12 04:03:59.760 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2865/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/20/sometopic/someencoding"]'
2025-02-12 04:03:59.765 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:03:59.765 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5258/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/20/sometopic/someencoding"]'
2025-02-12 04:03:59.770 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:03:59.771 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2865/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:03:59.778 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:03:59.778 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:03:59.878 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:03:59.879 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2865/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:03:59.881 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739333039771416832,"ephemeral":false}]'
2025-02-12 04:03:59.883 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:03:59.883 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5258/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:03:59.885 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739333039771416832,"ephemeral":false}]'
2025-02-12 04:03:59.887 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2865/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/1.0/weekly/protobuf"]'
2025-02-12 04:03:59.891 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:03:59.891 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5258/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/1.0/weekly/protobuf"]'
2025-02-12 04:03:59.896 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:03:59.897 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2865/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/1.0/weekly/protobuf", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:03:59.904 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:03:59.905 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:04:00.005 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:04:00.006 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2865/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fweekly%2Fprotobuf" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:04:00.008 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/1.0/weekly/protobuf","version":0,"timestamp":1739333039897733376,"ephemeral":false}]'
2025-02-12 04:04:00.010 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:04:00.010 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5258/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fweekly%2Fprotobuf" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:04:00.013 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/1.0/weekly/protobuf","version":0,"timestamp":1739333039897733376,"ephemeral":false}]'
2025-02-12 04:04:00.014 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2865/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/1.0/alerts/xml"]'
2025-02-12 04:04:00.016 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:04:00.017 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5258/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/1.0/alerts/xml"]'
2025-02-12 04:04:00.019 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:04:00.020 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2865/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/1.0/alerts/xml", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:04:00.024 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:04:00.025 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:04:00.126 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:04:00.126 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2865/relay/v1/auto/messages/%2FnewsService%2F1.0%2Falerts%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:04:00.129 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/1.0/alerts/xml","version":0,"timestamp":1739333040020098560,"ephemeral":false}]'
2025-02-12 04:04:00.131 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:04:00.132 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5258/relay/v1/auto/messages/%2FnewsService%2F1.0%2Falerts%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:04:00.134 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/1.0/alerts/xml","version":0,"timestamp":1739333040020098560,"ephemeral":false}]'
2025-02-12 04:04:00.136 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2865/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/1.0/updates/json"]'
2025-02-12 04:04:00.138 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:04:00.139 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5258/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/1.0/updates/json"]'
2025-02-12 04:04:00.141 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:04:00.142 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2865/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/1.0/updates/json", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:04:00.147 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:04:00.147 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:04:00.248 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:04:00.248 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2865/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fupdates%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:04:00.251 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/1.0/updates/json","version":0,"timestamp":1739333040142189824,"ephemeral":false}]'
2025-02-12 04:04:00.252 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:04:00.253 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5258/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fupdates%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:04:00.255 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/1.0/updates/json","version":0,"timestamp":1739333040142189824,"ephemeral":false}]'
2025-02-12 04:04:00.257 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2865/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/2.0/alerts/json"]'
2025-02-12 04:04:00.261 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:04:00.261 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5258/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/2.0/alerts/json"]'
2025-02-12 04:04:00.266 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:04:00.267 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2865/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/2.0/alerts/json", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:04:00.273 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:04:00.274 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:04:00.374 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:04:00.375 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2865/relay/v1/auto/messages/%2FnewsService%2F2.0%2Falerts%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:04:00.377 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/alerts/json","version":0,"timestamp":1739333040267837440,"ephemeral":false}]'
2025-02-12 04:04:00.379 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:04:00.379 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5258/relay/v1/auto/messages/%2FnewsService%2F2.0%2Falerts%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:04:00.381 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/alerts/json","version":0,"timestamp":1739333040267837440,"ephemeral":false}]'
2025-02-12 04:04:00.383 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2865/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/2.0/summaries/xml"]'
2025-02-12 04:04:00.385 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:04:00.386 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5258/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/2.0/summaries/xml"]'
2025-02-12 04:04:00.388 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:04:00.388 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2865/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/2.0/summaries/xml", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:04:00.394 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:04:00.394 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:04:00.494 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:04:00.495 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2865/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:04:00.498 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/summaries/xml","version":0,"timestamp":1739333040388663552,"ephemeral":false}]'
2025-02-12 04:04:00.499 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:04:00.499 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5258/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:04:00.502 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/summaries/xml","version":0,"timestamp":1739333040388663552,"ephemeral":false}]'
2025-02-12 04:04:00.504 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2865/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/2.0/highlights/yaml"]'
2025-02-12 04:04:00.508 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:04:00.508 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5258/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/2.0/highlights/yaml"]'
2025-02-12 04:04:00.511 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:04:00.511 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2865/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/2.0/highlights/yaml", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:04:00.516 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:04:00.516 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:04:00.617 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:04:00.617 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2865/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fhighlights%2Fyaml" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:04:00.620 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/highlights/yaml","version":0,"timestamp":1739333040511674112,"ephemeral":false}]'
2025-02-12 04:04:00.622 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:04:00.622 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5258/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fhighlights%2Fyaml" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:04:00.624 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/highlights/yaml","version":0,"timestamp":1739333040511674112,"ephemeral":false}]'
2025-02-12 04:04:00.625 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2865/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/3.0/weekly/json"]'
2025-02-12 04:04:00.630 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:04:00.630 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5258/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/3.0/weekly/json"]'
2025-02-12 04:04:00.636 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:04:00.637 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2865/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/3.0/weekly/json", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:04:00.643 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:04:00.643 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:04:00.744 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:04:00.744 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2865/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fweekly%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:04:00.747 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/weekly/json","version":0,"timestamp":1739333040637670144,"ephemeral":false}]'
2025-02-12 04:04:00.749 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:04:00.749 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5258/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fweekly%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:04:00.752 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/weekly/json","version":0,"timestamp":1739333040637670144,"ephemeral":false}]'
2025-02-12 04:04:00.753 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2865/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/3.0/summaries/xml"]'
2025-02-12 04:04:00.756 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:04:00.756 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5258/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/3.0/summaries/xml"]'
2025-02-12 04:04:00.759 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:04:00.760 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:2865/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/3.0/summaries/xml", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:04:00.765 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:04:00.766 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:04:00.866 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:04:00.867 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:2865/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:04:00.869 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/summaries/xml","version":0,"timestamp":1739333040760060416,"ephemeral":false}]'
2025-02-12 04:04:00.871 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:04:00.871 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5258/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:04:00.874 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/summaries/xml","version":0,"timestamp":1739333040760060416,"ephemeral":false}]'
2025-02-12 04:04:00.877 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-12 04:04:00.878 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-12 04:04:00.878 DEBUG [src.node.waku_node] Stopping container with id 5cbb6a30430f
2025-02-12 04:04:02.060 DEBUG [src.node.waku_node] Container stopped.
2025-02-12 04:04:02.061 DEBUG [src.node.waku_node] Stopping container with id 2aa36c358414
2025-02-12 04:04:02.873 ERROR [src.node.docker_mananger] Max retries reached for container 5cbb6a30430f. Exiting log stream.
2025-02-12 04:04:03.553 DEBUG [src.node.waku_node] Container stopped.
2025-02-12 04:04:03.554 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-12 04:04:03.570 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-12 04:04:03.583 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
