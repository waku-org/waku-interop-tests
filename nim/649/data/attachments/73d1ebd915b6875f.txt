2025-02-12 04:03:54.310 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-12 04:03:54.311 DEBUG [tests.conftest] Running test: test_unsubscribe_from_some_content_topics[content_topic_list0] with id: 2025-02-12_04-03-54__b0673b94-56d1-4621-aa55-51a5047bbdc3
2025-02-12 04:03:54.311 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-12 04:03:54.311 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-12 04:03:54.311 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-12 04:03:54.318 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-12 04:03:54.318 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-12_04-03-54__b0673b94-56d1-4621-aa55-51a5047bbdc3__wakuorg_nwaku:latest.log
2025-02-12 04:03:54.318 DEBUG [src.node.waku_node] Starting Node...
2025-02-12 04:03:54.319 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-12 04:03:54.320 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-12 04:03:54.320 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.94.56
2025-02-12 04:03:54.320 DEBUG [src.node.docker_mananger] Generated ports ['38977', '38978', '38979', '38980', '38981']
2025-02-12 04:03:54.320 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-12 04:03:54.321 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-12 04:03:54.321 DEBUG [src.node.waku_node] Using volumes []
2025-02-12 04:03:54.321 DEBUG [src.node.docker_mananger] docker run -i -t -p 38977:38977 -p 38978:38978 -p 38979:38979 -p 38980:38980 -p 38981:38981 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=38979 --rest-port=38977 --tcp-port=38978 --discv5-udp-port=38980 --rest-address=0.0.0.0 --nat=extip:172.18.94.56 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=e753d5a3dc47c76b00ef1ebf735a0d5cf3fae3d1d27732c1fad9cc6db78209f9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=38981 --metrics-logging=true --relay=true --filter=true --content-topic=/myapp/1/latest/proto
2025-02-12 04:03:54.542 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.94.56 waku be09515814ba539c70c58bcc76cd47afb6ff481558139fc69061e57321f732c9
2025-02-12 04:03:54.596 DEBUG [src.node.docker_mananger] Container started with ID be09515814ba. Setting up logs at ./log/docker/node1_2025-02-12_04-03-54__b0673b94-56d1-4621-aa55-51a5047bbdc3__wakuorg_nwaku:latest.log
2025-02-12 04:03:54.597 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 38977
2025-02-12 04:03:54.597 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-12 04:03:55.112 ERROR [src.node.docker_mananger] Max retries reached for container 9a89c0d58408. Exiting log stream.
2025-02-12 04:03:55.598 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38977/health" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:03:55.600 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-12 04:03:55.601 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-12 04:03:55.601 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38977/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:03:55.603 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.94.56/tcp/38978/p2p/16Uiu2HAmKo4F1bfyUicbyHeUvULUerQ5teyDkBEhHFMGy3e4iJW8","/ip4/172.18.94.56/tcp/38979/ws/p2p/16Uiu2HAmKo4F1bfyUicbyHeUvULUerQ5teyDkBEhHFMGy3e4iJW8"],"enrUri":"enr:-L24QKmF5IJv2sITOjy6JEQdtvgiCp_Budxhl0-ERt-gv6yyLIxbo_baj1DcpQtEV1yOHmsJNBu_q1QUIasGdbcsYCECgmlkgnY0gmlwhKwSXjiKbXVsdGlhZGRyc5YACASsEl44BphCAAoErBJeOAaYQ90DgnJzhQACAQAAiXNlY3AyNTZrMaEDahLa-WPdoLEEl3AKl_MZBi5jpTeRQye8oHoVaMUJZTWDdGNwgphCg3VkcIKYRIV3YWt1MgU"}'
2025-02-12 04:03:55.603 INFO [src.node.waku_node] REST service is ready !!
2025-02-12 04:03:55.609 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-12 04:03:55.609 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-12_04-03-54__b0673b94-56d1-4621-aa55-51a5047bbdc3__wakuorg_nwaku:latest.log
2025-02-12 04:03:55.610 DEBUG [src.node.waku_node] Starting Node...
2025-02-12 04:03:55.610 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-12 04:03:55.611 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-12 04:03:55.611 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.54.59
2025-02-12 04:03:55.611 DEBUG [src.node.docker_mananger] Generated ports ['64960', '64961', '64962', '64963', '64964']
2025-02-12 04:03:55.611 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-12 04:03:55.612 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-12 04:03:55.612 DEBUG [src.node.waku_node] Using volumes []
2025-02-12 04:03:55.612 DEBUG [src.node.docker_mananger] docker run -i -t -p 64960:64960 -p 64961:64961 -p 64962:64962 -p 64963:64963 -p 64964:64964 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=64962 --rest-port=64960 --tcp-port=64961 --discv5-udp-port=64963 --rest-address=0.0.0.0 --nat=extip:172.18.54.59 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=e74a23c10eac225a07f3abfbaeda5d2e9323aa87abedfa868f77b151baffc5ff --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=64964 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QKmF5IJv2sITOjy6JEQdtvgiCp_Budxhl0-ERt-gv6yyLIxbo_baj1DcpQtEV1yOHmsJNBu_q1QUIasGdbcsYCECgmlkgnY0gmlwhKwSXjiKbXVsdGlhZGRyc5YACASsEl44BphCAAoErBJeOAaYQ90DgnJzhQACAQAAiXNlY3AyNTZrMaEDahLa-WPdoLEEl3AKl_MZBi5jpTeRQye8oHoVaMUJZTWDdGNwgphCg3VkcIKYRIV3YWt1MgU --content-topic=/myapp/1/latest/proto
2025-02-12 04:03:55.839 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.54.59 waku c151aed79b075f016d8274950a9aacae0822118e1bce2400674afe800d7dfb6b
2025-02-12 04:03:55.883 DEBUG [src.node.docker_mananger] Container started with ID c151aed79b07. Setting up logs at ./log/docker/node2_2025-02-12_04-03-54__b0673b94-56d1-4621-aa55-51a5047bbdc3__wakuorg_nwaku:latest.log
2025-02-12 04:03:55.883 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 64960
2025-02-12 04:03:55.884 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-12 04:03:56.884 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64960/health" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:03:56.892 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-12 04:03:56.895 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-12 04:03:56.899 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64960/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:03:56.903 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.54.59/tcp/64961/p2p/16Uiu2HAmPvyy3i239GPwFvVG7ccucm6oPo8joX4hWApr3hRJgHa5","/ip4/172.18.54.59/tcp/64962/ws/p2p/16Uiu2HAmPvyy3i239GPwFvVG7ccucm6oPo8joX4hWApr3hRJgHa5"],"enrUri":"enr:-L24QOO0A1em7LZJ7ACsyjEyC7AnUUMIyPzcO1TVQCnolOGVMuv663rnuDVqHF49agKm04_v3V48kreJT1ABpH4ePF4CgmlkgnY0gmlwhKwSNjuKbXVsdGlhZGRyc5YACASsEjY7Bv3BAAoErBI2Owb9wt0DgnJzhQACAQAAiXNlY3AyNTZrMaEDp4lqX6qxwbYeWucCuZkSDQi8jbCF8JHLMhwEw1MeLOaDdGNwgv3Bg3VkcIL9w4V3YWt1MgE"}'
2025-02-12 04:03:56.903 INFO [src.node.waku_node] REST service is ready !!
2025-02-12 04:03:56.904 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:64960/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.94.56/tcp/38978/p2p/16Uiu2HAmKo4F1bfyUicbyHeUvULUerQ5teyDkBEhHFMGy3e4iJW8"]'
2025-02-12 04:03:56.909 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:03:56.910 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:38977/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/1.0/weekly/protobuf", "/newsService/1.0/alerts/xml", "/newsService/1.0/updates/json", "/newsService/2.0/alerts/json", "/newsService/2.0/summaries/xml", "/newsService/2.0/highlights/yaml", "/newsService/3.0/weekly/json", "/newsService/3.0/summaries/xml"]'
2025-02-12 04:03:56.916 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:03:56.916 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:64960/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/1.0/weekly/protobuf", "/newsService/1.0/alerts/xml", "/newsService/1.0/updates/json", "/newsService/2.0/alerts/json", "/newsService/2.0/summaries/xml", "/newsService/2.0/highlights/yaml", "/newsService/3.0/weekly/json", "/newsService/3.0/summaries/xml"]'
2025-02-12 04:03:56.928 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:03:56.929 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:38977/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/1.0/weekly/protobuf", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:03:56.936 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:03:56.937 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:03:57.037 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:03:57.037 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38977/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fweekly%2Fprotobuf" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:03:57.039 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/1.0/weekly/protobuf","version":0,"timestamp":1739333036929089024,"ephemeral":false}]'
2025-02-12 04:03:57.041 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:03:57.041 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64960/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fweekly%2Fprotobuf" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:03:57.044 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/1.0/weekly/protobuf","version":0,"timestamp":1739333036929089024,"ephemeral":false}]'
2025-02-12 04:03:57.045 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:38977/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/1.0/alerts/xml", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:03:57.050 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:03:57.050 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:03:57.150 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:03:57.151 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38977/relay/v1/auto/messages/%2FnewsService%2F1.0%2Falerts%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:03:57.153 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/1.0/alerts/xml","version":0,"timestamp":1739333037045472768,"ephemeral":false}]'
2025-02-12 04:03:57.154 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:03:57.155 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64960/relay/v1/auto/messages/%2FnewsService%2F1.0%2Falerts%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:03:57.157 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/1.0/alerts/xml","version":0,"timestamp":1739333037045472768,"ephemeral":false}]'
2025-02-12 04:03:57.158 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:38977/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/1.0/updates/json", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:03:57.163 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:03:57.164 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:03:57.264 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:03:57.264 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38977/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fupdates%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:03:57.267 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/1.0/updates/json","version":0,"timestamp":1739333037158865408,"ephemeral":false}]'
2025-02-12 04:03:57.268 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:03:57.268 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64960/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fupdates%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:03:57.270 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/1.0/updates/json","version":0,"timestamp":1739333037158865408,"ephemeral":false}]'
2025-02-12 04:03:57.272 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:38977/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/2.0/alerts/json", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:03:57.277 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:03:57.278 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:03:57.378 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:03:57.378 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38977/relay/v1/auto/messages/%2FnewsService%2F2.0%2Falerts%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:03:57.380 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/alerts/json","version":0,"timestamp":1739333037272302848,"ephemeral":false}]'
2025-02-12 04:03:57.382 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:03:57.382 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64960/relay/v1/auto/messages/%2FnewsService%2F2.0%2Falerts%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:03:57.384 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/alerts/json","version":0,"timestamp":1739333037272302848,"ephemeral":false}]'
2025-02-12 04:03:57.386 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:38977/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/2.0/summaries/xml", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:03:57.390 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:03:57.391 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:03:57.492 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:03:57.492 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38977/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:03:57.494 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/summaries/xml","version":0,"timestamp":1739333037386272256,"ephemeral":false}]'
2025-02-12 04:03:57.496 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:03:57.496 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64960/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:03:57.498 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/summaries/xml","version":0,"timestamp":1739333037386272256,"ephemeral":false}]'
2025-02-12 04:03:57.500 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:38977/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/2.0/highlights/yaml", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:03:57.504 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:03:57.504 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:03:57.605 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:03:57.606 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38977/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fhighlights%2Fyaml" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:03:57.608 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/highlights/yaml","version":0,"timestamp":1739333037499926016,"ephemeral":false}]'
2025-02-12 04:03:57.609 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:03:57.610 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64960/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fhighlights%2Fyaml" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:03:57.612 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/highlights/yaml","version":0,"timestamp":1739333037499926016,"ephemeral":false}]'
2025-02-12 04:03:57.614 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:38977/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/3.0/weekly/json", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:03:57.618 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:03:57.619 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:03:57.719 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:03:57.720 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38977/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fweekly%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:03:57.722 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/weekly/json","version":0,"timestamp":1739333037613894912,"ephemeral":false}]'
2025-02-12 04:03:57.724 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:03:57.724 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64960/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fweekly%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:03:57.726 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/weekly/json","version":0,"timestamp":1739333037613894912,"ephemeral":false}]'
2025-02-12 04:03:57.728 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:38977/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/3.0/summaries/xml", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:03:57.733 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:03:57.733 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:03:57.834 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:03:57.834 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38977/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:03:57.837 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/summaries/xml","version":0,"timestamp":1739333037728232704,"ephemeral":false}]'
2025-02-12 04:03:57.838 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:03:57.838 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64960/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:03:57.840 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/summaries/xml","version":0,"timestamp":1739333037728232704,"ephemeral":false}]'
2025-02-12 04:03:57.842 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:38977/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/1.0/weekly/protobuf", "/newsService/1.0/alerts/xml", "/newsService/1.0/updates/json"]'
2025-02-12 04:03:57.847 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:03:57.848 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:64960/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/1.0/weekly/protobuf", "/newsService/1.0/alerts/xml", "/newsService/1.0/updates/json"]'
2025-02-12 04:03:57.852 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:03:57.853 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:38977/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/1.0/weekly/protobuf", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:03:57.857 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:03:57.857 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:03:57.957 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:03:57.958 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38977/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fweekly%2Fprotobuf" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:03:57.960 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:38977/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fweekly%2Fprotobuf. Response content: b'/newsService/1.0/weekly/protobuf'
2025-02-12 04:03:57.961 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:38977/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/1.0/alerts/xml", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:03:57.964 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:03:57.964 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:03:58.064 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:03:58.065 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38977/relay/v1/auto/messages/%2FnewsService%2F1.0%2Falerts%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:03:58.067 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:38977/relay/v1/auto/messages/%2FnewsService%2F1.0%2Falerts%2Fxml. Response content: b'/newsService/1.0/alerts/xml'
2025-02-12 04:03:58.068 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:38977/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/1.0/updates/json", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:03:58.071 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:03:58.071 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:03:58.171 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:03:58.172 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38977/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fupdates%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:03:58.174 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:38977/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fupdates%2Fjson. Response content: b'/newsService/1.0/updates/json'
2025-02-12 04:03:58.176 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:38977/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/2.0/alerts/json", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:03:58.180 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:03:58.180 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:03:58.281 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:03:58.281 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38977/relay/v1/auto/messages/%2FnewsService%2F2.0%2Falerts%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:03:58.284 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/alerts/json","version":0,"timestamp":1739333038175911424,"ephemeral":false}]'
2025-02-12 04:03:58.286 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:03:58.286 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64960/relay/v1/auto/messages/%2FnewsService%2F2.0%2Falerts%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:03:58.288 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/alerts/json","version":0,"timestamp":1739333038175911424,"ephemeral":false}]'
2025-02-12 04:03:58.290 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:38977/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/2.0/summaries/xml", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:03:58.295 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:03:58.295 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:03:58.396 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:03:58.396 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38977/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:03:58.398 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/summaries/xml","version":0,"timestamp":1739333038290387200,"ephemeral":false}]'
2025-02-12 04:03:58.400 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:03:58.400 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64960/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:03:58.403 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/summaries/xml","version":0,"timestamp":1739333038290387200,"ephemeral":false}]'
2025-02-12 04:03:58.404 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:38977/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/2.0/highlights/yaml", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:03:58.409 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:03:58.409 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:03:58.509 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:03:58.510 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38977/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fhighlights%2Fyaml" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:03:58.512 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/highlights/yaml","version":0,"timestamp":1739333038404434432,"ephemeral":false}]'
2025-02-12 04:03:58.513 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:03:58.514 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64960/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fhighlights%2Fyaml" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:03:58.516 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/highlights/yaml","version":0,"timestamp":1739333038404434432,"ephemeral":false}]'
2025-02-12 04:03:58.517 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:38977/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/3.0/weekly/json", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:03:58.522 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:03:58.523 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:03:58.623 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:03:58.624 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38977/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fweekly%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:03:58.626 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/weekly/json","version":0,"timestamp":1739333038517849344,"ephemeral":false}]'
2025-02-12 04:03:58.627 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:03:58.627 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64960/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fweekly%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:03:58.629 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/weekly/json","version":0,"timestamp":1739333038517849344,"ephemeral":false}]'
2025-02-12 04:03:58.632 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:38977/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/3.0/summaries/xml", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:03:58.636 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:03:58.637 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:03:58.738 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:03:58.738 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:38977/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:03:58.740 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/summaries/xml","version":0,"timestamp":1739333038632203264,"ephemeral":false}]'
2025-02-12 04:03:58.742 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:03:58.742 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:64960/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:03:58.744 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/summaries/xml","version":0,"timestamp":1739333038632203264,"ephemeral":false}]'
2025-02-12 04:03:58.747 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-12 04:03:58.748 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-12 04:03:58.748 DEBUG [src.node.waku_node] Stopping container with id be09515814ba
2025-02-12 04:03:59.834 DEBUG [src.node.waku_node] Container stopped.
2025-02-12 04:03:59.835 DEBUG [src.node.waku_node] Stopping container with id c151aed79b07
2025-02-12 04:04:00.646 ERROR [src.node.docker_mananger] Max retries reached for container be09515814ba. Exiting log stream.
2025-02-12 04:04:00.812 DEBUG [src.node.waku_node] Container stopped.
2025-02-12 04:04:00.813 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-12 04:04:00.822 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-12 04:04:00.830 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
