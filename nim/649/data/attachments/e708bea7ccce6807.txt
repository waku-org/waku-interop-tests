2025-02-12 04:04:28.161 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-12 04:04:28.163 DEBUG [tests.conftest] Running test: test_filter_ping_on_peer_without_subscription with id: 2025-02-12_04-04-28__8f7b6a16-c570-40e3-8425-f410e43599a0
2025-02-12 04:04:28.163 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-12 04:04:28.163 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2025-02-12 04:04:28.163 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2025-02-12 04:04:28.172 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-12 04:04:28.173 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-12_04-04-28__8f7b6a16-c570-40e3-8425-f410e43599a0__wakuorg_nwaku:latest.log
2025-02-12 04:04:28.173 DEBUG [src.node.waku_node] Starting Node...
2025-02-12 04:04:28.173 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-12 04:04:28.176 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-12 04:04:28.177 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.20.107
2025-02-12 04:04:28.177 DEBUG [src.node.docker_mananger] Generated ports ['20862', '20863', '20864', '20865', '20866']
2025-02-12 04:04:28.178 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-12 04:04:28.178 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-12 04:04:28.178 DEBUG [src.node.waku_node] Using volumes []
2025-02-12 04:04:28.178 DEBUG [src.node.docker_mananger] docker run -i -t -p 20862:20862 -p 20863:20863 -p 20864:20864 -p 20865:20865 -p 20866:20866 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=20864 --rest-port=20862 --tcp-port=20863 --discv5-udp-port=20865 --rest-address=0.0.0.0 --nat=extip:172.18.20.107 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cdce4cb4dfdf3fec4cbbd580ca1ddfcf43dd5c19b06ffb60be9bfcfabf88eb9d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=20866 --metrics-logging=true --relay=true --filter=true
2025-02-12 04:04:28.432 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.20.107 waku faed3ed6b81cc1d31f4696a000f24262cc549284d8dedc4a437d115f622ec27c
2025-02-12 04:04:28.483 DEBUG [src.node.docker_mananger] Container started with ID faed3ed6b81c. Setting up logs at ./log/docker/node1_2025-02-12_04-04-28__8f7b6a16-c570-40e3-8425-f410e43599a0__wakuorg_nwaku:latest.log
2025-02-12 04:04:28.483 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 20862
2025-02-12 04:04:28.485 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-12 04:04:29.040 ERROR [src.node.docker_mananger] Max retries reached for container 54df1835fe1b. Exiting log stream.
2025-02-12 04:04:29.485 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:20862/health" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:04:29.489 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-12 04:04:29.489 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-12 04:04:29.489 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:20862/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:04:29.492 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.20.107/tcp/20863/p2p/16Uiu2HAkytMR9sURe6C2JEUQkKebx8VtSGSLSVb2VxeifW9zAdon","/ip4/172.18.20.107/tcp/20864/ws/p2p/16Uiu2HAkytMR9sURe6C2JEUQkKebx8VtSGSLSVb2VxeifW9zAdon"],"enrUri":"enr:-L24QBtxRVPA3R8bgjQpPxtxcO6wQ_xzFwRaF5K0eT3Em0eHdwA3j_kgw31lgSa01GloKK4brYEhXzKEQNCOjTuqBHQCgmlkgnY0gmlwhKwSFGuKbXVsdGlhZGRyc5YACASsEhRrBlF_AAoErBIUawZRgN0DgnJzhQADAQAAiXNlY3AyNTZrMaECQkRwyaYTEujp17SpcO2zuDSr8RGhzS1hqdygUrEfX-GDdGNwglF_g3VkcIJRgYV3YWt1MgU"}'
2025-02-12 04:04:29.492 INFO [src.node.waku_node] REST service is ready !!
2025-02-12 04:04:29.492 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2025-02-12 04:04:29.499 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-12 04:04:29.499 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-12_04-04-28__8f7b6a16-c570-40e3-8425-f410e43599a0__wakuorg_nwaku:latest.log
2025-02-12 04:04:29.499 DEBUG [src.node.waku_node] Starting Node...
2025-02-12 04:04:29.499 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-12 04:04:29.501 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-12 04:04:29.501 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.244.176
2025-02-12 04:04:29.501 DEBUG [src.node.docker_mananger] Generated ports ['22545', '22546', '22547', '22548', '22549']
2025-02-12 04:04:29.501 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-12 04:04:29.501 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-12 04:04:29.501 DEBUG [src.node.waku_node] Using volumes []
2025-02-12 04:04:29.501 DEBUG [src.node.docker_mananger] docker run -i -t -p 22545:22545 -p 22546:22546 -p 22547:22547 -p 22548:22548 -p 22549:22549 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=22547 --rest-port=22545 --tcp-port=22546 --discv5-udp-port=22548 --rest-address=0.0.0.0 --nat=extip:172.18.244.176 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=abbcfc5b76ec92cb13f1e4d33c9ad5eccfb37a0974d9e92fea7c213f1772c7dd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=22549 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QBtxRVPA3R8bgjQpPxtxcO6wQ_xzFwRaF5K0eT3Em0eHdwA3j_kgw31lgSa01GloKK4brYEhXzKEQNCOjTuqBHQCgmlkgnY0gmlwhKwSFGuKbXVsdGlhZGRyc5YACASsEhRrBlF_AAoErBIUawZRgN0DgnJzhQADAQAAiXNlY3AyNTZrMaECQkRwyaYTEujp17SpcO2zuDSr8RGhzS1hqdygUrEfX-GDdGNwglF_g3VkcIJRgYV3YWt1MgU --filternode=/ip4/172.18.20.107/tcp/20863/p2p/16Uiu2HAkytMR9sURe6C2JEUQkKebx8VtSGSLSVb2VxeifW9zAdon
2025-02-12 04:04:29.732 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.244.176 waku 97e25fa56a0cea23ff7fd90d95366e4970992efdc9ffd20a37fd39eec3767586
2025-02-12 04:04:29.777 DEBUG [src.node.docker_mananger] Container started with ID 97e25fa56a0c. Setting up logs at ./log/docker/node2_2025-02-12_04-04-28__8f7b6a16-c570-40e3-8425-f410e43599a0__wakuorg_nwaku:latest.log
2025-02-12 04:04:29.778 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 22545
2025-02-12 04:04:29.778 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-12 04:04:30.779 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22545/health" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:04:30.782 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-12 04:04:30.782 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-12 04:04:30.782 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22545/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:04:30.785 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.244.176/tcp/22546/p2p/16Uiu2HAm66zstwhGVLb8ERet4gsLb2zetnKmcdL85cU26FJunptf","/ip4/172.18.244.176/tcp/22547/ws/p2p/16Uiu2HAm66zstwhGVLb8ERet4gsLb2zetnKmcdL85cU26FJunptf"],"enrUri":"enr:-L24QOj4FiEKCwSe4nY7DJVsUuY7TkbNOvc-WREWha_GA6IgQxrYBl-jveRKtdyTAKoysfs4KA63fcX8p05HjMmDy9ECgmlkgnY0gmlwhKwS9LCKbXVsdGlhZGRyc5YACASsEvSwBlgSAAoErBL0sAZYE90DgnJzhQADAQAAiXNlY3AyNTZrMaECnqfjpA29uxJU_jRdGT_8ghZlFqNm1PuA6WKVUXaP7DiDdGNwglgSg3VkcIJYFIV3YWt1MgA"}'
2025-02-12 04:04:30.785 INFO [src.node.waku_node] REST service is ready !!
2025-02-12 04:04:30.785 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:22545/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.20.107/tcp/20863/p2p/16Uiu2HAkytMR9sURe6C2JEUQkKebx8VtSGSLSVb2VxeifW9zAdon"]'
2025-02-12 04:04:30.820 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:04:30.825 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:22545/filter/v2/subscriptions/1823a1bf-d984-4b30-bdce-62d6850b3308" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:04:30.846 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:22545/filter/v2/subscriptions/1823a1bf-d984-4b30-bdce-62d6850b3308. Response content: b'{"requestId":"1823a1bf-d984-4b30-bdce-62d6850b3308","statusDesc":"NOT_FOUND: peer has no subscriptions"}'
2025-02-12 04:04:30.855 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-12 04:04:30.856 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-12 04:04:30.856 DEBUG [src.node.waku_node] Stopping container with id faed3ed6b81c
2025-02-12 04:04:31.994 DEBUG [src.node.waku_node] Container stopped.
2025-02-12 04:04:31.995 DEBUG [src.node.waku_node] Stopping container with id 97e25fa56a0c
2025-02-12 04:04:32.808 ERROR [src.node.docker_mananger] Max retries reached for container faed3ed6b81c. Exiting log stream.
2025-02-12 04:04:33.527 DEBUG [src.node.waku_node] Container stopped.
2025-02-12 04:04:33.528 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-12 04:04:33.532 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-12 04:04:33.537 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
