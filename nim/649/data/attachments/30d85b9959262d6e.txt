2025-02-12 04:04:29.396 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-12 04:04:29.397 DEBUG [tests.conftest] Running test: test_unsubscribe_from_some_content_topics[content_topic_list1] with id: 2025-02-12_04-04-29__7c796bfa-a41e-49df-a1f6-5cb64b301434
2025-02-12 04:04:29.397 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-12 04:04:29.397 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-12 04:04:29.397 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-12 04:04:29.404 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-12 04:04:29.404 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-12_04-04-29__7c796bfa-a41e-49df-a1f6-5cb64b301434__wakuorg_nwaku:latest.log
2025-02-12 04:04:29.404 DEBUG [src.node.waku_node] Starting Node...
2025-02-12 04:04:29.404 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-12 04:04:29.406 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-12 04:04:29.406 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.253.159
2025-02-12 04:04:29.406 DEBUG [src.node.docker_mananger] Generated ports ['44973', '44974', '44975', '44976', '44977']
2025-02-12 04:04:29.406 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-12 04:04:29.407 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-12 04:04:29.407 DEBUG [src.node.waku_node] Using volumes []
2025-02-12 04:04:29.407 DEBUG [src.node.docker_mananger] docker run -i -t -p 44973:44973 -p 44974:44974 -p 44975:44975 -p 44976:44976 -p 44977:44977 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=44975 --rest-port=44973 --tcp-port=44974 --discv5-udp-port=44976 --rest-address=0.0.0.0 --nat=extip:172.18.253.159 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=fc3b7f3fcfade88a1f4c0bd9d056ba8ba8ca84a4bed2cbd945234bcaa67f1cac --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=44977 --metrics-logging=true --relay=true --filter=true --content-topic=/myapp/1/latest/proto
2025-02-12 04:04:29.636 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.253.159 waku 8c54a694372f4e1b038f51d48640fb71a3aa3dc64ce3ec7afb8170d1405a9bdf
2025-02-12 04:04:29.684 DEBUG [src.node.docker_mananger] Container started with ID 8c54a694372f. Setting up logs at ./log/docker/node1_2025-02-12_04-04-29__7c796bfa-a41e-49df-a1f6-5cb64b301434__wakuorg_nwaku:latest.log
2025-02-12 04:04:29.684 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 44973
2025-02-12 04:04:29.684 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-12 04:04:30.203 ERROR [src.node.docker_mananger] Max retries reached for container d6cee5d61a82. Exiting log stream.
2025-02-12 04:04:30.685 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44973/health" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:04:30.687 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-12 04:04:30.687 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-12 04:04:30.688 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44973/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:04:30.690 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.253.159/tcp/44974/p2p/16Uiu2HAmVrJWy33JdX7xzb9GYaQEA5GxA7giKfNsdqSi5QMirZAs","/ip4/172.18.253.159/tcp/44975/ws/p2p/16Uiu2HAmVrJWy33JdX7xzb9GYaQEA5GxA7giKfNsdqSi5QMirZAs"],"enrUri":"enr:-L24QIWbTJ_HdBA5huByf-b1-wQbqinQXbXyXZJrLW75ICQmbSd43TgYiufz3LZMwuXH3frMml3A1rYPV4QMhBM1yZwCgmlkgnY0gmlwhKwS_Z-KbXVsdGlhZGRyc5YACASsEv2fBq-uAAoErBL9nwavr90DgnJzhQACAQAAiXNlY3AyNTZrMaED_3ybo6jUcL6NEvMVvhro2ASgsrEGM6Zb_Ajy3WAoXTSDdGNwgq-ug3VkcIKvsIV3YWt1MgU"}'
2025-02-12 04:04:30.690 INFO [src.node.waku_node] REST service is ready !!
2025-02-12 04:04:30.697 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-12 04:04:30.697 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-12_04-04-29__7c796bfa-a41e-49df-a1f6-5cb64b301434__wakuorg_nwaku:latest.log
2025-02-12 04:04:30.697 DEBUG [src.node.waku_node] Starting Node...
2025-02-12 04:04:30.697 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-12 04:04:30.698 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-12 04:04:30.699 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.68.90
2025-02-12 04:04:30.699 DEBUG [src.node.docker_mananger] Generated ports ['1603', '1604', '1605', '1606', '1607']
2025-02-12 04:04:30.699 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-12 04:04:30.699 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-12 04:04:30.699 DEBUG [src.node.waku_node] Using volumes []
2025-02-12 04:04:30.699 DEBUG [src.node.docker_mananger] docker run -i -t -p 1603:1603 -p 1604:1604 -p 1605:1605 -p 1606:1606 -p 1607:1607 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=1605 --rest-port=1603 --tcp-port=1604 --discv5-udp-port=1606 --rest-address=0.0.0.0 --nat=extip:172.18.68.90 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=56e26e3a541f40e58898ad2d3e3fa4cfa7bec6fd9dc62a6eadd0fe63c02f91a6 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=1607 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QIWbTJ_HdBA5huByf-b1-wQbqinQXbXyXZJrLW75ICQmbSd43TgYiufz3LZMwuXH3frMml3A1rYPV4QMhBM1yZwCgmlkgnY0gmlwhKwS_Z-KbXVsdGlhZGRyc5YACASsEv2fBq-uAAoErBL9nwavr90DgnJzhQACAQAAiXNlY3AyNTZrMaED_3ybo6jUcL6NEvMVvhro2ASgsrEGM6Zb_Ajy3WAoXTSDdGNwgq-ug3VkcIKvsIV3YWt1MgU --content-topic=/myapp/1/latest/proto
2025-02-12 04:04:30.923 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.68.90 waku b9462c3d83415746ebe1e4bd8a2dabe7059c4f6bfdfec829b2c06cf1e88b9906
2025-02-12 04:04:30.970 DEBUG [src.node.docker_mananger] Container started with ID b9462c3d8341. Setting up logs at ./log/docker/node2_2025-02-12_04-04-29__7c796bfa-a41e-49df-a1f6-5cb64b301434__wakuorg_nwaku:latest.log
2025-02-12 04:04:30.970 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 1603
2025-02-12 04:04:30.970 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-12 04:04:31.971 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1603/health" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:04:31.979 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-12 04:04:31.981 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-12 04:04:31.982 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1603/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:04:31.985 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.68.90/tcp/1604/p2p/16Uiu2HAmEo2Cid3H9uVqCcYT9PFWpYNU43tvKud9xZaCqjPvqgSp","/ip4/172.18.68.90/tcp/1605/ws/p2p/16Uiu2HAmEo2Cid3H9uVqCcYT9PFWpYNU43tvKud9xZaCqjPvqgSp"],"enrUri":"enr:-L24QNwFsLy0cvqVychdyQrv9Xsh_3KHdQSpirSi37bR8gVlMw7b4UD1ycGeCpZvDsZ3l45HSGjtZe-i6N8y5tRBZd0CgmlkgnY0gmlwhKwSRFqKbXVsdGlhZGRyc5YACASsEkRaBgZEAAoErBJEWgYGRd0DgnJzhQACAQAAiXNlY3AyNTZrMaEDH8YdWJdZV7kQ68iCThXa2okQBdSC0UAmkq5AM23UWWWDdGNwggZEg3VkcIIGRoV3YWt1MgE"}'
2025-02-12 04:04:31.986 INFO [src.node.waku_node] REST service is ready !!
2025-02-12 04:04:31.986 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1603/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.253.159/tcp/44974/p2p/16Uiu2HAmVrJWy33JdX7xzb9GYaQEA5GxA7giKfNsdqSi5QMirZAs"]'
2025-02-12 04:04:31.989 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:04:31.990 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44973/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-12 04:04:31.998 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:04:32.000 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1603/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-12 04:04:32.019 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:04:32.023 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44973/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:04:32.029 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:04:32.029 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:04:32.131 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:04:32.131 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44973/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:04:32.134 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333072022455808,"ephemeral":false}]'
2025-02-12 04:04:32.135 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:04:32.136 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1603/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:04:32.138 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333072022455808,"ephemeral":false}]'
2025-02-12 04:04:32.140 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44973/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:04:32.145 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:04:32.145 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:04:32.245 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:04:32.246 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44973/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:04:32.248 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1739333072139996160,"ephemeral":false}]'
2025-02-12 04:04:32.250 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:04:32.250 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1603/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:04:32.252 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1739333072139996160,"ephemeral":false}]'
2025-02-12 04:04:32.254 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44973/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:04:32.259 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:04:32.259 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:04:32.360 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:04:32.360 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44973/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:04:32.363 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1739333072254192384,"ephemeral":false}]'
2025-02-12 04:04:32.365 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:04:32.365 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1603/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:04:32.367 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1739333072254192384,"ephemeral":false}]'
2025-02-12 04:04:32.369 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44973/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:04:32.373 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:04:32.374 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:04:32.475 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:04:32.475 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44973/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:04:32.478 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739333072369295872,"ephemeral":false}]'
2025-02-12 04:04:32.479 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:04:32.479 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1603/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:04:32.481 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739333072369295872,"ephemeral":false}]'
2025-02-12 04:04:32.483 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44973/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:04:32.488 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:04:32.488 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:04:32.588 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:04:32.589 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44973/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:04:32.591 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739333072483390720,"ephemeral":false}]'
2025-02-12 04:04:32.593 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:04:32.593 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1603/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:04:32.595 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739333072483390720,"ephemeral":false}]'
2025-02-12 04:04:32.597 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44973/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:04:32.601 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:04:32.601 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:04:32.702 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:04:32.702 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44973/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:04:32.704 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739333072596900864,"ephemeral":false}]'
2025-02-12 04:04:32.706 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:04:32.706 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1603/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:04:32.709 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739333072596900864,"ephemeral":false}]'
2025-02-12 04:04:32.710 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44973/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:04:32.715 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:04:32.715 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:04:32.815 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:04:32.816 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44973/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:04:32.818 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739333072710622720,"ephemeral":false}]'
2025-02-12 04:04:32.820 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:04:32.820 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1603/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:04:32.822 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739333072710622720,"ephemeral":false}]'
2025-02-12 04:04:32.824 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44973/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:04:32.829 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:04:32.830 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:04:32.930 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:04:32.930 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44973/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:04:32.933 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739333072824384000,"ephemeral":false}]'
2025-02-12 04:04:32.935 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:04:32.935 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1603/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:04:32.938 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739333072824384000,"ephemeral":false}]'
2025-02-12 04:04:32.939 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:44973/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding"]'
2025-02-12 04:04:32.947 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:04:32.949 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:1603/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding"]'
2025-02-12 04:04:32.956 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:04:32.957 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44973/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:04:32.959 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:04:32.959 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:04:33.060 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:04:33.060 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44973/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:04:33.062 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:44973/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto. Response content: b'/myapp/1/latest/proto'
2025-02-12 04:04:33.064 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44973/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:04:33.067 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:04:33.068 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:04:33.168 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:04:33.168 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44973/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:04:33.171 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:44973/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js. Response content: b'/waku/2/content/test.js'
2025-02-12 04:04:33.172 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44973/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:04:33.175 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:04:33.175 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:04:33.275 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:04:33.275 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44973/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:04:33.278 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:44973/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding. Response content: b'/app/22/sometopic/someencoding'
2025-02-12 04:04:33.280 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44973/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:04:33.284 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:04:33.285 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:04:33.385 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:04:33.385 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44973/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:04:33.388 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739333073279930880,"ephemeral":false}]'
2025-02-12 04:04:33.389 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:04:33.389 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1603/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:04:33.392 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739333073279930880,"ephemeral":false}]'
2025-02-12 04:04:33.393 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44973/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:04:33.398 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:04:33.398 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:04:33.499 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:04:33.499 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44973/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:04:33.502 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739333073393451008,"ephemeral":false}]'
2025-02-12 04:04:33.503 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:04:33.504 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1603/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:04:33.506 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739333073393451008,"ephemeral":false}]'
2025-02-12 04:04:33.507 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44973/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:04:33.512 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:04:33.513 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:04:33.613 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:04:33.613 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44973/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:04:33.615 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739333073507832576,"ephemeral":false}]'
2025-02-12 04:04:33.617 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:04:33.617 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1603/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:04:33.619 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739333073507832576,"ephemeral":false}]'
2025-02-12 04:04:33.621 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44973/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:04:33.624 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:04:33.625 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:04:33.725 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:04:33.725 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44973/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:04:33.727 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739333073620904704,"ephemeral":false}]'
2025-02-12 04:04:33.729 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:04:33.729 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1603/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:04:33.731 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739333073620904704,"ephemeral":false}]'
2025-02-12 04:04:33.733 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44973/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:04:33.737 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:04:33.738 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:04:33.839 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:04:33.839 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44973/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:04:33.841 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739333073733269248,"ephemeral":false}]'
2025-02-12 04:04:33.842 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:04:33.843 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1603/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:04:33.845 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739333073733269248,"ephemeral":false}]'
2025-02-12 04:04:33.847 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-12 04:04:33.848 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-12 04:04:33.849 DEBUG [src.node.waku_node] Stopping container with id 8c54a694372f
2025-02-12 04:04:34.612 DEBUG [src.node.waku_node] Container stopped.
2025-02-12 04:04:34.612 DEBUG [src.node.waku_node] Stopping container with id b9462c3d8341
2025-02-12 04:04:35.425 ERROR [src.node.docker_mananger] Max retries reached for container 8c54a694372f. Exiting log stream.
2025-02-12 04:04:35.931 DEBUG [src.node.waku_node] Container stopped.
2025-02-12 04:04:35.932 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-12 04:04:35.944 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-12 04:04:35.959 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
