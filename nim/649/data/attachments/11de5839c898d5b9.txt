2025-02-12 04:03:44.341 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-12 04:03:44.341 DEBUG [tests.conftest] Running test: test_filter_unsubscribe_all_with_invalid_request_id with id: 2025-02-12_04-03-44__5a4841fd-be45-481b-aa5b-cb263b0c2c27
2025-02-12 04:03:44.341 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-12 04:03:44.342 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2025-02-12 04:03:44.342 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2025-02-12 04:03:44.348 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-12 04:03:44.348 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-12_04-03-44__5a4841fd-be45-481b-aa5b-cb263b0c2c27__wakuorg_nwaku:latest.log
2025-02-12 04:03:44.348 DEBUG [src.node.waku_node] Starting Node...
2025-02-12 04:03:44.349 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-12 04:03:44.350 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-12 04:03:44.350 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.204.134
2025-02-12 04:03:44.350 DEBUG [src.node.docker_mananger] Generated ports ['62886', '62887', '62888', '62889', '62890']
2025-02-12 04:03:44.350 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-12 04:03:44.351 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-12 04:03:44.351 DEBUG [src.node.waku_node] Using volumes []
2025-02-12 04:03:44.351 DEBUG [src.node.docker_mananger] docker run -i -t -p 62886:62886 -p 62887:62887 -p 62888:62888 -p 62889:62889 -p 62890:62890 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=62888 --rest-port=62886 --tcp-port=62887 --discv5-udp-port=62889 --rest-address=0.0.0.0 --nat=extip:172.18.204.134 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c337aacf7f16ec5a04bccdb8b8af1cb8b889792eda4227ea9eb2b77715ebc7fe --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=62890 --metrics-logging=true --relay=true --filter=true
2025-02-12 04:03:44.579 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.204.134 waku 58e3d949f0ea6e99c3a5a87684ffa102ba5391099bb0d887ac5944c7a09553cb
2025-02-12 04:03:44.633 DEBUG [src.node.docker_mananger] Container started with ID 58e3d949f0ea. Setting up logs at ./log/docker/node1_2025-02-12_04-03-44__5a4841fd-be45-481b-aa5b-cb263b0c2c27__wakuorg_nwaku:latest.log
2025-02-12 04:03:44.635 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 62886
2025-02-12 04:03:44.635 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-12 04:03:45.140 ERROR [src.node.docker_mananger] Max retries reached for container d473b86d5af9. Exiting log stream.
2025-02-12 04:03:45.636 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:62886/health" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:03:45.638 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-12 04:03:45.639 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-12 04:03:45.639 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:62886/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:03:45.641 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.204.134/tcp/62887/p2p/16Uiu2HAmS8wnto6VxrZpGn9eehZgoTnigatfo3NKdRpg7YXhn9K8","/ip4/172.18.204.134/tcp/62888/ws/p2p/16Uiu2HAmS8wnto6VxrZpGn9eehZgoTnigatfo3NKdRpg7YXhn9K8"],"enrUri":"enr:-L24QBXO9UN6gWQNsRJq8d33C2dxf8R-R98VF2QPZg9uNPR1fp_3If74HjwYo6sdHuvADbDHShThwlIi6DDx38Z9KJsCgmlkgnY0gmlwhKwSzIaKbXVsdGlhZGRyc5YACASsEsyGBvWnAAoErBLMhgb1qN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDyFFMuz5aQf2Ev4GOq9T3vpaWqf3RmGZ0FlMvosDbB0ODdGNwgvWng3VkcIL1qYV3YWt1MgU"}'
2025-02-12 04:03:45.641 INFO [src.node.waku_node] REST service is ready !!
2025-02-12 04:03:45.642 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2025-02-12 04:03:45.648 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-12 04:03:45.648 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-12_04-03-44__5a4841fd-be45-481b-aa5b-cb263b0c2c27__wakuorg_nwaku:latest.log
2025-02-12 04:03:45.648 DEBUG [src.node.waku_node] Starting Node...
2025-02-12 04:03:45.649 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-12 04:03:45.650 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-12 04:03:45.650 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.7.201
2025-02-12 04:03:45.650 DEBUG [src.node.docker_mananger] Generated ports ['21485', '21486', '21487', '21488', '21489']
2025-02-12 04:03:45.650 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-12 04:03:45.650 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-12 04:03:45.651 DEBUG [src.node.waku_node] Using volumes []
2025-02-12 04:03:45.651 DEBUG [src.node.docker_mananger] docker run -i -t -p 21485:21485 -p 21486:21486 -p 21487:21487 -p 21488:21488 -p 21489:21489 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=21487 --rest-port=21485 --tcp-port=21486 --discv5-udp-port=21488 --rest-address=0.0.0.0 --nat=extip:172.18.7.201 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bf6db0be07d9ecafbf9c979e4f1cdf66f3cdaba5ad6b7de1dbd370061fba9db3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=21489 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QBXO9UN6gWQNsRJq8d33C2dxf8R-R98VF2QPZg9uNPR1fp_3If74HjwYo6sdHuvADbDHShThwlIi6DDx38Z9KJsCgmlkgnY0gmlwhKwSzIaKbXVsdGlhZGRyc5YACASsEsyGBvWnAAoErBLMhgb1qN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDyFFMuz5aQf2Ev4GOq9T3vpaWqf3RmGZ0FlMvosDbB0ODdGNwgvWng3VkcIL1qYV3YWt1MgU --filternode=/ip4/172.18.204.134/tcp/62887/p2p/16Uiu2HAmS8wnto6VxrZpGn9eehZgoTnigatfo3NKdRpg7YXhn9K8
2025-02-12 04:03:45.883 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.7.201 waku b5360abe2bf72ca29fb476230a770453ae3c6d3c846ae2b1a11722b54f4f315d
2025-02-12 04:03:45.932 DEBUG [src.node.docker_mananger] Container started with ID b5360abe2bf7. Setting up logs at ./log/docker/node2_2025-02-12_04-03-44__5a4841fd-be45-481b-aa5b-cb263b0c2c27__wakuorg_nwaku:latest.log
2025-02-12 04:03:45.932 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 21485
2025-02-12 04:03:45.933 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-12 04:03:46.934 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21485/health" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:03:46.937 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-12 04:03:46.937 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-12 04:03:46.937 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21485/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:03:46.940 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.7.201/tcp/21486/p2p/16Uiu2HAm6yrmZkgjTs9bqyoRaNeZE2gwCtHAdpnA5Mr5LFDb1BPM","/ip4/172.18.7.201/tcp/21487/ws/p2p/16Uiu2HAm6yrmZkgjTs9bqyoRaNeZE2gwCtHAdpnA5Mr5LFDb1BPM"],"enrUri":"enr:-L24QLx8ZYMDBCkP6tdHqpA6Qi3rmtLJP8pRu0AZlGx5BbtrGWgRo6AQdrnKOdZ14M7hhr7r3Lva3cH_MBdxQJMCjHECgmlkgnY0gmlwhKwSB8mKbXVsdGlhZGRyc5YACASsEgfJBlPuAAoErBIHyQZT790DgnJzhQADAQAAiXNlY3AyNTZrMaECq69XaGOoKZ7dZCaNCPBk0WX83cV41SSB9H79gRpxhRiDdGNwglPug3VkcIJT8IV3YWt1MgA"}'
2025-02-12 04:03:46.940 INFO [src.node.waku_node] REST service is ready !!
2025-02-12 04:03:46.940 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21485/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.204.134/tcp/62887/p2p/16Uiu2HAmS8wnto6VxrZpGn9eehZgoTnigatfo3NKdRpg7YXhn9K8"]'
2025-02-12 04:03:46.977 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:03:46.978 DEBUG [src.steps.filter] Running fixture setup: subscribe_main_nodes
2025-02-12 04:03:46.978 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:62886/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-12 04:03:46.993 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:03:46.994 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21485/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "3049ca34-9cdf-4a54-9340-8234fc0ff240", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2025-02-12 04:03:47.007 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"3049ca34-9cdf-4a54-9340-8234fc0ff240","statusDesc":"OK"}'
2025-02-12 04:03:47.008 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:21485/filter/v2/subscriptions/all" -H "Content-Type: application/json" -d '{"requestId": 1}'
2025-02-12 04:03:47.011 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:21485/filter/v2/subscriptions/all. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data\\", contentType: \\"text/plain\\"))"}'
2025-02-12 04:03:47.014 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-12 04:03:47.015 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-12 04:03:47.015 DEBUG [src.node.waku_node] Stopping container with id 58e3d949f0ea
2025-02-12 04:03:48.136 DEBUG [src.node.waku_node] Container stopped.
2025-02-12 04:03:48.136 DEBUG [src.node.waku_node] Stopping container with id b5360abe2bf7
2025-02-12 04:03:48.963 ERROR [src.node.docker_mananger] Max retries reached for container 58e3d949f0ea. Exiting log stream.
2025-02-12 04:03:49.646 DEBUG [src.node.waku_node] Container stopped.
2025-02-12 04:03:49.647 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-12 04:03:49.656 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-12 04:03:49.659 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
