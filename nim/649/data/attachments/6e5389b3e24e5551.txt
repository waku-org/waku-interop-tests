[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_publish_on_not_subscribed_content_topic_works with id: 2025-02-12_04-03-47__9c820f66-3beb-473e-ae90-3bdaa819d63d
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.sharding:sharding.py:29 Running fixture setup: sharding_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-02-12_04-03-47__9c820f66-3beb-473e-ae90-3bdaa819d63d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.183.53
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['22904', '22905', '22906', '22907', '22908']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 22904:22904 -p 22905:22905 -p 22906:22906 -p 22907:22907 -p 22908:22908 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=22906 --rest-port=22904 --tcp-port=22905 --discv5-udp-port=22907 --rest-address=0.0.0.0 --nat=extip:172.18.183.53 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=f8b5de9eb560ecaaef0c807cdf4562bdf757ff5da6162e081defe4bd44a23def --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=22908 --metrics-logging=true --relay=true --filter=true --content-topic=/myapp/1/latest/proto
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container bf2a99cfab71. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.183.53 waku 356a263af9b2760526201da9c88d77beb859c1bdebdf087e6b285e0ad92ba779
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 356a263af9b2. Setting up logs at ./log/docker/node1_2025-02-12_04-03-47__9c820f66-3beb-473e-ae90-3bdaa819d63d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 22904
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22904/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:22904/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.183.53/tcp/22905/p2p/16Uiu2HAmR4BYJhV9d1QsY8pGuZRNS4sVWx6mELgjYG8oALs4fLKq","/ip4/172.18.183.53/tcp/22906/ws/p2p/16Uiu2HAmR4BYJhV9d1QsY8pGuZRNS4sVWx6mELgjYG8oALs4fLKq"],"enrUri":"enr:-L24QJrEOdbtcMpxKhVormVzUc5yh6bh-CbXa-tF38gDd8hyF3Ad94sPqpaUXF75QXuCvsuyp7u24M-OlFqKXu_fxJECgmlkgnY0gmlwhKwStzWKbXVsdGlhZGRyc5YACASsErc1Bll5AAoErBK3NQZZet0DgnJzhQACAQAAiXNlY3AyNTZrMaEDuD1BFK7R6DjHjsennPWJy8VWZYEKRg_Tqpcn4VsJbZCDdGNwgll5g3VkcIJZe4V3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-02-12_04-03-47__9c820f66-3beb-473e-ae90-3bdaa819d63d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.228.2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['20544', '20545', '20546', '20547', '20548']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 20544:20544 -p 20545:20545 -p 20546:20546 -p 20547:20547 -p 20548:20548 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=20546 --rest-port=20544 --tcp-port=20545 --discv5-udp-port=20547 --rest-address=0.0.0.0 --nat=extip:172.18.228.2 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=dd5a82132340f7119cce1a7ed4e147498c2deaea0cd809207bb6ba3a1eea55e5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=20548 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QJrEOdbtcMpxKhVormVzUc5yh6bh-CbXa-tF38gDd8hyF3Ad94sPqpaUXF75QXuCvsuyp7u24M-OlFqKXu_fxJECgmlkgnY0gmlwhKwStzWKbXVsdGlhZGRyc5YACASsErc1Bll5AAoErBK3NQZZet0DgnJzhQACAQAAiXNlY3AyNTZrMaEDuD1BFK7R6DjHjsennPWJy8VWZYEKRg_Tqpcn4VsJbZCDdGNwgll5g3VkcIJZe4V3YWt1MgU --content-topic=/myapp/1/latest/proto
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.228.2 waku 9a89c0d584082570d35e21046d2355a984e3d5824231c06e4ad247587bb227bd
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 9a89c0d58408. Setting up logs at ./log/docker/node2_2025-02-12_04-03-47__9c820f66-3beb-473e-ae90-3bdaa819d63d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 20544
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20544/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20544/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.228.2/tcp/20545/p2p/16Uiu2HAkv17scU56svyCRQLyAARmKnx72RJBSyMXJBezhX8Qwqp1","/ip4/172.18.228.2/tcp/20546/ws/p2p/16Uiu2HAkv17scU56svyCRQLyAARmKnx72RJBSyMXJBezhX8Qwqp1"],"enrUri":"enr:-L24QOVonxPXMi2yO0BWd_yV-VB2Iy7LUR12aj5LHSPJ_xNeIs-OcJnrob4M_OT5rUMV-6szSsvfACjlgbTy07E5Lv8CgmlkgnY0gmlwhKwS5AKKbXVsdGlhZGRyc5YACASsEuQCBlBBAAoErBLkAgZQQt0DgnJzhQACAQAAiXNlY3AyNTZrMaECCJFxyi5SV-8Ayz5wD0ZhusF6bmLcdp1lqFRy5E2O1CaDdGNwglBBg3VkcIJQQ4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20544/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.183.53/tcp/22905/p2p/16Uiu2HAmR4BYJhV9d1QsY8pGuZRNS4sVWx6mELgjYG8oALs4fLKq"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22904/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20544/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:22904/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20544/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 356a263af9b2
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 9a89c0d58408
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 356a263af9b2. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.