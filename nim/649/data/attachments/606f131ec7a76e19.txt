2025-02-12 04:05:00.509 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-12 04:05:00.509 DEBUG [tests.conftest] Running test: test_light_push_with_valid_payloads with id: 2025-02-12_04-05-00__bc8c15f6-63d7-4622-b5c8-574f810e8c6b
2025-02-12 04:05:00.510 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-12 04:05:00.510 DEBUG [src.steps.light_push] Running fixture setup: light_push_setup
2025-02-12 04:05:00.517 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-12 04:05:00.517 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node1_2025-02-12_04-05-00__bc8c15f6-63d7-4622-b5c8-574f810e8c6b__wakuorg_nwaku:latest.log
2025-02-12 04:05:00.517 DEBUG [src.node.waku_node] Starting Node...
2025-02-12 04:05:00.518 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-12 04:05:00.519 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-12 04:05:00.519 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.146.155
2025-02-12 04:05:00.519 DEBUG [src.node.docker_mananger] Generated ports ['65455', '65456', '65457', '65458', '65459']
2025-02-12 04:05:00.519 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-12 04:05:00.520 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-12 04:05:00.520 DEBUG [src.node.waku_node] Using volumes []
2025-02-12 04:05:00.520 DEBUG [src.node.docker_mananger] docker run -i -t -p 65455:65455 -p 65456:65456 -p 65457:65457 -p 65458:65458 -p 65459:65459 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=65457 --rest-port=65455 --tcp-port=65456 --discv5-udp-port=65458 --rest-address=0.0.0.0 --nat=extip:172.18.146.155 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fee32fabb2d59c85d95dc6e942dd3a454ab261445efcc6196ebc781478cfdaf8 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=65459 --metrics-logging=true --lightpush=true --relay=true
2025-02-12 04:05:00.770 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.146.155 waku 7f84f2d62fa90d0f83d6c893814128b1a1369aa827403ca2b40c8329ca78a84b
2025-02-12 04:05:00.823 DEBUG [src.node.docker_mananger] Container started with ID 7f84f2d62fa9. Setting up logs at ./log/docker/receiving_node1_2025-02-12_04-05-00__bc8c15f6-63d7-4622-b5c8-574f810e8c6b__wakuorg_nwaku:latest.log
2025-02-12 04:05:00.825 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 65455
2025-02-12 04:05:00.825 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-12 04:05:01.322 ERROR [src.node.docker_mananger] Max retries reached for container 8fd88e70a976. Exiting log stream.
2025-02-12 04:05:01.825 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65455/health" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:01.829 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-12 04:05:01.829 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-12 04:05:01.829 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65455/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:01.831 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.146.155/tcp/65456/p2p/16Uiu2HAmHZwEhRXLhLYw45tcSAHWRNp3rK4MgLgQmv6RT2QQnsyE","/ip4/172.18.146.155/tcp/65457/ws/p2p/16Uiu2HAmHZwEhRXLhLYw45tcSAHWRNp3rK4MgLgQmv6RT2QQnsyE"],"enrUri":"enr:-L24QE6tk053QIbfVM52TNIBFaYad8y7y6iAD0OQ5jTVPVyVM2cL76z0UYxELmaK11w09M7fh6MuN_iZcUvAeS6iZEMCgmlkgnY0gmlwhKwSkpuKbXVsdGlhZGRyc5YACASsEpKbBv-wAAoErBKSmwb_sd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDSP8CjO_Sxg5kPP9h7FoVjm1Aw4aU_5plaKnP-xtuyd2DdGNwgv-wg3VkcIL_soV3YWt1Mgk"}'
2025-02-12 04:05:01.832 INFO [src.node.waku_node] REST service is ready !!
2025-02-12 04:05:01.839 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-12 04:05:01.839 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node2_2025-02-12_04-05-00__bc8c15f6-63d7-4622-b5c8-574f810e8c6b__wakuorg_nwaku:latest.log
2025-02-12 04:05:01.839 DEBUG [src.node.waku_node] Starting Node...
2025-02-12 04:05:01.839 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-12 04:05:01.841 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-12 04:05:01.841 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.220.98
2025-02-12 04:05:01.841 DEBUG [src.node.docker_mananger] Generated ports ['41971', '41972', '41973', '41974', '41975']
2025-02-12 04:05:01.842 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-12 04:05:01.842 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-12 04:05:01.842 DEBUG [src.node.waku_node] Using volumes []
2025-02-12 04:05:01.842 DEBUG [src.node.docker_mananger] docker run -i -t -p 41971:41971 -p 41972:41972 -p 41973:41973 -p 41974:41974 -p 41975:41975 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=41973 --rest-port=41971 --tcp-port=41972 --discv5-udp-port=41974 --rest-address=0.0.0.0 --nat=extip:172.18.220.98 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=44f45c01ccebcf2c69809aafef79c7f3589abd9ca2d1380836154a4d3ca74c41 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=41975 --metrics-logging=true --lightpush=false --relay=true
2025-02-12 04:05:02.087 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.220.98 waku fbbba14a67578995c34853c410e3f105493f0e8a0d1f892007f8189bff86d8a5
2025-02-12 04:05:02.140 DEBUG [src.node.docker_mananger] Container started with ID fbbba14a6757. Setting up logs at ./log/docker/receiving_node2_2025-02-12_04-05-00__bc8c15f6-63d7-4622-b5c8-574f810e8c6b__wakuorg_nwaku:latest.log
2025-02-12 04:05:02.141 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 41971
2025-02-12 04:05:02.141 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-12 04:05:03.142 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41971/health" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:03.145 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-12 04:05:03.145 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-12 04:05:03.145 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41971/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:03.148 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.220.98/tcp/41972/p2p/16Uiu2HAmFMBfBugZGqJatZjfAd1VCFBp8dAYVgyTm7c3r25PCNUB","/ip4/172.18.220.98/tcp/41973/ws/p2p/16Uiu2HAmFMBfBugZGqJatZjfAd1VCFBp8dAYVgyTm7c3r25PCNUB"],"enrUri":"enr:-L24QOjcW_OXadmI6o1X0mtt49VMpEpscWOaL6LutJOjw0CNLESZypEf3LAcV0t26Il0G32nhkfEMawzqD7hpv028iUCgmlkgnY0gmlwhKwS3GKKbXVsdGlhZGRyc5YACASsEtxiBqP0AAoErBLcYgaj9d0DgnJzhQADAQAAiXNlY3AyNTZrMaEDKANklL7Yi5aRjaDrXpdbenymmT79KSkb2cBhlUaYYHSDdGNwgqP0g3VkcIKj9oV3YWt1MgE"}'
2025-02-12 04:05:03.148 INFO [src.node.waku_node] REST service is ready !!
2025-02-12 04:05:03.148 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41971/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.146.155/tcp/65456/p2p/16Uiu2HAmHZwEhRXLhLYw45tcSAHWRNp3rK4MgLgQmv6RT2QQnsyE"]'
2025-02-12 04:05:03.189 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:05:03.198 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-12 04:05:03.198 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/lightpush_node1_2025-02-12_04-05-00__bc8c15f6-63d7-4622-b5c8-574f810e8c6b__wakuorg_nwaku:latest.log
2025-02-12 04:05:03.199 DEBUG [src.node.waku_node] Starting Node...
2025-02-12 04:05:03.199 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-12 04:05:03.200 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-12 04:05:03.200 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.88.217
2025-02-12 04:05:03.201 DEBUG [src.node.docker_mananger] Generated ports ['54016', '54017', '54018', '54019', '54020']
2025-02-12 04:05:03.201 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-12 04:05:03.201 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-12 04:05:03.201 DEBUG [src.node.waku_node] Using volumes []
2025-02-12 04:05:03.201 DEBUG [src.node.docker_mananger] docker run -i -t -p 54016:54016 -p 54017:54017 -p 54018:54018 -p 54019:54019 -p 54020:54020 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=54018 --rest-port=54016 --tcp-port=54017 --discv5-udp-port=54019 --rest-address=0.0.0.0 --nat=extip:172.18.88.217 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b3eedac1d9cbabae2fdcadae61fabcca5cf0f70f38e9d33579c38ae6311ab047 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=54020 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QE6tk053QIbfVM52TNIBFaYad8y7y6iAD0OQ5jTVPVyVM2cL76z0UYxELmaK11w09M7fh6MuN_iZcUvAeS6iZEMCgmlkgnY0gmlwhKwSkpuKbXVsdGlhZGRyc5YACASsEpKbBv-wAAoErBKSmwb_sd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDSP8CjO_Sxg5kPP9h7FoVjm1Aw4aU_5plaKnP-xtuyd2DdGNwgv-wg3VkcIL_soV3YWt1Mgk --lightpushnode=/ip4/172.18.146.155/tcp/65456/p2p/16Uiu2HAmHZwEhRXLhLYw45tcSAHWRNp3rK4MgLgQmv6RT2QQnsyE --lightpush=true --relay=false
2025-02-12 04:05:03.440 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.88.217 waku cfdc9cd72bd91c788df45b9677bab813830bdce28e9c8d5e0eed2fc46062c672
2025-02-12 04:05:03.488 DEBUG [src.node.docker_mananger] Container started with ID cfdc9cd72bd9. Setting up logs at ./log/docker/lightpush_node1_2025-02-12_04-05-00__bc8c15f6-63d7-4622-b5c8-574f810e8c6b__wakuorg_nwaku:latest.log
2025-02-12 04:05:03.489 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 54016
2025-02-12 04:05:03.489 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-12 04:05:04.489 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54016/health" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:04.493 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-12 04:05:04.493 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-12 04:05:04.493 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:54016/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:04.495 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.88.217/tcp/54017/p2p/16Uiu2HAm4Vtjn2JRGvzWZbCApd1zEU1UBhejRFnHL4XKWtmfdbHQ","/ip4/172.18.88.217/tcp/54018/ws/p2p/16Uiu2HAm4Vtjn2JRGvzWZbCApd1zEU1UBhejRFnHL4XKWtmfdbHQ"],"enrUri":"enr:-L24QAW5K6LU2p94VvzyQEq6l2zyvRG1Q4nionhiLM23UZWVBLd7E1OORtoq3TDWVqCTA7s_0okQd1NzvRGt_2kt7c4CgmlkgnY0gmlwhKwSWNmKbXVsdGlhZGRyc5YACASsEljZBtMBAAoErBJY2QbTAt0DgnJzhQADAQAAiXNlY3AyNTZrMaEChs3udOSfusTe772xRMExhm9ODdzXoOGaDt6pRUDO6T-DdGNwgtMBg3VkcILTA4V3YWt1Mgg"}'
2025-02-12 04:05:04.495 INFO [src.node.waku_node] REST service is ready !!
2025-02-12 04:05:04.496 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54016/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.146.155/tcp/65456/p2p/16Uiu2HAmHZwEhRXLhLYw45tcSAHWRNp3rK4MgLgQmv6RT2QQnsyE"]'
2025-02-12 04:05:04.532 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:05:04.534 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54016/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.220.98/tcp/41972/p2p/16Uiu2HAmFMBfBugZGqJatZjfAd1VCFBp8dAYVgyTm7c3r25PCNUB"]'
2025-02-12 04:05:04.565 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:05:04.567 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:65455/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-12 04:05:04.573 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:05:04.576 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41971/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-12 04:05:04.582 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:05:04.583 DEBUG [tests.light_push.test_publish] Running test with payload A simple string
2025-02-12 04:05:04.583 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 04:05:04.583 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54016/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "SGVsbG8gV29ybGQh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739333104583409152}}'
2025-02-12 04:05:04.593 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:05:04.594 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:05:04.695 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:04.695 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65455/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:04.698 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"SGVsbG8gV29ybGQh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333104583409152,"ephemeral":false}]'
2025-02-12 04:05:04.699 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:04.699 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41971/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:04.702 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"SGVsbG8gV29ybGQh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333104583409152,"ephemeral":false}]'
2025-02-12 04:05:04.703 DEBUG [tests.light_push.test_publish] Running test with payload An integer
2025-02-12 04:05:04.704 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 04:05:04.704 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54016/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "MTIzNDU2Nzg5MA==", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739333104703914240}}'
2025-02-12 04:05:04.713 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:05:04.713 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:05:04.814 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:04.814 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65455/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:04.817 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTIzNDU2Nzg5MA==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333104703914240,"ephemeral":false}]'
2025-02-12 04:05:04.818 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:04.819 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41971/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:04.821 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTIzNDU2Nzg5MA==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333104703914240,"ephemeral":false}]'
2025-02-12 04:05:04.822 DEBUG [tests.light_push.test_publish] Running test with payload A dictionary
2025-02-12 04:05:04.823 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 04:05:04.823 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54016/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "eyJrZXkiOiAidmFsdWUifQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739333104823180544}}'
2025-02-12 04:05:04.833 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:05:04.833 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:05:04.934 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:04.934 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65455/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:04.937 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"eyJrZXkiOiAidmFsdWUifQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333104823180544,"ephemeral":false}]'
2025-02-12 04:05:04.938 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:04.939 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41971/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:04.941 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"eyJrZXkiOiAidmFsdWUifQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333104823180544,"ephemeral":false}]'
2025-02-12 04:05:04.943 DEBUG [tests.light_push.test_publish] Running test with payload Chinese characters
2025-02-12 04:05:04.943 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 04:05:04.943 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54016/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "6L+Z5piv5LiA5Lqb5Lit5paH", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739333104943252992}}'
2025-02-12 04:05:04.953 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:05:04.954 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:05:05.055 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:05.055 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65455/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:05.058 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"6L+Z5piv5LiA5Lqb5Lit5paH","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333104943252992,"ephemeral":false}]'
2025-02-12 04:05:05.059 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:05.060 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41971/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:05.062 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"6L+Z5piv5LiA5Lqb5Lit5paH","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333104943252992,"ephemeral":false}]'
2025-02-12 04:05:05.063 DEBUG [tests.light_push.test_publish] Running test with payload Emojis
2025-02-12 04:05:05.063 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 04:05:05.063 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54016/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "8J+agPCfjJ/inKg=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739333105063607552}}'
2025-02-12 04:05:05.073 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:05:05.073 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:05:05.174 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:05.174 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65455/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:05.177 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"8J+agPCfjJ/inKg=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333105063607552,"ephemeral":false}]'
2025-02-12 04:05:05.179 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:05.179 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41971/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:05.181 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"8J+agPCfjJ/inKg=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333105063607552,"ephemeral":false}]'
2025-02-12 04:05:05.182 DEBUG [tests.light_push.test_publish] Running test with payload Lorem ipsum text
2025-02-12 04:05:05.183 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 04:05:05.183 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54016/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQ=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739333105183195392}}'
2025-02-12 04:05:05.194 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:05:05.194 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:05:05.294 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:05.295 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65455/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:05.297 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQ=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333105183195392,"ephemeral":false}]'
2025-02-12 04:05:05.299 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:05.299 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41971/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:05.301 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQ=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333105183195392,"ephemeral":false}]'
2025-02-12 04:05:05.302 DEBUG [tests.light_push.test_publish] Running test with payload HTML content
2025-02-12 04:05:05.303 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 04:05:05.303 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54016/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "PGh0bWw+PGJvZHk+SGVsbG88L2JvZHk+PC9odG1sPg==", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739333105303182080}}'
2025-02-12 04:05:05.313 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:05:05.313 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:05:05.413 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:05.414 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65455/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:05.416 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"PGh0bWw+PGJvZHk+SGVsbG88L2JvZHk+PC9odG1sPg==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333105303182080,"ephemeral":false}]'
2025-02-12 04:05:05.418 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:05.418 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41971/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:05.421 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"PGh0bWw+PGJvZHk+SGVsbG88L2JvZHk+PC9odG1sPg==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333105303182080,"ephemeral":false}]'
2025-02-12 04:05:05.422 DEBUG [tests.light_push.test_publish] Running test with payload Cyrillic characters
2025-02-12 04:05:05.422 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 04:05:05.422 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54016/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "0J/RgNC40LLQtdGC", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739333105422542848}}'
2025-02-12 04:05:05.433 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:05:05.434 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:05:05.535 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:05.535 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65455/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:05.538 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"0J/RgNC40LLQtdGC","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333105422542848,"ephemeral":false}]'
2025-02-12 04:05:05.540 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:05.540 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41971/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:05.542 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"0J/RgNC40LLQtdGC","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333105422542848,"ephemeral":false}]'
2025-02-12 04:05:05.544 DEBUG [tests.light_push.test_publish] Running test with payload Base64 encoded string
2025-02-12 04:05:05.544 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 04:05:05.544 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54016/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "QmFzZTY0PT1kR1Z6ZEE9PQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739333105544346112}}'
2025-02-12 04:05:05.556 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:05:05.556 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:05:05.657 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:05.657 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65455/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:05.660 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"QmFzZTY0PT1kR1Z6ZEE9PQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333105544346112,"ephemeral":false}]'
2025-02-12 04:05:05.661 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:05.662 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41971/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:05.664 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"QmFzZTY0PT1kR1Z6ZEE9PQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333105544346112,"ephemeral":false}]'
2025-02-12 04:05:05.665 DEBUG [tests.light_push.test_publish] Running test with payload Binary data
2025-02-12 04:05:05.666 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 04:05:05.666 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54016/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "ZDI5eWEybHVaeUIzYVhSb0lHSnBibUZ5ZVNCa1lYUmg6IFBR", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739333105665892608}}'
2025-02-12 04:05:05.677 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:05:05.678 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:05:05.778 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:05.778 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65455/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:05.781 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"ZDI5eWEybHVaeUIzYVhSb0lHSnBibUZ5ZVNCa1lYUmg6IFBR","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333105665892608,"ephemeral":false}]'
2025-02-12 04:05:05.783 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:05.784 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41971/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:05.787 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"ZDI5eWEybHVaeUIzYVhSb0lHSnBibUZ5ZVNCa1lYUmg6IFBR","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333105665892608,"ephemeral":false}]'
2025-02-12 04:05:05.789 DEBUG [tests.light_push.test_publish] Running test with payload Special characters with whitespace
2025-02-12 04:05:05.789 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 04:05:05.789 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54016/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "CQpTcGVjaWFsCUNoYXJhY3RlcnMK", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739333105789457920}}'
2025-02-12 04:05:05.800 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:05:05.801 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:05:05.902 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:05.902 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65455/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:05.905 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"CQpTcGVjaWFsCUNoYXJhY3RlcnMK","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333105789457920,"ephemeral":false}]'
2025-02-12 04:05:05.906 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:05.907 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41971/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:05.909 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"CQpTcGVjaWFsCUNoYXJhY3RlcnMK","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333105789457920,"ephemeral":false}]'
2025-02-12 04:05:05.910 DEBUG [tests.light_push.test_publish] Running test with payload Boolean false as a string
2025-02-12 04:05:05.911 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 04:05:05.911 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54016/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "RmFsc2U=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739333105911067648}}'
2025-02-12 04:05:05.921 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:05:05.921 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:05:06.022 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:06.022 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65455/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:06.025 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RmFsc2U=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333105911067648,"ephemeral":false}]'
2025-02-12 04:05:06.027 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:06.028 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41971/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:06.030 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RmFsc2U=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333105911067648,"ephemeral":false}]'
2025-02-12 04:05:06.031 DEBUG [tests.light_push.test_publish] Running test with payload A float number
2025-02-12 04:05:06.032 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 04:05:06.032 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54016/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "My4xNDE1OTI2NTM1", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739333106031910912}}'
2025-02-12 04:05:06.042 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:05:06.042 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:05:06.142 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:06.143 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65455/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:06.145 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"My4xNDE1OTI2NTM1","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333106031910912,"ephemeral":false}]'
2025-02-12 04:05:06.147 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:06.147 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41971/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:06.149 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"My4xNDE1OTI2NTM1","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333106031910912,"ephemeral":false}]'
2025-02-12 04:05:06.151 DEBUG [tests.light_push.test_publish] Running test with payload A list
2025-02-12 04:05:06.151 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 04:05:06.151 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54016/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "WzEsIDIsIDMsIDQsIDVd", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739333106151532800}}'
2025-02-12 04:05:06.165 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:05:06.165 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:05:06.266 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:06.266 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65455/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:06.269 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"WzEsIDIsIDMsIDQsIDVd","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333106151532800,"ephemeral":false}]'
2025-02-12 04:05:06.271 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:06.271 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41971/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:06.273 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"WzEsIDIsIDMsIDQsIDVd","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333106151532800,"ephemeral":false}]'
2025-02-12 04:05:06.275 DEBUG [tests.light_push.test_publish] Running test with payload Hexadecimal number as a string
2025-02-12 04:05:06.275 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 04:05:06.275 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54016/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "MHhERUFEQkVFRg==", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739333106275252992}}'
2025-02-12 04:05:06.286 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:05:06.287 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:05:06.387 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:06.387 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65455/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:06.390 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MHhERUFEQkVFRg==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333106275252992,"ephemeral":false}]'
2025-02-12 04:05:06.391 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:06.392 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41971/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:06.394 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MHhERUFEQkVFRg==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333106275252992,"ephemeral":false}]'
2025-02-12 04:05:06.395 DEBUG [tests.light_push.test_publish] Running test with payload Email format
2025-02-12 04:05:06.396 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 04:05:06.396 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54016/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "dXNlckBleGFtcGxlLmNvbQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739333106395806976}}'
2025-02-12 04:05:06.406 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:05:06.406 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:05:06.507 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:06.507 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65455/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:06.510 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"dXNlckBleGFtcGxlLmNvbQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333106395806976,"ephemeral":false}]'
2025-02-12 04:05:06.511 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:06.512 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41971/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:06.514 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"dXNlckBleGFtcGxlLmNvbQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333106395806976,"ephemeral":false}]'
2025-02-12 04:05:06.516 DEBUG [tests.light_push.test_publish] Running test with payload URL format
2025-02-12 04:05:06.516 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 04:05:06.516 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54016/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "aHR0cDovL2V4YW1wbGUuY29t", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739333106516298240}}'
2025-02-12 04:05:06.525 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:05:06.526 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:05:06.627 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:06.627 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65455/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:06.630 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"aHR0cDovL2V4YW1wbGUuY29t","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333106516298240,"ephemeral":false}]'
2025-02-12 04:05:06.631 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:06.631 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41971/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:06.633 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"aHR0cDovL2V4YW1wbGUuY29t","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333106516298240,"ephemeral":false}]'
2025-02-12 04:05:06.635 DEBUG [tests.light_push.test_publish] Running test with payload Date and time in ISO format
2025-02-12 04:05:06.635 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 04:05:06.635 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54016/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "MjAyMy0xMS0wMVQxMjowMDowMFo=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739333106635572480}}'
2025-02-12 04:05:06.645 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:05:06.645 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:05:06.746 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:06.746 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65455/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:06.749 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MjAyMy0xMS0wMVQxMjowMDowMFo=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333106635572480,"ephemeral":false}]'
2025-02-12 04:05:06.750 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:06.751 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41971/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:06.753 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MjAyMy0xMS0wMVQxMjowMDowMFo=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333106635572480,"ephemeral":false}]'
2025-02-12 04:05:06.754 DEBUG [tests.light_push.test_publish] Running test with payload String with escaped quotes
2025-02-12 04:05:06.755 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 04:05:06.755 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54016/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "IkVzY2FwZWQiIFwicXVvdGVzXCI=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739333106755088896}}'
2025-02-12 04:05:06.765 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:05:06.765 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:05:06.865 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:06.866 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65455/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:06.868 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"IkVzY2FwZWQiIFwicXVvdGVzXCI=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333106755088896,"ephemeral":false}]'
2025-02-12 04:05:06.870 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:06.870 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41971/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:06.872 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"IkVzY2FwZWQiIFwicXVvdGVzXCI=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333106755088896,"ephemeral":false}]'
2025-02-12 04:05:06.873 DEBUG [tests.light_push.test_publish] Running test with payload A regular expression
2025-02-12 04:05:06.874 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 04:05:06.874 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54016/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "UmVndWxhciBleHByZXNzaW9uOiBeW2EtejAtOV8tXXszLDE2fSQ=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739333106874094592}}'
2025-02-12 04:05:06.884 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:05:06.884 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:05:06.984 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:06.985 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65455/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:06.988 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVndWxhciBleHByZXNzaW9uOiBeW2EtejAtOV8tXXszLDE2fSQ=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333106874094592,"ephemeral":false}]'
2025-02-12 04:05:06.989 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:06.989 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41971/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:06.992 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVndWxhciBleHByZXNzaW9uOiBeW2EtejAtOV8tXXszLDE2fSQ=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333106874094592,"ephemeral":false}]'
2025-02-12 04:05:06.993 DEBUG [tests.light_push.test_publish] Running test with payload A very long string
2025-02-12 04:05:06.994 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 04:05:06.994 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54016/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eA==", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739333106993985280}}'
2025-02-12 04:05:07.005 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:05:07.006 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:05:07.107 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:07.107 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65455/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:07.110 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eA==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333106993985280,"ephemeral":false}]'
2025-02-12 04:05:07.111 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:07.111 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41971/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:07.114 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eA==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333106993985280,"ephemeral":false}]'
2025-02-12 04:05:07.116 DEBUG [tests.light_push.test_publish] Running test with payload A JSON string
2025-02-12 04:05:07.116 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 04:05:07.117 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54016/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "eyJuYW1lIjogIkpvaG4iLCAiYWdlIjogMzAsICJjaXR5IjogIk5ldyBZb3JrIn0=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739333107116600064}}'
2025-02-12 04:05:07.128 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:05:07.129 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:05:07.230 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:07.231 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65455/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:07.233 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"eyJuYW1lIjogIkpvaG4iLCAiYWdlIjogMzAsICJjaXR5IjogIk5ldyBZb3JrIn0=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333107116600064,"ephemeral":false}]'
2025-02-12 04:05:07.235 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:07.235 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41971/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:07.237 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"eyJuYW1lIjogIkpvaG4iLCAiYWdlIjogMzAsICJjaXR5IjogIk5ldyBZb3JrIn0=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333107116600064,"ephemeral":false}]'
2025-02-12 04:05:07.239 DEBUG [tests.light_push.test_publish] Running test with payload A Unix path
2025-02-12 04:05:07.239 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 04:05:07.239 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54016/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "L3Vzci9sb2NhbC9iaW4=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739333107239374336}}'
2025-02-12 04:05:07.250 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:05:07.250 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:05:07.351 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:07.351 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65455/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:07.354 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"L3Vzci9sb2NhbC9iaW4=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333107239374336,"ephemeral":false}]'
2025-02-12 04:05:07.355 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:07.356 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41971/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:07.358 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"L3Vzci9sb2NhbC9iaW4=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333107239374336,"ephemeral":false}]'
2025-02-12 04:05:07.359 DEBUG [tests.light_push.test_publish] Running test with payload A Windows path
2025-02-12 04:05:07.360 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 04:05:07.360 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54016/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "QzpcV2luZG93c1xTeXN0ZW0zMg==", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739333107360118784}}'
2025-02-12 04:05:07.371 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:05:07.371 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:05:07.471 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:07.472 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65455/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:07.475 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"QzpcV2luZG93c1xTeXN0ZW0zMg==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333107360118784,"ephemeral":false}]'
2025-02-12 04:05:07.476 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:07.476 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41971/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:07.479 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"QzpcV2luZG93c1xTeXN0ZW0zMg==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333107360118784,"ephemeral":false}]'
2025-02-12 04:05:07.480 DEBUG [tests.light_push.test_publish] Running test with payload An SQL query
2025-02-12 04:05:07.481 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 04:05:07.481 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54016/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "U0VMRUNUICogRlJPTSB1c2VycyBXSEVSRSBpZCA9IDE7", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739333107481073152}}'
2025-02-12 04:05:07.491 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:05:07.492 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:05:07.592 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:07.592 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65455/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:07.595 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U0VMRUNUICogRlJPTSB1c2VycyBXSEVSRSBpZCA9IDE7","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333107481073152,"ephemeral":false}]'
2025-02-12 04:05:07.597 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:07.597 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41971/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:07.600 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U0VMRUNUICogRlJPTSB1c2VycyBXSEVSRSBpZCA9IDE7","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333107481073152,"ephemeral":false}]'
2025-02-12 04:05:07.602 DEBUG [tests.light_push.test_publish] Running test with payload JavaScript code snippet
2025-02-12 04:05:07.602 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 04:05:07.602 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54016/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "ZnVuY3Rpb24gdGVzdCgpIHsgY29uc29sZS5sb2coJ0hlbGxvIFdvcmxkJyk7IH0=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739333107602302976}}'
2025-02-12 04:05:07.612 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:05:07.613 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:05:07.714 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:07.714 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65455/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:07.717 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"ZnVuY3Rpb24gdGVzdCgpIHsgY29uc29sZS5sb2coJ0hlbGxvIFdvcmxkJyk7IH0=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333107602302976,"ephemeral":false}]'
2025-02-12 04:05:07.718 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:07.719 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41971/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:07.721 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"ZnVuY3Rpb24gdGVzdCgpIHsgY29uc29sZS5sb2coJ0hlbGxvIFdvcmxkJyk7IH0=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333107602302976,"ephemeral":false}]'
2025-02-12 04:05:07.722 DEBUG [tests.light_push.test_publish] Running test with payload A CSS snippet
2025-02-12 04:05:07.723 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 04:05:07.723 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54016/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "Ym9keSB7IGJhY2tncm91bmQtY29sb3I6ICNmZmY7IH0=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739333107723105024}}'
2025-02-12 04:05:07.733 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:05:07.733 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:05:07.834 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:07.834 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65455/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:07.837 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"Ym9keSB7IGJhY2tncm91bmQtY29sb3I6ICNmZmY7IH0=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333107723105024,"ephemeral":false}]'
2025-02-12 04:05:07.839 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:07.839 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41971/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:07.841 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"Ym9keSB7IGJhY2tncm91bmQtY29sb3I6ICNmZmY7IH0=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333107723105024,"ephemeral":false}]'
2025-02-12 04:05:07.842 DEBUG [tests.light_push.test_publish] Running test with payload A Python one-liner
2025-02-12 04:05:07.843 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 04:05:07.843 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54016/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "cHJpbnQoJ0hlbGxvIFdvcmxkJyk=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739333107843190016}}'
2025-02-12 04:05:07.854 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:05:07.855 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:05:07.955 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:07.955 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65455/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:07.958 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"cHJpbnQoJ0hlbGxvIFdvcmxkJyk=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333107843190016,"ephemeral":false}]'
2025-02-12 04:05:07.960 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:07.960 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41971/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:07.962 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"cHJpbnQoJ0hlbGxvIFdvcmxkJyk=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333107843190016,"ephemeral":false}]'
2025-02-12 04:05:07.964 DEBUG [tests.light_push.test_publish] Running test with payload An IP address
2025-02-12 04:05:07.965 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 04:05:07.965 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54016/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "MTkyLjE2OC4xLjE=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739333107964983552}}'
2025-02-12 04:05:07.975 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:05:07.975 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:05:08.075 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:08.076 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65455/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:08.079 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTkyLjE2OC4xLjE=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333107964983552,"ephemeral":false}]'
2025-02-12 04:05:08.080 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:08.080 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41971/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:08.082 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTkyLjE2OC4xLjE=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333107964983552,"ephemeral":false}]'
2025-02-12 04:05:08.084 DEBUG [tests.light_push.test_publish] Running test with payload A domain name
2025-02-12 04:05:08.084 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 04:05:08.084 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54016/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "d3d3LmV4YW1wbGUuY29t", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739333108084505856}}'
2025-02-12 04:05:08.094 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:05:08.095 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:05:08.195 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:08.196 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65455/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:08.198 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"d3d3LmV4YW1wbGUuY29t","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333108084505856,"ephemeral":false}]'
2025-02-12 04:05:08.200 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:08.200 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41971/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:08.202 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"d3d3LmV4YW1wbGUuY29t","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333108084505856,"ephemeral":false}]'
2025-02-12 04:05:08.204 DEBUG [tests.light_push.test_publish] Running test with payload A user agent string
2025-02-12 04:05:08.204 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 04:05:08.204 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54016/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCk=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739333108204501504}}'
2025-02-12 04:05:08.214 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:05:08.214 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:05:08.315 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:08.315 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65455/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:08.318 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCk=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333108204501504,"ephemeral":false}]'
2025-02-12 04:05:08.320 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:08.320 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41971/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:08.322 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCk=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333108204501504,"ephemeral":false}]'
2025-02-12 04:05:08.324 DEBUG [tests.light_push.test_publish] Running test with payload A credit card number
2025-02-12 04:05:08.324 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 04:05:08.324 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54016/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "MTIzNC01Njc4LTkwMTItMzQ1Ng==", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739333108324487168}}'
2025-02-12 04:05:08.336 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:05:08.337 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:05:08.438 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:08.438 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65455/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:08.441 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTIzNC01Njc4LTkwMTItMzQ1Ng==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333108324487168,"ephemeral":false}]'
2025-02-12 04:05:08.442 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:08.442 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41971/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:08.445 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTIzNC01Njc4LTkwMTItMzQ1Ng==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333108324487168,"ephemeral":false}]'
2025-02-12 04:05:08.446 DEBUG [tests.light_push.test_publish] Running test with payload A phone number
2025-02-12 04:05:08.447 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 04:05:08.447 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54016/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "KzEyMzQ1Njc4OTA=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739333108447165696}}'
2025-02-12 04:05:08.458 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:05:08.459 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:05:08.559 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:08.559 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65455/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:08.562 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"KzEyMzQ1Njc4OTA=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333108447165696,"ephemeral":false}]'
2025-02-12 04:05:08.563 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:08.563 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41971/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:08.566 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"KzEyMzQ1Njc4OTA=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333108447165696,"ephemeral":false}]'
2025-02-12 04:05:08.567 DEBUG [tests.light_push.test_publish] Running test with payload A UUID
2025-02-12 04:05:08.567 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 04:05:08.567 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54016/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "MTIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAw", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739333108567591168}}'
2025-02-12 04:05:08.579 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:05:08.579 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:05:08.679 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:08.680 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65455/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:08.682 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAw","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333108567591168,"ephemeral":false}]'
2025-02-12 04:05:08.684 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:08.684 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41971/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:08.686 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAw","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333108567591168,"ephemeral":false}]'
2025-02-12 04:05:08.688 DEBUG [tests.light_push.test_publish] Running test with payload A hashtag
2025-02-12 04:05:08.688 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 04:05:08.688 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54016/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "I2hlbGxvV29ybGQ=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739333108688565760}}'
2025-02-12 04:05:08.698 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:05:08.698 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:05:08.799 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:08.799 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65455/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:08.802 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"I2hlbGxvV29ybGQ=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333108688565760,"ephemeral":false}]'
2025-02-12 04:05:08.803 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:08.803 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41971/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:08.806 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"I2hlbGxvV29ybGQ=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333108688565760,"ephemeral":false}]'
2025-02-12 04:05:08.807 DEBUG [tests.light_push.test_publish] Running test with payload A Twitter handle
2025-02-12 04:05:08.808 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 04:05:08.808 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54016/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "QHVzZXJuYW1l", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739333108807810304}}'
2025-02-12 04:05:08.818 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:05:08.818 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:05:08.919 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:08.919 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65455/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:08.922 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"QHVzZXJuYW1l","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333108807810304,"ephemeral":false}]'
2025-02-12 04:05:08.923 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:08.923 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41971/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:08.926 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"QHVzZXJuYW1l","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333108807810304,"ephemeral":false}]'
2025-02-12 04:05:08.927 DEBUG [tests.light_push.test_publish] Running test with payload A password
2025-02-12 04:05:08.927 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 04:05:08.928 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54016/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "UEBzc3cwcmQh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739333108927557632}}'
2025-02-12 04:05:08.937 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:05:08.937 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:05:09.038 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:09.038 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65455/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:09.041 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UEBzc3cwcmQh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333108927557632,"ephemeral":false}]'
2025-02-12 04:05:09.042 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:09.042 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41971/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:09.044 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UEBzc3cwcmQh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333108927557632,"ephemeral":false}]'
2025-02-12 04:05:09.046 DEBUG [tests.light_push.test_publish] Running test with payload A date in common format
2025-02-12 04:05:09.046 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 04:05:09.046 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54016/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "MDEvMTEvMjAyMw==", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739333109046450688}}'
2025-02-12 04:05:09.056 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:05:09.057 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:05:09.158 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:09.158 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65455/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:09.161 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MDEvMTEvMjAyMw==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333109046450688,"ephemeral":false}]'
2025-02-12 04:05:09.162 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:09.162 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41971/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:09.165 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MDEvMTEvMjAyMw==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333109046450688,"ephemeral":false}]'
2025-02-12 04:05:09.166 DEBUG [tests.light_push.test_publish] Running test with payload A time string
2025-02-12 04:05:09.167 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 04:05:09.167 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54016/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "MTI6MDA6MDA=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739333109166952448}}'
2025-02-12 04:05:09.177 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:05:09.178 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:05:09.278 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:09.279 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65455/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:09.281 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTI6MDA6MDA=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333109166952448,"ephemeral":false}]'
2025-02-12 04:05:09.283 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:09.283 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41971/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:09.285 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTI6MDA6MDA=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333109166952448,"ephemeral":false}]'
2025-02-12 04:05:09.286 DEBUG [tests.light_push.test_publish] Running test with payload A mathematical equation
2025-02-12 04:05:09.287 DEBUG [src.steps.light_push] Lightpushing message
2025-02-12 04:05:09.287 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:54016/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "RSA9IG1jXjI=", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739333109287121920}}'
2025-02-12 04:05:09.297 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:05:09.297 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:05:09.398 DEBUG [src.steps.light_push] Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:09.398 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:65455/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:09.401 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RSA9IG1jXjI=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333109287121920,"ephemeral":false}]'
2025-02-12 04:05:09.403 DEBUG [src.steps.light_push] Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
2025-02-12 04:05:09.403 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41971/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:05:09.405 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RSA9IG1jXjI=","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739333109287121920,"ephemeral":false}]'
2025-02-12 04:05:09.408 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-12 04:05:09.409 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-12 04:05:09.409 DEBUG [src.node.waku_node] Stopping container with id 7f84f2d62fa9
2025-02-12 04:05:10.032 DEBUG [src.node.waku_node] Container stopped.
2025-02-12 04:05:10.033 DEBUG [src.node.waku_node] Stopping container with id fbbba14a6757
2025-02-12 04:05:10.845 ERROR [src.node.docker_mananger] Max retries reached for container 7f84f2d62fa9. Exiting log stream.
2025-02-12 04:05:11.171 DEBUG [src.node.waku_node] Container stopped.
2025-02-12 04:05:11.171 DEBUG [src.node.waku_node] Stopping container with id cfdc9cd72bd9
2025-02-12 04:05:12.029 ERROR [src.node.docker_mananger] Max retries reached for container fbbba14a6757. Exiting log stream.
2025-02-12 04:05:12.488 DEBUG [src.node.waku_node] Container stopped.
2025-02-12 04:05:12.489 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-12 04:05:12.512 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-12 04:05:12.542 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-12 04:05:12.563 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
