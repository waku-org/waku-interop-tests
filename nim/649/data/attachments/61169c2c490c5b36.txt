2025-02-12 04:08:19.013 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-12 04:08:19.013 DEBUG [tests.conftest] Running test: test_publish_with_valid_payloads with id: 2025-02-12_04-08-19__961134d8-065e-47ac-bbab-c8828c4e1653
2025-02-12 04:08:19.014 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-12 04:08:19.014 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-12 04:08:19.014 DEBUG [src.steps.relay] Running fixture setup: setup_main_relay_nodes
2025-02-12 04:08:19.021 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-12 04:08:19.021 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-12_04-08-19__961134d8-065e-47ac-bbab-c8828c4e1653__wakuorg_nwaku:latest.log
2025-02-12 04:08:19.021 DEBUG [src.node.waku_node] Starting Node...
2025-02-12 04:08:19.021 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-12 04:08:19.023 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-12 04:08:19.023 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.168.57
2025-02-12 04:08:19.023 DEBUG [src.node.docker_mananger] Generated ports ['23912', '23913', '23914', '23915', '23916']
2025-02-12 04:08:19.023 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-12 04:08:19.023 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-12 04:08:19.024 DEBUG [src.node.waku_node] Using volumes []
2025-02-12 04:08:19.024 DEBUG [src.node.docker_mananger] docker run -i -t -p 23912:23912 -p 23913:23913 -p 23914:23914 -p 23915:23915 -p 23916:23916 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=23914 --rest-port=23912 --tcp-port=23913 --discv5-udp-port=23915 --rest-address=0.0.0.0 --nat=extip:172.18.168.57 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=137deb3c6c0bdc2e9acaf305aaa7c77818f195facde8f5020e5aefaf26ad069f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=23916 --metrics-logging=true --relay=true
2025-02-12 04:08:19.257 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.168.57 waku 2b632ab3c56eefdd192a0567e95fd46b6dbe5910ec983fb05338e35a11d5051a
2025-02-12 04:08:19.306 DEBUG [src.node.docker_mananger] Container started with ID 2b632ab3c56e. Setting up logs at ./log/docker/node1_2025-02-12_04-08-19__961134d8-065e-47ac-bbab-c8828c4e1653__wakuorg_nwaku:latest.log
2025-02-12 04:08:19.307 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 23912
2025-02-12 04:08:19.307 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-12 04:08:19.804 ERROR [src.node.docker_mananger] Max retries reached for container 3bf2bb74cbae. Exiting log stream.
2025-02-12 04:08:20.308 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23912/health" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:20.311 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-12 04:08:20.311 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-12 04:08:20.311 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23912/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:20.313 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.168.57/tcp/23913/p2p/16Uiu2HAmTn3o36ZArZtkUgJo6stBi1xVoKuCoMzVwfGDZvtezNEy","/ip4/172.18.168.57/tcp/23914/ws/p2p/16Uiu2HAmTn3o36ZArZtkUgJo6stBi1xVoKuCoMzVwfGDZvtezNEy"],"enrUri":"enr:-L24QCn1-GPMBrQgT37FhiREh_pjmEc8boIK7F9Mve7PYN1ecZkT4l3GxxBCtK8DxXuUmDM-H3eG3eLrNt_a6S7njqkCgmlkgnY0gmlwhKwSqDmKbXVsdGlhZGRyc5YACASsEqg5Bl1pAAoErBKoOQZdat0DgnJzhQADAQAAiXNlY3AyNTZrMaED4K5De67NgZzBisqQu6tIPmGde5zfJ-RZa0s-cFQfkXaDdGNwgl1pg3VkcIJda4V3YWt1MgE"}'
2025-02-12 04:08:20.313 INFO [src.node.waku_node] REST service is ready !!
2025-02-12 04:08:20.320 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-12 04:08:20.320 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-12_04-08-19__961134d8-065e-47ac-bbab-c8828c4e1653__wakuorg_nwaku:latest.log
2025-02-12 04:08:20.320 DEBUG [src.node.waku_node] Starting Node...
2025-02-12 04:08:20.320 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-12 04:08:20.321 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-12 04:08:20.322 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.234.134
2025-02-12 04:08:20.322 DEBUG [src.node.docker_mananger] Generated ports ['60517', '60518', '60519', '60520', '60521']
2025-02-12 04:08:20.322 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-12 04:08:20.322 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-12 04:08:20.322 DEBUG [src.node.waku_node] Using volumes []
2025-02-12 04:08:20.322 DEBUG [src.node.docker_mananger] docker run -i -t -p 60517:60517 -p 60518:60518 -p 60519:60519 -p 60520:60520 -p 60521:60521 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=60519 --rest-port=60517 --tcp-port=60518 --discv5-udp-port=60520 --rest-address=0.0.0.0 --nat=extip:172.18.234.134 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b1ccfde6b4c92e1a0efdcc2eebe50a136d66ea97f53adbf6ee1bdac6bdeabe85 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=60521 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QCn1-GPMBrQgT37FhiREh_pjmEc8boIK7F9Mve7PYN1ecZkT4l3GxxBCtK8DxXuUmDM-H3eG3eLrNt_a6S7njqkCgmlkgnY0gmlwhKwSqDmKbXVsdGlhZGRyc5YACASsEqg5Bl1pAAoErBKoOQZdat0DgnJzhQADAQAAiXNlY3AyNTZrMaED4K5De67NgZzBisqQu6tIPmGde5zfJ-RZa0s-cFQfkXaDdGNwgl1pg3VkcIJda4V3YWt1MgE
2025-02-12 04:08:20.559 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.234.134 waku d4824540b9f6c718d88798c795f871b4384a46b5923bdae1d63d17eba38ace57
2025-02-12 04:08:20.609 DEBUG [src.node.docker_mananger] Container started with ID d4824540b9f6. Setting up logs at ./log/docker/node2_2025-02-12_04-08-19__961134d8-065e-47ac-bbab-c8828c4e1653__wakuorg_nwaku:latest.log
2025-02-12 04:08:20.609 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 60517
2025-02-12 04:08:20.610 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-12 04:08:21.611 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60517/health" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:21.622 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-12 04:08:21.623 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-12 04:08:21.624 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60517/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:21.629 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.234.134/tcp/60518/p2p/16Uiu2HAmSYSCKda9YLNkkoxRpZshY65rTokv8UkR8fjhLq62PiqJ","/ip4/172.18.234.134/tcp/60519/ws/p2p/16Uiu2HAmSYSCKda9YLNkkoxRpZshY65rTokv8UkR8fjhLq62PiqJ"],"enrUri":"enr:-L24QJBcL1Q3IVez0esM0OmYr6xamnbHW7RR0lV723mgEgLdQudCkXkOpVj8XoYzoqG5qrMY17pcuH7JO-ZDARchQosCgmlkgnY0gmlwhKwS6oaKbXVsdGlhZGRyc5YACASsEuqGBuxmAAoErBLqhgbsZ90DgnJzhQADAQAAiXNlY3AyNTZrMaEDzlXGV3VrbJZFClxbxcuAAIr7NQDb49YadDiqEnr-bdWDdGNwguxmg3VkcILsaIV3YWt1MgE"}'
2025-02-12 04:08:21.630 INFO [src.node.waku_node] REST service is ready !!
2025-02-12 04:08:21.630 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60517/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.168.57/tcp/23913/p2p/16Uiu2HAmTn3o36ZArZtkUgJo6stBi1xVoKuCoMzVwfGDZvtezNEy"]'
2025-02-12 04:08:21.633 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:08:21.633 DEBUG [src.steps.relay] Running fixture setup: subscribe_main_relay_nodes
2025-02-12 04:08:21.633 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23912/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-12 04:08:21.637 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:08:21.637 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:60517/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-12 04:08:21.645 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:08:21.646 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:08:21.650 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:08:21.651 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:08:21.751 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:21.751 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:21.754 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333301646006528,"ephemeral":false}]'
2025-02-12 04:08:21.756 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:21.756 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60517/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:21.758 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333301646006528,"ephemeral":false}]'
2025-02-12 04:08:21.760 INFO [src.steps.relay] WARM UP successful!!
2025-02-12 04:08:21.761 DEBUG [tests.relay.test_publish] Running test with payload A simple string
2025-02-12 04:08:21.761 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "SGVsbG8gV29ybGQh", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:08:21.766 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:08:21.766 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:08:21.867 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:21.867 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:21.870 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"SGVsbG8gV29ybGQh","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333301761361408,"ephemeral":false}]'
2025-02-12 04:08:21.871 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:21.872 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60517/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:21.874 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"SGVsbG8gV29ybGQh","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333301761361408,"ephemeral":false}]'
2025-02-12 04:08:21.875 DEBUG [tests.relay.test_publish] Running test with payload An integer
2025-02-12 04:08:21.876 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "MTIzNDU2Nzg5MA==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:08:21.880 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:08:21.881 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:08:21.982 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:21.982 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:21.985 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTIzNDU2Nzg5MA==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333301876017152,"ephemeral":false}]'
2025-02-12 04:08:21.986 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:21.986 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60517/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:21.989 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTIzNDU2Nzg5MA==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333301876017152,"ephemeral":false}]'
2025-02-12 04:08:21.990 DEBUG [tests.relay.test_publish] Running test with payload A dictionary
2025-02-12 04:08:21.991 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "eyJrZXkiOiAidmFsdWUifQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:08:21.995 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:08:21.996 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:08:22.096 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:22.096 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:22.099 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"eyJrZXkiOiAidmFsdWUifQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333301990941440,"ephemeral":false}]'
2025-02-12 04:08:22.100 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:22.101 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60517/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:22.103 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"eyJrZXkiOiAidmFsdWUifQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333301990941440,"ephemeral":false}]'
2025-02-12 04:08:22.104 DEBUG [tests.relay.test_publish] Running test with payload Chinese characters
2025-02-12 04:08:22.105 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "6L+Z5piv5LiA5Lqb5Lit5paH", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:08:22.109 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:08:22.109 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:08:22.210 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:22.210 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:22.213 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"6L+Z5piv5LiA5Lqb5Lit5paH","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333302104913408,"ephemeral":false}]'
2025-02-12 04:08:22.214 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:22.214 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60517/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:22.217 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"6L+Z5piv5LiA5Lqb5Lit5paH","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333302104913408,"ephemeral":false}]'
2025-02-12 04:08:22.218 DEBUG [tests.relay.test_publish] Running test with payload Emojis
2025-02-12 04:08:22.218 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "8J+agPCfjJ/inKg=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:08:22.224 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:08:22.224 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:08:22.324 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:22.325 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:22.327 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"8J+agPCfjJ/inKg=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333302218842112,"ephemeral":false}]'
2025-02-12 04:08:22.329 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:22.329 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60517/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:22.332 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"8J+agPCfjJ/inKg=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333302218842112,"ephemeral":false}]'
2025-02-12 04:08:22.333 DEBUG [tests.relay.test_publish] Running test with payload Lorem ipsum text
2025-02-12 04:08:22.333 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "TG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQ=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:08:22.338 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:08:22.339 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:08:22.439 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:22.439 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:22.442 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQ=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333302333641216,"ephemeral":false}]'
2025-02-12 04:08:22.444 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:22.444 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60517/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:22.446 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQ=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333302333641216,"ephemeral":false}]'
2025-02-12 04:08:22.448 DEBUG [tests.relay.test_publish] Running test with payload HTML content
2025-02-12 04:08:22.448 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "PGh0bWw+PGJvZHk+SGVsbG88L2JvZHk+PC9odG1sPg==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:08:22.453 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:08:22.453 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:08:22.554 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:22.554 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:22.557 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"PGh0bWw+PGJvZHk+SGVsbG88L2JvZHk+PC9odG1sPg==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333302448602624,"ephemeral":false}]'
2025-02-12 04:08:22.558 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:22.559 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60517/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:22.561 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"PGh0bWw+PGJvZHk+SGVsbG88L2JvZHk+PC9odG1sPg==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333302448602624,"ephemeral":false}]'
2025-02-12 04:08:22.562 DEBUG [tests.relay.test_publish] Running test with payload Cyrillic characters
2025-02-12 04:08:22.563 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "0J/RgNC40LLQtdGC", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:08:22.567 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:08:22.568 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:08:22.668 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:22.668 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:22.671 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"0J/RgNC40LLQtdGC","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333302563136000,"ephemeral":false}]'
2025-02-12 04:08:22.672 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:22.673 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60517/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:22.675 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"0J/RgNC40LLQtdGC","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333302563136000,"ephemeral":false}]'
2025-02-12 04:08:22.678 DEBUG [tests.relay.test_publish] Running test with payload Base64 encoded string
2025-02-12 04:08:22.678 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "QmFzZTY0PT1kR1Z6ZEE9PQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:08:22.683 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:08:22.683 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:08:22.783 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:22.784 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:22.786 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"QmFzZTY0PT1kR1Z6ZEE9PQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333302678508544,"ephemeral":false}]'
2025-02-12 04:08:22.788 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:22.788 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60517/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:22.790 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"QmFzZTY0PT1kR1Z6ZEE9PQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333302678508544,"ephemeral":false}]'
2025-02-12 04:08:22.791 DEBUG [tests.relay.test_publish] Running test with payload Binary data
2025-02-12 04:08:22.792 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "ZDI5eWEybHVaeUIzYVhSb0lHSnBibUZ5ZVNCa1lYUmg6IFBR", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:08:22.796 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:08:22.797 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:08:22.898 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:22.898 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:22.901 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"ZDI5eWEybHVaeUIzYVhSb0lHSnBibUZ5ZVNCa1lYUmg6IFBR","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333302792165632,"ephemeral":false}]'
2025-02-12 04:08:22.903 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:22.903 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60517/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:22.905 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"ZDI5eWEybHVaeUIzYVhSb0lHSnBibUZ5ZVNCa1lYUmg6IFBR","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333302792165632,"ephemeral":false}]'
2025-02-12 04:08:22.906 DEBUG [tests.relay.test_publish] Running test with payload Special characters with whitespace
2025-02-12 04:08:22.907 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "CQpTcGVjaWFsCUNoYXJhY3RlcnMK", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:08:22.912 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:08:22.912 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:08:23.013 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:23.013 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:23.015 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"CQpTcGVjaWFsCUNoYXJhY3RlcnMK","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333302907241472,"ephemeral":false}]'
2025-02-12 04:08:23.017 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:23.017 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60517/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:23.019 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"CQpTcGVjaWFsCUNoYXJhY3RlcnMK","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333302907241472,"ephemeral":false}]'
2025-02-12 04:08:23.021 DEBUG [tests.relay.test_publish] Running test with payload Boolean false as a string
2025-02-12 04:08:23.021 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmFsc2U=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:08:23.026 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:08:23.027 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:08:23.128 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:23.128 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:23.131 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RmFsc2U=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333303021656576,"ephemeral":false}]'
2025-02-12 04:08:23.132 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:23.133 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60517/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:23.135 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RmFsc2U=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333303021656576,"ephemeral":false}]'
2025-02-12 04:08:23.136 DEBUG [tests.relay.test_publish] Running test with payload A float number
2025-02-12 04:08:23.137 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "My4xNDE1OTI2NTM1", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:08:23.141 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:08:23.142 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:08:23.243 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:23.243 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:23.246 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"My4xNDE1OTI2NTM1","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333303137092096,"ephemeral":false}]'
2025-02-12 04:08:23.248 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:23.248 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60517/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:23.250 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"My4xNDE1OTI2NTM1","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333303137092096,"ephemeral":false}]'
2025-02-12 04:08:23.251 DEBUG [tests.relay.test_publish] Running test with payload A list
2025-02-12 04:08:23.252 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "WzEsIDIsIDMsIDQsIDVd", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:08:23.256 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:08:23.257 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:08:23.358 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:23.358 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:23.361 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"WzEsIDIsIDMsIDQsIDVd","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333303252233728,"ephemeral":false}]'
2025-02-12 04:08:23.363 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:23.363 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60517/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:23.365 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"WzEsIDIsIDMsIDQsIDVd","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333303252233728,"ephemeral":false}]'
2025-02-12 04:08:23.367 DEBUG [tests.relay.test_publish] Running test with payload Hexadecimal number as a string
2025-02-12 04:08:23.367 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "MHhERUFEQkVFRg==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:08:23.371 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:08:23.372 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:08:23.472 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:23.472 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:23.475 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MHhERUFEQkVFRg==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333303367349248,"ephemeral":false}]'
2025-02-12 04:08:23.477 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:23.477 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60517/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:23.479 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MHhERUFEQkVFRg==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333303367349248,"ephemeral":false}]'
2025-02-12 04:08:23.481 DEBUG [tests.relay.test_publish] Running test with payload Email format
2025-02-12 04:08:23.481 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "dXNlckBleGFtcGxlLmNvbQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:08:23.486 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:08:23.486 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:08:23.587 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:23.587 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:23.589 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"dXNlckBleGFtcGxlLmNvbQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333303481418752,"ephemeral":false}]'
2025-02-12 04:08:23.591 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:23.591 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60517/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:23.593 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"dXNlckBleGFtcGxlLmNvbQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333303481418752,"ephemeral":false}]'
2025-02-12 04:08:23.595 DEBUG [tests.relay.test_publish] Running test with payload URL format
2025-02-12 04:08:23.595 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "aHR0cDovL2V4YW1wbGUuY29t", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:08:23.600 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:08:23.601 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:08:23.701 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:23.702 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:23.705 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"aHR0cDovL2V4YW1wbGUuY29t","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333303595612416,"ephemeral":false}]'
2025-02-12 04:08:23.706 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:23.707 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60517/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:23.709 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"aHR0cDovL2V4YW1wbGUuY29t","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333303595612416,"ephemeral":false}]'
2025-02-12 04:08:23.710 DEBUG [tests.relay.test_publish] Running test with payload Date and time in ISO format
2025-02-12 04:08:23.711 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "MjAyMy0xMS0wMVQxMjowMDowMFo=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:08:23.716 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:08:23.716 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:08:23.817 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:23.817 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:23.820 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MjAyMy0xMS0wMVQxMjowMDowMFo=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333303711198720,"ephemeral":false}]'
2025-02-12 04:08:23.821 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:23.822 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60517/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:23.824 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MjAyMy0xMS0wMVQxMjowMDowMFo=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333303711198720,"ephemeral":false}]'
2025-02-12 04:08:23.825 DEBUG [tests.relay.test_publish] Running test with payload String with escaped quotes
2025-02-12 04:08:23.826 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "IkVzY2FwZWQiIFwicXVvdGVzXCI=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:08:23.830 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:08:23.831 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:08:23.931 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:23.932 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:23.934 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"IkVzY2FwZWQiIFwicXVvdGVzXCI=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333303825886976,"ephemeral":false}]'
2025-02-12 04:08:23.935 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:23.936 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60517/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:23.938 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"IkVzY2FwZWQiIFwicXVvdGVzXCI=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333303825886976,"ephemeral":false}]'
2025-02-12 04:08:23.939 DEBUG [tests.relay.test_publish] Running test with payload A regular expression
2025-02-12 04:08:23.939 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVndWxhciBleHByZXNzaW9uOiBeW2EtejAtOV8tXXszLDE2fSQ=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:08:23.945 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:08:23.945 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:08:24.045 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:24.046 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:24.049 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVndWxhciBleHByZXNzaW9uOiBeW2EtejAtOV8tXXszLDE2fSQ=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333303939781888,"ephemeral":false}]'
2025-02-12 04:08:24.050 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:24.050 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60517/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:24.053 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVndWxhciBleHByZXNzaW9uOiBeW2EtejAtOV8tXXszLDE2fSQ=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333303939781888,"ephemeral":false}]'
2025-02-12 04:08:24.054 DEBUG [tests.relay.test_publish] Running test with payload A very long string
2025-02-12 04:08:24.055 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eA==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:08:24.059 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:08:24.060 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:08:24.160 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:24.160 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:24.163 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eA==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333304054846976,"ephemeral":false}]'
2025-02-12 04:08:24.165 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:24.166 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60517/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:24.169 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eA==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333304054846976,"ephemeral":false}]'
2025-02-12 04:08:24.170 DEBUG [tests.relay.test_publish] Running test with payload A JSON string
2025-02-12 04:08:24.171 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "eyJuYW1lIjogIkpvaG4iLCAiYWdlIjogMzAsICJjaXR5IjogIk5ldyBZb3JrIn0=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:08:24.176 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:08:24.176 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:08:24.277 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:24.277 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:24.280 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"eyJuYW1lIjogIkpvaG4iLCAiYWdlIjogMzAsICJjaXR5IjogIk5ldyBZb3JrIn0=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333304170862336,"ephemeral":false}]'
2025-02-12 04:08:24.281 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:24.282 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60517/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:24.284 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"eyJuYW1lIjogIkpvaG4iLCAiYWdlIjogMzAsICJjaXR5IjogIk5ldyBZb3JrIn0=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333304170862336,"ephemeral":false}]'
2025-02-12 04:08:24.285 DEBUG [tests.relay.test_publish] Running test with payload A Unix path
2025-02-12 04:08:24.286 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "L3Vzci9sb2NhbC9iaW4=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:08:24.291 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:08:24.291 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:08:24.392 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:24.392 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:24.395 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"L3Vzci9sb2NhbC9iaW4=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333304286176512,"ephemeral":false}]'
2025-02-12 04:08:24.396 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:24.397 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60517/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:24.399 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"L3Vzci9sb2NhbC9iaW4=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333304286176512,"ephemeral":false}]'
2025-02-12 04:08:24.400 DEBUG [tests.relay.test_publish] Running test with payload A Windows path
2025-02-12 04:08:24.401 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "QzpcV2luZG93c1xTeXN0ZW0zMg==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:08:24.406 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:08:24.406 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:08:24.507 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:24.508 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:24.510 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"QzpcV2luZG93c1xTeXN0ZW0zMg==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333304401176576,"ephemeral":false}]'
2025-02-12 04:08:24.512 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:24.512 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60517/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:24.514 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"QzpcV2luZG93c1xTeXN0ZW0zMg==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333304401176576,"ephemeral":false}]'
2025-02-12 04:08:24.516 DEBUG [tests.relay.test_publish] Running test with payload An SQL query
2025-02-12 04:08:24.516 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "U0VMRUNUICogRlJPTSB1c2VycyBXSEVSRSBpZCA9IDE7", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:08:24.521 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:08:24.522 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:08:24.623 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:24.623 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:24.626 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U0VMRUNUICogRlJPTSB1c2VycyBXSEVSRSBpZCA9IDE7","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333304516615424,"ephemeral":false}]'
2025-02-12 04:08:24.627 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:24.627 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60517/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:24.629 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U0VMRUNUICogRlJPTSB1c2VycyBXSEVSRSBpZCA9IDE7","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333304516615424,"ephemeral":false}]'
2025-02-12 04:08:24.632 DEBUG [tests.relay.test_publish] Running test with payload JavaScript code snippet
2025-02-12 04:08:24.632 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "ZnVuY3Rpb24gdGVzdCgpIHsgY29uc29sZS5sb2coJ0hlbGxvIFdvcmxkJyk7IH0=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:08:24.637 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:08:24.637 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:08:24.738 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:24.738 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:24.741 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"ZnVuY3Rpb24gdGVzdCgpIHsgY29uc29sZS5sb2coJ0hlbGxvIFdvcmxkJyk7IH0=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333304632261376,"ephemeral":false}]'
2025-02-12 04:08:24.742 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:24.743 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60517/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:24.745 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"ZnVuY3Rpb24gdGVzdCgpIHsgY29uc29sZS5sb2coJ0hlbGxvIFdvcmxkJyk7IH0=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333304632261376,"ephemeral":false}]'
2025-02-12 04:08:24.746 DEBUG [tests.relay.test_publish] Running test with payload A CSS snippet
2025-02-12 04:08:24.747 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "Ym9keSB7IGJhY2tncm91bmQtY29sb3I6ICNmZmY7IH0=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:08:24.752 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:08:24.753 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:08:24.853 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:24.853 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:24.856 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"Ym9keSB7IGJhY2tncm91bmQtY29sb3I6ICNmZmY7IH0=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333304747145984,"ephemeral":false}]'
2025-02-12 04:08:24.858 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:24.858 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60517/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:24.860 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"Ym9keSB7IGJhY2tncm91bmQtY29sb3I6ICNmZmY7IH0=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333304747145984,"ephemeral":false}]'
2025-02-12 04:08:24.862 DEBUG [tests.relay.test_publish] Running test with payload A Python one-liner
2025-02-12 04:08:24.862 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "cHJpbnQoJ0hlbGxvIFdvcmxkJyk=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:08:24.866 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:08:24.867 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:08:24.967 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:24.968 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:24.970 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"cHJpbnQoJ0hlbGxvIFdvcmxkJyk=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333304862304768,"ephemeral":false}]'
2025-02-12 04:08:24.972 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:24.972 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60517/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:24.974 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"cHJpbnQoJ0hlbGxvIFdvcmxkJyk=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333304862304768,"ephemeral":false}]'
2025-02-12 04:08:24.975 DEBUG [tests.relay.test_publish] Running test with payload An IP address
2025-02-12 04:08:24.976 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "MTkyLjE2OC4xLjE=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:08:24.980 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:08:24.980 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:08:25.081 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:25.081 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:25.084 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTkyLjE2OC4xLjE=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333304975967744,"ephemeral":false}]'
2025-02-12 04:08:25.085 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:25.085 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60517/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:25.088 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTkyLjE2OC4xLjE=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333304975967744,"ephemeral":false}]'
2025-02-12 04:08:25.089 DEBUG [tests.relay.test_publish] Running test with payload A domain name
2025-02-12 04:08:25.089 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "d3d3LmV4YW1wbGUuY29t", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:08:25.094 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:08:25.095 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:08:25.195 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:25.195 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:25.198 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"d3d3LmV4YW1wbGUuY29t","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333305089681664,"ephemeral":false}]'
2025-02-12 04:08:25.200 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:25.200 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60517/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:25.202 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"d3d3LmV4YW1wbGUuY29t","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333305089681664,"ephemeral":false}]'
2025-02-12 04:08:25.204 DEBUG [tests.relay.test_publish] Running test with payload A user agent string
2025-02-12 04:08:25.204 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCk=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:08:25.209 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:08:25.209 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:08:25.310 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:25.311 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:25.313 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCk=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333305204481280,"ephemeral":false}]'
2025-02-12 04:08:25.315 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:25.315 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60517/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:25.317 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCk=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333305204481280,"ephemeral":false}]'
2025-02-12 04:08:25.319 DEBUG [tests.relay.test_publish] Running test with payload A credit card number
2025-02-12 04:08:25.319 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "MTIzNC01Njc4LTkwMTItMzQ1Ng==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:08:25.324 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:08:25.325 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:08:25.425 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:25.425 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:25.428 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTIzNC01Njc4LTkwMTItMzQ1Ng==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333305319438080,"ephemeral":false}]'
2025-02-12 04:08:25.429 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:25.430 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60517/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:25.432 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTIzNC01Njc4LTkwMTItMzQ1Ng==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333305319438080,"ephemeral":false}]'
2025-02-12 04:08:25.433 DEBUG [tests.relay.test_publish] Running test with payload A phone number
2025-02-12 04:08:25.434 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "KzEyMzQ1Njc4OTA=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:08:25.438 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:08:25.439 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:08:25.539 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:25.539 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:25.542 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"KzEyMzQ1Njc4OTA=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333305434144768,"ephemeral":false}]'
2025-02-12 04:08:25.543 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:25.544 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60517/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:25.546 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"KzEyMzQ1Njc4OTA=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333305434144768,"ephemeral":false}]'
2025-02-12 04:08:25.547 DEBUG [tests.relay.test_publish] Running test with payload A UUID
2025-02-12 04:08:25.548 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "MTIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAw", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:08:25.553 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:08:25.553 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:08:25.653 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:25.654 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:25.656 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAw","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333305548066048,"ephemeral":false}]'
2025-02-12 04:08:25.658 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:25.658 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60517/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:25.660 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAw","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333305548066048,"ephemeral":false}]'
2025-02-12 04:08:25.662 DEBUG [tests.relay.test_publish] Running test with payload A hashtag
2025-02-12 04:08:25.662 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "I2hlbGxvV29ybGQ=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:08:25.667 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:08:25.667 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:08:25.768 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:25.768 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:25.771 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"I2hlbGxvV29ybGQ=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333305662679808,"ephemeral":false}]'
2025-02-12 04:08:25.772 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:25.773 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60517/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:25.775 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"I2hlbGxvV29ybGQ=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333305662679808,"ephemeral":false}]'
2025-02-12 04:08:25.776 DEBUG [tests.relay.test_publish] Running test with payload A Twitter handle
2025-02-12 04:08:25.777 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "QHVzZXJuYW1l", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:08:25.781 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:08:25.782 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:08:25.882 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:25.882 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:25.885 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"QHVzZXJuYW1l","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333305777016832,"ephemeral":false}]'
2025-02-12 04:08:25.887 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:25.887 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60517/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:25.889 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"QHVzZXJuYW1l","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333305777016832,"ephemeral":false}]'
2025-02-12 04:08:25.890 DEBUG [tests.relay.test_publish] Running test with payload A password
2025-02-12 04:08:25.891 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UEBzc3cwcmQh", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:08:25.895 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:08:25.896 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:08:25.996 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:25.996 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:25.999 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UEBzc3cwcmQh","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333305891124480,"ephemeral":false}]'
2025-02-12 04:08:26.000 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:26.001 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60517/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:26.003 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UEBzc3cwcmQh","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333305891124480,"ephemeral":false}]'
2025-02-12 04:08:26.004 DEBUG [tests.relay.test_publish] Running test with payload A date in common format
2025-02-12 04:08:26.005 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "MDEvMTEvMjAyMw==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:08:26.010 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:08:26.010 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:08:26.111 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:26.111 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:26.114 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MDEvMTEvMjAyMw==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333306005073152,"ephemeral":false}]'
2025-02-12 04:08:26.116 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:26.116 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60517/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:26.118 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MDEvMTEvMjAyMw==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333306005073152,"ephemeral":false}]'
2025-02-12 04:08:26.120 DEBUG [tests.relay.test_publish] Running test with payload A time string
2025-02-12 04:08:26.120 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "MTI6MDA6MDA=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:08:26.125 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:08:26.125 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:08:26.226 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:26.226 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:26.229 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTI6MDA6MDA=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333306120511488,"ephemeral":false}]'
2025-02-12 04:08:26.231 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:26.231 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60517/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:26.233 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTI6MDA6MDA=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333306120511488,"ephemeral":false}]'
2025-02-12 04:08:26.235 DEBUG [tests.relay.test_publish] Running test with payload A mathematical equation
2025-02-12 04:08:26.235 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RSA9IG1jXjI=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-12 04:08:26.240 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:08:26.241 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-12 04:08:26.341 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:26.342 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:23912/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:26.344 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RSA9IG1jXjI=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333306235543040,"ephemeral":false}]'
2025-02-12 04:08:26.346 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-12 04:08:26.346 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:60517/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:08:26.349 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RSA9IG1jXjI=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739333306235543040,"ephemeral":false}]'
2025-02-12 04:08:26.352 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-12 04:08:26.353 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-12 04:08:26.353 DEBUG [src.node.waku_node] Stopping container with id 2b632ab3c56e
2025-02-12 04:08:27.790 DEBUG [src.node.waku_node] Container stopped.
2025-02-12 04:08:27.790 DEBUG [src.node.waku_node] Stopping container with id d4824540b9f6
2025-02-12 04:08:28.633 ERROR [src.node.docker_mananger] Max retries reached for container 2b632ab3c56e. Exiting log stream.
2025-02-12 04:08:29.326 DEBUG [src.node.waku_node] Container stopped.
2025-02-12 04:08:29.328 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-12 04:08:29.351 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-12 04:08:29.363 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
