2025-02-12 04:04:24.063 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-12 04:04:24.064 DEBUG [tests.conftest] Running test: test_relay_unsubscribe_with_invalid_pubsub_topic_format with id: 2025-02-12_04-04-24__02611128-454c-4fc8-884a-4750caa2c3f7
2025-02-12 04:04:24.064 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-12 04:04:24.064 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-12 04:04:24.066 DEBUG [src.steps.relay] Running fixture setup: setup_main_relay_nodes
2025-02-12 04:04:24.073 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-12 04:04:24.074 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-12_04-04-24__02611128-454c-4fc8-884a-4750caa2c3f7__wakuorg_nwaku:latest.log
2025-02-12 04:04:24.074 DEBUG [src.node.waku_node] Starting Node...
2025-02-12 04:04:24.074 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-12 04:04:24.076 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-12 04:04:24.076 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.185.15
2025-02-12 04:04:24.076 DEBUG [src.node.docker_mananger] Generated ports ['7175', '7176', '7177', '7178', '7179']
2025-02-12 04:04:24.076 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-12 04:04:24.076 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-12 04:04:24.076 DEBUG [src.node.waku_node] Using volumes []
2025-02-12 04:04:24.077 DEBUG [src.node.docker_mananger] docker run -i -t -p 7175:7175 -p 7176:7176 -p 7177:7177 -p 7178:7178 -p 7179:7179 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=7177 --rest-port=7175 --tcp-port=7176 --discv5-udp-port=7178 --rest-address=0.0.0.0 --nat=extip:172.18.185.15 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0e3a71e0da95cb6d3cb9cf6e536b29f43faeaf663e5a0894f8423aa0ac1180a0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=7179 --metrics-logging=true --relay=true
2025-02-12 04:04:24.310 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.185.15 waku 06fa06f58374ff955254e71d8be6601441f4e73c7e60e3b8353fb864001debc2
2025-02-12 04:04:24.361 DEBUG [src.node.docker_mananger] Container started with ID 06fa06f58374. Setting up logs at ./log/docker/node1_2025-02-12_04-04-24__02611128-454c-4fc8-884a-4750caa2c3f7__wakuorg_nwaku:latest.log
2025-02-12 04:04:24.362 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 7175
2025-02-12 04:04:24.363 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-12 04:04:24.884 ERROR [src.node.docker_mananger] Max retries reached for container f19f0ace8ae0. Exiting log stream.
2025-02-12 04:04:25.363 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:7175/health" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:04:25.366 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-12 04:04:25.367 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-12 04:04:25.367 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:7175/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:04:25.369 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.185.15/tcp/7176/p2p/16Uiu2HAkvPnJHDxPiaeZhPNA8oeDaertYhazMdhrvMQHzDda6Bg5","/ip4/172.18.185.15/tcp/7177/ws/p2p/16Uiu2HAkvPnJHDxPiaeZhPNA8oeDaertYhazMdhrvMQHzDda6Bg5"],"enrUri":"enr:-L24QH0wdMLkprl_uF5JuYw8i-mhYMAssexlT58FmzWuVPFzDfz_2QikGccMhXvg7rV-PLRm68q_bWHLV0WmoFfvmIICgmlkgnY0gmlwhKwSuQ-KbXVsdGlhZGRyc5YACASsErkPBhwIAAoErBK5DwYcCd0DgnJzhQADAQAAiXNlY3AyNTZrMaECDl-rgKuSAenC9OHe0gfvoOgmKlRWUUTwncjuEPMfOBqDdGNwghwIg3VkcIIcCoV3YWt1MgE"}'
2025-02-12 04:04:25.369 INFO [src.node.waku_node] REST service is ready !!
2025-02-12 04:04:25.375 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-12 04:04:25.375 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-12_04-04-24__02611128-454c-4fc8-884a-4750caa2c3f7__wakuorg_nwaku:latest.log
2025-02-12 04:04:25.376 DEBUG [src.node.waku_node] Starting Node...
2025-02-12 04:04:25.376 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-12 04:04:25.377 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-12 04:04:25.377 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.207.159
2025-02-12 04:04:25.377 DEBUG [src.node.docker_mananger] Generated ports ['45935', '45936', '45937', '45938', '45939']
2025-02-12 04:04:25.377 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-12 04:04:25.378 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-12 04:04:25.378 DEBUG [src.node.waku_node] Using volumes []
2025-02-12 04:04:25.378 DEBUG [src.node.docker_mananger] docker run -i -t -p 45935:45935 -p 45936:45936 -p 45937:45937 -p 45938:45938 -p 45939:45939 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=45937 --rest-port=45935 --tcp-port=45936 --discv5-udp-port=45938 --rest-address=0.0.0.0 --nat=extip:172.18.207.159 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5499ac5992d8da41ee8c61ebe6595d6f7b83176efefed5e04de014ef2e22da19 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=45939 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QH0wdMLkprl_uF5JuYw8i-mhYMAssexlT58FmzWuVPFzDfz_2QikGccMhXvg7rV-PLRm68q_bWHLV0WmoFfvmIICgmlkgnY0gmlwhKwSuQ-KbXVsdGlhZGRyc5YACASsErkPBhwIAAoErBK5DwYcCd0DgnJzhQADAQAAiXNlY3AyNTZrMaECDl-rgKuSAenC9OHe0gfvoOgmKlRWUUTwncjuEPMfOBqDdGNwghwIg3VkcIIcCoV3YWt1MgE
2025-02-12 04:04:25.616 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.207.159 waku d6cee5d61a82d2f9def59d2d80d7d73dce24cf0745726e14ea3dc21db55c0a13
2025-02-12 04:04:25.666 DEBUG [src.node.docker_mananger] Container started with ID d6cee5d61a82. Setting up logs at ./log/docker/node2_2025-02-12_04-04-24__02611128-454c-4fc8-884a-4750caa2c3f7__wakuorg_nwaku:latest.log
2025-02-12 04:04:25.667 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 45935
2025-02-12 04:04:25.667 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-12 04:04:26.667 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45935/health" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:04:26.673 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-12 04:04:26.675 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-12 04:04:26.676 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45935/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-12 04:04:26.680 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.207.159/tcp/45936/p2p/16Uiu2HAmFBY1NgYmnr1kb4MFxLfUpy9E4WSympbvHxBHCCefEZsg","/ip4/172.18.207.159/tcp/45937/ws/p2p/16Uiu2HAmFBY1NgYmnr1kb4MFxLfUpy9E4WSympbvHxBHCCefEZsg"],"enrUri":"enr:-L24QCu0nOLIHNQCigbWQSnE41TbngcYm93se2tShShRmS7GLUT1ECy22H_jdOBfqOWMVCMcUxbgRoAn0I3XnEDpr9ACgmlkgnY0gmlwhKwSz5-KbXVsdGlhZGRyc5YACASsEs-fBrNwAAoErBLPnwazcd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDJYqXpzL-MZnS2DwrhNfmQwCGDi6xmn-_zUGt_JPYrMODdGNwgrNwg3VkcIKzcoV3YWt1MgE"}'
2025-02-12 04:04:26.681 INFO [src.node.waku_node] REST service is ready !!
2025-02-12 04:04:26.682 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45935/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.185.15/tcp/7176/p2p/16Uiu2HAkvPnJHDxPiaeZhPNA8oeDaertYhazMdhrvMQHzDda6Bg5"]'
2025-02-12 04:04:26.685 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-12 04:04:26.686 DEBUG [tests.relay.test_subscribe] Running test with payload /test/2/rs/0/1
2025-02-12 04:04:26.686 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:7175/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/test/2/rs/0/1"'
2025-02-12 04:04:26.689 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:7175/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
2025-02-12 04:04:26.689 DEBUG [tests.relay.test_subscribe] Running test with payload /waku/3/rs/0/1
2025-02-12 04:04:26.690 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:7175/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/3/rs/0/1"'
2025-02-12 04:04:26.692 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:7175/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
2025-02-12 04:04:26.693 DEBUG [tests.relay.test_subscribe] Running test with payload /waku/2/test/0/1
2025-02-12 04:04:26.693 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:7175/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/2/test/0/1"'
2025-02-12 04:04:26.695 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:7175/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
2025-02-12 04:04:26.696 DEBUG [tests.relay.test_subscribe] Running test with payload /waku/2/rs/3/b
2025-02-12 04:04:26.696 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:7175/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/2/rs/3/b"'
2025-02-12 04:04:26.698 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:7175/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
2025-02-12 04:04:26.699 DEBUG [tests.relay.test_subscribe] Running test with payload /waku/2/rs/0
2025-02-12 04:04:26.699 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:7175/relay/v1/subscriptions" -H "Content-Type: application/json" -d '"/waku/2/rs/0"'
2025-02-12 04:04:26.701 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:7175/relay/v1/subscriptions. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
2025-02-12 04:04:26.703 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-12 04:04:26.704 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-12 04:04:26.704 DEBUG [src.node.waku_node] Stopping container with id 06fa06f58374
2025-02-12 04:04:27.873 DEBUG [src.node.waku_node] Container stopped.
2025-02-12 04:04:27.873 DEBUG [src.node.waku_node] Stopping container with id d6cee5d61a82
2025-02-12 04:04:28.684 ERROR [src.node.docker_mananger] Max retries reached for container 06fa06f58374. Exiting log stream.
2025-02-12 04:04:29.382 DEBUG [src.node.waku_node] Container stopped.
2025-02-12 04:04:29.382 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-12 04:04:29.388 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-12 04:04:29.393 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
