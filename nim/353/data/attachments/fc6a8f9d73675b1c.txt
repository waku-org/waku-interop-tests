[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_single_content_topic[/statusim/1/community/cbor] with id: 2024-09-10_13-51-56__19c78c14-e55f-4778-9603-2828743cbe82
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.sharding:sharding.py:29 Running fixture setup: sharding_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-09-10_13-51-56__19c78c14-e55f-4778-9603-2828743cbe82__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.32.209
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['2428', '2429', '2430', '2431', '2432']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 2428:2428 -p 2429:2429 -p 2430:2430 -p 2431:2431 -p 2432:2432 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=2430 --rest-port=2428 --tcp-port=2429 --discv5-udp-port=2431 --rest-address=0.0.0.0 --nat=extip:172.18.32.209 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=b4854b51f01fcfff4cc8bcc3685fb1be71e8bc2b30dbd8c58dc6a1cbb1beed5e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=2432 --metrics-logging=true --relay=true --filter=true --content-topic=/statusim/1/community/cbor
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.32.209 waku bc8efdfc44722a18f97e55f068e74d354f4bf2b158a562ba258a0dc20e97eec3
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID bc8efdfc4472. Setting up logs at ./log/docker/node1_2024-09-10_13-51-56__19c78c14-e55f-4778-9603-2828743cbe82__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 2428
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2428/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2428/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.32.209/tcp/2429/p2p/16Uiu2HAkzxNqgMLEdd8cRS8xFrhmXzayDqCdMYxW97Qev6kvQJ5U","/ip4/172.18.32.209/tcp/2430/ws/p2p/16Uiu2HAkzxNqgMLEdd8cRS8xFrhmXzayDqCdMYxW97Qev6kvQJ5U"],"enrUri":"enr:-LO4QH7mFJ_Qes6jwV2_v0xa0vmSMIU3oO4eS57JgzYPyMVfNfI7Ymw-RxTCuHjHm_ySKhA8NXEAG1yoHtAcIsAhyLYBgmlkgnY0gmlwhKwSINGKbXVsdGlhZGRyc4wACgSsEiDRBgl-3QOCcnOFAAIBAACJc2VjcDI1NmsxoQJSKA8_r90IQ5ppFU8SSyL7WQJf2zARswNVqsNMMoB-74N0Y3CCCX2DdWRwggl_hXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-09-10_13-51-56__19c78c14-e55f-4778-9603-2828743cbe82__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.140.132
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['13633', '13634', '13635', '13636', '13637']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 13633:13633 -p 13634:13634 -p 13635:13635 -p 13636:13636 -p 13637:13637 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=13635 --rest-port=13633 --tcp-port=13634 --discv5-udp-port=13636 --rest-address=0.0.0.0 --nat=extip:172.18.140.132 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=aa8e8e20b98a9bbffce2693436db5af3b96ae35b218d75f3b674fdcc416d08e5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=13637 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QH7mFJ_Qes6jwV2_v0xa0vmSMIU3oO4eS57JgzYPyMVfNfI7Ymw-RxTCuHjHm_ySKhA8NXEAG1yoHtAcIsAhyLYBgmlkgnY0gmlwhKwSINGKbXVsdGlhZGRyc4wACgSsEiDRBgl-3QOCcnOFAAIBAACJc2VjcDI1NmsxoQJSKA8_r90IQ5ppFU8SSyL7WQJf2zARswNVqsNMMoB-74N0Y3CCCX2DdWRwggl_hXdha3UyBQ --content-topic=/statusim/1/community/cbor
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.140.132 waku 016d60e61edad883a3a475d113e6a481700035dc20b63e886e476312247b5d2f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 016d60e61eda. Setting up logs at ./log/docker/node2_2024-09-10_13-51-56__19c78c14-e55f-4778-9603-2828743cbe82__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 13633
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13633/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13633/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.140.132/tcp/13634/p2p/16Uiu2HAm4n5J2m4XAUPZHATQA35xs1dQkTQfmPC4Keq7GJiRWBgG","/ip4/172.18.140.132/tcp/13635/ws/p2p/16Uiu2HAm4n5J2m4XAUPZHATQA35xs1dQkTQfmPC4Keq7GJiRWBgG"],"enrUri":"enr:-LO4QE-5UbqJrCMwygaAi816ANgf_5w7G2mgb64Wac4nr0i4T5qH0paoWzLa0ystSZV5jpYuIpEoLQfHn7dprMBnackBgmlkgnY0gmlwhKwSjISKbXVsdGlhZGRyc4wACgSsEoyEBjVD3QOCcnOFAAIBAACJc2VjcDI1NmsxoQKK8ykFpDfXWjUjATqwnkhIPXoyk_J8dWXbBmeZSmH0tYN0Y3CCNUKDdWRwgjVEhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13633/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.32.209/tcp/2429/p2p/16Uiu2HAkzxNqgMLEdd8cRS8xFrhmXzayDqCdMYxW97Qev6kvQJ5U"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2428/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/statusim/1/community/cbor"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13633/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/statusim/1/community/cbor"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2428/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.sharding:sharding.py:157 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2428/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1725976320111858944,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.sharding:sharding.py:157 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13633/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1725976320111858944,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id bc8efdfc4472
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 016d60e61eda
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.