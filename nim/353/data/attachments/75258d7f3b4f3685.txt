[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_light_push_with_missing_content_topic with id: 2024-09-10_13-43-27__f81842ea-b45e-425f-8aed-7a714426b6ba
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-09-10_13-43-27__f81842ea-b45e-425f-8aed-7a714426b6ba__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.54.38
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['18294', '18295', '18296', '18297', '18298']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 18294:18294 -p 18295:18295 -p 18296:18296 -p 18297:18297 -p 18298:18298 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=18296 --rest-port=18294 --tcp-port=18295 --discv5-udp-port=18297 --rest-address=0.0.0.0 --nat=extip:172.18.54.38 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9436f3f23b3eef2c3fc9daa03d8a82daaefd973bccf0ca2bebcfcefdbd8bbbae --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=18298 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.54.38 waku c4f8c6b0afe15b2fb93740f8d6c732d21f36a9d9aa673caed93b4c932c5d83b8
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID c4f8c6b0afe1. Setting up logs at ./log/docker/receiving_node1_2024-09-10_13-43-27__f81842ea-b45e-425f-8aed-7a714426b6ba__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 18294
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18294/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18294/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.54.38/tcp/18295/p2p/16Uiu2HAmQceiPiTcLe2T2MebpW3NUHpK4vQwD6rSdo3H9DtTfWDM","/ip4/172.18.54.38/tcp/18296/ws/p2p/16Uiu2HAmQceiPiTcLe2T2MebpW3NUHpK4vQwD6rSdo3H9DtTfWDM"],"enrUri":"enr:-LO4QD3nPYsB607tdKB0wBcOykR2C3o2YC_Pt0A4H9ylO8x3GgXCzTpeJbkw59kRTLrRcW7bqVNkL5_I3PAKe799VwoBgmlkgnY0gmlwhKwSNiaKbXVsdGlhZGRyc4wACgSsEjYmBkd43QOCcnOFAAMBAACJc2VjcDI1NmsxoQOxsuD6PV_1VVE8E7O8250RjYakufvNRWMW9vY1dOyPUIN0Y3CCR3eDdWRwgkd5hXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-09-10_13-43-27__f81842ea-b45e-425f-8aed-7a714426b6ba__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.210.88
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['30932', '30933', '30934', '30935', '30936']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 30932:30932 -p 30933:30933 -p 30934:30934 -p 30935:30935 -p 30936:30936 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=30934 --rest-port=30932 --tcp-port=30933 --discv5-udp-port=30935 --rest-address=0.0.0.0 --nat=extip:172.18.210.88 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f3ca454bf6ed29afef9fff2f0babd9c91ecb8cb493c728b895eac95dea6f85d5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=30936 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.210.88 waku 0cc00888fe0eecbad67801282ddc83441c4bf550221ad62cc0b08a7bd67c7c03
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 0cc00888fe0e. Setting up logs at ./log/docker/receiving_node2_2024-09-10_13-43-27__f81842ea-b45e-425f-8aed-7a714426b6ba__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 30932
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30932/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30932/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.210.88/tcp/30933/p2p/16Uiu2HAkzaCa3Fypt6d3rR58d1CsAJJENHwmoM25EVt6G62vfTPe","/ip4/172.18.210.88/tcp/30934/ws/p2p/16Uiu2HAkzaCa3Fypt6d3rR58d1CsAJJENHwmoM25EVt6G62vfTPe"],"enrUri":"enr:-LO4QILifUAYNXKo7cbBQyWLbQcfgcNzDNqkrxZ93i5T9BlkAT3BVcClYT35obwz9oQZzxUb6wIuyxZaUK3_kbuDhM8BgmlkgnY0gmlwhKwS0liKbXVsdGlhZGRyc4wACgSsEtJYBnjW3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJMeat6kvRWoGXnqN2Z6SUiA1gog1fHMdqVqlHAjsCOaYN0Y3CCeNWDdWRwgnjXhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30932/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.54.38/tcp/18295/p2p/16Uiu2HAmQceiPiTcLe2T2MebpW3NUHpK4vQwD6rSdo3H9DtTfWDM"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-09-10_13-43-27__f81842ea-b45e-425f-8aed-7a714426b6ba__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.31.141
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['55589', '55590', '55591', '55592', '55593']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 55589:55589 -p 55590:55590 -p 55591:55591 -p 55592:55592 -p 55593:55593 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=55591 --rest-port=55589 --tcp-port=55590 --discv5-udp-port=55592 --rest-address=0.0.0.0 --nat=extip:172.18.31.141 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bb5ca0536fccacd737ef3febbe64a9a783aff2caba9dfebde2b2a2c1139df777 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=55593 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QD3nPYsB607tdKB0wBcOykR2C3o2YC_Pt0A4H9ylO8x3GgXCzTpeJbkw59kRTLrRcW7bqVNkL5_I3PAKe799VwoBgmlkgnY0gmlwhKwSNiaKbXVsdGlhZGRyc4wACgSsEjYmBkd43QOCcnOFAAMBAACJc2VjcDI1NmsxoQOxsuD6PV_1VVE8E7O8250RjYakufvNRWMW9vY1dOyPUIN0Y3CCR3eDdWRwgkd5hXdha3UyCQ --lightpushnode=/ip4/172.18.54.38/tcp/18295/p2p/16Uiu2HAmQceiPiTcLe2T2MebpW3NUHpK4vQwD6rSdo3H9DtTfWDM --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.31.141 waku 2cae2193a56a8cdc8ef7f52bb03868bd69c38468a02ce52d0ac138f5596c3976
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 2cae2193a56a. Setting up logs at ./log/docker/lightpush_node1_2024-09-10_13-43-27__f81842ea-b45e-425f-8aed-7a714426b6ba__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 55589
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55589/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:55589/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.31.141/tcp/55590/p2p/16Uiu2HAm9VsNfWt1wv4XGdhfgAdEKJfh4nWmzkRY8m8hvDuTCmhR","/ip4/172.18.31.141/tcp/55591/ws/p2p/16Uiu2HAm9VsNfWt1wv4XGdhfgAdEKJfh4nWmzkRY8m8hvDuTCmhR"],"enrUri":"enr:-LO4QPaK5NcVXkPhqNQBpzSr-stEeQ6QOpo89xn_jQk-dDGpcgORI7RK8kf0tKE_As8Hh0qa1d6PbfUZI6gx8wqDGuMBgmlkgnY0gmlwhKwSH42KbXVsdGlhZGRyc4wACgSsEh-NBtkn3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLRFtLl1CswoaFoV2QjKtFLeBtF92Q25yRTo8_B-MaQsIN0Y3CC2SaDdWRwgtkohXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55589/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.54.38/tcp/18295/p2p/16Uiu2HAmQceiPiTcLe2T2MebpW3NUHpK4vQwD6rSdo3H9DtTfWDM"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55589/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.210.88/tcp/30933/p2p/16Uiu2HAkzaCa3Fypt6d3rR58d1CsAJJENHwmoM25EVt6G62vfTPe"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:18294/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30932/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:55589/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "timestamp": 1725975812294571264}}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:55589/lightpush/v1/message. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id c4f8c6b0afe1
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 0cc00888fe0e
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 2cae2193a56a
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.