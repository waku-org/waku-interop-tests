[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_multiple_lightpush_nodes with id: 2024-09-05_04-19-27__97c280af-7b0a-45a1-b439-f1dd2b59c806
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-09-05_04-19-27__97c280af-7b0a-45a1-b439-f1dd2b59c806__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.220.124
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['50333', '50334', '50335', '50336', '50337']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 50333:50333 -p 50334:50334 -p 50335:50335 -p 50336:50336 -p 50337:50337 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=50335 --rest-port=50333 --tcp-port=50334 --discv5-udp-port=50336 --rest-address=0.0.0.0 --nat=extip:172.18.220.124 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fafb62bd8fc5bf1dffeb1ee1a68075195a390fbcbc57ed801e7cac7383ead819 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=50337 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.220.124 waku c4f242a021b3d03d43b796198f0763e8cc8c74ef59ef2e8a55aef59a0ca8ff51
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID c4f242a021b3. Setting up logs at ./log/docker/receiving_node1_2024-09-05_04-19-27__97c280af-7b0a-45a1-b439-f1dd2b59c806__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 50333
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50333/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50333/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.220.124/tcp/50334/p2p/16Uiu2HAmEyyEz9gXLtFvjPENVeggbCByQjZBzvn95ukc7YpvkyEA","/ip4/172.18.220.124/tcp/50335/ws/p2p/16Uiu2HAmEyyEz9gXLtFvjPENVeggbCByQjZBzvn95ukc7YpvkyEA"],"enrUri":"enr:-LO4QHlfHa2vQTmQz3A5X_1otPFiyQA26yI-rog0rL7uZXYQW32PMepPTaIuGCx5I53tw7Ynf4juumuS-58hMXmynJcBgmlkgnY0gmlwhKwS3HyKbXVsdGlhZGRyc4wACgSsEtx8BsSf3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMilCfXciQEhsevHNRZVGtedOBjSZqg5M4YgPmtmlgGA4N0Y3CCxJ6DdWRwgsSghXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-09-05_04-19-27__97c280af-7b0a-45a1-b439-f1dd2b59c806__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.124.165
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['38754', '38755', '38756', '38757', '38758']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 38754:38754 -p 38755:38755 -p 38756:38756 -p 38757:38757 -p 38758:38758 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=38756 --rest-port=38754 --tcp-port=38755 --discv5-udp-port=38757 --rest-address=0.0.0.0 --nat=extip:172.18.124.165 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5c8096656f95d26ecc7a6c1b3a1a5d81f4d72ffe5a3e5da3ce54abbdec4ee4b5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=38758 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.124.165 waku 81a5cf8a2d81a8192e5f2f6e459a6b1de3f255f482922c424b5fa7ca56063bc2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 81a5cf8a2d81. Setting up logs at ./log/docker/receiving_node2_2024-09-05_04-19-27__97c280af-7b0a-45a1-b439-f1dd2b59c806__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 38754
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38754/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38754/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.124.165/tcp/38755/p2p/16Uiu2HAmA6FQRUJKjvNF1ieSDEbF3LjF6eWiXAAorxUf7c6tp5LN","/ip4/172.18.124.165/tcp/38756/ws/p2p/16Uiu2HAmA6FQRUJKjvNF1ieSDEbF3LjF6eWiXAAorxUf7c6tp5LN"],"enrUri":"enr:-LO4QP97u5t7PkqSuYqMhqpf0l4fE_MD6T_Rd-qRJzunH-qCRCG8nIkRIfae5h8E56J9PuzixY4jtsaa0Zcb3xwSSXYBgmlkgnY0gmlwhKwSfKWKbXVsdGlhZGRyc4wACgSsEnylBpdk3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLZ5Xsn0xUousic-05-IRo8XJQKCY_ixjfygdRikSdOW4N0Y3CCl2ODdWRwgpdlhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38754/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.220.124/tcp/50334/p2p/16Uiu2HAmEyyEz9gXLtFvjPENVeggbCByQjZBzvn95ukc7YpvkyEA"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-09-05_04-19-27__97c280af-7b0a-45a1-b439-f1dd2b59c806__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.165.108
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['36950', '36951', '36952', '36953', '36954']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 36950:36950 -p 36951:36951 -p 36952:36952 -p 36953:36953 -p 36954:36954 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=36952 --rest-port=36950 --tcp-port=36951 --discv5-udp-port=36953 --rest-address=0.0.0.0 --nat=extip:172.18.165.108 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c0038d6d9d14e6f8d6c9c9fb7fa33c0db98f8e7fcc93f672df88cb9ac2993d36 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=36954 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QHlfHa2vQTmQz3A5X_1otPFiyQA26yI-rog0rL7uZXYQW32PMepPTaIuGCx5I53tw7Ynf4juumuS-58hMXmynJcBgmlkgnY0gmlwhKwS3HyKbXVsdGlhZGRyc4wACgSsEtx8BsSf3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMilCfXciQEhsevHNRZVGtedOBjSZqg5M4YgPmtmlgGA4N0Y3CCxJ6DdWRwgsSghXdha3UyCQ --lightpushnode=/ip4/172.18.220.124/tcp/50334/p2p/16Uiu2HAmEyyEz9gXLtFvjPENVeggbCByQjZBzvn95ukc7YpvkyEA --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.165.108 waku e3e7f3c7224a37c7fb3229243bb832c2673ccbe5565a8c96502caf52f6155386
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID e3e7f3c7224a. Setting up logs at ./log/docker/lightpush_node1_2024-09-05_04-19-27__97c280af-7b0a-45a1-b439-f1dd2b59c806__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 36950
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36950/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36950/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.165.108/tcp/36951/p2p/16Uiu2HAm5yu4j3xD6BLfcP87j2RPwbPkrKUBdGQoAgytjcBpdNkv","/ip4/172.18.165.108/tcp/36952/ws/p2p/16Uiu2HAm5yu4j3xD6BLfcP87j2RPwbPkrKUBdGQoAgytjcBpdNkv"],"enrUri":"enr:-LO4QFwaw4MUlejFJ4Fix4sr-eJLBU3hG-BAX9Xz4gSduMU0IO9UU1kSr4mFpWVLhG1tMvEhChBpfmX0hW-EM5Nvk-wBgmlkgnY0gmlwhKwSpWyKbXVsdGlhZGRyc4wACgSsEqVsBpBY3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKc1kAd3bVNvkQcM8Mh9fpk0bKqj5j8HWuPeLqepXiEd4N0Y3CCkFeDdWRwgpBZhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36950/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.220.124/tcp/50334/p2p/16Uiu2HAmEyyEz9gXLtFvjPENVeggbCByQjZBzvn95ukc7YpvkyEA"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36950/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.124.165/tcp/38755/p2p/16Uiu2HAmA6FQRUJKjvNF1ieSDEbF3LjF6eWiXAAorxUf7c6tp5LN"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node2_2024-09-05_04-19-27__97c280af-7b0a-45a1-b439-f1dd2b59c806__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.212.233
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['44464', '44465', '44466', '44467', '44468']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 44464:44464 -p 44465:44465 -p 44466:44466 -p 44467:44467 -p 44468:44468 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=44466 --rest-port=44464 --tcp-port=44465 --discv5-udp-port=44467 --rest-address=0.0.0.0 --nat=extip:172.18.212.233 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e346cda7e3fdb79ccd6c5c5e8b6d36eb8b3baf2eeddd8de4e1fc8b2a57ef558f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=44468 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QHlfHa2vQTmQz3A5X_1otPFiyQA26yI-rog0rL7uZXYQW32PMepPTaIuGCx5I53tw7Ynf4juumuS-58hMXmynJcBgmlkgnY0gmlwhKwS3HyKbXVsdGlhZGRyc4wACgSsEtx8BsSf3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMilCfXciQEhsevHNRZVGtedOBjSZqg5M4YgPmtmlgGA4N0Y3CCxJ6DdWRwgsSghXdha3UyCQ --lightpushnode=/ip4/172.18.220.124/tcp/50334/p2p/16Uiu2HAmEyyEz9gXLtFvjPENVeggbCByQjZBzvn95ukc7YpvkyEA --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.212.233 waku a0fce41c179e441147a709300eaf76167cda6b73a2631f78ffcec15a5d7fa1f2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID a0fce41c179e. Setting up logs at ./log/docker/lightpush_node2_2024-09-05_04-19-27__97c280af-7b0a-45a1-b439-f1dd2b59c806__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 44464
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44464/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44464/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.212.233/tcp/44465/p2p/16Uiu2HAmQSiMWBja159ddgGChrVVam9q4EjL2FxpvyfMauFSa1s8","/ip4/172.18.212.233/tcp/44466/ws/p2p/16Uiu2HAmQSiMWBja159ddgGChrVVam9q4EjL2FxpvyfMauFSa1s8"],"enrUri":"enr:-LO4QNQLSY91swCeP73Rm-28fy84od7qQn8oMGOALJboAmxtKAjCT8FNOE4Nnzqw3a-hOMoCsKZYyvDNO8ebxHHDxj8BgmlkgnY0gmlwhKwS1OmKbXVsdGlhZGRyc4wACgSsEtTpBq2y3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOvJy-y7_DRA7KtMUO00hlTw5gu40hL-XGJJKVrKgIHU4N0Y3CCrbGDdWRwgq2zhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44464/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.220.124/tcp/50334/p2p/16Uiu2HAmEyyEz9gXLtFvjPENVeggbCByQjZBzvn95ukc7YpvkyEA"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44464/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.124.165/tcp/38755/p2p/16Uiu2HAmA6FQRUJKjvNF1ieSDEbF3LjF6eWiXAAorxUf7c6tp5LN"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node3_2024-09-05_04-19-27__97c280af-7b0a-45a1-b439-f1dd2b59c806__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.104.224
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['45737', '45738', '45739', '45740', '45741']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 45737:45737 -p 45738:45738 -p 45739:45739 -p 45740:45740 -p 45741:45741 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=45739 --rest-port=45737 --tcp-port=45738 --discv5-udp-port=45740 --rest-address=0.0.0.0 --nat=extip:172.18.104.224 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=46d7ac1caf46708bc48cdebcc0d180dba86a0edec3b50fc2cb9cf27f4576ca9a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=45741 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QHlfHa2vQTmQz3A5X_1otPFiyQA26yI-rog0rL7uZXYQW32PMepPTaIuGCx5I53tw7Ynf4juumuS-58hMXmynJcBgmlkgnY0gmlwhKwS3HyKbXVsdGlhZGRyc4wACgSsEtx8BsSf3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMilCfXciQEhsevHNRZVGtedOBjSZqg5M4YgPmtmlgGA4N0Y3CCxJ6DdWRwgsSghXdha3UyCQ --lightpushnode=/ip4/172.18.220.124/tcp/50334/p2p/16Uiu2HAmEyyEz9gXLtFvjPENVeggbCByQjZBzvn95ukc7YpvkyEA --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.104.224 waku c22974d6a37455a4197ef80166c355f68dcf5c5b9cf9167ef11fe66c86920fde
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID c22974d6a374. Setting up logs at ./log/docker/lightpush_node3_2024-09-05_04-19-27__97c280af-7b0a-45a1-b439-f1dd2b59c806__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 45737
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45737/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45737/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.104.224/tcp/45738/p2p/16Uiu2HAkxFXmLDRehEpEUHa8bXGNnufJ2jPCz8ykMFevPVQgcFT6","/ip4/172.18.104.224/tcp/45739/ws/p2p/16Uiu2HAkxFXmLDRehEpEUHa8bXGNnufJ2jPCz8ykMFevPVQgcFT6"],"enrUri":"enr:-LO4QPfxwFrsfUO6YCoaHWB0XKSNoxZC66Kj5yvXcmRUUiiMGZ-meadRO3g5up8LPJtE152B_66nQ6p3vhuCVJffUksBgmlkgnY0gmlwhKwSaOCKbXVsdGlhZGRyc4wACgSsEmjgBrKr3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIp-fbQ7MwUQcBoiL5XEMaFAh7AuxuiqHfer3Sdeh71KYN0Y3CCsqqDdWRwgrKshXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45737/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.220.124/tcp/50334/p2p/16Uiu2HAmEyyEz9gXLtFvjPENVeggbCByQjZBzvn95ukc7YpvkyEA"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45737/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.124.165/tcp/38755/p2p/16Uiu2HAmA6FQRUJKjvNF1ieSDEbF3LjF6eWiXAAorxUf7c6tp5LN"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node4_2024-09-05_04-19-27__97c280af-7b0a-45a1-b439-f1dd2b59c806__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.138.15
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['35642', '35643', '35644', '35645', '35646']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 35642:35642 -p 35643:35643 -p 35644:35644 -p 35645:35645 -p 35646:35646 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=35644 --rest-port=35642 --tcp-port=35643 --discv5-udp-port=35645 --rest-address=0.0.0.0 --nat=extip:172.18.138.15 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b7bdbff5de0d39f5cdaf080afab5dcc607df4d9b6b5cdfd91ac048a9bbda3ff7 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=35646 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QHlfHa2vQTmQz3A5X_1otPFiyQA26yI-rog0rL7uZXYQW32PMepPTaIuGCx5I53tw7Ynf4juumuS-58hMXmynJcBgmlkgnY0gmlwhKwS3HyKbXVsdGlhZGRyc4wACgSsEtx8BsSf3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMilCfXciQEhsevHNRZVGtedOBjSZqg5M4YgPmtmlgGA4N0Y3CCxJ6DdWRwgsSghXdha3UyCQ --lightpushnode=/ip4/172.18.220.124/tcp/50334/p2p/16Uiu2HAmEyyEz9gXLtFvjPENVeggbCByQjZBzvn95ukc7YpvkyEA --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.138.15 waku 9777f7b1f39470f7415be07a028579995a8ccaf724484983d3dfbcc326c9317d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 9777f7b1f394. Setting up logs at ./log/docker/lightpush_node4_2024-09-05_04-19-27__97c280af-7b0a-45a1-b439-f1dd2b59c806__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 35642
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35642/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35642/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.138.15/tcp/35643/p2p/16Uiu2HAmPRpPtrJtQ1kJbcSDcAiMx1vxCHp5ZPJJkUNN4Lk4jb8x","/ip4/172.18.138.15/tcp/35644/ws/p2p/16Uiu2HAmPRpPtrJtQ1kJbcSDcAiMx1vxCHp5ZPJJkUNN4Lk4jb8x"],"enrUri":"enr:-LO4QH6-bYNOobmEaxGxwE0qVTUvQQF_0PU484o9ReNUgZgHdO8saaJ8gSqrstj0ugSEOUTvEneTT43gmadexusj7I0BgmlkgnY0gmlwhKwSig-KbXVsdGlhZGRyc4wACgSsEooPBos83QOCcnOFAAMBAACJc2VjcDI1NmsxoQOgEL_Z3-5yTRI2Qu2JYqq0wVOQFwM94Tt_v6O0z1gVdYN0Y3CCizuDdWRwgos9hXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35642/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.220.124/tcp/50334/p2p/16Uiu2HAmEyyEz9gXLtFvjPENVeggbCByQjZBzvn95ukc7YpvkyEA"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35642/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.124.165/tcp/38755/p2p/16Uiu2HAmA6FQRUJKjvNF1ieSDEbF3LjF6eWiXAAorxUf7c6tp5LN"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50333/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38754/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36950/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1725509977528185600}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50333/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725509977528185600,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38754/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725509977528185600,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44464/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1725509977652584704}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50333/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725509977652584704,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38754/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725509977652584704,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45737/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1725509977772105984}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50333/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725509977772105984,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38754/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725509977772105984,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35642/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1725509977901036544}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50333/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725509977901036544,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38754/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725509977901036544,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id c4f242a021b3
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 81a5cf8a2d81
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id e3e7f3c7224a
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id a0fce41c179e
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id c22974d6a374
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 9777f7b1f394
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.