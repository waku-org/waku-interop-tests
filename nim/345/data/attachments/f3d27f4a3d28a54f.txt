[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_subscribe_with_no_pubsub_topic with id: 2024-09-05_04-17-07__92fd0e95-b4bf-458a-8ee5-b6be7b5d9c3b
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-09-05_04-17-07__92fd0e95-b4bf-458a-8ee5-b6be7b5d9c3b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.92.3
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['30873', '30874', '30875', '30876', '30877']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 30873:30873 -p 30874:30874 -p 30875:30875 -p 30876:30876 -p 30877:30877 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=30875 --rest-port=30873 --tcp-port=30874 --discv5-udp-port=30876 --rest-address=0.0.0.0 --nat=extip:172.18.92.3 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=abc315f992af2cf1ca32b8cd0dcefb1fc0ad5d4ce2a8ec1cff28a42ab05dca5a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=30877 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.92.3 waku 4ca6adf2bcefdbf3e4f8ab9e0477de8e0907345edd42d0ed62fd4f9a8f658cc7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 4ca6adf2bcef. Setting up logs at ./log/docker/node1_2024-09-05_04-17-07__92fd0e95-b4bf-458a-8ee5-b6be7b5d9c3b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 30873
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30873/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30873/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.92.3/tcp/30874/p2p/16Uiu2HAmQ5nhPF1TCHqd5q1XG7NgwAuWebWspCj7Zk3u3kpztmfQ","/ip4/172.18.92.3/tcp/30875/ws/p2p/16Uiu2HAmQ5nhPF1TCHqd5q1XG7NgwAuWebWspCj7Zk3u3kpztmfQ"],"enrUri":"enr:-LO4QClpY6sNo6pHEZw-_TwFATRhAA4v8gZ7-lr3a6gP0JJaQCcznwpvh-SY7GbkNUiXwUELlDAT8IyCx82mP7dtIVABgmlkgnY0gmlwhKwSXAOKbXVsdGlhZGRyc4wACgSsElwDBnib3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOpyuZThMvG8QyfvNYv4ud1UTPsaN4HDKX2Pd9tHM1Xi4N0Y3CCeJqDdWRwgnichXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-09-05_04-17-07__92fd0e95-b4bf-458a-8ee5-b6be7b5d9c3b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.241.67
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['21028', '21029', '21030', '21031', '21032']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 21028:21028 -p 21029:21029 -p 21030:21030 -p 21031:21031 -p 21032:21032 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=21030 --rest-port=21028 --tcp-port=21029 --discv5-udp-port=21031 --rest-address=0.0.0.0 --nat=extip:172.18.241.67 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c9b62c8aee4ace8e49f21bed46b71e56afbd3a6b1d61d40fbf8ce14fb123bb1f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=21032 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QClpY6sNo6pHEZw-_TwFATRhAA4v8gZ7-lr3a6gP0JJaQCcznwpvh-SY7GbkNUiXwUELlDAT8IyCx82mP7dtIVABgmlkgnY0gmlwhKwSXAOKbXVsdGlhZGRyc4wACgSsElwDBnib3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOpyuZThMvG8QyfvNYv4ud1UTPsaN4HDKX2Pd9tHM1Xi4N0Y3CCeJqDdWRwgnichXdha3UyBQ --filternode=/ip4/172.18.92.3/tcp/30874/p2p/16Uiu2HAmQ5nhPF1TCHqd5q1XG7NgwAuWebWspCj7Zk3u3kpztmfQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.241.67 waku 3f40214315ad151bd26a6cd179df76346bf29061a5ae450b8b12820a2f79abe9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 3f40214315ad. Setting up logs at ./log/docker/node2_2024-09-05_04-17-07__92fd0e95-b4bf-458a-8ee5-b6be7b5d9c3b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 21028
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21028/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21028/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.241.67/tcp/21029/p2p/16Uiu2HAmDi9eq2k9Pf66yNct81iMh8yT3sHAvJJKQkKLvteGEFwd","/ip4/172.18.241.67/tcp/21030/ws/p2p/16Uiu2HAmDi9eq2k9Pf66yNct81iMh8yT3sHAvJJKQkKLvteGEFwd"],"enrUri":"enr:-LO4QOr1lxV4cP1me-ha0gljvvVW5E5JlZ3ywhGKl0ks7cktZfNkyZGoGnyuznNLdCibMupMCSbYrZoh-Mi-i17OnjIBgmlkgnY0gmlwhKwS8UOKbXVsdGlhZGRyc4wACgSsEvFDBlIm3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMPqvKWbDPWwF88o-o75WkLM98oKEskI1X8xQsoldNysIN0Y3CCUiWDdWRwglInhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21028/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.92.3/tcp/30874/p2p/16Uiu2HAmQ5nhPF1TCHqd5q1XG7NgwAuWebWspCj7Zk3u3kpztmfQ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30873/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21028/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "2ab3ba53-74e4-484f-ba3f-74ca851d1803", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"2ab3ba53-74e4-484f-ba3f-74ca851d1803","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21028/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/1/waku-filter/proto"]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"1","statusDesc":"OK"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 4ca6adf2bcef
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 3f40214315ad
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.