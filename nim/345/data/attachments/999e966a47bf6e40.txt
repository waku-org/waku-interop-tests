[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2024-09-05_04-23-22__18aafce3-dbcf-4589-8c5b-aa69453c0d11
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-09-05_04-23-22__18aafce3-dbcf-4589-8c5b-aa69453c0d11__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.112.137
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['2040', '2041', '2042', '2043', '2044']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 2040:2040 -p 2041:2041 -p 2042:2042 -p 2043:2043 -p 2044:2044 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=2042 --rest-port=2040 --tcp-port=2041 --discv5-udp-port=2043 --rest-address=0.0.0.0 --nat=extip:172.18.112.137 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ec1cedffa04ee6643b8eeaf1558cfb1010f095df23cfd3fabc6072ceedc25faa --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=2044 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.112.137 waku 5487e5fdaa835b33833afbb4d781ee747d406538f2d37d90c05c01a2d8dacdd8
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 5487e5fdaa83. Setting up logs at ./log/docker/node1_2024-09-05_04-23-22__18aafce3-dbcf-4589-8c5b-aa69453c0d11__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 2040
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2040/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2040/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.112.137/tcp/2041/p2p/16Uiu2HAmDVQJaTczZS3zY8mEzCXZWzCNeRsMFu1XfzcB2JTBapUY","/ip4/172.18.112.137/tcp/2042/ws/p2p/16Uiu2HAmDVQJaTczZS3zY8mEzCXZWzCNeRsMFu1XfzcB2JTBapUY"],"enrUri":"enr:-LO4QBP62dwU96e-SBxzRVmVhRWXzSNouthk3uw1MWWIbMyzTVrBZb2Ye5Lav6JqXGzdwDriA2fu-ruPO27wMwBTZYABgmlkgnY0gmlwhKwScImKbXVsdGlhZGRyc4wACgSsEnCJBgf63QOCcnOFAAMBAACJc2VjcDI1NmsxoQMMZvZ9PG-2fcRWYGnAln6GFPthFiqgWn1tF972xD5koYN0Y3CCB_mDdWRwggf7hXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-09-05_04-23-22__18aafce3-dbcf-4589-8c5b-aa69453c0d11__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.110.149
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['2202', '2203', '2204', '2205', '2206']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 2202:2202 -p 2203:2203 -p 2204:2204 -p 2205:2205 -p 2206:2206 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=2204 --rest-port=2202 --tcp-port=2203 --discv5-udp-port=2205 --rest-address=0.0.0.0 --nat=extip:172.18.110.149 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fb365ce707b2d6ffa1834c0389a2e8aed01d0598beb9129c0b912d91385cff4a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=2206 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QBP62dwU96e-SBxzRVmVhRWXzSNouthk3uw1MWWIbMyzTVrBZb2Ye5Lav6JqXGzdwDriA2fu-ruPO27wMwBTZYABgmlkgnY0gmlwhKwScImKbXVsdGlhZGRyc4wACgSsEnCJBgf63QOCcnOFAAMBAACJc2VjcDI1NmsxoQMMZvZ9PG-2fcRWYGnAln6GFPthFiqgWn1tF972xD5koYN0Y3CCB_mDdWRwggf7hXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.110.149 waku 1c19803bf2b6b9f0659f9e681fc1250b2fafd322becde8cef606028a8f59b5be
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 1c19803bf2b6. Setting up logs at ./log/docker/node2_2024-09-05_04-23-22__18aafce3-dbcf-4589-8c5b-aa69453c0d11__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 2202
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2202/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2202/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.110.149/tcp/2203/p2p/16Uiu2HAm9ADhF6nfswCFYHuwjH8KKNVUWy2ehzyhypzdapG4BgcU","/ip4/172.18.110.149/tcp/2204/ws/p2p/16Uiu2HAm9ADhF6nfswCFYHuwjH8KKNVUWy2ehzyhypzdapG4BgcU"],"enrUri":"enr:-LO4QGngPqml0Y3JPH59rXrtWOAyYULzm_ib77LMkBSZacx1Ve6jdo__bE7u3kYSsqUozDZrQ42d52ZuG6cBQz2M4moBgmlkgnY0gmlwhKwSbpWKbXVsdGlhZGRyc4wACgSsEm6VBgic3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLMDi8Ufg4TQH06fRXWmtq6A_mBfAD0E-IJF0E0jPtj5YN0Y3CCCJuDdWRwggidhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2202/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.112.137/tcp/2041/p2p/16Uiu2HAmDVQJaTczZS3zY8mEzCXZWzCNeRsMFu1XfzcB2JTBapUY"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-09-05_04-23-22__18aafce3-dbcf-4589-8c5b-aa69453c0d11__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.203.232
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['28727', '28728', '28729', '28730', '28731']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 28727:28727 -p 28728:28728 -p 28729:28729 -p 28730:28730 -p 28731:28731 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=28729 --rest-port=28727 --tcp-port=28728 --discv5-udp-port=28730 --rest-address=0.0.0.0 --nat=extip:172.18.203.232 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=83c6c5582a05f75fc8aefe4ffefcc012a53e632ca92f89da633e738650051b28 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=28731 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QBP62dwU96e-SBxzRVmVhRWXzSNouthk3uw1MWWIbMyzTVrBZb2Ye5Lav6JqXGzdwDriA2fu-ruPO27wMwBTZYABgmlkgnY0gmlwhKwScImKbXVsdGlhZGRyc4wACgSsEnCJBgf63QOCcnOFAAMBAACJc2VjcDI1NmsxoQMMZvZ9PG-2fcRWYGnAln6GFPthFiqgWn1tF972xD5koYN0Y3CCB_mDdWRwggf7hXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.203.232 waku 2822daefc910399933b3ec001fb67e27cf870c5974a9fe1fb27475440183118b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 2822daefc910. Setting up logs at ./log/docker/node3_2024-09-05_04-23-22__18aafce3-dbcf-4589-8c5b-aa69453c0d11__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 28727
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28727/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28727/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.203.232/tcp/28728/p2p/16Uiu2HAkwmkv7FSkqbCLj3HGrq5kQQxpnmMQd92ft1LZLYFMvRwz","/ip4/172.18.203.232/tcp/28729/ws/p2p/16Uiu2HAkwmkv7FSkqbCLj3HGrq5kQQxpnmMQd92ft1LZLYFMvRwz"],"enrUri":"enr:-LO4QLdDFsCpnBFrIyW_dZQXqBdyG7oy37rCDvxdcpLEpMOOZ6X7VpYAuqCJK0Klblq3hB4tJsM_vIBMVckhQT2JNDABgmlkgnY0gmlwhKwSy-iKbXVsdGlhZGRyc4wACgSsEsvoBnA53QOCcnOFAAMBAACJc2VjcDI1NmsxoQIi3JJb320DHzsKgoJ0zpZXI6YXDvSjJNm-UG4kXyv1XYN0Y3CCcDiDdWRwgnA6hXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28727/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.112.137/tcp/2041/p2p/16Uiu2HAmDVQJaTczZS3zY8mEzCXZWzCNeRsMFu1XfzcB2JTBapUY"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-09-05_04-23-22__18aafce3-dbcf-4589-8c5b-aa69453c0d11__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.56.129
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['12524', '12525', '12526', '12527', '12528']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 12524:12524 -p 12525:12525 -p 12526:12526 -p 12527:12527 -p 12528:12528 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=12526 --rest-port=12524 --tcp-port=12525 --discv5-udp-port=12527 --rest-address=0.0.0.0 --nat=extip:172.18.56.129 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=59faab02d0aea6b26accdba2e0f0cccf34d39d38ccedbb7a8956ccdebbcd5a0d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=12528 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QBP62dwU96e-SBxzRVmVhRWXzSNouthk3uw1MWWIbMyzTVrBZb2Ye5Lav6JqXGzdwDriA2fu-ruPO27wMwBTZYABgmlkgnY0gmlwhKwScImKbXVsdGlhZGRyc4wACgSsEnCJBgf63QOCcnOFAAMBAACJc2VjcDI1NmsxoQMMZvZ9PG-2fcRWYGnAln6GFPthFiqgWn1tF972xD5koYN0Y3CCB_mDdWRwggf7hXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.56.129 waku 9331bf50918d147afcb215233083476e83ed285002d051edfd057f4c3c3177e1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 9331bf50918d. Setting up logs at ./log/docker/node4_2024-09-05_04-23-22__18aafce3-dbcf-4589-8c5b-aa69453c0d11__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 12524
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12524/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12524/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.56.129/tcp/12525/p2p/16Uiu2HAmD4XMJnTrBiEL45nfDJL7KWCitQtBBQi1Jqeb95uBQYjb","/ip4/172.18.56.129/tcp/12526/ws/p2p/16Uiu2HAmD4XMJnTrBiEL45nfDJL7KWCitQtBBQi1Jqeb95uBQYjb"],"enrUri":"enr:-LO4QFJA3kGG4d_pHcayV8PDaIRLy9OvDIsBbAresqQHXdxFf_66sddLGb7I6vcCTy_tpYhEs6OjCdUpiuVznzwOnlUBgmlkgnY0gmlwhKwSOIGKbXVsdGlhZGRyc4wACgSsEjiBBjDu3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMGB2knv7tjnBlJ6t-gUyGYjWfiBrtkO2jxaEcblEh6uoN0Y3CCMO2DdWRwgjDvhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12524/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.112.137/tcp/2041/p2p/16Uiu2HAmDVQJaTczZS3zY8mEzCXZWzCNeRsMFu1XfzcB2JTBapUY"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-09-05_04-23-22__18aafce3-dbcf-4589-8c5b-aa69453c0d11__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.143.138
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['24078', '24079', '24080', '24081', '24082']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 24078:24078 -p 24079:24079 -p 24080:24080 -p 24081:24081 -p 24082:24082 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=24080 --rest-port=24078 --tcp-port=24079 --discv5-udp-port=24081 --rest-address=0.0.0.0 --nat=extip:172.18.143.138 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c9a0e13bcabdaef5921482a4312cbdb0ec22d6fdd1841c83ade14a6caf8f8d2a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=24082 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QBP62dwU96e-SBxzRVmVhRWXzSNouthk3uw1MWWIbMyzTVrBZb2Ye5Lav6JqXGzdwDriA2fu-ruPO27wMwBTZYABgmlkgnY0gmlwhKwScImKbXVsdGlhZGRyc4wACgSsEnCJBgf63QOCcnOFAAMBAACJc2VjcDI1NmsxoQMMZvZ9PG-2fcRWYGnAln6GFPthFiqgWn1tF972xD5koYN0Y3CCB_mDdWRwggf7hXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.143.138 waku 5fe1b25319a1e0c9cb6af300b4c8064f775aa0f08f32fa080bd990c4dd1b6f84
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 5fe1b25319a1. Setting up logs at ./log/docker/node5_2024-09-05_04-23-22__18aafce3-dbcf-4589-8c5b-aa69453c0d11__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 24078
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24078/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24078/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.143.138/tcp/24079/p2p/16Uiu2HAkxRukDaVccekPaEE5pAKgcC5prsbGDkyiQg3SkMswQJ7h","/ip4/172.18.143.138/tcp/24080/ws/p2p/16Uiu2HAkxRukDaVccekPaEE5pAKgcC5prsbGDkyiQg3SkMswQJ7h"],"enrUri":"enr:-LO4QN5QxryjprLgKMcAUwF8Bt5uyX-DNCyUTTOfi1w9znz-XOjQrWSbali-Je0wtWurOpZ0LUj5ljija2kamuEbEk4BgmlkgnY0gmlwhKwSj4qKbXVsdGlhZGRyc4wACgSsEo-KBl4Q3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIsoqA_j7hIRM_xI3iS8untzg4SeclTPkjhI3nZutWGoIN0Y3CCXg-DdWRwgl4RhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24078/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.112.137/tcp/2041/p2p/16Uiu2HAmDVQJaTczZS3zY8mEzCXZWzCNeRsMFu1XfzcB2JTBapUY"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2040/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2202/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28727/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:12524/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24078/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2040/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2040/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1725510211560996096,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2202/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1725510211560996096,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28727/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1725510211560996096,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12524/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1725510211560996096,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24078/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1725510211560996096,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24078/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2040/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1725510211698137344,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2202/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1725510211698137344,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28727/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1725510211698137344,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:12524/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1725510211698137344,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24078/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1725510211698137344,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 5487e5fdaa83
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 1c19803bf2b6
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 2822daefc910
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 9331bf50918d
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 5fe1b25319a1
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.