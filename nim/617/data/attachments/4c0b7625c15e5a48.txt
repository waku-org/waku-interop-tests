[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_subscribe_with_no_request_id with id: 2025-01-15_04-04-20__54491836-0c9a-458a-b668-ebae96024617
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-01-15_04-04-20__54491836-0c9a-458a-b668-ebae96024617__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.194.89
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['42353', '42354', '42355', '42356', '42357']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 42353:42353 -p 42354:42354 -p 42355:42355 -p 42356:42356 -p 42357:42357 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=42355 --rest-port=42353 --tcp-port=42354 --discv5-udp-port=42356 --rest-address=0.0.0.0 --nat=extip:172.18.194.89 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=064feca47c4f6e04a8894a66d7d5cb0097aad25eca3ea1ed7ae16edabaa8d91e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=42357 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.194.89 waku e874f2b7b17d877e28c64311e8e06ac9083d5dc654a7fa65e8f76d49ea4aa0bd
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID e874f2b7b17d. Setting up logs at ./log/docker/node1_2025-01-15_04-04-20__54491836-0c9a-458a-b668-ebae96024617__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 42353
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 50e285e69396. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42353/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42353/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.194.89/tcp/42354/p2p/16Uiu2HAkwftdoM7jWcksAo8h21uckr4gJBaLGFkfY6vMduvFNMTX","/ip4/172.18.194.89/tcp/42355/ws/p2p/16Uiu2HAkwftdoM7jWcksAo8h21uckr4gJBaLGFkfY6vMduvFNMTX"],"enrUri":"enr:-L24QPv7Slj-7frufREUBTInFLe6xceRA3B1WW6cGaiZs8KCIisldV8L9T0dzeRK7CAUcbTVWgl3Sf7BRgDENauUWrICgmlkgnY0gmlwhKwSwlmKbXVsdGlhZGRyc5YACASsEsJZBqVyAAoErBLCWQalc90DgnJzhQADAQAAiXNlY3AyNTZrMaECIVvQho_Vof3mK7bd2BFfqh1RlOOe9s_VHcvLxedVBBqDdGNwgqVyg3VkcIKldIV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-01-15_04-04-20__54491836-0c9a-458a-b668-ebae96024617__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.19.88
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['39715', '39716', '39717', '39718', '39719']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 39715:39715 -p 39716:39716 -p 39717:39717 -p 39718:39718 -p 39719:39719 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=39717 --rest-port=39715 --tcp-port=39716 --discv5-udp-port=39718 --rest-address=0.0.0.0 --nat=extip:172.18.19.88 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=359e62f1b1abf24f16ec4b4ebcbc34ccc4c3f2c7ad35d88b6a49d337aa7766dd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=39719 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QPv7Slj-7frufREUBTInFLe6xceRA3B1WW6cGaiZs8KCIisldV8L9T0dzeRK7CAUcbTVWgl3Sf7BRgDENauUWrICgmlkgnY0gmlwhKwSwlmKbXVsdGlhZGRyc5YACASsEsJZBqVyAAoErBLCWQalc90DgnJzhQADAQAAiXNlY3AyNTZrMaECIVvQho_Vof3mK7bd2BFfqh1RlOOe9s_VHcvLxedVBBqDdGNwgqVyg3VkcIKldIV3YWt1MgU --filternode=/ip4/172.18.194.89/tcp/42354/p2p/16Uiu2HAkwftdoM7jWcksAo8h21uckr4gJBaLGFkfY6vMduvFNMTX
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.19.88 waku 2251ad905124e796fa220418e7319e97bb45b1b2d0d7b83643d799a40b12738a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 2251ad905124. Setting up logs at ./log/docker/node2_2025-01-15_04-04-20__54491836-0c9a-458a-b668-ebae96024617__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 39715
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39715/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39715/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.19.88/tcp/39716/p2p/16Uiu2HAm7fcDuKVN4oPEmtnuF8axMNBFtcbTgsagPk1WKPbgFECj","/ip4/172.18.19.88/tcp/39717/ws/p2p/16Uiu2HAm7fcDuKVN4oPEmtnuF8axMNBFtcbTgsagPk1WKPbgFECj"],"enrUri":"enr:-L24QAPMCvC_u7YVvqPzQuS7Tz2B9HgLYNsKs0g8A67RoO9sbg2fQ4QjVNOWvoNMn4GbQIZRyH6XzShaH__ezcrRuX0CgmlkgnY0gmlwhKwSE1iKbXVsdGlhZGRyc5YACASsEhNYBpskAAoErBITWAabJd0DgnJzhQADAQAAiXNlY3AyNTZrMaECtd4gbrEzY_sQutvBvZ0rYETqLIAyLt50bwaZF-zoZ9yDdGNwgpskg3VkcIKbJoV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39715/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.194.89/tcp/42354/p2p/16Uiu2HAkwftdoM7jWcksAo8h21uckr4gJBaLGFkfY6vMduvFNMTX"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42353/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39715/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1411396b-9c1c-4eaa-8b79-627e8baf2114", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"1411396b-9c1c-4eaa-8b79-627e8baf2114","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39715/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:39715/filter/v2/subscriptions. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data\\", contentType: \\"text/plain\\"))"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id e874f2b7b17d
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 2251ad905124
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container e874f2b7b17d. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.