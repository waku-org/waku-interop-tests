[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2025-01-15_04-03-49__a14c1eaf-7c7c-4f35-9350-225a2e600c94
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-01-15_04-03-49__a14c1eaf-7c7c-4f35-9350-225a2e600c94__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.63.106
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['13639', '13640', '13641', '13642', '13643']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 13639:13639 -p 13640:13640 -p 13641:13641 -p 13642:13642 -p 13643:13643 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=13641 --rest-port=13639 --tcp-port=13640 --discv5-udp-port=13642 --rest-address=0.0.0.0 --nat=extip:172.18.63.106 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ef6743a2dcf9edaedbdf6afed41ac172825aaddfd669ffbfa0bf0adac3dc42be --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=13643 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.63.106 waku 1ce517a3cc509136476b3085aadbbada903ea1c7547d613321dd4cb5eeff1444
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 1ce517a3cc50. Setting up logs at ./log/docker/node1_2025-01-15_04-03-49__a14c1eaf-7c7c-4f35-9350-225a2e600c94__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 13639
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 730105c65b03. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13639/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13639/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.63.106/tcp/13640/p2p/16Uiu2HAmGTPgGYt4LL63vgVhQb2e9auE82dDYfZeibgbApDGVcRe","/ip4/172.18.63.106/tcp/13641/ws/p2p/16Uiu2HAmGTPgGYt4LL63vgVhQb2e9auE82dDYfZeibgbApDGVcRe"],"enrUri":"enr:-L24QMC-WaCxTjMYuypaNifmLsZ3eGNKWyjXydVl9Ms7xfkoGK3GHdMjL7IS0WfpGe9sVZJEbd_xaBSRzPafNv7UFzYCgmlkgnY0gmlwhKwSP2qKbXVsdGlhZGRyc5YACASsEj9qBjVIAAoErBI_agY1Sd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDOHYnd-z3n8hWJvnhEE0Jj--53zyRXHv5GtldPo--UZGDdGNwgjVIg3VkcII1SoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-01-15_04-03-49__a14c1eaf-7c7c-4f35-9350-225a2e600c94__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.88.112
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['63114', '63115', '63116', '63117', '63118']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 63114:63114 -p 63115:63115 -p 63116:63116 -p 63117:63117 -p 63118:63118 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=63116 --rest-port=63114 --tcp-port=63115 --discv5-udp-port=63117 --rest-address=0.0.0.0 --nat=extip:172.18.88.112 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=aeebddc5ba26e705eda01bfb90ea4d30dabd77ffbd92d88ddee3d156ecf6ecae --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=63118 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QMC-WaCxTjMYuypaNifmLsZ3eGNKWyjXydVl9Ms7xfkoGK3GHdMjL7IS0WfpGe9sVZJEbd_xaBSRzPafNv7UFzYCgmlkgnY0gmlwhKwSP2qKbXVsdGlhZGRyc5YACASsEj9qBjVIAAoErBI_agY1Sd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDOHYnd-z3n8hWJvnhEE0Jj--53zyRXHv5GtldPo--UZGDdGNwgjVIg3VkcII1SoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.88.112 waku 1f22222bdc7f389201c34597a3f26d48b5d2b4aac24b6ce8d98d6a50fd1eefe5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 1f22222bdc7f. Setting up logs at ./log/docker/node2_2025-01-15_04-03-49__a14c1eaf-7c7c-4f35-9350-225a2e600c94__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 63114
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63114/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63114/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.88.112/tcp/63115/p2p/16Uiu2HAmG113sLG4V2C5x51aKUkK9gbUewvTuhXwR3JNhBWACK3U","/ip4/172.18.88.112/tcp/63116/ws/p2p/16Uiu2HAmG113sLG4V2C5x51aKUkK9gbUewvTuhXwR3JNhBWACK3U"],"enrUri":"enr:-L24QC4pIcNCi-wQEVQo1UFBhQK6L0PqqDmMvI_r_XSO7fUxMx-kRDEHxMaUa4kDN1yKEbPo_F68QBPG_BdWSBYPz7YCgmlkgnY0gmlwhKwSWHCKbXVsdGlhZGRyc5YACASsElhwBvaLAAoErBJYcAb2jN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDMbN30V89WvqaXpdipVqqiJqZXlfZhjKyuvnKIOlxbv-DdGNwgvaLg3VkcIL2jYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63114/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.63.106/tcp/13640/p2p/16Uiu2HAmGTPgGYt4LL63vgVhQb2e9auE82dDYfZeibgbApDGVcRe"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2025-01-15_04-03-49__a14c1eaf-7c7c-4f35-9350-225a2e600c94__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.146.136
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['41489', '41490', '41491', '41492', '41493']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 41489:41489 -p 41490:41490 -p 41491:41491 -p 41492:41492 -p 41493:41493 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=41491 --rest-port=41489 --tcp-port=41490 --discv5-udp-port=41492 --rest-address=0.0.0.0 --nat=extip:172.18.146.136 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d7e94fafc7c1e5b17e8e8cdf687beeefd62ce5067bdfef3fb4229f4bb1ce0d3f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=41493 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QMC-WaCxTjMYuypaNifmLsZ3eGNKWyjXydVl9Ms7xfkoGK3GHdMjL7IS0WfpGe9sVZJEbd_xaBSRzPafNv7UFzYCgmlkgnY0gmlwhKwSP2qKbXVsdGlhZGRyc5YACASsEj9qBjVIAAoErBI_agY1Sd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDOHYnd-z3n8hWJvnhEE0Jj--53zyRXHv5GtldPo--UZGDdGNwgjVIg3VkcII1SoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.146.136 waku 796c22e2aad48ac8630b74cb8b498313dfb20566f540fed528859b740f98a08a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 796c22e2aad4. Setting up logs at ./log/docker/node3_2025-01-15_04-03-49__a14c1eaf-7c7c-4f35-9350-225a2e600c94__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 41489
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41489/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41489/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.146.136/tcp/41490/p2p/16Uiu2HAmHVDSn5UWLeBP5VXgd6qh7KaaNKAh5Ncj1CANfFuq54js","/ip4/172.18.146.136/tcp/41491/ws/p2p/16Uiu2HAmHVDSn5UWLeBP5VXgd6qh7KaaNKAh5Ncj1CANfFuq54js"],"enrUri":"enr:-L24QGCzi5ndS8StkgKCrdSznbBHIQBZ91WrQIKVWxvqN1cqfVkW4gJSvjuRst5FZnLI2qinV3mlEpcygK0aiVEU5-gCgmlkgnY0gmlwhKwSkoiKbXVsdGlhZGRyc5YACASsEpKIBqISAAoErBKSiAaiE90DgnJzhQADAQAAiXNlY3AyNTZrMaEDR8luxAMmGQKj4MwV8fLyr8DxktCvSEpyQ2VAPWpbIsKDdGNwgqISg3VkcIKiFIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41489/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.63.106/tcp/13640/p2p/16Uiu2HAmGTPgGYt4LL63vgVhQb2e9auE82dDYfZeibgbApDGVcRe"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2025-01-15_04-03-49__a14c1eaf-7c7c-4f35-9350-225a2e600c94__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.50.22
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['23993', '23994', '23995', '23996', '23997']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 23993:23993 -p 23994:23994 -p 23995:23995 -p 23996:23996 -p 23997:23997 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=23995 --rest-port=23993 --tcp-port=23994 --discv5-udp-port=23996 --rest-address=0.0.0.0 --nat=extip:172.18.50.22 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a89d4df82cc87bb8fc42e6cd0dcdab3cbdbf81ef2fd4af3662279b2f5f4c9d58 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=23997 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QMC-WaCxTjMYuypaNifmLsZ3eGNKWyjXydVl9Ms7xfkoGK3GHdMjL7IS0WfpGe9sVZJEbd_xaBSRzPafNv7UFzYCgmlkgnY0gmlwhKwSP2qKbXVsdGlhZGRyc5YACASsEj9qBjVIAAoErBI_agY1Sd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDOHYnd-z3n8hWJvnhEE0Jj--53zyRXHv5GtldPo--UZGDdGNwgjVIg3VkcII1SoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.50.22 waku e4b67141b1d6e01b6ce95a743c6a86bad2d998255eccd6f01b3326b4f6235645
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID e4b67141b1d6. Setting up logs at ./log/docker/node4_2025-01-15_04-03-49__a14c1eaf-7c7c-4f35-9350-225a2e600c94__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 23993
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23993/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23993/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.50.22/tcp/23994/p2p/16Uiu2HAmUZQDg6eQqrMYW6KWMWzBokg8kt4Z2LrvMKubAup4Xorf","/ip4/172.18.50.22/tcp/23995/ws/p2p/16Uiu2HAmUZQDg6eQqrMYW6KWMWzBokg8kt4Z2LrvMKubAup4Xorf"],"enrUri":"enr:-L24QBZI2B-rujGSs31j-nKFfkE7gF3QsqzGsE0jVf83fQuBR5_RVdeS88vmUgkKruscFf3eoRK_nZIC9CmKHMiqVuoCgmlkgnY0gmlwhKwSMhaKbXVsdGlhZGRyc5YACASsEjIWBl26AAoErBIyFgZdu90DgnJzhQADAQAAiXNlY3AyNTZrMaED7Ex-kQwUDMwIRD9hlIRLYefPyEIuP4fnjOFwRA0iXXiDdGNwgl26g3VkcIJdvIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23993/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.63.106/tcp/13640/p2p/16Uiu2HAmGTPgGYt4LL63vgVhQb2e9auE82dDYfZeibgbApDGVcRe"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2025-01-15_04-03-49__a14c1eaf-7c7c-4f35-9350-225a2e600c94__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.116.58
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['62870', '62871', '62872', '62873', '62874']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 62870:62870 -p 62871:62871 -p 62872:62872 -p 62873:62873 -p 62874:62874 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=62872 --rest-port=62870 --tcp-port=62871 --discv5-udp-port=62873 --rest-address=0.0.0.0 --nat=extip:172.18.116.58 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=92ab4439cbee02e8c4dabb2cdbeb3ea9cfa2a785dafb8afcffadccbfa33f9bf4 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=62874 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QMC-WaCxTjMYuypaNifmLsZ3eGNKWyjXydVl9Ms7xfkoGK3GHdMjL7IS0WfpGe9sVZJEbd_xaBSRzPafNv7UFzYCgmlkgnY0gmlwhKwSP2qKbXVsdGlhZGRyc5YACASsEj9qBjVIAAoErBI_agY1Sd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDOHYnd-z3n8hWJvnhEE0Jj--53zyRXHv5GtldPo--UZGDdGNwgjVIg3VkcII1SoV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.116.58 waku 28c7967034e1a7417b44845d7f3dc129f40c658cc0c5badd0c19fdd10acea23b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 28c7967034e1. Setting up logs at ./log/docker/node5_2025-01-15_04-03-49__a14c1eaf-7c7c-4f35-9350-225a2e600c94__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 62870
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62870/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62870/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.116.58/tcp/62871/p2p/16Uiu2HAm6AzCUPmSKcn6FQJFD2ronJvCxyMWfaVZZdBjTQ6qE3U8","/ip4/172.18.116.58/tcp/62872/ws/p2p/16Uiu2HAm6AzCUPmSKcn6FQJFD2ronJvCxyMWfaVZZdBjTQ6qE3U8"],"enrUri":"enr:-L24QId_MAz8ILoM-2WFkxEs9zqHC8DxB79K7bV6r0KK7KZdCTLB1smGUhF6ckzjromjOGOZ3eW6hisY27Byf1d5ldUCgmlkgnY0gmlwhKwSdDqKbXVsdGlhZGRyc5YACASsEnQ6BvWXAAoErBJ0Ogb1mN0DgnJzhQADAQAAiXNlY3AyNTZrMaECn61xo85YIqcwkZwclzyDiEJ51u472z74YzbB3ZdDElWDdGNwgvWXg3VkcIL1mYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62870/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.63.106/tcp/13640/p2p/16Uiu2HAmGTPgGYt4LL63vgVhQb2e9auE82dDYfZeibgbApDGVcRe"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13639/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63114/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41489/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23993/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62870/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13639/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13639/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1736913835546141696,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63114/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1736913835546141696,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41489/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1736913835546141696,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23993/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1736913835546141696,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62870/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1736913835546141696,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62870/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13639/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1736913835671115776,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63114/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1736913835671115776,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41489/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1736913835671115776,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23993/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1736913835671115776,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62870/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1736913835671115776,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 1ce517a3cc50
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 1f22222bdc7f
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 796c22e2aad4
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 1ce517a3cc50. Exiting log stream.
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 1f22222bdc7f. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id e4b67141b1d6
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 796c22e2aad4. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 28c7967034e1
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container e4b67141b1d6. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.