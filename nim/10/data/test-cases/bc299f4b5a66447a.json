{"uid":"bc299f4b5a66447a","name":"test_filter_unsubscribe_all_from_90_content_topics","fullName":"tests.filter.test_unsubscribe_all.TestFilterUnSubscribeAll#test_filter_unsubscribe_all_from_90_content_topics","historyId":"415f54b69e8c26bcf3d2be8c702fe696","time":{"start":1714992345934,"stop":1714992346659,"duration":725},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"set_allure_env_variables","time":{"start":1714992131353,"stop":1714992131353,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail","time":{"start":1714992342698,"stop":1714992342698,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"common_setup","time":{"start":1714992342699,"stop":1714992342699,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"filter_setup","time":{"start":1714992342699,"stop":1714992342700,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes","time":{"start":1714992342699,"stop":1714992342699,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_setup","time":{"start":1714992342699,"stop":1714992342699,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_id","time":{"start":1714992342699,"stop":1714992342699,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_main_relay_node","time":{"start":1714992342700,"stop":1714992344491,"duration":1791},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_main_filter_node","time":{"start":1714992344492,"stop":1714992345934,"duration":1442},"status":"passed","steps":[{"name":"add_node_peer","time":{"start":1714992345894,"stop":1714992345934,"duration":40},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.filter.test_unsubscribe_all.TestFilterUnSubscribeAll object at 0x7f04d78d1460>, <src.node.waku_node.WakuNode object at 0x7f04d747a390>, ['/ip4/172.18.104.37/tcp/60933/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip'])"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"testStage":{"status":"passed","steps":[{"name":"wait_for_subscriptions_on_main_nodes","time":{"start":1714992345935,"stop":1714992345960,"duration":25},"status":"passed","steps":[{"name":"create_filter_subscription_with_retry","time":{"start":1714992345948,"stop":1714992345960,"duration":12},"status":"passed","steps":[{"name":"create_filter_subscription","time":{"start":1714992345948,"stop":1714992345959,"duration":11},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"subscription","value":"{'requestId': '812c547d-5ba5-41cf-a20a-7315be600607', 'contentFilters': ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29', '30'], 'pubsubTopic': '/waku/2/rs/0/1'}"},{"name":"node","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"subscription","value":"{'requestId': '812c547d-5ba5-41cf-a20a-7315be600607', 'contentFilters': ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29', '30'], 'pubsubTopic': '/waku/2/rs/0/1'}"},{"name":"node","value":"None"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"content_topic_list","value":"['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25', '26', '27', '28', '29', '30']"},{"name":"pubsub_topic","value":"None"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"wait_for_subscriptions_on_main_nodes","time":{"start":1714992345960,"stop":1714992345972,"duration":12},"status":"passed","steps":[{"name":"create_filter_subscription_with_retry","time":{"start":1714992345965,"stop":1714992345972,"duration":7},"status":"passed","steps":[{"name":"create_filter_subscription","time":{"start":1714992345965,"stop":1714992345972,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"subscription","value":"{'requestId': 'b8119362-6ffa-43a2-b3f4-9d9a4a5e9c5d', 'contentFilters': ['31', '32', '33', '34', '35', '36', '37', '38', '39', '40', '41', '42', '43', '44', '45', '46', '47', '48', '49', '50', '51', '52', '53', '54', '55', '56', '57', '58', '59', '60'], 'pubsubTopic': '/waku/2/rs/0/1'}"},{"name":"node","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"subscription","value":"{'requestId': 'b8119362-6ffa-43a2-b3f4-9d9a4a5e9c5d', 'contentFilters': ['31', '32', '33', '34', '35', '36', '37', '38', '39', '40', '41', '42', '43', '44', '45', '46', '47', '48', '49', '50', '51', '52', '53', '54', '55', '56', '57', '58', '59', '60'], 'pubsubTopic': '/waku/2/rs/0/1'}"},{"name":"node","value":"None"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"content_topic_list","value":"['31', '32', '33', '34', '35', '36', '37', '38', '39', '40', '41', '42', '43', '44', '45', '46', '47', '48', '49', '50', '51', '52', '53', '54', '55', '56', '57', '58', '59', '60']"},{"name":"pubsub_topic","value":"None"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"wait_for_subscriptions_on_main_nodes","time":{"start":1714992345972,"stop":1714992345981,"duration":9},"status":"passed","steps":[{"name":"create_filter_subscription_with_retry","time":{"start":1714992345974,"stop":1714992345981,"duration":7},"status":"passed","steps":[{"name":"create_filter_subscription","time":{"start":1714992345975,"stop":1714992345981,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"subscription","value":"{'requestId': '1afd4ac4-8c46-4287-87e5-b8882a65ae92', 'contentFilters': ['61', '62', '63', '64', '65', '66', '67', '68', '69', '70', '71', '72', '73', '74', '75', '76', '77', '78', '79', '80', '81', '82', '83', '84', '85', '86', '87', '88', '89', '90'], 'pubsubTopic': '/waku/2/rs/0/1'}"},{"name":"node","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"subscription","value":"{'requestId': '1afd4ac4-8c46-4287-87e5-b8882a65ae92', 'contentFilters': ['61', '62', '63', '64', '65', '66', '67', '68', '69', '70', '71', '72', '73', '74', '75', '76', '77', '78', '79', '80', '81', '82', '83', '84', '85', '86', '87', '88', '89', '90'], 'pubsubTopic': '/waku/2/rs/0/1'}"},{"name":"node","value":"None"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"content_topic_list","value":"['61', '62', '63', '64', '65', '66', '67', '68', '69', '70', '71', '72', '73', '74', '75', '76', '77', '78', '79', '80', '81', '82', '83', '84', '85', '86', '87', '88', '89', '90']"},{"name":"pubsub_topic","value":"None"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"create_message","time":{"start":1714992345981,"stop":1714992345981,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"contentTopic","value":"'8'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_published_message_reaches_filter_peer","time":{"start":1714992345981,"stop":1714992346093,"duration":112},"status":"passed","steps":[{"name":"get_filter_messages","time":{"start":1714992346087,"stop":1714992346090,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"content_topic","value":"'8'"},{"name":"pubsub_topic","value":"'/waku/2/rs/0/1'"},{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f04d747a390>"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1714992346093,"stop":1714992346093,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'RmlsdGVyIHdvcmtzISE=', 'contentTopic': '8', 'timestamp': 1714992345980832768}"},{"name":"index","value":"0"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"message","value":"{'payload': 'RmlsdGVyIHdvcmtzISE=', 'contentTopic': '8', 'timestamp': 1714992345980832768}"},{"name":"pubsub_topic","value":"None"},{"name":"message_propagation_delay","value":"0.1"},{"name":"sender","value":"None"},{"name":"peer_list","value":"None"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"create_message","time":{"start":1714992346094,"stop":1714992346094,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"contentTopic","value":"'52'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_published_message_reaches_filter_peer","time":{"start":1714992346094,"stop":1714992346207,"duration":113},"status":"passed","steps":[{"name":"get_filter_messages","time":{"start":1714992346202,"stop":1714992346205,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"content_topic","value":"'52'"},{"name":"pubsub_topic","value":"'/waku/2/rs/0/1'"},{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f04d747a390>"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1714992346207,"stop":1714992346207,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'RmlsdGVyIHdvcmtzISE=', 'contentTopic': '52', 'timestamp': 1714992346093529088}"},{"name":"index","value":"0"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"message","value":"{'payload': 'RmlsdGVyIHdvcmtzISE=', 'contentTopic': '52', 'timestamp': 1714992346093529088}"},{"name":"pubsub_topic","value":"None"},{"name":"message_propagation_delay","value":"0.1"},{"name":"sender","value":"None"},{"name":"peer_list","value":"None"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"create_message","time":{"start":1714992346207,"stop":1714992346207,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"contentTopic","value":"'79'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_published_message_reaches_filter_peer","time":{"start":1714992346207,"stop":1714992346322,"duration":115},"status":"passed","steps":[{"name":"get_filter_messages","time":{"start":1714992346314,"stop":1714992346320,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"content_topic","value":"'79'"},{"name":"pubsub_topic","value":"'/waku/2/rs/0/1'"},{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f04d747a390>"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1714992346322,"stop":1714992346322,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'RmlsdGVyIHdvcmtzISE=', 'contentTopic': '79', 'timestamp': 1714992346207328000}"},{"name":"index","value":"0"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"message","value":"{'payload': 'RmlsdGVyIHdvcmtzISE=', 'contentTopic': '79', 'timestamp': 1714992346207328000}"},{"name":"pubsub_topic","value":"None"},{"name":"message_propagation_delay","value":"0.1"},{"name":"sender","value":"None"},{"name":"peer_list","value":"None"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"delete_all_filter_subscriptions","time":{"start":1714992346322,"stop":1714992346330,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"request_id","value":"{'requestId': '1'}"},{"name":"node","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"create_message","time":{"start":1714992346330,"stop":1714992346330,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"contentTopic","value":"'5'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_publish_without_filter_subscription","time":{"start":1714992346330,"stop":1714992346439,"duration":109},"status":"passed","steps":[{"name":"check_published_message_reaches_filter_peer","time":{"start":1714992346331,"stop":1714992346439,"duration":108},"status":"broken","statusMessage":"Exception: Error: 400 Client Error: Bad Request for url: http://127.0.0.1:10734/filter/v2/messages/5 with response: b'Not subscribed to topic: 5'\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/filter.py\", line 98, in check_published_message_reaches_filter_peer\n    get_messages_response = self.get_filter_messages(message[\"contentTopic\"], pubsub_topic=pubsub_topic, node=peer)\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/filter.py\", line 203, in get_filter_messages\n    return node.get_filter_messages(content_topic)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/waku_node.py\", line 273, in get_filter_messages\n    return self._api.get_filter_messages(content_topic, pubsub_topic)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 92, in get_filter_messages\n    get_messages_response = self.rest_call(\"get\", endpoint)\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 16, in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/base_client.py\", line 17, in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\n","steps":[{"name":"get_filter_messages","time":{"start":1714992346435,"stop":1714992346438,"duration":3},"status":"broken","statusMessage":"Exception: Error: 400 Client Error: Bad Request for url: http://127.0.0.1:10734/filter/v2/messages/5 with response: b'Not subscribed to topic: 5'\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/filter.py\", line 203, in get_filter_messages\n    return node.get_filter_messages(content_topic)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/waku_node.py\", line 273, in get_filter_messages\n    return self._api.get_filter_messages(content_topic, pubsub_topic)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 92, in get_filter_messages\n    get_messages_response = self.rest_call(\"get\", endpoint)\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 16, in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/base_client.py\", line 17, in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\n","steps":[],"attachments":[],"parameters":[{"name":"content_topic","value":"'5'"},{"name":"pubsub_topic","value":"'/waku/2/rs/0/1'"},{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f04d747a390>"}],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"message","value":"{'payload': 'RmlsdGVyIHdvcmtzISE=', 'contentTopic': '5', 'timestamp': 1714992346330268416}"},{"name":"pubsub_topic","value":"None"},{"name":"message_propagation_delay","value":"0.1"},{"name":"sender","value":"None"},{"name":"peer_list","value":"None"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"message","value":"{'payload': 'RmlsdGVyIHdvcmtzISE=', 'contentTopic': '5', 'timestamp': 1714992346330268416}"},{"name":"pubsub_topic","value":"None"},{"name":"peer_list","value":"None"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"create_message","time":{"start":1714992346439,"stop":1714992346439,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"contentTopic","value":"'56'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_publish_without_filter_subscription","time":{"start":1714992346439,"stop":1714992346548,"duration":109},"status":"passed","steps":[{"name":"check_published_message_reaches_filter_peer","time":{"start":1714992346440,"stop":1714992346548,"duration":108},"status":"broken","statusMessage":"Exception: Error: 400 Client Error: Bad Request for url: http://127.0.0.1:10734/filter/v2/messages/56 with response: b'Not subscribed to topic: 56'\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/filter.py\", line 98, in check_published_message_reaches_filter_peer\n    get_messages_response = self.get_filter_messages(message[\"contentTopic\"], pubsub_topic=pubsub_topic, node=peer)\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/filter.py\", line 203, in get_filter_messages\n    return node.get_filter_messages(content_topic)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/waku_node.py\", line 273, in get_filter_messages\n    return self._api.get_filter_messages(content_topic, pubsub_topic)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 92, in get_filter_messages\n    get_messages_response = self.rest_call(\"get\", endpoint)\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 16, in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/base_client.py\", line 17, in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\n","steps":[{"name":"get_filter_messages","time":{"start":1714992346544,"stop":1714992346547,"duration":3},"status":"broken","statusMessage":"Exception: Error: 400 Client Error: Bad Request for url: http://127.0.0.1:10734/filter/v2/messages/56 with response: b'Not subscribed to topic: 56'\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/filter.py\", line 203, in get_filter_messages\n    return node.get_filter_messages(content_topic)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/waku_node.py\", line 273, in get_filter_messages\n    return self._api.get_filter_messages(content_topic, pubsub_topic)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 92, in get_filter_messages\n    get_messages_response = self.rest_call(\"get\", endpoint)\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 16, in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/base_client.py\", line 17, in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\n","steps":[],"attachments":[],"parameters":[{"name":"content_topic","value":"'56'"},{"name":"pubsub_topic","value":"'/waku/2/rs/0/1'"},{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f04d747a390>"}],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"message","value":"{'payload': 'RmlsdGVyIHdvcmtzISE=', 'contentTopic': '56', 'timestamp': 1714992346439315456}"},{"name":"pubsub_topic","value":"None"},{"name":"message_propagation_delay","value":"0.1"},{"name":"sender","value":"None"},{"name":"peer_list","value":"None"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"message","value":"{'payload': 'RmlsdGVyIHdvcmtzISE=', 'contentTopic': '56', 'timestamp': 1714992346439315456}"},{"name":"pubsub_topic","value":"None"},{"name":"peer_list","value":"None"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"create_message","time":{"start":1714992346549,"stop":1714992346549,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"contentTopic","value":"'72'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_publish_without_filter_subscription","time":{"start":1714992346549,"stop":1714992346659,"duration":110},"status":"passed","steps":[{"name":"check_published_message_reaches_filter_peer","time":{"start":1714992346549,"stop":1714992346658,"duration":109},"status":"broken","statusMessage":"Exception: Error: 400 Client Error: Bad Request for url: http://127.0.0.1:10734/filter/v2/messages/72 with response: b'Not subscribed to topic: 72'\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/filter.py\", line 98, in check_published_message_reaches_filter_peer\n    get_messages_response = self.get_filter_messages(message[\"contentTopic\"], pubsub_topic=pubsub_topic, node=peer)\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/filter.py\", line 203, in get_filter_messages\n    return node.get_filter_messages(content_topic)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/waku_node.py\", line 273, in get_filter_messages\n    return self._api.get_filter_messages(content_topic, pubsub_topic)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 92, in get_filter_messages\n    get_messages_response = self.rest_call(\"get\", endpoint)\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 16, in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/base_client.py\", line 17, in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\n","steps":[{"name":"get_filter_messages","time":{"start":1714992346653,"stop":1714992346657,"duration":4},"status":"broken","statusMessage":"Exception: Error: 400 Client Error: Bad Request for url: http://127.0.0.1:10734/filter/v2/messages/72 with response: b'Not subscribed to topic: 72'\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.12.3/x64/lib/python3.12/site-packages/allure_commons/_allure.py\", line 192, in impl\n    return func(*a, **kw)\n           ^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/steps/filter.py\", line 203, in get_filter_messages\n    return node.get_filter_messages(content_topic)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/waku_node.py\", line 273, in get_filter_messages\n    return self._api.get_filter_messages(content_topic, pubsub_topic)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 92, in get_filter_messages\n    get_messages_response = self.rest_call(\"get\", endpoint)\n                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/rest.py\", line 16, in rest_call\n    return self.make_request(method, url, headers=headers, data=payload)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/runner/work/waku-interop-tests/waku-interop-tests/src/node/api_clients/base_client.py\", line 17, in make_request\n    raise Exception(f\"Error: {http_err} with response: {response.content}\")\n","steps":[],"attachments":[],"parameters":[{"name":"content_topic","value":"'72'"},{"name":"pubsub_topic","value":"'/waku/2/rs/0/1'"},{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f04d747a390>"}],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"message","value":"{'payload': 'RmlsdGVyIHdvcmtzISE=', 'contentTopic': '72', 'timestamp': 1714992346548666368}"},{"name":"pubsub_topic","value":"None"},{"name":"message_propagation_delay","value":"0.1"},{"name":"sender","value":"None"},{"name":"peer_list","value":"None"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"message","value":"{'payload': 'RmlsdGVyIHdvcmtzISE=', 'contentTopic': '72', 'timestamp': 1714992346548666368}"},{"name":"pubsub_topic","value":"None"},{"name":"peer_list","value":"None"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"d54433ece8ea2bca","name":"log","source":"d54433ece8ea2bca.txt","type":"text/plain","size":17843}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":34,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"test_setup::0","time":{"start":1714992346661,"stop":1714992346663,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes::0","time":{"start":1714992346664,"stop":1714992350234,"duration":3570},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail::0","time":{"start":1714992350235,"stop":1714992350235,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"set_allure_env_variables::0","time":{"start":1714993032894,"stop":1714993032894,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"@pytest.mark.usefixtures('setup_main_relay_node', 'setup_main_filter_node')"},{"name":"parentSuite","value":"tests.filter"},{"name":"suite","value":"test_unsubscribe_all"},{"name":"subSuite","value":"TestFilterUnSubscribeAll"},{"name":"host","value":"fv-az1530-39"},{"name":"thread","value":"2135-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.filter.test_unsubscribe_all"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":3,"skipped":0,"passed":39,"unknown":0,"total":42},"items":[{"uid":"6f0d43224b78a024","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/5//#testresult/6f0d43224b78a024","status":"passed","time":{"start":1714981463502,"stop":1714981464216,"duration":714}},{"uid":"57c1c7df3e3569b8","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/4//#testresult/57c1c7df3e3569b8","status":"passed","time":{"start":1714979721825,"stop":1714979722526,"duration":701}},{"uid":"22a225a7fbc1c6c7","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/4//#testresult/22a225a7fbc1c6c7","status":"passed","time":{"start":1714977233332,"stop":1714977234033,"duration":701}},{"uid":"caaa9798405ea144","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/2//#testresult/caaa9798405ea144","status":"passed","time":{"start":1714975709949,"stop":1714975710656,"duration":707}},{"uid":"50b902e32cee4e06","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/1//#testresult/50b902e32cee4e06","status":"passed","time":{"start":1714974382470,"stop":1714974383174,"duration":704}},{"uid":"b00c22b1975460b7","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/177//#testresult/b00c22b1975460b7","status":"passed","time":{"start":1714968860670,"stop":1714968861372,"duration":702}},{"uid":"6714a491ac79bccf","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/176//#testresult/6714a491ac79bccf","status":"passed","time":{"start":1714882447652,"stop":1714882448348,"duration":696}},{"uid":"218fb23c5c981d9f","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/175//#testresult/218fb23c5c981d9f","status":"passed","time":{"start":1714796056342,"stop":1714796057042,"duration":700}},{"uid":"5317489c11a071cc","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/174//#testresult/5317489c11a071cc","status":"passed","time":{"start":1714709720565,"stop":1714709721281,"duration":716}},{"uid":"67a53fa4da8711cd","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/173//#testresult/67a53fa4da8711cd","status":"passed","time":{"start":1714623236908,"stop":1714623237621,"duration":713}},{"uid":"a209dc2ed5e6f56c","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/172//#testresult/a209dc2ed5e6f56c","status":"passed","time":{"start":1714536808749,"stop":1714536809461,"duration":712}},{"uid":"a3e64bfd41f9e624","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/171//#testresult/a3e64bfd41f9e624","status":"passed","time":{"start":1714450493096,"stop":1714450493813,"duration":717}},{"uid":"fdf7fdabaa2bd80c","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/170//#testresult/fdf7fdabaa2bd80c","status":"passed","time":{"start":1714377114760,"stop":1714377115453,"duration":693}},{"uid":"e447917199088301","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/169//#testresult/e447917199088301","status":"broken","statusDetails":"requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=20314): Max retries exceeded with url: /debug/v1/info (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f83105a7bc0>: Failed to establish a new connection: [Errno 111] Connection refused'))","time":{"start":1714364934446,"stop":1714364934446,"duration":0}},{"uid":"895e6f3a95b93fd7","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/168//#testresult/895e6f3a95b93fd7","status":"broken","statusDetails":"requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=19707): Max retries exceeded with url: /debug/v1/info (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7fd3b235ef30>: Failed to establish a new connection: [Errno 111] Connection refused'))","time":{"start":1714278496621,"stop":1714278496621,"duration":0}},{"uid":"abe474639656fff","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/167//#testresult/abe474639656fff","status":"broken","statusDetails":"requests.exceptions.ConnectionError: HTTPConnectionPool(host='127.0.0.1', port=22762): Max retries exceeded with url: /debug/v1/info (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x7f72501aaea0>: Failed to establish a new connection: [Errno 111] Connection refused'))","time":{"start":1714192087498,"stop":1714192087498,"duration":0}},{"uid":"8326d6929d941101","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/166//#testresult/8326d6929d941101","status":"passed","time":{"start":1714104800182,"stop":1714104800907,"duration":725}},{"uid":"b556f6ae0210cbd8","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/165//#testresult/b556f6ae0210cbd8","status":"passed","time":{"start":1714018500961,"stop":1714018501659,"duration":698}},{"uid":"7631de693535e2c3","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/164//#testresult/7631de693535e2c3","status":"passed","time":{"start":1713932000318,"stop":1713932001036,"duration":718}},{"uid":"7b7d7e449332b117","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/163//#testresult/7b7d7e449332b117","status":"passed","time":{"start":1713845613498,"stop":1713845614201,"duration":703}}]},"tags":["@pytest.mark.usefixtures('setup_main_relay_node', 'setup_main_filter_node')"]},"source":"bc299f4b5a66447a.json","parameterValues":[]}