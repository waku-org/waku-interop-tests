[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2024-11-18_10-15-32__5ab666d8-31ed-4b63-a9b9-4c95e26bede2
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-11-18_10-15-32__5ab666d8-31ed-4b63-a9b9-4c95e26bede2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.57.115
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['6149', '6150', '6151', '6152', '6153']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 6149:6149 -p 6150:6150 -p 6151:6151 -p 6152:6152 -p 6153:6153 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=6151 --rest-port=6149 --tcp-port=6150 --discv5-udp-port=6152 --rest-address=0.0.0.0 --nat=extip:172.18.57.115 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=af082fac9c3e40312477baccf1eeef9e0e395613a5bee94bffbee03e3f20bc41 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=6153 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.57.115 waku 58956ed73c0f29360b0ac299efa22c63f3145c4d4e17915b6939f67b7e575d7c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 58956ed73c0f. Setting up logs at ./log/docker/node1_2024-11-18_10-15-32__5ab666d8-31ed-4b63-a9b9-4c95e26bede2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 6149
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 44c63613f35c. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6149/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6149/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.57.115/tcp/6150/p2p/16Uiu2HAmFazibXHDepYrVAU5YkvexQ5EeP5z2XjrRAH7k8Badj4T","/ip4/172.18.57.115/tcp/6151/ws/p2p/16Uiu2HAmFazibXHDepYrVAU5YkvexQ5EeP5z2XjrRAH7k8Badj4T"],"enrUri":"enr:-L24QA0ZNaURhEWPf8mUhtfKzNF5J_DClSJ42bqCmVBUTfSSZuTb7HOluVin5tu_eLrp4o9o4RSqVkIwHZ7W3XLHy8YCgmlkgnY0gmlwhKwSOXOKbXVsdGlhZGRyc5YACASsEjlzBhgGAAoErBI5cwYYB90DgnJzhQADAQAAiXNlY3AyNTZrMaEDK40nJLORFRyq2gVqQpYkCo7XLmK3UxvhgIELoP4QpuCDdGNwghgGg3VkcIIYCIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-11-18_10-15-32__5ab666d8-31ed-4b63-a9b9-4c95e26bede2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.123.119
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['7670', '7671', '7672', '7673', '7674']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 7670:7670 -p 7671:7671 -p 7672:7672 -p 7673:7673 -p 7674:7674 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=7672 --rest-port=7670 --tcp-port=7671 --discv5-udp-port=7673 --rest-address=0.0.0.0 --nat=extip:172.18.123.119 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f22b365abd1701b2ab717fde1facfee66f240ecc599a120cf80e51b8679c1968 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=7674 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QA0ZNaURhEWPf8mUhtfKzNF5J_DClSJ42bqCmVBUTfSSZuTb7HOluVin5tu_eLrp4o9o4RSqVkIwHZ7W3XLHy8YCgmlkgnY0gmlwhKwSOXOKbXVsdGlhZGRyc5YACASsEjlzBhgGAAoErBI5cwYYB90DgnJzhQADAQAAiXNlY3AyNTZrMaEDK40nJLORFRyq2gVqQpYkCo7XLmK3UxvhgIELoP4QpuCDdGNwghgGg3VkcIIYCIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.123.119 waku 145419c702413fb2cdbc7b87e41a552988df7a321ed08f85eac84bc8c59f1e2b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 145419c70241. Setting up logs at ./log/docker/node2_2024-11-18_10-15-32__5ab666d8-31ed-4b63-a9b9-4c95e26bede2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 7670
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7670/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7670/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.123.119/tcp/7671/p2p/16Uiu2HAmR8DcVwDUnyTr5U9wB5uM45K42FhtGiYCpeGW8sUVmJWu","/ip4/172.18.123.119/tcp/7672/ws/p2p/16Uiu2HAmR8DcVwDUnyTr5U9wB5uM45K42FhtGiYCpeGW8sUVmJWu"],"enrUri":"enr:-L24QGXrD9xC7XsBU8ow2bbUQ4ReDUYigZYVxLYh1hfF1bnUAdA84WS71eSA4U42N4U6HWzckdjWuRtnS4Rv82u3ck4CgmlkgnY0gmlwhKwSe3eKbXVsdGlhZGRyc5YACASsEnt3Bh33AAoErBJ7dwYd-N0DgnJzhQADAQAAiXNlY3AyNTZrMaEDuUXrrd6VzlsOGzIJPWYUMPMcH0CWlGgdVj5SGsyI26qDdGNwgh33g3VkcIId-YV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7670/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.57.115/tcp/6150/p2p/16Uiu2HAmFazibXHDepYrVAU5YkvexQ5EeP5z2XjrRAH7k8Badj4T"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-11-18_10-15-32__5ab666d8-31ed-4b63-a9b9-4c95e26bede2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.164.64
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['38529', '38530', '38531', '38532', '38533']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 38529:38529 -p 38530:38530 -p 38531:38531 -p 38532:38532 -p 38533:38533 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=38531 --rest-port=38529 --tcp-port=38530 --discv5-udp-port=38532 --rest-address=0.0.0.0 --nat=extip:172.18.164.64 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cd6da7ac4fa5147f2fffebd572fbe2d0ed7e9d568eefcb410fb97b2300cd3dcd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=38533 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QA0ZNaURhEWPf8mUhtfKzNF5J_DClSJ42bqCmVBUTfSSZuTb7HOluVin5tu_eLrp4o9o4RSqVkIwHZ7W3XLHy8YCgmlkgnY0gmlwhKwSOXOKbXVsdGlhZGRyc5YACASsEjlzBhgGAAoErBI5cwYYB90DgnJzhQADAQAAiXNlY3AyNTZrMaEDK40nJLORFRyq2gVqQpYkCo7XLmK3UxvhgIELoP4QpuCDdGNwghgGg3VkcIIYCIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.164.64 waku 2fe4f1d8381d0e75fab2099ac9bdde475ba45ac2487dcaa845abdd10a7bb9cd9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 2fe4f1d8381d. Setting up logs at ./log/docker/node3_2024-11-18_10-15-32__5ab666d8-31ed-4b63-a9b9-4c95e26bede2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 38529
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38529/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38529/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.164.64/tcp/38530/p2p/16Uiu2HAmJuvEEBhpJdUjTfu6Gk4Mm2rE3Hp4jMcbXCV4Hm64Rz7z","/ip4/172.18.164.64/tcp/38531/ws/p2p/16Uiu2HAmJuvEEBhpJdUjTfu6Gk4Mm2rE3Hp4jMcbXCV4Hm64Rz7z"],"enrUri":"enr:-L24QD38HYMh1CYwFGare5dFQQGfnACb1gP6Ku1e-jC8aNjwANX8QMrcb3DlMy55ZNipiaAq3TQ40JQAQXfneuArMTwCgmlkgnY0gmlwhKwSpECKbXVsdGlhZGRyc5YACASsEqRABpaCAAoErBKkQAaWg90DgnJzhQADAQAAiXNlY3AyNTZrMaEDXPksV57Q5InXFwC5ddeXA_9vRn8vWygJvGO8Jxidp6mDdGNwgpaCg3VkcIKWhIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38529/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.57.115/tcp/6150/p2p/16Uiu2HAmFazibXHDepYrVAU5YkvexQ5EeP5z2XjrRAH7k8Badj4T"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-11-18_10-15-32__5ab666d8-31ed-4b63-a9b9-4c95e26bede2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.228.23
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['31248', '31249', '31250', '31251', '31252']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 31248:31248 -p 31249:31249 -p 31250:31250 -p 31251:31251 -p 31252:31252 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=31250 --rest-port=31248 --tcp-port=31249 --discv5-udp-port=31251 --rest-address=0.0.0.0 --nat=extip:172.18.228.23 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d61b6ce9e2b7d9cac0bbec6ba72b8007e8db8fbb4befcffbcdd20416cab2be96 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=31252 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QA0ZNaURhEWPf8mUhtfKzNF5J_DClSJ42bqCmVBUTfSSZuTb7HOluVin5tu_eLrp4o9o4RSqVkIwHZ7W3XLHy8YCgmlkgnY0gmlwhKwSOXOKbXVsdGlhZGRyc5YACASsEjlzBhgGAAoErBI5cwYYB90DgnJzhQADAQAAiXNlY3AyNTZrMaEDK40nJLORFRyq2gVqQpYkCo7XLmK3UxvhgIELoP4QpuCDdGNwghgGg3VkcIIYCIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.228.23 waku bb719e3095324f7defa2caa5258f87ea468064e3a1be3565bf0badebfd79d7f0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID bb719e309532. Setting up logs at ./log/docker/node4_2024-11-18_10-15-32__5ab666d8-31ed-4b63-a9b9-4c95e26bede2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 31248
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31248/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31248/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.228.23/tcp/31249/p2p/16Uiu2HAmUkdWG2FfzFaKyF3CFw8qrd1SMN5GHnDSxuR1xmjdR1ub","/ip4/172.18.228.23/tcp/31250/ws/p2p/16Uiu2HAmUkdWG2FfzFaKyF3CFw8qrd1SMN5GHnDSxuR1xmjdR1ub"],"enrUri":"enr:-L24QKfXzUX8DjKUp75lfgo8LO6YfHJoYepCP16zBKJX-Ze2G6rb9Ppky4PI033VnfgjTVFAnNqsNJM-yicg0D6eB6UCgmlkgnY0gmlwhKwS5BeKbXVsdGlhZGRyc5YACASsEuQXBnoRAAoErBLkFwZ6Et0DgnJzhQADAQAAiXNlY3AyNTZrMaED7yzn4G2iTJpPz7LUKPlh3ru_m8-L4wZEjKy3Z7VkfqqDdGNwgnoRg3VkcIJ6E4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31248/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.57.115/tcp/6150/p2p/16Uiu2HAmFazibXHDepYrVAU5YkvexQ5EeP5z2XjrRAH7k8Badj4T"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-11-18_10-15-32__5ab666d8-31ed-4b63-a9b9-4c95e26bede2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.52.249
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['47564', '47565', '47566', '47567', '47568']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:436 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:165 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:167 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 47564:47564 -p 47565:47565 -p 47566:47566 -p 47567:47567 -p 47568:47568 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=47566 --rest-port=47564 --tcp-port=47565 --discv5-udp-port=47567 --rest-address=0.0.0.0 --nat=extip:172.18.52.249 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1a03f94eb1075aded6ad8c7acc488cc21d5d19a4ca42d38e3ce3a74fc95a80fd --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=47568 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QA0ZNaURhEWPf8mUhtfKzNF5J_DClSJ42bqCmVBUTfSSZuTb7HOluVin5tu_eLrp4o9o4RSqVkIwHZ7W3XLHy8YCgmlkgnY0gmlwhKwSOXOKbXVsdGlhZGRyc5YACASsEjlzBhgGAAoErBI5cwYYB90DgnJzhQADAQAAiXNlY3AyNTZrMaEDK40nJLORFRyq2gVqQpYkCo7XLmK3UxvhgIELoP4QpuCDdGNwghgGg3VkcIIYCIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.52.249 waku c90bd3fea1bad393fa2e862ecd33ccf252039936bea0f1adb8ed9995c041d384
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID c90bd3fea1ba. Setting up logs at ./log/docker/node5_2024-11-18_10-15-32__5ab666d8-31ed-4b63-a9b9-4c95e26bede2__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:179 Started container from image wakuorg/nwaku:latest. REST: 47564
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47564/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:279 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47564/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.52.249/tcp/47565/p2p/16Uiu2HAmHHcTpynriBfbv8EGu4Gki1LfeWA9mwrqEWLWLxJKMCEj","/ip4/172.18.52.249/tcp/47566/ws/p2p/16Uiu2HAmHHcTpynriBfbv8EGu4Gki1LfeWA9mwrqEWLWLxJKMCEj"],"enrUri":"enr:-L24QETYLF7VPPcmhh4fYXY_UGQBMbKzW8xOPlCmuhF_G9C8KfGgOel_Qm7TrygLw2BLWBONl57tZzS2mu8iLzRq5zsCgmlkgnY0gmlwhKwSNPmKbXVsdGlhZGRyc5YACASsEjT5BrnNAAoErBI0-Qa5zt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDRNB9V-pC2PT1iVVeUYy3-XMFIteypt0M7szhxSxtv8iDdGNwgrnNg3VkcIK5z4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:284 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47564/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.57.115/tcp/6150/p2p/16Uiu2HAmFazibXHDepYrVAU5YkvexQ5EeP5z2XjrRAH7k8Badj4T"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6149/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:7670/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38529/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31248/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47564/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:6149/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6149/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731924941533234432,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7670/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731924941533234432,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38529/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731924941533234432,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31248/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731924941533234432,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731924941533234432,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:6149/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731924941679812864,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:7670/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731924941679812864,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38529/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731924941679812864,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31248/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731924941679812864,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47564/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1731924941679812864,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 58956ed73c0f
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 145419c70241
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 58956ed73c0f. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id 2fe4f1d8381d
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 145419c70241. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id bb719e309532
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 2fe4f1d8381d. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:223 Stopping container with id c90bd3fea1ba
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container bb719e309532. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:230 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.