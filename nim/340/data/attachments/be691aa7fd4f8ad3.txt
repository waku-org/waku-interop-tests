[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_multiple_lightpush_nodes with id: 2024-08-31_04-18-53__8dc5d4a3-2a5f-44f8-ae1c-d9a3234a26fd
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-08-31_04-18-53__8dc5d4a3-2a5f-44f8-ae1c-d9a3234a26fd__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.59.110
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['51462', '51463', '51464', '51465', '51466']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 51462:51462 -p 51463:51463 -p 51464:51464 -p 51465:51465 -p 51466:51466 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=51464 --rest-port=51462 --tcp-port=51463 --discv5-udp-port=51465 --rest-address=0.0.0.0 --nat=extip:172.18.59.110 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=26ab04fff7ce3ad50cda27fdb26187ab77d613daab43ebec1dfb95ee207bbf9f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=51466 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.59.110 waku 1f7c216078bdebc70ba237d4d0cfa6b35310def6413dd86f15d9c981bcb0c626
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 1f7c216078bd. Setting up logs at ./log/docker/receiving_node1_2024-08-31_04-18-53__8dc5d4a3-2a5f-44f8-ae1c-d9a3234a26fd__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 51462
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51462/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51462/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.59.110/tcp/51463/p2p/16Uiu2HAmNSuNyZFzrEunCH4i5HRmERfsgsqfdonQSjFJkhkwAE8w","/ip4/172.18.59.110/tcp/51464/ws/p2p/16Uiu2HAmNSuNyZFzrEunCH4i5HRmERfsgsqfdonQSjFJkhkwAE8w"],"enrUri":"enr:-LO4QIMcMCK-daE6g_6dKLWE48PDnVZlfnrgv6NMpLMH4ykkNsZIwtnkxF0w1h0i-uQp2WmTc1EUHpOtCC5znIm8t0QBgmlkgnY0gmlwhKwSO26KbXVsdGlhZGRyc4wACgSsEjtuBskI3QOCcnOFAAMBAACJc2VjcDI1NmsxoQORfEdmYIKoUv-Z-kEVKI50O_Ly9SGP4VZbHfubcLbVyIN0Y3CCyQeDdWRwgskJhXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-08-31_04-18-53__8dc5d4a3-2a5f-44f8-ae1c-d9a3234a26fd__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.209.150
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['37370', '37371', '37372', '37373', '37374']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 37370:37370 -p 37371:37371 -p 37372:37372 -p 37373:37373 -p 37374:37374 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=37372 --rest-port=37370 --tcp-port=37371 --discv5-udp-port=37373 --rest-address=0.0.0.0 --nat=extip:172.18.209.150 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=df3bd2ec99d1edd5b3b0fd07bd65e4e3f1ee32f21c33dc4bf1f3fadb8fcbcfaa --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=37374 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.209.150 waku 43ebebc9a9b72f25d6489656d7f45e6407550f6f444ae3fac333c13dc05a40fa
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 43ebebc9a9b7. Setting up logs at ./log/docker/receiving_node2_2024-08-31_04-18-53__8dc5d4a3-2a5f-44f8-ae1c-d9a3234a26fd__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 37370
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37370/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37370/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.209.150/tcp/37371/p2p/16Uiu2HAm5bgX4fDxGQ8jPCpwvqKp2bS3wFMXW2u4TgjhBoK2bCj2","/ip4/172.18.209.150/tcp/37372/ws/p2p/16Uiu2HAm5bgX4fDxGQ8jPCpwvqKp2bS3wFMXW2u4TgjhBoK2bCj2"],"enrUri":"enr:-LO4QAV6EUKE94_2xPX3e85Z4R6S8rxURMFmYwlUVYNEaMyXYx3t2HfIBIsd0Q0DtZv2mPqWrEiCkDDk1xdxPWIN3UQBgmlkgnY0gmlwhKwS0ZaKbXVsdGlhZGRyc4wACgSsEtGWBpH83QOCcnOFAAMBAACJc2VjcDI1NmsxoQKXJUl2q1s8XPW7jhpCaMKqon0-9rYc7irZ-eoP-GF2MYN0Y3CCkfuDdWRwgpH9hXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:37370/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.59.110/tcp/51463/p2p/16Uiu2HAmNSuNyZFzrEunCH4i5HRmERfsgsqfdonQSjFJkhkwAE8w"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-08-31_04-18-53__8dc5d4a3-2a5f-44f8-ae1c-d9a3234a26fd__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.114.114
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['9842', '9843', '9844', '9845', '9846']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 9842:9842 -p 9843:9843 -p 9844:9844 -p 9845:9845 -p 9846:9846 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=9844 --rest-port=9842 --tcp-port=9843 --discv5-udp-port=9845 --rest-address=0.0.0.0 --nat=extip:172.18.114.114 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=941e4e5dc2b45bdb20bebc4a0b8b8757d33c77d8bb938dbb4dcf11fbcac95c4f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=9846 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QIMcMCK-daE6g_6dKLWE48PDnVZlfnrgv6NMpLMH4ykkNsZIwtnkxF0w1h0i-uQp2WmTc1EUHpOtCC5znIm8t0QBgmlkgnY0gmlwhKwSO26KbXVsdGlhZGRyc4wACgSsEjtuBskI3QOCcnOFAAMBAACJc2VjcDI1NmsxoQORfEdmYIKoUv-Z-kEVKI50O_Ly9SGP4VZbHfubcLbVyIN0Y3CCyQeDdWRwgskJhXdha3UyCQ --lightpushnode=/ip4/172.18.59.110/tcp/51463/p2p/16Uiu2HAmNSuNyZFzrEunCH4i5HRmERfsgsqfdonQSjFJkhkwAE8w --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.114.114 waku 544a845949f1ad9bdf910df666c8199406cc3eeefca0097f190dc040282a6b8b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 544a845949f1. Setting up logs at ./log/docker/lightpush_node1_2024-08-31_04-18-53__8dc5d4a3-2a5f-44f8-ae1c-d9a3234a26fd__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 9842
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9842/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9842/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.114.114/tcp/9843/p2p/16Uiu2HAm7pVcCrkNYdzvvwPnbKHSRgHniwttXSMs6viS82KuXqkM","/ip4/172.18.114.114/tcp/9844/ws/p2p/16Uiu2HAm7pVcCrkNYdzvvwPnbKHSRgHniwttXSMs6viS82KuXqkM"],"enrUri":"enr:-LO4QIHktPnSQGTslv4K5vwTcEV-fbIBroXTzNvye48-0T8qMK-OYYg5Y7PfurizlmlICXzEhgeyAw8gP17uMWb4-kkBgmlkgnY0gmlwhKwScnKKbXVsdGlhZGRyc4wACgSsEnJyBiZ03QOCcnOFAAMBAACJc2VjcDI1NmsxoQK4JN-zNLDLTBZT53FUXpGT4GxzK3j-fyPYzVOpmNdsgoN0Y3CCJnODdWRwgiZ1hXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9842/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.59.110/tcp/51463/p2p/16Uiu2HAmNSuNyZFzrEunCH4i5HRmERfsgsqfdonQSjFJkhkwAE8w"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9842/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.209.150/tcp/37371/p2p/16Uiu2HAm5bgX4fDxGQ8jPCpwvqKp2bS3wFMXW2u4TgjhBoK2bCj2"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node2_2024-08-31_04-18-53__8dc5d4a3-2a5f-44f8-ae1c-d9a3234a26fd__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.12.150
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['47387', '47388', '47389', '47390', '47391']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 47387:47387 -p 47388:47388 -p 47389:47389 -p 47390:47390 -p 47391:47391 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=47389 --rest-port=47387 --tcp-port=47388 --discv5-udp-port=47390 --rest-address=0.0.0.0 --nat=extip:172.18.12.150 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=febd0ea08f34b7fc3ef6dda7cb161faec4fceaee3d9476c1232acc6264a7dd50 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=47391 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QIMcMCK-daE6g_6dKLWE48PDnVZlfnrgv6NMpLMH4ykkNsZIwtnkxF0w1h0i-uQp2WmTc1EUHpOtCC5znIm8t0QBgmlkgnY0gmlwhKwSO26KbXVsdGlhZGRyc4wACgSsEjtuBskI3QOCcnOFAAMBAACJc2VjcDI1NmsxoQORfEdmYIKoUv-Z-kEVKI50O_Ly9SGP4VZbHfubcLbVyIN0Y3CCyQeDdWRwgskJhXdha3UyCQ --lightpushnode=/ip4/172.18.59.110/tcp/51463/p2p/16Uiu2HAmNSuNyZFzrEunCH4i5HRmERfsgsqfdonQSjFJkhkwAE8w --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.12.150 waku f1095a7edfe94376576aa2b8b753349fb9b4c27738f9f1e997efd7e3c6e6753b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID f1095a7edfe9. Setting up logs at ./log/docker/lightpush_node2_2024-08-31_04-18-53__8dc5d4a3-2a5f-44f8-ae1c-d9a3234a26fd__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 47387
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47387/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47387/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.12.150/tcp/47388/p2p/16Uiu2HAm2ggc5SutYuSAc6dDGJp9XMrB7841Fs5zXPed1vJAFQuW","/ip4/172.18.12.150/tcp/47389/ws/p2p/16Uiu2HAm2ggc5SutYuSAc6dDGJp9XMrB7841Fs5zXPed1vJAFQuW"],"enrUri":"enr:-LO4QGjjGjt_DUcvhcs8rIH0SnS_x4JjqrmVD8ib4TNRcq9GFFp0i5ryyZ9_VSrNFyDQiBgjdOqWKemL_-iuJ2FK7uQBgmlkgnY0gmlwhKwSDJaKbXVsdGlhZGRyc4wACgSsEgyWBrkd3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJr2jpcaInkO_JlFK5KvtdI4XtLcdsdHH8M9Y4jxV8WwYN0Y3CCuRyDdWRwgrkehXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47387/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.59.110/tcp/51463/p2p/16Uiu2HAmNSuNyZFzrEunCH4i5HRmERfsgsqfdonQSjFJkhkwAE8w"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47387/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.209.150/tcp/37371/p2p/16Uiu2HAm5bgX4fDxGQ8jPCpwvqKp2bS3wFMXW2u4TgjhBoK2bCj2"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node3_2024-08-31_04-18-53__8dc5d4a3-2a5f-44f8-ae1c-d9a3234a26fd__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.50.120
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['15447', '15448', '15449', '15450', '15451']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 15447:15447 -p 15448:15448 -p 15449:15449 -p 15450:15450 -p 15451:15451 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=15449 --rest-port=15447 --tcp-port=15448 --discv5-udp-port=15450 --rest-address=0.0.0.0 --nat=extip:172.18.50.120 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=54e9b35eec3e8e93b96a81f1c6e4c160cc5d5f8ca24150af4b376f2667ef5cb8 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=15451 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QIMcMCK-daE6g_6dKLWE48PDnVZlfnrgv6NMpLMH4ykkNsZIwtnkxF0w1h0i-uQp2WmTc1EUHpOtCC5znIm8t0QBgmlkgnY0gmlwhKwSO26KbXVsdGlhZGRyc4wACgSsEjtuBskI3QOCcnOFAAMBAACJc2VjcDI1NmsxoQORfEdmYIKoUv-Z-kEVKI50O_Ly9SGP4VZbHfubcLbVyIN0Y3CCyQeDdWRwgskJhXdha3UyCQ --lightpushnode=/ip4/172.18.59.110/tcp/51463/p2p/16Uiu2HAmNSuNyZFzrEunCH4i5HRmERfsgsqfdonQSjFJkhkwAE8w --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.50.120 waku 7e368be051785d6e684b1222f1afa5d08015f55727579eb55a463ad5db454968
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 7e368be05178. Setting up logs at ./log/docker/lightpush_node3_2024-08-31_04-18-53__8dc5d4a3-2a5f-44f8-ae1c-d9a3234a26fd__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 15447
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15447/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15447/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.50.120/tcp/15448/p2p/16Uiu2HAmV8yArebXbkuvJSFs3kQjwRapSqaxh4uUeJdtPkh2f3Hx","/ip4/172.18.50.120/tcp/15449/ws/p2p/16Uiu2HAmV8yArebXbkuvJSFs3kQjwRapSqaxh4uUeJdtPkh2f3Hx"],"enrUri":"enr:-LO4QN2HiRO1fqqx-UwGn0aXYOcwQBDL4kWCIZLMmVzEsAd8cuHVfEWBHr8RLSu8XKguwhYyVWXpBEDgLxW2GsoRBKsBgmlkgnY0gmlwhKwSMniKbXVsdGlhZGRyc4wACgSsEjJ4BjxZ3QOCcnOFAAMBAACJc2VjcDI1NmsxoQP05etciyZ1KZxNX29iMYY9q_L2ciaoWrkrZRERPbI434N0Y3CCPFiDdWRwgjxahXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15447/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.59.110/tcp/51463/p2p/16Uiu2HAmNSuNyZFzrEunCH4i5HRmERfsgsqfdonQSjFJkhkwAE8w"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15447/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.209.150/tcp/37371/p2p/16Uiu2HAm5bgX4fDxGQ8jPCpwvqKp2bS3wFMXW2u4TgjhBoK2bCj2"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node4_2024-08-31_04-18-53__8dc5d4a3-2a5f-44f8-ae1c-d9a3234a26fd__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.125.74
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['33430', '33431', '33432', '33433', '33434']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 33430:33430 -p 33431:33431 -p 33432:33432 -p 33433:33433 -p 33434:33434 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=33432 --rest-port=33430 --tcp-port=33431 --discv5-udp-port=33433 --rest-address=0.0.0.0 --nat=extip:172.18.125.74 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9c28f9cad48872712fe3abfb9cf5df1ccfbb43f9e5b3916e7e5a3fe4aeded47a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=33434 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QIMcMCK-daE6g_6dKLWE48PDnVZlfnrgv6NMpLMH4ykkNsZIwtnkxF0w1h0i-uQp2WmTc1EUHpOtCC5znIm8t0QBgmlkgnY0gmlwhKwSO26KbXVsdGlhZGRyc4wACgSsEjtuBskI3QOCcnOFAAMBAACJc2VjcDI1NmsxoQORfEdmYIKoUv-Z-kEVKI50O_Ly9SGP4VZbHfubcLbVyIN0Y3CCyQeDdWRwgskJhXdha3UyCQ --lightpushnode=/ip4/172.18.59.110/tcp/51463/p2p/16Uiu2HAmNSuNyZFzrEunCH4i5HRmERfsgsqfdonQSjFJkhkwAE8w --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.125.74 waku 5115350fffac082d96678734888c17b15c59c98f22c0556a334da5d76de98e97
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 5115350fffac. Setting up logs at ./log/docker/lightpush_node4_2024-08-31_04-18-53__8dc5d4a3-2a5f-44f8-ae1c-d9a3234a26fd__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 33430
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33430/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33430/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.125.74/tcp/33431/p2p/16Uiu2HAm6CtqJhzKiLTwN8tUXqJbE2dPJaQ1KZv4m1ZxGiDSbg1p","/ip4/172.18.125.74/tcp/33432/ws/p2p/16Uiu2HAm6CtqJhzKiLTwN8tUXqJbE2dPJaQ1KZv4m1ZxGiDSbg1p"],"enrUri":"enr:-LO4QGEHDKQS-r_eaBWCfIbdA5XYbRvCxwLN3LjmSvKDqn-rbC7mC88ADnuXCjli7SO9X-LKssJaml8WyBs98ovrM20BgmlkgnY0gmlwhKwSfUqKbXVsdGlhZGRyc4wACgSsEn1KBoKY3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKgKooTVriN5gg3oUGhJ3RszJ4bkZjJqsgacDJs0PnIy4N0Y3CCgpeDdWRwgoKZhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33430/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.59.110/tcp/51463/p2p/16Uiu2HAmNSuNyZFzrEunCH4i5HRmERfsgsqfdonQSjFJkhkwAE8w"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33430/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.209.150/tcp/37371/p2p/16Uiu2HAm5bgX4fDxGQ8jPCpwvqKp2bS3wFMXW2u4TgjhBoK2bCj2"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51462/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:37370/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9842/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1725077943849871616}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51462/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725077943849871616,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37370/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725077943849871616,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47387/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1725077943968303872}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51462/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725077943968303872,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37370/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725077943968303872,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15447/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1725077944085879808}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51462/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725077944085879808,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37370/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725077944085879808,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33430/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1725077944207262464}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51462/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725077944207262464,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37370/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725077944207262464,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 1f7c216078bd
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 43ebebc9a9b7
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 544a845949f1
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id f1095a7edfe9
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 7e368be05178
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 5115350fffac
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.