[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_store_without_pubsub_topic_and_content_topic with id: 2024-12-22_04-26-50__32f2e9dd-5266-4c43-b7bc-d33e64aa041a
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-12-22_04-26-50__32f2e9dd-5266-4c43-b7bc-d33e64aa041a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.91.155
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['56636', '56637', '56638', '56639', '56640']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 56636:56636 -p 56637:56637 -p 56638:56638 -p 56639:56639 -p 56640:56640 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=56638 --rest-port=56636 --tcp-port=56637 --discv5-udp-port=56639 --rest-address=0.0.0.0 --nat=extip:172.18.91.155 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=89ecfc8e2f3bb5f4abfc7d6cc082df0aa4dfeaa0c01d753863d655ca49df4ef7 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=56640 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.91.155 waku 9b788415211f36cbdc77aa36c25cec2c39627c66f0f04a3033f57481d0b11ad8
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 9b788415211f. Setting up logs at ./log/docker/publishing_node1_2024-12-22_04-26-50__32f2e9dd-5266-4c43-b7bc-d33e64aa041a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 56636
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 2e51cb5e9dca. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56636/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56636/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.91.155/tcp/56637/p2p/16Uiu2HAmDZdEVQ5ZhpDPGLxQUx1goFcjyuisXeFGvXveeU8y4C5M","/ip4/172.18.91.155/tcp/56638/ws/p2p/16Uiu2HAmDZdEVQ5ZhpDPGLxQUx1goFcjyuisXeFGvXveeU8y4C5M"],"enrUri":"enr:-L24QKKtS1XD5BK7WE7su0tTS0wp3XEp2aTCobcQHZbUYramM-x0krsf0yLBxpm19FvZqlq-DEINov03OV7VUHS6NCUCgmlkgnY0gmlwhKwSW5uKbXVsdGlhZGRyc5YACASsElubBt09AAoErBJbmwbdPt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDDXvn0i-fFNo4frSRuYHnqQYxYVYcLZj0ewmWQAwKdyCDdGNwgt09g3VkcILdP4V3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-12-22_04-26-50__32f2e9dd-5266-4c43-b7bc-d33e64aa041a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.117.37
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['38683', '38684', '38685', '38686', '38687']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 38683:38683 -p 38684:38684 -p 38685:38685 -p 38686:38686 -p 38687:38687 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=38685 --rest-port=38683 --tcp-port=38684 --discv5-udp-port=38686 --rest-address=0.0.0.0 --nat=extip:172.18.117.37 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e40e21ea1187ac269b86e2fcda2dfd6d62e89a4a4ede1ad0cb2eeed7fcb0633c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=38687 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QKKtS1XD5BK7WE7su0tTS0wp3XEp2aTCobcQHZbUYramM-x0krsf0yLBxpm19FvZqlq-DEINov03OV7VUHS6NCUCgmlkgnY0gmlwhKwSW5uKbXVsdGlhZGRyc5YACASsElubBt09AAoErBJbmwbdPt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDDXvn0i-fFNo4frSRuYHnqQYxYVYcLZj0ewmWQAwKdyCDdGNwgt09g3VkcILdP4V3YWt1MgM --storenode=/ip4/172.18.91.155/tcp/56637/p2p/16Uiu2HAmDZdEVQ5ZhpDPGLxQUx1goFcjyuisXeFGvXveeU8y4C5M --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.117.37 waku bcf7a346d58a2b364c2fed37f50664483b7e0109e0aaf45b91afc7c138700c35
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID bcf7a346d58a. Setting up logs at ./log/docker/store_node1_2024-12-22_04-26-50__32f2e9dd-5266-4c43-b7bc-d33e64aa041a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 38683
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38683/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38683/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.117.37/tcp/38684/p2p/16Uiu2HAkvWRMetsMHy3V57BFjqpQNgg2oUQ4X3eUzJEfmt27qLce","/ip4/172.18.117.37/tcp/38685/ws/p2p/16Uiu2HAkvWRMetsMHy3V57BFjqpQNgg2oUQ4X3eUzJEfmt27qLce"],"enrUri":"enr:-L24QHQ7JqcBHAALxW1Oo1cbTjTH_W00QZSNvP_xRWbmXeTJAxkgbjK2p113FwUmRZzTn0qoldQUK5iKZEEd0-5-DH0CgmlkgnY0gmlwhKwSdSWKbXVsdGlhZGRyc5YACASsEnUlBpccAAoErBJ1JQaXHd0DgnJzhQADAQAAiXNlY3AyNTZrMaECEBMOfJchy_C5RMaSy8ocdGIxVkVUwxdCTpOLHydxTf-DdGNwgpccg3VkcIKXHoV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38683/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.91.155/tcp/56637/p2p/16Uiu2HAmDZdEVQ5ZhpDPGLxQUx1goFcjyuisXeFGvXveeU8y4C5M"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56636/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38683/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56636/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56636/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56636/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56636/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56636/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56636/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56636/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56636/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56636/store/v3/messages?pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"R6yadQ082z52cgpGxdxcYgTJjj2as+DMe/La89dFqLY="},{"messageHash":"9jI2H3FOF3nbqrr3FszqV/WjkWVtH2m1qxhGoohmPkg="},{"messageHash":"WYE2/fvK8E6CJ2InDx6fzD/wiCggk9fajuuHDPSDMhM="},{"messageHash":"qL3TDfR3lgy0qPStlVj1eFLc21AhYbeuUPVHwQiCEs0="},{"messageHash":"L7QPLABO1k4Da/dcmNsIEnBIvr80T53H86xnv08rtHI="},{"messageHash":"pRo1qznygIWI1VIkZYspUJwG4PftA7LAu2S5+pTiXjM="},{"messageHash":"3vlIZOmDlL50Vjn9PGsepXjxijdFabzWoXitIZrIu28="},{"messageHash":"CVDl7Yv1KMu67sLqeP6gDiy4N1MppRAL4cTIUf/0Txk="}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38683/store/v3/messages?pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"R6yadQ082z52cgpGxdxcYgTJjj2as+DMe/La89dFqLY="},{"messageHash":"9jI2H3FOF3nbqrr3FszqV/WjkWVtH2m1qxhGoohmPkg="},{"messageHash":"WYE2/fvK8E6CJ2InDx6fzD/wiCggk9fajuuHDPSDMhM="},{"messageHash":"qL3TDfR3lgy0qPStlVj1eFLc21AhYbeuUPVHwQiCEs0="},{"messageHash":"L7QPLABO1k4Da/dcmNsIEnBIvr80T53H86xnv08rtHI="},{"messageHash":"pRo1qznygIWI1VIkZYspUJwG4PftA7LAu2S5+pTiXjM="},{"messageHash":"3vlIZOmDlL50Vjn9PGsepXjxijdFabzWoXitIZrIu28="},{"messageHash":"CVDl7Yv1KMu67sLqeP6gDiy4N1MppRAL4cTIUf/0Txk="}]}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 9b788415211f
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id bcf7a346d58a
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 9b788415211f. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.