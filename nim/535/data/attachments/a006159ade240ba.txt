[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_passing_invalid_cursor with id: 2024-12-22_04-18-59__8bf36f77-8339-4a92-aaa9-d1bc8c81f9ba
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-12-22_04-18-59__8bf36f77-8339-4a92-aaa9-d1bc8c81f9ba__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.48.197
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['21588', '21589', '21590', '21591', '21592']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 21588:21588 -p 21589:21589 -p 21590:21590 -p 21591:21591 -p 21592:21592 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=21590 --rest-port=21588 --tcp-port=21589 --discv5-udp-port=21591 --rest-address=0.0.0.0 --nat=extip:172.18.48.197 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f7d8a1dcfbde3d92a67b3a2304da806d31010f98fd4aff013c125e31a1f4d9e3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=21592 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.48.197 waku a92272c146cb55092044f3453793eb3d691641945cbce684e8c554c16c01d204
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID a92272c146cb. Setting up logs at ./log/docker/publishing_node1_2024-12-22_04-18-59__8bf36f77-8339-4a92-aaa9-d1bc8c81f9ba__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 21588
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 40902ceb10b9. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21588/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21588/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.48.197/tcp/21589/p2p/16Uiu2HAmT8uCmWFxWow96QohsvF79jK6cC8NJiBmgtfRFvit2HhX","/ip4/172.18.48.197/tcp/21590/ws/p2p/16Uiu2HAmT8uCmWFxWow96QohsvF79jK6cC8NJiBmgtfRFvit2HhX"],"enrUri":"enr:-L24QEqmS1LRDeHIulb_fmiGKg8DW33ERphDlL4IcD7tKP-Tecs_YaCkikGEZgJj4SVLTO2InRE1hzSUqQs0ER9evXkCgmlkgnY0gmlwhKwSMMWKbXVsdGlhZGRyc5YACASsEjDFBlRVAAoErBIwxQZUVt0DgnJzhQADAQAAiXNlY3AyNTZrMaED1yoPWn7IEyx-bcE7T4fu3BbWL5amHsCGLb8_ixLL3KaDdGNwglRVg3VkcIJUV4V3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-12-22_04-18-59__8bf36f77-8339-4a92-aaa9-d1bc8c81f9ba__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.92.123
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['61468', '61469', '61470', '61471', '61472']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 61468:61468 -p 61469:61469 -p 61470:61470 -p 61471:61471 -p 61472:61472 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=61470 --rest-port=61468 --tcp-port=61469 --discv5-udp-port=61471 --rest-address=0.0.0.0 --nat=extip:172.18.92.123 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d38d40cfad01ddebba91f7ec8fc4f6dfa719ae0aff3342b16798defe9a8de24a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=61472 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QEqmS1LRDeHIulb_fmiGKg8DW33ERphDlL4IcD7tKP-Tecs_YaCkikGEZgJj4SVLTO2InRE1hzSUqQs0ER9evXkCgmlkgnY0gmlwhKwSMMWKbXVsdGlhZGRyc5YACASsEjDFBlRVAAoErBIwxQZUVt0DgnJzhQADAQAAiXNlY3AyNTZrMaED1yoPWn7IEyx-bcE7T4fu3BbWL5amHsCGLb8_ixLL3KaDdGNwglRVg3VkcIJUV4V3YWt1MgM --storenode=/ip4/172.18.48.197/tcp/21589/p2p/16Uiu2HAmT8uCmWFxWow96QohsvF79jK6cC8NJiBmgtfRFvit2HhX --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.92.123 waku 91d7fd164a820f9c020e8ebec7e1e84ac47e716d2ddddb7cdfda6b45160e046d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 91d7fd164a82. Setting up logs at ./log/docker/store_node1_2024-12-22_04-18-59__8bf36f77-8339-4a92-aaa9-d1bc8c81f9ba__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 61468
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61468/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61468/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.92.123/tcp/61469/p2p/16Uiu2HAm7jCqY9tugaLPSde2WQrT93SX35Gh3bZauXwL3nbofhjx","/ip4/172.18.92.123/tcp/61470/ws/p2p/16Uiu2HAm7jCqY9tugaLPSde2WQrT93SX35Gh3bZauXwL3nbofhjx"],"enrUri":"enr:-L24QGE3RKDuRDb8rWhtC3-tluq8srJqBRWMqXgNjHkmBHMiIp3q-E7cdQJ_TviYytrrpXHJLCTkGiqTu3GJ3DctKGYCgmlkgnY0gmlwhKwSXHuKbXVsdGlhZGRyc5YACASsElx7BvAdAAoErBJcewbwHt0DgnJzhQADAQAAiXNlY3AyNTZrMaECtsoB-0xFRT1fRFIrHTBaRGFQcC-3-cRKFgwvvgvfFquDdGNwgvAdg3VkcILwH4V3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61468/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.48.197/tcp/21589/p2p/16Uiu2HAmT8uCmWFxWow96QohsvF79jK6cC8NJiBmgtfRFvit2HhX"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21588/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61468/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21588/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8w", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21588/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8x", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21588/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8y", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21588/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8z", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21588/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&cursor=dGVzdA%3D%3D&pageSize=100&ascending=true" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:21588/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&cursor=dGVzdA%3D%3D&pageSize=100&ascending=true. Response content: b'waku message hash parsing error: invalid hash length: 4'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id a92272c146cb
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 91d7fd164a82
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container a92272c146cb. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.