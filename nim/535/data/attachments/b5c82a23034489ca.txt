[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_light_push_with_missing_content_topic with id: 2024-12-22_04-11-41__90da23b2-0f12-4493-ab35-cb0878f9b5c4
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:28 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-12-22_04-11-41__90da23b2-0f12-4493-ab35-cb0878f9b5c4__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.42.6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['4651', '4652', '4653', '4654', '4655']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 4651:4651 -p 4652:4652 -p 4653:4653 -p 4654:4654 -p 4655:4655 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=4653 --rest-port=4651 --tcp-port=4652 --discv5-udp-port=4654 --rest-address=0.0.0.0 --nat=extip:172.18.42.6 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ddfdb3b2fdbaefb740d3639baf2b5ac6a0f3f2047d2af8ce06fce39cb0bebabe --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=4655 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.42.6 waku d4e210ef9866439668b04cd236a82e28f729cd28a01e00d912f992694a5b2f33
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID d4e210ef9866. Setting up logs at ./log/docker/receiving_node1_2024-12-22_04-11-41__90da23b2-0f12-4493-ab35-cb0878f9b5c4__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 4651
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 16d4cf35aa7e. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4651/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4651/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.42.6/tcp/4652/p2p/16Uiu2HAm38Laxphyfb1dZUvrnjcoprMMvEtKeAw2UmFvnFiSUo6K","/ip4/172.18.42.6/tcp/4653/ws/p2p/16Uiu2HAm38Laxphyfb1dZUvrnjcoprMMvEtKeAw2UmFvnFiSUo6K"],"enrUri":"enr:-L24QMFParicbYad0STdrgles3W4ieHFPu0X-KtSWCCqw3_mYNcECmfbYF5x-kOiR4mGaNDfxnza0cBaC7MK4UJqFw8CgmlkgnY0gmlwhKwSKgaKbXVsdGlhZGRyc5YACASsEioGBhIsAAoErBIqBgYSLd0DgnJzhQADAQAAiXNlY3AyNTZrMaECcmyxdolqTrDD2Li0Ra35_bbV4r0IIZWt3LONyEm6RhSDdGNwghIsg3VkcIISLoV3YWt1Mgk"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-12-22_04-11-41__90da23b2-0f12-4493-ab35-cb0878f9b5c4__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.238.115
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['47417', '47418', '47419', '47420', '47421']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 47417:47417 -p 47418:47418 -p 47419:47419 -p 47420:47420 -p 47421:47421 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=47419 --rest-port=47417 --tcp-port=47418 --discv5-udp-port=47420 --rest-address=0.0.0.0 --nat=extip:172.18.238.115 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e4ed01c2c97c2dd38161a87bdebdc995ea9eb28cbdb01a0ab8ccbc6efd0fca9c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=47421 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.238.115 waku 7a782460106299ea2994320d7d7f7984f47eeca486afaf7c31cc75ada3498ff7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 7a7824601062. Setting up logs at ./log/docker/receiving_node2_2024-12-22_04-11-41__90da23b2-0f12-4493-ab35-cb0878f9b5c4__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 47417
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47417/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47417/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.238.115/tcp/47418/p2p/16Uiu2HAm9epwHobTsnUW2WiGsNX5McmJZ9i3Y711BxTzuLtsdRMX","/ip4/172.18.238.115/tcp/47419/ws/p2p/16Uiu2HAm9epwHobTsnUW2WiGsNX5McmJZ9i3Y711BxTzuLtsdRMX"],"enrUri":"enr:-L24QJi6ajylRioQQXaNwd1knye8jOECe6uepOd7Sb0Kcvg1Rv8LF9xkD3s56CBd19o5q9e8S22ESGVNPU-n_N31_jACgmlkgnY0gmlwhKwS7nOKbXVsdGlhZGRyc5YACASsEu5zBrk6AAoErBLucwa5O90DgnJzhQADAQAAiXNlY3AyNTZrMaEC02JLhq9jfzXX_oHvFqAVEgjHO-u_xG4W6-Obfe_-a2aDdGNwgrk6g3VkcIK5PIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47417/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.42.6/tcp/4652/p2p/16Uiu2HAm38Laxphyfb1dZUvrnjcoprMMvEtKeAw2UmFvnFiSUo6K"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-12-22_04-11-41__90da23b2-0f12-4493-ab35-cb0878f9b5c4__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.234.55
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['19590', '19591', '19592', '19593', '19594']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 19590:19590 -p 19591:19591 -p 19592:19592 -p 19593:19593 -p 19594:19594 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=19592 --rest-port=19590 --tcp-port=19591 --discv5-udp-port=19593 --rest-address=0.0.0.0 --nat=extip:172.18.234.55 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=26cf18ddb7afb4e7a84ee0eaad0cf4ce5f8c57fe7910603d7e967e24ca7eb479 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=19594 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QMFParicbYad0STdrgles3W4ieHFPu0X-KtSWCCqw3_mYNcECmfbYF5x-kOiR4mGaNDfxnza0cBaC7MK4UJqFw8CgmlkgnY0gmlwhKwSKgaKbXVsdGlhZGRyc5YACASsEioGBhIsAAoErBIqBgYSLd0DgnJzhQADAQAAiXNlY3AyNTZrMaECcmyxdolqTrDD2Li0Ra35_bbV4r0IIZWt3LONyEm6RhSDdGNwghIsg3VkcIISLoV3YWt1Mgk --lightpushnode=/ip4/172.18.42.6/tcp/4652/p2p/16Uiu2HAm38Laxphyfb1dZUvrnjcoprMMvEtKeAw2UmFvnFiSUo6K --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.234.55 waku 5a545475bb172f35aecdc37b5ef38ae677e9a338bcda2dfc952d928222ac5456
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 5a545475bb17. Setting up logs at ./log/docker/lightpush_node1_2024-12-22_04-11-41__90da23b2-0f12-4493-ab35-cb0878f9b5c4__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 19590
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19590/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19590/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.234.55/tcp/19591/p2p/16Uiu2HAkxYTyDuWvp7dcEukf9MxVx8kLjLG74DbcLfUT5x3P6Myk","/ip4/172.18.234.55/tcp/19592/ws/p2p/16Uiu2HAkxYTyDuWvp7dcEukf9MxVx8kLjLG74DbcLfUT5x3P6Myk"],"enrUri":"enr:-L24QO9DqNne-5xm7_L0wVbz-OaJe62cWdgalTS9g-T0vzatJ2BEgT6n70L9oja2birkpE_HKtzWoXlHDliTEWHerycCgmlkgnY0gmlwhKwS6jeKbXVsdGlhZGRyc5YACASsEuo3BkyHAAoErBLqNwZMiN0DgnJzhQADAQAAiXNlY3AyNTZrMaECLlCMAI473luEhKBFYG2Q3I5FLrHjjDraQWeQwyoOmtODdGNwgkyHg3VkcIJMiYV3YWt1Mgg"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19590/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.42.6/tcp/4652/p2p/16Uiu2HAm38Laxphyfb1dZUvrnjcoprMMvEtKeAw2UmFvnFiSUo6K"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19590/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.238.115/tcp/47418/p2p/16Uiu2HAm9epwHobTsnUW2WiGsNX5McmJZ9i3Y711BxTzuLtsdRMX"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4651/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47417/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19590/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "timestamp": 1734840705626734080}}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:19590/lightpush/v1/message. Response content: b'Invalid content body, could not decode. Unable to deserialize data'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id d4e210ef9866
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 7a7824601062
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container d4e210ef9866. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 5a545475bb17
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 7a7824601062. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.