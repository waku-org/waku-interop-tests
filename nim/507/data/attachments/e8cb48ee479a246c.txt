[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_relay_get_message_after_one_peer_was_stopped with id: 2024-12-09_01-39-48__c9376971-87f5-4ee7-b708-10d3038ab287
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-09_01-39-48__c9376971-87f5-4ee7-b708-10d3038ab287__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.102.143
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['36309', '36310', '36311', '36312', '36313']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 36309:36309 -p 36310:36310 -p 36311:36311 -p 36312:36312 -p 36313:36313 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=36311 --rest-port=36309 --tcp-port=36310 --discv5-udp-port=36312 --rest-address=0.0.0.0 --nat=extip:172.18.102.143 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fa66016d7a575dffdffcf5eda6a5aecc9e4bb7bebdad0d82dd6c2ba759a0fb0c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=36313 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.102.143 waku 50e92747b707333d405bcb83d794eacddafc6dfe7110c680088c4a235079ceb3
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 50e92747b707. Setting up logs at ./log/docker/node1_2024-12-09_01-39-48__c9376971-87f5-4ee7-b708-10d3038ab287__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 36309
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container a42dd379d044. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36309/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36309/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.102.143/tcp/36310/p2p/16Uiu2HAkx5eMXivS7qNs9EJHUCWeoRFRQx5dbB3Q7avAcrTNeWPm","/ip4/172.18.102.143/tcp/36311/ws/p2p/16Uiu2HAkx5eMXivS7qNs9EJHUCWeoRFRQx5dbB3Q7avAcrTNeWPm"],"enrUri":"enr:-L24QOl-pi5rBgZ0sd3ogFqVDVsDSmF_SDhTm6EyiDichFbOek-YHoE8uWx0HAl348kKMhERiqzgnCHZNOd4I3bJ48ECgmlkgnY0gmlwhKwSZo-KbXVsdGlhZGRyc5YACASsEmaPBo3WAAoErBJmjwaN190DgnJzhQADAQAAiXNlY3AyNTZrMaECJ3GbYSDl5lNi-M5fWG0uJtqEjCGLniWs2RrhftUDH1SDdGNwgo3Wg3VkcIKN2IV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-09_01-39-48__c9376971-87f5-4ee7-b708-10d3038ab287__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.140.97
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['47885', '47886', '47887', '47888', '47889']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 47885:47885 -p 47886:47886 -p 47887:47887 -p 47888:47888 -p 47889:47889 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=47887 --rest-port=47885 --tcp-port=47886 --discv5-udp-port=47888 --rest-address=0.0.0.0 --nat=extip:172.18.140.97 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d6cd6bf8bff41fdac2aacf36e5fe2db1de5506a52ddc01bcdf4154360c69c683 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=47889 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QOl-pi5rBgZ0sd3ogFqVDVsDSmF_SDhTm6EyiDichFbOek-YHoE8uWx0HAl348kKMhERiqzgnCHZNOd4I3bJ48ECgmlkgnY0gmlwhKwSZo-KbXVsdGlhZGRyc5YACASsEmaPBo3WAAoErBJmjwaN190DgnJzhQADAQAAiXNlY3AyNTZrMaECJ3GbYSDl5lNi-M5fWG0uJtqEjCGLniWs2RrhftUDH1SDdGNwgo3Wg3VkcIKN2IV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.140.97 waku 9f76f3b90d94bcbde1d3ea2e2fdaf4bcb01442cc06ee7bf289da4e3611bc965d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 9f76f3b90d94. Setting up logs at ./log/docker/node2_2024-12-09_01-39-48__c9376971-87f5-4ee7-b708-10d3038ab287__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 47885
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47885/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47885/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.140.97/tcp/47886/p2p/16Uiu2HAmUUNmixxxxo8J8TVCKdZKXVkoMXVPiZdgxMD9TJRrE888","/ip4/172.18.140.97/tcp/47887/ws/p2p/16Uiu2HAmUUNmixxxxo8J8TVCKdZKXVkoMXVPiZdgxMD9TJRrE888"],"enrUri":"enr:-L24QBfQFiVDDP94QFMLLVEJehkygs2Tw5loy_82GqsAidbWKDSXVjv5GhkL0ADHeEdzPLVQ8iCytHYpeDus1Eobmo4CgmlkgnY0gmlwhKwSjGGKbXVsdGlhZGRyc5YACASsEoxhBrsOAAoErBKMYQa7D90DgnJzhQADAQAAiXNlY3AyNTZrMaED6wL0KNxDHwtX286Di2De40EqCYt4wWm5iiIbIwD6q_GDdGNwgrsOg3VkcIK7EIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47885/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.102.143/tcp/36310/p2p/16Uiu2HAkx5eMXivS7qNs9EJHUCWeoRFRQx5dbB3Q7avAcrTNeWPm"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-12-09_01-39-48__c9376971-87f5-4ee7-b708-10d3038ab287__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.5.168
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['50771', '50772', '50773', '50774', '50775']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 50771:50771 -p 50772:50772 -p 50773:50773 -p 50774:50774 -p 50775:50775 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=50773 --rest-port=50771 --tcp-port=50772 --discv5-udp-port=50774 --rest-address=0.0.0.0 --nat=extip:172.18.5.168 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=afd8639d0da5c2d4dc4e34aab518cde70e3dfa16208a4b68fd3a67efdabadf02 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=50775 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QOl-pi5rBgZ0sd3ogFqVDVsDSmF_SDhTm6EyiDichFbOek-YHoE8uWx0HAl348kKMhERiqzgnCHZNOd4I3bJ48ECgmlkgnY0gmlwhKwSZo-KbXVsdGlhZGRyc5YACASsEmaPBo3WAAoErBJmjwaN190DgnJzhQADAQAAiXNlY3AyNTZrMaECJ3GbYSDl5lNi-M5fWG0uJtqEjCGLniWs2RrhftUDH1SDdGNwgo3Wg3VkcIKN2IV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.5.168 waku 3d49d5ac5672c7f0fa69c3a7441bef03ad22a84571aa41009fc35aa01a42553a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 3d49d5ac5672. Setting up logs at ./log/docker/node3_2024-12-09_01-39-48__c9376971-87f5-4ee7-b708-10d3038ab287__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 50771
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50771/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50771/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.5.168/tcp/50772/p2p/16Uiu2HAmPmfB4fntPRTSRMcxWKt2EdZoyrY3RpTSTRBAQtG3DqYM","/ip4/172.18.5.168/tcp/50773/ws/p2p/16Uiu2HAmPmfB4fntPRTSRMcxWKt2EdZoyrY3RpTSTRBAQtG3DqYM"],"enrUri":"enr:-L24QIjb9aG6_EUjr1NkUvNeRB7x4-KL98ie9Z3mqyOUKWzjC1kV77RlkuoKQZ09onan3PTzOd4tCc_JaxrqSGV3DCsCgmlkgnY0gmlwhKwSBaiKbXVsdGlhZGRyc5YACASsEgWoBsZUAAoErBIFqAbGVd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDpSXwaxW4JEnkmR0R1eS1U4R8aM4gbJPTec1j3yenE3qDdGNwgsZUg3VkcILGVoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50771/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.102.143/tcp/36310/p2p/16Uiu2HAkx5eMXivS7qNs9EJHUCWeoRFRQx5dbB3Q7avAcrTNeWPm"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-12-09_01-39-48__c9376971-87f5-4ee7-b708-10d3038ab287__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.133.65
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['42209', '42210', '42211', '42212', '42213']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 42209:42209 -p 42210:42210 -p 42211:42211 -p 42212:42212 -p 42213:42213 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=42211 --rest-port=42209 --tcp-port=42210 --discv5-udp-port=42212 --rest-address=0.0.0.0 --nat=extip:172.18.133.65 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cfeb6bfc3fdee310f45cfbacadd5fb0629c4e61e1e5c1cfcbd760e7d6540cbbb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=42213 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QOl-pi5rBgZ0sd3ogFqVDVsDSmF_SDhTm6EyiDichFbOek-YHoE8uWx0HAl348kKMhERiqzgnCHZNOd4I3bJ48ECgmlkgnY0gmlwhKwSZo-KbXVsdGlhZGRyc5YACASsEmaPBo3WAAoErBJmjwaN190DgnJzhQADAQAAiXNlY3AyNTZrMaECJ3GbYSDl5lNi-M5fWG0uJtqEjCGLniWs2RrhftUDH1SDdGNwgo3Wg3VkcIKN2IV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.133.65 waku 189f030618e066b9fdc8fd74bfbd2b3fa05676c999a1def3a5f7bcf67c4ed1bc
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 189f030618e0. Setting up logs at ./log/docker/node4_2024-12-09_01-39-48__c9376971-87f5-4ee7-b708-10d3038ab287__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 42209
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42209/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42209/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.133.65/tcp/42210/p2p/16Uiu2HAm7JBhe2nRLTxP5YSuA485UEMRxHKq1TSxte7Lu9n5STvn","/ip4/172.18.133.65/tcp/42211/ws/p2p/16Uiu2HAm7JBhe2nRLTxP5YSuA485UEMRxHKq1TSxte7Lu9n5STvn"],"enrUri":"enr:-L24QJjcnYXT47Kin72VytOdwVEGpMe106zjBwKrBoxG4VnPFkR8FKPQaJ9rBvcxP7nattHVnqTNS_ULJJUMs5G24zQCgmlkgnY0gmlwhKwShUGKbXVsdGlhZGRyc5YACASsEoVBBqTiAAoErBKFQQak490DgnJzhQADAQAAiXNlY3AyNTZrMaECsGEz7HKMTCV5bOKO1ZH_qo-PiZrhB9ETPVl06anq0B-DdGNwgqTig3VkcIKk5IV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42209/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.102.143/tcp/36310/p2p/16Uiu2HAkx5eMXivS7qNs9EJHUCWeoRFRQx5dbB3Q7avAcrTNeWPm"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-12-09_01-39-48__c9376971-87f5-4ee7-b708-10d3038ab287__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.72.125
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['49471', '49472', '49473', '49474', '49475']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 49471:49471 -p 49472:49472 -p 49473:49473 -p 49474:49474 -p 49475:49475 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=49473 --rest-port=49471 --tcp-port=49472 --discv5-udp-port=49474 --rest-address=0.0.0.0 --nat=extip:172.18.72.125 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8cce5dfe02a94be4acd2f5d6eb9c766cddf84f36fbfccdbbdb02a06952ce9662 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=49475 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QOl-pi5rBgZ0sd3ogFqVDVsDSmF_SDhTm6EyiDichFbOek-YHoE8uWx0HAl348kKMhERiqzgnCHZNOd4I3bJ48ECgmlkgnY0gmlwhKwSZo-KbXVsdGlhZGRyc5YACASsEmaPBo3WAAoErBJmjwaN190DgnJzhQADAQAAiXNlY3AyNTZrMaECJ3GbYSDl5lNi-M5fWG0uJtqEjCGLniWs2RrhftUDH1SDdGNwgo3Wg3VkcIKN2IV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.72.125 waku a20f7bcaac42bd738c10623361e0879106c2ae1b59fe4144f81b5e94ad4138d1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID a20f7bcaac42. Setting up logs at ./log/docker/node5_2024-12-09_01-39-48__c9376971-87f5-4ee7-b708-10d3038ab287__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 49471
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49471/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49471/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.72.125/tcp/49472/p2p/16Uiu2HAm2hgJwpKzi1Ci5UP2ofZSeFTCW23ESfPLjZFRNeKfEAjb","/ip4/172.18.72.125/tcp/49473/ws/p2p/16Uiu2HAm2hgJwpKzi1Ci5UP2ofZSeFTCW23ESfPLjZFRNeKfEAjb"],"enrUri":"enr:-L24QFpdGsOcdC6PmZjOBo0iS9fI-DYvLjj_PDQ9bszuz42dE4qo9-aAQ6r3zqIjEGCUFMSdlyojdPVH5C-RoXACke4CgmlkgnY0gmlwhKwSSH2KbXVsdGlhZGRyc5YACASsEkh9BsFAAAoErBJIfQbBQd0DgnJzhQADAQAAiXNlY3AyNTZrMaECbBt5jLtRvY3XJqxnG7d-zz5VbW56-Yy0peKQoPOt8VKDdGNwgsFAg3VkcILBQoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49471/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.102.143/tcp/36310/p2p/16Uiu2HAkx5eMXivS7qNs9EJHUCWeoRFRQx5dbB3Q7avAcrTNeWPm"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36309/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47885/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50771/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42209/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49471/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36309/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36309/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733708395689847296,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47885/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733708395689847296,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50771/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733708395689847296,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42209/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733708395689847296,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49471/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733708395689847296,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36309/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36309/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733708395815769856,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47885/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733708395815769856,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50771/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733708395815769856,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42209/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733708395815769856,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49471/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733708395815769856,"ephemeral":false}]'
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 9f76f3b90d94
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36309/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50771/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733708397117649920,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42209/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733708397117649920,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49471/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733708397117649920,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 50e92747b707
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 3d49d5ac5672
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 9f76f3b90d94. Exiting log stream.
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 50e92747b707. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 189f030618e0
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 3d49d5ac5672. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id a20f7bcaac42
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 189f030618e0. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.