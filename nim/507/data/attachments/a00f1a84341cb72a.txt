[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_first_node_to_start_publishes with id: 2024-12-08_04-17-31__b987dca8-91e8-4da0-9ffa-f561d7196f03
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-08_04-17-31__b987dca8-91e8-4da0-9ffa-f561d7196f03__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.37.135
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['9199', '9200', '9201', '9202', '9203']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 9199:9199 -p 9200:9200 -p 9201:9201 -p 9202:9202 -p 9203:9203 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=9201 --rest-port=9199 --tcp-port=9200 --discv5-udp-port=9202 --rest-address=0.0.0.0 --nat=extip:172.18.37.135 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d09e15be3dbebd9096e2dae19a06da0fdcd08dad2b80e330e5afc3fedadd166b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=9203 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.37.135 waku 951e34501377a90eb0089d1f59898aa87ce1ec34b60632cfdde25f4b185dc9f2
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 9f3a128b8f89. Exiting log stream.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 951e34501377. Setting up logs at ./log/docker/node1_2024-12-08_04-17-31__b987dca8-91e8-4da0-9ffa-f561d7196f03__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 9199
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9199/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9199/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.37.135/tcp/9200/p2p/16Uiu2HAm9Mo7mwYuh85RxkrY88MgGdE1c8rwLQSK8WCRbkm2qnkT","/ip4/172.18.37.135/tcp/9201/ws/p2p/16Uiu2HAm9Mo7mwYuh85RxkrY88MgGdE1c8rwLQSK8WCRbkm2qnkT"],"enrUri":"enr:-L24QB136I32rzW9Jmx1S5jDMZP4Yl8nmFRmbI9_YQ-gDtx3ANbxt2cuQLJkp0ji4hynnyjpR_bQGg5TpzewRhnou_YCgmlkgnY0gmlwhKwSJYeKbXVsdGlhZGRyc5YACASsEiWHBiPwAAoErBIlhwYj8d0DgnJzhQADAQAAiXNlY3AyNTZrMaECzwVdQLcYxj5hSQ2y_nrnAM55v5zXkB99AjdiDnbFOPyDdGNwgiPwg3VkcIIj8oV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-08_04-17-31__b987dca8-91e8-4da0-9ffa-f561d7196f03__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.155.168
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['59843', '59844', '59845', '59846', '59847']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 59843:59843 -p 59844:59844 -p 59845:59845 -p 59846:59846 -p 59847:59847 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=59845 --rest-port=59843 --tcp-port=59844 --discv5-udp-port=59846 --rest-address=0.0.0.0 --nat=extip:172.18.155.168 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ca3464bfdbd129accaabb19fbbbdaccdcb0b5df975253e11b22609ecb0134ddb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=59847 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QB136I32rzW9Jmx1S5jDMZP4Yl8nmFRmbI9_YQ-gDtx3ANbxt2cuQLJkp0ji4hynnyjpR_bQGg5TpzewRhnou_YCgmlkgnY0gmlwhKwSJYeKbXVsdGlhZGRyc5YACASsEiWHBiPwAAoErBIlhwYj8d0DgnJzhQADAQAAiXNlY3AyNTZrMaECzwVdQLcYxj5hSQ2y_nrnAM55v5zXkB99AjdiDnbFOPyDdGNwgiPwg3VkcIIj8oV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.155.168 waku 4901df7f8de6bd838849fd02cbe77ba4f907b85d4a50739f0342bb25170860d0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 4901df7f8de6. Setting up logs at ./log/docker/node2_2024-12-08_04-17-31__b987dca8-91e8-4da0-9ffa-f561d7196f03__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 59843
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59843/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59843/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.155.168/tcp/59844/p2p/16Uiu2HAmSzPAg3PSQoKhstXSENzYWmf8bDBXkns9WRVywn55Mmit","/ip4/172.18.155.168/tcp/59845/ws/p2p/16Uiu2HAmSzPAg3PSQoKhstXSENzYWmf8bDBXkns9WRVywn55Mmit"],"enrUri":"enr:-L24QGI2M_jn3eDpPSgifJcUh0YiCCJOoZX8oOsmLuyH2rpaX19OMXhKAVCJNJ5ZDHbgXrIbr-o6lbHwvwaNZlRzqSsCgmlkgnY0gmlwhKwSm6iKbXVsdGlhZGRyc5YACASsEpuoBunEAAoErBKbqAbpxd0DgnJzhQADAQAAiXNlY3AyNTZrMaED1PtzmfHZzodOfq266T7VfNJdb62L2eeA888yXDp-Cc2DdGNwgunEg3VkcILpxoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59843/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.37.135/tcp/9200/p2p/16Uiu2HAm9Mo7mwYuh85RxkrY88MgGdE1c8rwLQSK8WCRbkm2qnkT"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-12-08_04-17-31__b987dca8-91e8-4da0-9ffa-f561d7196f03__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.171.3
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['57854', '57855', '57856', '57857', '57858']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 57854:57854 -p 57855:57855 -p 57856:57856 -p 57857:57857 -p 57858:57858 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=57856 --rest-port=57854 --tcp-port=57855 --discv5-udp-port=57857 --rest-address=0.0.0.0 --nat=extip:172.18.171.3 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=89eb3ffadab44cef3a1db99ae660fb903e38e64aaaaeefe6d72dffcfa338da1e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=57858 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QB136I32rzW9Jmx1S5jDMZP4Yl8nmFRmbI9_YQ-gDtx3ANbxt2cuQLJkp0ji4hynnyjpR_bQGg5TpzewRhnou_YCgmlkgnY0gmlwhKwSJYeKbXVsdGlhZGRyc5YACASsEiWHBiPwAAoErBIlhwYj8d0DgnJzhQADAQAAiXNlY3AyNTZrMaECzwVdQLcYxj5hSQ2y_nrnAM55v5zXkB99AjdiDnbFOPyDdGNwgiPwg3VkcIIj8oV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.171.3 waku 17cd0932aa80a649310ff995ca861918df294db44f511b1905515e25804e9bf6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 17cd0932aa80. Setting up logs at ./log/docker/node3_2024-12-08_04-17-31__b987dca8-91e8-4da0-9ffa-f561d7196f03__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 57854
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57854/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57854/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.171.3/tcp/57855/p2p/16Uiu2HAkw2MGk8o9tkCjMih66FiBpmHduw2rvwqxivKhfaGu4xKd","/ip4/172.18.171.3/tcp/57856/ws/p2p/16Uiu2HAkw2MGk8o9tkCjMih66FiBpmHduw2rvwqxivKhfaGu4xKd"],"enrUri":"enr:-L24QDTx-9iNSOBlmg6TduibrpfJWuh9Saaw3jjn6hKz9h3zV8ft1uPn4oFysI6Oz9eiMA6KK6ggFdxVNNuEZBcy9v0CgmlkgnY0gmlwhKwSqwOKbXVsdGlhZGRyc5YACASsEqsDBuH_AAoErBKrAwbiAN0DgnJzhQADAQAAiXNlY3AyNTZrMaECF73cwd_XtjSEuIeqn48RkBd7GDhQ3Hv6YhDMwBU61kyDdGNwguH_g3VkcILiAYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57854/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.37.135/tcp/9200/p2p/16Uiu2HAm9Mo7mwYuh85RxkrY88MgGdE1c8rwLQSK8WCRbkm2qnkT"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-12-08_04-17-31__b987dca8-91e8-4da0-9ffa-f561d7196f03__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.129.166
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['62452', '62453', '62454', '62455', '62456']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 62452:62452 -p 62453:62453 -p 62454:62454 -p 62455:62455 -p 62456:62456 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=62454 --rest-port=62452 --tcp-port=62453 --discv5-udp-port=62455 --rest-address=0.0.0.0 --nat=extip:172.18.129.166 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a6fbfbaf25becec4fd801663df3e32df1cd2600c601ed2db4ea9f962cfaecdc2 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=62456 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QB136I32rzW9Jmx1S5jDMZP4Yl8nmFRmbI9_YQ-gDtx3ANbxt2cuQLJkp0ji4hynnyjpR_bQGg5TpzewRhnou_YCgmlkgnY0gmlwhKwSJYeKbXVsdGlhZGRyc5YACASsEiWHBiPwAAoErBIlhwYj8d0DgnJzhQADAQAAiXNlY3AyNTZrMaECzwVdQLcYxj5hSQ2y_nrnAM55v5zXkB99AjdiDnbFOPyDdGNwgiPwg3VkcIIj8oV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.129.166 waku 8cc7bf7a70d22743b3f1d4e50b0d0b2d2b03b6e37e4c1d54316e6074fde1e80b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 8cc7bf7a70d2. Setting up logs at ./log/docker/node4_2024-12-08_04-17-31__b987dca8-91e8-4da0-9ffa-f561d7196f03__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 62452
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62452/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62452/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.129.166/tcp/62453/p2p/16Uiu2HAmVE4jUZnUU5spQ9QhyUvHWe44b1odiDxmVQDhFNCkPLAf","/ip4/172.18.129.166/tcp/62454/ws/p2p/16Uiu2HAmVE4jUZnUU5spQ9QhyUvHWe44b1odiDxmVQDhFNCkPLAf"],"enrUri":"enr:-L24QCLifq7A33-4htbYK8VUuHQLD1EtI0NI4cyQkwwpGndkbr-L0X_WZIrqacSGkoH1j825AL2lfRitXItY71sV6KECgmlkgnY0gmlwhKwSgaaKbXVsdGlhZGRyc5YACASsEoGmBvP1AAoErBKBpgbz9t0DgnJzhQADAQAAiXNlY3AyNTZrMaED9jQc4_EggoQ-E5P1OmmPSvh3wLrtKvREm1PxX8v97RyDdGNwgvP1g3VkcILz94V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62452/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.37.135/tcp/9200/p2p/16Uiu2HAm9Mo7mwYuh85RxkrY88MgGdE1c8rwLQSK8WCRbkm2qnkT"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-12-08_04-17-31__b987dca8-91e8-4da0-9ffa-f561d7196f03__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.13.150
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['20013', '20014', '20015', '20016', '20017']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 20013:20013 -p 20014:20014 -p 20015:20015 -p 20016:20016 -p 20017:20017 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=20015 --rest-port=20013 --tcp-port=20014 --discv5-udp-port=20016 --rest-address=0.0.0.0 --nat=extip:172.18.13.150 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a82a4fcebefcad7ed0f5bbd271d8ccf93c51f2a3a016a578bbba6bc532b0272a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=20017 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QB136I32rzW9Jmx1S5jDMZP4Yl8nmFRmbI9_YQ-gDtx3ANbxt2cuQLJkp0ji4hynnyjpR_bQGg5TpzewRhnou_YCgmlkgnY0gmlwhKwSJYeKbXVsdGlhZGRyc5YACASsEiWHBiPwAAoErBIlhwYj8d0DgnJzhQADAQAAiXNlY3AyNTZrMaECzwVdQLcYxj5hSQ2y_nrnAM55v5zXkB99AjdiDnbFOPyDdGNwgiPwg3VkcIIj8oV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.13.150 waku 5b4c4b8f2a594806b63782f7d07f6219e6deea4ab03f3fe129639fbf11a594eb
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 5b4c4b8f2a59. Setting up logs at ./log/docker/node5_2024-12-08_04-17-31__b987dca8-91e8-4da0-9ffa-f561d7196f03__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 20013
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20013/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20013/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.13.150/tcp/20014/p2p/16Uiu2HAmH7VG813xaW7Kd3xmn3jQWnBPgFzisZTxLV1HN9XassSX","/ip4/172.18.13.150/tcp/20015/ws/p2p/16Uiu2HAmH7VG813xaW7Kd3xmn3jQWnBPgFzisZTxLV1HN9XassSX"],"enrUri":"enr:-L24QAVcZYDKacDw1w0fsG9LCcKclXJkLenYlQJNGbrbOWYRWJTmdsLnIv1WrGp0Czakfu8JxYk8TN-ier9BlxNHMwwCgmlkgnY0gmlwhKwSDZaKbXVsdGlhZGRyc5YACASsEg2WBk4uAAoErBINlgZOL90DgnJzhQADAQAAiXNlY3AyNTZrMaEDQjiJ0-MZaYjYbNZzU2cJO3HmIQXICS0qmy9mtrw_4PCDdGNwgk4ug3VkcIJOMIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20013/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.37.135/tcp/9200/p2p/16Uiu2HAm9Mo7mwYuh85RxkrY88MgGdE1c8rwLQSK8WCRbkm2qnkT"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9199/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59843/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57854/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62452/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20013/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9199/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9199/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733631459024523008,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59843/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733631459024523008,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57854/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733631459024523008,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62452/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733631459024523008,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20013/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733631459024523008,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9199/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9199/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733631459152867840,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59843/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733631459152867840,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57854/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733631459152867840,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62452/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733631459152867840,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20013/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1733631459152867840,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 951e34501377
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 4901df7f8de6
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 951e34501377. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 17cd0932aa80
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 4901df7f8de6. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 8cc7bf7a70d2
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 17cd0932aa80. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 5b4c4b8f2a59
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 8cc7bf7a70d2. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.