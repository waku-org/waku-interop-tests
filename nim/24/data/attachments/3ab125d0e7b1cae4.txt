[35mDEBUG   [0m tests.conftest:conftest.py:43 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:49 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-05-08_08-26-15__7edabfac-864f-4627-8d58-6b6462a864af
[35mDEBUG   [0m src.steps.common:common.py:15 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node1_2024-05-08_08-26-15__7edabfac-864f-4627-8d58-6b6462a864af__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.156.59
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['38015', '38016', '38017', '38018', '38019']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:344 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:114 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:116 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 38015:38015 -p 38016:38016 -p 38017:38017 -p 38018:38018 -p 38019:38019 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=38017 --rest-port=38015 --tcp-port=38016 --discv5-udp-port=38018 --rest-address=0.0.0.0 --nat=extip:172.18.156.59 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=38019 --metrics-logging=true --relay=true --filter=true --nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.156.59 waku ff02b1b85ed930190aba247ebb67175ad38cc8cd3bee7a918106b5ac2294d4ce
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID ff02b1b85ed9. Setting up logs at ./log/docker/node1_2024-05-08_08-26-15__7edabfac-864f-4627-8d58-6b6462a864af__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 38015
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38015/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:209 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38015/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.156.59/tcp/38016/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","/ip4/172.18.156.59/tcp/38017/ws/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"],"enrUri":"enr:-LO4QEQyVKTV-77yS3OYhPlC9oj9RtMfFRj3rdN8SgZyso-DKFWiWiEu3i1dshCmXYXaNxhTov2NlB--dVj9gLhL7zYBgmlkgnY0gmlwhKwSnDuKbXVsdGlhZGRyc4wACgSsEpw7BpSB3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CClICDdWRwgpSChXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:214 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node2_2024-05-08_08-26-15__7edabfac-864f-4627-8d58-6b6462a864af__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.107.213
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['43386', '43387', '43388', '43389', '43390']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:344 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:114 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:116 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 43386:43386 -p 43387:43387 -p 43388:43388 -p 43389:43389 -p 43390:43390 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=43388 --rest-port=43386 --tcp-port=43387 --discv5-udp-port=43389 --rest-address=0.0.0.0 --nat=extip:172.18.107.213 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=43390 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QEQyVKTV-77yS3OYhPlC9oj9RtMfFRj3rdN8SgZyso-DKFWiWiEu3i1dshCmXYXaNxhTov2NlB--dVj9gLhL7zYBgmlkgnY0gmlwhKwSnDuKbXVsdGlhZGRyc4wACgSsEpw7BpSB3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CClICDdWRwgpSChXdha3UyBQ --filternode=/ip4/172.18.156.59/tcp/38016/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.209.8
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['47317', '47318', '47319', '47320', '47321']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:344 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:114 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:116 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 47317:47317 -p 47318:47318 -p 47319:47319 -p 47320:47320 -p 47321:47321 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=47319 --rest-port=47317 --tcp-port=47318 --discv5-udp-port=47320 --rest-address=0.0.0.0 --nat=extip:172.18.209.8 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=47321 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QEQyVKTV-77yS3OYhPlC9oj9RtMfFRj3rdN8SgZyso-DKFWiWiEu3i1dshCmXYXaNxhTov2NlB--dVj9gLhL7zYBgmlkgnY0gmlwhKwSnDuKbXVsdGlhZGRyc4wACgSsEpw7BpSB3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CClICDdWRwgpSChXdha3UyBQ --filternode=/ip4/172.18.156.59/tcp/38016/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.209.8 waku 106bac210d080df41f4f495b56cc53d9b5a1dbc6cfd2c074ca676ea263a55c2f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 106bac210d08. Setting up logs at ./log/docker/node2_2024-05-08_08-26-15__7edabfac-864f-4627-8d58-6b6462a864af__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 47317
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47317/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:209 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47317/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.209.8/tcp/47318/p2p/16Uiu2HAm57eLFSnu3h4sm3S1VLaLE7RCbeFjJRpuHA3QRD3CLVQi","/ip4/172.18.209.8/tcp/47319/ws/p2p/16Uiu2HAm57eLFSnu3h4sm3S1VLaLE7RCbeFjJRpuHA3QRD3CLVQi"],"enrUri":"enr:-LO4QNQr-ULEBvK4ewRkK9bcRyaLuGK7CFwNLrDUJzDzQPLWbBKOuKxMdUzes47SsEn6aJUe5CngQkGMnh8YMhZQOnMBgmlkgnY0gmlwhKwS0QiKbXVsdGlhZGRyc4wACgSsEtEIBrjX3QOCcnOFAAABAACJc2VjcDI1NmsxoQKP9o1VlZutfyMlSTDDxM9yBXAr66OGmPYqApfFfwB3N4N0Y3CCuNaDdWRwgrjYhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:214 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47317/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.156.59/tcp/38016/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node3_2024-05-08_08-26-15__7edabfac-864f-4627-8d58-6b6462a864af__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.25.18
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['57894', '57895', '57896', '57897', '57898']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:344 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:114 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:116 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 57894:57894 -p 57895:57895 -p 57896:57896 -p 57897:57897 -p 57898:57898 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=57896 --rest-port=57894 --tcp-port=57895 --discv5-udp-port=57897 --rest-address=0.0.0.0 --nat=extip:172.18.25.18 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=57898 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QEQyVKTV-77yS3OYhPlC9oj9RtMfFRj3rdN8SgZyso-DKFWiWiEu3i1dshCmXYXaNxhTov2NlB--dVj9gLhL7zYBgmlkgnY0gmlwhKwSnDuKbXVsdGlhZGRyc4wACgSsEpw7BpSB3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CClICDdWRwgpSChXdha3UyBQ --filternode=/ip4/172.18.156.59/tcp/38016/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.25.18 waku 51a55b1d4a234dd0ff8a633c9795c8f4cabc7789b945de2511dc1401fa3c8978
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 51a55b1d4a23. Setting up logs at ./log/docker/node3_2024-05-08_08-26-15__7edabfac-864f-4627-8d58-6b6462a864af__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 57894
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57894/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:209 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57894/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.25.18/tcp/57895/p2p/16Uiu2HAmQGRieVA5SdYB4biukFRmVGbkaEUFDwXuBfyWVWxVuWFT","/ip4/172.18.25.18/tcp/57896/ws/p2p/16Uiu2HAmQGRieVA5SdYB4biukFRmVGbkaEUFDwXuBfyWVWxVuWFT"],"enrUri":"enr:-LO4QOls-Bu4xjFX8Mk2Ec5aaFJ6YL2OAxM5n_Xi3LnDwXCeHRbpCWSE2sOHHPQMuK6ckl7xnQIkGTwGsAgps7C8NJgBgmlkgnY0gmlwhKwSGRKKbXVsdGlhZGRyc4wACgSsEhkSBuIo3QOCcnOFAAABAACJc2VjcDI1NmsxoQOshJGGPw33UbLRGKfRLSDvHzip7BA7fqPfWCC9vNkT2oN0Y3CC4ieDdWRwguIphXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:214 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57894/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.156.59/tcp/38016/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node4_2024-05-08_08-26-15__7edabfac-864f-4627-8d58-6b6462a864af__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.109.37
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['4313', '4314', '4315', '4316', '4317']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:344 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:114 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:116 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 4313:4313 -p 4314:4314 -p 4315:4315 -p 4316:4316 -p 4317:4317 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=4315 --rest-port=4313 --tcp-port=4314 --discv5-udp-port=4316 --rest-address=0.0.0.0 --nat=extip:172.18.109.37 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=4317 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QEQyVKTV-77yS3OYhPlC9oj9RtMfFRj3rdN8SgZyso-DKFWiWiEu3i1dshCmXYXaNxhTov2NlB--dVj9gLhL7zYBgmlkgnY0gmlwhKwSnDuKbXVsdGlhZGRyc4wACgSsEpw7BpSB3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CClICDdWRwgpSChXdha3UyBQ --filternode=/ip4/172.18.156.59/tcp/38016/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.109.37 waku a2b8474575b7965db31709348a3d56b705ba234efe024c3f61c38a526470b0b8
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID a2b8474575b7. Setting up logs at ./log/docker/node4_2024-05-08_08-26-15__7edabfac-864f-4627-8d58-6b6462a864af__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 4313
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4313/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:209 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:4313/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.109.37/tcp/4314/p2p/16Uiu2HAmRxxboL8jjYtdd5Qu5Gmn7saLiVTyz2vgjL1gEMx29uTk","/ip4/172.18.109.37/tcp/4315/ws/p2p/16Uiu2HAmRxxboL8jjYtdd5Qu5Gmn7saLiVTyz2vgjL1gEMx29uTk"],"enrUri":"enr:-LO4QFBwSNIYicsuStbO2z1eRNQMCbbfNzEUG1PPZZkqTxXHGgzIO3nqw2505hy3QYUNHyvbe4pbpt8uDwESKu74ncYBgmlkgnY0gmlwhKwSbSWKbXVsdGlhZGRyc4wACgSsEm0lBhDb3QOCcnOFAAABAACJc2VjcDI1NmsxoQPFwmfz1RrxsvG4ba3N5ltbVbYn4fDSlA22MXCGh0Htj4N0Y3CCENqDdWRwghDchXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:214 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4313/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.156.59/tcp/38016/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node5_2024-05-08_08-26-15__7edabfac-864f-4627-8d58-6b6462a864af__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.226.34
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['29537', '29538', '29539', '29540', '29541']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:344 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:114 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:116 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 29537:29537 -p 29538:29538 -p 29539:29539 -p 29540:29540 -p 29541:29541 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=29539 --rest-port=29537 --tcp-port=29538 --discv5-udp-port=29540 --rest-address=0.0.0.0 --nat=extip:172.18.226.34 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=29541 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QEQyVKTV-77yS3OYhPlC9oj9RtMfFRj3rdN8SgZyso-DKFWiWiEu3i1dshCmXYXaNxhTov2NlB--dVj9gLhL7zYBgmlkgnY0gmlwhKwSnDuKbXVsdGlhZGRyc4wACgSsEpw7BpSB3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CClICDdWRwgpSChXdha3UyBQ --filternode=/ip4/172.18.156.59/tcp/38016/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.226.34 waku b0de7e83fbc6754fa617c74c5675a7f3a53fe86ef3cbc9ab7523b81c776234ac
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID b0de7e83fbc6. Setting up logs at ./log/docker/node5_2024-05-08_08-26-15__7edabfac-864f-4627-8d58-6b6462a864af__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 29537
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29537/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:209 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:29537/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.226.34/tcp/29538/p2p/16Uiu2HAmCqyWoNyNnbYoXgVSjuovehUuCppa5wGkMNqnjiKLCKA5","/ip4/172.18.226.34/tcp/29539/ws/p2p/16Uiu2HAmCqyWoNyNnbYoXgVSjuovehUuCppa5wGkMNqnjiKLCKA5"],"enrUri":"enr:-LO4QKqSWOfTQ2HoKR3yoXqtyFGZ24qJ5j_va6stPI0q77zJeFUoYSb7A1DeMja2jJXVVf5eX6pV4-evabA6NifIo0IBgmlkgnY0gmlwhKwS4iKKbXVsdGlhZGRyc4wACgSsEuIiBnNj3QOCcnOFAAABAACJc2VjcDI1NmsxoQMC0HGQBWfFSak3U5BkxMmHBctLzWTpXOeQrGkNL0O1_oN0Y3CCc2KDdWRwgnNkhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:214 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29537/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.156.59/tcp/38016/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38015/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/0/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47317/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "4bd6b13f-0b9e-4e7b-b60d-266cb7c0f70e", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"4bd6b13f-0b9e-4e7b-b60d-266cb7c0f70e","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57894/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "34cd89a7-1403-49f0-a291-9d13b3385e53", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"34cd89a7-1403-49f0-a291-9d13b3385e53","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:4313/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "9d75c5e3-c176-4364-8183-709f28bca930", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"9d75c5e3-c176-4364-8183-709f28bca930","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:29537/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "a71a9fb8-1796-411d-8d73-122a94d666ba", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"a71a9fb8-1796-411d-8d73-122a94d666ba","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38015/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_2:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47317/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1715156784017195520,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38015/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_2:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57894/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:57894/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:75 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:169 Stopping container with id ff02b1b85ed9
[35mDEBUG   [0m src.node.waku_node:waku_node.py:172 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:169 Stopping container with id 106bac210d08
[35mDEBUG   [0m src.node.waku_node:waku_node.py:172 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:169 Stopping container with id 51a55b1d4a23
[35mDEBUG   [0m src.node.waku_node:waku_node.py:172 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:169 Stopping container with id a2b8474575b7
[35mDEBUG   [0m src.node.waku_node:waku_node.py:172 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:169 Stopping container with id b0de7e83fbc6
[35mDEBUG   [0m src.node.waku_node:waku_node.py:172 Container stopped.