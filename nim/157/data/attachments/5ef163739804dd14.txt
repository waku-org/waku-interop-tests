[35mDEBUG   [0m tests.conftest:conftest.py:43 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:49 Running test: test_filter_unsubscribe_with_no_request_id with id: 2024-04-20_04-13-20__d2767704-84be-40f4-9c2f-86a012993082
[35mDEBUG   [0m src.steps.filter:filter.py:27 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:33 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:50 WakuNode instance initialized with log path ./log/docker/node1_2024-04-20_04-13-20__d2767704-84be-40f4-9c2f-86a012993082__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:54 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.129.129
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['24939', '24940', '24941', '24942', '24943']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:315 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:115 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 24939:24939 -p 24940:24940 -p 24941:24941 -p 24942:24942 -p 24943:24943 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=24941 --rest-port=24939 --tcp-port=24940 --discv5-udp-port=24942 --rest-address=0.0.0.0 --nat=extip:172.18.129.129 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=24943 --metrics-logging=true --relay=true --filter=true --nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.129.129 waku 78e5b364b309d64753f794d39fc9994f8a58c2c2d965c3fab34b457815815e72
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 78e5b364b309. Setting up logs at ./log/docker/node1_2024-04-20_04-13-20__d2767704-84be-40f4-9c2f-86a012993082__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:121 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 24939
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24939/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.129.129/tcp/24940/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","/ip4/172.18.129.129/tcp/24941/ws/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"],"enrUri":"enr:-LO4QHgG5BA0YZoEdYtOHlieMv-fQZpownL1aigoebXdFv0TN_qQ2g8ZsPill7HLEmMZPb-lNZsAH7wt0wDuDJQIckcBgmlkgnY0gmlwhKwSgYGKbXVsdGlhZGRyc4wACgSsEoGBBmFt3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCYWyDdWRwgmFuhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:191 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:38 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:50 WakuNode instance initialized with log path ./log/docker/node2_2024-04-20_04-13-20__d2767704-84be-40f4-9c2f-86a012993082__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:54 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.97.73
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['28661', '28662', '28663', '28664', '28665']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:315 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:115 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 28661:28661 -p 28662:28662 -p 28663:28663 -p 28664:28664 -p 28665:28665 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=28663 --rest-port=28661 --tcp-port=28662 --discv5-udp-port=28664 --rest-address=0.0.0.0 --nat=extip:172.18.97.73 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=28665 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QHgG5BA0YZoEdYtOHlieMv-fQZpownL1aigoebXdFv0TN_qQ2g8ZsPill7HLEmMZPb-lNZsAH7wt0wDuDJQIckcBgmlkgnY0gmlwhKwSgYGKbXVsdGlhZGRyc4wACgSsEoGBBmFt3QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCYWyDdWRwgmFuhXdha3UyBQ --filternode=/ip4/172.18.129.129/tcp/24940/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.97.73 waku b65514c30c8252df429a16a07d3951de6017b852038082a0c5ee3c7ba88cbe47
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID b65514c30c82. Setting up logs at ./log/docker/node2_2024-04-20_04-13-20__d2767704-84be-40f4-9c2f-86a012993082__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:121 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 28661
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28661/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.97.73/tcp/28662/p2p/16Uiu2HAkufGgd58aHzZzrKt5AyBVZEDabemubJ6Ro4yeQX54XMyz","/ip4/172.18.97.73/tcp/28663/ws/p2p/16Uiu2HAkufGgd58aHzZzrKt5AyBVZEDabemubJ6Ro4yeQX54XMyz"],"enrUri":"enr:-LO4QEYEVwEx7xamQSWohc3ARVmCguJAu052potA3A8XShneKcscE0v7_SzD0cO7W8W6OHX4bfcpII7Fdnzqr3wkMskBgmlkgnY0gmlwhKwSYUmKbXVsdGlhZGRyc4wACgSsEmFJBm_33QOCcnOFAAABAACJc2VjcDI1NmsxoQIDe8pXwq3GfgpNxdVgmc9DDPd5FQiB0CXsiIZYtT4AGYN0Y3CCb_aDdWRwgm_4hXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:191 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28661/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.129.129/tcp/24940/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24939/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/0/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28661/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "9c0a62ca-eb8a-4ef9-9932-809614e26087", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"9c0a62ca-eb8a-4ef9-9932-809614e26087","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:28661/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:28661/filter/v2/subscriptions. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data\\", contentType: \\"text/plain\\"))"}'
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:75 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:168 Stopping container with id 78e5b364b309
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:168 Stopping container with id b65514c30c82
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Container stopped.