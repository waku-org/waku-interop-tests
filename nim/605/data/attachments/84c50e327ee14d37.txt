[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_time_filter_negative_start_time with id: 2025-01-05_18-41-38__79a24fe1-1a7c-4194-96d4-984f26d98c6a
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-01-05_18-41-38__79a24fe1-1a7c-4194-96d4-984f26d98c6a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.154.72
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['46874', '46875', '46876', '46877', '46878']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 46874:46874 -p 46875:46875 -p 46876:46876 -p 46877:46877 -p 46878:46878 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=46876 --rest-port=46874 --tcp-port=46875 --discv5-udp-port=46877 --rest-address=0.0.0.0 --nat=extip:172.18.154.72 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ef739fdd8cfd22fa6cbaea57a15d0cdd7c30bbc33c6d92bf6aaedeeafcbd8c3e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=46878 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.154.72 waku af16dbdbf6cdf5461ab7d1210ed2f8d87d616107e248acf1aac41f15179d4c23
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID af16dbdbf6cd. Setting up logs at ./log/docker/publishing_node1_2025-01-05_18-41-38__79a24fe1-1a7c-4194-96d4-984f26d98c6a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 46874
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 3a6ce2f3c7e3. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46874/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46874/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.154.72/tcp/46875/p2p/16Uiu2HAmRDLJ5pYV5jiX6YqG5PujuEdrqetHMCJnDPVSDGQT6SYy","/ip4/172.18.154.72/tcp/46876/ws/p2p/16Uiu2HAmRDLJ5pYV5jiX6YqG5PujuEdrqetHMCJnDPVSDGQT6SYy"],"enrUri":"enr:-L24QEdEs_woKUNfrvpV8ZM0GFCcdWrFagYUCnAPWXBQWyIaOw739QS7pfQ7EE3vy3QLAcwLbvO-2AO7I9FvJA3MPRkCgmlkgnY0gmlwhKwSmkiKbXVsdGlhZGRyc5YACASsEppIBrcbAAoErBKaSAa3HN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDupVhbZ3Ivl8zt9SXs9E0V4JX3y6-ijdlQFF_TyDTDEqDdGNwgrcbg3VkcIK3HYV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2025-01-05_18-41-38__79a24fe1-1a7c-4194-96d4-984f26d98c6a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.14.11
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['23258', '23259', '23260', '23261', '23262']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 23258:23258 -p 23259:23259 -p 23260:23260 -p 23261:23261 -p 23262:23262 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=23260 --rest-port=23258 --tcp-port=23259 --discv5-udp-port=23261 --rest-address=0.0.0.0 --nat=extip:172.18.14.11 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=4a7cc2cd6f3ce0591e617dcaeb6fffbd28a9df3eabffd903f24ee80ea5baa2cc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=23262 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QEdEs_woKUNfrvpV8ZM0GFCcdWrFagYUCnAPWXBQWyIaOw739QS7pfQ7EE3vy3QLAcwLbvO-2AO7I9FvJA3MPRkCgmlkgnY0gmlwhKwSmkiKbXVsdGlhZGRyc5YACASsEppIBrcbAAoErBKaSAa3HN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDupVhbZ3Ivl8zt9SXs9E0V4JX3y6-ijdlQFF_TyDTDEqDdGNwgrcbg3VkcIK3HYV3YWt1MgM --storenode=/ip4/172.18.154.72/tcp/46875/p2p/16Uiu2HAmRDLJ5pYV5jiX6YqG5PujuEdrqetHMCJnDPVSDGQT6SYy --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.14.11 waku dd119ba5f6a59e11773d36417b6bb1a7aef799301aa30d9b2590703af3d699ff
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID dd119ba5f6a5. Setting up logs at ./log/docker/store_node1_2025-01-05_18-41-38__79a24fe1-1a7c-4194-96d4-984f26d98c6a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 23258
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23258/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23258/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.14.11/tcp/23259/p2p/16Uiu2HAmK4QJ21fAtFXTU1RFekUpaN2GnzCxrKVcvRzUCpxKMudK","/ip4/172.18.14.11/tcp/23260/ws/p2p/16Uiu2HAmK4QJ21fAtFXTU1RFekUpaN2GnzCxrKVcvRzUCpxKMudK"],"enrUri":"enr:-L24QCir2bFD2HWSBglU1I-sZnwROk0fEb9v8l8Xj0Dz2cuoAjT5PKsMuuHSTfKKrZiRM38mfCiHMMj7wOrmvBl3i8kCgmlkgnY0gmlwhKwSDguKbXVsdGlhZGRyc5YACASsEg4LBlrbAAoErBIOCwZa3N0DgnJzhQADAQAAiXNlY3AyNTZrMaEDXyWNo1PedY_2vjPH91Yx-mk-igN1iFkGVViMuB9kxWqDdGNwglrbg3VkcIJa3YV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23258/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.154.72/tcp/46875/p2p/16Uiu2HAmRDLJ5pYV5jiX6YqG5PujuEdrqetHMCJnDPVSDGQT6SYy"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46874/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23258/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46874/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46874/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46874/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46874/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46874/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46874/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:134 inquering stored messages with start time -10000
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46874/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=-10000&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"MGcLLXnMc8ImblUko2C0Zse4MZJLdHlAK3Jbcvj2bGs=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1736102498369553920,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"lmqS7JG4dnkVy5KZ64copKLlT0dPTLUqRACEwM9kK6k=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1736102500369560064,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"uPZBDLjnmal5v51pb0U9Kz3AuVwE1mHVGjgQvilqQUc=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1736102501269562112,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"LRc86AGXfd7xER6IgCLzWt1V/IzU0gi697RN5jW2E4g=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1736102501469563904,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"IS3ls1RgA4/44oYGrL9hVgOXKHlaiLvgLt034je4AFo=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1736102503369565952,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"gOAFuhfgQ39/9GJ0Y/vqk5G1grsTYMoJEjTujX8yvjE=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1736102511369566976,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"}]}'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:137 number of messages stored for  start time = -10000 is  6
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23258/store/v3/messages?includeData=True&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&startTime=-10000&pageSize=20&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"MGcLLXnMc8ImblUko2C0Zse4MZJLdHlAK3Jbcvj2bGs=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1736102498369553920,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"lmqS7JG4dnkVy5KZ64copKLlT0dPTLUqRACEwM9kK6k=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1736102500369560064,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"uPZBDLjnmal5v51pb0U9Kz3AuVwE1mHVGjgQvilqQUc=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1736102501269562112,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"LRc86AGXfd7xER6IgCLzWt1V/IzU0gi697RN5jW2E4g=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1736102501469563904,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"IS3ls1RgA4/44oYGrL9hVgOXKHlaiLvgLt034je4AFo=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1736102503369565952,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"},{"messageHash":"gOAFuhfgQ39/9GJ0Y/vqk5G1grsTYMoJEjTujX8yvjE=","message":{"payload":"U3RvcmUgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1736102511369566976,"ephemeral":false},"pubsubTopic":"/waku/2/rs/3/0"}]}'
[35mDEBUG   [0m tests.store.test_time_filter:test_time_filter.py:137 number of messages stored for  start time = -10000 is  6
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id af16dbdbf6cd
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id dd119ba5f6a5
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container af16dbdbf6cd. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.