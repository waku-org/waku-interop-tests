2025-02-13 04:03:49.143 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-13 04:03:49.143 DEBUG [tests.conftest] Running test: test_multiple_pubsub_topics_same_cluster with id: 2025-02-13_04-03-49__8b750a23-ef38-4530-a335-8f876040b091
2025-02-13 04:03:49.143 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-13 04:03:49.143 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-13 04:03:49.144 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-13 04:03:49.150 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-13 04:03:49.151 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-13_04-03-49__8b750a23-ef38-4530-a335-8f876040b091__wakuorg_nwaku:latest.log
2025-02-13 04:03:49.151 DEBUG [src.node.waku_node] Starting Node...
2025-02-13 04:03:49.151 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-13 04:03:49.152 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-13 04:03:49.152 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.255.80
2025-02-13 04:03:49.152 DEBUG [src.node.docker_mananger] Generated ports ['42295', '42296', '42297', '42298', '42299']
2025-02-13 04:03:49.153 DEBUG [src.node.waku_node] Cluster id was resolved to: 2
2025-02-13 04:03:49.153 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-13 04:03:49.153 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-13 04:03:49.153 DEBUG [src.node.waku_node] Using volumes []
2025-02-13 04:03:49.153 DEBUG [src.node.docker_mananger] docker run -i -t -p 42295:42295 -p 42296:42296 -p 42297:42297 -p 42298:42298 -p 42299:42299 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=42297 --rest-port=42295 --tcp-port=42296 --discv5-udp-port=42298 --rest-address=0.0.0.0 --nat=extip:172.18.255.80 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=6d1234b9f1f1c81a93fdf8eccc1be24d3e5e5caf711f1cef455a1f2ee33bfb7b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=42299 --metrics-logging=true --relay=true --filter=true --pubsub-topic=/waku/2/rs/2/0 --pubsub-topic=/waku/2/rs/2/1 --pubsub-topic=/waku/2/rs/2/2 --pubsub-topic=/waku/2/rs/2/3 --pubsub-topic=/waku/2/rs/2/4 --pubsub-topic=/waku/2/rs/2/5 --pubsub-topic=/waku/2/rs/2/6 --pubsub-topic=/waku/2/rs/2/7
2025-02-13 04:03:49.391 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.255.80 waku 518a416f09d16446cd6d702f7d6169f8e4772e9f2b359a14776e6d1c034f1f97
2025-02-13 04:03:49.446 DEBUG [src.node.docker_mananger] Container started with ID 518a416f09d1. Setting up logs at ./log/docker/node1_2025-02-13_04-03-49__8b750a23-ef38-4530-a335-8f876040b091__wakuorg_nwaku:latest.log
2025-02-13 04:03:49.447 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 42295
2025-02-13 04:03:49.447 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-13 04:03:49.940 ERROR [src.node.docker_mananger] Max retries reached for container 6895c0b7c17b. Exiting log stream.
2025-02-13 04:03:50.447 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42295/health" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:03:50.450 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-13 04:03:50.450 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-13 04:03:50.451 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42295/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:03:50.453 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.255.80/tcp/42296/p2p/16Uiu2HAmPSTZgaGkgDoAu4kNNgbqZy1ncKTaE7KFH2g9SghRwYJN","/ip4/172.18.255.80/tcp/42297/ws/p2p/16Uiu2HAmPSTZgaGkgDoAu4kNNgbqZy1ncKTaE7KFH2g9SghRwYJN"],"enrUri":"enr:-Mu4QHmLfhkIWH3jjdOOn-0IoYRRsBKIP5RXKedKyb1mLjApKzxF8gvd1A3p-mf9Fii8FPhig5m3T3gJunjOWp4StkMCgmlkgnY0gmlwhKwS_1CKbXVsdGlhZGRyc5YACASsEv9QBqU4AAoErBL_UAalOd0DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQOgOsa5511bzyXiq4Qba59ilxbWyik33dQkj-mWHDxWe4N0Y3CCpTiDdWRwgqU6hXdha3UyBQ"}'
2025-02-13 04:03:50.453 INFO [src.node.waku_node] REST service is ready !!
2025-02-13 04:03:50.459 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-13 04:03:50.459 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-13_04-03-49__8b750a23-ef38-4530-a335-8f876040b091__wakuorg_nwaku:latest.log
2025-02-13 04:03:50.459 DEBUG [src.node.waku_node] Starting Node...
2025-02-13 04:03:50.460 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-13 04:03:50.461 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-13 04:03:50.461 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.242.243
2025-02-13 04:03:50.461 DEBUG [src.node.docker_mananger] Generated ports ['21712', '21713', '21714', '21715', '21716']
2025-02-13 04:03:50.461 DEBUG [src.node.waku_node] Cluster id was resolved to: 2
2025-02-13 04:03:50.461 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-13 04:03:50.462 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-13 04:03:50.462 DEBUG [src.node.waku_node] Using volumes []
2025-02-13 04:03:50.462 DEBUG [src.node.docker_mananger] docker run -i -t -p 21712:21712 -p 21713:21713 -p 21714:21714 -p 21715:21715 -p 21716:21716 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=21714 --rest-port=21712 --tcp-port=21713 --discv5-udp-port=21715 --rest-address=0.0.0.0 --nat=extip:172.18.242.243 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=23d8b48e22ed9facfc83a3b6381cdf5be5aa8dd0bf5edbebfe80bdea740b0a49 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=21716 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-Mu4QHmLfhkIWH3jjdOOn-0IoYRRsBKIP5RXKedKyb1mLjApKzxF8gvd1A3p-mf9Fii8FPhig5m3T3gJunjOWp4StkMCgmlkgnY0gmlwhKwS_1CKbXVsdGlhZGRyc5YACASsEv9QBqU4AAoErBL_UAalOd0DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQOgOsa5511bzyXiq4Qba59ilxbWyik33dQkj-mWHDxWe4N0Y3CCpTiDdWRwgqU6hXdha3UyBQ --pubsub-topic=/waku/2/rs/2/0 --pubsub-topic=/waku/2/rs/2/1 --pubsub-topic=/waku/2/rs/2/2 --pubsub-topic=/waku/2/rs/2/3 --pubsub-topic=/waku/2/rs/2/4 --pubsub-topic=/waku/2/rs/2/5 --pubsub-topic=/waku/2/rs/2/6 --pubsub-topic=/waku/2/rs/2/7
2025-02-13 04:03:50.702 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.242.243 waku 582a70fcd730692957fb1b3331ca3cbcdf4152578c3a2f8b507ebea95170d991
2025-02-13 04:03:50.759 DEBUG [src.node.docker_mananger] Container started with ID 582a70fcd730. Setting up logs at ./log/docker/node2_2025-02-13_04-03-49__8b750a23-ef38-4530-a335-8f876040b091__wakuorg_nwaku:latest.log
2025-02-13 04:03:50.760 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 21712
2025-02-13 04:03:50.760 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-13 04:03:51.762 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21712/health" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:03:51.772 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-13 04:03:51.773 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-13 04:03:51.776 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21712/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:03:51.783 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.242.243/tcp/21713/p2p/16Uiu2HAmNjJUmkFAvW1rXFLYPHKcRZVpZPhk9sSdWXivXsLTT41D","/ip4/172.18.242.243/tcp/21714/ws/p2p/16Uiu2HAmNjJUmkFAvW1rXFLYPHKcRZVpZPhk9sSdWXivXsLTT41D"],"enrUri":"enr:-Mu4QH19k4xn7JVGXH0uDvjb-SJsjay1GlXVS6VCZon9V64QVFsuZtVVlC3473GLoz1bZS2f3oeTALgGm2NYoBm0r7ACgmlkgnY0gmlwhKwS8vOKbXVsdGlhZGRyc5YACASsEvLzBlTRAAoErBLy8wZU0t0DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQOVr7Dnk7suC5vYSSdrpWqufpYN4EME4ZJRkgz-5SGQiIN0Y3CCVNGDdWRwglTThXdha3UyAQ"}'
2025-02-13 04:03:51.784 INFO [src.node.waku_node] REST service is ready !!
2025-02-13 04:03:51.787 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21712/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.255.80/tcp/42296/p2p/16Uiu2HAmPSTZgaGkgDoAu4kNNgbqZy1ncKTaE7KFH2g9SghRwYJN"]'
2025-02-13 04:03:51.791 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:03:51.793 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:42295/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2", "/waku/2/rs/2/3", "/waku/2/rs/2/4", "/waku/2/rs/2/5", "/waku/2/rs/2/6", "/waku/2/rs/2/7"]'
2025-02-13 04:03:51.795 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:03:51.795 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21712/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2", "/waku/2/rs/2/3", "/waku/2/rs/2/4", "/waku/2/rs/2/5", "/waku/2/rs/2/6", "/waku/2/rs/2/7"]'
2025-02-13 04:03:51.798 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:03:51.798 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:42295/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-13 04:03:51.803 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:03:51.803 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 04:03:51.904 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-13 04:03:51.905 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42295/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:03:51.907 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739419431798568192,"ephemeral":false}]'
2025-02-13 04:03:51.908 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-13 04:03:51.909 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21712/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:03:51.911 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739419431798568192,"ephemeral":false}]'
2025-02-13 04:03:51.912 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:42295/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-13 04:03:51.917 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:03:51.917 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 04:03:52.018 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-13 04:03:52.018 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42295/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:03:52.020 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739419431912423680,"ephemeral":false}]'
2025-02-13 04:03:52.021 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-13 04:03:52.022 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21712/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:03:52.024 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739419431912423680,"ephemeral":false}]'
2025-02-13 04:03:52.025 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:42295/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-13 04:03:52.031 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:03:52.031 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 04:03:52.132 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-13 04:03:52.132 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42295/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:03:52.135 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739419432025831424,"ephemeral":false}]'
2025-02-13 04:03:52.137 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-13 04:03:52.137 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21712/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:03:52.139 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739419432025831424,"ephemeral":false}]'
2025-02-13 04:03:52.141 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:42295/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-13 04:03:52.146 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:03:52.147 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 04:03:52.247 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-13 04:03:52.248 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42295/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:03:52.250 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739419432141144064,"ephemeral":false}]'
2025-02-13 04:03:52.251 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-13 04:03:52.252 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21712/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:03:52.254 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739419432141144064,"ephemeral":false}]'
2025-02-13 04:03:52.255 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:42295/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-13 04:03:52.261 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:03:52.262 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 04:03:52.362 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-13 04:03:52.362 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42295/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:03:52.364 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739419432255696384,"ephemeral":false}]'
2025-02-13 04:03:52.366 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-13 04:03:52.366 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21712/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:03:52.368 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739419432255696384,"ephemeral":false}]'
2025-02-13 04:03:52.370 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:42295/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-13 04:03:52.375 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:03:52.376 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 04:03:52.476 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-13 04:03:52.476 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42295/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:03:52.478 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739419432370355456,"ephemeral":false}]'
2025-02-13 04:03:52.480 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-13 04:03:52.480 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21712/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:03:52.482 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739419432370355456,"ephemeral":false}]'
2025-02-13 04:03:52.484 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:42295/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-13 04:03:52.489 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:03:52.489 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 04:03:52.589 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-13 04:03:52.590 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42295/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:03:52.592 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739419432484512512,"ephemeral":false}]'
2025-02-13 04:03:52.593 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-13 04:03:52.594 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21712/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:03:52.596 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739419432484512512,"ephemeral":false}]'
2025-02-13 04:03:52.597 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:42295/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-13 04:03:52.602 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:03:52.603 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 04:03:52.703 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-13 04:03:52.703 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:42295/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:03:52.705 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739419432597438720,"ephemeral":false}]'
2025-02-13 04:03:52.707 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-13 04:03:52.707 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21712/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:03:52.709 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739419432597438720,"ephemeral":false}]'
2025-02-13 04:03:52.712 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-13 04:03:52.713 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-13 04:03:52.713 DEBUG [src.node.waku_node] Stopping container with id 518a416f09d1
2025-02-13 04:03:53.935 DEBUG [src.node.waku_node] Container stopped.
2025-02-13 04:03:53.935 DEBUG [src.node.waku_node] Stopping container with id 582a70fcd730
2025-02-13 04:03:54.747 ERROR [src.node.docker_mananger] Max retries reached for container 518a416f09d1. Exiting log stream.
2025-02-13 04:03:55.416 DEBUG [src.node.waku_node] Container stopped.
2025-02-13 04:03:55.416 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-13 04:03:55.426 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-13 04:03:55.436 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
