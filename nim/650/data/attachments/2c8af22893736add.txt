2025-02-13 04:03:30.826 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-13 04:03:30.826 DEBUG [tests.conftest] Running test: test_message_light_pushed_on_different_pubsub_topic_is_not_retrieved with id: 2025-02-13_04-03-30__98ce70cc-a291-4e91-a1e1-ba530d0ed586
2025-02-13 04:03:30.826 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-13 04:03:30.827 DEBUG [src.steps.light_push] Running fixture setup: light_push_setup
2025-02-13 04:03:30.833 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-13 04:03:30.833 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node1_2025-02-13_04-03-30__98ce70cc-a291-4e91-a1e1-ba530d0ed586__wakuorg_nwaku:latest.log
2025-02-13 04:03:30.833 DEBUG [src.node.waku_node] Starting Node...
2025-02-13 04:03:30.833 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-13 04:03:30.834 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-13 04:03:30.835 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.193.77
2025-02-13 04:03:30.835 DEBUG [src.node.docker_mananger] Generated ports ['39282', '39283', '39284', '39285', '39286']
2025-02-13 04:03:30.835 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-13 04:03:30.835 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-13 04:03:30.835 DEBUG [src.node.waku_node] Using volumes []
2025-02-13 04:03:30.835 DEBUG [src.node.docker_mananger] docker run -i -t -p 39282:39282 -p 39283:39283 -p 39284:39284 -p 39285:39285 -p 39286:39286 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=39284 --rest-port=39282 --tcp-port=39283 --discv5-udp-port=39285 --rest-address=0.0.0.0 --nat=extip:172.18.193.77 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d2eb7170fbffed10cc87eba87d70c5fd3b0e3f17aa1c3e251affcae104ecdbb9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=39286 --metrics-logging=true --lightpush=true --relay=true
2025-02-13 04:03:31.063 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.193.77 waku ee63873125e8a232a67ef1a0f981eb0715eb20b31b345f6d4cc170ba81f434f1
2025-02-13 04:03:31.113 DEBUG [src.node.docker_mananger] Container started with ID ee63873125e8. Setting up logs at ./log/docker/receiving_node1_2025-02-13_04-03-30__98ce70cc-a291-4e91-a1e1-ba530d0ed586__wakuorg_nwaku:latest.log
2025-02-13 04:03:31.113 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 39282
2025-02-13 04:03:31.113 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-13 04:03:31.629 ERROR [src.node.docker_mananger] Max retries reached for container 8b6045f2a7d8. Exiting log stream.
2025-02-13 04:03:32.114 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39282/health" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:03:32.117 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-13 04:03:32.117 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-13 04:03:32.117 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39282/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:03:32.120 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.193.77/tcp/39283/p2p/16Uiu2HAmLtdZEEAqWNrqTpCufXjk58DAQTmWDhkhdcf1de9mJrgg","/ip4/172.18.193.77/tcp/39284/ws/p2p/16Uiu2HAmLtdZEEAqWNrqTpCufXjk58DAQTmWDhkhdcf1de9mJrgg"],"enrUri":"enr:-L24QDk_u8HhaUJdfWlFFnrybAO2S5JreiHsp7DEuRNaBNq4F6H_7tNOAXmfTWIXn7F2tlteVs9smPOmTMNGny1afnMCgmlkgnY0gmlwhKwSwU2KbXVsdGlhZGRyc5YACASsEsFNBplzAAoErBLBTQaZdN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDelwdXbwIfoYBqFCZdCjjNiXhXO6dx3eyVbQJxJL0nomDdGNwgplzg3VkcIKZdYV3YWt1Mgk"}'
2025-02-13 04:03:32.120 INFO [src.node.waku_node] REST service is ready !!
2025-02-13 04:03:32.126 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-13 04:03:32.127 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/receiving_node2_2025-02-13_04-03-30__98ce70cc-a291-4e91-a1e1-ba530d0ed586__wakuorg_nwaku:latest.log
2025-02-13 04:03:32.127 DEBUG [src.node.waku_node] Starting Node...
2025-02-13 04:03:32.127 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-13 04:03:32.128 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-13 04:03:32.128 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.100.161
2025-02-13 04:03:32.128 DEBUG [src.node.docker_mananger] Generated ports ['59384', '59385', '59386', '59387', '59388']
2025-02-13 04:03:32.129 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-13 04:03:32.129 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-13 04:03:32.129 DEBUG [src.node.waku_node] Using volumes []
2025-02-13 04:03:32.129 DEBUG [src.node.docker_mananger] docker run -i -t -p 59384:59384 -p 59385:59385 -p 59386:59386 -p 59387:59387 -p 59388:59388 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=59386 --rest-port=59384 --tcp-port=59385 --discv5-udp-port=59387 --rest-address=0.0.0.0 --nat=extip:172.18.100.161 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6210cddcb8a0d1e43baffd7adfd2cb09f4c4f95b448bd4a34b7c8dc4d1a8bce0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=59388 --metrics-logging=true --lightpush=false --relay=true
2025-02-13 04:03:32.363 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.100.161 waku 5a5dcfea200221e295d20884452088f4473225f8b962e23aa2cf502eb652bfcb
2025-02-13 04:03:32.411 DEBUG [src.node.docker_mananger] Container started with ID 5a5dcfea2002. Setting up logs at ./log/docker/receiving_node2_2025-02-13_04-03-30__98ce70cc-a291-4e91-a1e1-ba530d0ed586__wakuorg_nwaku:latest.log
2025-02-13 04:03:32.412 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 59384
2025-02-13 04:03:32.412 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-13 04:03:33.412 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:59384/health" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:03:33.415 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-13 04:03:33.416 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-13 04:03:33.416 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:59384/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:03:33.418 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.100.161/tcp/59385/p2p/16Uiu2HAmKGSfrqpRyzCHwj55rueXYqY7JtZGV5vbXBGkySnqHxfw","/ip4/172.18.100.161/tcp/59386/ws/p2p/16Uiu2HAmKGSfrqpRyzCHwj55rueXYqY7JtZGV5vbXBGkySnqHxfw"],"enrUri":"enr:-L24QN80iBGD6rpG2shZV43yMjeQX94Bw4t2dRI3xQP90GEdBmnAngH9SnxPN9FpM5OiGkfCMScy_7DgqM_nMFL3kvwCgmlkgnY0gmlwhKwSZKGKbXVsdGlhZGRyc5YACASsEmShBuf5AAoErBJkoQbn-t0DgnJzhQADAQAAiXNlY3AyNTZrMaEDYjs1z1dCigCXmKI5zecbRC9y9xl-vu2thspik1Up726DdGNwguf5g3VkcILn-4V3YWt1MgE"}'
2025-02-13 04:03:33.418 INFO [src.node.waku_node] REST service is ready !!
2025-02-13 04:03:33.418 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:59384/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.193.77/tcp/39283/p2p/16Uiu2HAmLtdZEEAqWNrqTpCufXjk58DAQTmWDhkhdcf1de9mJrgg"]'
2025-02-13 04:03:33.462 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:03:33.469 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-13 04:03:33.469 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/lightpush_node1_2025-02-13_04-03-30__98ce70cc-a291-4e91-a1e1-ba530d0ed586__wakuorg_nwaku:latest.log
2025-02-13 04:03:33.469 DEBUG [src.node.waku_node] Starting Node...
2025-02-13 04:03:33.470 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-13 04:03:33.471 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-13 04:03:33.471 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.253.196
2025-02-13 04:03:33.471 DEBUG [src.node.docker_mananger] Generated ports ['15132', '15133', '15134', '15135', '15136']
2025-02-13 04:03:33.471 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-13 04:03:33.472 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-13 04:03:33.472 DEBUG [src.node.waku_node] Using volumes []
2025-02-13 04:03:33.472 DEBUG [src.node.docker_mananger] docker run -i -t -p 15132:15132 -p 15133:15133 -p 15134:15134 -p 15135:15135 -p 15136:15136 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=15134 --rest-port=15132 --tcp-port=15133 --discv5-udp-port=15135 --rest-address=0.0.0.0 --nat=extip:172.18.253.196 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a37cc5deeffaabf5bf1edbb0e30ab61f05c5dcfbf7ece86c710f80dba25bff8f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=15136 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QDk_u8HhaUJdfWlFFnrybAO2S5JreiHsp7DEuRNaBNq4F6H_7tNOAXmfTWIXn7F2tlteVs9smPOmTMNGny1afnMCgmlkgnY0gmlwhKwSwU2KbXVsdGlhZGRyc5YACASsEsFNBplzAAoErBLBTQaZdN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDelwdXbwIfoYBqFCZdCjjNiXhXO6dx3eyVbQJxJL0nomDdGNwgplzg3VkcIKZdYV3YWt1Mgk --lightpushnode=/ip4/172.18.193.77/tcp/39283/p2p/16Uiu2HAmLtdZEEAqWNrqTpCufXjk58DAQTmWDhkhdcf1de9mJrgg --lightpush=true --relay=false
2025-02-13 04:03:33.706 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.253.196 waku 64f96c8ee7dbe2fa9ff7527a6561aca1f88965a23d23a4cc6d8ef0fed8153e43
2025-02-13 04:03:33.755 DEBUG [src.node.docker_mananger] Container started with ID 64f96c8ee7db. Setting up logs at ./log/docker/lightpush_node1_2025-02-13_04-03-30__98ce70cc-a291-4e91-a1e1-ba530d0ed586__wakuorg_nwaku:latest.log
2025-02-13 04:03:33.756 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 15132
2025-02-13 04:03:33.756 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-13 04:03:34.756 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15132/health" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:03:34.759 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-13 04:03:34.760 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-13 04:03:34.760 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15132/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:03:34.762 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.253.196/tcp/15133/p2p/16Uiu2HAm6eir6dZopu4HhnLTjtnb8mKx2VoPpviCXTdASRNsaXdD","/ip4/172.18.253.196/tcp/15134/ws/p2p/16Uiu2HAm6eir6dZopu4HhnLTjtnb8mKx2VoPpviCXTdASRNsaXdD"],"enrUri":"enr:-L24QFKTuolPWIH4l2V4VTWErP3NlBzTp8phPItaoDcKcWa6e-wSEemxTNKTIVHrh2fmq3xQ1wR_9YHulfgiD59DnacCgmlkgnY0gmlwhKwS_cSKbXVsdGlhZGRyc5YACASsEv3EBjsdAAoErBL9xAY7Ht0DgnJzhQADAQAAiXNlY3AyNTZrMaECpshZSoTuwixRLBd7ueiMmXvohSXhYNOsNxD11C4yelSDdGNwgjsdg3VkcII7H4V3YWt1Mgg"}'
2025-02-13 04:03:34.762 INFO [src.node.waku_node] REST service is ready !!
2025-02-13 04:03:34.762 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15132/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.193.77/tcp/39283/p2p/16Uiu2HAmLtdZEEAqWNrqTpCufXjk58DAQTmWDhkhdcf1de9mJrgg"]'
2025-02-13 04:03:34.798 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:03:34.799 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15132/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.100.161/tcp/59385/p2p/16Uiu2HAmKGSfrqpRyzCHwj55rueXYqY7JtZGV5vbXBGkySnqHxfw"]'
2025-02-13 04:03:34.830 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:03:34.832 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39282/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-13 04:03:34.837 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:03:34.839 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:59384/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-13 04:03:34.843 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:03:34.845 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39282/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9", "/waku/2/rs/3/25", "/waku/2/rs/3/1000"]'
2025-02-13 04:03:34.851 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:03:34.852 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:59384/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0", "/waku/2/rs/3/1", "/waku/2/rs/3/9", "/waku/2/rs/3/25", "/waku/2/rs/3/1000"]'
2025-02-13 04:03:34.863 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:03:34.864 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15132/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1739419414864173568}}'
2025-02-13 04:03:34.876 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:03:34.877 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 04:03:34.978 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39282/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:03:34.980 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[]'
2025-02-13 04:03:34.982 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-13 04:03:34.983 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-13 04:03:34.983 DEBUG [src.node.waku_node] Stopping container with id ee63873125e8
2025-02-13 04:03:35.583 DEBUG [src.node.waku_node] Container stopped.
2025-02-13 04:03:35.583 DEBUG [src.node.waku_node] Stopping container with id 5a5dcfea2002
2025-02-13 04:03:36.424 ERROR [src.node.docker_mananger] Max retries reached for container ee63873125e8. Exiting log stream.
2025-02-13 04:03:37.082 DEBUG [src.node.waku_node] Container stopped.
2025-02-13 04:03:37.082 DEBUG [src.node.waku_node] Stopping container with id 64f96c8ee7db
2025-02-13 04:03:37.896 ERROR [src.node.docker_mananger] Max retries reached for container 5a5dcfea2002. Exiting log stream.
2025-02-13 04:03:38.590 DEBUG [src.node.waku_node] Container stopped.
2025-02-13 04:03:38.592 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-13 04:03:38.609 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-13 04:03:38.617 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-13 04:03:38.623 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
