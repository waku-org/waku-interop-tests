[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2025-02-13_04-03-57__1e782a34-b2d3-477a-aad3-3da4ebd08aa6
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-02-13_04-03-57__1e782a34-b2d3-477a-aad3-3da4ebd08aa6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.33.234
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['36657', '36658', '36659', '36660', '36661']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 36657:36657 -p 36658:36658 -p 36659:36659 -p 36660:36660 -p 36661:36661 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=36659 --rest-port=36657 --tcp-port=36658 --discv5-udp-port=36660 --rest-address=0.0.0.0 --nat=extip:172.18.33.234 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=64ff6ac44eabdef1742df2fdfeeb6eaa1bc6a8d22bd8ec60c34ccbf2d178665f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=36661 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.33.234 waku a3cab2d7edc8c9d16ed4ea0f2c89196d1b4a47b80e810c30af5baeb4332a79a3
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID a3cab2d7edc8. Setting up logs at ./log/docker/node1_2025-02-13_04-03-57__1e782a34-b2d3-477a-aad3-3da4ebd08aa6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 36657
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container cb71078e394e. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36657/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36657/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.33.234/tcp/36658/p2p/16Uiu2HAmDwqLhFi12DX9EHhgN65A1sBsXUjm8rPD2bQtZT9KSYPA","/ip4/172.18.33.234/tcp/36659/ws/p2p/16Uiu2HAmDwqLhFi12DX9EHhgN65A1sBsXUjm8rPD2bQtZT9KSYPA"],"enrUri":"enr:-L24QDH_nj4LRkAiLlDs5xb5S_j-m6v--gJrrypA4JyOaGL5RjbK5HsUw__VUhS2OdmiIEU71FPhzjqyKXV6ER1GQUwCgmlkgnY0gmlwhKwSIeqKbXVsdGlhZGRyc5YACASsEiHqBo8yAAoErBIh6gaPM90DgnJzhQADAQAAiXNlY3AyNTZrMaEDEyxfbGs4l2g17ewXG05AP-Cx1x_6hRSFdY6PzzJDTemDdGNwgo8yg3VkcIKPNIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-02-13_04-03-57__1e782a34-b2d3-477a-aad3-3da4ebd08aa6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.178.238
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['43638', '43639', '43640', '43641', '43642']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 43638:43638 -p 43639:43639 -p 43640:43640 -p 43641:43641 -p 43642:43642 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=43640 --rest-port=43638 --tcp-port=43639 --discv5-udp-port=43641 --rest-address=0.0.0.0 --nat=extip:172.18.178.238 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cfabbcd1ca5cce15add61aedbb154b6e7daf2ccbbe6970dceaec2550daabd9bc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=43642 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QDH_nj4LRkAiLlDs5xb5S_j-m6v--gJrrypA4JyOaGL5RjbK5HsUw__VUhS2OdmiIEU71FPhzjqyKXV6ER1GQUwCgmlkgnY0gmlwhKwSIeqKbXVsdGlhZGRyc5YACASsEiHqBo8yAAoErBIh6gaPM90DgnJzhQADAQAAiXNlY3AyNTZrMaEDEyxfbGs4l2g17ewXG05AP-Cx1x_6hRSFdY6PzzJDTemDdGNwgo8yg3VkcIKPNIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.178.238 waku 5c37457887d10b1c5ad53e08fe6008ef548e80dd4d3fca60970ee536518eace7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 5c37457887d1. Setting up logs at ./log/docker/node2_2025-02-13_04-03-57__1e782a34-b2d3-477a-aad3-3da4ebd08aa6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 43638
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43638/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43638/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.178.238/tcp/43639/p2p/16Uiu2HAm1877xxnkTodQgRYZWVGLs4Yi6aD6Xuk5AWP7uLyGbbvN","/ip4/172.18.178.238/tcp/43640/ws/p2p/16Uiu2HAm1877xxnkTodQgRYZWVGLs4Yi6aD6Xuk5AWP7uLyGbbvN"],"enrUri":"enr:-L24QAdL4v5fuCtMutCFCsq0agq_EGQTGEnfem-9kidxIq66HWbJSPWmOSFfKUqEcglFvf3EUxic_S4hqDLo_Wv0-YsCgmlkgnY0gmlwhKwSsu6KbXVsdGlhZGRyc5YACASsErLuBqp3AAoErBKy7gaqeN0DgnJzhQADAQAAiXNlY3AyNTZrMaECVKYYCdhhsQFpRi52Md8LV0_PHk6QztiH_QIeGMNnud-DdGNwgqp3g3VkcIKqeYV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43638/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.33.234/tcp/36658/p2p/16Uiu2HAmDwqLhFi12DX9EHhgN65A1sBsXUjm8rPD2bQtZT9KSYPA"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2025-02-13_04-03-57__1e782a34-b2d3-477a-aad3-3da4ebd08aa6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.110.63
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['51883', '51884', '51885', '51886', '51887']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 51883:51883 -p 51884:51884 -p 51885:51885 -p 51886:51886 -p 51887:51887 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=51885 --rest-port=51883 --tcp-port=51884 --discv5-udp-port=51886 --rest-address=0.0.0.0 --nat=extip:172.18.110.63 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3edac653edb6e23f24ced95da4dceceb3968bc9a73767c3deda867aa540afced --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=51887 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QDH_nj4LRkAiLlDs5xb5S_j-m6v--gJrrypA4JyOaGL5RjbK5HsUw__VUhS2OdmiIEU71FPhzjqyKXV6ER1GQUwCgmlkgnY0gmlwhKwSIeqKbXVsdGlhZGRyc5YACASsEiHqBo8yAAoErBIh6gaPM90DgnJzhQADAQAAiXNlY3AyNTZrMaEDEyxfbGs4l2g17ewXG05AP-Cx1x_6hRSFdY6PzzJDTemDdGNwgo8yg3VkcIKPNIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.110.63 waku eb76a231504842d530038ccb3ca3d70a1be65b2893bf0af624b62c53eae097ab
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID eb76a2315048. Setting up logs at ./log/docker/node3_2025-02-13_04-03-57__1e782a34-b2d3-477a-aad3-3da4ebd08aa6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 51883
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51883/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51883/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.110.63/tcp/51884/p2p/16Uiu2HAmL2S26x17ot9RjmpWVxL5dj8zqUF9ERhwT2q5MpxWHTfY","/ip4/172.18.110.63/tcp/51885/ws/p2p/16Uiu2HAmL2S26x17ot9RjmpWVxL5dj8zqUF9ERhwT2q5MpxWHTfY"],"enrUri":"enr:-L24QKZavlXyAZ_RykWv6AnXuarnjE08mIGatTVsCe4PD4wTDbefzD1Lcm8G7lUF2IUkjmfcbIXdMRi-DrOG5bJyAWUCgmlkgnY0gmlwhKwSbj-KbXVsdGlhZGRyc5YACASsEm4_BsqsAAoErBJuPwbKrd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDbYAHnGLdonszQFL8-sXTnsu0Ka1bhAXINFkzgjVDcNODdGNwgsqsg3VkcILKroV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51883/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.33.234/tcp/36658/p2p/16Uiu2HAmDwqLhFi12DX9EHhgN65A1sBsXUjm8rPD2bQtZT9KSYPA"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2025-02-13_04-03-57__1e782a34-b2d3-477a-aad3-3da4ebd08aa6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.98.19
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['19165', '19166', '19167', '19168', '19169']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 19165:19165 -p 19166:19166 -p 19167:19167 -p 19168:19168 -p 19169:19169 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=19167 --rest-port=19165 --tcp-port=19166 --discv5-udp-port=19168 --rest-address=0.0.0.0 --nat=extip:172.18.98.19 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b3d5e5dcc6f4bda702cf0faf424046e27b91d7e007daefacfe58285c865cfab2 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=19169 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QDH_nj4LRkAiLlDs5xb5S_j-m6v--gJrrypA4JyOaGL5RjbK5HsUw__VUhS2OdmiIEU71FPhzjqyKXV6ER1GQUwCgmlkgnY0gmlwhKwSIeqKbXVsdGlhZGRyc5YACASsEiHqBo8yAAoErBIh6gaPM90DgnJzhQADAQAAiXNlY3AyNTZrMaEDEyxfbGs4l2g17ewXG05AP-Cx1x_6hRSFdY6PzzJDTemDdGNwgo8yg3VkcIKPNIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.98.19 waku a221d10aba54fa955c44c7b59ea14708bbfcd4a4546d59fa9571cfa5e47aeba4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID a221d10aba54. Setting up logs at ./log/docker/node4_2025-02-13_04-03-57__1e782a34-b2d3-477a-aad3-3da4ebd08aa6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 19165
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19165/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19165/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.98.19/tcp/19166/p2p/16Uiu2HAmEYw2ADRNFHG65fYnmVKbgWH99pYeWNe7WgA17xrVeDW6","/ip4/172.18.98.19/tcp/19167/ws/p2p/16Uiu2HAmEYw2ADRNFHG65fYnmVKbgWH99pYeWNe7WgA17xrVeDW6"],"enrUri":"enr:-L24QMi98P6n0szGle9LuUxfdHitWXKmsJgQWWdGKqbnZ82wQElrepkG2taErDkd7y3vvl0m0KdSgR6sLUqbn6H8HkMCgmlkgnY0gmlwhKwSYhOKbXVsdGlhZGRyc5YACASsEmITBkreAAoErBJiEwZK390DgnJzhQADAQAAiXNlY3AyNTZrMaEDHCofuvNwxQ5b1-2oMtR0WlHHxyaDLPWE1gyw1Qb0Qi-DdGNwgkreg3VkcIJK4IV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19165/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.33.234/tcp/36658/p2p/16Uiu2HAmDwqLhFi12DX9EHhgN65A1sBsXUjm8rPD2bQtZT9KSYPA"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2025-02-13_04-03-57__1e782a34-b2d3-477a-aad3-3da4ebd08aa6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.26.119
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['23536', '23537', '23538', '23539', '23540']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 23536:23536 -p 23537:23537 -p 23538:23538 -p 23539:23539 -p 23540:23540 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=23538 --rest-port=23536 --tcp-port=23537 --discv5-udp-port=23539 --rest-address=0.0.0.0 --nat=extip:172.18.26.119 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bbe859fb4c5ff8fbaa6bb3ac7e4dfefbfad95da9a4c5b0fe12db98eabea7efb3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=23540 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QDH_nj4LRkAiLlDs5xb5S_j-m6v--gJrrypA4JyOaGL5RjbK5HsUw__VUhS2OdmiIEU71FPhzjqyKXV6ER1GQUwCgmlkgnY0gmlwhKwSIeqKbXVsdGlhZGRyc5YACASsEiHqBo8yAAoErBIh6gaPM90DgnJzhQADAQAAiXNlY3AyNTZrMaEDEyxfbGs4l2g17ewXG05AP-Cx1x_6hRSFdY6PzzJDTemDdGNwgo8yg3VkcIKPNIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.26.119 waku 74fe42e306f015abf46809d59687423e8a51e78c85ed0f6f5d256bf147004263
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 74fe42e306f0. Setting up logs at ./log/docker/node5_2025-02-13_04-03-57__1e782a34-b2d3-477a-aad3-3da4ebd08aa6__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 23536
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23536/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23536/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.26.119/tcp/23537/p2p/16Uiu2HAmJdtKeBiWnNxN49HsKq4EmcoegRE7ZY1ACXDk6uhmH3jf","/ip4/172.18.26.119/tcp/23538/ws/p2p/16Uiu2HAmJdtKeBiWnNxN49HsKq4EmcoegRE7ZY1ACXDk6uhmH3jf"],"enrUri":"enr:-L24QLtj4lRIRemyS-Ugdrmg0s0catYDJZM_CvuY6KK4YXI4LG-DDmORSWukekUTHKhbc0s1CA0ak6Y5VJ1ltcCePBECgmlkgnY0gmlwhKwSGneKbXVsdGlhZGRyc5YACASsEhp3BlvxAAoErBIadwZb8t0DgnJzhQADAQAAiXNlY3AyNTZrMaEDWN25clcKlbpHm1AnhMWkPmBzZua9NkahCVlXmZVhArKDdGNwglvxg3VkcIJb84V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23536/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.33.234/tcp/36658/p2p/16Uiu2HAmDwqLhFi12DX9EHhgN65A1sBsXUjm8rPD2bQtZT9KSYPA"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36657/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:43638/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51883/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19165/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23536/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36657/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36657/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739419443604000000,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43638/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739419443604000000,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51883/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739419443604000000,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19165/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739419443604000000,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23536/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739419443604000000,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23536/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36657/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739419443736686336,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:43638/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739419443736686336,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51883/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739419443736686336,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19165/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739419443736686336,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23536/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739419443736686336,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id a3cab2d7edc8
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 5c37457887d1
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container a3cab2d7edc8. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id eb76a2315048
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 5c37457887d1. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id a221d10aba54
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container eb76a2315048. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 74fe42e306f0
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container a221d10aba54. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.