2025-02-13 04:04:00.601 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-13 04:04:00.602 DEBUG [tests.conftest] Running test: test_invalid_hash_param with id: 2025-02-13_04-04-00__34029355-9132-4966-aacb-5a0df3c71c5e
2025-02-13 04:04:00.602 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-13 04:04:00.604 DEBUG [src.steps.store] Running fixture setup: store_setup
2025-02-13 04:04:00.605 DEBUG [src.steps.store] Running fixture setup: node_setup
2025-02-13 04:04:00.613 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-13 04:04:00.614 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-13_04-04-00__34029355-9132-4966-aacb-5a0df3c71c5e__wakuorg_nwaku:latest.log
2025-02-13 04:04:00.614 DEBUG [src.node.waku_node] Starting Node...
2025-02-13 04:04:00.614 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-13 04:04:00.616 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-13 04:04:00.618 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.73.236
2025-02-13 04:04:00.618 DEBUG [src.node.docker_mananger] Generated ports ['45694', '45695', '45696', '45697', '45698']
2025-02-13 04:04:00.618 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-13 04:04:00.618 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-13 04:04:00.618 DEBUG [src.node.waku_node] Using volumes []
2025-02-13 04:04:00.618 DEBUG [src.node.docker_mananger] docker run -i -t -p 45694:45694 -p 45695:45695 -p 45696:45696 -p 45697:45697 -p 45698:45698 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=45696 --rest-port=45694 --tcp-port=45695 --discv5-udp-port=45697 --rest-address=0.0.0.0 --nat=extip:172.18.73.236 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=4dca4c1cc97e57c20842ddf4d0b70cabfd8705fd3cd1e03ca8ad46b17dcd662d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=45698 --metrics-logging=true --store=true --relay=true
2025-02-13 04:04:00.855 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.73.236 waku 4aeafb63520ab57006c5a70aa07888cbde3e64e3e7665fb6fa5a02a985fe790a
2025-02-13 04:04:00.904 DEBUG [src.node.docker_mananger] Container started with ID 4aeafb63520a. Setting up logs at ./log/docker/publishing_node1_2025-02-13_04-04-00__34029355-9132-4966-aacb-5a0df3c71c5e__wakuorg_nwaku:latest.log
2025-02-13 04:04:00.906 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 45694
2025-02-13 04:04:00.906 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-13 04:04:01.432 ERROR [src.node.docker_mananger] Max retries reached for container 3c8990641005. Exiting log stream.
2025-02-13 04:04:01.906 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45694/health" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:04:01.909 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-13 04:04:01.909 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-13 04:04:01.909 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45694/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:04:01.911 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.73.236/tcp/45695/p2p/16Uiu2HAmMysax9XS27Z8iy6xUkUf8mdgXuodjAJXNCqkycdPBrTj","/ip4/172.18.73.236/tcp/45696/ws/p2p/16Uiu2HAmMysax9XS27Z8iy6xUkUf8mdgXuodjAJXNCqkycdPBrTj"],"enrUri":"enr:-L24QDu6f_STZrQnYveDGvMhh9zGGNdHb5CLqIkSPL2JkVVTSZJhZwCW7gRpY490WQUVpkESpiiyoXh3UV5eI90dx8ICgmlkgnY0gmlwhKwSSeyKbXVsdGlhZGRyc5YACASsEknsBrJ_AAoErBJJ7AaygN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDio-RscMFpwfqJFQiWG9PAUtaRMyVcF2QYUBJG8-qPyKDdGNwgrJ_g3VkcIKygYV3YWt1MgM"}'
2025-02-13 04:04:01.911 INFO [src.node.waku_node] REST service is ready !!
2025-02-13 04:04:01.918 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-13 04:04:01.918 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-13_04-04-00__34029355-9132-4966-aacb-5a0df3c71c5e__wakuorg_nwaku:latest.log
2025-02-13 04:04:01.918 DEBUG [src.node.waku_node] Starting Node...
2025-02-13 04:04:01.918 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-13 04:04:01.919 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-13 04:04:01.919 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.183.224
2025-02-13 04:04:01.920 DEBUG [src.node.docker_mananger] Generated ports ['49734', '49735', '49736', '49737', '49738']
2025-02-13 04:04:01.920 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-13 04:04:01.920 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-13 04:04:01.920 DEBUG [src.node.waku_node] Using volumes []
2025-02-13 04:04:01.920 DEBUG [src.node.docker_mananger] docker run -i -t -p 49734:49734 -p 49735:49735 -p 49736:49736 -p 49737:49737 -p 49738:49738 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=49736 --rest-port=49734 --tcp-port=49735 --discv5-udp-port=49737 --rest-address=0.0.0.0 --nat=extip:172.18.183.224 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d60ef736f7f4ce25f61e0caf13b0ba5ce6c3e55dff4a4d50dedf29aabbb5eaca --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=49738 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QDu6f_STZrQnYveDGvMhh9zGGNdHb5CLqIkSPL2JkVVTSZJhZwCW7gRpY490WQUVpkESpiiyoXh3UV5eI90dx8ICgmlkgnY0gmlwhKwSSeyKbXVsdGlhZGRyc5YACASsEknsBrJ_AAoErBJJ7AaygN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDio-RscMFpwfqJFQiWG9PAUtaRMyVcF2QYUBJG8-qPyKDdGNwgrJ_g3VkcIKygYV3YWt1MgM --storenode=/ip4/172.18.73.236/tcp/45695/p2p/16Uiu2HAmMysax9XS27Z8iy6xUkUf8mdgXuodjAJXNCqkycdPBrTj --store=true --relay=true
2025-02-13 04:04:02.147 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.183.224 waku cf0bda8cb8c70e1fcbaf148162da82b93e20f99f9155e6b3ebfa8e4ad330648c
2025-02-13 04:04:02.203 DEBUG [src.node.docker_mananger] Container started with ID cf0bda8cb8c7. Setting up logs at ./log/docker/store_node1_2025-02-13_04-04-00__34029355-9132-4966-aacb-5a0df3c71c5e__wakuorg_nwaku:latest.log
2025-02-13 04:04:02.205 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 49734
2025-02-13 04:04:02.205 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-13 04:04:03.205 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49734/health" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:04:03.208 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-13 04:04:03.208 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-13 04:04:03.208 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49734/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:04:03.210 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.183.224/tcp/49735/p2p/16Uiu2HAm7DUbCXg9Gk4aYjYa5FVL8RavMC51EzWv2TNNAMZFo3up","/ip4/172.18.183.224/tcp/49736/ws/p2p/16Uiu2HAm7DUbCXg9Gk4aYjYa5FVL8RavMC51EzWv2TNNAMZFo3up"],"enrUri":"enr:-L24QIB4HRjw_o6NnpuhHiE9_76daDf5n3cdJRHnKVRvT64rTED3DFC9I7tWoy4wG9a729jbk5f43ivaQVIa6zgTm7ECgmlkgnY0gmlwhKwSt-CKbXVsdGlhZGRyc5YACASsErfgBsJHAAoErBK34AbCSN0DgnJzhQADAQAAiXNlY3AyNTZrMaECryxlK-36XGyhbDeJnfmpmnypuf72UWckNf20VwITds-DdGNwgsJHg3VkcILCSYV3YWt1MgM"}'
2025-02-13 04:04:03.210 INFO [src.node.waku_node] REST service is ready !!
2025-02-13 04:04:03.210 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:49734/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.73.236/tcp/45695/p2p/16Uiu2HAmMysax9XS27Z8iy6xUkUf8mdgXuodjAJXNCqkycdPBrTj"]'
2025-02-13 04:04:03.213 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:04:03.213 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45694/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-13 04:04:03.215 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:04:03.216 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:49734/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-13 04:04:03.218 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:04:03.219 DEBUG [src.steps.store] Relaying message
2025-02-13 04:04:03.219 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45694/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8w", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-13 04:04:03.224 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:04:03.225 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-13 04:04:03.425 DEBUG [src.steps.store] Relaying message
2025-02-13 04:04:03.425 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45694/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8x", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-13 04:04:03.430 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:04:03.430 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-13 04:04:03.631 DEBUG [src.steps.store] Relaying message
2025-02-13 04:04:03.631 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45694/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8y", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-13 04:04:03.636 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:04:03.637 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-13 04:04:03.837 DEBUG [src.steps.store] Relaying message
2025-02-13 04:04:03.837 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:45694/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8z", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-13 04:04:03.844 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:04:03.844 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-13 04:04:04.045 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45694/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&hashes=0x7122e45c50dab1e18f0e2f65e5e26ec10f5db74a5a45bfb4e491a75f82b87583&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:04:04.047 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x7122e45c50dab1e18f0e2f65e5e26ec10f5db74a5a45bfb4e491a75f82b87583"}]}'
2025-02-13 04:04:04.047 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:45694/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&ascending=true&hash=0x7122e45c50dab1e18f0e2f65e5e26ec10f5db74a5a45bfb4e491a75f82b87583" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:04:04.050 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xbef508d61c10e417ebf92bb7f8cb1f447541902d3b4b8ccf80923e92aa234f11"},{"messageHash":"0x122b366e3d513f26c9305ada0ee3400ed9f1bb24065da45ee58a1e658b8bae6a"},{"messageHash":"0x7122e45c50dab1e18f0e2f65e5e26ec10f5db74a5a45bfb4e491a75f82b87583"},{"messageHash":"0x37ed40cf7fd6f8178a4ae3f38b989479da29543a3b7f1ed6e59c90e44ba848ed"}]}'
2025-02-13 04:04:04.050 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49734/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&hashes=0x7122e45c50dab1e18f0e2f65e5e26ec10f5db74a5a45bfb4e491a75f82b87583&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:04:04.053 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0x7122e45c50dab1e18f0e2f65e5e26ec10f5db74a5a45bfb4e491a75f82b87583"}]}'
2025-02-13 04:04:04.053 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:49734/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&ascending=true&hash=0x7122e45c50dab1e18f0e2f65e5e26ec10f5db74a5a45bfb4e491a75f82b87583" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:04:04.056 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"0xbef508d61c10e417ebf92bb7f8cb1f447541902d3b4b8ccf80923e92aa234f11"},{"messageHash":"0x122b366e3d513f26c9305ada0ee3400ed9f1bb24065da45ee58a1e658b8bae6a"},{"messageHash":"0x7122e45c50dab1e18f0e2f65e5e26ec10f5db74a5a45bfb4e491a75f82b87583"},{"messageHash":"0x37ed40cf7fd6f8178a4ae3f38b989479da29543a3b7f1ed6e59c90e44ba848ed"}]}'
2025-02-13 04:04:04.058 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-13 04:04:04.058 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-13 04:04:04.059 DEBUG [src.node.waku_node] Stopping container with id 4aeafb63520a
2025-02-13 04:04:04.736 DEBUG [src.node.waku_node] Container stopped.
2025-02-13 04:04:04.736 DEBUG [src.node.waku_node] Stopping container with id cf0bda8cb8c7
2025-02-13 04:04:05.547 ERROR [src.node.docker_mananger] Max retries reached for container 4aeafb63520a. Exiting log stream.
2025-02-13 04:04:06.199 DEBUG [src.node.waku_node] Container stopped.
2025-02-13 04:04:06.201 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-13 04:04:06.210 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-13 04:04:06.216 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
