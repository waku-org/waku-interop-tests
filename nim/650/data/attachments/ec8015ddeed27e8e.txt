2025-02-13 04:04:30.336 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-13 04:04:30.337 DEBUG [tests.conftest] Running test: test_unsubscribe_from_all_content_topics_one_by_one with id: 2025-02-13_04-04-30__61df5874-12a9-4fe9-815b-a8875e405715
2025-02-13 04:04:30.337 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-13 04:04:30.337 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-13 04:04:30.338 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-13 04:04:30.345 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-13 04:04:30.345 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-13_04-04-30__61df5874-12a9-4fe9-815b-a8875e405715__wakuorg_nwaku:latest.log
2025-02-13 04:04:30.345 DEBUG [src.node.waku_node] Starting Node...
2025-02-13 04:04:30.345 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-13 04:04:30.347 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-13 04:04:30.347 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.90.140
2025-02-13 04:04:30.347 DEBUG [src.node.docker_mananger] Generated ports ['10854', '10855', '10856', '10857', '10858']
2025-02-13 04:04:30.347 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-13 04:04:30.348 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-13 04:04:30.348 DEBUG [src.node.waku_node] Using volumes []
2025-02-13 04:04:30.348 DEBUG [src.node.docker_mananger] docker run -i -t -p 10854:10854 -p 10855:10855 -p 10856:10856 -p 10857:10857 -p 10858:10858 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=10856 --rest-port=10854 --tcp-port=10855 --discv5-udp-port=10857 --rest-address=0.0.0.0 --nat=extip:172.18.90.140 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=42f9cf98eeff5f3a8124378302a0831cfd2c6669ed57ec13baadf03cc133e04b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=10858 --metrics-logging=true --relay=true --filter=true --content-topic=/myapp/1/latest/proto
2025-02-13 04:04:30.584 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.90.140 waku b6bd89ab2cf795c849e77ae3b90076eb761beb11e470aa23d6a577507ad45f46
2025-02-13 04:04:30.640 DEBUG [src.node.docker_mananger] Container started with ID b6bd89ab2cf7. Setting up logs at ./log/docker/node1_2025-02-13_04-04-30__61df5874-12a9-4fe9-815b-a8875e405715__wakuorg_nwaku:latest.log
2025-02-13 04:04:30.642 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 10854
2025-02-13 04:04:30.642 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-13 04:04:31.125 ERROR [src.node.docker_mananger] Max retries reached for container 28a4ba93f645. Exiting log stream.
2025-02-13 04:04:31.642 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10854/health" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:04:31.646 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-13 04:04:31.646 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-13 04:04:31.646 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10854/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:04:31.648 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.90.140/tcp/10855/p2p/16Uiu2HAkzQgka7Q7WwJ2PYhmpNdGLNYeFY6bmxrCUoo1BSBrVBsD","/ip4/172.18.90.140/tcp/10856/ws/p2p/16Uiu2HAkzQgka7Q7WwJ2PYhmpNdGLNYeFY6bmxrCUoo1BSBrVBsD"],"enrUri":"enr:-L24QKo_y2btFtOwm5p8aZdYp3s6-L_zpB2SVg4H6awdFdq9UFI-ZmySvu4Al_YypwXANEPlBvW_BaSUuTQJ5Vd_ZO0CgmlkgnY0gmlwhKwSWoyKbXVsdGlhZGRyc5YACASsElqMBipnAAoErBJajAYqaN0DgnJzhQACAQAAiXNlY3AyNTZrMaECSgm6DXmg_ogJZkjDFwgfgY4BfkaD44D93oNMkTjDNLiDdGNwgipng3VkcIIqaYV3YWt1MgU"}'
2025-02-13 04:04:31.648 INFO [src.node.waku_node] REST service is ready !!
2025-02-13 04:04:31.655 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-13 04:04:31.655 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-13_04-04-30__61df5874-12a9-4fe9-815b-a8875e405715__wakuorg_nwaku:latest.log
2025-02-13 04:04:31.655 DEBUG [src.node.waku_node] Starting Node...
2025-02-13 04:04:31.656 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-13 04:04:31.657 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-13 04:04:31.657 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.124.130
2025-02-13 04:04:31.657 DEBUG [src.node.docker_mananger] Generated ports ['47694', '47695', '47696', '47697', '47698']
2025-02-13 04:04:31.658 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-13 04:04:31.658 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-13 04:04:31.658 DEBUG [src.node.waku_node] Using volumes []
2025-02-13 04:04:31.658 DEBUG [src.node.docker_mananger] docker run -i -t -p 47694:47694 -p 47695:47695 -p 47696:47696 -p 47697:47697 -p 47698:47698 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=47696 --rest-port=47694 --tcp-port=47695 --discv5-udp-port=47697 --rest-address=0.0.0.0 --nat=extip:172.18.124.130 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=a9cd9cf4080a72a881caea080f086a63d9fc012876fce0dafedfaa99e90ade6a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=47698 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QKo_y2btFtOwm5p8aZdYp3s6-L_zpB2SVg4H6awdFdq9UFI-ZmySvu4Al_YypwXANEPlBvW_BaSUuTQJ5Vd_ZO0CgmlkgnY0gmlwhKwSWoyKbXVsdGlhZGRyc5YACASsElqMBipnAAoErBJajAYqaN0DgnJzhQACAQAAiXNlY3AyNTZrMaECSgm6DXmg_ogJZkjDFwgfgY4BfkaD44D93oNMkTjDNLiDdGNwgipng3VkcIIqaYV3YWt1MgU --content-topic=/myapp/1/latest/proto
2025-02-13 04:04:31.888 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.124.130 waku c033ec6901b9ada29400882b9e3e959c0755eaa5e218ad002f5e903b68f8c7ee
2025-02-13 04:04:31.935 DEBUG [src.node.docker_mananger] Container started with ID c033ec6901b9. Setting up logs at ./log/docker/node2_2025-02-13_04-04-30__61df5874-12a9-4fe9-815b-a8875e405715__wakuorg_nwaku:latest.log
2025-02-13 04:04:31.935 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 47694
2025-02-13 04:04:31.936 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-13 04:04:32.936 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47694/health" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:04:32.953 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-13 04:04:32.953 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-13 04:04:32.954 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47694/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:04:32.960 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.124.130/tcp/47695/p2p/16Uiu2HAm1iyws4kfFnPRB9kFZ3jnCrbTUvfAUECsoyKuozqxphvZ","/ip4/172.18.124.130/tcp/47696/ws/p2p/16Uiu2HAm1iyws4kfFnPRB9kFZ3jnCrbTUvfAUECsoyKuozqxphvZ"],"enrUri":"enr:-L24QPZMVWzpZnJS-zGDrGtUsjsmKPsdH7Qdb9S0UlpD8HiUWdGui8eWLauBPi8xP0v5Z2uFIscT8ZoDf476o0D6SW4CgmlkgnY0gmlwhKwSfIKKbXVsdGlhZGRyc5YACASsEnyCBrpPAAoErBJ8gga6UN0DgnJzhQACAQAAiXNlY3AyNTZrMaECXZVPc9sgXRPn7k6MN8FBkIgTIaT4Bfl7nMpPEWgBgsqDdGNwgrpPg3VkcIK6UYV3YWt1MgE"}'
2025-02-13 04:04:32.960 INFO [src.node.waku_node] REST service is ready !!
2025-02-13 04:04:32.962 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:47694/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.90.140/tcp/10855/p2p/16Uiu2HAkzQgka7Q7WwJ2PYhmpNdGLNYeFY6bmxrCUoo1BSBrVBsD"]'
2025-02-13 04:04:32.966 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:04:32.967 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10854/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-13 04:04:32.979 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:04:32.979 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:47694/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-13 04:04:32.998 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:04:33.002 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10854/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-13 04:04:33.009 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:04:33.009 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 04:04:33.109 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-13 04:04:33.110 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10854/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:04:33.113 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739419473001458688,"ephemeral":false}]'
2025-02-13 04:04:33.114 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-13 04:04:33.115 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47694/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:04:33.117 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739419473001458688,"ephemeral":false}]'
2025-02-13 04:04:33.119 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10854/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-13 04:04:33.124 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:04:33.124 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 04:04:33.224 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-13 04:04:33.225 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10854/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:04:33.228 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1739419473119226112,"ephemeral":false}]'
2025-02-13 04:04:33.229 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-13 04:04:33.229 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47694/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:04:33.232 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1739419473119226112,"ephemeral":false}]'
2025-02-13 04:04:33.234 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10854/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-13 04:04:33.239 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:04:33.240 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 04:04:33.340 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-13 04:04:33.341 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10854/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:04:33.344 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1739419473234188544,"ephemeral":false}]'
2025-02-13 04:04:33.345 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-13 04:04:33.345 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47694/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:04:33.348 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1739419473234188544,"ephemeral":false}]'
2025-02-13 04:04:33.349 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10854/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-13 04:04:33.355 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:04:33.355 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 04:04:33.456 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-13 04:04:33.456 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10854/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:04:33.459 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739419473349689088,"ephemeral":false}]'
2025-02-13 04:04:33.461 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-13 04:04:33.461 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47694/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:04:33.463 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739419473349689088,"ephemeral":false}]'
2025-02-13 04:04:33.465 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10854/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-13 04:04:33.469 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:04:33.470 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 04:04:33.570 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-13 04:04:33.570 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10854/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:04:33.573 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739419473465128448,"ephemeral":false}]'
2025-02-13 04:04:33.575 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-13 04:04:33.575 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47694/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:04:33.577 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739419473465128448,"ephemeral":false}]'
2025-02-13 04:04:33.579 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10854/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-13 04:04:33.583 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:04:33.584 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 04:04:33.684 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-13 04:04:33.685 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10854/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:04:33.688 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739419473579447040,"ephemeral":false}]'
2025-02-13 04:04:33.689 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-13 04:04:33.690 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47694/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:04:33.692 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739419473579447040,"ephemeral":false}]'
2025-02-13 04:04:33.694 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10854/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-13 04:04:33.698 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:04:33.699 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 04:04:33.800 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-13 04:04:33.801 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10854/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:04:33.804 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739419473694276608,"ephemeral":false}]'
2025-02-13 04:04:33.805 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-13 04:04:33.805 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47694/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:04:33.808 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739419473694276608,"ephemeral":false}]'
2025-02-13 04:04:33.809 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10854/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-13 04:04:33.815 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:04:33.815 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 04:04:33.915 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-13 04:04:33.916 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10854/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:04:33.919 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739419473809826816,"ephemeral":false}]'
2025-02-13 04:04:33.920 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-13 04:04:33.921 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47694/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:04:33.923 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739419473809826816,"ephemeral":false}]'
2025-02-13 04:04:33.925 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:10854/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto"]'
2025-02-13 04:04:33.930 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:04:33.930 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:47694/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto"]'
2025-02-13 04:04:33.935 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:04:33.936 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:10854/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/content/test.js"]'
2025-02-13 04:04:33.941 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:04:33.941 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:47694/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/content/test.js"]'
2025-02-13 04:04:33.946 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:04:33.946 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:10854/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/22/sometopic/someencoding"]'
2025-02-13 04:04:33.952 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:04:33.952 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:47694/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/22/sometopic/someencoding"]'
2025-02-13 04:04:33.956 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:04:33.957 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:10854/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/toychat/2/huilong/proto"]'
2025-02-13 04:04:33.961 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:04:33.962 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:47694/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/toychat/2/huilong/proto"]'
2025-02-13 04:04:33.966 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:04:33.967 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:10854/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/statusim/1/community/cbor"]'
2025-02-13 04:04:33.972 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:04:33.972 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:47694/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/statusim/1/community/cbor"]'
2025-02-13 04:04:33.977 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:04:33.978 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:10854/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/27/sometopic/someencoding"]'
2025-02-13 04:04:33.983 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:04:33.983 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:47694/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/27/sometopic/someencoding"]'
2025-02-13 04:04:33.988 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:04:33.988 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:10854/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/29/sometopic/someencoding"]'
2025-02-13 04:04:33.994 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:04:33.994 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:47694/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/29/sometopic/someencoding"]'
2025-02-13 04:04:33.998 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:04:33.999 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:10854/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/20/sometopic/someencoding"]'
2025-02-13 04:04:34.003 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:04:34.003 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:47694/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/20/sometopic/someencoding"]'
2025-02-13 04:04:34.010 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:04:34.011 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10854/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-13 04:04:34.014 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:04:34.014 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 04:04:34.115 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-13 04:04:34.115 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10854/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:04:34.118 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:10854/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto. Response content: b'/myapp/1/latest/proto'
2025-02-13 04:04:34.120 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10854/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-13 04:04:34.122 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:04:34.123 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 04:04:34.223 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-13 04:04:34.223 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10854/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:04:34.226 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:10854/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js. Response content: b'/waku/2/content/test.js'
2025-02-13 04:04:34.228 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10854/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-13 04:04:34.231 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:04:34.231 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 04:04:34.331 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-13 04:04:34.332 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10854/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:04:34.335 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:10854/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding. Response content: b'/app/22/sometopic/someencoding'
2025-02-13 04:04:34.336 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10854/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-13 04:04:34.339 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:04:34.340 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 04:04:34.440 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-13 04:04:34.440 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10854/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:04:34.443 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:10854/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto. Response content: b'/toychat/2/huilong/proto'
2025-02-13 04:04:34.445 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10854/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-13 04:04:34.448 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:04:34.448 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 04:04:34.548 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-13 04:04:34.549 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10854/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:04:34.552 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:10854/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor. Response content: b'/statusim/1/community/cbor'
2025-02-13 04:04:34.553 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10854/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-13 04:04:34.556 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:04:34.556 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 04:04:34.657 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-13 04:04:34.657 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10854/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:04:34.660 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:10854/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding. Response content: b'/app/27/sometopic/someencoding'
2025-02-13 04:04:34.662 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10854/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-13 04:04:34.664 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:04:34.664 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 04:04:34.765 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-13 04:04:34.765 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10854/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:04:34.768 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:10854/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding. Response content: b'/app/29/sometopic/someencoding'
2025-02-13 04:04:34.770 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10854/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-13 04:04:34.772 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:04:34.773 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 04:04:34.873 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-13 04:04:34.874 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10854/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:04:34.876 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:10854/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding. Response content: b'/app/20/sometopic/someencoding'
2025-02-13 04:04:34.879 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-13 04:04:34.880 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-13 04:04:34.880 DEBUG [src.node.waku_node] Stopping container with id b6bd89ab2cf7
2025-02-13 04:04:36.121 DEBUG [src.node.waku_node] Container stopped.
2025-02-13 04:04:36.122 DEBUG [src.node.waku_node] Stopping container with id c033ec6901b9
2025-02-13 04:04:36.934 ERROR [src.node.docker_mananger] Max retries reached for container b6bd89ab2cf7. Exiting log stream.
2025-02-13 04:04:37.651 DEBUG [src.node.waku_node] Container stopped.
2025-02-13 04:04:37.652 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-13 04:04:37.665 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-13 04:04:37.678 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
