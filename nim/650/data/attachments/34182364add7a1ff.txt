2025-02-13 04:02:50.330 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-13 04:02:50.331 DEBUG [tests.conftest] Running test: test_filter_update_subscription_with_no_pubsub_topic with id: 2025-02-13_04-02-50__5842a25c-cbd9-4db0-ad3b-1f1f2e3aa058
2025-02-13 04:02:50.331 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-13 04:02:50.331 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2025-02-13 04:02:50.332 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2025-02-13 04:02:50.338 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-13 04:02:50.338 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-13_04-02-50__5842a25c-cbd9-4db0-ad3b-1f1f2e3aa058__wakuorg_nwaku:latest.log
2025-02-13 04:02:50.338 DEBUG [src.node.waku_node] Starting Node...
2025-02-13 04:02:50.338 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-13 04:02:50.340 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-13 04:02:50.340 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.18.93
2025-02-13 04:02:50.340 DEBUG [src.node.docker_mananger] Generated ports ['41058', '41059', '41060', '41061', '41062']
2025-02-13 04:02:50.340 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-13 04:02:50.340 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-13 04:02:50.341 DEBUG [src.node.waku_node] Using volumes []
2025-02-13 04:02:50.341 DEBUG [src.node.docker_mananger] docker run -i -t -p 41058:41058 -p 41059:41059 -p 41060:41060 -p 41061:41061 -p 41062:41062 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=41060 --rest-port=41058 --tcp-port=41059 --discv5-udp-port=41061 --rest-address=0.0.0.0 --nat=extip:172.18.18.93 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=5d568cd6dbfb8fd9fdb6bdeb9feaaeaa8628fddb4a15deacb68cdaa1cadbd7ae --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=41062 --metrics-logging=true --relay=true --filter=true
2025-02-13 04:02:50.575 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.18.93 waku 90b832358e404c1f24940fedef60037bb23082305afcca1ffeb6bd774dbc1d9c
2025-02-13 04:02:50.625 DEBUG [src.node.docker_mananger] Container started with ID 90b832358e40. Setting up logs at ./log/docker/node1_2025-02-13_04-02-50__5842a25c-cbd9-4db0-ad3b-1f1f2e3aa058__wakuorg_nwaku:latest.log
2025-02-13 04:02:50.627 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 41058
2025-02-13 04:02:50.628 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-13 04:02:51.103 ERROR [src.node.docker_mananger] Max retries reached for container ef6834a5c25b. Exiting log stream.
2025-02-13 04:02:51.628 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41058/health" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:02:51.631 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-13 04:02:51.631 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-13 04:02:51.632 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:41058/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:02:51.634 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.18.93/tcp/41059/p2p/16Uiu2HAmJJhgKFfbYe2FtFuYpvNNyFwtmTm92nsRxBS2G5dBJCYV","/ip4/172.18.18.93/tcp/41060/ws/p2p/16Uiu2HAmJJhgKFfbYe2FtFuYpvNNyFwtmTm92nsRxBS2G5dBJCYV"],"enrUri":"enr:-L24QC5k1jm6X0G7f7ct8WpJ54C2VBEftObMemLHFz17MtbuGdm8yDChIT6A2608fEkhIU0dYJ9J0NwF3JWXK84FDWQCgmlkgnY0gmlwhKwSEl2KbXVsdGlhZGRyc5YACASsEhJdBqBjAAoErBISXQagZN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDU_OngWVqavIIxkSTU1L9i7Q1GkgA7gN8vMhKFeCnIvaDdGNwgqBjg3VkcIKgZYV3YWt1MgU"}'
2025-02-13 04:02:51.634 INFO [src.node.waku_node] REST service is ready !!
2025-02-13 04:02:51.635 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2025-02-13 04:02:51.641 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-13 04:02:51.641 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-13_04-02-50__5842a25c-cbd9-4db0-ad3b-1f1f2e3aa058__wakuorg_nwaku:latest.log
2025-02-13 04:02:51.641 DEBUG [src.node.waku_node] Starting Node...
2025-02-13 04:02:51.642 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-13 04:02:51.643 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-13 04:02:51.643 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.131.27
2025-02-13 04:02:51.643 DEBUG [src.node.docker_mananger] Generated ports ['48510', '48511', '48512', '48513', '48514']
2025-02-13 04:02:51.643 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-13 04:02:51.644 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-13 04:02:51.644 DEBUG [src.node.waku_node] Using volumes []
2025-02-13 04:02:51.644 DEBUG [src.node.docker_mananger] docker run -i -t -p 48510:48510 -p 48511:48511 -p 48512:48512 -p 48513:48513 -p 48514:48514 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=48512 --rest-port=48510 --tcp-port=48511 --discv5-udp-port=48513 --rest-address=0.0.0.0 --nat=extip:172.18.131.27 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e2dd4ac2948cedfbf7648c2fbaaff7db0fb4acfffaca683ff57d6e0fc2f0e4bf --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=48514 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QC5k1jm6X0G7f7ct8WpJ54C2VBEftObMemLHFz17MtbuGdm8yDChIT6A2608fEkhIU0dYJ9J0NwF3JWXK84FDWQCgmlkgnY0gmlwhKwSEl2KbXVsdGlhZGRyc5YACASsEhJdBqBjAAoErBISXQagZN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDU_OngWVqavIIxkSTU1L9i7Q1GkgA7gN8vMhKFeCnIvaDdGNwgqBjg3VkcIKgZYV3YWt1MgU --filternode=/ip4/172.18.18.93/tcp/41059/p2p/16Uiu2HAmJJhgKFfbYe2FtFuYpvNNyFwtmTm92nsRxBS2G5dBJCYV
2025-02-13 04:02:51.875 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.131.27 waku 9994432b8bd84c2420b046ddd0e8f3eea37c8d3ddbe4dec57d844cf50931e0c2
2025-02-13 04:02:51.924 DEBUG [src.node.docker_mananger] Container started with ID 9994432b8bd8. Setting up logs at ./log/docker/node2_2025-02-13_04-02-50__5842a25c-cbd9-4db0-ad3b-1f1f2e3aa058__wakuorg_nwaku:latest.log
2025-02-13 04:02:51.924 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 48510
2025-02-13 04:02:51.924 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-13 04:02:52.925 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48510/health" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:02:52.928 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-13 04:02:52.928 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-13 04:02:52.928 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48510/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:02:52.930 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.131.27/tcp/48511/p2p/16Uiu2HAmDpMCzGNrf9Dhiewt1LRbbfpKdoxGpeXL6nXYkdvSruFz","/ip4/172.18.131.27/tcp/48512/ws/p2p/16Uiu2HAmDpMCzGNrf9Dhiewt1LRbbfpKdoxGpeXL6nXYkdvSruFz"],"enrUri":"enr:-L24QMAkRv_e-W9s-k_ZWp2ip1QskvnoucYfCHh09gpKTJUWClsK8C7kg59wXncUTnkeZg06uDAcKkoYuX_JnXh4PVgCgmlkgnY0gmlwhKwSgxuKbXVsdGlhZGRyc5YACASsEoMbBr1_AAoErBKDGwa9gN0DgnJzhQADAQAAiXNlY3AyNTZrMaEDEUF_RLmxnPbHnIXYX7hYysmQguGEjk6nh3x64U2VrI2DdGNwgr1_g3VkcIK9gYV3YWt1MgA"}'
2025-02-13 04:02:52.930 INFO [src.node.waku_node] REST service is ready !!
2025-02-13 04:02:52.931 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:48510/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.18.93/tcp/41059/p2p/16Uiu2HAmJJhgKFfbYe2FtFuYpvNNyFwtmTm92nsRxBS2G5dBJCYV"]'
2025-02-13 04:02:52.971 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:02:52.972 DEBUG [src.steps.filter] Running fixture setup: subscribe_main_nodes
2025-02-13 04:02:52.973 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:41058/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-13 04:02:52.990 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:02:52.991 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:48510/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "38dca7e4-f441-4686-a060-29501376760b", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2025-02-13 04:02:53.003 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"38dca7e4-f441-4686-a060-29501376760b","statusDesc":"OK"}'
2025-02-13 04:02:53.005 INFO [src.node.api_clients.base_client] curl -v -X PUT "http://127.0.0.1:48510/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/2/waku-filter/proto"]}'
2025-02-13 04:02:53.013 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"1","statusDesc":"OK"}'
2025-02-13 04:02:53.015 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-13 04:02:53.016 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-13 04:02:53.016 DEBUG [src.node.waku_node] Stopping container with id 90b832358e40
2025-02-13 04:02:54.099 DEBUG [src.node.waku_node] Container stopped.
2025-02-13 04:02:54.100 DEBUG [src.node.waku_node] Stopping container with id 9994432b8bd8
2025-02-13 04:02:54.913 ERROR [src.node.docker_mananger] Max retries reached for container 90b832358e40. Exiting log stream.
2025-02-13 04:02:55.137 DEBUG [src.node.waku_node] Container stopped.
2025-02-13 04:02:55.139 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-13 04:02:55.145 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-13 04:02:55.148 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
