2025-02-13 04:08:37.394 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-13 04:08:37.394 DEBUG [tests.conftest] Running test: test_subscribe_via_api_to_new_pubsub_topics with id: 2025-02-13_04-08-37__652ab92c-8250-4e96-9dd0-637f61aadc13
2025-02-13 04:08:37.394 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-13 04:08:37.394 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-13 04:08:37.395 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-13 04:08:37.401 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-13 04:08:37.401 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-13_04-08-37__652ab92c-8250-4e96-9dd0-637f61aadc13__wakuorg_nwaku:latest.log
2025-02-13 04:08:37.401 DEBUG [src.node.waku_node] Starting Node...
2025-02-13 04:08:37.401 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-13 04:08:37.403 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-13 04:08:37.403 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.120.174
2025-02-13 04:08:37.403 DEBUG [src.node.docker_mananger] Generated ports ['61958', '61959', '61960', '61961', '61962']
2025-02-13 04:08:37.403 DEBUG [src.node.waku_node] Cluster id was resolved to: 2
2025-02-13 04:08:37.403 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-13 04:08:37.403 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-13 04:08:37.403 DEBUG [src.node.waku_node] Using volumes []
2025-02-13 04:08:37.404 DEBUG [src.node.docker_mananger] docker run -i -t -p 61958:61958 -p 61959:61959 -p 61960:61960 -p 61961:61961 -p 61962:61962 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=61960 --rest-port=61958 --tcp-port=61959 --discv5-udp-port=61961 --rest-address=0.0.0.0 --nat=extip:172.18.120.174 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=13fda3dea7dcd6c2a5ae967290c31effec1a729ab716819f7fcca22a4bff6d67 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=61962 --metrics-logging=true --relay=true --filter=true --pubsub-topic=/waku/2/rs/2/0
2025-02-13 04:08:37.629 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.120.174 waku a2e033736bc95bb9daf634ea2730818cfbf333b12a62444560c94e99d780883f
2025-02-13 04:08:37.675 DEBUG [src.node.docker_mananger] Container started with ID a2e033736bc9. Setting up logs at ./log/docker/node1_2025-02-13_04-08-37__652ab92c-8250-4e96-9dd0-637f61aadc13__wakuorg_nwaku:latest.log
2025-02-13 04:08:37.675 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 61958
2025-02-13 04:08:37.675 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-13 04:08:38.196 ERROR [src.node.docker_mananger] Max retries reached for container bc50ee9bac24. Exiting log stream.
2025-02-13 04:08:38.676 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61958/health" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:08:38.678 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-13 04:08:38.679 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-13 04:08:38.679 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61958/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:08:38.681 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.120.174/tcp/61959/p2p/16Uiu2HAmLy7y7x9xCExQXzT46LrRwvwrNr8FcDykbYc2uj5FxsCn","/ip4/172.18.120.174/tcp/61960/ws/p2p/16Uiu2HAmLy7y7x9xCExQXzT46LrRwvwrNr8FcDykbYc2uj5FxsCn"],"enrUri":"enr:-L24QGLam764IKX7GF1Er-U3kpfjoyh0bTmwuqwBUxotDyWrC0hT86rKO058aFkf6hSZ4DrFRMmvhsFuS9BtQW20I2cCgmlkgnY0gmlwhKwSeK6KbXVsdGlhZGRyc5YACASsEniuBvIHAAoErBJ4rgbyCN0DgnJzhQACAQAAiXNlY3AyNTZrMaEDe4KQPBHL9TIyaiqgbg7t8Cudwz3L-LMzHYUhGejKMyuDdGNwgvIHg3VkcILyCYV3YWt1MgU"}'
2025-02-13 04:08:38.681 INFO [src.node.waku_node] REST service is ready !!
2025-02-13 04:08:38.688 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-13 04:08:38.688 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-13_04-08-37__652ab92c-8250-4e96-9dd0-637f61aadc13__wakuorg_nwaku:latest.log
2025-02-13 04:08:38.688 DEBUG [src.node.waku_node] Starting Node...
2025-02-13 04:08:38.688 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-13 04:08:38.690 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-13 04:08:38.690 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.75.196
2025-02-13 04:08:38.690 DEBUG [src.node.docker_mananger] Generated ports ['15500', '15501', '15502', '15503', '15504']
2025-02-13 04:08:38.690 DEBUG [src.node.waku_node] Cluster id was resolved to: 2
2025-02-13 04:08:38.690 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-13 04:08:38.690 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-13 04:08:38.690 DEBUG [src.node.waku_node] Using volumes []
2025-02-13 04:08:38.690 DEBUG [src.node.docker_mananger] docker run -i -t -p 15500:15500 -p 15501:15501 -p 15502:15502 -p 15503:15503 -p 15504:15504 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=15502 --rest-port=15500 --tcp-port=15501 --discv5-udp-port=15503 --rest-address=0.0.0.0 --nat=extip:172.18.75.196 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=13c9ad15c6bbfcc471ab8baec0fb39defe282ccf1cbce2c8bcfb15b3a6c1c88a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=15504 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QGLam764IKX7GF1Er-U3kpfjoyh0bTmwuqwBUxotDyWrC0hT86rKO058aFkf6hSZ4DrFRMmvhsFuS9BtQW20I2cCgmlkgnY0gmlwhKwSeK6KbXVsdGlhZGRyc5YACASsEniuBvIHAAoErBJ4rgbyCN0DgnJzhQACAQAAiXNlY3AyNTZrMaEDe4KQPBHL9TIyaiqgbg7t8Cudwz3L-LMzHYUhGejKMyuDdGNwgvIHg3VkcILyCYV3YWt1MgU --pubsub-topic=/waku/2/rs/2/0
2025-02-13 04:08:38.932 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.75.196 waku 2b7e74cad4f668d2bca08b719ee05e709e749dd46d400500791571538a72971a
2025-02-13 04:08:38.980 DEBUG [src.node.docker_mananger] Container started with ID 2b7e74cad4f6. Setting up logs at ./log/docker/node2_2025-02-13_04-08-37__652ab92c-8250-4e96-9dd0-637f61aadc13__wakuorg_nwaku:latest.log
2025-02-13 04:08:38.980 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 15500
2025-02-13 04:08:38.980 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-13 04:08:39.981 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15500/health" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:08:39.985 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-13 04:08:39.987 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-13 04:08:39.991 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15500/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:08:39.995 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.75.196/tcp/15501/p2p/16Uiu2HAkutvP1NRMzN4y3LFPyC6oscVbApdDm4k96ByUHSrmmLzj","/ip4/172.18.75.196/tcp/15502/ws/p2p/16Uiu2HAkutvP1NRMzN4y3LFPyC6oscVbApdDm4k96ByUHSrmmLzj"],"enrUri":"enr:-L24QK7mrD5sik6MtQUMEBfySRddvQbUlZEZfDq-p-NL8Hz-VOxw5ae4hX8Zs5koH9guMASxExmQ1Hqkh_-_v2hdaMQCgmlkgnY0gmlwhKwSS8SKbXVsdGlhZGRyc5YACASsEkvEBjyNAAoErBJLxAY8jt0DgnJzhQACAQAAiXNlY3AyNTZrMaECBvr22Kc_cNQTw3VIROFneQ-qoLoL_MJ5Zz-5hm0MZ0CDdGNwgjyNg3VkcII8j4V3YWt1MgE"}'
2025-02-13 04:08:39.995 INFO [src.node.waku_node] REST service is ready !!
2025-02-13 04:08:39.996 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15500/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.120.174/tcp/61959/p2p/16Uiu2HAmLy7y7x9xCExQXzT46LrRwvwrNr8FcDykbYc2uj5FxsCn"]'
2025-02-13 04:08:39.998 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:08:39.998 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:61958/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/1", "/waku/2/rs/2/2", "/waku/2/rs/2/3", "/waku/2/rs/2/4", "/waku/2/rs/2/5", "/waku/2/rs/2/6", "/waku/2/rs/2/7"]'
2025-02-13 04:08:40.009 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:08:40.010 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15500/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/1", "/waku/2/rs/2/2", "/waku/2/rs/2/3", "/waku/2/rs/2/4", "/waku/2/rs/2/5", "/waku/2/rs/2/6", "/waku/2/rs/2/7"]'
2025-02-13 04:08:40.029 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:08:40.032 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:61958/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-13 04:08:40.039 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:08:40.040 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 04:08:40.140 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-13 04:08:40.140 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61958/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:08:40.143 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739419720031173120,"ephemeral":false}]'
2025-02-13 04:08:40.144 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-13 04:08:40.144 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15500/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:08:40.147 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739419720031173120,"ephemeral":false}]'
2025-02-13 04:08:40.148 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:61958/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-13 04:08:40.153 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:08:40.154 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 04:08:40.255 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-13 04:08:40.255 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61958/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:08:40.257 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739419720148881664,"ephemeral":false}]'
2025-02-13 04:08:40.259 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-13 04:08:40.259 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15500/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:08:40.261 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739419720148881664,"ephemeral":false}]'
2025-02-13 04:08:40.263 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:61958/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-13 04:08:40.268 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:08:40.268 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 04:08:40.369 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-13 04:08:40.369 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61958/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:08:40.371 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739419720263102464,"ephemeral":false}]'
2025-02-13 04:08:40.372 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-13 04:08:40.373 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15500/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:08:40.375 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739419720263102464,"ephemeral":false}]'
2025-02-13 04:08:40.376 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:61958/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-13 04:08:40.382 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:08:40.383 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 04:08:40.483 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-13 04:08:40.483 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61958/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:08:40.486 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739419720376691968,"ephemeral":false}]'
2025-02-13 04:08:40.487 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-13 04:08:40.487 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15500/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:08:40.489 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739419720376691968,"ephemeral":false}]'
2025-02-13 04:08:40.491 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:61958/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-13 04:08:40.495 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:08:40.496 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 04:08:40.596 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-13 04:08:40.596 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61958/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:08:40.598 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739419720491355648,"ephemeral":false}]'
2025-02-13 04:08:40.600 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-13 04:08:40.600 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15500/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:08:40.602 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739419720491355648,"ephemeral":false}]'
2025-02-13 04:08:40.604 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:61958/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-13 04:08:40.609 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:08:40.609 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 04:08:40.710 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-13 04:08:40.710 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61958/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:08:40.713 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739419720604171520,"ephemeral":false}]'
2025-02-13 04:08:40.714 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-13 04:08:40.715 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15500/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:08:40.717 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739419720604171520,"ephemeral":false}]'
2025-02-13 04:08:40.718 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:61958/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-13 04:08:40.723 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:08:40.724 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 04:08:40.825 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-13 04:08:40.825 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:61958/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:08:40.827 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739419720718849280,"ephemeral":false}]'
2025-02-13 04:08:40.829 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-13 04:08:40.829 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15500/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:08:40.831 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739419720718849280,"ephemeral":false}]'
2025-02-13 04:08:40.834 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-13 04:08:40.835 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-13 04:08:40.835 DEBUG [src.node.waku_node] Stopping container with id a2e033736bc9
2025-02-13 04:08:42.159 DEBUG [src.node.waku_node] Container stopped.
2025-02-13 04:08:42.161 DEBUG [src.node.waku_node] Stopping container with id 2b7e74cad4f6
2025-02-13 04:08:42.971 ERROR [src.node.docker_mananger] Max retries reached for container a2e033736bc9. Exiting log stream.
2025-02-13 04:08:43.676 DEBUG [src.node.waku_node] Container stopped.
2025-02-13 04:08:43.677 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-13 04:08:43.686 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-13 04:08:43.695 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
