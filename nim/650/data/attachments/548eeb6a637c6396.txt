2025-02-13 04:04:58.207 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-13 04:04:58.207 DEBUG [tests.conftest] Running test: test_multiple_content_topics_and_multiple_pubsub_topics with id: 2025-02-13_04-04-58__e045bf5c-0d33-49ee-9d9c-3139b8518726
2025-02-13 04:04:58.207 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-13 04:04:58.208 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-13 04:04:58.208 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-13 04:04:58.215 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-13 04:04:58.215 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-13_04-04-58__e045bf5c-0d33-49ee-9d9c-3139b8518726__wakuorg_nwaku:latest.log
2025-02-13 04:04:58.215 DEBUG [src.node.waku_node] Starting Node...
2025-02-13 04:04:58.215 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-13 04:04:58.217 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-13 04:04:58.217 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.38.225
2025-02-13 04:04:58.217 DEBUG [src.node.docker_mananger] Generated ports ['50118', '50119', '50120', '50121', '50122']
2025-02-13 04:04:58.217 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-13 04:04:58.217 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-13 04:04:58.217 DEBUG [src.node.waku_node] Using volumes []
2025-02-13 04:04:58.218 DEBUG [src.node.docker_mananger] docker run -i -t -p 50118:50118 -p 50119:50119 -p 50120:50120 -p 50121:50121 -p 50122:50122 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=50120 --rest-port=50118 --tcp-port=50119 --discv5-udp-port=50121 --rest-address=0.0.0.0 --nat=extip:172.18.38.225 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=88ed74a3f6c6faaa59a3a47d885ba14fceac2a78d3ecd0e4811bdd9da59e8d56 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=50122 --metrics-logging=true --relay=true --filter=true --content-topic=/myapp/1/latest/proto --content-topic=/waku/2/content/test.js --content-topic=/app/22/sometopic/someencoding --content-topic=/toychat/2/huilong/proto --content-topic=/statusim/1/community/cbor --content-topic=/app/27/sometopic/someencoding --content-topic=/app/29/sometopic/someencoding --content-topic=/app/20/sometopic/someencoding --pubsub-topic=/waku/2/rs/2/0 --pubsub-topic=/waku/2/rs/2/1 --pubsub-topic=/waku/2/rs/2/2 --pubsub-topic=/waku/2/rs/2/3 --pubsub-topic=/waku/2/rs/2/4 --pubsub-topic=/waku/2/rs/2/5 --pubsub-topic=/waku/2/rs/2/6 --pubsub-topic=/waku/2/rs/2/7
2025-02-13 04:04:58.443 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.38.225 waku 263b0abebe0e50e783fa20ddb5d560f0a432d048b9cff2877dc9e29d2c6f24bb
2025-02-13 04:04:58.491 DEBUG [src.node.docker_mananger] Container started with ID 263b0abebe0e. Setting up logs at ./log/docker/node1_2025-02-13_04-04-58__e045bf5c-0d33-49ee-9d9c-3139b8518726__wakuorg_nwaku:latest.log
2025-02-13 04:04:58.491 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 50118
2025-02-13 04:04:58.492 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-13 04:04:59.012 ERROR [src.node.docker_mananger] Max retries reached for container 01608bbae5c1. Exiting log stream.
2025-02-13 04:04:59.493 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50118/health" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:04:59.495 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-13 04:04:59.495 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-13 04:04:59.496 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50118/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:04:59.498 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.38.225/tcp/50119/p2p/16Uiu2HAmUGAYumKU32nkVsDr2HM7CbdCgKd8Vt6YhqDQjSjeSMW6","/ip4/172.18.38.225/tcp/50120/ws/p2p/16Uiu2HAmUGAYumKU32nkVsDr2HM7CbdCgKd8Vt6YhqDQjSjeSMW6"],"enrUri":"enr:-Mu4QLxKmfHv9WIIFkvRXMqkOdRZ9HkFfNwT-OndlsB1yzVzZF867zVNuOXT_k6_qONg3bspcd5AcA4DovrvTc90mCYCgmlkgnY0gmlwhKwSJuGKbXVsdGlhZGRyc5YACASsEibhBsPHAAoErBIm4QbDyN0DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQPn4ipxYb_wBUISUJMY_FJPsUvFy8t8bH86dlbVujL_H4N0Y3CCw8eDdWRwgsPJhXdha3UyBQ"}'
2025-02-13 04:04:59.498 INFO [src.node.waku_node] REST service is ready !!
2025-02-13 04:04:59.504 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-13 04:04:59.505 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-13_04-04-58__e045bf5c-0d33-49ee-9d9c-3139b8518726__wakuorg_nwaku:latest.log
2025-02-13 04:04:59.505 DEBUG [src.node.waku_node] Starting Node...
2025-02-13 04:04:59.505 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-13 04:04:59.506 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-13 04:04:59.506 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.247.94
2025-02-13 04:04:59.506 DEBUG [src.node.docker_mananger] Generated ports ['10670', '10671', '10672', '10673', '10674']
2025-02-13 04:04:59.507 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-13 04:04:59.507 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-13 04:04:59.507 DEBUG [src.node.waku_node] Using volumes []
2025-02-13 04:04:59.507 DEBUG [src.node.docker_mananger] docker run -i -t -p 10670:10670 -p 10671:10671 -p 10672:10672 -p 10673:10673 -p 10674:10674 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=10672 --rest-port=10670 --tcp-port=10671 --discv5-udp-port=10673 --rest-address=0.0.0.0 --nat=extip:172.18.247.94 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=1af07def67ebad5d7dccba84be932dd174d3bf515d4a53694ff19cacefdec892 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=10674 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-Mu4QLxKmfHv9WIIFkvRXMqkOdRZ9HkFfNwT-OndlsB1yzVzZF867zVNuOXT_k6_qONg3bspcd5AcA4DovrvTc90mCYCgmlkgnY0gmlwhKwSJuGKbXVsdGlhZGRyc5YACASsEibhBsPHAAoErBIm4QbDyN0DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQPn4ipxYb_wBUISUJMY_FJPsUvFy8t8bH86dlbVujL_H4N0Y3CCw8eDdWRwgsPJhXdha3UyBQ --content-topic=/myapp/1/latest/proto --content-topic=/waku/2/content/test.js --content-topic=/app/22/sometopic/someencoding --content-topic=/toychat/2/huilong/proto --content-topic=/statusim/1/community/cbor --content-topic=/app/27/sometopic/someencoding --content-topic=/app/29/sometopic/someencoding --content-topic=/app/20/sometopic/someencoding --pubsub-topic=/waku/2/rs/2/0 --pubsub-topic=/waku/2/rs/2/1 --pubsub-topic=/waku/2/rs/2/2 --pubsub-topic=/waku/2/rs/2/3 --pubsub-topic=/waku/2/rs/2/4 --pubsub-topic=/waku/2/rs/2/5 --pubsub-topic=/waku/2/rs/2/6 --pubsub-topic=/waku/2/rs/2/7
2025-02-13 04:04:59.741 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.247.94 waku e7806840f8d7201afb2eab0d675a2e74ddd0f2bdde3d5d7526fc97542ce2f620
2025-02-13 04:04:59.793 DEBUG [src.node.docker_mananger] Container started with ID e7806840f8d7. Setting up logs at ./log/docker/node2_2025-02-13_04-04-58__e045bf5c-0d33-49ee-9d9c-3139b8518726__wakuorg_nwaku:latest.log
2025-02-13 04:04:59.794 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 10670
2025-02-13 04:04:59.794 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-13 04:05:00.795 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10670/health" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:05:00.818 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-13 04:05:00.818 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-13 04:05:00.818 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10670/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:05:00.849 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.247.94/tcp/10671/p2p/16Uiu2HAmVdqqnibCzT7zsZ3KGurjxadetV49ubd5X5SEMwUuH3QD","/ip4/172.18.247.94/tcp/10672/ws/p2p/16Uiu2HAmVdqqnibCzT7zsZ3KGurjxadetV49ubd5X5SEMwUuH3QD"],"enrUri":"enr:-Mu4QM4VX3XZEnmfR-ywKU0NFklZL14rqJ1pJQ3y3IOhbUa9JDxjQlIxa6nRL0jueSLgxsEMQdcXRvneDQkBXpv4Nz8CgmlkgnY0gmlwhKwS916KbXVsdGlhZGRyc5YACASsEvdeBimvAAoErBL3XgYpsN0DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQP8S3nn4w7TfHRgALCs1h6UCbBbsp2_OO4n513-rgGLqoN0Y3CCKa-DdWRwgimxhXdha3UyAQ"}'
2025-02-13 04:05:00.854 INFO [src.node.waku_node] REST service is ready !!
2025-02-13 04:05:00.855 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10670/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.38.225/tcp/50119/p2p/16Uiu2HAmUGAYumKU32nkVsDr2HM7CbdCgKd8Vt6YhqDQjSjeSMW6"]'
2025-02-13 04:05:00.859 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:05:00.861 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:50118/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-13 04:05:00.865 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:05:00.866 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:10670/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-13 04:05:00.870 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:05:00.871 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:50118/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-13 04:05:00.877 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:05:00.877 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 04:05:00.978 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-13 04:05:00.978 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50118/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:05:00.981 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739419500870927872,"ephemeral":false}]'
2025-02-13 04:05:00.983 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-13 04:05:00.983 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10670/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:05:00.986 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739419500870927872,"ephemeral":false}]'
2025-02-13 04:05:00.987 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:50118/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-13 04:05:00.992 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:05:00.992 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 04:05:01.093 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-13 04:05:01.094 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50118/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:05:01.097 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1739419500987802112,"ephemeral":false}]'
2025-02-13 04:05:01.098 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-13 04:05:01.098 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10670/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:05:01.101 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1739419500987802112,"ephemeral":false}]'
2025-02-13 04:05:01.103 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:50118/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-13 04:05:01.108 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:05:01.108 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 04:05:01.209 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-13 04:05:01.209 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50118/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:05:01.212 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1739419501102925824,"ephemeral":false}]'
2025-02-13 04:05:01.214 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-13 04:05:01.214 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10670/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:05:01.216 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1739419501102925824,"ephemeral":false}]'
2025-02-13 04:05:01.218 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:50118/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-13 04:05:01.223 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:05:01.223 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 04:05:01.324 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-13 04:05:01.324 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50118/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:05:01.327 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739419501217949952,"ephemeral":false}]'
2025-02-13 04:05:01.328 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-13 04:05:01.329 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10670/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:05:01.331 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739419501217949952,"ephemeral":false}]'
2025-02-13 04:05:01.333 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:50118/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-13 04:05:01.337 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:05:01.338 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 04:05:01.438 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-13 04:05:01.439 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50118/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:05:01.441 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739419501332915456,"ephemeral":false}]'
2025-02-13 04:05:01.443 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-13 04:05:01.443 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10670/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:05:01.445 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739419501332915456,"ephemeral":false}]'
2025-02-13 04:05:01.447 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:50118/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-13 04:05:01.452 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:05:01.452 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 04:05:01.553 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-13 04:05:01.554 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50118/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:05:01.556 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739419501447105024,"ephemeral":false}]'
2025-02-13 04:05:01.558 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-13 04:05:01.558 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10670/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:05:01.560 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739419501447105024,"ephemeral":false}]'
2025-02-13 04:05:01.563 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:50118/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-13 04:05:01.568 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:05:01.568 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 04:05:01.668 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-13 04:05:01.669 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50118/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:05:01.671 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739419501563069440,"ephemeral":false}]'
2025-02-13 04:05:01.673 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-13 04:05:01.673 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10670/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:05:01.675 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739419501563069440,"ephemeral":false}]'
2025-02-13 04:05:01.677 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:50118/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-13 04:05:01.681 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-13 04:05:01.682 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-13 04:05:01.782 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-13 04:05:01.782 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:50118/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:05:01.786 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739419501676904192,"ephemeral":false}]'
2025-02-13 04:05:01.787 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-13 04:05:01.787 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:10670/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-13 04:05:01.790 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739419501676904192,"ephemeral":false}]'
2025-02-13 04:05:01.792 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-13 04:05:01.793 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-13 04:05:01.793 DEBUG [src.node.waku_node] Stopping container with id 263b0abebe0e
2025-02-13 04:05:03.040 DEBUG [src.node.waku_node] Container stopped.
2025-02-13 04:05:03.042 DEBUG [src.node.waku_node] Stopping container with id e7806840f8d7
2025-02-13 04:05:03.854 ERROR [src.node.docker_mananger] Max retries reached for container 263b0abebe0e. Exiting log stream.
2025-02-13 04:05:04.537 DEBUG [src.node.waku_node] Container stopped.
2025-02-13 04:05:04.539 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-13 04:05:04.554 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-13 04:05:04.566 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
