[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_store_is_empty with id: 2024-10-10_04-35-58__51f65d05-916f-493b-9463-d15be154ece7
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-10-10_04-35-58__51f65d05-916f-493b-9463-d15be154ece7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.169.93
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['20457', '20458', '20459', '20460', '20461']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 20457:20457 -p 20458:20458 -p 20459:20459 -p 20460:20460 -p 20461:20461 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=20459 --rest-port=20457 --tcp-port=20458 --discv5-udp-port=20460 --rest-address=0.0.0.0 --nat=extip:172.18.169.93 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a98adebfd3e8dbb4422e06f3ae9bc8ec167c77db4ce094eb9ca9de4edfb3a0be --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=20461 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.169.93 waku 28fc0b2b6d3b81169a2c7039294723722dc919eb3fd673fdeda006c4a24c1be6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 28fc0b2b6d3b. Setting up logs at ./log/docker/publishing_node1_2024-10-10_04-35-58__51f65d05-916f-493b-9463-d15be154ece7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 20457
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20457/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20457/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.169.93/tcp/20458/p2p/16Uiu2HAmAgHB5dXxBVxEL4QcXBuQf3ERDz7gfY7MvtaxfapkWnZ7","/ip4/172.18.169.93/tcp/20459/ws/p2p/16Uiu2HAmAgHB5dXxBVxEL4QcXBuQf3ERDz7gfY7MvtaxfapkWnZ7"],"enrUri":"enr:-LO4QGPE_79Z5rMGvNL-ojMJ6K7xHYc2obh8VM846wj4a4TuYmeIno3YDhrwEcYrEu64iiTUObe9s4XDQrLko5IbD80BgmlkgnY0gmlwhKwSqV2KbXVsdGlhZGRyc4wACgSsEqldBk_r3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLinTraDiyTb2d_vqty0RRj-_dVMWFeNMTbeGf1bMDZcoN0Y3CCT-qDdWRwgk_shXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-10-10_04-35-58__51f65d05-916f-493b-9463-d15be154ece7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.114.55
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['30120', '30121', '30122', '30123', '30124']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 30120:30120 -p 30121:30121 -p 30122:30122 -p 30123:30123 -p 30124:30124 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=30122 --rest-port=30120 --tcp-port=30121 --discv5-udp-port=30123 --rest-address=0.0.0.0 --nat=extip:172.18.114.55 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=2ff6a3afdf2f0c6b2ff7a5dc942ead23371ade0cdcb7407b7dde0e0f90a3efcc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=30124 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QGPE_79Z5rMGvNL-ojMJ6K7xHYc2obh8VM846wj4a4TuYmeIno3YDhrwEcYrEu64iiTUObe9s4XDQrLko5IbD80BgmlkgnY0gmlwhKwSqV2KbXVsdGlhZGRyc4wACgSsEqldBk_r3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLinTraDiyTb2d_vqty0RRj-_dVMWFeNMTbeGf1bMDZcoN0Y3CCT-qDdWRwgk_shXdha3UyAw --storenode=/ip4/172.18.169.93/tcp/20458/p2p/16Uiu2HAmAgHB5dXxBVxEL4QcXBuQf3ERDz7gfY7MvtaxfapkWnZ7 --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.114.55 waku 6f38eaa5fbb2598e5051a6eb5c524430127d13a531b8c17055d9120d0ca17301
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 6f38eaa5fbb2. Setting up logs at ./log/docker/store_node1_2024-10-10_04-35-58__51f65d05-916f-493b-9463-d15be154ece7__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 30120
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30120/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30120/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.114.55/tcp/30121/p2p/16Uiu2HAmLq7vE5dhnsuKfiWXDHY3WAkL4ZJJo6VEEANW88Y5JrwR","/ip4/172.18.114.55/tcp/30122/ws/p2p/16Uiu2HAmLq7vE5dhnsuKfiWXDHY3WAkL4ZJJo6VEEANW88Y5JrwR"],"enrUri":"enr:-LO4QJLMJseLho7CIstPw39P1hiTK_AtwxLa3dMHmgvZ2PcebcFy2r_mnWKomHhpocBj2Hpe077iu9ZF2o3-sbScq4cBgmlkgnY0gmlwhKwScjeKbXVsdGlhZGRyc4wACgSsEnI3BnWq3QOCcnOFAAMBAACJc2VjcDI1NmsxoQN5ddxK_1iiI83tDWlCK0haGz9Y-WJZpm4-9JP6ZCGvwIN0Y3CCdamDdWRwgnWrhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30120/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.169.93/tcp/20458/p2p/16Uiu2HAmAgHB5dXxBVxEL4QcXBuQf3ERDz7gfY7MvtaxfapkWnZ7"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:20457/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30120/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:20457/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30120/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[]}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 28fc0b2b6d3b
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 6f38eaa5fbb2
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.