[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_unsubscribe_with_no_pubsub_topic with id: 2024-10-10_04-18-23__44a3a259-a985-404d-8031-7185f0b10482
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-10-10_04-18-23__44a3a259-a985-404d-8031-7185f0b10482__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.108.210
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['57346', '57347', '57348', '57349', '57350']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 57346:57346 -p 57347:57347 -p 57348:57348 -p 57349:57349 -p 57350:57350 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=57348 --rest-port=57346 --tcp-port=57347 --discv5-udp-port=57349 --rest-address=0.0.0.0 --nat=extip:172.18.108.210 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a67f982adb97c2fcfabd4fea9ddcdb343f8c68a7307c5a8be9b7bdf971e1f10a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=57350 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.108.210 waku 91197cadfa2882e2dfc27613ede2cd5c3cd9aedb8a2185bd398e9c3a84fd30d0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 91197cadfa28. Setting up logs at ./log/docker/node1_2024-10-10_04-18-23__44a3a259-a985-404d-8031-7185f0b10482__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 57346
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57346/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57346/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.108.210/tcp/57347/p2p/16Uiu2HAm5ryFAjAXmuo2Wg6VDbRoca5JKGkfQWJUVqPL5g4nPqWJ","/ip4/172.18.108.210/tcp/57348/ws/p2p/16Uiu2HAm5ryFAjAXmuo2Wg6VDbRoca5JKGkfQWJUVqPL5g4nPqWJ"],"enrUri":"enr:-LO4QJcP3OWzQRhZmm9S3AdvTxEaZ55CDzF4UfL0Kqqp7NU8H-k2_xAQwyy6jochcaRC3DibM4hScQEWV5ED4BkDKaUBgmlkgnY0gmlwhKwSbNKKbXVsdGlhZGRyc4wACgSsEmzSBuAE3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKbD-lDd68S-tDm1mbm4bKK80UDles1ErYMmxNGUSsmQ4N0Y3CC4AODdWRwguAFhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-10-10_04-18-23__44a3a259-a985-404d-8031-7185f0b10482__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.158.151
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['10032', '10033', '10034', '10035', '10036']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 10032:10032 -p 10033:10033 -p 10034:10034 -p 10035:10035 -p 10036:10036 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=10034 --rest-port=10032 --tcp-port=10033 --discv5-udp-port=10035 --rest-address=0.0.0.0 --nat=extip:172.18.158.151 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7fc199d6a2aee0f52de605fc8aa6c76d633bc9bc20acd662dc9cb90705613cca --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=10036 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QJcP3OWzQRhZmm9S3AdvTxEaZ55CDzF4UfL0Kqqp7NU8H-k2_xAQwyy6jochcaRC3DibM4hScQEWV5ED4BkDKaUBgmlkgnY0gmlwhKwSbNKKbXVsdGlhZGRyc4wACgSsEmzSBuAE3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKbD-lDd68S-tDm1mbm4bKK80UDles1ErYMmxNGUSsmQ4N0Y3CC4AODdWRwguAFhXdha3UyBQ --filternode=/ip4/172.18.108.210/tcp/57347/p2p/16Uiu2HAm5ryFAjAXmuo2Wg6VDbRoca5JKGkfQWJUVqPL5g4nPqWJ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.158.151 waku d2867e58c0e807389c7ac5af52866c9aec7b69f393dc587d2decf38011e6f196
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID d2867e58c0e8. Setting up logs at ./log/docker/node2_2024-10-10_04-18-23__44a3a259-a985-404d-8031-7185f0b10482__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 10032
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10032/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10032/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.158.151/tcp/10033/p2p/16Uiu2HAmQVj2QpgvwrPQxpkaEVKQ2J6KbG6iyhjrnhLqpfwrweot","/ip4/172.18.158.151/tcp/10034/ws/p2p/16Uiu2HAmQVj2QpgvwrPQxpkaEVKQ2J6KbG6iyhjrnhLqpfwrweot"],"enrUri":"enr:-LO4QNqt7Afl7vPANV0SgxQwg4AnLrIY2pMePelvs-sGDhYMO_nYF9pL76p4flu4HQ1do0i1wIDwq2vsoS-3Rf5qwm0BgmlkgnY0gmlwhKwSnpeKbXVsdGlhZGRyc4wACgSsEp6XBicy3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOv7K_vlQ61mllzxQaW2Yf1D9n-GCkodS-5LIAY52xWE4N0Y3CCJzGDdWRwgiczhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10032/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.108.210/tcp/57347/p2p/16Uiu2HAm5ryFAjAXmuo2Wg6VDbRoca5JKGkfQWJUVqPL5g4nPqWJ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57346/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10032/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "e8393bac-b64c-4c5f-a768-d57db1b63e69", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"e8393bac-b64c-4c5f-a768-d57db1b63e69","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:10032/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": "/test/1/waku-filter/proto"}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:10032/filter/v2/subscriptions. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data\\", contentType: \\"text/plain\\"))"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 91197cadfa28
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id d2867e58c0e8
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.