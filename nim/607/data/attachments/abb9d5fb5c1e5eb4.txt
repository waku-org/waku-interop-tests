[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_unsubscribe_from_non_existing_content_topic with id: 2025-01-06_04-10-59__47ad8736-78ff-4987-9461-bdfed5fe4042
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-01-06_04-10-59__47ad8736-78ff-4987-9461-bdfed5fe4042__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.208.234
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['10638', '10639', '10640', '10641', '10642']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 10638:10638 -p 10639:10639 -p 10640:10640 -p 10641:10641 -p 10642:10642 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=10640 --rest-port=10638 --tcp-port=10639 --discv5-udp-port=10641 --rest-address=0.0.0.0 --nat=extip:172.18.208.234 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6c94efee0b8346e1d65228ebf9acae168ffca72babd4a37ab9f46a7be324466d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=10642 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.208.234 waku a69c9195c6495ad0b158d878afdb9dcbfd96cc71b1850123beb4103631c54962
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID a69c9195c649. Setting up logs at ./log/docker/node1_2025-01-06_04-10-59__47ad8736-78ff-4987-9461-bdfed5fe4042__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 10638
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container d82502c2e225. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10638/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:10638/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.208.234/tcp/10639/p2p/16Uiu2HAmCUqE9He4Yao5RcKBBQ8P9fnbAMRvvhvbEbyiP7RQN9ZK","/ip4/172.18.208.234/tcp/10640/ws/p2p/16Uiu2HAmCUqE9He4Yao5RcKBBQ8P9fnbAMRvvhvbEbyiP7RQN9ZK"],"enrUri":"enr:-L24QNSzgBJUG2T1HEnIUxePZ54WV9Y-WFIYXtsqgt0LbwDsOW7FY_UplNdS_PkIJFOtK7viNjl3ue6n4JJBq-gb7msCgmlkgnY0gmlwhKwS0OqKbXVsdGlhZGRyc5YACASsEtDqBimPAAoErBLQ6gYpkN0DgnJzhQADAQAAiXNlY3AyNTZrMaEC_WXgUsG-Grc7Ntq9BTDtea7ukjcVmsPxWZROIji8HqqDdGNwgimPg3VkcIIpkYV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-01-06_04-10-59__47ad8736-78ff-4987-9461-bdfed5fe4042__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.63.246
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['32242', '32243', '32244', '32245', '32246']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 32242:32242 -p 32243:32243 -p 32244:32244 -p 32245:32245 -p 32246:32246 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=32244 --rest-port=32242 --tcp-port=32243 --discv5-udp-port=32245 --rest-address=0.0.0.0 --nat=extip:172.18.63.246 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=90cbc498befc11a2dbd9ca3f8c52e619abdcb98fb53eb5cad5fe6abae3bf3ae5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=32246 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QNSzgBJUG2T1HEnIUxePZ54WV9Y-WFIYXtsqgt0LbwDsOW7FY_UplNdS_PkIJFOtK7viNjl3ue6n4JJBq-gb7msCgmlkgnY0gmlwhKwS0OqKbXVsdGlhZGRyc5YACASsEtDqBimPAAoErBLQ6gYpkN0DgnJzhQADAQAAiXNlY3AyNTZrMaEC_WXgUsG-Grc7Ntq9BTDtea7ukjcVmsPxWZROIji8HqqDdGNwgimPg3VkcIIpkYV3YWt1MgU --filternode=/ip4/172.18.208.234/tcp/10639/p2p/16Uiu2HAmCUqE9He4Yao5RcKBBQ8P9fnbAMRvvhvbEbyiP7RQN9ZK
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.63.246 waku 2911df45659506e27832934c50697fcdbbb3078e23446b30e7f7a212d7706f93
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 2911df456595. Setting up logs at ./log/docker/node2_2025-01-06_04-10-59__47ad8736-78ff-4987-9461-bdfed5fe4042__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 32242
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32242/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32242/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.63.246/tcp/32243/p2p/16Uiu2HAmFXksUUpGNWbU7hV1a6j5JB5SHDNyj2cfEY1z8pU8jK7T","/ip4/172.18.63.246/tcp/32244/ws/p2p/16Uiu2HAmFXksUUpGNWbU7hV1a6j5JB5SHDNyj2cfEY1z8pU8jK7T"],"enrUri":"enr:-L24QGLRqd_5FEb6ljbogJpx-iKkhtHL1X43xVM-UU9fb0xNNpsqL3uU4SKW9TdShBreTQa79y3RcmEcQmlMUkx2Mn0CgmlkgnY0gmlwhKwSP_aKbXVsdGlhZGRyc5YACASsEj_2Bn3zAAoErBI_9gZ99N0DgnJzhQADAQAAiXNlY3AyNTZrMaEDKrjA81VPiRdgcZ8SlgzU0B3hTuob3Ua8eRWTilkhSB6DdGNwgn3zg3VkcIJ99YV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32242/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.208.234/tcp/10639/p2p/16Uiu2HAmCUqE9He4Yao5RcKBBQ8P9fnbAMRvvhvbEbyiP7RQN9ZK"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10638/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32242/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "3968ff7c-4e2e-49fd-a46f-98c92a53de2a", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"3968ff7c-4e2e-49fd-a46f-98c92a53de2a","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:32242/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:32242/filter/v2/subscriptions. Response content: b'{"requestId":"1","statusDesc":"NOT_FOUND: peer has no subscriptions"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:10638/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32242/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1736136662529662976,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id a69c9195c649
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 2911df456595
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container a69c9195c649. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.