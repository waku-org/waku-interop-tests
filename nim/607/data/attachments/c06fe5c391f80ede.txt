[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_update_subscription_with_invalid_request_id with id: 2025-01-06_04-10-54__7f065ff3-f23c-4f9c-8460-362cd3eefac3
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-01-06_04-10-54__7f065ff3-f23c-4f9c-8460-362cd3eefac3__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.131.208
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['48004', '48005', '48006', '48007', '48008']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 48004:48004 -p 48005:48005 -p 48006:48006 -p 48007:48007 -p 48008:48008 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=48006 --rest-port=48004 --tcp-port=48005 --discv5-udp-port=48007 --rest-address=0.0.0.0 --nat=extip:172.18.131.208 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fffffb64cdb51adef84ea9eceadc9f08c14ce9cd0de531ea2fa1c78affc28b49 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=48008 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.131.208 waku f69429e3949718d0b61dc2b402d65d1e8e8dd14b24f98dbcc849cf12cc23efb4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID f69429e39497. Setting up logs at ./log/docker/node1_2025-01-06_04-10-54__7f065ff3-f23c-4f9c-8460-362cd3eefac3__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 48004
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 94a9accfee2c. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48004/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48004/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.131.208/tcp/48005/p2p/16Uiu2HAm51nWqQjqMJjCumtSAMya1Bxbzxd1HTgxQ5gpFPQXV6fp","/ip4/172.18.131.208/tcp/48006/ws/p2p/16Uiu2HAm51nWqQjqMJjCumtSAMya1Bxbzxd1HTgxQ5gpFPQXV6fp"],"enrUri":"enr:-L24QINivF-rRvWxl3pn2ywgUGLFSODDxgZF-ePbDvSL2V6QMGsbzeNZRFT6b9Y82SGfOZ__GvXrhfuYUycIFhw5IoQCgmlkgnY0gmlwhKwSg9CKbXVsdGlhZGRyc5YACASsEoPQBruFAAoErBKD0Aa7ht0DgnJzhQADAQAAiXNlY3AyNTZrMaECjnZRuNV8DgVzs42flG6m4ItvRJ6mj8KXQhQjqreZ-Z-DdGNwgruFg3VkcIK7h4V3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-01-06_04-10-54__7f065ff3-f23c-4f9c-8460-362cd3eefac3__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.137.201
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['33961', '33962', '33963', '33964', '33965']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 33961:33961 -p 33962:33962 -p 33963:33963 -p 33964:33964 -p 33965:33965 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=33963 --rest-port=33961 --tcp-port=33962 --discv5-udp-port=33964 --rest-address=0.0.0.0 --nat=extip:172.18.137.201 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fbb6feafeba24e0d6ab9efacf6bbdf6b36cf707e3ad6526eac6052d6d37fcf99 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=33965 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QINivF-rRvWxl3pn2ywgUGLFSODDxgZF-ePbDvSL2V6QMGsbzeNZRFT6b9Y82SGfOZ__GvXrhfuYUycIFhw5IoQCgmlkgnY0gmlwhKwSg9CKbXVsdGlhZGRyc5YACASsEoPQBruFAAoErBKD0Aa7ht0DgnJzhQADAQAAiXNlY3AyNTZrMaECjnZRuNV8DgVzs42flG6m4ItvRJ6mj8KXQhQjqreZ-Z-DdGNwgruFg3VkcIK7h4V3YWt1MgU --filternode=/ip4/172.18.131.208/tcp/48005/p2p/16Uiu2HAm51nWqQjqMJjCumtSAMya1Bxbzxd1HTgxQ5gpFPQXV6fp
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.152.141
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['34123', '34124', '34125', '34126', '34127']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 34123:34123 -p 34124:34124 -p 34125:34125 -p 34126:34126 -p 34127:34127 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=34125 --rest-port=34123 --tcp-port=34124 --discv5-udp-port=34126 --rest-address=0.0.0.0 --nat=extip:172.18.152.141 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=af8c77490c433179b1abcdde8a2d1b3cf7da4b6709b712a6ab27cbbd759be9a2 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=34127 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QINivF-rRvWxl3pn2ywgUGLFSODDxgZF-ePbDvSL2V6QMGsbzeNZRFT6b9Y82SGfOZ__GvXrhfuYUycIFhw5IoQCgmlkgnY0gmlwhKwSg9CKbXVsdGlhZGRyc5YACASsEoPQBruFAAoErBKD0Aa7ht0DgnJzhQADAQAAiXNlY3AyNTZrMaECjnZRuNV8DgVzs42flG6m4ItvRJ6mj8KXQhQjqreZ-Z-DdGNwgruFg3VkcIK7h4V3YWt1MgU --filternode=/ip4/172.18.131.208/tcp/48005/p2p/16Uiu2HAm51nWqQjqMJjCumtSAMya1Bxbzxd1HTgxQ5gpFPQXV6fp
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.152.141 waku d82502c2e225a91aa0449193004c9e409239fb2cc52bbd784182746b8e5a4505
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID d82502c2e225. Setting up logs at ./log/docker/node2_2025-01-06_04-10-54__7f065ff3-f23c-4f9c-8460-362cd3eefac3__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 34123
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34123/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34123/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.152.141/tcp/34124/p2p/16Uiu2HAmHN7A79jUwDtUfwghVXaTM4oM7RoJUqPKLDgYZ42q1qo9","/ip4/172.18.152.141/tcp/34125/ws/p2p/16Uiu2HAmHN7A79jUwDtUfwghVXaTM4oM7RoJUqPKLDgYZ42q1qo9"],"enrUri":"enr:-L24QMyV26i4-Yp1TbvKGVglOnKdA3iXyT7o0brd4b_N6aGDB6DkrC5-EqqjEfPiPPoA7PIgr2wxkUf7kdKE1r-yoG8CgmlkgnY0gmlwhKwSmI2KbXVsdGlhZGRyc5YACASsEpiNBoVMAAoErBKYjQaFTd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDRfdB_phhVVtO28EW626KWFyvPbdpuyjs3SqcRWuFCZSDdGNwgoVMg3VkcIKFToV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34123/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.131.208/tcp/48005/p2p/16Uiu2HAm51nWqQjqMJjCumtSAMya1Bxbzxd1HTgxQ5gpFPQXV6fp"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48004/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34123/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "00c7d2b2-a7ef-44de-b306-368ec68e83d4", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"00c7d2b2-a7ef-44de-b306-368ec68e83d4","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X PUT "http://127.0.0.1:34123/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": 1, "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:34123/filter/v2/subscriptions. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data\\", contentType: \\"text/plain\\"))"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id f69429e39497
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id d82502c2e225
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container f69429e39497. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.