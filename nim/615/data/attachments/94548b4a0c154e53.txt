[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2025-01-13_04-04-08__d8fce6c3-2061-4559-bfab-163a0bb31c96
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-01-13_04-04-08__d8fce6c3-2061-4559-bfab-163a0bb31c96__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.231.52
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['18784', '18785', '18786', '18787', '18788']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 18784:18784 -p 18785:18785 -p 18786:18786 -p 18787:18787 -p 18788:18788 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=18786 --rest-port=18784 --tcp-port=18785 --discv5-udp-port=18787 --rest-address=0.0.0.0 --nat=extip:172.18.231.52 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6d2fedabda975e4f3d4b9b61a4dbdfaa3db8bfa163e73acab04a51ab2be70183 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=18788 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.231.52 waku 23731b9918329ba2c4f8609aee9309eca7d7ee66eff857f7ed3ab234b4790117
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 23731b991832. Setting up logs at ./log/docker/node1_2025-01-13_04-04-08__d8fce6c3-2061-4559-bfab-163a0bb31c96__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 18784
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 426c288b4d49. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18784/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18784/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.231.52/tcp/18785/p2p/16Uiu2HAm5ivdHsLjcRZpkpKFy12i3WUJoXhUmJijhHDe3uDwFMqM","/ip4/172.18.231.52/tcp/18786/ws/p2p/16Uiu2HAm5ivdHsLjcRZpkpKFy12i3WUJoXhUmJijhHDe3uDwFMqM"],"enrUri":"enr:-L24QJYhd5_-JqfK2NLg2dwJHwRKY49Ia6PtcgY8RGyta0CfX4zHBQjs0aUuO3ZYHILQ8eRr3gubq_0LA-sT9buks7sCgmlkgnY0gmlwhKwS5zSKbXVsdGlhZGRyc5YACASsEuc0BklhAAoErBLnNAZJYt0DgnJzhQADAQAAiXNlY3AyNTZrMaECmQBNy73Bk2VklsGDy9BJpjrwc5TspYQoapEEhMtI29SDdGNwgklhg3VkcIJJY4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-01-13_04-04-08__d8fce6c3-2061-4559-bfab-163a0bb31c96__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.201.184
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['38816', '38817', '38818', '38819', '38820']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 38816:38816 -p 38817:38817 -p 38818:38818 -p 38819:38819 -p 38820:38820 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=38818 --rest-port=38816 --tcp-port=38817 --discv5-udp-port=38819 --rest-address=0.0.0.0 --nat=extip:172.18.201.184 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3b63fef9ad0fbc14a6b04f9e7deaca0df9bfe1cb8ecd863cebcad2ccbcce869f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=38820 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QJYhd5_-JqfK2NLg2dwJHwRKY49Ia6PtcgY8RGyta0CfX4zHBQjs0aUuO3ZYHILQ8eRr3gubq_0LA-sT9buks7sCgmlkgnY0gmlwhKwS5zSKbXVsdGlhZGRyc5YACASsEuc0BklhAAoErBLnNAZJYt0DgnJzhQADAQAAiXNlY3AyNTZrMaECmQBNy73Bk2VklsGDy9BJpjrwc5TspYQoapEEhMtI29SDdGNwgklhg3VkcIJJY4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.201.184 waku 4af409fa91eab2c976e1503c98a7771622f597c4d6bf95f212352d7e02a403d0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 4af409fa91ea. Setting up logs at ./log/docker/node2_2025-01-13_04-04-08__d8fce6c3-2061-4559-bfab-163a0bb31c96__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 38816
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38816/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38816/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.201.184/tcp/38817/p2p/16Uiu2HAmJY4b5WRDL7itKMU4yf7ZF9EoMFpkKFsJnTWFG5gXKGk7","/ip4/172.18.201.184/tcp/38818/ws/p2p/16Uiu2HAmJY4b5WRDL7itKMU4yf7ZF9EoMFpkKFsJnTWFG5gXKGk7"],"enrUri":"enr:-L24QM8WDqXehZ8LaSoltYjqTNPStHP-Wk3ijC1uWGr9ZfMSSAz8OuQeLHCdQDO76wR-1PIZRExNjIJMIBR3G6mZ-l4CgmlkgnY0gmlwhKwSybiKbXVsdGlhZGRyc5YACASsEsm4BpehAAoErBLJuAaXot0DgnJzhQADAQAAiXNlY3AyNTZrMaEDV1_Y9uOrF4mioK200TgRDqRN3euRIG4h0BBSiJooj3CDdGNwgpehg3VkcIKXo4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38816/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.231.52/tcp/18785/p2p/16Uiu2HAm5ivdHsLjcRZpkpKFy12i3WUJoXhUmJijhHDe3uDwFMqM"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2025-01-13_04-04-08__d8fce6c3-2061-4559-bfab-163a0bb31c96__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.16.119
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['3247', '3248', '3249', '3250', '3251']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 3247:3247 -p 3248:3248 -p 3249:3249 -p 3250:3250 -p 3251:3251 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=3249 --rest-port=3247 --tcp-port=3248 --discv5-udp-port=3250 --rest-address=0.0.0.0 --nat=extip:172.18.16.119 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=1e14f5d31c9f82fdb70ad3c1c364ff74aef7ff0d92dbfe6dc01b6bec7a92aef6 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=3251 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QJYhd5_-JqfK2NLg2dwJHwRKY49Ia6PtcgY8RGyta0CfX4zHBQjs0aUuO3ZYHILQ8eRr3gubq_0LA-sT9buks7sCgmlkgnY0gmlwhKwS5zSKbXVsdGlhZGRyc5YACASsEuc0BklhAAoErBLnNAZJYt0DgnJzhQADAQAAiXNlY3AyNTZrMaECmQBNy73Bk2VklsGDy9BJpjrwc5TspYQoapEEhMtI29SDdGNwgklhg3VkcIJJY4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.16.119 waku a8085a39099ddaaf3fd3027617a901c315469ba0d9a0ea26d1973c17d1541203
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID a8085a39099d. Setting up logs at ./log/docker/node3_2025-01-13_04-04-08__d8fce6c3-2061-4559-bfab-163a0bb31c96__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 3247
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3247/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3247/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.16.119/tcp/3248/p2p/16Uiu2HAm3rKNoDPYZoMuH9ZDxbar9Ek6Df6ZYcpuMP4C43muuo2t","/ip4/172.18.16.119/tcp/3249/ws/p2p/16Uiu2HAm3rKNoDPYZoMuH9ZDxbar9Ek6Df6ZYcpuMP4C43muuo2t"],"enrUri":"enr:-L24QHqv1EAEkvyxdQHtZFDIpqs4DwgFo5II3He4S2is4_SUeQ9xMPYy_M68LcP1FstxTBJ-zkkXX9GAjl5bK37JuJMCgmlkgnY0gmlwhKwSEHeKbXVsdGlhZGRyc5YACASsEhB3BgywAAoErBIQdwYMsd0DgnJzhQADAQAAiXNlY3AyNTZrMaECfS24JZ_pfV7807fyMn2wGEfKA3uYux96qvsUPwdfSMWDdGNwggywg3VkcIIMsoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3247/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.231.52/tcp/18785/p2p/16Uiu2HAm5ivdHsLjcRZpkpKFy12i3WUJoXhUmJijhHDe3uDwFMqM"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2025-01-13_04-04-08__d8fce6c3-2061-4559-bfab-163a0bb31c96__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.14.3
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['8196', '8197', '8198', '8199', '8200']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 8196:8196 -p 8197:8197 -p 8198:8198 -p 8199:8199 -p 8200:8200 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=8198 --rest-port=8196 --tcp-port=8197 --discv5-udp-port=8199 --rest-address=0.0.0.0 --nat=extip:172.18.14.3 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cacf1ceef9bcfcfeba7b05e8fbdbdaadbbbdd0d4fbfa745f043eed38fa1cca8e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=8200 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QJYhd5_-JqfK2NLg2dwJHwRKY49Ia6PtcgY8RGyta0CfX4zHBQjs0aUuO3ZYHILQ8eRr3gubq_0LA-sT9buks7sCgmlkgnY0gmlwhKwS5zSKbXVsdGlhZGRyc5YACASsEuc0BklhAAoErBLnNAZJYt0DgnJzhQADAQAAiXNlY3AyNTZrMaECmQBNy73Bk2VklsGDy9BJpjrwc5TspYQoapEEhMtI29SDdGNwgklhg3VkcIJJY4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.14.3 waku c7050d5da9ae12cbc65bde36f4308a4e5947fa534ccaa62acb45ad06b3c8084c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID c7050d5da9ae. Setting up logs at ./log/docker/node4_2025-01-13_04-04-08__d8fce6c3-2061-4559-bfab-163a0bb31c96__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 8196
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8196/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8196/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.14.3/tcp/8197/p2p/16Uiu2HAmF1xvQ9KQo9x3natNf22enP8h3MxCxgubMavArNm3bzFA","/ip4/172.18.14.3/tcp/8198/ws/p2p/16Uiu2HAmF1xvQ9KQo9x3natNf22enP8h3MxCxgubMavArNm3bzFA"],"enrUri":"enr:-L24QM3dnKsv8O3KrlIHOJUK9lGrOzr4ZSz7hIY8fMe3oAmJVPbwMvbUzvxfD2gJu91EZxjqxRAZV4Qjj8Ro7AUe1psCgmlkgnY0gmlwhKwSDgOKbXVsdGlhZGRyc5YACASsEg4DBiAFAAoErBIOAwYgBt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDIxb0dQ8eTuyH92v6YqPxCKcGMJSwEszNDRX4DtPHj-mDdGNwgiAFg3VkcIIgB4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8196/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.231.52/tcp/18785/p2p/16Uiu2HAm5ivdHsLjcRZpkpKFy12i3WUJoXhUmJijhHDe3uDwFMqM"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2025-01-13_04-04-08__d8fce6c3-2061-4559-bfab-163a0bb31c96__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.78.197
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['35520', '35521', '35522', '35523', '35524']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 35520:35520 -p 35521:35521 -p 35522:35522 -p 35523:35523 -p 35524:35524 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=35522 --rest-port=35520 --tcp-port=35521 --discv5-udp-port=35523 --rest-address=0.0.0.0 --nat=extip:172.18.78.197 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=28e4b0707ff5f3ed0c236f53e4cd2994e5cf1c46aefdb6d284ba2bbfbccbd5d7 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=35524 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QJYhd5_-JqfK2NLg2dwJHwRKY49Ia6PtcgY8RGyta0CfX4zHBQjs0aUuO3ZYHILQ8eRr3gubq_0LA-sT9buks7sCgmlkgnY0gmlwhKwS5zSKbXVsdGlhZGRyc5YACASsEuc0BklhAAoErBLnNAZJYt0DgnJzhQADAQAAiXNlY3AyNTZrMaECmQBNy73Bk2VklsGDy9BJpjrwc5TspYQoapEEhMtI29SDdGNwgklhg3VkcIJJY4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.78.197 waku 3a5f0ccc1b5140c55cc3da8d45622949b8dea330cca671efef69edc244ad9ed7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 3a5f0ccc1b51. Setting up logs at ./log/docker/node5_2025-01-13_04-04-08__d8fce6c3-2061-4559-bfab-163a0bb31c96__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 35520
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35520/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35520/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.78.197/tcp/35521/p2p/16Uiu2HAm9a7yuQqTw7ykjutPzCwpSxNHkkLY2Kve9L6qSddo9zHP","/ip4/172.18.78.197/tcp/35522/ws/p2p/16Uiu2HAm9a7yuQqTw7ykjutPzCwpSxNHkkLY2Kve9L6qSddo9zHP"],"enrUri":"enr:-L24QNnDzNnBXxK6OlpgRgLm_lAeJJ1glfBJO-wLxgrDpIBTGkGbqCYK6Xz_Y6eGTPXgDG1y7B786GboPLqnDecKuwQCgmlkgnY0gmlwhKwSTsWKbXVsdGlhZGRyc5YACASsEk7FBorBAAoErBJOxQaKwt0DgnJzhQADAQAAiXNlY3AyNTZrMaEC0i2p9Tdd3K2nXrsUC3dHKcAqu6wgAKfp2WnfKGKF2tqDdGNwgorBg3VkcIKKw4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35520/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.231.52/tcp/18785/p2p/16Uiu2HAm5ivdHsLjcRZpkpKFy12i3WUJoXhUmJijhHDe3uDwFMqM"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:18784/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38816/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3247/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8196/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35520/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:18784/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18784/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1736741055399250944,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38816/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1736741055399250944,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3247/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1736741055399250944,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8196/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1736741055399250944,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35520/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1736741055399250944,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35520/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18784/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1736741055525878272,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38816/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1736741055525878272,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3247/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1736741055525878272,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8196/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1736741055525878272,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35520/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1736741055525878272,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 23731b991832
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 4af409fa91ea
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 23731b991832. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id a8085a39099d
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 4af409fa91ea. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id c7050d5da9ae
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 3a5f0ccc1b51
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container a8085a39099d. Exiting log stream.
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container c7050d5da9ae. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.