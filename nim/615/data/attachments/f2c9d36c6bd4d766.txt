[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_publish_on_not_subscribed_content_topic_works with id: 2025-01-13_04-04-27__133da939-53c8-47ac-9b53-c52fd26c7a1d
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.sharding:sharding.py:29 Running fixture setup: sharding_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-01-13_04-04-27__133da939-53c8-47ac-9b53-c52fd26c7a1d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.88.69
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['56213', '56214', '56215', '56216', '56217']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 56213:56213 -p 56214:56214 -p 56215:56215 -p 56216:56216 -p 56217:56217 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=56215 --rest-port=56213 --tcp-port=56214 --discv5-udp-port=56216 --rest-address=0.0.0.0 --nat=extip:172.18.88.69 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=f6fbc1ff7c236ddc0035fa4efc9cf5bdd3ebc950007adfcabcffbafacfaf52c7 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=56217 --metrics-logging=true --relay=true --filter=true --content-topic=/myapp/1/latest/proto
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.88.69 waku 4df7532eb39f0e52a6af9cb1abf34a1b3f463f164962b2c9e027cec0f699bbfa
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 4df7532eb39f. Setting up logs at ./log/docker/node1_2025-01-13_04-04-27__133da939-53c8-47ac-9b53-c52fd26c7a1d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 56213
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container d55c6cd85c9e. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56213/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:56213/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.88.69/tcp/56214/p2p/16Uiu2HAmVgAydstqEvLxmwJ5qKHMfM8tByQ5segqTCbhx6ULcy6N","/ip4/172.18.88.69/tcp/56215/ws/p2p/16Uiu2HAmVgAydstqEvLxmwJ5qKHMfM8tByQ5segqTCbhx6ULcy6N"],"enrUri":"enr:-L24QLtlfdcVb86OFUklp5B55jeMNniIGecYyFD56m5ZAcM_XjupQ4tsvb5wxxvoS3Ew9rU_Rn25fTTkpj8tGoG0fgECgmlkgnY0gmlwhKwSWEWKbXVsdGlhZGRyc5YACASsElhFBtuWAAoErBJYRQbbl90DgnJzhQACAQAAiXNlY3AyNTZrMaED_ORGL_NkOJrNo1HZ7WHL6_T1TXt1vuUN9XazBpH2DV-DdGNwgtuWg3VkcILbmIV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-01-13_04-04-27__133da939-53c8-47ac-9b53-c52fd26c7a1d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.216.175
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['32055', '32056', '32057', '32058', '32059']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 32055:32055 -p 32056:32056 -p 32057:32057 -p 32058:32058 -p 32059:32059 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=32057 --rest-port=32055 --tcp-port=32056 --discv5-udp-port=32058 --rest-address=0.0.0.0 --nat=extip:172.18.216.175 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=f79b90f529c7aacedeb088bdb4d5c4c1d6df591bbba0591eb6da5679f3fe970c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=32059 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QLtlfdcVb86OFUklp5B55jeMNniIGecYyFD56m5ZAcM_XjupQ4tsvb5wxxvoS3Ew9rU_Rn25fTTkpj8tGoG0fgECgmlkgnY0gmlwhKwSWEWKbXVsdGlhZGRyc5YACASsElhFBtuWAAoErBJYRQbbl90DgnJzhQACAQAAiXNlY3AyNTZrMaED_ORGL_NkOJrNo1HZ7WHL6_T1TXt1vuUN9XazBpH2DV-DdGNwgtuWg3VkcILbmIV3YWt1MgU --content-topic=/myapp/1/latest/proto
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.216.175 waku 595005d03c181448fcba7cf0db72637161d36717f499e4e7afae3f77fbb48929
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 595005d03c18. Setting up logs at ./log/docker/node2_2025-01-13_04-04-27__133da939-53c8-47ac-9b53-c52fd26c7a1d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 32055
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32055/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32055/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.216.175/tcp/32056/p2p/16Uiu2HAm2GmS2beD83HjBtETmoRJ5N3GkeZCBAWjfCkLwkSiuH5q","/ip4/172.18.216.175/tcp/32057/ws/p2p/16Uiu2HAm2GmS2beD83HjBtETmoRJ5N3GkeZCBAWjfCkLwkSiuH5q"],"enrUri":"enr:-L24QIgdRPRSjvyZcJ-UibKXBa47TlciDPMa-9H0Nve3SrPxQs1AErVkX0ZxrXVfvucVVjO20QxOZaNpHgSTmZ2NkWoCgmlkgnY0gmlwhKwS2K-KbXVsdGlhZGRyc5YACASsEtivBn04AAoErBLYrwZ9Od0DgnJzhQACAQAAiXNlY3AyNTZrMaECZbm_BL3Nclyig79nflVRu9TY8sz6wq_VRhrLO1s6aGiDdGNwgn04g3VkcIJ9OoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32055/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.88.69/tcp/56214/p2p/16Uiu2HAmVgAydstqEvLxmwJ5qKHMfM8tByQ5segqTCbhx6ULcy6N"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56213/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32055/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:56213/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32055/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 4df7532eb39f
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 595005d03c18
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 4df7532eb39f. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.