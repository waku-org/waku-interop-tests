[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_ping_on_subscribed_peer with id: 2024-08-21_04-16-56__46df5efe-5683-4966-9655-2709d449615f
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node1_2024-08-21_04-16-56__46df5efe-5683-4966-9655-2709d449615f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.134.16
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['64644', '64645', '64646', '64647', '64648']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 64644:64644 -p 64645:64645 -p 64646:64646 -p 64647:64647 -p 64648:64648 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=64646 --rest-port=64644 --tcp-port=64645 --discv5-udp-port=64647 --rest-address=0.0.0.0 --nat=extip:172.18.134.16 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f3da551874ffbf6cb3617dbcf62de326abab57f2b0f5a3f9eea23f5feaf4cdb9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=64648 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.134.16 waku 8fe81f65ca7cd9222a89ba004b1098823d8c62a6bab8aad07b61c79198d83cf6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 8fe81f65ca7c. Setting up logs at ./log/docker/node1_2024-08-21_04-16-56__46df5efe-5683-4966-9655-2709d449615f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 64644
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64644/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64644/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.134.16/tcp/64645/p2p/16Uiu2HAm2Z5Jn4xgpXrXAbbELW3eQCHByjN7Xq2MVJf5GpyoTMS5","/ip4/172.18.134.16/tcp/64646/ws/p2p/16Uiu2HAm2Z5Jn4xgpXrXAbbELW3eQCHByjN7Xq2MVJf5GpyoTMS5"],"enrUri":"enr:-LO4QHil_5Hq1Nuz1O3J4kYI3H2Wc7OFADQ-pOdR3n9XQoXxRFriFAOsjToXLmL92owJ1Du8AXAz8ihAhSVYcRMh64UBgmlkgnY0gmlwhKwShhCKbXVsdGlhZGRyc4wACgSsEoYQBvyG3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJp50AcFNzNlpm5QxFv3DdZCxPLNwme3nNsGmiaqwUProN0Y3CC_IWDdWRwgvyHhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node2_2024-08-21_04-16-56__46df5efe-5683-4966-9655-2709d449615f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.135.12
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['62032', '62033', '62034', '62035', '62036']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 62032:62032 -p 62033:62033 -p 62034:62034 -p 62035:62035 -p 62036:62036 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=62034 --rest-port=62032 --tcp-port=62033 --discv5-udp-port=62035 --rest-address=0.0.0.0 --nat=extip:172.18.135.12 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=0d259cdaaaf7faca8f2ec5ceaa07bb0d38bdb8a914c21068cf4e93f062ed669a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=62036 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QHil_5Hq1Nuz1O3J4kYI3H2Wc7OFADQ-pOdR3n9XQoXxRFriFAOsjToXLmL92owJ1Du8AXAz8ihAhSVYcRMh64UBgmlkgnY0gmlwhKwShhCKbXVsdGlhZGRyc4wACgSsEoYQBvyG3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJp50AcFNzNlpm5QxFv3DdZCxPLNwme3nNsGmiaqwUProN0Y3CC_IWDdWRwgvyHhXdha3UyBQ --filternode=/ip4/172.18.134.16/tcp/64645/p2p/16Uiu2HAm2Z5Jn4xgpXrXAbbELW3eQCHByjN7Xq2MVJf5GpyoTMS5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.135.12 waku 8e134a8d57459501900ff863f9f5385780137a3b7ddc4aa0db024d56fe7644be
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 8e134a8d5745. Setting up logs at ./log/docker/node2_2024-08-21_04-16-56__46df5efe-5683-4966-9655-2709d449615f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 62032
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62032/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62032/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.135.12/tcp/62033/p2p/16Uiu2HAm5ANYj8kKaogcBPJR7ZKws5V4EoEnEPxTT9ZdYM2WteKK","/ip4/172.18.135.12/tcp/62034/ws/p2p/16Uiu2HAm5ANYj8kKaogcBPJR7ZKws5V4EoEnEPxTT9ZdYM2WteKK"],"enrUri":"enr:-LO4QGOy6G3wkWfJs2QnU4mYIo-khwEv3GfDHwNDP0bDbn6pDEf2t_KUjvg9za3Y14WDt7yKkY9BYXtU3h93ds0GfkwBgmlkgnY0gmlwhKwShwyKbXVsdGlhZGRyc4wACgSsEocMBvJS3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKQqXJN9vRE0g__Eg9nc7Dp3xQmB5jfRGUBLWPA0jNHQoN0Y3CC8lGDdWRwgvJThXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62032/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.134.16/tcp/64645/p2p/16Uiu2HAm2Z5Jn4xgpXrXAbbELW3eQCHByjN7Xq2MVJf5GpyoTMS5"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:64644/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62032/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "61392616-39a7-456e-a178-f9da60110bd8", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"61392616-39a7-456e-a178-f9da60110bd8","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62032/filter/v2/subscriptions/001b9f7c-9094-4124-bc75-046b4f7971f5" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"001b9f7c-9094-4124-bc75-046b4f7971f5","statusDesc":"OK"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 8fe81f65ca7c
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 8e134a8d5745
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.