[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2024-08-21_04-23-36__df5f3e50-4a32-40a0-af39-2e23ba9abc88
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node1_2024-08-21_04-23-36__df5f3e50-4a32-40a0-af39-2e23ba9abc88__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.50.165
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['52357', '52358', '52359', '52360', '52361']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 52357:52357 -p 52358:52358 -p 52359:52359 -p 52360:52360 -p 52361:52361 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=52359 --rest-port=52357 --tcp-port=52358 --discv5-udp-port=52360 --rest-address=0.0.0.0 --nat=extip:172.18.50.165 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d149d5fe03691fd1af4eab9abdf54760ba112ad85af12c28d30b744ef7c9add8 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=52361 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.50.165 waku 0907bc38fca33afb7c75e417d0afd07000508fd3c2550833f37be8098272edb4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 0907bc38fca3. Setting up logs at ./log/docker/node1_2024-08-21_04-23-36__df5f3e50-4a32-40a0-af39-2e23ba9abc88__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 52357
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52357/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52357/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.50.165/tcp/52358/p2p/16Uiu2HAmFsVa5DrCZ74DKXKrTcafjnY8hzMFEzCFdM4PBmH8f9kb","/ip4/172.18.50.165/tcp/52359/ws/p2p/16Uiu2HAmFsVa5DrCZ74DKXKrTcafjnY8hzMFEzCFdM4PBmH8f9kb"],"enrUri":"enr:-LO4QHKB0JP8fb_0unZAGiWxI0_3Ro_idN9_10Uv5gXvnV11J7XtKDyTxbGxlY_6yQHijKyn9nLyR0ZEsAGsAT_kv1IBgmlkgnY0gmlwhKwSMqWKbXVsdGlhZGRyc4wACgSsEjKlBsyH3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMvxxHyt2dVNeoU9tWne4wd8DlYJXohjicmIbURmLQaYIN0Y3CCzIaDdWRwgsyIhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node2_2024-08-21_04-23-36__df5f3e50-4a32-40a0-af39-2e23ba9abc88__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.224.175
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['35556', '35557', '35558', '35559', '35560']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 35556:35556 -p 35557:35557 -p 35558:35558 -p 35559:35559 -p 35560:35560 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=35558 --rest-port=35556 --tcp-port=35557 --discv5-udp-port=35559 --rest-address=0.0.0.0 --nat=extip:172.18.224.175 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=51aec8d0f24e8f0f974b69c9ff4c9fd92e1fb2fb1bd59ed2f91de58cd8c6c6f2 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=35560 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QHKB0JP8fb_0unZAGiWxI0_3Ro_idN9_10Uv5gXvnV11J7XtKDyTxbGxlY_6yQHijKyn9nLyR0ZEsAGsAT_kv1IBgmlkgnY0gmlwhKwSMqWKbXVsdGlhZGRyc4wACgSsEjKlBsyH3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMvxxHyt2dVNeoU9tWne4wd8DlYJXohjicmIbURmLQaYIN0Y3CCzIaDdWRwgsyIhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.224.175 waku 86eed7b31ba5a431015246a426dc6dc82d670c7368284a2c067c7c92205ef5ed
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 86eed7b31ba5. Setting up logs at ./log/docker/node2_2024-08-21_04-23-36__df5f3e50-4a32-40a0-af39-2e23ba9abc88__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 35556
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35556/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35556/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.224.175/tcp/35557/p2p/16Uiu2HAmMQEfrPUMP3ZDnHuFr7jAob7nv6vRoPDKBCraejmvgSde","/ip4/172.18.224.175/tcp/35558/ws/p2p/16Uiu2HAmMQEfrPUMP3ZDnHuFr7jAob7nv6vRoPDKBCraejmvgSde"],"enrUri":"enr:-LO4QESVxGeaF-65HuTEfE0GOyU2CrJNp8AwhDnpVTAjhNMgFMYTrs4IslPdyjtG0kLNUXOevna0jujpaK-8mrto0ZEBgmlkgnY0gmlwhKwS4K-KbXVsdGlhZGRyc4wACgSsEuCvBorm3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOB8alz4HCl2a2NENhfEpyss2YEvL90i8Bq1Pwly7A6uYN0Y3CCiuWDdWRwgornhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35556/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.50.165/tcp/52358/p2p/16Uiu2HAmFsVa5DrCZ74DKXKrTcafjnY8hzMFEzCFdM4PBmH8f9kb"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node3_2024-08-21_04-23-36__df5f3e50-4a32-40a0-af39-2e23ba9abc88__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.153.170
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['63037', '63038', '63039', '63040', '63041']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 63037:63037 -p 63038:63038 -p 63039:63039 -p 63040:63040 -p 63041:63041 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=63039 --rest-port=63037 --tcp-port=63038 --discv5-udp-port=63040 --rest-address=0.0.0.0 --nat=extip:172.18.153.170 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9dffb7fab865a69d225edf439bd5c0a5c7e3fddf2136fa13c51dea87ccfea066 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=63041 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QHKB0JP8fb_0unZAGiWxI0_3Ro_idN9_10Uv5gXvnV11J7XtKDyTxbGxlY_6yQHijKyn9nLyR0ZEsAGsAT_kv1IBgmlkgnY0gmlwhKwSMqWKbXVsdGlhZGRyc4wACgSsEjKlBsyH3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMvxxHyt2dVNeoU9tWne4wd8DlYJXohjicmIbURmLQaYIN0Y3CCzIaDdWRwgsyIhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.153.170 waku a0d63301d482592396c2064cdc5644da916b4426c8e599c4872cac091a126de5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID a0d63301d482. Setting up logs at ./log/docker/node3_2024-08-21_04-23-36__df5f3e50-4a32-40a0-af39-2e23ba9abc88__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 63037
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63037/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63037/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.153.170/tcp/63038/p2p/16Uiu2HAmAyhB3oRdsQrCmZW2zu6AjmPd1Muk1XpD3EnVBFz9HBrF","/ip4/172.18.153.170/tcp/63039/ws/p2p/16Uiu2HAmAyhB3oRdsQrCmZW2zu6AjmPd1Muk1XpD3EnVBFz9HBrF"],"enrUri":"enr:-LO4QMwDMbk49zoIPUA7prODDae9Zh1yxNEePN5C9zvg5DBmVnUfuIqYTb1iY09Z3jzIaffENVggl62ahs8HREDV-fQBgmlkgnY0gmlwhKwSmaqKbXVsdGlhZGRyc4wACgSsEpmqBvY_3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLnEz1rHGamPK1ZtLAFXtC8gW-Kc7Ys_IjJYYfsSmmcsIN0Y3CC9j6DdWRwgvZAhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63037/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.50.165/tcp/52358/p2p/16Uiu2HAmFsVa5DrCZ74DKXKrTcafjnY8hzMFEzCFdM4PBmH8f9kb"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node4_2024-08-21_04-23-36__df5f3e50-4a32-40a0-af39-2e23ba9abc88__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.131.97
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['3694', '3695', '3696', '3697', '3698']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 3694:3694 -p 3695:3695 -p 3696:3696 -p 3697:3697 -p 3698:3698 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=3696 --rest-port=3694 --tcp-port=3695 --discv5-udp-port=3697 --rest-address=0.0.0.0 --nat=extip:172.18.131.97 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=26dc5ea899cdc53fdcfcdaea932dca3fbd8effa65b41ec6daaa8bcb0ff5f4eca --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=3698 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QHKB0JP8fb_0unZAGiWxI0_3Ro_idN9_10Uv5gXvnV11J7XtKDyTxbGxlY_6yQHijKyn9nLyR0ZEsAGsAT_kv1IBgmlkgnY0gmlwhKwSMqWKbXVsdGlhZGRyc4wACgSsEjKlBsyH3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMvxxHyt2dVNeoU9tWne4wd8DlYJXohjicmIbURmLQaYIN0Y3CCzIaDdWRwgsyIhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.131.97 waku 9d1d08f3caef0f80e02a9c7919edcf8b791f346807c5e15c50c4afd2eee1fbf0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 9d1d08f3caef. Setting up logs at ./log/docker/node4_2024-08-21_04-23-36__df5f3e50-4a32-40a0-af39-2e23ba9abc88__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 3694
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3694/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3694/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.131.97/tcp/3695/p2p/16Uiu2HAmLftPGKFGnGtT55akJv9PErYAuCG5Hek6WFqEAhrzv1Tu","/ip4/172.18.131.97/tcp/3696/ws/p2p/16Uiu2HAmLftPGKFGnGtT55akJv9PErYAuCG5Hek6WFqEAhrzv1Tu"],"enrUri":"enr:-LO4QOgeQx661Dl1JfuzhKtaJn_dkafY-ZBxZAKnSJRRnFqCOJ2VS5vkiAoMRR1KHTo4Hret9oeRkLNCshN97DXlM7gBgmlkgnY0gmlwhKwSg2GKbXVsdGlhZGRyc4wACgSsEoNhBg5w3QOCcnOFAAMBAACJc2VjcDI1NmsxoQN3GFSbrEKR8ceL6zjMq5qCVkkCbnbMfs-jWagDjQOSEIN0Y3CCDm-DdWRwgg5xhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3694/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.50.165/tcp/52358/p2p/16Uiu2HAmFsVa5DrCZ74DKXKrTcafjnY8hzMFEzCFdM4PBmH8f9kb"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node5_2024-08-21_04-23-36__df5f3e50-4a32-40a0-af39-2e23ba9abc88__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.33.221
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['2821', '2822', '2823', '2824', '2825']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 2821:2821 -p 2822:2822 -p 2823:2823 -p 2824:2824 -p 2825:2825 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=2823 --rest-port=2821 --tcp-port=2822 --discv5-udp-port=2824 --rest-address=0.0.0.0 --nat=extip:172.18.33.221 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8ea8f85ae7cc6fe5ede3cdc1b54cfa5cb56a6f6d0ae821435da8fc1f07a98aff --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=2825 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QHKB0JP8fb_0unZAGiWxI0_3Ro_idN9_10Uv5gXvnV11J7XtKDyTxbGxlY_6yQHijKyn9nLyR0ZEsAGsAT_kv1IBgmlkgnY0gmlwhKwSMqWKbXVsdGlhZGRyc4wACgSsEjKlBsyH3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMvxxHyt2dVNeoU9tWne4wd8DlYJXohjicmIbURmLQaYIN0Y3CCzIaDdWRwgsyIhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.33.221 waku bfeec675b9fd212e171a92518653180ff002595aa6a42f8f9318c79656cd4b87
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID bfeec675b9fd. Setting up logs at ./log/docker/node5_2024-08-21_04-23-36__df5f3e50-4a32-40a0-af39-2e23ba9abc88__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 2821
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2821/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2821/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.33.221/tcp/2822/p2p/16Uiu2HAmCW4vuPfLCfjyaQpRcW324894o1ayAhKVJhhcdRHQeur6","/ip4/172.18.33.221/tcp/2823/ws/p2p/16Uiu2HAmCW4vuPfLCfjyaQpRcW324894o1ayAhKVJhhcdRHQeur6"],"enrUri":"enr:-LO4QBajHZq7vFvJMAO5SRltS_U3-VAbrxRm2pB303O512QlfMP_dRGOuTWkp0qiM9mb-P6Zkj-VycvrRk_r6EIlwGoBgmlkgnY0gmlwhKwSId2KbXVsdGlhZGRyc4wACgSsEiHdBgsH3QOCcnOFAAMBAACJc2VjcDI1NmsxoQL9tvNqJYrD4RInM-5L1xC_L6R1QSb04LTrM-Bxa7svp4N0Y3CCCwaDdWRwggsIhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2821/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.50.165/tcp/52358/p2p/16Uiu2HAmFsVa5DrCZ74DKXKrTcafjnY8hzMFEzCFdM4PBmH8f9kb"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52357/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:35556/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63037/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3694/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2821/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:52357/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52357/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1724214224741222144,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35556/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1724214224741222144,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63037/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1724214224741222144,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3694/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1724214224741222144,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2821/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1724214224741222144,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2821/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:52357/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1724214224883501824,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:35556/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1724214224883501824,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63037/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1724214224883501824,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3694/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1724214224883501824,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2821/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1724214224883501824,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 0907bc38fca3
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 86eed7b31ba5
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id a0d63301d482
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 9d1d08f3caef
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id bfeec675b9fd
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.