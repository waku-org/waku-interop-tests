[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_unsubscribe_with_no_pubsub_topic with id: 2024-08-21_04-18-55__471df9db-69a5-4187-aec3-45c500b962dc
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node1_2024-08-21_04-18-55__471df9db-69a5-4187-aec3-45c500b962dc__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.187.218
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['50037', '50038', '50039', '50040', '50041']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 50037:50037 -p 50038:50038 -p 50039:50039 -p 50040:50040 -p 50041:50041 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=50039 --rest-port=50037 --tcp-port=50038 --discv5-udp-port=50040 --rest-address=0.0.0.0 --nat=extip:172.18.187.218 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f87b4b77463fcd903c00a4f24f8a3bdfa017def2dd11c447aee57ea68d5c7a9e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=50041 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.187.218 waku 0d17ab088fba86fde48e9bd17c4c93d3fd67ce2d3f24acbcedb0b4f5be8ee21b
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 0d17ab088fba. Setting up logs at ./log/docker/node1_2024-08-21_04-18-55__471df9db-69a5-4187-aec3-45c500b962dc__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 50037
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50037/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:50037/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.187.218/tcp/50038/p2p/16Uiu2HAmGMsYu8ASuXsB12kx51hShCeRxW8wa8nb5LwYLBnA1uHx","/ip4/172.18.187.218/tcp/50039/ws/p2p/16Uiu2HAmGMsYu8ASuXsB12kx51hShCeRxW8wa8nb5LwYLBnA1uHx"],"enrUri":"enr:-LO4QCrOrDtqbf0DfrmsZFk_3qYIY0pUvM8863OzpG98DtjGdCHun6dFDxIbcrHZdtWh3hDzMFIUYVHCbZ0Su3pnFvYBgmlkgnY0gmlwhKwSu9qKbXVsdGlhZGRyc4wACgSsErvaBsN33QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3DC9zX0Mr9y8xV88uUmNudxE32yD0yDUBA6zH3afe14N0Y3CCw3aDdWRwgsN4hXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node2_2024-08-21_04-18-55__471df9db-69a5-4187-aec3-45c500b962dc__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.31.238
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['47606', '47607', '47608', '47609', '47610']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 47606:47606 -p 47607:47607 -p 47608:47608 -p 47609:47609 -p 47610:47610 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=47608 --rest-port=47606 --tcp-port=47607 --discv5-udp-port=47609 --rest-address=0.0.0.0 --nat=extip:172.18.31.238 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=95ded93567fecbb4fbc02ec77c43d4ce6c3a47d72736f6bb9e824f5089faeb9d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=47610 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QCrOrDtqbf0DfrmsZFk_3qYIY0pUvM8863OzpG98DtjGdCHun6dFDxIbcrHZdtWh3hDzMFIUYVHCbZ0Su3pnFvYBgmlkgnY0gmlwhKwSu9qKbXVsdGlhZGRyc4wACgSsErvaBsN33QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3DC9zX0Mr9y8xV88uUmNudxE32yD0yDUBA6zH3afe14N0Y3CCw3aDdWRwgsN4hXdha3UyBQ --filternode=/ip4/172.18.187.218/tcp/50038/p2p/16Uiu2HAmGMsYu8ASuXsB12kx51hShCeRxW8wa8nb5LwYLBnA1uHx
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.31.238 waku 8681f01603744d8ae69440b0660098271fe47a20989438d6903f458ca2fd2d2f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 8681f0160374. Setting up logs at ./log/docker/node2_2024-08-21_04-18-55__471df9db-69a5-4187-aec3-45c500b962dc__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 47606
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47606/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47606/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.31.238/tcp/47607/p2p/16Uiu2HAmBvknkpHehJKkFwZuFAsqWh4nLhLCp3od5LBoNbbd3dbR","/ip4/172.18.31.238/tcp/47608/ws/p2p/16Uiu2HAmBvknkpHehJKkFwZuFAsqWh4nLhLCp3od5LBoNbbd3dbR"],"enrUri":"enr:-LO4QPlrNYbtCWNymAtydstiCJnQhRrkMPHxZ-TnEQ86KFX-HnFNg9eeKnicncPzqgGZYmqhJWVjPhSYQBdc3e9Ku_ABgmlkgnY0gmlwhKwSH-6KbXVsdGlhZGRyc4wACgSsEh_uBrn43QOCcnOFAAMBAACJc2VjcDI1NmsxoQL1LkXLP7xDGZ-FKpAwJEBqmXKcn4s8bl07kVdWwWvZrIN0Y3CCufeDdWRwgrn5hXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47606/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.187.218/tcp/50038/p2p/16Uiu2HAmGMsYu8ASuXsB12kx51hShCeRxW8wa8nb5LwYLBnA1uHx"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:50037/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47606/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "d558f576-3b29-41ac-b78c-86b0313891fc", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"d558f576-3b29-41ac-b78c-86b0313891fc","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:47606/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": "/test/1/waku-filter/proto"}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:47606/filter/v2/subscriptions. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data\\", contentType: \\"text/plain\\"))"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 0d17ab088fba
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 8681f0160374
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.