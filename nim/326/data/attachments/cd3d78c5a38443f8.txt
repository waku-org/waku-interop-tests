[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_relay_get_message_after_one_peer_was_stopped with id: 2024-08-21_04-23-57__d2289a34-56ec-40f9-9ff7-341ed9a6e16c
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node1_2024-08-21_04-23-57__d2289a34-56ec-40f9-9ff7-341ed9a6e16c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.11.193
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['42146', '42147', '42148', '42149', '42150']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 42146:42146 -p 42147:42147 -p 42148:42148 -p 42149:42149 -p 42150:42150 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=42148 --rest-port=42146 --tcp-port=42147 --discv5-udp-port=42149 --rest-address=0.0.0.0 --nat=extip:172.18.11.193 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c705a0d3dc42dad7eea2cb9684f8c7e7dee401d2c7bdde3a8fa0bfce7b2cec20 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=42150 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.235.135
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['58549', '58550', '58551', '58552', '58553']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 58549:58549 -p 58550:58550 -p 58551:58551 -p 58552:58552 -p 58553:58553 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=58551 --rest-port=58549 --tcp-port=58550 --discv5-udp-port=58552 --rest-address=0.0.0.0 --nat=extip:172.18.235.135 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e5ef326f2ef1aa1a8c0cf48bccbc28aa48be74c2a9d39656cec7bb35a88bf759 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=58553 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.235.135 waku 38d96b74053f37f6be8c01d4abc62d5b27d6a05c2762e0144ed92879bb879a76
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 38d96b74053f. Setting up logs at ./log/docker/node1_2024-08-21_04-23-57__d2289a34-56ec-40f9-9ff7-341ed9a6e16c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 58549
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58549/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58549/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.235.135/tcp/58550/p2p/16Uiu2HAm6dWSTMayyyp6P8qKec4eKmCURWwFu2UrDz1E4R5jrx8d","/ip4/172.18.235.135/tcp/58551/ws/p2p/16Uiu2HAm6dWSTMayyyp6P8qKec4eKmCURWwFu2UrDz1E4R5jrx8d"],"enrUri":"enr:-LO4QCiDimHMtYufveouj1hGXwjG38gIAqC22FWzfEP2C_zoPkbHbN2FPDlDLzaTIDuGhLpWqdD5ZVGrerKwu0TpXe0BgmlkgnY0gmlwhKwS64eKbXVsdGlhZGRyc4wACgSsEuuHBuS33QOCcnOFAAMBAACJc2VjcDI1NmsxoQKmeL0W0yFgIwgTm9_Ax_LqqSr12vGWZqeNg9zQ-4dHvoN0Y3CC5LaDdWRwguS4hXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node2_2024-08-21_04-23-57__d2289a34-56ec-40f9-9ff7-341ed9a6e16c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.30.248
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['63940', '63941', '63942', '63943', '63944']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 63940:63940 -p 63941:63941 -p 63942:63942 -p 63943:63943 -p 63944:63944 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=63942 --rest-port=63940 --tcp-port=63941 --discv5-udp-port=63943 --rest-address=0.0.0.0 --nat=extip:172.18.30.248 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cc8b165dc000b187039fd5d445bc2bcf84db0a808c1e56eef02fafeabe9df07e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=63944 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QCiDimHMtYufveouj1hGXwjG38gIAqC22FWzfEP2C_zoPkbHbN2FPDlDLzaTIDuGhLpWqdD5ZVGrerKwu0TpXe0BgmlkgnY0gmlwhKwS64eKbXVsdGlhZGRyc4wACgSsEuuHBuS33QOCcnOFAAMBAACJc2VjcDI1NmsxoQKmeL0W0yFgIwgTm9_Ax_LqqSr12vGWZqeNg9zQ-4dHvoN0Y3CC5LaDdWRwguS4hXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.30.248 waku 435a19cd844ab32cd386d946e9ca1355efae9fb685d1b729cae6ec8909d22362
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 435a19cd844a. Setting up logs at ./log/docker/node2_2024-08-21_04-23-57__d2289a34-56ec-40f9-9ff7-341ed9a6e16c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 63940
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63940/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63940/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.30.248/tcp/63941/p2p/16Uiu2HAm2txpCL8SHdCNW6YoMGwL3M1os9PWQ4atNz2Jj4dp2Hjh","/ip4/172.18.30.248/tcp/63942/ws/p2p/16Uiu2HAm2txpCL8SHdCNW6YoMGwL3M1os9PWQ4atNz2Jj4dp2Hjh"],"enrUri":"enr:-LO4QKQgPJvlzLsZS4pSMIJ2D3AA9Pj02B5KmWFofOOOjlRVdNezocDgtehy6AIN0pLziHdPf2Q06KdgnWvuBH_p8tIBgmlkgnY0gmlwhKwSHviKbXVsdGlhZGRyc4wACgSsEh74BvnG3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJu_4Zy8BTVyRNI2dkoxSYwcL7WTPOIYPeHeA_IX6OZRIN0Y3CC-cWDdWRwgvnHhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63940/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.235.135/tcp/58550/p2p/16Uiu2HAm6dWSTMayyyp6P8qKec4eKmCURWwFu2UrDz1E4R5jrx8d"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node3_2024-08-21_04-23-57__d2289a34-56ec-40f9-9ff7-341ed9a6e16c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.189.130
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['62506', '62507', '62508', '62509', '62510']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 62506:62506 -p 62507:62507 -p 62508:62508 -p 62509:62509 -p 62510:62510 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=62508 --rest-port=62506 --tcp-port=62507 --discv5-udp-port=62509 --rest-address=0.0.0.0 --nat=extip:172.18.189.130 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=10e1c4e85d08876c86aca8c476b6540ac1c5c2deb04aeb6ac23eb3ff2b153b91 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=62510 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QCiDimHMtYufveouj1hGXwjG38gIAqC22FWzfEP2C_zoPkbHbN2FPDlDLzaTIDuGhLpWqdD5ZVGrerKwu0TpXe0BgmlkgnY0gmlwhKwS64eKbXVsdGlhZGRyc4wACgSsEuuHBuS33QOCcnOFAAMBAACJc2VjcDI1NmsxoQKmeL0W0yFgIwgTm9_Ax_LqqSr12vGWZqeNg9zQ-4dHvoN0Y3CC5LaDdWRwguS4hXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.189.130 waku d3ab1b4cedc62837521ecf1933e5a18e2c7d54068be257a8db3ac2917dfd328e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID d3ab1b4cedc6. Setting up logs at ./log/docker/node3_2024-08-21_04-23-57__d2289a34-56ec-40f9-9ff7-341ed9a6e16c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 62506
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62506/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62506/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.189.130/tcp/62507/p2p/16Uiu2HAkyiD59TmyRmdHAYAbj5CVCd2DLuX4bnEzMUWwpw982NeA","/ip4/172.18.189.130/tcp/62508/ws/p2p/16Uiu2HAkyiD59TmyRmdHAYAbj5CVCd2DLuX4bnEzMUWwpw982NeA"],"enrUri":"enr:-LO4QEO7tJHKdpezvb5AlmdbZOz7SLuQl46_G20882jhGayNRljUi7xEaZdiIDOPkpQiX9S2eZ547yV12MMZqdDaPkQBgmlkgnY0gmlwhKwSvYKKbXVsdGlhZGRyc4wACgSsEr2CBvQs3QOCcnOFAAMBAACJc2VjcDI1NmsxoQI_qzJi8JjZyseFRkZNjZSg7dvP14A8RdAZq-1F2bgB94N0Y3CC9CuDdWRwgvQthXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62506/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.235.135/tcp/58550/p2p/16Uiu2HAm6dWSTMayyyp6P8qKec4eKmCURWwFu2UrDz1E4R5jrx8d"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node4_2024-08-21_04-23-57__d2289a34-56ec-40f9-9ff7-341ed9a6e16c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.141.165
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['38111', '38112', '38113', '38114', '38115']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 38111:38111 -p 38112:38112 -p 38113:38113 -p 38114:38114 -p 38115:38115 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=38113 --rest-port=38111 --tcp-port=38112 --discv5-udp-port=38114 --rest-address=0.0.0.0 --nat=extip:172.18.141.165 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bb80efdb15496530c4aadf01d2ce264f2f35b82695f2b0c670dedbef68e7d5b8 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=38115 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QCiDimHMtYufveouj1hGXwjG38gIAqC22FWzfEP2C_zoPkbHbN2FPDlDLzaTIDuGhLpWqdD5ZVGrerKwu0TpXe0BgmlkgnY0gmlwhKwS64eKbXVsdGlhZGRyc4wACgSsEuuHBuS33QOCcnOFAAMBAACJc2VjcDI1NmsxoQKmeL0W0yFgIwgTm9_Ax_LqqSr12vGWZqeNg9zQ-4dHvoN0Y3CC5LaDdWRwguS4hXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.141.165 waku 763e8b3310bb87cc01aabc1a0976aab6223c8a6efb8cadf0b7e043f6918b36fa
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 763e8b3310bb. Setting up logs at ./log/docker/node4_2024-08-21_04-23-57__d2289a34-56ec-40f9-9ff7-341ed9a6e16c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 38111
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38111/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38111/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.141.165/tcp/38112/p2p/16Uiu2HAkw3WWtx6Jb8m2m6zL3uZYeT2ztbe8qxbW2DCa4f3Gff8x","/ip4/172.18.141.165/tcp/38113/ws/p2p/16Uiu2HAkw3WWtx6Jb8m2m6zL3uZYeT2ztbe8qxbW2DCa4f3Gff8x"],"enrUri":"enr:-LO4QKiP8j39N6JSn0yHcKanq4zL8Ulet9_koMLsw88FlzKODD-7LXZSr3kea9Q3o7QA-pnRX9WS9noVC4sR9EexyFMBgmlkgnY0gmlwhKwSjaWKbXVsdGlhZGRyc4wACgSsEo2lBpTh3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIYCeU2ucl3iqMtRoewmdCA_U_mLGTQxRHh-1SMBpL6RYN0Y3CClOCDdWRwgpTihXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38111/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.235.135/tcp/58550/p2p/16Uiu2HAm6dWSTMayyyp6P8qKec4eKmCURWwFu2UrDz1E4R5jrx8d"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/node5_2024-08-21_04-23-57__d2289a34-56ec-40f9-9ff7-341ed9a6e16c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.133.145
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['21074', '21075', '21076', '21077', '21078']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:430 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:162 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:164 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 21074:21074 -p 21075:21075 -p 21076:21076 -p 21077:21077 -p 21078:21078 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=21076 --rest-port=21074 --tcp-port=21075 --discv5-udp-port=21077 --rest-address=0.0.0.0 --nat=extip:172.18.133.145 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a193df20478ed19efadf30687dd02483d541ecfe3d90a6bf35c3cadc12aeff48 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=21078 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QCiDimHMtYufveouj1hGXwjG38gIAqC22FWzfEP2C_zoPkbHbN2FPDlDLzaTIDuGhLpWqdD5ZVGrerKwu0TpXe0BgmlkgnY0gmlwhKwS64eKbXVsdGlhZGRyc4wACgSsEuuHBuS33QOCcnOFAAMBAACJc2VjcDI1NmsxoQKmeL0W0yFgIwgTm9_Ax_LqqSr12vGWZqeNg9zQ-4dHvoN0Y3CC5LaDdWRwguS4hXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.133.145 waku 228c64e81fe9a096f7c77b2452911e7c1a9fbb6e288dbff3c82e8c29d04fd14a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 228c64e81fe9. Setting up logs at ./log/docker/node5_2024-08-21_04-23-57__d2289a34-56ec-40f9-9ff7-341ed9a6e16c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:176 Started container from image wakuorg/nwaku:latest. REST: 21074
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21074/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:276 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21074/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.133.145/tcp/21075/p2p/16Uiu2HAm6buQ71DRdgR6H8CRWANkJYTfr49tD4GYJbp418jD3XuY","/ip4/172.18.133.145/tcp/21076/ws/p2p/16Uiu2HAm6buQ71DRdgR6H8CRWANkJYTfr49tD4GYJbp418jD3XuY"],"enrUri":"enr:-LO4QEwybH_06Jx1pVHlwjxJJCAWY2828bylRu22sSQtCCgyF0UJsDjKDwCSIxzLASCEisoZAEo8MPUqssvaJnB6mCoBgmlkgnY0gmlwhKwShZGKbXVsdGlhZGRyc4wACgSsEoWRBlJU3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKmD4mQsSXLVr-cqY4xXxXDvw7D3wO1qb8kaUL-6qxIL4N0Y3CCUlODdWRwglJVhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:281 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21074/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.235.135/tcp/58550/p2p/16Uiu2HAm6dWSTMayyyp6P8qKec4eKmCURWwFu2UrDz1E4R5jrx8d"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58549/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63940/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:62506/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38111/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21074/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58549/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58549/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1724214247995883520,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63940/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1724214247995883520,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62506/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1724214247995883520,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38111/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1724214247995883520,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21074/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1724214247995883520,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58549/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58549/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1724214248136068864,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63940/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1724214248136068864,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62506/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1724214248136068864,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38111/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1724214248136068864,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21074/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1724214248136068864,"ephemeral":false}]'
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 435a19cd844a
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58549/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:62506/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1724214249680574976,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38111/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1724214249680574976,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21074/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1724214249680574976,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 38d96b74053f
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id d3ab1b4cedc6
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 763e8b3310bb
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:220 Stopping container with id 228c64e81fe9
[35mDEBUG   [0m src.node.waku_node:waku_node.py:227 Container stopped.