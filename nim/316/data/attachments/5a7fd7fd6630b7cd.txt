[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_multiple_lightpush_nodes with id: 2024-08-14_04-16-23__a6eed703-4890-4c7d-acf3-77d97db8e592
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:28 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-08-14_04-16-23__a6eed703-4890-4c7d-acf3-77d97db8e592__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.174.229
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['51400', '51401', '51402', '51403', '51404']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:429 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:161 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:163 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 51400:51400 -p 51401:51401 -p 51402:51402 -p 51403:51403 -p 51404:51404 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=51402 --rest-port=51400 --tcp-port=51401 --discv5-udp-port=51403 --rest-address=0.0.0.0 --nat=extip:172.18.174.229 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=51404 --metrics-logging=true --lightpush=true --relay=true --nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.174.229 waku 2b1e19956496f8fd7cde09c4037781ce86c8051db1cd47e603afe393ae4ea6d0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 2b1e19956496. Setting up logs at ./log/docker/receiving_node1_2024-08-14_04-16-23__a6eed703-4890-4c7d-acf3-77d97db8e592__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:175 Started container from image wakuorg/nwaku:latest. REST: 51400
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51400/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:275 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51400/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.174.229/tcp/51401/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","/ip4/172.18.174.229/tcp/51402/ws/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"],"enrUri":"enr:-LO4QP5zS8cuHE7WkYqYcOw0WpC1H2a176VFzE83s7PQ6DsVLXer5yxMuCwTWHjTX9y434LzxVzUMXjb5W2pKjXSUFoBgmlkgnY0gmlwhKwSruWKbXVsdGlhZGRyc4wACgSsEq7lBsjK3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCyMmDdWRwgsjLhXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:280 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-08-14_04-16-23__a6eed703-4890-4c7d-acf3-77d97db8e592__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.53.26
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['16027', '16028', '16029', '16030', '16031']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:429 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:161 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:163 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 16027:16027 -p 16028:16028 -p 16029:16029 -p 16030:16030 -p 16031:16031 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=16029 --rest-port=16027 --tcp-port=16028 --discv5-udp-port=16030 --rest-address=0.0.0.0 --nat=extip:172.18.53.26 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=16031 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.53.26 waku 8d57b485cfade4c56c76999f49c80a659d267f13c4444b2a2ee1953b00063118
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 8d57b485cfad. Setting up logs at ./log/docker/receiving_node2_2024-08-14_04-16-23__a6eed703-4890-4c7d-acf3-77d97db8e592__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:175 Started container from image wakuorg/nwaku:latest. REST: 16027
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16027/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:275 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16027/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.53.26/tcp/16028/p2p/16Uiu2HAmLS9bundtiNXhmQTVyHD5CM6oHPJBF7EzvxhAhHRgcCFZ","/ip4/172.18.53.26/tcp/16029/ws/p2p/16Uiu2HAmLS9bundtiNXhmQTVyHD5CM6oHPJBF7EzvxhAhHRgcCFZ"],"enrUri":"enr:-LO4QA8v35PLUMl52a1lqfYNtNegcnQsYQPugxR9MUsKD7QxP_KaCY2FgD0ac-MOqZC5h6SXpzdm_JE4Ml3amPdyPEUBgmlkgnY0gmlwhKwSNRqKbXVsdGlhZGRyc4wACgSsEjUaBj6d3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNzk2gAu-45XrYzGj1W44sQ8bKkzHteBMNEPKYDmnOgwIN0Y3CCPpyDdWRwgj6ehXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:280 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16027/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.174.229/tcp/51401/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-08-14_04-16-23__a6eed703-4890-4c7d-acf3-77d97db8e592__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.169.139
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['44904', '44905', '44906', '44907', '44908']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:429 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:161 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:163 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 44904:44904 -p 44905:44905 -p 44906:44906 -p 44907:44907 -p 44908:44908 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=44906 --rest-port=44904 --tcp-port=44905 --discv5-udp-port=44907 --rest-address=0.0.0.0 --nat=extip:172.18.169.139 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=44908 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QP5zS8cuHE7WkYqYcOw0WpC1H2a176VFzE83s7PQ6DsVLXer5yxMuCwTWHjTX9y434LzxVzUMXjb5W2pKjXSUFoBgmlkgnY0gmlwhKwSruWKbXVsdGlhZGRyc4wACgSsEq7lBsjK3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCyMmDdWRwgsjLhXdha3UyCQ --lightpushnode=/ip4/172.18.174.229/tcp/51401/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.169.139 waku 0ef134487df04ed428fbbe11a7e4fc78872fdc36f5036494df6c480767c3cfa8
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 0ef134487df0. Setting up logs at ./log/docker/lightpush_node1_2024-08-14_04-16-23__a6eed703-4890-4c7d-acf3-77d97db8e592__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:175 Started container from image wakuorg/nwaku:latest. REST: 44904
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44904/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:275 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44904/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.169.139/tcp/44905/p2p/16Uiu2HAmLuk9cTejQ9zZMewMehCn7YhbFri5s5vK58dLqdWkrwcM","/ip4/172.18.169.139/tcp/44906/ws/p2p/16Uiu2HAmLuk9cTejQ9zZMewMehCn7YhbFri5s5vK58dLqdWkrwcM"],"enrUri":"enr:-LO4QChC-ndFdz8R19iYh2ZS9ijxmqlsZuxI4sUqB2MI22lKOBo_1SaLH9i_U_Q8nm8Z7WV82WdYV3kau8KqsxWX2q4BgmlkgnY0gmlwhKwSqYuKbXVsdGlhZGRyc4wACgSsEqmLBq9q3QOCcnOFAAMBAACJc2VjcDI1NmsxoQN6pSZpGeg8wteRoIpXQrZ9iSJ626QavaWYnThgY6akEoN0Y3CCr2mDdWRwgq9rhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:280 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44904/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.174.229/tcp/51401/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44904/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.53.26/tcp/16028/p2p/16Uiu2HAmLS9bundtiNXhmQTVyHD5CM6oHPJBF7EzvxhAhHRgcCFZ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/lightpush_node2_2024-08-14_04-16-23__a6eed703-4890-4c7d-acf3-77d97db8e592__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.105.21
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['11495', '11496', '11497', '11498', '11499']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:429 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:161 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:163 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 11495:11495 -p 11496:11496 -p 11497:11497 -p 11498:11498 -p 11499:11499 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=11497 --rest-port=11495 --tcp-port=11496 --discv5-udp-port=11498 --rest-address=0.0.0.0 --nat=extip:172.18.105.21 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=11499 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QP5zS8cuHE7WkYqYcOw0WpC1H2a176VFzE83s7PQ6DsVLXer5yxMuCwTWHjTX9y434LzxVzUMXjb5W2pKjXSUFoBgmlkgnY0gmlwhKwSruWKbXVsdGlhZGRyc4wACgSsEq7lBsjK3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCyMmDdWRwgsjLhXdha3UyCQ --lightpushnode=/ip4/172.18.174.229/tcp/51401/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.105.21 waku e291807f644518ac82f4a037648f01361931f8388ee1208be58362bca73dd00e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID e291807f6445. Setting up logs at ./log/docker/lightpush_node2_2024-08-14_04-16-23__a6eed703-4890-4c7d-acf3-77d97db8e592__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:175 Started container from image wakuorg/nwaku:latest. REST: 11495
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11495/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:275 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:11495/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.105.21/tcp/11496/p2p/16Uiu2HAmJCw37eVq35aLRXAzFGGEYvyrraTZHtMLcifrAXdvC5VT","/ip4/172.18.105.21/tcp/11497/ws/p2p/16Uiu2HAmJCw37eVq35aLRXAzFGGEYvyrraTZHtMLcifrAXdvC5VT"],"enrUri":"enr:-LO4QJZ3QZkq42dOoNFx5UfiTm8nLbDWjNzpD4Eiv4dY_zrhJ3YF1wNwhxBGejz4S0Uq5kxj9hT3umC2uocypK_79ccBgmlkgnY0gmlwhKwSaRWKbXVsdGlhZGRyc4wACgSsEmkVBizp3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNSeUYrjyvhOYcGlk866LXMZRpFGB4-ZWGOaTxCjMbsioN0Y3CCLOiDdWRwgizqhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:280 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11495/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.174.229/tcp/51401/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11495/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.53.26/tcp/16028/p2p/16Uiu2HAmLS9bundtiNXhmQTVyHD5CM6oHPJBF7EzvxhAhHRgcCFZ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/lightpush_node3_2024-08-14_04-16-23__a6eed703-4890-4c7d-acf3-77d97db8e592__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.167.106
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['37697', '37698', '37699', '37700', '37701']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:429 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:161 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:163 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 37697:37697 -p 37698:37698 -p 37699:37699 -p 37700:37700 -p 37701:37701 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=37699 --rest-port=37697 --tcp-port=37698 --discv5-udp-port=37700 --rest-address=0.0.0.0 --nat=extip:172.18.167.106 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=37701 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QP5zS8cuHE7WkYqYcOw0WpC1H2a176VFzE83s7PQ6DsVLXer5yxMuCwTWHjTX9y434LzxVzUMXjb5W2pKjXSUFoBgmlkgnY0gmlwhKwSruWKbXVsdGlhZGRyc4wACgSsEq7lBsjK3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCyMmDdWRwgsjLhXdha3UyCQ --lightpushnode=/ip4/172.18.174.229/tcp/51401/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.167.106 waku eef729b894d458218f08053895a0319ddfe747722516d2a64d598fd47ea78b04
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID eef729b894d4. Setting up logs at ./log/docker/lightpush_node3_2024-08-14_04-16-23__a6eed703-4890-4c7d-acf3-77d97db8e592__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:175 Started container from image wakuorg/nwaku:latest. REST: 37697
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37697/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:275 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37697/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.167.106/tcp/37698/p2p/16Uiu2HAm6B3QWPbTvtbBfmLGNECND9kjdsXc2oyyy83P3C5z4PTn","/ip4/172.18.167.106/tcp/37699/ws/p2p/16Uiu2HAm6B3QWPbTvtbBfmLGNECND9kjdsXc2oyyy83P3C5z4PTn"],"enrUri":"enr:-LO4QA2njmuq_-JXoLn0_ugsS6N0uc6OG4QGr5U6qwGL93k0YeoDNohw06jA6SLfa7-HZKlWbFXZ9req84snkZ5cYOgBgmlkgnY0gmlwhKwSp2qKbXVsdGlhZGRyc4wACgSsEqdqBpND3QOCcnOFAAMBAACJc2VjcDI1NmsxoQKfsRIUk3Di-2aXJMQOi-QG7yPYbuFL1eOynOZzbBb0cYN0Y3CCk0KDdWRwgpNEhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:280 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:37697/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.174.229/tcp/51401/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:37697/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.53.26/tcp/16028/p2p/16Uiu2HAmLS9bundtiNXhmQTVyHD5CM6oHPJBF7EzvxhAhHRgcCFZ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:84 WakuNode instance initialized with log path ./log/docker/lightpush_node4_2024-08-14_04-16-23__a6eed703-4890-4c7d-acf3-77d97db8e592__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:88 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.192.26
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['31128', '31129', '31130', '31131', '31132']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:429 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:161 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:163 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 31128:31128 -p 31129:31129 -p 31130:31130 -p 31131:31131 -p 31132:31132 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=31130 --rest-port=31128 --tcp-port=31129 --discv5-udp-port=31131 --rest-address=0.0.0.0 --nat=extip:172.18.192.26 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=31132 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QP5zS8cuHE7WkYqYcOw0WpC1H2a176VFzE83s7PQ6DsVLXer5yxMuCwTWHjTX9y434LzxVzUMXjb5W2pKjXSUFoBgmlkgnY0gmlwhKwSruWKbXVsdGlhZGRyc4wACgSsEq7lBsjK3QOCcnOFAAMBAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCyMmDdWRwgsjLhXdha3UyCQ --lightpushnode=/ip4/172.18.174.229/tcp/51401/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.192.26 waku 033c94c09ae40ecf69e97a833898fa34881c04b57c12f12afb34d4c58d1ab15c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 033c94c09ae4. Setting up logs at ./log/docker/lightpush_node4_2024-08-14_04-16-23__a6eed703-4890-4c7d-acf3-77d97db8e592__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:175 Started container from image wakuorg/nwaku:latest. REST: 31128
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31128/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:275 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:31128/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.192.26/tcp/31129/p2p/16Uiu2HAkuTDThG6pF9H48zHVDrd1pJJGohXMFYBT7WY5nMz5pLEw","/ip4/172.18.192.26/tcp/31130/ws/p2p/16Uiu2HAkuTDThG6pF9H48zHVDrd1pJJGohXMFYBT7WY5nMz5pLEw"],"enrUri":"enr:-LO4QDGHPvAsnXIO7_ac5Yomk-IR2JpPTJtp5hh-O7jd9cEtNHnsgxWYrf41a9y7K6n13-xbgqxYA4cQx914zR9T4bYBgmlkgnY0gmlwhKwSwBqKbXVsdGlhZGRyc4wACgSsEsAaBnma3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIAZS0yzJN0_VXjewtF9_3C_Q_JOiRyDkTDigM3ilnyjIN0Y3CCeZmDdWRwgnmbhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:280 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31128/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.174.229/tcp/51401/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31128/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.53.26/tcp/16028/p2p/16Uiu2HAmLS9bundtiNXhmQTVyHD5CM6oHPJBF7EzvxhAhHRgcCFZ"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:51400/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16027/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.light_push:light_push.py:121 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44904/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1723608993489084928}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:125 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51400/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1723608993489084928,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:125 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16027/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1723608993489084928,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:121 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:11495/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1723608993605009920}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:125 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51400/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1723608993605009920,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:125 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16027/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1723608993605009920,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:121 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:37697/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1723608993725198080}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:125 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51400/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1723608993725198080,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:125 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16027/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1723608993725198080,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:121 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:31128/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1723608993853950720}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:125 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:51400/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1723608993853950720,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:125 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16027/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1723608993853950720,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:219 Stopping container with id 2b1e19956496
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:219 Stopping container with id 8d57b485cfad
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:219 Stopping container with id 0ef134487df0
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:219 Stopping container with id e291807f6445
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:219 Stopping container with id eef729b894d4
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:219 Stopping container with id 033c94c09ae4
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Container stopped.