[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_subscribe_to_single_topics with id: 2025-01-28_04-07-41__5f86c601-d9fa-4512-a9c6-e9c707f8100d
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-01-28_04-07-41__5f86c601-d9fa-4512-a9c6-e9c707f8100d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.3.242
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['14733', '14734', '14735', '14736', '14737']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 14733:14733 -p 14734:14734 -p 14735:14735 -p 14736:14736 -p 14737:14737 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=14735 --rest-port=14733 --tcp-port=14734 --discv5-udp-port=14736 --rest-address=0.0.0.0 --nat=extip:172.18.3.242 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ede3ebccee00ced1baff7efbfdcc23dbae6a287be0ae60f6aabc1da7e9c2500f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=14737 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.3.242 waku 32be7a9c8b4384219dd5de3a53197121adf329ec4d6d6cfc04e2270f3903e83c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 32be7a9c8b43. Setting up logs at ./log/docker/node1_2025-01-28_04-07-41__5f86c601-d9fa-4512-a9c6-e9c707f8100d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 14733
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container d72371d4ba8b. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14733/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14733/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.3.242/tcp/14734/p2p/16Uiu2HAm8hWiRfdkcg3bLvfq8vvKo8mHzS1Ri8zz2qSpmV8dSNG4","/ip4/172.18.3.242/tcp/14735/ws/p2p/16Uiu2HAm8hWiRfdkcg3bLvfq8vvKo8mHzS1Ri8zz2qSpmV8dSNG4"],"enrUri":"enr:-L24QDXDsrU_KFD8Xmqa8QlxFyKPpuFjFt6xL4UmAX4mtWV7XathKfztVEY3nkO4KqdanZ68ieNGRzQ1c8CqSdefXNACgmlkgnY0gmlwhKwSA_KKbXVsdGlhZGRyc5YACASsEgPyBjmOAAoErBID8gY5j90DgnJzhQADAQAAiXNlY3AyNTZrMaECxTa_P-v_fbNtBCydovb4mWWmFbVUrMBcoFjngSLioOWDdGNwgjmOg3VkcII5kIV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-01-28_04-07-41__5f86c601-d9fa-4512-a9c6-e9c707f8100d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.147.243
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['24287', '24288', '24289', '24290', '24291']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 24287:24287 -p 24288:24288 -p 24289:24289 -p 24290:24290 -p 24291:24291 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=24289 --rest-port=24287 --tcp-port=24288 --discv5-udp-port=24290 --rest-address=0.0.0.0 --nat=extip:172.18.147.243 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a11df9ae94f4ed64f806fcc8c39dc6c30ef198dadbe084adafb06e5e9bbbed3e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=24291 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QDXDsrU_KFD8Xmqa8QlxFyKPpuFjFt6xL4UmAX4mtWV7XathKfztVEY3nkO4KqdanZ68ieNGRzQ1c8CqSdefXNACgmlkgnY0gmlwhKwSA_KKbXVsdGlhZGRyc5YACASsEgPyBjmOAAoErBID8gY5j90DgnJzhQADAQAAiXNlY3AyNTZrMaECxTa_P-v_fbNtBCydovb4mWWmFbVUrMBcoFjngSLioOWDdGNwgjmOg3VkcII5kIV3YWt1MgU --filternode=/ip4/172.18.3.242/tcp/14734/p2p/16Uiu2HAm8hWiRfdkcg3bLvfq8vvKo8mHzS1Ri8zz2qSpmV8dSNG4
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.147.243 waku 577b97252160a03b9ae74132449e25a02e23079d862073a31f2cb136c22899a2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 577b97252160. Setting up logs at ./log/docker/node2_2025-01-28_04-07-41__5f86c601-d9fa-4512-a9c6-e9c707f8100d__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 24287
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24287/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24287/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.147.243/tcp/24288/p2p/16Uiu2HAm1BTPfTj2Z6Mzc5M7rMLJxwNYfDmEKDUJuBEXW4y3zkNP","/ip4/172.18.147.243/tcp/24289/ws/p2p/16Uiu2HAm1BTPfTj2Z6Mzc5M7rMLJxwNYfDmEKDUJuBEXW4y3zkNP"],"enrUri":"enr:-L24QLmBaMRUVPp31ptexBa9-uc-gsNH2BGGBGZLfgeU5kBOaLGwa8CKIljZEOB_dmjFF77HjyTfqntDNyBV0SkrVUMCgmlkgnY0gmlwhKwSk_OKbXVsdGlhZGRyc5YACASsEpPzBl7gAAoErBKT8wZe4d0DgnJzhQADAQAAiXNlY3AyNTZrMaECVYHBpb7yKYDNaVuHCFhS73_NYO9MZE3LzE4rc-tNTSyDdGNwgl7gg3VkcIJe4oV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24287/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.3.242/tcp/14734/p2p/16Uiu2HAm8hWiRfdkcg3bLvfq8vvKo8mHzS1Ri8zz2qSpmV8dSNG4"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14733/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24287/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "6be8d7bb-f87a-48a1-8b09-38a5ba7e071d", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"6be8d7bb-f87a-48a1-8b09-38a5ba7e071d","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14733/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24287/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1738037263689024256,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 32be7a9c8b43
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 577b97252160
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 32be7a9c8b43. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.