[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_unsubscribe_with_very_large_request_id with id: 2025-01-28_04-04-06__b771ca35-7228-42d3-9470-834ccc0e6539
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-01-28_04-04-06__b771ca35-7228-42d3-9470-834ccc0e6539__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.83.72
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['39909', '39910', '39911', '39912', '39913']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 39909:39909 -p 39910:39910 -p 39911:39911 -p 39912:39912 -p 39913:39913 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=39911 --rest-port=39909 --tcp-port=39910 --discv5-udp-port=39912 --rest-address=0.0.0.0 --nat=extip:172.18.83.72 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9fce1bf3dbed7be50907e0cf2e7f06db4e1a2e0c1cc80129eb151b70238249bf --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=39913 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.83.72 waku 37d790c04419e014f5d13820d987db527f08d29e575aae202a1b131013cf6e42
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 37d790c04419. Setting up logs at ./log/docker/node1_2025-01-28_04-04-06__b771ca35-7228-42d3-9470-834ccc0e6539__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 39909
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 6ed637a66f60. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39909/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39909/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.83.72/tcp/39910/p2p/16Uiu2HAkyVmm94WfZai8RC3QYc4Qxsz27j3DTG3q4KubVmopeGf3","/ip4/172.18.83.72/tcp/39911/ws/p2p/16Uiu2HAkyVmm94WfZai8RC3QYc4Qxsz27j3DTG3q4KubVmopeGf3"],"enrUri":"enr:-L24QJg1argHKHeCbMrDVZCKI3PP3wG-icuC4ok2Mq1jigjoN1dkd5qOZy0AOQR1HjmKaFHcPFoiFigwg1cBct8cTBsCgmlkgnY0gmlwhKwSU0iKbXVsdGlhZGRyc5YACASsElNIBpvmAAoErBJTSAab590DgnJzhQADAQAAiXNlY3AyNTZrMaECPHubxV5CSNZGcSCgF71ykryDeNCJXAcEPmcsDqn5wTKDdGNwgpvmg3VkcIKb6IV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-01-28_04-04-06__b771ca35-7228-42d3-9470-834ccc0e6539__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.205.168
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['17844', '17845', '17846', '17847', '17848']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 17844:17844 -p 17845:17845 -p 17846:17846 -p 17847:17847 -p 17848:17848 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=17846 --rest-port=17844 --tcp-port=17845 --discv5-udp-port=17847 --rest-address=0.0.0.0 --nat=extip:172.18.205.168 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6fb51f0db63dfafa19ef68cc5a1be46e8bfbdb9695eabb64b12d8b4b45045748 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=17848 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QJg1argHKHeCbMrDVZCKI3PP3wG-icuC4ok2Mq1jigjoN1dkd5qOZy0AOQR1HjmKaFHcPFoiFigwg1cBct8cTBsCgmlkgnY0gmlwhKwSU0iKbXVsdGlhZGRyc5YACASsElNIBpvmAAoErBJTSAab590DgnJzhQADAQAAiXNlY3AyNTZrMaECPHubxV5CSNZGcSCgF71ykryDeNCJXAcEPmcsDqn5wTKDdGNwgpvmg3VkcIKb6IV3YWt1MgU --filternode=/ip4/172.18.83.72/tcp/39910/p2p/16Uiu2HAkyVmm94WfZai8RC3QYc4Qxsz27j3DTG3q4KubVmopeGf3
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.205.168 waku ed456e8f101e2b12b560326017a8227f368d2c867ac1e8cc7ac913cc8332df78
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID ed456e8f101e. Setting up logs at ./log/docker/node2_2025-01-28_04-04-06__b771ca35-7228-42d3-9470-834ccc0e6539__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 17844
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17844/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17844/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.205.168/tcp/17845/p2p/16Uiu2HAmGKp7RLNuEWSA3rFVVFuaRPYMFWcwXffQ1wZBfAZyvmxy","/ip4/172.18.205.168/tcp/17846/ws/p2p/16Uiu2HAmGKp7RLNuEWSA3rFVVFuaRPYMFWcwXffQ1wZBfAZyvmxy"],"enrUri":"enr:-L24QG-MJ2OzCfxV_ONoZA5MlUZDxz3hOAelEPPu9h-jJBUORbwkbfB3F4ExH6Ho7K-1ihIWJ_QTGCW6EUfYFXwlyZYCgmlkgnY0gmlwhKwSzaiKbXVsdGlhZGRyc5YACASsEs2oBkW1AAoErBLNqAZFtt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDNoUiiZ8qsbOdMQV7SMdbmlnfpxGJtyQ5xM2zug5IIeaDdGNwgkW1g3VkcIJFt4V3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17844/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.83.72/tcp/39910/p2p/16Uiu2HAkyVmm94WfZai8RC3QYc4Qxsz27j3DTG3q4KubVmopeGf3"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39909/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:17844/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "59723f41-c74a-486a-8edd-8bc0246040b6", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"59723f41-c74a-486a-8edd-8bc0246040b6","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17844/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1738037049426101504,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:17844/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "12345678901234567890123456789012345678901234567890", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"12345678901234567890123456789012345678901234567890","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39909/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:17844/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:17844/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 37d790c04419
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id ed456e8f101e
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 37d790c04419. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.