[35mDEBUG   [0m tests.conftest:conftest.py:43 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:49 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-05-12_04-11-31__9d9c8b34-d520-4535-afc5-587d525d3d9d
[35mDEBUG   [0m src.steps.common:common.py:15 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node1_2024-05-12_04-11-31__9d9c8b34-d520-4535-afc5-587d525d3d9d__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.15.60
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['45364', '45365', '45366', '45367', '45368']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:345 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:114 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:116 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 45364:45364 -p 45365:45365 -p 45366:45366 -p 45367:45367 -p 45368:45368 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=45366 --rest-port=45364 --tcp-port=45365 --discv5-udp-port=45367 --rest-address=0.0.0.0 --nat=extip:172.18.15.60 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=45368 --metrics-logging=true --relay=true --filter=true --nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.15.60 waku 3fb4d49d66d01d1995b30ef51dc4dd537122ad256edca657a997e734eb5d9688
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 3fb4d49d66d0. Setting up logs at ./log/docker/node1_2024-05-12_04-11-31__9d9c8b34-d520-4535-afc5-587d525d3d9d__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 45364
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45364/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:209 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45364/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.15.60/tcp/45365/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","/ip4/172.18.15.60/tcp/45366/ws/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"],"enrUri":"enr:-LO4QH4rFX3I6qbBcREeEiwzFdtuNkkwQ73i3xjR0nLsimKLezO9buO0cKIATvdYa1dOv5qvkTOLxNrTT3KWGUv6xqQBgmlkgnY0gmlwhKwSDzyKbXVsdGlhZGRyc4wACgSsEg88BrE23QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCsTWDdWRwgrE3hXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:214 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node2_2024-05-12_04-11-31__9d9c8b34-d520-4535-afc5-587d525d3d9d__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.67.162
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['33917', '33918', '33919', '33920', '33921']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:345 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:114 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:116 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 33917:33917 -p 33918:33918 -p 33919:33919 -p 33920:33920 -p 33921:33921 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=33919 --rest-port=33917 --tcp-port=33918 --discv5-udp-port=33920 --rest-address=0.0.0.0 --nat=extip:172.18.67.162 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=33921 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QH4rFX3I6qbBcREeEiwzFdtuNkkwQ73i3xjR0nLsimKLezO9buO0cKIATvdYa1dOv5qvkTOLxNrTT3KWGUv6xqQBgmlkgnY0gmlwhKwSDzyKbXVsdGlhZGRyc4wACgSsEg88BrE23QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCsTWDdWRwgrE3hXdha3UyBQ --filternode=/ip4/172.18.15.60/tcp/45365/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.67.162 waku a3297465171419a1514a6b399f444429e7b79bd1bad36dc98b1d58d7b47a1517
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID a32974651714. Setting up logs at ./log/docker/node2_2024-05-12_04-11-31__9d9c8b34-d520-4535-afc5-587d525d3d9d__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 33917
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33917/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:209 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33917/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.67.162/tcp/33918/p2p/16Uiu2HAmHvNbo8Y3pKcVd7skWHRGSmsLWL3kx1uvC3j8aw25989m","/ip4/172.18.67.162/tcp/33919/ws/p2p/16Uiu2HAmHvNbo8Y3pKcVd7skWHRGSmsLWL3kx1uvC3j8aw25989m"],"enrUri":"enr:-LO4QIm7yddhe5v_ntwBNjHSeYHKWuSaM1YGubq1dDFHawxoP59RbSrmJ1SJ67Ull0wOgojjlE2gGqhYsESDGgQrm-4BgmlkgnY0gmlwhKwSQ6KKbXVsdGlhZGRyc4wACgSsEkOiBoR_3QOCcnOFAAABAACJc2VjcDI1NmsxoQNOO04Xd9XbqBhOmFmRfIq9bMJ1V2XmbCGXrHtSWqPgGIN0Y3CChH6DdWRwgoSAhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:214 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33917/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.15.60/tcp/45365/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node3_2024-05-12_04-11-31__9d9c8b34-d520-4535-afc5-587d525d3d9d__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.225.91
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['32757', '32758', '32759', '32760', '32761']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:345 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:114 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:116 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 32757:32757 -p 32758:32758 -p 32759:32759 -p 32760:32760 -p 32761:32761 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=32759 --rest-port=32757 --tcp-port=32758 --discv5-udp-port=32760 --rest-address=0.0.0.0 --nat=extip:172.18.225.91 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=32761 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QH4rFX3I6qbBcREeEiwzFdtuNkkwQ73i3xjR0nLsimKLezO9buO0cKIATvdYa1dOv5qvkTOLxNrTT3KWGUv6xqQBgmlkgnY0gmlwhKwSDzyKbXVsdGlhZGRyc4wACgSsEg88BrE23QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCsTWDdWRwgrE3hXdha3UyBQ --filternode=/ip4/172.18.15.60/tcp/45365/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.225.91 waku 4d0f2b395c1c66113dfc158f3e3cf08feaec6dd30cb8b25b6eca68f1cf21f294
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 4d0f2b395c1c. Setting up logs at ./log/docker/node3_2024-05-12_04-11-31__9d9c8b34-d520-4535-afc5-587d525d3d9d__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 32757
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32757/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:209 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32757/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.225.91/tcp/32758/p2p/16Uiu2HAmEDc62AAKLuy1yKL3JGe4Fupnz8vTu59fNysjxSfgLgVK","/ip4/172.18.225.91/tcp/32759/ws/p2p/16Uiu2HAmEDc62AAKLuy1yKL3JGe4Fupnz8vTu59fNysjxSfgLgVK"],"enrUri":"enr:-LO4QEFwmuFPCH8Tp6gwN4QyMqjjCowN6fJKe7Unz3deeoc_Vil0QASn40RbYRG0Tgn_5pu_RzhDKPP06EaJhds7XhUBgmlkgnY0gmlwhKwS4VuKbXVsdGlhZGRyc4wACgSsEuFbBn_33QOCcnOFAAABAACJc2VjcDI1NmsxoQMXNq4zwPFGkBJaYE4L5QZI1lpPpL2yCj3dfhNYtuoOzoN0Y3CCf_aDdWRwgn_4hXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:214 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32757/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.15.60/tcp/45365/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node4_2024-05-12_04-11-31__9d9c8b34-d520-4535-afc5-587d525d3d9d__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.19.184
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['44137', '44138', '44139', '44140', '44141']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:345 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:114 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:116 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 44137:44137 -p 44138:44138 -p 44139:44139 -p 44140:44140 -p 44141:44141 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=44139 --rest-port=44137 --tcp-port=44138 --discv5-udp-port=44140 --rest-address=0.0.0.0 --nat=extip:172.18.19.184 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=44141 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QH4rFX3I6qbBcREeEiwzFdtuNkkwQ73i3xjR0nLsimKLezO9buO0cKIATvdYa1dOv5qvkTOLxNrTT3KWGUv6xqQBgmlkgnY0gmlwhKwSDzyKbXVsdGlhZGRyc4wACgSsEg88BrE23QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCsTWDdWRwgrE3hXdha3UyBQ --filternode=/ip4/172.18.15.60/tcp/45365/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.19.184 waku 178977e1233a9d19929a96cc9a2678d82403d8b4c6a6124be32aeba86095ee51
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 178977e1233a. Setting up logs at ./log/docker/node4_2024-05-12_04-11-31__9d9c8b34-d520-4535-afc5-587d525d3d9d__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 44137
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44137/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:209 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:44137/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.19.184/tcp/44138/p2p/16Uiu2HAmDvNU36jcGsgCuGCDQ1vW8jEGeVJyVykZPRNu64kt4sWD","/ip4/172.18.19.184/tcp/44139/ws/p2p/16Uiu2HAmDvNU36jcGsgCuGCDQ1vW8jEGeVJyVykZPRNu64kt4sWD"],"enrUri":"enr:-LO4QHAdnY6b25a4OZarvE8uPPwb4wbigx2rbC5nU3irRIEldfIhf34M8SA1f-DnzWSbH7fFf9w_4A7g71N826hzY2MBgmlkgnY0gmlwhKwSE7iKbXVsdGlhZGRyc4wACgSsEhO4Bqxr3QOCcnOFAAABAACJc2VjcDI1NmsxoQMSzGf0nbeuQuPubARcjq5JYBAd7-2vUA_ywa0KjLMvboN0Y3CCrGqDdWRwgqxshXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:214 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44137/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.15.60/tcp/45365/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:48 WakuNode instance initialized with log path ./log/docker/node5_2024-05-12_04-11-31__9d9c8b34-d520-4535-afc5-587d525d3d9d__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:52 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.35.181
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['15045', '15046', '15047', '15048', '15049']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:345 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:114 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:116 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 15045:15045 -p 15046:15046 -p 15047:15047 -p 15048:15048 -p 15049:15049 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=15047 --rest-port=15045 --tcp-port=15046 --discv5-udp-port=15048 --rest-address=0.0.0.0 --nat=extip:172.18.35.181 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=15049 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QH4rFX3I6qbBcREeEiwzFdtuNkkwQ73i3xjR0nLsimKLezO9buO0cKIATvdYa1dOv5qvkTOLxNrTT3KWGUv6xqQBgmlkgnY0gmlwhKwSDzyKbXVsdGlhZGRyc4wACgSsEg88BrE23QOCcnOFAAABAACJc2VjcDI1NmsxoQM3Tqpf5eFn4Jztm4gB0Y0JVSJyxyZsW8QR-QU5DZb-PYN0Y3CCsTWDdWRwgrE3hXdha3UyBQ --filternode=/ip4/172.18.15.60/tcp/45365/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.35.181 waku d3f53dba972a77c346d35ed6bd14c67235254dd1e26c42a1496fac659259afa3
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID d3f53dba972a. Setting up logs at ./log/docker/node5_2024-05-12_04-11-31__9d9c8b34-d520-4535-afc5-587d525d3d9d__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:122 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 15045
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15045/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:209 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15045/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.35.181/tcp/15046/p2p/16Uiu2HAmGBT6EgmrwCEuLs4yczuAhEgs2VCiRAmkqgLa7WhEGNqg","/ip4/172.18.35.181/tcp/15047/ws/p2p/16Uiu2HAmGBT6EgmrwCEuLs4yczuAhEgs2VCiRAmkqgLa7WhEGNqg"],"enrUri":"enr:-LO4QD1FP-s_wBuatNhqsa1vee5rdRr8Sbo1nSJ276DytrNNNpfbo-1O2FHq7ZR20xqh4CRX6cpyy03-bY-ATaDq2CoBgmlkgnY0gmlwhKwSI7WKbXVsdGlhZGRyc4wACgSsEiO1BjrH3QOCcnOFAAABAACJc2VjcDI1NmsxoQM0YLh4mHW8fyeHB9FdVjkvfLUG3PkUjbKbrVA4ZEkBY4N0Y3CCOsaDdWRwgjrIhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:214 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15045/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.15.60/tcp/45365/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45364/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/0/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33917/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "3145520d-ab50-4f21-9a93-be5466fc5614", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"3145520d-ab50-4f21-9a93-be5466fc5614","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:32757/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "ec107b63-0153-43b0-abc5-97d5d2dc80f7", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"ec107b63-0153-43b0-abc5-97d5d2dc80f7","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:44137/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "fd77a8e6-d002-4af8-b202-95f9da569743", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"fd77a8e6-d002-4af8-b202-95f9da569743","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15045/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "5d481063-38cd-4fad-b032-e34fa35292c7", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"5d481063-38cd-4fad-b032-e34fa35292c7","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45364/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_2:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33917/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1715487099785268736,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45364/relay/v1/messages/%2Fwaku%2F2%2Frs%2F0%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:97 Checking that peer NODE_2:harbor.status.im/wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:32757/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:32757/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:75 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:169 Stopping container with id 3fb4d49d66d0
[35mDEBUG   [0m src.node.waku_node:waku_node.py:172 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:169 Stopping container with id a32974651714
[35mDEBUG   [0m src.node.waku_node:waku_node.py:172 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:169 Stopping container with id 4d0f2b395c1c
[35mDEBUG   [0m src.node.waku_node:waku_node.py:172 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:169 Stopping container with id 178977e1233a
[35mDEBUG   [0m src.node.waku_node:waku_node.py:172 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:169 Stopping container with id d3f53dba972a
[35mDEBUG   [0m src.node.waku_node:waku_node.py:172 Container stopped.