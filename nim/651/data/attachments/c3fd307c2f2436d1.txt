2025-02-14 04:04:49.844 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-14 04:04:49.845 DEBUG [tests.conftest] Running test: test_passing_invalid_cursor with id: 2025-02-14_04-04-49__0915b7f4-266d-448d-83fc-0443181c2a8c
2025-02-14 04:04:49.845 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-14 04:04:49.845 DEBUG [src.steps.store] Running fixture setup: store_setup
2025-02-14 04:04:49.845 DEBUG [src.steps.store] Running fixture setup: node_setup
2025-02-14 04:04:49.852 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-14 04:04:49.852 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-02-14_04-04-49__0915b7f4-266d-448d-83fc-0443181c2a8c__wakuorg_nwaku:latest.log
2025-02-14 04:04:49.852 DEBUG [src.node.waku_node] Starting Node...
2025-02-14 04:04:49.852 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-14 04:04:49.853 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-14 04:04:49.853 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.39.133
2025-02-14 04:04:49.853 DEBUG [src.node.docker_mananger] Generated ports ['9554', '9555', '9556', '9557', '9558']
2025-02-14 04:04:49.854 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-14 04:04:49.854 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-14 04:04:49.854 DEBUG [src.node.waku_node] Using volumes []
2025-02-14 04:04:49.854 DEBUG [src.node.docker_mananger] docker run -i -t -p 9554:9554 -p 9555:9555 -p 9556:9556 -p 9557:9557 -p 9558:9558 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=9556 --rest-port=9554 --tcp-port=9555 --discv5-udp-port=9557 --rest-address=0.0.0.0 --nat=extip:172.18.39.133 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=11fdd4cebfc3f51e464ace67a3b2fb96ad41c1e9efd77bbb5bef0cabbe2d70f1 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=9558 --metrics-logging=true --store=true --relay=true
2025-02-14 04:04:50.089 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.39.133 waku 841d93b8e8debd3ab786aa5543e3a28ba132ddd4f4a642426bc5bd50e5dbc401
2025-02-14 04:04:50.137 DEBUG [src.node.docker_mananger] Container started with ID 841d93b8e8de. Setting up logs at ./log/docker/publishing_node1_2025-02-14_04-04-49__0915b7f4-266d-448d-83fc-0443181c2a8c__wakuorg_nwaku:latest.log
2025-02-14 04:04:50.139 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 9554
2025-02-14 04:04:50.139 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-14 04:04:50.650 ERROR [src.node.docker_mananger] Max retries reached for container 653fc1a06d41. Exiting log stream.
2025-02-14 04:04:51.139 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:9554/health" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:04:51.142 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-14 04:04:51.142 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-14 04:04:51.142 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:9554/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:04:51.145 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.39.133/tcp/9555/p2p/16Uiu2HAm6aMf2oZfgrfjpjHzADmsp1a2EKXJSCcPQPT5J61fyE9v","/ip4/172.18.39.133/tcp/9556/ws/p2p/16Uiu2HAm6aMf2oZfgrfjpjHzADmsp1a2EKXJSCcPQPT5J61fyE9v"],"enrUri":"enr:-L24QL82IGEWvthu-n68Gb-brIpct3x0o3BhN0caF5BLAYnHDBsfXmOIT6yuVQSsLKdKULgkiuAMIqusZyx8sq84YKgCgmlkgnY0gmlwhKwSJ4WKbXVsdGlhZGRyc5YACASsEieFBiVTAAoErBInhQYlVN0DgnJzhQADAQAAiXNlY3AyNTZrMaECpaoQpy6qe5UyvvhaGrlt0E25zYRVkN4btJbYXQpnP7mDdGNwgiVTg3VkcIIlVYV3YWt1MgM"}'
2025-02-14 04:04:51.145 INFO [src.node.waku_node] REST service is ready !!
2025-02-14 04:04:51.152 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-14 04:04:51.152 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/store_node1_2025-02-14_04-04-49__0915b7f4-266d-448d-83fc-0443181c2a8c__wakuorg_nwaku:latest.log
2025-02-14 04:04:51.152 DEBUG [src.node.waku_node] Starting Node...
2025-02-14 04:04:51.152 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-14 04:04:51.153 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-14 04:04:51.154 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.99.93
2025-02-14 04:04:51.154 DEBUG [src.node.docker_mananger] Generated ports ['63135', '63136', '63137', '63138', '63139']
2025-02-14 04:04:51.154 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-14 04:04:51.154 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-14 04:04:51.154 DEBUG [src.node.waku_node] Using volumes []
2025-02-14 04:04:51.154 DEBUG [src.node.docker_mananger] docker run -i -t -p 63135:63135 -p 63136:63136 -p 63137:63137 -p 63138:63138 -p 63139:63139 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=63137 --rest-port=63135 --tcp-port=63136 --discv5-udp-port=63138 --rest-address=0.0.0.0 --nat=extip:172.18.99.93 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=111dcf6ebaba5f8f05b9d2b818670abca3913fb570f1ba15193ded95013fbcec --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=63139 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QL82IGEWvthu-n68Gb-brIpct3x0o3BhN0caF5BLAYnHDBsfXmOIT6yuVQSsLKdKULgkiuAMIqusZyx8sq84YKgCgmlkgnY0gmlwhKwSJ4WKbXVsdGlhZGRyc5YACASsEieFBiVTAAoErBInhQYlVN0DgnJzhQADAQAAiXNlY3AyNTZrMaECpaoQpy6qe5UyvvhaGrlt0E25zYRVkN4btJbYXQpnP7mDdGNwgiVTg3VkcIIlVYV3YWt1MgM --storenode=/ip4/172.18.39.133/tcp/9555/p2p/16Uiu2HAm6aMf2oZfgrfjpjHzADmsp1a2EKXJSCcPQPT5J61fyE9v --store=true --relay=true
2025-02-14 04:04:51.377 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.99.93 waku 89d7e1101f89ce16555196cfd3c73118a08b95926e4a59dba38db397e2e23438
2025-02-14 04:04:51.428 DEBUG [src.node.docker_mananger] Container started with ID 89d7e1101f89. Setting up logs at ./log/docker/store_node1_2025-02-14_04-04-49__0915b7f4-266d-448d-83fc-0443181c2a8c__wakuorg_nwaku:latest.log
2025-02-14 04:04:51.430 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 63135
2025-02-14 04:04:51.431 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-14 04:04:52.431 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63135/health" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:04:52.434 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-14 04:04:52.434 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-14 04:04:52.434 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63135/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:04:52.436 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.99.93/tcp/63136/p2p/16Uiu2HAmSLbPXvbRv6Cxo5p8NW9tiwK6pFM37vUa25yfgRjgcPzt","/ip4/172.18.99.93/tcp/63137/ws/p2p/16Uiu2HAmSLbPXvbRv6Cxo5p8NW9tiwK6pFM37vUa25yfgRjgcPzt"],"enrUri":"enr:-L24QGeQMPTQBV3N-5lZR_YH4kQ9tgN0NxyBLc3nP1WPiF9yFzLNrnPHelImXO4r-DjMMwVNQ8IJ4Oh8_lZqgIn_--0CgmlkgnY0gmlwhKwSY12KbXVsdGlhZGRyc5YACASsEmNdBvagAAoErBJjXQb2od0DgnJzhQADAQAAiXNlY3AyNTZrMaEDy00zMVOaq3-3SuAsTOMxrIVTYKEsGaMXdkatOtNpmN2DdGNwgvagg3VkcIL2ooV3YWt1MgM"}'
2025-02-14 04:04:52.436 INFO [src.node.waku_node] REST service is ready !!
2025-02-14 04:04:52.437 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63135/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.39.133/tcp/9555/p2p/16Uiu2HAm6aMf2oZfgrfjpjHzADmsp1a2EKXJSCcPQPT5J61fyE9v"]'
2025-02-14 04:04:52.439 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:04:52.440 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:9554/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-14 04:04:52.442 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:04:52.442 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63135/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
2025-02-14 04:04:52.444 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:04:52.445 DEBUG [src.steps.store] Relaying message
2025-02-14 04:04:52.446 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:9554/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8w", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:04:52.452 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:04:52.452 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-14 04:04:52.653 DEBUG [src.steps.store] Relaying message
2025-02-14 04:04:52.653 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:9554/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8x", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:04:52.660 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:04:52.660 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-14 04:04:52.861 DEBUG [src.steps.store] Relaying message
2025-02-14 04:04:52.861 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:9554/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8y", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:04:52.867 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:04:52.867 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-14 04:04:53.068 DEBUG [src.steps.store] Relaying message
2025-02-14 04:04:53.068 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:9554/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8z", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:04:53.075 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:04:53.075 DEBUG [src.libs.common] Sleeping for 0.2 seconds
2025-02-14 04:04:53.276 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:9554/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&cursor=0x74657374&pageSize=100&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:04:53.279 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:9554/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&cursor=0x74657374&pageSize=100&ascending=true. Response content: b'waku message hash parsing error: invalid hash length: 4'
2025-02-14 04:04:53.280 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63135/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&cursor=0x74657374&pageSize=100&ascending=true" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:04:53.283 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:63135/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&cursor=0x74657374&pageSize=100&ascending=true. Response content: b'waku message hash parsing error: invalid hash length: 4'
2025-02-14 04:04:53.285 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-14 04:04:53.286 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-14 04:04:53.286 DEBUG [src.node.waku_node] Stopping container with id 841d93b8e8de
2025-02-14 04:04:53.995 DEBUG [src.node.waku_node] Container stopped.
2025-02-14 04:04:53.997 DEBUG [src.node.waku_node] Stopping container with id 89d7e1101f89
2025-02-14 04:04:54.826 ERROR [src.node.docker_mananger] Max retries reached for container 841d93b8e8de. Exiting log stream.
2025-02-14 04:04:55.520 DEBUG [src.node.waku_node] Container stopped.
2025-02-14 04:04:55.520 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-14 04:04:55.533 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-14 04:04:55.539 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
