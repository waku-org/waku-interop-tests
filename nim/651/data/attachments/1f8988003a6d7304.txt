2025-02-14 04:08:37.270 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-14 04:08:37.270 DEBUG [tests.conftest] Running test: test_unsubscribe_from_some_pubsub_topics with id: 2025-02-14_04-08-37__a95de354-8ff3-42f6-9a46-cf52f5e3f907
2025-02-14 04:08:37.271 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-14 04:08:37.271 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-14 04:08:37.271 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-14 04:08:37.279 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-14 04:08:37.279 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-14_04-08-37__a95de354-8ff3-42f6-9a46-cf52f5e3f907__wakuorg_nwaku:latest.log
2025-02-14 04:08:37.279 DEBUG [src.node.waku_node] Starting Node...
2025-02-14 04:08:37.279 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-14 04:08:37.281 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-14 04:08:37.281 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.143.127
2025-02-14 04:08:37.281 DEBUG [src.node.docker_mananger] Generated ports ['39091', '39092', '39093', '39094', '39095']
2025-02-14 04:08:37.282 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-14 04:08:37.282 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-14 04:08:37.282 DEBUG [src.node.waku_node] Using volumes []
2025-02-14 04:08:37.282 DEBUG [src.node.docker_mananger] docker run -i -t -p 39091:39091 -p 39092:39092 -p 39093:39093 -p 39094:39094 -p 39095:39095 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=39093 --rest-port=39091 --tcp-port=39092 --discv5-udp-port=39094 --rest-address=0.0.0.0 --nat=extip:172.18.143.127 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=167cf5ee3ca71d4f8e0fde830d5ebdbd1de8f411e62bd150564a2cf9e4b40c0b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=39095 --metrics-logging=true --relay=true --filter=true --pubsub-topic=/waku/2/rs/2/0 --pubsub-topic=/waku/2/rs/2/1 --pubsub-topic=/waku/2/rs/2/2 --pubsub-topic=/waku/2/rs/2/3 --pubsub-topic=/waku/2/rs/2/4 --pubsub-topic=/waku/2/rs/2/5 --pubsub-topic=/waku/2/rs/2/6 --pubsub-topic=/waku/2/rs/2/7
2025-02-14 04:08:37.526 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.143.127 waku 604d1547a8d0f0c15c45dfac1a8f4500d0023c977fcb2cdeaab958c2359a36a1
2025-02-14 04:08:37.577 DEBUG [src.node.docker_mananger] Container started with ID 604d1547a8d0. Setting up logs at ./log/docker/node1_2025-02-14_04-08-37__a95de354-8ff3-42f6-9a46-cf52f5e3f907__wakuorg_nwaku:latest.log
2025-02-14 04:08:37.578 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 39091
2025-02-14 04:08:37.578 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-14 04:08:38.076 ERROR [src.node.docker_mananger] Max retries reached for container 28484de20510. Exiting log stream.
2025-02-14 04:08:38.578 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39091/health" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:38.582 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-14 04:08:38.582 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-14 04:08:38.582 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39091/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:38.584 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.143.127/tcp/39092/p2p/16Uiu2HAm7PaAycpLdrKpwhW8DRQw87PHw4zP9TUnQKdcNEooMGde","/ip4/172.18.143.127/tcp/39093/ws/p2p/16Uiu2HAm7PaAycpLdrKpwhW8DRQw87PHw4zP9TUnQKdcNEooMGde"],"enrUri":"enr:-Mu4QBp4vn4HyO9nVor05mk4uQHk20chZkW4ILZmyoD2RRtrftO3uvTKiQW6HJK3dI8htkFQXk58ZxBrAi3f6rZLbEYCgmlkgnY0gmlwhKwSj3-KbXVsdGlhZGRyc5YACASsEo9_Bpi0AAoErBKPfwaYtd0DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQKxwoPqfltsdmT1mQtlHw35VCPQw_dCf6I8-upvsiR86YN0Y3CCmLSDdWRwgpi2hXdha3UyBQ"}'
2025-02-14 04:08:38.584 INFO [src.node.waku_node] REST service is ready !!
2025-02-14 04:08:38.591 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-14 04:08:38.591 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-14_04-08-37__a95de354-8ff3-42f6-9a46-cf52f5e3f907__wakuorg_nwaku:latest.log
2025-02-14 04:08:38.591 DEBUG [src.node.waku_node] Starting Node...
2025-02-14 04:08:38.591 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-14 04:08:38.593 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-14 04:08:38.593 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.82.189
2025-02-14 04:08:38.593 DEBUG [src.node.docker_mananger] Generated ports ['20579', '20580', '20581', '20582', '20583']
2025-02-14 04:08:38.593 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-14 04:08:38.593 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-14 04:08:38.593 DEBUG [src.node.waku_node] Using volumes []
2025-02-14 04:08:38.594 DEBUG [src.node.docker_mananger] docker run -i -t -p 20579:20579 -p 20580:20580 -p 20581:20581 -p 20582:20582 -p 20583:20583 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=20581 --rest-port=20579 --tcp-port=20580 --discv5-udp-port=20582 --rest-address=0.0.0.0 --nat=extip:172.18.82.189 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=3aef00a3d2378ef354df77303c99d4b1db03aeb9f9c57dadaacf15cfecf62ed1 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=20583 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-Mu4QBp4vn4HyO9nVor05mk4uQHk20chZkW4ILZmyoD2RRtrftO3uvTKiQW6HJK3dI8htkFQXk58ZxBrAi3f6rZLbEYCgmlkgnY0gmlwhKwSj3-KbXVsdGlhZGRyc5YACASsEo9_Bpi0AAoErBKPfwaYtd0DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQKxwoPqfltsdmT1mQtlHw35VCPQw_dCf6I8-upvsiR86YN0Y3CCmLSDdWRwgpi2hXdha3UyBQ --pubsub-topic=/waku/2/rs/2/0 --pubsub-topic=/waku/2/rs/2/1 --pubsub-topic=/waku/2/rs/2/2 --pubsub-topic=/waku/2/rs/2/3 --pubsub-topic=/waku/2/rs/2/4 --pubsub-topic=/waku/2/rs/2/5 --pubsub-topic=/waku/2/rs/2/6 --pubsub-topic=/waku/2/rs/2/7
2025-02-14 04:08:38.831 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.82.189 waku 0cc84d5e3e9131016f81cbf5f535d6277ecad2c92147a9f861ff37f2b61fc407
2025-02-14 04:08:38.886 DEBUG [src.node.docker_mananger] Container started with ID 0cc84d5e3e91. Setting up logs at ./log/docker/node2_2025-02-14_04-08-37__a95de354-8ff3-42f6-9a46-cf52f5e3f907__wakuorg_nwaku:latest.log
2025-02-14 04:08:38.886 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 20579
2025-02-14 04:08:38.887 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-14 04:08:39.887 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:20579/health" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:39.900 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-14 04:08:39.900 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-14 04:08:39.901 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:20579/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:39.918 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.82.189/tcp/20580/p2p/16Uiu2HAm4tYVVgSmRsJ8iHrEdgKrzuaNkcj2KPJvcyAbLAprNkpj","/ip4/172.18.82.189/tcp/20581/ws/p2p/16Uiu2HAm4tYVVgSmRsJ8iHrEdgKrzuaNkcj2KPJvcyAbLAprNkpj"],"enrUri":"enr:-Mu4QNa-rIGToL4ocTKVPyPST3oVEt1EiXnOUC2sqhiEAX9CenS8Xc_nfSc6xD_izsTucqxlDV-B4uRsu93tcgwQoRwCgmlkgnY0gmlwhKwSUr2KbXVsdGlhZGRyc5YACASsElK9BlBkAAoErBJSvQZQZd0DgnJzkwACCAAAAAEAAgADAAQABQAGAAeJc2VjcDI1NmsxoQKMm2XIOBosZn11_4d7b-JGrqA8fbfdq7JMIcW1JnYxVIN0Y3CCUGSDdWRwglBmhXdha3UyAQ"}'
2025-02-14 04:08:39.918 INFO [src.node.waku_node] REST service is ready !!
2025-02-14 04:08:39.918 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:20579/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.143.127/tcp/39092/p2p/16Uiu2HAm7PaAycpLdrKpwhW8DRQw87PHw4zP9TUnQKdcNEooMGde"]'
2025-02-14 04:08:39.923 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:08:39.924 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39091/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2", "/waku/2/rs/2/3", "/waku/2/rs/2/4", "/waku/2/rs/2/5", "/waku/2/rs/2/6", "/waku/2/rs/2/7"]'
2025-02-14 04:08:39.928 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:08:39.928 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:20579/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2", "/waku/2/rs/2/3", "/waku/2/rs/2/4", "/waku/2/rs/2/5", "/waku/2/rs/2/6", "/waku/2/rs/2/7"]'
2025-02-14 04:08:39.930 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:08:39.931 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39091/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:08:39.936 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:08:39.937 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:08:40.037 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:40.038 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39091/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:40.040 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739506119931122176,"ephemeral":false}]'
2025-02-14 04:08:40.042 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:40.042 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:20579/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:40.045 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739506119931122176,"ephemeral":false}]'
2025-02-14 04:08:40.046 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39091/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:08:40.052 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:08:40.052 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:08:40.153 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:40.153 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39091/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:40.156 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739506120046667008,"ephemeral":false}]'
2025-02-14 04:08:40.158 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:40.158 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:20579/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:40.160 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739506120046667008,"ephemeral":false}]'
2025-02-14 04:08:40.162 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39091/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:08:40.168 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:08:40.168 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:08:40.268 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:40.269 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39091/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:40.271 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739506120162271488,"ephemeral":false}]'
2025-02-14 04:08:40.273 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:40.273 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:20579/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:40.275 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739506120162271488,"ephemeral":false}]'
2025-02-14 04:08:40.277 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39091/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:08:40.282 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:08:40.282 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:08:40.382 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:40.383 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39091/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:40.386 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739506120277016832,"ephemeral":false}]'
2025-02-14 04:08:40.387 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:40.387 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:20579/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:40.390 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739506120277016832,"ephemeral":false}]'
2025-02-14 04:08:40.391 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39091/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:08:40.396 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:08:40.397 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:08:40.497 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:40.497 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39091/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:40.500 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739506120391556608,"ephemeral":false}]'
2025-02-14 04:08:40.502 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:40.502 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:20579/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:40.505 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739506120391556608,"ephemeral":false}]'
2025-02-14 04:08:40.507 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39091/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:08:40.513 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:08:40.513 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:08:40.613 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:40.614 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39091/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:40.617 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739506120507208192,"ephemeral":false}]'
2025-02-14 04:08:40.618 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:40.619 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:20579/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:40.621 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739506120507208192,"ephemeral":false}]'
2025-02-14 04:08:40.622 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39091/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:08:40.628 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:08:40.628 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:08:40.729 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:40.729 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39091/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:40.732 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739506120622855680,"ephemeral":false}]'
2025-02-14 04:08:40.733 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:40.734 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:20579/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:40.736 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739506120622855680,"ephemeral":false}]'
2025-02-14 04:08:40.738 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39091/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:08:40.743 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:08:40.743 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:08:40.844 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:40.844 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39091/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:40.848 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739506120738311168,"ephemeral":false}]'
2025-02-14 04:08:40.850 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:40.850 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:20579/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:40.853 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739506120738311168,"ephemeral":false}]'
2025-02-14 04:08:40.855 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:39091/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2"]'
2025-02-14 04:08:40.863 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:08:40.864 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:20579/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0", "/waku/2/rs/2/1", "/waku/2/rs/2/2"]'
2025-02-14 04:08:40.871 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:08:40.872 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39091/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:08:40.875 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:39091/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/2/0'
2025-02-14 04:08:40.876 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39091/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:08:40.879 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:39091/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/2/1'
2025-02-14 04:08:40.881 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39091/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:08:40.883 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:39091/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2. Response content: b'Failed to publish: Node not subscribed to topic: /waku/2/rs/2/2'
2025-02-14 04:08:40.885 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39091/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:08:40.889 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:08:40.890 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:08:40.990 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:40.991 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39091/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:40.993 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739506120885120512,"ephemeral":false}]'
2025-02-14 04:08:40.995 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:40.995 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:20579/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:40.998 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739506120885120512,"ephemeral":false}]'
2025-02-14 04:08:40.999 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39091/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:08:41.004 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:08:41.005 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:08:41.105 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:41.106 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39091/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:41.109 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739506120999459584,"ephemeral":false}]'
2025-02-14 04:08:41.140 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:41.140 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:20579/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:41.143 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739506120999459584,"ephemeral":false}]'
2025-02-14 04:08:41.144 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39091/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:08:41.149 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:08:41.150 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:08:41.251 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:41.251 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39091/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:41.254 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739506121144782336,"ephemeral":false}]'
2025-02-14 04:08:41.255 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:41.255 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:20579/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:41.258 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739506121144782336,"ephemeral":false}]'
2025-02-14 04:08:41.259 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39091/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:08:41.264 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:08:41.264 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:08:41.364 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:41.365 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39091/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:41.367 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739506121259475712,"ephemeral":false}]'
2025-02-14 04:08:41.369 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:41.369 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:20579/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:41.371 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739506121259475712,"ephemeral":false}]'
2025-02-14 04:08:41.373 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39091/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:08:41.378 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:08:41.378 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:08:41.479 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:41.479 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39091/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:41.482 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739506121373385728,"ephemeral":false}]'
2025-02-14 04:08:41.483 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:41.484 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:20579/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:41.486 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739506121373385728,"ephemeral":false}]'
2025-02-14 04:08:41.489 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-14 04:08:41.490 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-14 04:08:41.490 DEBUG [src.node.waku_node] Stopping container with id 604d1547a8d0
2025-02-14 04:08:42.080 DEBUG [src.node.waku_node] Container stopped.
2025-02-14 04:08:42.080 DEBUG [src.node.waku_node] Stopping container with id 0cc84d5e3e91
2025-02-14 04:08:42.893 ERROR [src.node.docker_mananger] Max retries reached for container 604d1547a8d0. Exiting log stream.
2025-02-14 04:08:43.606 DEBUG [src.node.waku_node] Container stopped.
2025-02-14 04:08:43.607 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-14 04:08:43.621 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-14 04:08:43.632 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
