2025-02-14 04:03:51.131 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-14 04:03:51.131 DEBUG [tests.conftest] Running test: test_unsubscribe_from_some_content_topics[content_topic_list0] with id: 2025-02-14_04-03-51__c77cae45-2f5f-473c-aa0e-92e7f648523a
2025-02-14 04:03:51.131 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-14 04:03:51.132 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-14 04:03:51.132 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-14 04:03:51.139 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-14 04:03:51.139 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-14_04-03-51__c77cae45-2f5f-473c-aa0e-92e7f648523a__wakuorg_nwaku:latest.log
2025-02-14 04:03:51.139 DEBUG [src.node.waku_node] Starting Node...
2025-02-14 04:03:51.139 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-14 04:03:51.140 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-14 04:03:51.141 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.20.118
2025-02-14 04:03:51.141 DEBUG [src.node.docker_mananger] Generated ports ['63673', '63674', '63675', '63676', '63677']
2025-02-14 04:03:51.141 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-14 04:03:51.141 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-14 04:03:51.141 DEBUG [src.node.waku_node] Using volumes []
2025-02-14 04:03:51.141 DEBUG [src.node.docker_mananger] docker run -i -t -p 63673:63673 -p 63674:63674 -p 63675:63675 -p 63676:63676 -p 63677:63677 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=63675 --rest-port=63673 --tcp-port=63674 --discv5-udp-port=63676 --rest-address=0.0.0.0 --nat=extip:172.18.20.118 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=faae70bbcc1df6efc3e8f16e7bb2eafebb9e60d24bf6bc99a7ed0feb01efa2a1 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=63677 --metrics-logging=true --relay=true --filter=true --content-topic=/myapp/1/latest/proto
2025-02-14 04:03:51.371 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.20.118 waku b6d273117a37e683d68eaf27bc84dcb3bd813ff8d71536ca9054a40699592f8a
2025-02-14 04:03:51.421 DEBUG [src.node.docker_mananger] Container started with ID b6d273117a37. Setting up logs at ./log/docker/node1_2025-02-14_04-03-51__c77cae45-2f5f-473c-aa0e-92e7f648523a__wakuorg_nwaku:latest.log
2025-02-14 04:03:51.422 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 63673
2025-02-14 04:03:51.422 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-14 04:03:51.927 ERROR [src.node.docker_mananger] Max retries reached for container f36f998c403c. Exiting log stream.
2025-02-14 04:03:52.422 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63673/health" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:03:52.425 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-14 04:03:52.425 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-14 04:03:52.425 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63673/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:03:52.428 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.20.118/tcp/63674/p2p/16Uiu2HAm8CZs88GXnivzeb8wpHyVK9mRjmb6KpnrMLWctSgeMePA","/ip4/172.18.20.118/tcp/63675/ws/p2p/16Uiu2HAm8CZs88GXnivzeb8wpHyVK9mRjmb6KpnrMLWctSgeMePA"],"enrUri":"enr:-L24QONWGP58MyUERCf0h6jDAYU1aDtNkZg8ujEZg1WnyHq-JvYbAU1xToEPnCdwxuxBO54m_y4G1jt8qxfytQBgWr0CgmlkgnY0gmlwhKwSFHaKbXVsdGlhZGRyc5YACASsEhR2Bvi6AAoErBIUdgb4u90DgnJzhQACAQAAiXNlY3AyNTZrMaECvcx3HELHx61cbr5SlEj86MBk_-S5SmxrdPfWixEIacmDdGNwgvi6g3VkcIL4vIV3YWt1MgU"}'
2025-02-14 04:03:52.428 INFO [src.node.waku_node] REST service is ready !!
2025-02-14 04:03:52.434 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-14 04:03:52.434 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-14_04-03-51__c77cae45-2f5f-473c-aa0e-92e7f648523a__wakuorg_nwaku:latest.log
2025-02-14 04:03:52.434 DEBUG [src.node.waku_node] Starting Node...
2025-02-14 04:03:52.435 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-14 04:03:52.436 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-14 04:03:52.436 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.116.124
2025-02-14 04:03:52.436 DEBUG [src.node.docker_mananger] Generated ports ['51257', '51258', '51259', '51260', '51261']
2025-02-14 04:03:52.436 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-14 04:03:52.437 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-14 04:03:52.437 DEBUG [src.node.waku_node] Using volumes []
2025-02-14 04:03:52.437 DEBUG [src.node.docker_mananger] docker run -i -t -p 51257:51257 -p 51258:51258 -p 51259:51259 -p 51260:51260 -p 51261:51261 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=51259 --rest-port=51257 --tcp-port=51258 --discv5-udp-port=51260 --rest-address=0.0.0.0 --nat=extip:172.18.116.124 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=16d67abc87f4c120fc991e6b7fd62c72ede5befd4ca81015ddefe68bdecdcef4 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=51261 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QONWGP58MyUERCf0h6jDAYU1aDtNkZg8ujEZg1WnyHq-JvYbAU1xToEPnCdwxuxBO54m_y4G1jt8qxfytQBgWr0CgmlkgnY0gmlwhKwSFHaKbXVsdGlhZGRyc5YACASsEhR2Bvi6AAoErBIUdgb4u90DgnJzhQACAQAAiXNlY3AyNTZrMaECvcx3HELHx61cbr5SlEj86MBk_-S5SmxrdPfWixEIacmDdGNwgvi6g3VkcIL4vIV3YWt1MgU --content-topic=/myapp/1/latest/proto
2025-02-14 04:03:52.679 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.116.124 waku 8afc3a92eaa5b3494cac89782e4eb66fd80921f6024be08910d889348b9715a6
2025-02-14 04:03:52.730 DEBUG [src.node.docker_mananger] Container started with ID 8afc3a92eaa5. Setting up logs at ./log/docker/node2_2025-02-14_04-03-51__c77cae45-2f5f-473c-aa0e-92e7f648523a__wakuorg_nwaku:latest.log
2025-02-14 04:03:52.730 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 51257
2025-02-14 04:03:52.731 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-14 04:03:53.733 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:51257/health" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:03:53.739 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-14 04:03:53.741 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-14 04:03:53.741 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:51257/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:03:53.743 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.116.124/tcp/51258/p2p/16Uiu2HAkyLp7DrpswWsvtfUM88NA64CHqvDUDdDH7XScnDM4yb2e","/ip4/172.18.116.124/tcp/51259/ws/p2p/16Uiu2HAkyLp7DrpswWsvtfUM88NA64CHqvDUDdDH7XScnDM4yb2e"],"enrUri":"enr:-L24QHkYLdNoGCkCwDzhzSxEjTbSDJtdc7U7oYXE8P_LZkMCAZ2F15eeHVanLp1R-E-wDrMTJ24KMnzn6md2uH-Hl6MCgmlkgnY0gmlwhKwSdHyKbXVsdGlhZGRyc5YACASsEnR8Bsg6AAoErBJ0fAbIO90DgnJzhQACAQAAiXNlY3AyNTZrMaECOjAIu9y8tGj5umG498NvQ0ldZ0bS5qFthn_LAaupCBeDdGNwgsg6g3VkcILIPIV3YWt1MgE"}'
2025-02-14 04:03:53.744 INFO [src.node.waku_node] REST service is ready !!
2025-02-14 04:03:53.744 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:51257/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.20.118/tcp/63674/p2p/16Uiu2HAm8CZs88GXnivzeb8wpHyVK9mRjmb6KpnrMLWctSgeMePA"]'
2025-02-14 04:03:53.746 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:03:53.747 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63673/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/1.0/weekly/protobuf", "/newsService/1.0/alerts/xml", "/newsService/1.0/updates/json", "/newsService/2.0/alerts/json", "/newsService/2.0/summaries/xml", "/newsService/2.0/highlights/yaml", "/newsService/3.0/weekly/json", "/newsService/3.0/summaries/xml"]'
2025-02-14 04:03:53.753 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:03:53.754 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:51257/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/1.0/weekly/protobuf", "/newsService/1.0/alerts/xml", "/newsService/1.0/updates/json", "/newsService/2.0/alerts/json", "/newsService/2.0/summaries/xml", "/newsService/2.0/highlights/yaml", "/newsService/3.0/weekly/json", "/newsService/3.0/summaries/xml"]'
2025-02-14 04:03:53.764 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:03:53.766 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63673/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/1.0/weekly/protobuf", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:03:53.773 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:03:53.774 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:03:53.876 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:03:53.876 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63673/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fweekly%2Fprotobuf" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:03:53.879 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/1.0/weekly/protobuf","version":0,"timestamp":1739505833766641920,"ephemeral":false}]'
2025-02-14 04:03:53.881 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:03:53.881 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:51257/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fweekly%2Fprotobuf" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:03:53.884 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/1.0/weekly/protobuf","version":0,"timestamp":1739505833766641920,"ephemeral":false}]'
2025-02-14 04:03:53.885 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63673/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/1.0/alerts/xml", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:03:53.890 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:03:53.891 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:03:53.991 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:03:53.992 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63673/relay/v1/auto/messages/%2FnewsService%2F1.0%2Falerts%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:03:53.995 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/1.0/alerts/xml","version":0,"timestamp":1739505833885424384,"ephemeral":false}]'
2025-02-14 04:03:53.996 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:03:53.997 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:51257/relay/v1/auto/messages/%2FnewsService%2F1.0%2Falerts%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:03:53.999 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/1.0/alerts/xml","version":0,"timestamp":1739505833885424384,"ephemeral":false}]'
2025-02-14 04:03:54.001 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63673/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/1.0/updates/json", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:03:54.006 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:03:54.006 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:03:54.106 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:03:54.107 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63673/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fupdates%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:03:54.109 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/1.0/updates/json","version":0,"timestamp":1739505834001015808,"ephemeral":false}]'
2025-02-14 04:03:54.111 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:03:54.111 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:51257/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fupdates%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:03:54.113 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/1.0/updates/json","version":0,"timestamp":1739505834001015808,"ephemeral":false}]'
2025-02-14 04:03:54.115 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63673/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/2.0/alerts/json", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:03:54.120 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:03:54.120 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:03:54.221 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:03:54.222 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63673/relay/v1/auto/messages/%2FnewsService%2F2.0%2Falerts%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:03:54.224 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/alerts/json","version":0,"timestamp":1739505834115195136,"ephemeral":false}]'
2025-02-14 04:03:54.226 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:03:54.226 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:51257/relay/v1/auto/messages/%2FnewsService%2F2.0%2Falerts%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:03:54.228 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/alerts/json","version":0,"timestamp":1739505834115195136,"ephemeral":false}]'
2025-02-14 04:03:54.230 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63673/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/2.0/summaries/xml", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:03:54.235 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:03:54.235 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:03:54.336 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:03:54.337 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63673/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:03:54.339 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/summaries/xml","version":0,"timestamp":1739505834230377984,"ephemeral":false}]'
2025-02-14 04:03:54.341 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:03:54.341 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:51257/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:03:54.343 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/summaries/xml","version":0,"timestamp":1739505834230377984,"ephemeral":false}]'
2025-02-14 04:03:54.345 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63673/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/2.0/highlights/yaml", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:03:54.349 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:03:54.350 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:03:54.450 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:03:54.451 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63673/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fhighlights%2Fyaml" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:03:54.453 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/highlights/yaml","version":0,"timestamp":1739505834345140224,"ephemeral":false}]'
2025-02-14 04:03:54.454 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:03:54.455 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:51257/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fhighlights%2Fyaml" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:03:54.457 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/highlights/yaml","version":0,"timestamp":1739505834345140224,"ephemeral":false}]'
2025-02-14 04:03:54.459 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63673/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/3.0/weekly/json", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:03:54.464 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:03:54.465 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:03:54.565 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:03:54.566 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63673/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fweekly%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:03:54.568 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/weekly/json","version":0,"timestamp":1739505834459123200,"ephemeral":false}]'
2025-02-14 04:03:54.570 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:03:54.570 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:51257/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fweekly%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:03:54.572 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/weekly/json","version":0,"timestamp":1739505834459123200,"ephemeral":false}]'
2025-02-14 04:03:54.574 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63673/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/3.0/summaries/xml", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:03:54.579 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:03:54.579 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:03:54.680 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:03:54.681 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63673/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:03:54.684 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/summaries/xml","version":0,"timestamp":1739505834574208256,"ephemeral":false}]'
2025-02-14 04:03:54.685 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:03:54.686 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:51257/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:03:54.690 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/summaries/xml","version":0,"timestamp":1739505834574208256,"ephemeral":false}]'
2025-02-14 04:03:54.692 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:63673/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/1.0/weekly/protobuf", "/newsService/1.0/alerts/xml", "/newsService/1.0/updates/json"]'
2025-02-14 04:03:54.698 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:03:54.699 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:51257/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/newsService/1.0/weekly/protobuf", "/newsService/1.0/alerts/xml", "/newsService/1.0/updates/json"]'
2025-02-14 04:03:54.703 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:03:54.703 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63673/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/1.0/weekly/protobuf", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:03:54.707 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:03:54.707 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:03:54.807 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:03:54.808 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63673/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fweekly%2Fprotobuf" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:03:54.810 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:63673/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fweekly%2Fprotobuf. Response content: b'/newsService/1.0/weekly/protobuf'
2025-02-14 04:03:54.812 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63673/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/1.0/alerts/xml", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:03:54.815 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:03:54.815 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:03:54.915 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:03:54.916 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63673/relay/v1/auto/messages/%2FnewsService%2F1.0%2Falerts%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:03:54.918 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:63673/relay/v1/auto/messages/%2FnewsService%2F1.0%2Falerts%2Fxml. Response content: b'/newsService/1.0/alerts/xml'
2025-02-14 04:03:54.920 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63673/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/1.0/updates/json", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:03:54.922 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:03:54.922 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:03:55.023 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:03:55.023 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63673/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fupdates%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:03:55.026 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:63673/relay/v1/auto/messages/%2FnewsService%2F1.0%2Fupdates%2Fjson. Response content: b'/newsService/1.0/updates/json'
2025-02-14 04:03:55.027 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63673/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/2.0/alerts/json", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:03:55.032 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:03:55.033 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:03:55.133 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:03:55.133 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63673/relay/v1/auto/messages/%2FnewsService%2F2.0%2Falerts%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:03:55.136 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/alerts/json","version":0,"timestamp":1739505835027668480,"ephemeral":false}]'
2025-02-14 04:03:55.137 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:03:55.138 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:51257/relay/v1/auto/messages/%2FnewsService%2F2.0%2Falerts%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:03:55.140 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/alerts/json","version":0,"timestamp":1739505835027668480,"ephemeral":false}]'
2025-02-14 04:03:55.141 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63673/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/2.0/summaries/xml", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:03:55.146 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:03:55.147 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:03:55.247 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:03:55.248 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63673/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:03:55.250 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/summaries/xml","version":0,"timestamp":1739505835141807360,"ephemeral":false}]'
2025-02-14 04:03:55.251 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:03:55.252 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:51257/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:03:55.254 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/summaries/xml","version":0,"timestamp":1739505835141807360,"ephemeral":false}]'
2025-02-14 04:03:55.256 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63673/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/2.0/highlights/yaml", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:03:55.260 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:03:55.261 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:03:55.361 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:03:55.362 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63673/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fhighlights%2Fyaml" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:03:55.365 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/highlights/yaml","version":0,"timestamp":1739505835255899648,"ephemeral":false}]'
2025-02-14 04:03:55.366 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:03:55.366 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:51257/relay/v1/auto/messages/%2FnewsService%2F2.0%2Fhighlights%2Fyaml" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:03:55.369 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/2.0/highlights/yaml","version":0,"timestamp":1739505835255899648,"ephemeral":false}]'
2025-02-14 04:03:55.370 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63673/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/3.0/weekly/json", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:03:55.375 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:03:55.376 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:03:55.476 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:03:55.477 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63673/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fweekly%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:03:55.479 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/weekly/json","version":0,"timestamp":1739505835370515456,"ephemeral":false}]'
2025-02-14 04:03:55.481 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:03:55.481 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:51257/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fweekly%2Fjson" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:03:55.483 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/weekly/json","version":0,"timestamp":1739505835370515456,"ephemeral":false}]'
2025-02-14 04:03:55.485 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:63673/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/newsService/3.0/summaries/xml", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:03:55.490 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:03:55.491 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:03:55.591 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:03:55.592 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:63673/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:03:55.594 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/summaries/xml","version":0,"timestamp":1739505835485330432,"ephemeral":false}]'
2025-02-14 04:03:55.596 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:03:55.596 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:51257/relay/v1/auto/messages/%2FnewsService%2F3.0%2Fsummaries%2Fxml" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:03:55.598 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/newsService/3.0/summaries/xml","version":0,"timestamp":1739505835485330432,"ephemeral":false}]'
2025-02-14 04:03:55.601 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-14 04:03:55.603 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-14 04:03:55.603 DEBUG [src.node.waku_node] Stopping container with id b6d273117a37
2025-02-14 04:03:56.916 DEBUG [src.node.waku_node] Container stopped.
2025-02-14 04:03:56.916 DEBUG [src.node.waku_node] Stopping container with id 8afc3a92eaa5
2025-02-14 04:03:57.728 ERROR [src.node.docker_mananger] Max retries reached for container b6d273117a37. Exiting log stream.
2025-02-14 04:03:58.403 DEBUG [src.node.waku_node] Container stopped.
2025-02-14 04:03:58.404 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-14 04:03:58.414 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-14 04:03:58.425 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
