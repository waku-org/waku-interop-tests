2025-02-14 04:02:43.969 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-14 04:02:43.969 DEBUG [tests.conftest] Running test: test_filter_update_subscription_with_no_pubsub_topic with id: 2025-02-14_04-02-43__7eb6849c-aadd-4db5-afcf-6aea00a4ce96
2025-02-14 04:02:43.969 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-14 04:02:43.970 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2025-02-14 04:02:43.970 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2025-02-14 04:02:43.979 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-14 04:02:43.979 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-14_04-02-43__7eb6849c-aadd-4db5-afcf-6aea00a4ce96__wakuorg_nwaku:latest.log
2025-02-14 04:02:43.979 DEBUG [src.node.waku_node] Starting Node...
2025-02-14 04:02:43.979 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-14 04:02:43.980 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-14 04:02:43.980 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.69.32
2025-02-14 04:02:43.981 DEBUG [src.node.docker_mananger] Generated ports ['37061', '37062', '37063', '37064', '37065']
2025-02-14 04:02:43.981 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-14 04:02:43.981 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-14 04:02:43.981 DEBUG [src.node.waku_node] Using volumes []
2025-02-14 04:02:43.981 DEBUG [src.node.docker_mananger] docker run -i -t -p 37061:37061 -p 37062:37062 -p 37063:37063 -p 37064:37064 -p 37065:37065 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=37063 --rest-port=37061 --tcp-port=37062 --discv5-udp-port=37064 --rest-address=0.0.0.0 --nat=extip:172.18.69.32 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3be98b0ab4deefd740759bbdb6a2511cddbeccb1e5c21a46f6d8da4689c10b40 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=37065 --metrics-logging=true --relay=true --filter=true
2025-02-14 04:02:44.200 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.69.32 waku 5b02435fc8632a7eba3375e6d1e8f841da9049e6dbd2168823d738386598e097
2025-02-14 04:02:44.248 DEBUG [src.node.docker_mananger] Container started with ID 5b02435fc863. Setting up logs at ./log/docker/node1_2025-02-14_04-02-43__7eb6849c-aadd-4db5-afcf-6aea00a4ce96__wakuorg_nwaku:latest.log
2025-02-14 04:02:44.249 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 37061
2025-02-14 04:02:44.249 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-14 04:02:44.760 ERROR [src.node.docker_mananger] Max retries reached for container ffe1a6e2f7a6. Exiting log stream.
2025-02-14 04:02:45.249 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:37061/health" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:02:45.252 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-14 04:02:45.252 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-14 04:02:45.252 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:37061/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:02:45.255 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.69.32/tcp/37062/p2p/16Uiu2HAm7BBJhqaLor3s4ZctPJpDK3MvRJ1k1cBUmkYLCKDb3W4K","/ip4/172.18.69.32/tcp/37063/ws/p2p/16Uiu2HAm7BBJhqaLor3s4ZctPJpDK3MvRJ1k1cBUmkYLCKDb3W4K"],"enrUri":"enr:-L24QHeimRjj9EF7vcLKoLlecR_Wh9tpvmFTwJasrJAuDrs3b1dcHeGZo0_VAOLkpWnTerOiCtKxIR50jdORWc5JJa8CgmlkgnY0gmlwhKwSRSCKbXVsdGlhZGRyc5YACASsEkUgBpDGAAoErBJFIAaQx90DgnJzhQADAQAAiXNlY3AyNTZrMaECrpWwp8jDs-WGMygD6d7BKT-4iKDeT1OP-HqDzGBjysSDdGNwgpDGg3VkcIKQyIV3YWt1MgU"}'
2025-02-14 04:02:45.255 INFO [src.node.waku_node] REST service is ready !!
2025-02-14 04:02:45.255 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2025-02-14 04:02:45.261 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-14 04:02:45.261 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-14_04-02-43__7eb6849c-aadd-4db5-afcf-6aea00a4ce96__wakuorg_nwaku:latest.log
2025-02-14 04:02:45.262 DEBUG [src.node.waku_node] Starting Node...
2025-02-14 04:02:45.262 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-14 04:02:45.263 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-14 04:02:45.263 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.53.74
2025-02-14 04:02:45.263 DEBUG [src.node.docker_mananger] Generated ports ['28451', '28452', '28453', '28454', '28455']
2025-02-14 04:02:45.264 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-14 04:02:45.264 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-14 04:02:45.264 DEBUG [src.node.waku_node] Using volumes []
2025-02-14 04:02:45.264 DEBUG [src.node.docker_mananger] docker run -i -t -p 28451:28451 -p 28452:28452 -p 28453:28453 -p 28454:28454 -p 28455:28455 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=28453 --rest-port=28451 --tcp-port=28452 --discv5-udp-port=28454 --rest-address=0.0.0.0 --nat=extip:172.18.53.74 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e6b1ce314fe6bc2ab5261dedc605a06451cfe1deedd8efad9d88e6b7d6a6dfae --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=28455 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QHeimRjj9EF7vcLKoLlecR_Wh9tpvmFTwJasrJAuDrs3b1dcHeGZo0_VAOLkpWnTerOiCtKxIR50jdORWc5JJa8CgmlkgnY0gmlwhKwSRSCKbXVsdGlhZGRyc5YACASsEkUgBpDGAAoErBJFIAaQx90DgnJzhQADAQAAiXNlY3AyNTZrMaECrpWwp8jDs-WGMygD6d7BKT-4iKDeT1OP-HqDzGBjysSDdGNwgpDGg3VkcIKQyIV3YWt1MgU --filternode=/ip4/172.18.69.32/tcp/37062/p2p/16Uiu2HAm7BBJhqaLor3s4ZctPJpDK3MvRJ1k1cBUmkYLCKDb3W4K
2025-02-14 04:02:45.484 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.53.74 waku 9f35bfd0a053bcd0d49b33061c2dd9a2713a2d396ad5596a2d2eb918b00c6b5f
2025-02-14 04:02:45.533 DEBUG [src.node.docker_mananger] Container started with ID 9f35bfd0a053. Setting up logs at ./log/docker/node2_2025-02-14_04-02-43__7eb6849c-aadd-4db5-afcf-6aea00a4ce96__wakuorg_nwaku:latest.log
2025-02-14 04:02:45.533 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 28451
2025-02-14 04:02:45.534 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-14 04:02:46.535 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28451/health" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:02:46.538 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-14 04:02:46.538 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-14 04:02:46.538 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:28451/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:02:46.540 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.53.74/tcp/28452/p2p/16Uiu2HAmSeJvDznmRrXGpkkYAbuyzW1rhVTybHnz2o77Hgn3mwvP","/ip4/172.18.53.74/tcp/28453/ws/p2p/16Uiu2HAmSeJvDznmRrXGpkkYAbuyzW1rhVTybHnz2o77Hgn3mwvP"],"enrUri":"enr:-L24QA8oA2vrTvRkFHzMRLDSK3N8KImLiu9wQswM9HUyMOLHRdZ5kOtLchLmSw4IP2IfIYvYCyf1IjPzTyfc5qZmf2cCgmlkgnY0gmlwhKwSNUqKbXVsdGlhZGRyc5YACASsEjVKBm8kAAoErBI1SgZvJd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDz9cH6Ft3njbG1iW6142VtGdirig5JwQ9TZw5FBgoBZCDdGNwgm8kg3VkcIJvJoV3YWt1MgA"}'
2025-02-14 04:02:46.540 INFO [src.node.waku_node] REST service is ready !!
2025-02-14 04:02:46.541 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:28451/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.69.32/tcp/37062/p2p/16Uiu2HAm7BBJhqaLor3s4ZctPJpDK3MvRJ1k1cBUmkYLCKDb3W4K"]'
2025-02-14 04:02:46.577 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:02:46.578 DEBUG [src.steps.filter] Running fixture setup: subscribe_main_nodes
2025-02-14 04:02:46.579 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:37061/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-14 04:02:46.598 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:02:46.599 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:28451/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "502a9990-f9ff-4495-bbdf-96da9bfc6f86", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2025-02-14 04:02:46.611 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"502a9990-f9ff-4495-bbdf-96da9bfc6f86","statusDesc":"OK"}'
2025-02-14 04:02:46.612 INFO [src.node.api_clients.base_client] curl -v -X PUT "http://127.0.0.1:28451/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": ["/test/2/waku-filter/proto"]}'
2025-02-14 04:02:46.620 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"1","statusDesc":"OK"}'
2025-02-14 04:02:46.622 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-14 04:02:46.623 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-14 04:02:46.623 DEBUG [src.node.waku_node] Stopping container with id 5b02435fc863
2025-02-14 04:02:47.428 DEBUG [src.node.waku_node] Container stopped.
2025-02-14 04:02:47.429 DEBUG [src.node.waku_node] Stopping container with id 9f35bfd0a053
2025-02-14 04:02:48.242 ERROR [src.node.docker_mananger] Max retries reached for container 5b02435fc863. Exiting log stream.
2025-02-14 04:02:48.441 DEBUG [src.node.waku_node] Container stopped.
2025-02-14 04:02:48.442 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-14 04:02:48.447 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-14 04:02:48.452 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
