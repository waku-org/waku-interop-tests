[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2025-02-14_04-03-49__eb71fa48-2ee2-45fa-975e-ac821651156b
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-02-14_04-03-49__eb71fa48-2ee2-45fa-975e-ac821651156b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.104.231
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['33053', '33054', '33055', '33056', '33057']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 33053:33053 -p 33054:33054 -p 33055:33055 -p 33056:33056 -p 33057:33057 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=33055 --rest-port=33053 --tcp-port=33054 --discv5-udp-port=33056 --rest-address=0.0.0.0 --nat=extip:172.18.104.231 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bebfebbddbcdf6a6ae9a8fcf02364873a523bb7adefb2fef4cf0e4a5bf7dc04b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=33057 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.104.231 waku 0a34232963de418dadea313bda058f3c3fbc216a4fbeb74805f5663eb13623ec
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 0a34232963de. Setting up logs at ./log/docker/node1_2025-02-14_04-03-49__eb71fa48-2ee2-45fa-975e-ac821651156b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 33053
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 57d4656503ac. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33053/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33053/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.104.231/tcp/33054/p2p/16Uiu2HAmMEM7jB9kuui6JnGbjsqjXmC6Sw3tWZsn3qWBrDNXrQ1v","/ip4/172.18.104.231/tcp/33055/ws/p2p/16Uiu2HAmMEM7jB9kuui6JnGbjsqjXmC6Sw3tWZsn3qWBrDNXrQ1v"],"enrUri":"enr:-L24QNs4YcINJIoueuecknuni4HWWqBDzwY8-vdv1BGvoZooZGJ3GvmE7buGxHwWIBuP7-mlyagiJ7Y5izXsYekNE4ECgmlkgnY0gmlwhKwSaOeKbXVsdGlhZGRyc5YACASsEmjnBoEeAAoErBJo5waBH90DgnJzhQADAQAAiXNlY3AyNTZrMaEDf2kkesKNByuy_Bt92Dq3xa299JL5pkZZQy5vRJ9I55mDdGNwgoEeg3VkcIKBIIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-02-14_04-03-49__eb71fa48-2ee2-45fa-975e-ac821651156b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.5.193
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['45839', '45840', '45841', '45842', '45843']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 45839:45839 -p 45840:45840 -p 45841:45841 -p 45842:45842 -p 45843:45843 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=45841 --rest-port=45839 --tcp-port=45840 --discv5-udp-port=45842 --rest-address=0.0.0.0 --nat=extip:172.18.5.193 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8fd057efba7d2e69d79bd9ecf24240da1152a5da1df07d43ecb47306dbfd9c7f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=45843 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QNs4YcINJIoueuecknuni4HWWqBDzwY8-vdv1BGvoZooZGJ3GvmE7buGxHwWIBuP7-mlyagiJ7Y5izXsYekNE4ECgmlkgnY0gmlwhKwSaOeKbXVsdGlhZGRyc5YACASsEmjnBoEeAAoErBJo5waBH90DgnJzhQADAQAAiXNlY3AyNTZrMaEDf2kkesKNByuy_Bt92Dq3xa299JL5pkZZQy5vRJ9I55mDdGNwgoEeg3VkcIKBIIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.5.193 waku 579a65cd5a61c58c5c68a3b260c413d1c8ae2a92232234bf73e62b3675e21667
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 579a65cd5a61. Setting up logs at ./log/docker/node2_2025-02-14_04-03-49__eb71fa48-2ee2-45fa-975e-ac821651156b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 45839
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45839/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45839/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.5.193/tcp/45840/p2p/16Uiu2HAm7Vyc6iJNoNKMvnsNUrgBpafWcxiESkWSiK8CYzgVwB2B","/ip4/172.18.5.193/tcp/45841/ws/p2p/16Uiu2HAm7Vyc6iJNoNKMvnsNUrgBpafWcxiESkWSiK8CYzgVwB2B"],"enrUri":"enr:-L24QGrHk1i6R-dGWDJxmgMiIsHDYtp3HYIwGEKyRyP-vCYiPpYS4iQuKTLgtcsI7pG2ySoRJ1XEeCkB46EKmfSsbYECgmlkgnY0gmlwhKwSBcGKbXVsdGlhZGRyc5YACASsEgXBBrMQAAoErBIFwQazEd0DgnJzhQADAQAAiXNlY3AyNTZrMaECs2Z-_9KxgHd2okWaNLdTzyxaeZlGvwZIA_KYfrYdq_yDdGNwgrMQg3VkcIKzEoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45839/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.104.231/tcp/33054/p2p/16Uiu2HAmMEM7jB9kuui6JnGbjsqjXmC6Sw3tWZsn3qWBrDNXrQ1v"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2025-02-14_04-03-49__eb71fa48-2ee2-45fa-975e-ac821651156b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.225.230
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['47074', '47075', '47076', '47077', '47078']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 47074:47074 -p 47075:47075 -p 47076:47076 -p 47077:47077 -p 47078:47078 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=47076 --rest-port=47074 --tcp-port=47075 --discv5-udp-port=47077 --rest-address=0.0.0.0 --nat=extip:172.18.225.230 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=87edfbc64d9dda0fddcff0f0f55ab78a6ea3bf5db7ddffaf22adfe13deebe5ef --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=47078 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QNs4YcINJIoueuecknuni4HWWqBDzwY8-vdv1BGvoZooZGJ3GvmE7buGxHwWIBuP7-mlyagiJ7Y5izXsYekNE4ECgmlkgnY0gmlwhKwSaOeKbXVsdGlhZGRyc5YACASsEmjnBoEeAAoErBJo5waBH90DgnJzhQADAQAAiXNlY3AyNTZrMaEDf2kkesKNByuy_Bt92Dq3xa299JL5pkZZQy5vRJ9I55mDdGNwgoEeg3VkcIKBIIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.225.230 waku 28ac82b0621331fc6cb572c208163544effaf9db9fde4f15df9cc9535e09b5f0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 28ac82b06213. Setting up logs at ./log/docker/node3_2025-02-14_04-03-49__eb71fa48-2ee2-45fa-975e-ac821651156b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 47074
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47074/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47074/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.225.230/tcp/47075/p2p/16Uiu2HAmNzQYGBJ5uURA74W1jaGf4yyWwLeWyabkCKvuG4SRQucS","/ip4/172.18.225.230/tcp/47076/ws/p2p/16Uiu2HAmNzQYGBJ5uURA74W1jaGf4yyWwLeWyabkCKvuG4SRQucS"],"enrUri":"enr:-L24QIb_9yhhUK7LZ7I3piF1xc6gKpBxaYvSEArGimtD3D5VBarWonVmls-huCPmDXDKixYfVrI6-j5dYU4Gr9dzVAoCgmlkgnY0gmlwhKwS4eaKbXVsdGlhZGRyc5YACASsEuHmBrfjAAoErBLh5ga35N0DgnJzhQADAQAAiXNlY3AyNTZrMaEDmY5BZAZPQsyX3fPYGnl5JkcHqkQq09PEWMCMqTcyeU-DdGNwgrfjg3VkcIK35YV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47074/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.104.231/tcp/33054/p2p/16Uiu2HAmMEM7jB9kuui6JnGbjsqjXmC6Sw3tWZsn3qWBrDNXrQ1v"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2025-02-14_04-03-49__eb71fa48-2ee2-45fa-975e-ac821651156b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.174.41
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['63617', '63618', '63619', '63620', '63621']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 63617:63617 -p 63618:63618 -p 63619:63619 -p 63620:63620 -p 63621:63621 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=63619 --rest-port=63617 --tcp-port=63618 --discv5-udp-port=63620 --rest-address=0.0.0.0 --nat=extip:172.18.174.41 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a64cde3cfedae4c0d5dab93a29aafafa8d9e1a8e047f1f5bdb98c7b2ad78bce9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=63621 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QNs4YcINJIoueuecknuni4HWWqBDzwY8-vdv1BGvoZooZGJ3GvmE7buGxHwWIBuP7-mlyagiJ7Y5izXsYekNE4ECgmlkgnY0gmlwhKwSaOeKbXVsdGlhZGRyc5YACASsEmjnBoEeAAoErBJo5waBH90DgnJzhQADAQAAiXNlY3AyNTZrMaEDf2kkesKNByuy_Bt92Dq3xa299JL5pkZZQy5vRJ9I55mDdGNwgoEeg3VkcIKBIIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.174.41 waku 5cd066d2f44f770a3896155a658c2b3155cc064bc1df4ff6947afcfc89416644
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 5cd066d2f44f. Setting up logs at ./log/docker/node4_2025-02-14_04-03-49__eb71fa48-2ee2-45fa-975e-ac821651156b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 63617
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63617/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63617/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.174.41/tcp/63618/p2p/16Uiu2HAmPDphsf7XvSaALq8jD9Z4QUqVGJ5JmS4U8vT2cw41sazk","/ip4/172.18.174.41/tcp/63619/ws/p2p/16Uiu2HAmPDphsf7XvSaALq8jD9Z4QUqVGJ5JmS4U8vT2cw41sazk"],"enrUri":"enr:-L24QH29fwiLdg6YG2TL3IidZDCxW31_D_SCoIxoEQcHZfrKRnnVUVqaFfuumkrErxX4ajKtMVmZBmGZJ_NRyZtI_3MCgmlkgnY0gmlwhKwSrimKbXVsdGlhZGRyc5YACASsEq4pBviCAAoErBKuKQb4g90DgnJzhQADAQAAiXNlY3AyNTZrMaEDnP4hVdwomPiMuZtrKFr_vyaym54H2MMrZT458LDwfWmDdGNwgviCg3VkcIL4hIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63617/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.104.231/tcp/33054/p2p/16Uiu2HAmMEM7jB9kuui6JnGbjsqjXmC6Sw3tWZsn3qWBrDNXrQ1v"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2025-02-14_04-03-49__eb71fa48-2ee2-45fa-975e-ac821651156b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.157.31
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['8693', '8694', '8695', '8696', '8697']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 8693:8693 -p 8694:8694 -p 8695:8695 -p 8696:8696 -p 8697:8697 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=8695 --rest-port=8693 --tcp-port=8694 --discv5-udp-port=8696 --rest-address=0.0.0.0 --nat=extip:172.18.157.31 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d6efe87bf8abf8c2e3c384aedef30f2fea22e1f63a015b911707708d9e19e5da --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=8697 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QNs4YcINJIoueuecknuni4HWWqBDzwY8-vdv1BGvoZooZGJ3GvmE7buGxHwWIBuP7-mlyagiJ7Y5izXsYekNE4ECgmlkgnY0gmlwhKwSaOeKbXVsdGlhZGRyc5YACASsEmjnBoEeAAoErBJo5waBH90DgnJzhQADAQAAiXNlY3AyNTZrMaEDf2kkesKNByuy_Bt92Dq3xa299JL5pkZZQy5vRJ9I55mDdGNwgoEeg3VkcIKBIIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.157.31 waku 4147af46b395e33f32d614a817102c9d6a4115511196aeb7407d5e2de1b99245
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 4147af46b395. Setting up logs at ./log/docker/node5_2025-02-14_04-03-49__eb71fa48-2ee2-45fa-975e-ac821651156b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 8693
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8693/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8693/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.157.31/tcp/8694/p2p/16Uiu2HAm5SjR5EFQrMbTw5ZxrCEf78KnzJhq7vcfPDPyfeAvZ2is","/ip4/172.18.157.31/tcp/8695/ws/p2p/16Uiu2HAm5SjR5EFQrMbTw5ZxrCEf78KnzJhq7vcfPDPyfeAvZ2is"],"enrUri":"enr:-L24QDiYFyzuMmuY1WnSOXfkWluLMJ3OPPqoRR1PmROIGtiQXOk-0FgI1rkj-AOA95nZ-aiOwysI7fBNjvza1E3TKDECgmlkgnY0gmlwhKwSnR-KbXVsdGlhZGRyc5YACASsEp0fBiH2AAoErBKdHwYh990DgnJzhQADAQAAiXNlY3AyNTZrMaEClNpVw8B8Sk9uObv8u-3zGWtzDkTCq16_cRaXNVYDPNCDdGNwgiH2g3VkcIIh-IV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8693/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.104.231/tcp/33054/p2p/16Uiu2HAmMEM7jB9kuui6JnGbjsqjXmC6Sw3tWZsn3qWBrDNXrQ1v"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33053/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:45839/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:47074/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63617/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8693/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:33053/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33053/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739505836061376512,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45839/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739505836061376512,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47074/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739505836061376512,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63617/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739505836061376512,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8693/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739505836061376512,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:8693/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:47 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:33053/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739505836195630592,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:45839/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739505836195630592,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:47074/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739505836195630592,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63617/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739505836195630592,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:8693/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739505836195630592,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 0a34232963de
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 579a65cd5a61
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 0a34232963de. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 28ac82b06213
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 579a65cd5a61. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 5cd066d2f44f
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 28ac82b06213. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 4147af46b395
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 5cd066d2f44f. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.