2025-02-14 04:07:57.486 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-14 04:07:57.486 DEBUG [tests.conftest] Running test: test_publish_with_valid_payloads with id: 2025-02-14_04-07-57__477b38dc-8d5b-4824-a4b6-4cf6c4f095d5
2025-02-14 04:07:57.486 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-14 04:07:57.487 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-14 04:07:57.487 DEBUG [src.steps.relay] Running fixture setup: setup_main_relay_nodes
2025-02-14 04:07:57.493 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-14 04:07:57.493 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-14_04-07-57__477b38dc-8d5b-4824-a4b6-4cf6c4f095d5__wakuorg_nwaku:latest.log
2025-02-14 04:07:57.493 DEBUG [src.node.waku_node] Starting Node...
2025-02-14 04:07:57.493 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-14 04:07:57.495 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-14 04:07:57.495 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.233.142
2025-02-14 04:07:57.495 DEBUG [src.node.docker_mananger] Generated ports ['1607', '1608', '1609', '1610', '1611']
2025-02-14 04:07:57.495 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-14 04:07:57.495 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-14 04:07:57.496 DEBUG [src.node.waku_node] Using volumes []
2025-02-14 04:07:57.496 DEBUG [src.node.docker_mananger] docker run -i -t -p 1607:1607 -p 1608:1608 -p 1609:1609 -p 1610:1610 -p 1611:1611 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=1609 --rest-port=1607 --tcp-port=1608 --discv5-udp-port=1610 --rest-address=0.0.0.0 --nat=extip:172.18.233.142 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fbc0dfafbdfef6108bccaaaebde773fffb0c5684a10ccca0b9c26a9483ab90a1 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=1611 --metrics-logging=true --relay=true
2025-02-14 04:07:57.729 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.233.142 waku 77352d4b11b5e815e356f48e9e1a3222c095a7c766b0b52edfe444b713ec861b
2025-02-14 04:07:57.775 DEBUG [src.node.docker_mananger] Container started with ID 77352d4b11b5. Setting up logs at ./log/docker/node1_2025-02-14_04-07-57__477b38dc-8d5b-4824-a4b6-4cf6c4f095d5__wakuorg_nwaku:latest.log
2025-02-14 04:07:57.775 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 1607
2025-02-14 04:07:57.775 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-14 04:07:58.245 ERROR [src.node.docker_mananger] Max retries reached for container 25531fccd4c5. Exiting log stream.
2025-02-14 04:07:58.776 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1607/health" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:07:58.778 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-14 04:07:58.779 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-14 04:07:58.779 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1607/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:07:58.781 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.233.142/tcp/1608/p2p/16Uiu2HAmT2sE5dkrScmKntKmq7HnCK2vfGQNKeyF1m7KesTW9Hbh","/ip4/172.18.233.142/tcp/1609/ws/p2p/16Uiu2HAmT2sE5dkrScmKntKmq7HnCK2vfGQNKeyF1m7KesTW9Hbh"],"enrUri":"enr:-L24QBUNndDIN3tcPcccAARQNmUMuud11cPCwepEJyvtW_wJS6heygQQXF80eVuCxZJ98E7TQTvpGpY8zqrmXSEbJGUCgmlkgnY0gmlwhKwS6Y6KbXVsdGlhZGRyc5YACASsEumOBgZIAAoErBLpjgYGSd0DgnJzhQADAQAAiXNlY3AyNTZrMaED1Z5W3HUyyNS4l7x2kqZ2MdFNgQyKoceJRUdKlFMfU2yDdGNwggZIg3VkcIIGSoV3YWt1MgE"}'
2025-02-14 04:07:58.781 INFO [src.node.waku_node] REST service is ready !!
2025-02-14 04:07:58.787 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-14 04:07:58.788 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-14_04-07-57__477b38dc-8d5b-4824-a4b6-4cf6c4f095d5__wakuorg_nwaku:latest.log
2025-02-14 04:07:58.788 DEBUG [src.node.waku_node] Starting Node...
2025-02-14 04:07:58.788 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-14 04:07:58.789 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-14 04:07:58.789 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.200.195
2025-02-14 04:07:58.790 DEBUG [src.node.docker_mananger] Generated ports ['5835', '5836', '5837', '5838', '5839']
2025-02-14 04:07:58.790 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-14 04:07:58.790 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-14 04:07:58.790 DEBUG [src.node.waku_node] Using volumes []
2025-02-14 04:07:58.790 DEBUG [src.node.docker_mananger] docker run -i -t -p 5835:5835 -p 5836:5836 -p 5837:5837 -p 5838:5838 -p 5839:5839 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=5837 --rest-port=5835 --tcp-port=5836 --discv5-udp-port=5838 --rest-address=0.0.0.0 --nat=extip:172.18.200.195 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3fe8e6adb5ff88c0342bd674fcb6d281fe3ff3b14fceb963d45bd7ced362ed94 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=5839 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QBUNndDIN3tcPcccAARQNmUMuud11cPCwepEJyvtW_wJS6heygQQXF80eVuCxZJ98E7TQTvpGpY8zqrmXSEbJGUCgmlkgnY0gmlwhKwS6Y6KbXVsdGlhZGRyc5YACASsEumOBgZIAAoErBLpjgYGSd0DgnJzhQADAQAAiXNlY3AyNTZrMaED1Z5W3HUyyNS4l7x2kqZ2MdFNgQyKoceJRUdKlFMfU2yDdGNwggZIg3VkcIIGSoV3YWt1MgE
2025-02-14 04:07:59.023 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.200.195 waku b868634693dd90b2934901f33a4db7525192e06edf96e7eff4d04332dcf936af
2025-02-14 04:07:59.078 DEBUG [src.node.docker_mananger] Container started with ID b868634693dd. Setting up logs at ./log/docker/node2_2025-02-14_04-07-57__477b38dc-8d5b-4824-a4b6-4cf6c4f095d5__wakuorg_nwaku:latest.log
2025-02-14 04:07:59.078 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 5835
2025-02-14 04:07:59.078 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-14 04:08:00.079 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5835/health" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:00.089 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-14 04:08:00.091 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-14 04:08:00.091 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5835/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:00.094 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.200.195/tcp/5836/p2p/16Uiu2HAmTndrRWqJdTfRvwYepnkDVQ7mdyEJ4x46tkrGtmhQzNz5","/ip4/172.18.200.195/tcp/5837/ws/p2p/16Uiu2HAmTndrRWqJdTfRvwYepnkDVQ7mdyEJ4x46tkrGtmhQzNz5"],"enrUri":"enr:-L24QP88aCr1I8EU9_0n4tpUaotOaKTQbqTIbP0CUgQZdmJmKDht8ReglX0SCCCuzBP0kWKlQQbxonPRwl1TISe7WycCgmlkgnY0gmlwhKwSyMOKbXVsdGlhZGRyc5YACASsEsjDBhbMAAoErBLIwwYWzd0DgnJzhQADAQAAiXNlY3AyNTZrMaED4NTGB0bva0DLhqxw0CL7d1pp9rE9cZ0yCbhaKEK-CLqDdGNwghbMg3VkcIIWzoV3YWt1MgE"}'
2025-02-14 04:08:00.094 INFO [src.node.waku_node] REST service is ready !!
2025-02-14 04:08:00.095 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5835/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.233.142/tcp/1608/p2p/16Uiu2HAmT2sE5dkrScmKntKmq7HnCK2vfGQNKeyF1m7KesTW9Hbh"]'
2025-02-14 04:08:00.097 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:08:00.098 DEBUG [src.steps.relay] Running fixture setup: subscribe_main_relay_nodes
2025-02-14 04:08:00.098 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1607/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-14 04:08:00.102 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:08:00.102 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:5835/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-14 04:08:00.107 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:08:00.108 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:08:00.113 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:08:00.114 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:08:00.215 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:00.215 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:00.218 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506080108353536,"ephemeral":false}]'
2025-02-14 04:08:00.219 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:00.219 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5835/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:00.222 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506080108353536,"ephemeral":false}]'
2025-02-14 04:08:00.223 INFO [src.steps.relay] WARM UP successful!!
2025-02-14 04:08:00.224 DEBUG [tests.relay.test_publish] Running test with payload A simple string
2025-02-14 04:08:00.225 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "SGVsbG8gV29ybGQh", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:08:00.229 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:08:00.229 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:08:00.329 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:00.329 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:00.332 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"SGVsbG8gV29ybGQh","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506080224858368,"ephemeral":false}]'
2025-02-14 04:08:00.333 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:00.334 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5835/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:00.336 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"SGVsbG8gV29ybGQh","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506080224858368,"ephemeral":false}]'
2025-02-14 04:08:00.337 DEBUG [tests.relay.test_publish] Running test with payload An integer
2025-02-14 04:08:00.338 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "MTIzNDU2Nzg5MA==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:08:00.343 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:08:00.343 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:08:00.443 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:00.444 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:00.446 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTIzNDU2Nzg5MA==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506080337996288,"ephemeral":false}]'
2025-02-14 04:08:00.448 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:00.448 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5835/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:00.450 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTIzNDU2Nzg5MA==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506080337996288,"ephemeral":false}]'
2025-02-14 04:08:00.451 DEBUG [tests.relay.test_publish] Running test with payload A dictionary
2025-02-14 04:08:00.452 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "eyJrZXkiOiAidmFsdWUifQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:08:00.456 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:08:00.457 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:08:00.557 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:00.557 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:00.560 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"eyJrZXkiOiAidmFsdWUifQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506080452086528,"ephemeral":false}]'
2025-02-14 04:08:00.561 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:00.562 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5835/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:00.564 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"eyJrZXkiOiAidmFsdWUifQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506080452086528,"ephemeral":false}]'
2025-02-14 04:08:00.565 DEBUG [tests.relay.test_publish] Running test with payload Chinese characters
2025-02-14 04:08:00.566 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "6L+Z5piv5LiA5Lqb5Lit5paH", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:08:00.570 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:08:00.571 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:08:00.672 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:00.672 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:00.674 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"6L+Z5piv5LiA5Lqb5Lit5paH","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506080565941248,"ephemeral":false}]'
2025-02-14 04:08:00.676 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:00.676 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5835/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:00.678 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"6L+Z5piv5LiA5Lqb5Lit5paH","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506080565941248,"ephemeral":false}]'
2025-02-14 04:08:00.680 DEBUG [tests.relay.test_publish] Running test with payload Emojis
2025-02-14 04:08:00.680 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "8J+agPCfjJ/inKg=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:08:00.685 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:08:00.685 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:08:00.785 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:00.785 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:00.788 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"8J+agPCfjJ/inKg=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506080680309760,"ephemeral":false}]'
2025-02-14 04:08:00.790 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:00.790 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5835/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:00.792 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"8J+agPCfjJ/inKg=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506080680309760,"ephemeral":false}]'
2025-02-14 04:08:00.793 DEBUG [tests.relay.test_publish] Running test with payload Lorem ipsum text
2025-02-14 04:08:00.794 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "TG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQ=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:08:00.798 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:08:00.799 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:08:00.899 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:00.899 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:00.902 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQ=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506080794140928,"ephemeral":false}]'
2025-02-14 04:08:00.904 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:00.904 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5835/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:00.906 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQ=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506080794140928,"ephemeral":false}]'
2025-02-14 04:08:00.907 DEBUG [tests.relay.test_publish] Running test with payload HTML content
2025-02-14 04:08:00.907 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "PGh0bWw+PGJvZHk+SGVsbG88L2JvZHk+PC9odG1sPg==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:08:00.912 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:08:00.912 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:08:01.013 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:01.013 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:01.016 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"PGh0bWw+PGJvZHk+SGVsbG88L2JvZHk+PC9odG1sPg==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506080907846912,"ephemeral":false}]'
2025-02-14 04:08:01.017 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:01.017 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5835/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:01.019 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"PGh0bWw+PGJvZHk+SGVsbG88L2JvZHk+PC9odG1sPg==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506080907846912,"ephemeral":false}]'
2025-02-14 04:08:01.021 DEBUG [tests.relay.test_publish] Running test with payload Cyrillic characters
2025-02-14 04:08:01.021 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "0J/RgNC40LLQtdGC", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:08:01.025 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:08:01.026 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:08:01.127 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:01.127 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:01.129 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"0J/RgNC40LLQtdGC","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506081021492480,"ephemeral":false}]'
2025-02-14 04:08:01.131 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:01.131 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5835/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:01.133 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"0J/RgNC40LLQtdGC","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506081021492480,"ephemeral":false}]'
2025-02-14 04:08:01.136 DEBUG [tests.relay.test_publish] Running test with payload Base64 encoded string
2025-02-14 04:08:01.136 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "QmFzZTY0PT1kR1Z6ZEE9PQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:08:01.140 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:08:01.141 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:08:01.242 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:01.242 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:01.245 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"QmFzZTY0PT1kR1Z6ZEE9PQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506081136379904,"ephemeral":false}]'
2025-02-14 04:08:01.246 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:01.246 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5835/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:01.249 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"QmFzZTY0PT1kR1Z6ZEE9PQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506081136379904,"ephemeral":false}]'
2025-02-14 04:08:01.250 DEBUG [tests.relay.test_publish] Running test with payload Binary data
2025-02-14 04:08:01.250 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "ZDI5eWEybHVaeUIzYVhSb0lHSnBibUZ5ZVNCa1lYUmg6IFBR", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:08:01.255 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:08:01.255 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:08:01.356 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:01.356 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:01.359 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"ZDI5eWEybHVaeUIzYVhSb0lHSnBibUZ5ZVNCa1lYUmg6IFBR","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506081250617088,"ephemeral":false}]'
2025-02-14 04:08:01.360 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:01.360 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5835/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:01.363 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"ZDI5eWEybHVaeUIzYVhSb0lHSnBibUZ5ZVNCa1lYUmg6IFBR","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506081250617088,"ephemeral":false}]'
2025-02-14 04:08:01.364 DEBUG [tests.relay.test_publish] Running test with payload Special characters with whitespace
2025-02-14 04:08:01.364 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "CQpTcGVjaWFsCUNoYXJhY3RlcnMK", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:08:01.369 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:08:01.369 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:08:01.470 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:01.470 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:01.473 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"CQpTcGVjaWFsCUNoYXJhY3RlcnMK","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506081364736256,"ephemeral":false}]'
2025-02-14 04:08:01.474 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:01.474 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5835/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:01.476 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"CQpTcGVjaWFsCUNoYXJhY3RlcnMK","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506081364736256,"ephemeral":false}]'
2025-02-14 04:08:01.478 DEBUG [tests.relay.test_publish] Running test with payload Boolean false as a string
2025-02-14 04:08:01.478 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmFsc2U=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:08:01.482 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:08:01.483 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:08:01.583 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:01.584 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:01.586 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RmFsc2U=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506081478458112,"ephemeral":false}]'
2025-02-14 04:08:01.588 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:01.588 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5835/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:01.590 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RmFsc2U=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506081478458112,"ephemeral":false}]'
2025-02-14 04:08:01.592 DEBUG [tests.relay.test_publish] Running test with payload A float number
2025-02-14 04:08:01.592 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "My4xNDE1OTI2NTM1", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:08:01.597 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:08:01.597 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:08:01.698 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:01.698 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:01.701 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"My4xNDE1OTI2NTM1","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506081592321536,"ephemeral":false}]'
2025-02-14 04:08:01.702 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:01.702 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5835/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:01.705 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"My4xNDE1OTI2NTM1","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506081592321536,"ephemeral":false}]'
2025-02-14 04:08:01.706 DEBUG [tests.relay.test_publish] Running test with payload A list
2025-02-14 04:08:01.706 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "WzEsIDIsIDMsIDQsIDVd", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:08:01.710 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:08:01.711 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:08:01.811 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:01.811 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:01.814 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"WzEsIDIsIDMsIDQsIDVd","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506081706537216,"ephemeral":false}]'
2025-02-14 04:08:01.815 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:01.816 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5835/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:01.818 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"WzEsIDIsIDMsIDQsIDVd","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506081706537216,"ephemeral":false}]'
2025-02-14 04:08:01.819 DEBUG [tests.relay.test_publish] Running test with payload Hexadecimal number as a string
2025-02-14 04:08:01.820 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "MHhERUFEQkVFRg==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:08:01.824 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:08:01.825 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:08:01.925 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:01.926 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:01.929 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MHhERUFEQkVFRg==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506081819989504,"ephemeral":false}]'
2025-02-14 04:08:01.930 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:01.930 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5835/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:01.933 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MHhERUFEQkVFRg==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506081819989504,"ephemeral":false}]'
2025-02-14 04:08:01.934 DEBUG [tests.relay.test_publish] Running test with payload Email format
2025-02-14 04:08:01.935 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "dXNlckBleGFtcGxlLmNvbQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:08:01.939 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:08:01.940 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:08:02.040 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:02.040 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:02.043 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"dXNlckBleGFtcGxlLmNvbQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506081935001600,"ephemeral":false}]'
2025-02-14 04:08:02.044 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:02.044 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5835/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:02.047 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"dXNlckBleGFtcGxlLmNvbQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506081935001600,"ephemeral":false}]'
2025-02-14 04:08:02.048 DEBUG [tests.relay.test_publish] Running test with payload URL format
2025-02-14 04:08:02.048 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "aHR0cDovL2V4YW1wbGUuY29t", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:08:02.053 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:08:02.054 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:08:02.154 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:02.155 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:02.158 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"aHR0cDovL2V4YW1wbGUuY29t","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506082048769536,"ephemeral":false}]'
2025-02-14 04:08:02.159 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:02.159 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5835/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:02.162 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"aHR0cDovL2V4YW1wbGUuY29t","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506082048769536,"ephemeral":false}]'
2025-02-14 04:08:02.163 DEBUG [tests.relay.test_publish] Running test with payload Date and time in ISO format
2025-02-14 04:08:02.163 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "MjAyMy0xMS0wMVQxMjowMDowMFo=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:08:02.167 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:08:02.168 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:08:02.268 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:02.269 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:02.272 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MjAyMy0xMS0wMVQxMjowMDowMFo=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506082163537408,"ephemeral":false}]'
2025-02-14 04:08:02.273 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:02.273 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5835/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:02.276 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MjAyMy0xMS0wMVQxMjowMDowMFo=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506082163537408,"ephemeral":false}]'
2025-02-14 04:08:02.277 DEBUG [tests.relay.test_publish] Running test with payload String with escaped quotes
2025-02-14 04:08:02.277 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "IkVzY2FwZWQiIFwicXVvdGVzXCI=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:08:02.282 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:08:02.282 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:08:02.383 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:02.383 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:02.386 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"IkVzY2FwZWQiIFwicXVvdGVzXCI=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506082277727488,"ephemeral":false}]'
2025-02-14 04:08:02.387 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:02.387 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5835/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:02.389 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"IkVzY2FwZWQiIFwicXVvdGVzXCI=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506082277727488,"ephemeral":false}]'
2025-02-14 04:08:02.391 DEBUG [tests.relay.test_publish] Running test with payload A regular expression
2025-02-14 04:08:02.391 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVndWxhciBleHByZXNzaW9uOiBeW2EtejAtOV8tXXszLDE2fSQ=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:08:02.396 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:08:02.396 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:08:02.497 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:02.497 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:02.500 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVndWxhciBleHByZXNzaW9uOiBeW2EtejAtOV8tXXszLDE2fSQ=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506082391449344,"ephemeral":false}]'
2025-02-14 04:08:02.501 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:02.502 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5835/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:02.504 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UmVndWxhciBleHByZXNzaW9uOiBeW2EtejAtOV8tXXszLDE2fSQ=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506082391449344,"ephemeral":false}]'
2025-02-14 04:08:02.505 DEBUG [tests.relay.test_publish] Running test with payload A very long string
2025-02-14 04:08:02.506 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eA==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:08:02.511 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:08:02.512 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:08:02.612 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:02.612 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:02.615 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eA==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506082505906688,"ephemeral":false}]'
2025-02-14 04:08:02.617 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:02.617 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5835/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:02.619 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eA==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506082505906688,"ephemeral":false}]'
2025-02-14 04:08:02.620 DEBUG [tests.relay.test_publish] Running test with payload A JSON string
2025-02-14 04:08:02.621 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "eyJuYW1lIjogIkpvaG4iLCAiYWdlIjogMzAsICJjaXR5IjogIk5ldyBZb3JrIn0=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:08:02.626 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:08:02.626 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:08:02.727 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:02.727 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:02.730 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"eyJuYW1lIjogIkpvaG4iLCAiYWdlIjogMzAsICJjaXR5IjogIk5ldyBZb3JrIn0=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506082621007360,"ephemeral":false}]'
2025-02-14 04:08:02.731 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:02.731 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5835/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:02.734 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"eyJuYW1lIjogIkpvaG4iLCAiYWdlIjogMzAsICJjaXR5IjogIk5ldyBZb3JrIn0=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506082621007360,"ephemeral":false}]'
2025-02-14 04:08:02.735 DEBUG [tests.relay.test_publish] Running test with payload A Unix path
2025-02-14 04:08:02.735 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "L3Vzci9sb2NhbC9iaW4=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:08:02.740 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:08:02.741 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:08:02.842 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:02.842 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:02.844 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"L3Vzci9sb2NhbC9iaW4=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506082735845632,"ephemeral":false}]'
2025-02-14 04:08:02.846 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:02.846 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5835/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:02.848 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"L3Vzci9sb2NhbC9iaW4=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506082735845632,"ephemeral":false}]'
2025-02-14 04:08:02.850 DEBUG [tests.relay.test_publish] Running test with payload A Windows path
2025-02-14 04:08:02.850 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "QzpcV2luZG93c1xTeXN0ZW0zMg==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:08:02.855 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:08:02.855 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:08:02.955 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:02.955 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:02.959 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"QzpcV2luZG93c1xTeXN0ZW0zMg==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506082850474240,"ephemeral":false}]'
2025-02-14 04:08:02.960 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:02.960 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5835/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:02.962 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"QzpcV2luZG93c1xTeXN0ZW0zMg==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506082850474240,"ephemeral":false}]'
2025-02-14 04:08:02.964 DEBUG [tests.relay.test_publish] Running test with payload An SQL query
2025-02-14 04:08:02.964 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "U0VMRUNUICogRlJPTSB1c2VycyBXSEVSRSBpZCA9IDE7", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:08:02.968 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:08:02.970 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:08:03.070 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:03.070 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:03.073 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U0VMRUNUICogRlJPTSB1c2VycyBXSEVSRSBpZCA9IDE7","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506082964348672,"ephemeral":false}]'
2025-02-14 04:08:03.074 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:03.074 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5835/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:03.077 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U0VMRUNUICogRlJPTSB1c2VycyBXSEVSRSBpZCA9IDE7","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506082964348672,"ephemeral":false}]'
2025-02-14 04:08:03.079 DEBUG [tests.relay.test_publish] Running test with payload JavaScript code snippet
2025-02-14 04:08:03.079 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "ZnVuY3Rpb24gdGVzdCgpIHsgY29uc29sZS5sb2coJ0hlbGxvIFdvcmxkJyk7IH0=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:08:03.084 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:08:03.084 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:08:03.185 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:03.185 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:03.187 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"ZnVuY3Rpb24gdGVzdCgpIHsgY29uc29sZS5sb2coJ0hlbGxvIFdvcmxkJyk7IH0=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506083079794432,"ephemeral":false}]'
2025-02-14 04:08:03.189 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:03.189 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5835/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:03.191 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"ZnVuY3Rpb24gdGVzdCgpIHsgY29uc29sZS5sb2coJ0hlbGxvIFdvcmxkJyk7IH0=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506083079794432,"ephemeral":false}]'
2025-02-14 04:08:03.192 DEBUG [tests.relay.test_publish] Running test with payload A CSS snippet
2025-02-14 04:08:03.193 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "Ym9keSB7IGJhY2tncm91bmQtY29sb3I6ICNmZmY7IH0=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:08:03.197 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:08:03.197 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:08:03.298 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:03.298 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:03.301 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"Ym9keSB7IGJhY2tncm91bmQtY29sb3I6ICNmZmY7IH0=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506083192997376,"ephemeral":false}]'
2025-02-14 04:08:03.302 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:03.302 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5835/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:03.305 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"Ym9keSB7IGJhY2tncm91bmQtY29sb3I6ICNmZmY7IH0=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506083192997376,"ephemeral":false}]'
2025-02-14 04:08:03.306 DEBUG [tests.relay.test_publish] Running test with payload A Python one-liner
2025-02-14 04:08:03.306 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "cHJpbnQoJ0hlbGxvIFdvcmxkJyk=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:08:03.311 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:08:03.311 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:08:03.412 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:03.412 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:03.414 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"cHJpbnQoJ0hlbGxvIFdvcmxkJyk=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506083306499072,"ephemeral":false}]'
2025-02-14 04:08:03.416 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:03.416 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5835/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:03.418 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"cHJpbnQoJ0hlbGxvIFdvcmxkJyk=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506083306499072,"ephemeral":false}]'
2025-02-14 04:08:03.420 DEBUG [tests.relay.test_publish] Running test with payload An IP address
2025-02-14 04:08:03.420 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "MTkyLjE2OC4xLjE=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:08:03.424 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:08:03.425 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:08:03.526 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:03.526 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:03.529 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTkyLjE2OC4xLjE=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506083420480768,"ephemeral":false}]'
2025-02-14 04:08:03.530 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:03.531 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5835/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:03.533 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTkyLjE2OC4xLjE=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506083420480768,"ephemeral":false}]'
2025-02-14 04:08:03.534 DEBUG [tests.relay.test_publish] Running test with payload A domain name
2025-02-14 04:08:03.534 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "d3d3LmV4YW1wbGUuY29t", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:08:03.539 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:08:03.539 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:08:03.639 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:03.640 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:03.642 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"d3d3LmV4YW1wbGUuY29t","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506083534595840,"ephemeral":false}]'
2025-02-14 04:08:03.644 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:03.644 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5835/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:03.646 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"d3d3LmV4YW1wbGUuY29t","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506083534595840,"ephemeral":false}]'
2025-02-14 04:08:03.648 DEBUG [tests.relay.test_publish] Running test with payload A user agent string
2025-02-14 04:08:03.648 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCk=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:08:03.653 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:08:03.653 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:08:03.754 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:03.754 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:03.757 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCk=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506083648438528,"ephemeral":false}]'
2025-02-14 04:08:03.758 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:03.759 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5835/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:03.761 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCk=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506083648438528,"ephemeral":false}]'
2025-02-14 04:08:03.762 DEBUG [tests.relay.test_publish] Running test with payload A credit card number
2025-02-14 04:08:03.763 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "MTIzNC01Njc4LTkwMTItMzQ1Ng==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:08:03.767 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:08:03.767 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:08:03.868 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:03.868 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:03.871 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTIzNC01Njc4LTkwMTItMzQ1Ng==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506083762863616,"ephemeral":false}]'
2025-02-14 04:08:03.872 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:03.872 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5835/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:03.874 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTIzNC01Njc4LTkwMTItMzQ1Ng==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506083762863616,"ephemeral":false}]'
2025-02-14 04:08:03.876 DEBUG [tests.relay.test_publish] Running test with payload A phone number
2025-02-14 04:08:03.876 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "KzEyMzQ1Njc4OTA=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:08:03.880 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:08:03.880 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:08:03.981 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:03.981 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:03.984 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"KzEyMzQ1Njc4OTA=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506083876349696,"ephemeral":false}]'
2025-02-14 04:08:03.985 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:03.985 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5835/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:03.988 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"KzEyMzQ1Njc4OTA=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506083876349696,"ephemeral":false}]'
2025-02-14 04:08:03.989 DEBUG [tests.relay.test_publish] Running test with payload A UUID
2025-02-14 04:08:03.989 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "MTIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAw", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:08:03.993 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:08:03.994 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:08:04.094 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:04.095 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:04.097 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAw","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506083989506304,"ephemeral":false}]'
2025-02-14 04:08:04.099 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:04.099 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5835/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:04.101 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAw","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506083989506304,"ephemeral":false}]'
2025-02-14 04:08:04.102 DEBUG [tests.relay.test_publish] Running test with payload A hashtag
2025-02-14 04:08:04.103 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "I2hlbGxvV29ybGQ=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:08:04.108 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:08:04.108 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:08:04.209 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:04.209 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:04.212 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"I2hlbGxvV29ybGQ=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506084103205376,"ephemeral":false}]'
2025-02-14 04:08:04.213 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:04.213 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5835/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:04.216 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"I2hlbGxvV29ybGQ=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506084103205376,"ephemeral":false}]'
2025-02-14 04:08:04.217 DEBUG [tests.relay.test_publish] Running test with payload A Twitter handle
2025-02-14 04:08:04.217 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "QHVzZXJuYW1l", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:08:04.221 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:08:04.222 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:08:04.323 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:04.323 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:04.326 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"QHVzZXJuYW1l","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506084217711104,"ephemeral":false}]'
2025-02-14 04:08:04.327 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:04.327 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5835/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:04.329 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"QHVzZXJuYW1l","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506084217711104,"ephemeral":false}]'
2025-02-14 04:08:04.331 DEBUG [tests.relay.test_publish] Running test with payload A password
2025-02-14 04:08:04.331 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UEBzc3cwcmQh", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:08:04.336 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:08:04.336 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:08:04.437 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:04.437 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:04.440 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UEBzc3cwcmQh","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506084331437312,"ephemeral":false}]'
2025-02-14 04:08:04.441 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:04.442 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5835/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:04.444 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"UEBzc3cwcmQh","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506084331437312,"ephemeral":false}]'
2025-02-14 04:08:04.445 DEBUG [tests.relay.test_publish] Running test with payload A date in common format
2025-02-14 04:08:04.446 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "MDEvMTEvMjAyMw==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:08:04.450 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:08:04.451 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:08:04.551 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:04.552 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:04.554 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MDEvMTEvMjAyMw==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506084445879040,"ephemeral":false}]'
2025-02-14 04:08:04.556 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:04.556 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5835/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:04.559 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MDEvMTEvMjAyMw==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506084445879040,"ephemeral":false}]'
2025-02-14 04:08:04.560 DEBUG [tests.relay.test_publish] Running test with payload A time string
2025-02-14 04:08:04.560 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "MTI6MDA6MDA=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:08:04.565 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:08:04.565 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:08:04.665 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:04.666 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:04.668 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTI6MDA6MDA=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506084560511232,"ephemeral":false}]'
2025-02-14 04:08:04.670 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:04.670 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5835/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:04.672 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"MTI6MDA6MDA=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506084560511232,"ephemeral":false}]'
2025-02-14 04:08:04.674 DEBUG [tests.relay.test_publish] Running test with payload A mathematical equation
2025-02-14 04:08:04.674 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RSA9IG1jXjI=", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:08:04.679 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:08:04.679 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:08:04.779 DEBUG [src.steps.relay] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:04.779 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:1607/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:04.782 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RSA9IG1jXjI=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506084674658560,"ephemeral":false}]'
2025-02-14 04:08:04.783 DEBUG [src.steps.relay] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:08:04.783 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:5835/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:08:04.786 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"RSA9IG1jXjI=","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1739506084674658560,"ephemeral":false}]'
2025-02-14 04:08:04.789 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-14 04:08:04.790 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-14 04:08:04.790 DEBUG [src.node.waku_node] Stopping container with id 77352d4b11b5
2025-02-14 04:08:05.585 DEBUG [src.node.waku_node] Container stopped.
2025-02-14 04:08:05.585 DEBUG [src.node.waku_node] Stopping container with id b868634693dd
2025-02-14 04:08:06.398 ERROR [src.node.docker_mananger] Max retries reached for container 77352d4b11b5. Exiting log stream.
2025-02-14 04:08:07.071 DEBUG [src.node.waku_node] Container stopped.
2025-02-14 04:08:07.072 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-14 04:08:07.088 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-14 04:08:07.102 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
