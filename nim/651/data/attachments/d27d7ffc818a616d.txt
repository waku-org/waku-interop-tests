2025-02-14 04:05:05.061 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-14 04:05:05.061 DEBUG [tests.conftest] Running test: test_unsubscribe_from_all_content_topics_one_by_one with id: 2025-02-14_04-05-05__9888bc0b-09b7-49c7-9ca4-8a756781b3df
2025-02-14 04:05:05.062 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-14 04:05:05.062 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-14 04:05:05.062 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-14 04:05:05.069 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-14 04:05:05.069 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-14_04-05-05__9888bc0b-09b7-49c7-9ca4-8a756781b3df__wakuorg_nwaku:latest.log
2025-02-14 04:05:05.069 DEBUG [src.node.waku_node] Starting Node...
2025-02-14 04:05:05.069 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-14 04:05:05.071 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-14 04:05:05.071 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.7.42
2025-02-14 04:05:05.071 DEBUG [src.node.docker_mananger] Generated ports ['15635', '15636', '15637', '15638', '15639']
2025-02-14 04:05:05.071 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-14 04:05:05.071 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-14 04:05:05.072 DEBUG [src.node.waku_node] Using volumes []
2025-02-14 04:05:05.072 DEBUG [src.node.docker_mananger] docker run -i -t -p 15635:15635 -p 15636:15636 -p 15637:15637 -p 15638:15638 -p 15639:15639 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=15637 --rest-port=15635 --tcp-port=15636 --discv5-udp-port=15638 --rest-address=0.0.0.0 --nat=extip:172.18.7.42 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=0ee55afd0ddc488aec3b2bc2c9bc45f0afca18e6fb5f3eeadf17bcd2f58a79cc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=15639 --metrics-logging=true --relay=true --filter=true --content-topic=/myapp/1/latest/proto
2025-02-14 04:05:05.300 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.7.42 waku 8788b29de9ad378b80c765319e590710075eaeb6bb429afbbf8a7668530f64fa
2025-02-14 04:05:05.350 DEBUG [src.node.docker_mananger] Container started with ID 8788b29de9ad. Setting up logs at ./log/docker/node1_2025-02-14_04-05-05__9888bc0b-09b7-49c7-9ca4-8a756781b3df__wakuorg_nwaku:latest.log
2025-02-14 04:05:05.351 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 15635
2025-02-14 04:05:05.352 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-14 04:05:05.873 ERROR [src.node.docker_mananger] Max retries reached for container e9bab855ca85. Exiting log stream.
2025-02-14 04:05:06.352 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15635/health" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:05:06.355 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-14 04:05:06.355 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-14 04:05:06.355 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15635/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:05:06.358 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.7.42/tcp/15636/p2p/16Uiu2HAmNJKDCQshiJnsHtxzHvpKtYLiXLP1dZJVHauycBWyfLiX","/ip4/172.18.7.42/tcp/15637/ws/p2p/16Uiu2HAmNJKDCQshiJnsHtxzHvpKtYLiXLP1dZJVHauycBWyfLiX"],"enrUri":"enr:-L24QF4i_MbEN4n4IrPRO7VMZKh7hHLxtrXcL9XHJTvp0tT8aU92QJf8sGVzp3-6lzsMg3o07zm8T1vxrfKoerrYj14CgmlkgnY0gmlwhKwSByqKbXVsdGlhZGRyc5YACASsEgcqBj0UAAoErBIHKgY9Fd0DgnJzhQACAQAAiXNlY3AyNTZrMaEDj0j_dT8zZh1ClnYns3hJ2aGz_RcAhby0Dtsht8Cz5aSDdGNwgj0Ug3VkcII9FoV3YWt1MgU"}'
2025-02-14 04:05:06.358 INFO [src.node.waku_node] REST service is ready !!
2025-02-14 04:05:06.364 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-14 04:05:06.364 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-14_04-05-05__9888bc0b-09b7-49c7-9ca4-8a756781b3df__wakuorg_nwaku:latest.log
2025-02-14 04:05:06.365 DEBUG [src.node.waku_node] Starting Node...
2025-02-14 04:05:06.365 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-14 04:05:06.366 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-14 04:05:06.366 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.198.142
2025-02-14 04:05:06.366 DEBUG [src.node.docker_mananger] Generated ports ['19000', '19001', '19002', '19003', '19004']
2025-02-14 04:05:06.366 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-14 04:05:06.366 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-14 04:05:06.367 DEBUG [src.node.waku_node] Using volumes []
2025-02-14 04:05:06.367 DEBUG [src.node.docker_mananger] docker run -i -t -p 19000:19000 -p 19001:19001 -p 19002:19002 -p 19003:19003 -p 19004:19004 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=19002 --rest-port=19000 --tcp-port=19001 --discv5-udp-port=19003 --rest-address=0.0.0.0 --nat=extip:172.18.198.142 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=5e6851ff5dbf75fc8d9ccdda9adc3c7eb3ee875dda99a3f9ec5a61c6b0992ea8 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=19004 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QF4i_MbEN4n4IrPRO7VMZKh7hHLxtrXcL9XHJTvp0tT8aU92QJf8sGVzp3-6lzsMg3o07zm8T1vxrfKoerrYj14CgmlkgnY0gmlwhKwSByqKbXVsdGlhZGRyc5YACASsEgcqBj0UAAoErBIHKgY9Fd0DgnJzhQACAQAAiXNlY3AyNTZrMaEDj0j_dT8zZh1ClnYns3hJ2aGz_RcAhby0Dtsht8Cz5aSDdGNwgj0Ug3VkcII9FoV3YWt1MgU --content-topic=/myapp/1/latest/proto
2025-02-14 04:05:06.600 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.198.142 waku b90b3f5fcf978feddc39b137176785c20085f21b3790e6aa3540c7b1d2029712
2025-02-14 04:05:06.649 DEBUG [src.node.docker_mananger] Container started with ID b90b3f5fcf97. Setting up logs at ./log/docker/node2_2025-02-14_04-05-05__9888bc0b-09b7-49c7-9ca4-8a756781b3df__wakuorg_nwaku:latest.log
2025-02-14 04:05:06.650 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 19000
2025-02-14 04:05:06.650 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-14 04:05:07.650 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19000/health" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:05:07.660 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-14 04:05:07.663 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-14 04:05:07.663 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19000/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:05:07.670 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.198.142/tcp/19001/p2p/16Uiu2HAmVjDCHNbzZH1XDTuN6sV9sEvfaLaJ1aQuG2MYTn1fjujf","/ip4/172.18.198.142/tcp/19002/ws/p2p/16Uiu2HAmVjDCHNbzZH1XDTuN6sV9sEvfaLaJ1aQuG2MYTn1fjujf"],"enrUri":"enr:-L24QFnMQLm8Y4aLcafs1nc4HMRhjbxcZR6vATzINWk0P1pAG8Yxhh3nWivKzyxtp_56Y0yeDlHTPrcLKeRX7is4QC0CgmlkgnY0gmlwhKwSxo6KbXVsdGlhZGRyc5YACASsEsaOBko5AAoErBLGjgZKOt0DgnJzhQACAQAAiXNlY3AyNTZrMaED_auGSJWrhuUByp7js2ybbYmRYZohpm598UbivxPXXSqDdGNwgko5g3VkcIJKO4V3YWt1MgE"}'
2025-02-14 04:05:07.671 INFO [src.node.waku_node] REST service is ready !!
2025-02-14 04:05:07.671 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:19000/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.7.42/tcp/15636/p2p/16Uiu2HAmNJKDCQshiJnsHtxzHvpKtYLiXLP1dZJVHauycBWyfLiX"]'
2025-02-14 04:05:07.676 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:05:07.677 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15635/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-14 04:05:07.686 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:05:07.687 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:19000/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-14 04:05:07.707 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:05:07.707 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15635/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:05:07.717 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:05:07.718 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:05:07.818 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:05:07.818 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15635/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:05:07.821 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739505907707512832,"ephemeral":false}]'
2025-02-14 04:05:07.822 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:05:07.823 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19000/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:05:07.825 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739505907707512832,"ephemeral":false}]'
2025-02-14 04:05:07.826 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15635/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:05:07.831 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:05:07.832 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:05:07.932 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:05:07.932 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15635/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:05:07.934 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1739505907826822400,"ephemeral":false}]'
2025-02-14 04:05:07.936 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:05:07.936 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19000/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:05:07.938 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1739505907826822400,"ephemeral":false}]'
2025-02-14 04:05:07.940 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15635/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:05:07.945 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:05:07.945 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:05:08.046 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:05:08.046 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15635/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:05:08.049 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1739505907940219136,"ephemeral":false}]'
2025-02-14 04:05:08.050 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:05:08.050 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19000/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:05:08.052 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1739505907940219136,"ephemeral":false}]'
2025-02-14 04:05:08.054 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15635/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:05:08.059 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:05:08.060 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:05:08.160 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:05:08.160 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15635/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:05:08.163 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739505908054235392,"ephemeral":false}]'
2025-02-14 04:05:08.164 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:05:08.164 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19000/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:05:08.166 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739505908054235392,"ephemeral":false}]'
2025-02-14 04:05:08.168 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15635/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:05:08.173 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:05:08.173 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:05:08.273 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:05:08.274 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15635/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:05:08.276 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739505908168292608,"ephemeral":false}]'
2025-02-14 04:05:08.277 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:05:08.278 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19000/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:05:08.280 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739505908168292608,"ephemeral":false}]'
2025-02-14 04:05:08.282 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15635/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:05:08.286 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:05:08.287 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:05:08.387 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:05:08.387 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15635/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:05:08.390 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739505908281952256,"ephemeral":false}]'
2025-02-14 04:05:08.391 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:05:08.391 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19000/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:05:08.393 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739505908281952256,"ephemeral":false}]'
2025-02-14 04:05:08.395 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15635/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:05:08.400 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:05:08.400 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:05:08.500 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:05:08.501 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15635/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:05:08.503 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739505908395488768,"ephemeral":false}]'
2025-02-14 04:05:08.505 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:05:08.505 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19000/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:05:08.507 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739505908395488768,"ephemeral":false}]'
2025-02-14 04:05:08.508 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15635/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:05:08.513 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:05:08.514 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:05:08.614 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:05:08.614 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15635/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:05:08.617 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739505908508834048,"ephemeral":false}]'
2025-02-14 04:05:08.618 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:05:08.619 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:19000/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:05:08.621 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739505908508834048,"ephemeral":false}]'
2025-02-14 04:05:08.622 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:15635/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto"]'
2025-02-14 04:05:08.627 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:05:08.627 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:19000/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto"]'
2025-02-14 04:05:08.632 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:05:08.633 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:15635/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/content/test.js"]'
2025-02-14 04:05:08.637 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:05:08.638 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:19000/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/content/test.js"]'
2025-02-14 04:05:08.642 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:05:08.642 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:15635/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/22/sometopic/someencoding"]'
2025-02-14 04:05:08.647 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:05:08.648 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:19000/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/22/sometopic/someencoding"]'
2025-02-14 04:05:08.652 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:05:08.653 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:15635/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/toychat/2/huilong/proto"]'
2025-02-14 04:05:08.658 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:05:08.658 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:19000/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/toychat/2/huilong/proto"]'
2025-02-14 04:05:08.663 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:05:08.664 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:15635/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/statusim/1/community/cbor"]'
2025-02-14 04:05:08.669 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:05:08.669 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:19000/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/statusim/1/community/cbor"]'
2025-02-14 04:05:08.673 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:05:08.674 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:15635/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/27/sometopic/someencoding"]'
2025-02-14 04:05:08.679 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:05:08.679 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:19000/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/27/sometopic/someencoding"]'
2025-02-14 04:05:08.683 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:05:08.684 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:15635/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/29/sometopic/someencoding"]'
2025-02-14 04:05:08.688 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:05:08.689 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:19000/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/29/sometopic/someencoding"]'
2025-02-14 04:05:08.693 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:05:08.694 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:15635/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/20/sometopic/someencoding"]'
2025-02-14 04:05:08.698 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:05:08.699 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:19000/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/app/20/sometopic/someencoding"]'
2025-02-14 04:05:08.706 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:05:08.707 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15635/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:05:08.710 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:05:08.710 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:05:08.810 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:05:08.810 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15635/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:05:08.813 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:15635/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto. Response content: b'/myapp/1/latest/proto'
2025-02-14 04:05:08.815 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15635/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:05:08.817 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:05:08.817 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:05:08.918 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:05:08.918 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15635/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:05:08.920 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:15635/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js. Response content: b'/waku/2/content/test.js'
2025-02-14 04:05:08.922 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15635/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:05:08.924 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:05:08.924 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:05:09.025 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:05:09.025 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15635/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:05:09.027 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:15635/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding. Response content: b'/app/22/sometopic/someencoding'
2025-02-14 04:05:09.029 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15635/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:05:09.031 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:05:09.031 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:05:09.132 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:05:09.132 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15635/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:05:09.134 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:15635/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto. Response content: b'/toychat/2/huilong/proto'
2025-02-14 04:05:09.136 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15635/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:05:09.138 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:05:09.138 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:05:09.239 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:05:09.239 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15635/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:05:09.241 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:15635/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor. Response content: b'/statusim/1/community/cbor'
2025-02-14 04:05:09.243 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15635/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:05:09.245 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:05:09.246 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:05:09.346 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:05:09.346 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15635/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:05:09.349 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:15635/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding. Response content: b'/app/27/sometopic/someencoding'
2025-02-14 04:05:09.350 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15635/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:05:09.353 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:05:09.353 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:05:09.453 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:05:09.454 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15635/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:05:09.456 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:15635/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding. Response content: b'/app/29/sometopic/someencoding'
2025-02-14 04:05:09.457 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15635/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:05:09.460 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:05:09.460 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:05:09.560 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:05:09.561 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15635/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:05:09.563 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:15635/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding. Response content: b'/app/20/sometopic/someencoding'
2025-02-14 04:05:09.566 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-14 04:05:09.566 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-14 04:05:09.567 DEBUG [src.node.waku_node] Stopping container with id 8788b29de9ad
2025-02-14 04:05:10.707 DEBUG [src.node.waku_node] Container stopped.
2025-02-14 04:05:10.709 DEBUG [src.node.waku_node] Stopping container with id b90b3f5fcf97
2025-02-14 04:05:11.521 ERROR [src.node.docker_mananger] Max retries reached for container 8788b29de9ad. Exiting log stream.
2025-02-14 04:05:12.216 DEBUG [src.node.waku_node] Container stopped.
2025-02-14 04:05:12.219 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-14 04:05:12.234 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-14 04:05:12.248 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
