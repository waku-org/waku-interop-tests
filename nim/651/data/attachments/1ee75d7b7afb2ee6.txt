2025-02-14 04:04:12.946 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-14 04:04:12.947 DEBUG [tests.conftest] Running test: test_relay_subscribe_with_empty_pubsub_topic_list with id: 2025-02-14_04-04-12__f3bec17f-4016-448e-a927-7ec2639b1567
2025-02-14 04:04:12.947 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-14 04:04:12.947 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-14 04:04:12.947 DEBUG [src.steps.relay] Running fixture setup: setup_main_relay_nodes
2025-02-14 04:04:12.954 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-14 04:04:12.954 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-14_04-04-12__f3bec17f-4016-448e-a927-7ec2639b1567__wakuorg_nwaku:latest.log
2025-02-14 04:04:12.954 DEBUG [src.node.waku_node] Starting Node...
2025-02-14 04:04:12.954 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-14 04:04:12.955 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-14 04:04:12.956 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.10.84
2025-02-14 04:04:12.956 DEBUG [src.node.docker_mananger] Generated ports ['21697', '21698', '21699', '21700', '21701']
2025-02-14 04:04:12.956 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-14 04:04:12.956 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-14 04:04:12.956 DEBUG [src.node.waku_node] Using volumes []
2025-02-14 04:04:12.956 DEBUG [src.node.docker_mananger] docker run -i -t -p 21697:21697 -p 21698:21698 -p 21699:21699 -p 21700:21700 -p 21701:21701 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=21699 --rest-port=21697 --tcp-port=21698 --discv5-udp-port=21700 --rest-address=0.0.0.0 --nat=extip:172.18.10.84 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=fbaeb7dd46e86e0c0ffbc3458eb2aedabba088bcf5fdbc96adbe9d2ff096fdde --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=21701 --metrics-logging=true --relay=true
2025-02-14 04:04:13.184 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.10.84 waku 4320f2d6ebddf72257391467976e5aa5fdcc379378d9e952523c95f67895022a
2025-02-14 04:04:13.234 DEBUG [src.node.docker_mananger] Container started with ID 4320f2d6ebdd. Setting up logs at ./log/docker/node1_2025-02-14_04-04-12__f3bec17f-4016-448e-a927-7ec2639b1567__wakuorg_nwaku:latest.log
2025-02-14 04:04:13.235 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 21697
2025-02-14 04:04:13.235 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-14 04:04:13.754 ERROR [src.node.docker_mananger] Max retries reached for container 9fddf95c0cb1. Exiting log stream.
2025-02-14 04:04:14.235 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21697/health" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:04:14.238 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-14 04:04:14.238 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-14 04:04:14.238 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:21697/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:04:14.240 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.10.84/tcp/21698/p2p/16Uiu2HAm187gMLFMQLhMDGMgUBwNFXKKg96sUuTvqTRaHSWn1qkV","/ip4/172.18.10.84/tcp/21699/ws/p2p/16Uiu2HAm187gMLFMQLhMDGMgUBwNFXKKg96sUuTvqTRaHSWn1qkV"],"enrUri":"enr:-L24QFnkKAKvOxZ94-c_EV3xwzxYXL4GHKX0If4cdMiGDbcfL7fzZrDCWGQJ2m-3hinNkaj09gRpbBGD6qtLTJ88v1sCgmlkgnY0gmlwhKwSClSKbXVsdGlhZGRyc5YACASsEgpUBlTCAAoErBIKVAZUw90DgnJzhQADAQAAiXNlY3AyNTZrMaECVKa5qlr9f4-6Zk8HbLIQtQRnQfEo3fTp2U8DRHU3zMqDdGNwglTCg3VkcIJUxIV3YWt1MgE"}'
2025-02-14 04:04:14.241 INFO [src.node.waku_node] REST service is ready !!
2025-02-14 04:04:14.247 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-14 04:04:14.247 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-14_04-04-12__f3bec17f-4016-448e-a927-7ec2639b1567__wakuorg_nwaku:latest.log
2025-02-14 04:04:14.248 DEBUG [src.node.waku_node] Starting Node...
2025-02-14 04:04:14.248 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-14 04:04:14.249 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-14 04:04:14.249 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.233.20
2025-02-14 04:04:14.249 DEBUG [src.node.docker_mananger] Generated ports ['48793', '48794', '48795', '48796', '48797']
2025-02-14 04:04:14.249 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-14 04:04:14.249 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-14 04:04:14.250 DEBUG [src.node.waku_node] Using volumes []
2025-02-14 04:04:14.250 DEBUG [src.node.docker_mananger] docker run -i -t -p 48793:48793 -p 48794:48794 -p 48795:48795 -p 48796:48796 -p 48797:48797 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=48795 --rest-port=48793 --tcp-port=48794 --discv5-udp-port=48796 --rest-address=0.0.0.0 --nat=extip:172.18.233.20 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=25e12e754dc5193b885f34eb61e9f8ced50bf23dcabbbf1cffba02e5af0fab7c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=48797 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QFnkKAKvOxZ94-c_EV3xwzxYXL4GHKX0If4cdMiGDbcfL7fzZrDCWGQJ2m-3hinNkaj09gRpbBGD6qtLTJ88v1sCgmlkgnY0gmlwhKwSClSKbXVsdGlhZGRyc5YACASsEgpUBlTCAAoErBIKVAZUw90DgnJzhQADAQAAiXNlY3AyNTZrMaECVKa5qlr9f4-6Zk8HbLIQtQRnQfEo3fTp2U8DRHU3zMqDdGNwglTCg3VkcIJUxIV3YWt1MgE
2025-02-14 04:04:14.483 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.233.20 waku bed21d5c7819eb9537112562780be84736ba885175f844e3169670b3c52c0b7a
2025-02-14 04:04:14.540 DEBUG [src.node.docker_mananger] Container started with ID bed21d5c7819. Setting up logs at ./log/docker/node2_2025-02-14_04-04-12__f3bec17f-4016-448e-a927-7ec2639b1567__wakuorg_nwaku:latest.log
2025-02-14 04:04:14.540 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 48793
2025-02-14 04:04:14.540 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-14 04:04:15.542 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48793/health" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:04:15.549 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-14 04:04:15.550 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-14 04:04:15.551 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:48793/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:04:15.557 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.233.20/tcp/48794/p2p/16Uiu2HAmGgt1pP4DdRTUfg6brjTmtTK2toWpaKKXsQ4i8SgFhLD2","/ip4/172.18.233.20/tcp/48795/ws/p2p/16Uiu2HAmGgt1pP4DdRTUfg6brjTmtTK2toWpaKKXsQ4i8SgFhLD2"],"enrUri":"enr:-L24QOzl0JmqWTaWrY7sVep54jZRJPJ-ztWi-97vBIydYDfNTr-y_veEBu6JvTeRCWs8my_KmuaYPqx0gsQURY2d4GgCgmlkgnY0gmlwhKwS6RSKbXVsdGlhZGRyc5YACASsEukUBr6aAAoErBLpFAa-m90DgnJzhQADAQAAiXNlY3AyNTZrMaEDO-q-2Le1-WFI54UK8edarbbmbH44XJHuR1XV7RAY_aWDdGNwgr6ag3VkcIK-nIV3YWt1MgE"}'
2025-02-14 04:04:15.559 INFO [src.node.waku_node] REST service is ready !!
2025-02-14 04:04:15.559 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:48793/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.10.84/tcp/21698/p2p/16Uiu2HAm187gMLFMQLhMDGMgUBwNFXKKg96sUuTvqTRaHSWn1qkV"]'
2025-02-14 04:04:15.562 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:04:15.563 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:21697/relay/v1/subscriptions" -H "Content-Type: application/json" -d '[]'
2025-02-14 04:04:15.565 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:04:15.565 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:48793/relay/v1/subscriptions" -H "Content-Type: application/json" -d '[]'
2025-02-14 04:04:15.567 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:04:15.569 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-14 04:04:15.569 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-14 04:04:15.570 DEBUG [src.node.waku_node] Stopping container with id 4320f2d6ebdd
2025-02-14 04:04:16.758 DEBUG [src.node.waku_node] Container stopped.
2025-02-14 04:04:16.758 DEBUG [src.node.waku_node] Stopping container with id bed21d5c7819
2025-02-14 04:04:17.571 ERROR [src.node.docker_mananger] Max retries reached for container 4320f2d6ebdd. Exiting log stream.
2025-02-14 04:04:18.265 DEBUG [src.node.waku_node] Container stopped.
2025-02-14 04:04:18.266 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-14 04:04:18.271 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-14 04:04:18.276 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
