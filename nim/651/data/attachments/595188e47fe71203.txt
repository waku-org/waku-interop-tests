2025-02-14 04:06:59.579 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-14 04:06:59.579 DEBUG [tests.conftest] Running test: test_filter_unsubscribe_with_no_pubsub_topic with id: 2025-02-14_04-06-59__372baec1-6e0a-4155-9a1a-7761d624d3ac
2025-02-14 04:06:59.580 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-14 04:06:59.580 DEBUG [src.steps.filter] Running fixture setup: filter_setup
2025-02-14 04:06:59.580 DEBUG [src.steps.filter] Running fixture setup: setup_main_relay_node
2025-02-14 04:06:59.587 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-14 04:06:59.587 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-14_04-06-59__372baec1-6e0a-4155-9a1a-7761d624d3ac__wakuorg_nwaku:latest.log
2025-02-14 04:06:59.587 DEBUG [src.node.waku_node] Starting Node...
2025-02-14 04:06:59.587 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-14 04:06:59.589 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-14 04:06:59.589 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.125.33
2025-02-14 04:06:59.589 DEBUG [src.node.docker_mananger] Generated ports ['47676', '47677', '47678', '47679', '47680']
2025-02-14 04:06:59.589 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-14 04:06:59.589 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-14 04:06:59.589 DEBUG [src.node.waku_node] Using volumes []
2025-02-14 04:06:59.590 DEBUG [src.node.docker_mananger] docker run -i -t -p 47676:47676 -p 47677:47677 -p 47678:47678 -p 47679:47679 -p 47680:47680 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=47678 --rest-port=47676 --tcp-port=47677 --discv5-udp-port=47679 --rest-address=0.0.0.0 --nat=extip:172.18.125.33 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=f6d551cc204cbc7bdafb899a73411bc0ec7981e10bb4f7c4b97fa97ca5f7dc2e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=47680 --metrics-logging=true --relay=true --filter=true
2025-02-14 04:06:59.815 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.125.33 waku e412cb5cbb7ef70ff4659fc69dd30a9129c7f7ec8ce937cd6cf67592daa0e729
2025-02-14 04:06:59.866 DEBUG [src.node.docker_mananger] Container started with ID e412cb5cbb7e. Setting up logs at ./log/docker/node1_2025-02-14_04-06-59__372baec1-6e0a-4155-9a1a-7761d624d3ac__wakuorg_nwaku:latest.log
2025-02-14 04:06:59.868 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 47676
2025-02-14 04:06:59.868 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-14 04:07:00.386 ERROR [src.node.docker_mananger] Max retries reached for container cd5eb3e081d8. Exiting log stream.
2025-02-14 04:07:00.868 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47676/health" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:07:00.871 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-14 04:07:00.872 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-14 04:07:00.872 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:47676/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:07:00.874 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.125.33/tcp/47677/p2p/16Uiu2HAmJXd6hZ18QjLL1sr8qB7EkJ4BUbo9VtXdwGThogXxmkH7","/ip4/172.18.125.33/tcp/47678/ws/p2p/16Uiu2HAmJXd6hZ18QjLL1sr8qB7EkJ4BUbo9VtXdwGThogXxmkH7"],"enrUri":"enr:-L24QHvqAOxoG1Cx44tlmSglzbX6Sv5LaDJDDXig1saYX7SONd1xi8AEqGlt2FwqCCrURtFyhvbTj-v1phSQjVfa-E8CgmlkgnY0gmlwhKwSfSGKbXVsdGlhZGRyc5YACASsEn0hBro9AAoErBJ9IQa6Pt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDV0MG1TFm3ldTqmVS_hd-9NWafGe_doYGh-Wbf5C_fYKDdGNwgro9g3VkcIK6P4V3YWt1MgU"}'
2025-02-14 04:07:00.874 INFO [src.node.waku_node] REST service is ready !!
2025-02-14 04:07:00.875 DEBUG [src.steps.filter] Running fixture setup: setup_main_filter_node
2025-02-14 04:07:00.881 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-14 04:07:00.881 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-14_04-06-59__372baec1-6e0a-4155-9a1a-7761d624d3ac__wakuorg_nwaku:latest.log
2025-02-14 04:07:00.881 DEBUG [src.node.waku_node] Starting Node...
2025-02-14 04:07:00.881 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-14 04:07:00.883 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-14 04:07:00.883 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.85.21
2025-02-14 04:07:00.883 DEBUG [src.node.docker_mananger] Generated ports ['44101', '44102', '44103', '44104', '44105']
2025-02-14 04:07:00.883 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-14 04:07:00.883 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-14 04:07:00.883 DEBUG [src.node.waku_node] Using volumes []
2025-02-14 04:07:00.883 DEBUG [src.node.docker_mananger] docker run -i -t -p 44101:44101 -p 44102:44102 -p 44103:44103 -p 44104:44104 -p 44105:44105 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=44103 --rest-port=44101 --tcp-port=44102 --discv5-udp-port=44104 --rest-address=0.0.0.0 --nat=extip:172.18.85.21 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6d85e0a8c4ece2ebb98b4ccff51a556e407cd3ad4cde4de3b3dc98f4449c7534 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=44105 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-L24QHvqAOxoG1Cx44tlmSglzbX6Sv5LaDJDDXig1saYX7SONd1xi8AEqGlt2FwqCCrURtFyhvbTj-v1phSQjVfa-E8CgmlkgnY0gmlwhKwSfSGKbXVsdGlhZGRyc5YACASsEn0hBro9AAoErBJ9IQa6Pt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDV0MG1TFm3ldTqmVS_hd-9NWafGe_doYGh-Wbf5C_fYKDdGNwgro9g3VkcIK6P4V3YWt1MgU --filternode=/ip4/172.18.125.33/tcp/47677/p2p/16Uiu2HAmJXd6hZ18QjLL1sr8qB7EkJ4BUbo9VtXdwGThogXxmkH7
2025-02-14 04:07:01.116 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.85.21 waku bcdab51fd1719daa0ca73aa4a33565342b072dbe9ac7e7938c57720b159987c1
2025-02-14 04:07:01.170 DEBUG [src.node.docker_mananger] Container started with ID bcdab51fd171. Setting up logs at ./log/docker/node2_2025-02-14_04-06-59__372baec1-6e0a-4155-9a1a-7761d624d3ac__wakuorg_nwaku:latest.log
2025-02-14 04:07:01.170 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 44101
2025-02-14 04:07:01.171 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-14 04:07:02.171 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44101/health" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:07:02.174 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-14 04:07:02.175 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-14 04:07:02.175 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44101/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:07:02.177 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.85.21/tcp/44102/p2p/16Uiu2HAmDEeCGRekjkE8zZqDVZyQ6nCFeLSp7MqTptRiuLCKGiyt","/ip4/172.18.85.21/tcp/44103/ws/p2p/16Uiu2HAmDEeCGRekjkE8zZqDVZyQ6nCFeLSp7MqTptRiuLCKGiyt"],"enrUri":"enr:-L24QHsRR9a_N7Wb4T58R6ERwsgVf31n1kkdQ3-xwzjEUhHSLhICd25zGDOpX8oPB8HOndcC6ssaWG8pYVv0vpeP_SwCgmlkgnY0gmlwhKwSVRWKbXVsdGlhZGRyc5YACASsElUVBqxGAAoErBJVFQasR90DgnJzhQADAQAAiXNlY3AyNTZrMaEDCJ71IM-Gzt4r2Rj0sitCaY3dneStSi-7DZUDzoNNnr-DdGNwgqxGg3VkcIKsSIV3YWt1MgA"}'
2025-02-14 04:07:02.177 INFO [src.node.waku_node] REST service is ready !!
2025-02-14 04:07:02.178 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44101/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.125.33/tcp/47677/p2p/16Uiu2HAmJXd6hZ18QjLL1sr8qB7EkJ4BUbo9VtXdwGThogXxmkH7"]'
2025-02-14 04:07:02.214 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:07:02.215 DEBUG [src.steps.filter] Running fixture setup: subscribe_main_nodes
2025-02-14 04:07:02.215 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:47676/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
2025-02-14 04:07:02.235 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:07:02.237 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44101/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "4a316092-7408-49e0-aee5-63699536502f", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
2025-02-14 04:07:02.248 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"requestId":"4a316092-7408-49e0-aee5-63699536502f","statusDesc":"OK"}'
2025-02-14 04:07:02.250 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:44101/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": "/test/1/waku-filter/proto"}'
2025-02-14 04:07:02.252 ERROR [src.node.api_clients.base_client] HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:44101/filter/v2/subscriptions. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data\\", contentType: \\"text/plain\\"))"}'
2025-02-14 04:07:02.255 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-14 04:07:02.256 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-14 04:07:02.256 DEBUG [src.node.waku_node] Stopping container with id e412cb5cbb7e
2025-02-14 04:07:03.366 DEBUG [src.node.waku_node] Container stopped.
2025-02-14 04:07:03.368 DEBUG [src.node.waku_node] Stopping container with id bcdab51fd171
2025-02-14 04:07:04.179 ERROR [src.node.docker_mananger] Max retries reached for container e412cb5cbb7e. Exiting log stream.
2025-02-14 04:07:04.882 DEBUG [src.node.waku_node] Container stopped.
2025-02-14 04:07:04.884 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-14 04:07:04.889 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-14 04:07:04.892 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
