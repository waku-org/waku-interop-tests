2025-02-14 04:04:23.530 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-14 04:04:23.530 DEBUG [tests.conftest] Running test: test_unsubscribe_from_some_content_topics[content_topic_list1] with id: 2025-02-14_04-04-23__071356a1-224f-4b94-ab5b-1af64d8bd0f2
2025-02-14 04:04:23.530 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-14 04:04:23.530 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-14 04:04:23.531 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-14 04:04:23.537 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-14 04:04:23.538 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-14_04-04-23__071356a1-224f-4b94-ab5b-1af64d8bd0f2__wakuorg_nwaku:latest.log
2025-02-14 04:04:23.538 DEBUG [src.node.waku_node] Starting Node...
2025-02-14 04:04:23.538 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-14 04:04:23.539 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-14 04:04:23.539 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.15.230
2025-02-14 04:04:23.539 DEBUG [src.node.docker_mananger] Generated ports ['39173', '39174', '39175', '39176', '39177']
2025-02-14 04:04:23.540 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-14 04:04:23.540 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-14 04:04:23.540 DEBUG [src.node.waku_node] Using volumes []
2025-02-14 04:04:23.540 DEBUG [src.node.docker_mananger] docker run -i -t -p 39173:39173 -p 39174:39174 -p 39175:39175 -p 39176:39176 -p 39177:39177 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=39175 --rest-port=39173 --tcp-port=39174 --discv5-udp-port=39176 --rest-address=0.0.0.0 --nat=extip:172.18.15.230 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=1f0edc8acc8666ba699ccf45ba74f600b5fabeaebd84b6f29ddcf416bfda4ea0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=39177 --metrics-logging=true --relay=true --filter=true --content-topic=/myapp/1/latest/proto
2025-02-14 04:04:23.767 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.15.230 waku b0a58c0b96726568b15c672ea8e0944a2c2e3ca46551614936dbc10887ee9a23
2025-02-14 04:04:23.818 DEBUG [src.node.docker_mananger] Container started with ID b0a58c0b9672. Setting up logs at ./log/docker/node1_2025-02-14_04-04-23__071356a1-224f-4b94-ab5b-1af64d8bd0f2__wakuorg_nwaku:latest.log
2025-02-14 04:04:23.819 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 39173
2025-02-14 04:04:23.819 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-14 04:04:24.337 ERROR [src.node.docker_mananger] Max retries reached for container e7042f39c13e. Exiting log stream.
2025-02-14 04:04:24.819 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39173/health" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:04:24.822 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-14 04:04:24.823 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-14 04:04:24.823 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39173/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:04:24.825 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.15.230/tcp/39174/p2p/16Uiu2HAm7GxN69Gk66YWr4JytCubh8N3aDgougPtA78SWotUhiXp","/ip4/172.18.15.230/tcp/39175/ws/p2p/16Uiu2HAm7GxN69Gk66YWr4JytCubh8N3aDgougPtA78SWotUhiXp"],"enrUri":"enr:-L24QEgDeL-bp8o66r2_VUdalCPq9lcIudrDwMC14nkPCQfrR3welonesLpZJ9EgW5i39i0taVIfhIEDOXbZL_R4SWACgmlkgnY0gmlwhKwSD-aKbXVsdGlhZGRyc5YACASsEg_mBpkGAAoErBIP5gaZB90DgnJzhQACAQAAiXNlY3AyNTZrMaECsBCKsBo4jU_2dnNSMzuWFWWdcgI9FoienQdIsPzyVo-DdGNwgpkGg3VkcIKZCIV3YWt1MgU"}'
2025-02-14 04:04:24.825 INFO [src.node.waku_node] REST service is ready !!
2025-02-14 04:04:24.832 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-14 04:04:24.832 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-14_04-04-23__071356a1-224f-4b94-ab5b-1af64d8bd0f2__wakuorg_nwaku:latest.log
2025-02-14 04:04:24.832 DEBUG [src.node.waku_node] Starting Node...
2025-02-14 04:04:24.832 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-14 04:04:24.833 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-14 04:04:24.833 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.149.132
2025-02-14 04:04:24.834 DEBUG [src.node.docker_mananger] Generated ports ['15407', '15408', '15409', '15410', '15411']
2025-02-14 04:04:24.834 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-14 04:04:24.834 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-14 04:04:24.834 DEBUG [src.node.waku_node] Using volumes []
2025-02-14 04:04:24.834 DEBUG [src.node.docker_mananger] docker run -i -t -p 15407:15407 -p 15408:15408 -p 15409:15409 -p 15410:15410 -p 15411:15411 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=15409 --rest-port=15407 --tcp-port=15408 --discv5-udp-port=15410 --rest-address=0.0.0.0 --nat=extip:172.18.149.132 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=176abb31241c2e51ef77169d37e1ee2eb3da83e554cc2a6f5b5eb9afbcab4ef8 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=15411 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QEgDeL-bp8o66r2_VUdalCPq9lcIudrDwMC14nkPCQfrR3welonesLpZJ9EgW5i39i0taVIfhIEDOXbZL_R4SWACgmlkgnY0gmlwhKwSD-aKbXVsdGlhZGRyc5YACASsEg_mBpkGAAoErBIP5gaZB90DgnJzhQACAQAAiXNlY3AyNTZrMaECsBCKsBo4jU_2dnNSMzuWFWWdcgI9FoienQdIsPzyVo-DdGNwgpkGg3VkcIKZCIV3YWt1MgU --content-topic=/myapp/1/latest/proto
2025-02-14 04:04:25.054 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.149.132 waku 068f02582009774bb1e03a1972cd80c13ff7724c0cdac36f6937a8cc5cec7cea
2025-02-14 04:04:25.103 DEBUG [src.node.docker_mananger] Container started with ID 068f02582009. Setting up logs at ./log/docker/node2_2025-02-14_04-04-23__071356a1-224f-4b94-ab5b-1af64d8bd0f2__wakuorg_nwaku:latest.log
2025-02-14 04:04:25.103 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 15407
2025-02-14 04:04:25.104 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-14 04:04:26.104 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15407/health" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:04:26.113 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-14 04:04:26.116 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-14 04:04:26.117 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15407/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:04:26.124 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.149.132/tcp/15408/p2p/16Uiu2HAm8JV7w5dmDEkMVURqt9ZbGf1QypTv5EXJjZtfzfgsW4XL","/ip4/172.18.149.132/tcp/15409/ws/p2p/16Uiu2HAm8JV7w5dmDEkMVURqt9ZbGf1QypTv5EXJjZtfzfgsW4XL"],"enrUri":"enr:-L24QAhtTR_XV1vEfZFnKeGL6c0d9ko7rTvN6udeMx3CWl96KORO9_-EUogx_kBKuHAiwB0S3O9xujtcPL9IqE0EmbQCgmlkgnY0gmlwhKwSlYSKbXVsdGlhZGRyc5YACASsEpWEBjwwAAoErBKVhAY8Md0DgnJzhQACAQAAiXNlY3AyNTZrMaECv1CV16ydm8JAKtK3QpBATPIotGNocNGzWIP5ynSDdVODdGNwgjwwg3VkcII8MoV3YWt1MgE"}'
2025-02-14 04:04:26.126 INFO [src.node.waku_node] REST service is ready !!
2025-02-14 04:04:26.127 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15407/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.15.230/tcp/39174/p2p/16Uiu2HAm7GxN69Gk66YWr4JytCubh8N3aDgougPtA78SWotUhiXp"]'
2025-02-14 04:04:26.131 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:04:26.131 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39173/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-14 04:04:26.141 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:04:26.143 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:15407/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding", "/toychat/2/huilong/proto", "/statusim/1/community/cbor", "/app/27/sometopic/someencoding", "/app/29/sometopic/someencoding", "/app/20/sometopic/someencoding"]'
2025-02-14 04:04:26.162 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:04:26.164 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39173/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:04:26.173 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:04:26.174 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:04:26.275 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:04:26.275 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39173/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:04:26.278 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739505866163771136,"ephemeral":false}]'
2025-02-14 04:04:26.280 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:04:26.280 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15407/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:04:26.283 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739505866163771136,"ephemeral":false}]'
2025-02-14 04:04:26.284 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39173/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:04:26.289 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:04:26.290 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:04:26.390 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:04:26.390 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39173/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:04:26.393 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1739505866284494080,"ephemeral":false}]'
2025-02-14 04:04:26.394 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:04:26.395 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15407/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:04:26.397 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/waku/2/content/test.js","version":0,"timestamp":1739505866284494080,"ephemeral":false}]'
2025-02-14 04:04:26.398 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39173/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:04:26.404 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:04:26.404 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:04:26.504 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:04:26.505 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39173/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:04:26.508 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1739505866398580224,"ephemeral":false}]'
2025-02-14 04:04:26.509 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:04:26.509 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15407/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:04:26.512 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/22/sometopic/someencoding","version":0,"timestamp":1739505866398580224,"ephemeral":false}]'
2025-02-14 04:04:26.513 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39173/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:04:26.518 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:04:26.518 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:04:26.619 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:04:26.620 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39173/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:04:26.622 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739505866513539072,"ephemeral":false}]'
2025-02-14 04:04:26.624 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:04:26.624 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15407/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:04:26.626 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739505866513539072,"ephemeral":false}]'
2025-02-14 04:04:26.628 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39173/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:04:26.633 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:04:26.633 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:04:26.734 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:04:26.734 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39173/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:04:26.737 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739505866628295680,"ephemeral":false}]'
2025-02-14 04:04:26.738 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:04:26.738 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15407/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:04:26.740 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739505866628295680,"ephemeral":false}]'
2025-02-14 04:04:26.742 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39173/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:04:26.747 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:04:26.748 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:04:26.848 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:04:26.849 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39173/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:04:26.851 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739505866742472960,"ephemeral":false}]'
2025-02-14 04:04:26.853 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:04:26.853 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15407/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:04:26.856 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739505866742472960,"ephemeral":false}]'
2025-02-14 04:04:26.857 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39173/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:04:26.862 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:04:26.863 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:04:26.963 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:04:26.964 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39173/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:04:26.966 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739505866857530112,"ephemeral":false}]'
2025-02-14 04:04:26.968 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:04:26.968 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15407/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:04:26.970 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739505866857530112,"ephemeral":false}]'
2025-02-14 04:04:26.972 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39173/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:04:26.977 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:04:26.977 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:04:27.078 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:04:27.079 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39173/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:04:27.082 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739505866972310016,"ephemeral":false}]'
2025-02-14 04:04:27.083 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:04:27.083 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15407/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:04:27.086 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739505866972310016,"ephemeral":false}]'
2025-02-14 04:04:27.087 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:39173/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding"]'
2025-02-14 04:04:27.097 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:04:27.098 INFO [src.node.api_clients.base_client] curl -v -X DELETE "http://127.0.0.1:15407/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto", "/waku/2/content/test.js", "/app/22/sometopic/someencoding"]'
2025-02-14 04:04:27.104 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:04:27.106 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39173/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:04:27.108 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:04:27.108 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:04:27.208 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:04:27.209 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39173/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:04:27.211 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:39173/relay/v1/auto/messages/%2Fmyapp%2F1%2Flatest%2Fproto. Response content: b'/myapp/1/latest/proto'
2025-02-14 04:04:27.213 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39173/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/waku/2/content/test.js", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:04:27.217 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:04:27.217 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:04:27.317 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:04:27.318 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39173/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:04:27.321 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:39173/relay/v1/auto/messages/%2Fwaku%2F2%2Fcontent%2Ftest.js. Response content: b'/waku/2/content/test.js'
2025-02-14 04:04:27.322 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39173/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/22/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:04:27.325 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:04:27.325 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:04:27.426 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:04:27.426 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39173/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:04:27.429 ERROR [src.node.api_clients.base_client] HTTP error occurred: 404 Client Error: Not Found for url: http://127.0.0.1:39173/relay/v1/auto/messages/%2Fapp%2F22%2Fsometopic%2Fsomeencoding. Response content: b'/app/22/sometopic/someencoding'
2025-02-14 04:04:27.430 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39173/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:04:27.435 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:04:27.435 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:04:27.536 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:04:27.536 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39173/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:04:27.539 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739505867430321408,"ephemeral":false}]'
2025-02-14 04:04:27.540 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:04:27.540 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15407/relay/v1/auto/messages/%2Ftoychat%2F2%2Fhuilong%2Fproto" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:04:27.542 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/toychat/2/huilong/proto","version":0,"timestamp":1739505867430321408,"ephemeral":false}]'
2025-02-14 04:04:27.544 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39173/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/statusim/1/community/cbor", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:04:27.549 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:04:27.549 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:04:27.650 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:04:27.650 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39173/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:04:27.653 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739505867544509184,"ephemeral":false}]'
2025-02-14 04:04:27.655 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:04:27.655 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15407/relay/v1/auto/messages/%2Fstatusim%2F1%2Fcommunity%2Fcbor" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:04:27.657 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/statusim/1/community/cbor","version":0,"timestamp":1739505867544509184,"ephemeral":false}]'
2025-02-14 04:04:27.658 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39173/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/27/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:04:27.663 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:04:27.663 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:04:27.764 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:04:27.764 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39173/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:04:27.767 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739505867658754560,"ephemeral":false}]'
2025-02-14 04:04:27.769 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:04:27.769 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15407/relay/v1/auto/messages/%2Fapp%2F27%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:04:27.771 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/27/sometopic/someencoding","version":0,"timestamp":1739505867658754560,"ephemeral":false}]'
2025-02-14 04:04:27.773 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39173/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/29/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:04:27.778 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:04:27.778 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:04:27.879 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:04:27.879 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39173/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:04:27.882 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739505867773297920,"ephemeral":false}]'
2025-02-14 04:04:27.883 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:04:27.884 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15407/relay/v1/auto/messages/%2Fapp%2F29%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:04:27.886 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/29/sometopic/someencoding","version":0,"timestamp":1739505867773297920,"ephemeral":false}]'
2025-02-14 04:04:27.888 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:39173/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/app/20/sometopic/someencoding", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:04:27.892 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:04:27.893 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:04:27.994 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:04:27.995 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:39173/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:04:27.998 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739505867888059392,"ephemeral":false}]'
2025-02-14 04:04:27.999 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:04:27.999 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:15407/relay/v1/auto/messages/%2Fapp%2F20%2Fsometopic%2Fsomeencoding" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:04:28.001 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/app/20/sometopic/someencoding","version":0,"timestamp":1739505867888059392,"ephemeral":false}]'
2025-02-14 04:04:28.004 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-14 04:04:28.005 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-14 04:04:28.005 DEBUG [src.node.waku_node] Stopping container with id b0a58c0b9672
2025-02-14 04:04:29.307 DEBUG [src.node.waku_node] Container stopped.
2025-02-14 04:04:29.307 DEBUG [src.node.waku_node] Stopping container with id 068f02582009
2025-02-14 04:04:30.120 ERROR [src.node.docker_mananger] Max retries reached for container b0a58c0b9672. Exiting log stream.
2025-02-14 04:04:30.532 DEBUG [src.node.waku_node] Container stopped.
2025-02-14 04:04:30.533 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-14 04:04:30.546 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-14 04:04:30.558 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
