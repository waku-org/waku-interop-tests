2025-02-14 04:03:58.431 DEBUG [tests.conftest] Running fixture setup: test_id
2025-02-14 04:03:58.432 DEBUG [tests.conftest] Running test: test_subscribe_one_by_one_to_different_pubsub_topics_and_send_messages with id: 2025-02-14_04-03-58__d195103e-363e-4390-9a9a-cbddd6f46937
2025-02-14 04:03:58.432 DEBUG [src.steps.common] Running fixture setup: common_setup
2025-02-14 04:03:58.432 DEBUG [src.steps.relay] Running fixture setup: relay_setup
2025-02-14 04:03:58.432 DEBUG [src.steps.sharding] Running fixture setup: sharding_setup
2025-02-14 04:03:58.439 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-14 04:03:58.439 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node1_2025-02-14_04-03-58__d195103e-363e-4390-9a9a-cbddd6f46937__wakuorg_nwaku:latest.log
2025-02-14 04:03:58.439 DEBUG [src.node.waku_node] Starting Node...
2025-02-14 04:03:58.439 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-14 04:03:58.441 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-14 04:03:58.441 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.197.14
2025-02-14 04:03:58.441 DEBUG [src.node.docker_mananger] Generated ports ['36495', '36496', '36497', '36498', '36499']
2025-02-14 04:03:58.441 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-14 04:03:58.441 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-14 04:03:58.441 DEBUG [src.node.waku_node] Using volumes []
2025-02-14 04:03:58.442 DEBUG [src.node.docker_mananger] docker run -i -t -p 36495:36495 -p 36496:36496 -p 36497:36497 -p 36498:36498 -p 36499:36499 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=36497 --rest-port=36495 --tcp-port=36496 --discv5-udp-port=36498 --rest-address=0.0.0.0 --nat=extip:172.18.197.14 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=1c7d57cec7c3d950bccecd1f335aa4a4de43f0cebda89fdca07ffd2cf0d02e4b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=36499 --metrics-logging=true --relay=true --filter=true --pubsub-topic=/waku/2/rs/2/0
2025-02-14 04:03:58.685 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.197.14 waku d84147f1ff30a961337282102a9d73ca5c99db32fbdbef800d7d83214d1e0125
2025-02-14 04:03:58.734 DEBUG [src.node.docker_mananger] Container started with ID d84147f1ff30. Setting up logs at ./log/docker/node1_2025-02-14_04-03-58__d195103e-363e-4390-9a9a-cbddd6f46937__wakuorg_nwaku:latest.log
2025-02-14 04:03:58.735 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 36495
2025-02-14 04:03:58.735 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-14 04:03:59.235 ERROR [src.node.docker_mananger] Max retries reached for container 8afc3a92eaa5. Exiting log stream.
2025-02-14 04:03:59.736 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36495/health" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:03:59.739 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-14 04:03:59.739 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-14 04:03:59.739 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36495/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:03:59.741 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.197.14/tcp/36496/p2p/16Uiu2HAkwZrhsb1rdhzqQdqQ4tizKJXaUAm79Hu7BBgFx7VK19sD","/ip4/172.18.197.14/tcp/36497/ws/p2p/16Uiu2HAkwZrhsb1rdhzqQdqQ4tizKJXaUAm79Hu7BBgFx7VK19sD"],"enrUri":"enr:-L24QOlXsG2hujGGG6oASSPGi_jvud8Fx-BbqcRlaGf_Ojr3BDQlmTG0T7axBRmr0AtGr8jGskHcQVE7xCvGccNpiMwCgmlkgnY0gmlwhKwSxQ6KbXVsdGlhZGRyc5YACASsEsUOBo6QAAoErBLFDgaOkd0DgnJzhQACAQAAiXNlY3AyNTZrMaECH9Alz2qMxIHIVvRSZ_afrUgXgJA8-TCeUo9MiSqoQCCDdGNwgo6Qg3VkcIKOkoV3YWt1MgU"}'
2025-02-14 04:03:59.742 INFO [src.node.waku_node] REST service is ready !!
2025-02-14 04:03:59.748 DEBUG [src.node.docker_mananger] Docker client initialized with image wakuorg/nwaku:latest
2025-02-14 04:03:59.748 DEBUG [src.node.waku_node] WakuNode instance initialized with log path ./log/docker/node2_2025-02-14_04-03-58__d195103e-363e-4390-9a9a-cbddd6f46937__wakuorg_nwaku:latest.log
2025-02-14 04:03:59.748 DEBUG [src.node.waku_node] Starting Node...
2025-02-14 04:03:59.748 DEBUG [src.node.docker_mananger] Attempting to create or retrieve network waku
2025-02-14 04:03:59.750 DEBUG [src.node.docker_mananger] Network waku already exists
2025-02-14 04:03:59.750 DEBUG [src.node.docker_mananger] Generated random external IP 172.18.68.208
2025-02-14 04:03:59.750 DEBUG [src.node.docker_mananger] Generated ports ['44583', '44584', '44585', '44586', '44587']
2025-02-14 04:03:59.750 DEBUG [src.node.waku_node] RLN credentials were not set
2025-02-14 04:03:59.750 INFO [src.node.waku_node] RLN credentials not set or credential store not available, starting without RLN
2025-02-14 04:03:59.750 DEBUG [src.node.waku_node] Using volumes []
2025-02-14 04:03:59.750 DEBUG [src.node.docker_mananger] docker run -i -t -p 44583:44583 -p 44584:44584 -p 44585:44585 -p 44586:44586 -p 44587:44587 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=44585 --rest-port=44583 --tcp-port=44584 --discv5-udp-port=44586 --rest-address=0.0.0.0 --nat=extip:172.18.68.208 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=931b15fd855ccb99f037bafe5ec9b86c9ec2fe2e800bafdb401a8c6c0fc19a4f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=44587 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QOlXsG2hujGGG6oASSPGi_jvud8Fx-BbqcRlaGf_Ojr3BDQlmTG0T7axBRmr0AtGr8jGskHcQVE7xCvGccNpiMwCgmlkgnY0gmlwhKwSxQ6KbXVsdGlhZGRyc5YACASsEsUOBo6QAAoErBLFDgaOkd0DgnJzhQACAQAAiXNlY3AyNTZrMaECH9Alz2qMxIHIVvRSZ_afrUgXgJA8-TCeUo9MiSqoQCCDdGNwgo6Qg3VkcIKOkoV3YWt1MgU --pubsub-topic=/waku/2/rs/2/0
2025-02-14 04:03:59.981 DEBUG [src.node.docker_mananger] docker network connect --ip 172.18.68.208 waku 078276eca147b28acee5ce132dffc7032458a82955173196bbe341d0b90d3f17
2025-02-14 04:04:00.028 DEBUG [src.node.docker_mananger] Container started with ID 078276eca147. Setting up logs at ./log/docker/node2_2025-02-14_04-03-58__d195103e-363e-4390-9a9a-cbddd6f46937__wakuorg_nwaku:latest.log
2025-02-14 04:04:00.028 DEBUG [src.node.waku_node] Started container from image wakuorg/nwaku:latest. REST: 44583
2025-02-14 04:04:00.029 DEBUG [src.libs.common] Sleeping for 1 seconds
2025-02-14 04:04:01.031 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44583/health" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:04:01.037 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
2025-02-14 04:04:01.038 INFO [src.node.waku_node] Node protocols are initialized !!
2025-02-14 04:04:01.038 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44583/debug/v1/info" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:04:01.041 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.68.208/tcp/44584/p2p/16Uiu2HAm3VxRmphsKiJJmhm5m59KyT8cfRB7hK7YarYgfEhJUdFf","/ip4/172.18.68.208/tcp/44585/ws/p2p/16Uiu2HAm3VxRmphsKiJJmhm5m59KyT8cfRB7hK7YarYgfEhJUdFf"],"enrUri":"enr:-L24QBbgaiPkkKAXc0DGroQAouIFFGOlT06oFPafdj-MLT98FnJAL_5YsXDY01eQOK7VUcI9J6vCCQMyN5TJbZmGBaQCgmlkgnY0gmlwhKwSRNCKbXVsdGlhZGRyc5YACASsEkTQBq4oAAoErBJE0AauKd0DgnJzhQACAQAAiXNlY3AyNTZrMaECd_ZqmCRKc9h4ZIQP7-bhD3rW7FXXHiRS8uSyr1tmZuqDdGNwgq4og3VkcIKuKoV3YWt1MgE"}'
2025-02-14 04:04:01.042 INFO [src.node.waku_node] REST service is ready !!
2025-02-14 04:04:01.043 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44583/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.197.14/tcp/36496/p2p/16Uiu2HAkwZrhsb1rdhzqQdqQ4tizKJXaUAm79Hu7BBgFx7VK19sD"]'
2025-02-14 04:04:01.046 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:04:01.046 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:36495/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0"]'
2025-02-14 04:04:01.049 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:04:01.049 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44583/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/0"]'
2025-02-14 04:04:01.051 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:04:01.052 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:36495/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:04:01.057 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:04:01.058 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:04:01.158 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:04:01.158 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36495/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:04:01.161 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739505841051937280,"ephemeral":false}]'
2025-02-14 04:04:01.163 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:04:01.163 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44583/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F0" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:04:01.165 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739505841051937280,"ephemeral":false}]'
2025-02-14 04:04:01.167 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:36495/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/1"]'
2025-02-14 04:04:01.171 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:04:01.172 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44583/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/1"]'
2025-02-14 04:04:01.176 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:04:01.178 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:36495/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:04:01.183 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:04:01.183 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:04:01.284 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:04:01.284 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36495/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:04:01.287 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739505841178262272,"ephemeral":false}]'
2025-02-14 04:04:01.288 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:04:01.288 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44583/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F1" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:04:01.290 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739505841178262272,"ephemeral":false}]'
2025-02-14 04:04:01.292 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:36495/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/2"]'
2025-02-14 04:04:01.295 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:04:01.295 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44583/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/2"]'
2025-02-14 04:04:01.302 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:04:01.303 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:36495/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:04:01.309 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:04:01.309 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:04:01.410 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:04:01.410 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36495/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:04:01.412 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739505841303004160,"ephemeral":false}]'
2025-02-14 04:04:01.414 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:04:01.414 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44583/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F2" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:04:01.416 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739505841303004160,"ephemeral":false}]'
2025-02-14 04:04:01.418 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:36495/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/3"]'
2025-02-14 04:04:01.422 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:04:01.422 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44583/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/3"]'
2025-02-14 04:04:01.428 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:04:01.430 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:36495/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:04:01.435 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:04:01.435 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:04:01.536 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:04:01.536 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36495/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:04:01.539 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739505841430642688,"ephemeral":false}]'
2025-02-14 04:04:01.541 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:04:01.541 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44583/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F3" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:04:01.543 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739505841430642688,"ephemeral":false}]'
2025-02-14 04:04:01.545 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:36495/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/4"]'
2025-02-14 04:04:01.548 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:04:01.549 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44583/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/4"]'
2025-02-14 04:04:01.556 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:04:01.556 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:36495/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:04:01.561 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:04:01.562 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:04:01.662 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:04:01.662 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36495/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:04:01.665 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739505841556809216,"ephemeral":false}]'
2025-02-14 04:04:01.666 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:04:01.667 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44583/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F4" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:04:01.669 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739505841556809216,"ephemeral":false}]'
2025-02-14 04:04:01.670 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:36495/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/5"]'
2025-02-14 04:04:01.674 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:04:01.674 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44583/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/5"]'
2025-02-14 04:04:01.681 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:04:01.681 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:36495/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:04:01.687 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:04:01.688 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:04:01.788 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:04:01.789 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36495/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:04:01.791 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739505841681723904,"ephemeral":false}]'
2025-02-14 04:04:01.793 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:04:01.793 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44583/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F5" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:04:01.795 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739505841681723904,"ephemeral":false}]'
2025-02-14 04:04:01.796 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:36495/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/6"]'
2025-02-14 04:04:01.800 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:04:01.800 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44583/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/6"]'
2025-02-14 04:04:01.805 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:04:01.807 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:36495/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:04:01.812 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:04:01.813 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:04:01.913 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:04:01.914 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36495/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:04:01.916 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739505841807600640,"ephemeral":false}]'
2025-02-14 04:04:01.918 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:04:01.918 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44583/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F6" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:04:01.920 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739505841807600640,"ephemeral":false}]'
2025-02-14 04:04:01.922 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:36495/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/7"]'
2025-02-14 04:04:01.925 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:04:01.926 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:44583/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/2/7"]'
2025-02-14 04:04:01.931 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:04:01.932 INFO [src.node.api_clients.base_client] curl -v -X POST "http://127.0.0.1:36495/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
2025-02-14 04:04:01.939 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'OK'
2025-02-14 04:04:01.940 DEBUG [src.libs.common] Sleeping for 0.1 seconds
2025-02-14 04:04:02.040 DEBUG [src.steps.sharding] Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
2025-02-14 04:04:02.041 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:36495/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:04:02.043 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739505841932723712,"ephemeral":false}]'
2025-02-14 04:04:02.044 DEBUG [src.steps.sharding] Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
2025-02-14 04:04:02.045 INFO [src.node.api_clients.base_client] curl -v -X GET "http://127.0.0.1:44583/relay/v1/messages/%2Fwaku%2F2%2Frs%2F2%2F7" -H "Content-Type: application/json" -d 'None'
2025-02-14 04:04:02.047 INFO [src.node.api_clients.base_client] Response status code: 200. Response content: b'[{"payload":"U2hhcmRpbmcgd29ya3MhIQ==","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1739505841932723712,"ephemeral":false}]'
2025-02-14 04:04:02.049 DEBUG [tests.conftest] Running fixture teardown: test_setup
2025-02-14 04:04:02.050 DEBUG [tests.conftest] Running fixture teardown: close_open_nodes
2025-02-14 04:04:02.050 DEBUG [src.node.waku_node] Stopping container with id d84147f1ff30
2025-02-14 04:04:03.237 DEBUG [src.node.waku_node] Container stopped.
2025-02-14 04:04:03.237 DEBUG [src.node.waku_node] Stopping container with id 078276eca147
2025-02-14 04:04:04.050 ERROR [src.node.docker_mananger] Max retries reached for container d84147f1ff30. Exiting log stream.
2025-02-14 04:04:04.746 DEBUG [src.node.waku_node] Container stopped.
2025-02-14 04:04:04.747 DEBUG [tests.conftest] Running fixture teardown: check_waku_log_errors
2025-02-14 04:04:04.758 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
2025-02-14 04:04:04.767 DEBUG [src.node.docker_mananger] No errors found in the waku logs.
