{"uid":"ca149768c15bae8e","name":"test_node_uses_both_auto_and_regular_apis","fullName":"tests.sharding.test_running_nodes_auto_sharding.TestRunningNodesAutosharding#test_node_uses_both_auto_and_regular_apis","historyId":"4e36e75de381aaa4100fd05dcfeeef37","time":{"start":1739505934983,"stop":1739505937832,"duration":2849},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"set_allure_env_variables","time":{"start":1739505732735,"stop":1739505732735,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes","time":{"start":1739505934981,"stop":1739505934982,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail","time":{"start":1739505934981,"stop":1739505934981,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"check_waku_log_errors","time":{"start":1739505934981,"stop":1739505934981,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"common_setup","time":{"start":1739505934982,"stop":1739505934982,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_id","time":{"start":1739505934982,"stop":1739505934982,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"relay_setup","time":{"start":1739505934982,"stop":1739505934983,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_setup","time":{"start":1739505934982,"stop":1739505934982,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"sharding_setup","time":{"start":1739505934983,"stop":1739505934983,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[{"name":"setup_main_relay_nodes","time":{"start":1739505934983,"stop":1739505937589,"duration":2606},"status":"passed","steps":[{"name":"setup_first_relay_node_with_filter","time":{"start":1739505934983,"stop":1739505936274,"duration":1291},"status":"passed","steps":[{"name":"setup_first_relay_node","time":{"start":1739505934984,"stop":1739505936274,"duration":1290},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"filter","value":"'true'"},{"name":"cluster_id","value":"2"},{"name":"pubsub_topic","value":"'/waku/2/rs/2/0'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"cluster_id","value":"2"},{"name":"pubsub_topic","value":"'/waku/2/rs/2/0'"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"setup_second_relay_node","time":{"start":1739505936275,"stop":1739505937589,"duration":1314},"status":"passed","steps":[{"name":"add_node_peer","time":{"start":1739505937585,"stop":1739505937589,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.sharding.test_running_nodes_auto_sharding.TestRunningNodesAutosharding object at 0x7f4709c1a330>, <src.node.waku_node.WakuNode object at 0x7f4709846600>, ['/ip4/172.18.25.232/tcp/21291/p2p/16Uiu2HAkw3mSFyevGTxdDhiL2Wnc2yBRQx2xhNiXWodH4Hu3GYjW'])"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"cluster_id","value":"2"},{"name":"pubsub_topic","value":"'/waku/2/rs/2/0'"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"cluster_id","value":"2"},{"name":"pubsub_topic","value":"'/waku/2/rs/2/0'"}],"shouldDisplayMessage":false,"stepsCount":4,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"subscribe_main_relay_nodes","time":{"start":1739505937589,"stop":1739505937599,"duration":10},"status":"passed","steps":[{"name":"subscribe_relay_node","time":{"start":1739505937589,"stop":1739505937594,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f470988ff80>"},{"name":"content_topics","value":"['/toychat/2/huilong/proto']"},{"name":"pubsub_topics","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"subscribe_relay_node","time":{"start":1739505937594,"stop":1739505937599,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f4709846600>"},{"name":"content_topics","value":"['/toychat/2/huilong/proto']"},{"name":"pubsub_topics","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"content_topics","value":"['/toychat/2/huilong/proto']"},{"name":"pubsub_topics","value":"None"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_published_message_reaches_relay_peer","time":{"start":1739505937599,"stop":1739505937714,"duration":115},"status":"passed","steps":[{"name":"create_message","time":{"start":1739505937599,"stop":1739505937599,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"contentTopic","value":"'/toychat/2/huilong/proto'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"relay_message","time":{"start":1739505937600,"stop":1739505937605,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f470988ff80>"},{"name":"message","value":"{'payload': 'U2hhcmRpbmcgd29ya3MhIQ==', 'contentTopic': '/toychat/2/huilong/proto', 'timestamp': 1739505937599438336}"},{"name":"pubsub_topic","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"retrieve_relay_message","time":{"start":1739505937706,"stop":1739505937709,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f470988ff80>"},{"name":"content_topic","value":"'/toychat/2/huilong/proto'"},{"name":"pubsub_topic","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1739505937710,"stop":1739505937710,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'U2hhcmRpbmcgd29ya3MhIQ==', 'contentTopic': '/toychat/2/huilong/proto', 'timestamp': 1739505937599438336}"},{"name":"index","value":"0"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"retrieve_relay_message","time":{"start":1739505937710,"stop":1739505937713,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f4709846600>"},{"name":"content_topic","value":"'/toychat/2/huilong/proto'"},{"name":"pubsub_topic","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1739505937714,"stop":1739505937714,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'U2hhcmRpbmcgd29ya3MhIQ==', 'contentTopic': '/toychat/2/huilong/proto', 'timestamp': 1739505937599438336}"},{"name":"index","value":"0"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"content_topic","value":"'/toychat/2/huilong/proto'"},{"name":"pubsub_topic","value":"None"},{"name":"sender","value":"None"},{"name":"peer_list","value":"None"}],"shouldDisplayMessage":false,"stepsCount":6,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"subscribe_main_relay_nodes","time":{"start":1739505937714,"stop":1739505937719,"duration":5},"status":"passed","steps":[{"name":"subscribe_relay_node","time":{"start":1739505937714,"stop":1739505937716,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f470988ff80>"},{"name":"content_topics","value":"None"},{"name":"pubsub_topics","value":"['/waku/2/rs/2/0']"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"subscribe_relay_node","time":{"start":1739505937717,"stop":1739505937719,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f4709846600>"},{"name":"content_topics","value":"None"},{"name":"pubsub_topics","value":"['/waku/2/rs/2/0']"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"content_topics","value":"None"},{"name":"pubsub_topics","value":"['/waku/2/rs/2/0']"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"check_published_message_reaches_relay_peer","time":{"start":1739505937719,"stop":1739505937832,"duration":113},"status":"passed","steps":[{"name":"create_message","time":{"start":1739505937719,"stop":1739505937719,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"relay_message","time":{"start":1739505937719,"stop":1739505937724,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f470988ff80>"},{"name":"message","value":"{'payload': 'U2hhcmRpbmcgd29ya3MhIQ==', 'contentTopic': '/myapp/1/latest/proto', 'timestamp': 1739505937719302144}"},{"name":"pubsub_topic","value":"'/waku/2/rs/2/0'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"retrieve_relay_message","time":{"start":1739505937824,"stop":1739505937827,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f470988ff80>"},{"name":"content_topic","value":"None"},{"name":"pubsub_topic","value":"'/waku/2/rs/2/0'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1739505937828,"stop":1739505937828,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'U2hhcmRpbmcgd29ya3MhIQ==', 'contentTopic': '/myapp/1/latest/proto', 'timestamp': 1739505937719302144}"},{"name":"index","value":"0"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"retrieve_relay_message","time":{"start":1739505937828,"stop":1739505937831,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7f4709846600>"},{"name":"content_topic","value":"None"},{"name":"pubsub_topic","value":"'/waku/2/rs/2/0'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"assert_received_message","time":{"start":1739505937832,"stop":1739505937832,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"sent_message","value":"{'payload': 'U2hhcmRpbmcgd29ya3MhIQ==', 'contentTopic': '/myapp/1/latest/proto', 'timestamp': 1739505937719302144}"},{"name":"index","value":"0"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"content_topic","value":"None"},{"name":"pubsub_topic","value":"'/waku/2/rs/2/0'"},{"name":"sender","value":"None"},{"name":"peer_list","value":"None"}],"shouldDisplayMessage":false,"stepsCount":6,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"8cb94b2858103933","name":"log","source":"8cb94b2858103933.txt","type":"text/plain","size":14299},{"uid":"f209f436107c5008","name":"stderr","source":"f209f436107c5008.txt","type":"text/plain","size":13907}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":25,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"test_setup::0","time":{"start":1739505937833,"stop":1739505937834,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes::0","time":{"start":1739505937834,"stop":1739505940213,"duration":2379},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"check_waku_log_errors::0","time":{"start":1739505940215,"stop":1739505940226,"duration":11},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail::0","time":{"start":1739505940226,"stop":1739505940226,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"set_allure_env_variables::0","time":{"start":1739506160241,"stop":1739506160241,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"@pytest.mark.skipif(False, reason='Autosharding tests work only on nwaku because of https://github.com/waku-org/go-waku/issues/1061')"},{"name":"parentSuite","value":"tests.sharding"},{"name":"suite","value":"test_running_nodes_auto_sharding"},{"name":"subSuite","value":"TestRunningNodesAutosharding"},{"name":"host","value":"fv-az798-97"},{"name":"thread","value":"1931-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.sharding.test_running_nodes_auto_sharding"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":0,"passed":16,"unknown":0,"total":16},"items":[{"uid":"5505b76e30f53989","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/650//#testresult/5505b76e30f53989","status":"passed","time":{"start":1739419602757,"stop":1739419605645,"duration":2888}},{"uid":"95bf560a1e397b9","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/649//#testresult/95bf560a1e397b9","status":"passed","time":{"start":1739333141044,"stop":1739333143891,"duration":2847}},{"uid":"fb116150d79577f1","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/648//#testresult/fb116150d79577f1","status":"passed","time":{"start":1739286356228,"stop":1739286359090,"duration":2862}},{"uid":"f45c7c4620b850ad","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/647//#testresult/f45c7c4620b850ad","status":"passed","time":{"start":1739246735603,"stop":1739246738455,"duration":2852}},{"uid":"4d8a487a97557c38","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/646//#testresult/4d8a487a97557c38","status":"passed","time":{"start":1739160393332,"stop":1739160396178,"duration":2846}},{"uid":"3239a41567fe49e7","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/645//#testresult/3239a41567fe49e7","status":"passed","time":{"start":1739074004722,"stop":1739074007578,"duration":2856}},{"uid":"7622ef569db7744c","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/644//#testresult/7622ef569db7744c","status":"passed","time":{"start":1738987573559,"stop":1738987576404,"duration":2845}},{"uid":"8038b383ea4a94bd","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/643//#testresult/8038b383ea4a94bd","status":"passed","time":{"start":1738901146686,"stop":1738901149523,"duration":2837}},{"uid":"d6143c45efb9d88f","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/642//#testresult/d6143c45efb9d88f","status":"passed","time":{"start":1738814740784,"stop":1738814743621,"duration":2837}},{"uid":"b0b47e03d6ffae45","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/641//#testresult/b0b47e03d6ffae45","status":"passed","time":{"start":1738728389232,"stop":1738728392101,"duration":2869}},{"uid":"f883260c049fe54d","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/640//#testresult/f883260c049fe54d","status":"passed","time":{"start":1738689173511,"stop":1738689176355,"duration":2844}},{"uid":"2aa9778487068b61","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/639//#testresult/2aa9778487068b61","status":"passed","time":{"start":1738641929312,"stop":1738641932153,"duration":2841}},{"uid":"98bba8e6b99e894","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/638//#testresult/98bba8e6b99e894","status":"passed","time":{"start":1738555546348,"stop":1738555549254,"duration":2906}},{"uid":"c0df27112f4cbc83","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/637//#testresult/c0df27112f4cbc83","status":"passed","time":{"start":1738469135577,"stop":1738469138434,"duration":2857}},{"uid":"425fa6aa5d4d2ba0","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/636//#testresult/425fa6aa5d4d2ba0","status":"passed","time":{"start":1738382749360,"stop":1738382752242,"duration":2882}}]},"tags":["@pytest.mark.skipif(False, reason='Autosharding tests work only on nwaku because of https://github.com/waku-org/go-waku/issues/1061')"]},"source":"ca149768c15bae8e.json","parameterValues":[]}