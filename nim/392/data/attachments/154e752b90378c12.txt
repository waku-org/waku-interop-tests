[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_publish_on_not_subscribed_content_topic_works with id: 2024-10-15_04-25-02__c30c2ef3-92a7-4ff6-ba78-4a186fb8475b
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.sharding:sharding.py:29 Running fixture setup: sharding_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-10-15_04-25-02__c30c2ef3-92a7-4ff6-ba78-4a186fb8475b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.97.40
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['57739', '57740', '57741', '57742', '57743']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 57739:57739 -p 57740:57740 -p 57741:57741 -p 57742:57742 -p 57743:57743 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=57741 --rest-port=57739 --tcp-port=57740 --discv5-udp-port=57742 --rest-address=0.0.0.0 --nat=extip:172.18.97.40 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=88f6dcd9bf5a4dbc893739d84e94d2057df0caa04ff21eb6bcaf6a507e8adc6f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=57743 --metrics-logging=true --relay=true --filter=true --content-topic=/myapp/1/latest/proto
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.97.40 waku 394d8e9f9b926eb330c254f5960ff334ad66636d829fa6f8870dcfa818f9e3d7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 394d8e9f9b92. Setting up logs at ./log/docker/node1_2024-10-15_04-25-02__c30c2ef3-92a7-4ff6-ba78-4a186fb8475b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 57739
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57739/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57739/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.97.40/tcp/57740/p2p/16Uiu2HAmAPeD2yjwxkfd1pgXMtmxN4VFuG9ZEzruo6rn4517qBan","/ip4/172.18.97.40/tcp/57741/ws/p2p/16Uiu2HAmAPeD2yjwxkfd1pgXMtmxN4VFuG9ZEzruo6rn4517qBan"],"enrUri":"enr:-LO4QO_ca8-0z2RkWC3bhGXpcfIGNUzGOVhR_UMuZ5COksCJRdgtLku_Jz4XOPqvTn1hIFGSWJe7dB3BNSGm3fOioXUBgmlkgnY0gmlwhKwSYSiKbXVsdGlhZGRyc4wACgSsEmEoBuGN3QOCcnOFAAIBAACJc2VjcDI1NmsxoQLeWiOWI-wlDo-xUCl6vIXYcF-fCEC-C0xDHgIBF6bEb4N0Y3CC4YyDdWRwguGOhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-10-15_04-25-02__c30c2ef3-92a7-4ff6-ba78-4a186fb8475b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.7.39
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['5422', '5423', '5424', '5425', '5426']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 5422:5422 -p 5423:5423 -p 5424:5424 -p 5425:5425 -p 5426:5426 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=5424 --rest-port=5422 --tcp-port=5423 --discv5-udp-port=5425 --rest-address=0.0.0.0 --nat=extip:172.18.7.39 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=42c1bc2c9befa2a3411fde2396e958ec6cfa5146407a9212dfbae895e58d8eb3 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=5426 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QO_ca8-0z2RkWC3bhGXpcfIGNUzGOVhR_UMuZ5COksCJRdgtLku_Jz4XOPqvTn1hIFGSWJe7dB3BNSGm3fOioXUBgmlkgnY0gmlwhKwSYSiKbXVsdGlhZGRyc4wACgSsEmEoBuGN3QOCcnOFAAIBAACJc2VjcDI1NmsxoQLeWiOWI-wlDo-xUCl6vIXYcF-fCEC-C0xDHgIBF6bEb4N0Y3CC4YyDdWRwguGOhXdha3UyBQ --content-topic=/myapp/1/latest/proto
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.7.39 waku 61f0660a1047f5271f3474e54428b043037e4d8ef76f2a22c48efb737873fd2d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 61f0660a1047. Setting up logs at ./log/docker/node2_2024-10-15_04-25-02__c30c2ef3-92a7-4ff6-ba78-4a186fb8475b__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 5422
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5422/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5422/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.7.39/tcp/5423/p2p/16Uiu2HAm17ypFdVcAvyQiCDzKTSoZWBB8DgjbpUk8wZc2hW3nzvk","/ip4/172.18.7.39/tcp/5424/ws/p2p/16Uiu2HAm17ypFdVcAvyQiCDzKTSoZWBB8DgjbpUk8wZc2hW3nzvk"],"enrUri":"enr:-LO4QARnOZU2ILPbImbrd-pneuZ6RpatBk2ZPMVmY8tUWkjGWf39eJN9qvdn9hvInhEP0ORNHMNen_Pk2u66qOdj_SsBgmlkgnY0gmlwhKwSByeKbXVsdGlhZGRyc4wACgSsEgcnBhUw3QOCcnOFAAIBAACJc2VjcDI1NmsxoQJUndVrV9lruliSAqKez_536HxehPSVf2nSVdmL5EZG-YN0Y3CCFS-DdWRwghUxhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5422/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.97.40/tcp/57740/p2p/16Uiu2HAmAPeD2yjwxkfd1pgXMtmxN4VFuG9ZEzruo6rn4517qBan"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57739/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5422/relay/v1/auto/subscriptions" -H "Content-Type: application/json" -d '["/myapp/1/latest/proto"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57739/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5422/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/toychat/2/huilong/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 394d8e9f9b92
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 61f0660a1047
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.