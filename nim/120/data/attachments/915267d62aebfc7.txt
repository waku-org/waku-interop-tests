[35mDEBUG   [0m tests.conftest:conftest.py:43 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:49 Running test: test_filter_unsubscribe_with_content_topic_string_instead_of_list with id: 2024-03-29_14-02-39__5a444efe-6d00-4bac-a006-60713fdbe6b9
[35mDEBUG   [0m src.steps.filter:filter.py:27 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:33 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:50 WakuNode instance initialized with log path ./log/docker/node1_2024-03-29_14-02-39__5a444efe-6d00-4bac-a006-60713fdbe6b9__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:54 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.75.96
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['32319', '32320', '32321', '32322', '32323']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:294 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:115 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 32319:32319 -p 32320:32320 -p 32321:32321 -p 32322:32322 -p 32323:32323 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=32321 --rest-port=32319 --tcp-port=32320 --discv5-udp-port=32322 --rest-address=0.0.0.0 --nat=extip:172.18.75.96 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=32323 --metrics-logging=true --relay=true --filter=true --nodekey=30348dd51465150e04a5d9d932c72864c8967f806cce60b5d26afeca1e77eb68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.75.96 waku dcc8958885d37195449b47f2d91c1403ceba9ded0b37ce71954dcfbc89257712
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID dcc8958885d3. Setting up logs at ./log/docker/node1_2024-03-29_14-02-39__5a444efe-6d00-4bac-a006-60713fdbe6b9__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:121 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 32319
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X GET "http://127.0.0.1:32319/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:23 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.75.96/tcp/32320/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip","/ip4/172.18.75.96/tcp/32321/ws/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip"],"enrUri":"enr:-LG4QFANIvG11Sb6cpP6M5Z4DXq9H73nktptaY7E4Bn3gRvicuBjD3NuOlicgxPCCghfuTtr7krxYOazOr0dKOvHb_EBgmlkgnY0gmlwhKwSS2CKbXVsdGlhZGRyc4wACgSsEktgBn5B3QOCcnODAAAAiXNlY3AyNTZrMaEDN06qX-XhZ-Cc7ZuIAdGNCVUicscmbFvEEfkFOQ2W_j2DdGNwgn5Ag3VkcIJ-QoV3YWt1MgU"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:191 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:38 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:17 Docker client initialized with image harbor.status.im/wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:50 WakuNode instance initialized with log path ./log/docker/node2_2024-03-29_14-02-39__5a444efe-6d00-4bac-a006-60713fdbe6b9__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:54 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:20 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:23 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:80 Generated random external IP 172.18.40.115
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:73 Generated ports ['29753', '29754', '29755', '29756', '29757']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:294 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:115 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:47 docker run -i -t -p 29753:29753 -p 29754:29754 -p 29755:29755 -p 29756:29756 -p 29757:29757 harbor.status.im/wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=29755 --rest-port=29753 --tcp-port=29754 --discv5-udp-port=29756 --rest-address=0.0.0.0 --nat=extip:172.18.40.115 --peer-exchange=true --discv5-discovery=true --cluster-id=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=29757 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LG4QFANIvG11Sb6cpP6M5Z4DXq9H73nktptaY7E4Bn3gRvicuBjD3NuOlicgxPCCghfuTtr7krxYOazOr0dKOvHb_EBgmlkgnY0gmlwhKwSS2CKbXVsdGlhZGRyc4wACgSsEktgBn5B3QOCcnODAAAAiXNlY3AyNTZrMaEDN06qX-XhZ-Cc7ZuIAdGNCVUicscmbFvEEfkFOQ2W_j2DdGNwgn5Ag3VkcIJ-QoV3YWt1MgU --filternode=/ip4/172.18.75.96/tcp/32320/p2p/16Uiu2HAmGNtM2rQ8abySFNhqPDFY4cmfAEpfo9Z9fD3NekoFR2ip
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:53 docker network connect --ip 172.18.40.115 waku 6f6a0d0234cfbddd201fdd50dd2a739cd964cd4d96585a3e5eb26bf8788593f0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:56 Container started with ID 6f6a0d0234cf. Setting up logs at ./log/docker/node2_2024-03-29_14-02-39__5a444efe-6d00-4bac-a006-60713fdbe6b9__harbor.status.im_wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:121 Started container from image harbor.status.im/wakuorg/nwaku:latest. REST: 29753
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X GET "http://127.0.0.1:29753/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:23 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.40.115/tcp/29754/p2p/16Uiu2HAmHrzFDBsPcyGAGUFNePABCZGdKe7pFxojNf8E17iM8kAz","/ip4/172.18.40.115/tcp/29755/ws/p2p/16Uiu2HAmHrzFDBsPcyGAGUFNePABCZGdKe7pFxojNf8E17iM8kAz"],"enrUri":"enr:-LG4QKqm0Ydm91A3hZMi9eBXynzmxKx0ijuOg2Vgup4B8DxAT7onQF74B1YG0NLjSt7XnVwJx6OlIDiPTjLiA8z6mQABgmlkgnY0gmlwhKwSKHOKbXVsdGlhZGRyc4wACgSsEihzBnQ73QOCcnODAAAAiXNlY3AyNTZrMaEDTV1JLFJt2_cdVF7EyjipF7eYLA8tr1ZE5TiiSOH0UseDdGNwgnQ6g3VkcIJ0PIV3YWt1MgA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:191 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:45 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X POST "http://127.0.0.1:32319/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/0/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:23 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X POST "http://127.0.0.1:29753/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "4af1df99-ce51-4fb3-80be-3b4c322a16e2", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/0/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:23 Response status code: 200. Response content: b'{"requestId":"4af1df99-ce51-4fb3-80be-3b4c322a16e2","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:38 curl -v -X DELETE "http://127.0.0.1:29753/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "1", "contentFilters": "/test/1/waku-filter/proto", "pubsubTopic": "/waku/2/rs/0/1"}'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:17 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:29753/filter/v2/subscriptions. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data\\", contentType: \\"text/plain\\"))"}'
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:75 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:168 Stopping container with id dcc8958885d3
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:168 Stopping container with id 6f6a0d0234cf
[35mDEBUG   [0m src.node.waku_node:waku_node.py:171 Container stopped.