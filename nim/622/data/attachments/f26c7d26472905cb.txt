[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_store_with_non_base64_characters_in_hash with id: 2025-01-20_04-09-59__19c64253-5437-451e-a578-2f7cd717ad3a
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-01-20_04-09-59__19c64253-5437-451e-a578-2f7cd717ad3a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.175.174
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['15587', '15588', '15589', '15590', '15591']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 15587:15587 -p 15588:15588 -p 15589:15589 -p 15590:15590 -p 15591:15591 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=15589 --rest-port=15587 --tcp-port=15588 --discv5-udp-port=15590 --rest-address=0.0.0.0 --nat=extip:172.18.175.174 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3bcdb6bc6c1f5e801ba8dde73da2acc9c4cf9d2fee74c3ea58ae2e1eaff68cbc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=15591 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.175.174 waku 05d16d7a8cecb9e48ecdcd59469b53c2a44f4e6c10a7aee6e8b9540196000dd5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 05d16d7a8cec. Setting up logs at ./log/docker/publishing_node1_2025-01-20_04-09-59__19c64253-5437-451e-a578-2f7cd717ad3a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 15587
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container b0457ecd8c8e. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15587/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15587/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.175.174/tcp/15588/p2p/16Uiu2HAm1FEA5QdUjPiu9ZWwyeRqaEwrJ2Q4FB2pCM7sSBvuNSMp","/ip4/172.18.175.174/tcp/15589/ws/p2p/16Uiu2HAm1FEA5QdUjPiu9ZWwyeRqaEwrJ2Q4FB2pCM7sSBvuNSMp"],"enrUri":"enr:-L24QNkgvblX-wODfaHQpx-syuZmq2Iz80dP6OsLJEdnDJpebwuh6dEvRPqDdW_9npgG3I0p2VzGNPCzuYNOZhjdHywCgmlkgnY0gmlwhKwSr66KbXVsdGlhZGRyc5YACASsEq-uBjzkAAoErBKvrgY85d0DgnJzhQADAQAAiXNlY3AyNTZrMaECVnkdmuzqJjLxUdd8HSPCYzRoKmaquGXGcWpENm6hHuODdGNwgjzkg3VkcII85oV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2025-01-20_04-09-59__19c64253-5437-451e-a578-2f7cd717ad3a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.68.180
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['64733', '64734', '64735', '64736', '64737']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 64733:64733 -p 64734:64734 -p 64735:64735 -p 64736:64736 -p 64737:64737 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=64735 --rest-port=64733 --tcp-port=64734 --discv5-udp-port=64736 --rest-address=0.0.0.0 --nat=extip:172.18.68.180 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=da033f86d3d8ec7dab561067605cfddb4aaebbeee95fbfc1ec9bb8dbf03bbefe --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=64737 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QNkgvblX-wODfaHQpx-syuZmq2Iz80dP6OsLJEdnDJpebwuh6dEvRPqDdW_9npgG3I0p2VzGNPCzuYNOZhjdHywCgmlkgnY0gmlwhKwSr66KbXVsdGlhZGRyc5YACASsEq-uBjzkAAoErBKvrgY85d0DgnJzhQADAQAAiXNlY3AyNTZrMaECVnkdmuzqJjLxUdd8HSPCYzRoKmaquGXGcWpENm6hHuODdGNwgjzkg3VkcII85oV3YWt1MgM --storenode=/ip4/172.18.175.174/tcp/15588/p2p/16Uiu2HAm1FEA5QdUjPiu9ZWwyeRqaEwrJ2Q4FB2pCM7sSBvuNSMp --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.68.180 waku ef636906311b7bb721e5a2c08410d3be12e70bdb0510ebaf6c5ab3bb2b17ba77
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID ef636906311b. Setting up logs at ./log/docker/store_node1_2025-01-20_04-09-59__19c64253-5437-451e-a578-2f7cd717ad3a__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 64733
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64733/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64733/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.68.180/tcp/64734/p2p/16Uiu2HAmErfU3zG4Y6VwwAuWGVMcas8pn2ARSBhZZpz6QtdU2nkH","/ip4/172.18.68.180/tcp/64735/ws/p2p/16Uiu2HAmErfU3zG4Y6VwwAuWGVMcas8pn2ARSBhZZpz6QtdU2nkH"],"enrUri":"enr:-L24QI-7O03VB41AeEUYwPnPHI8r2ZcchRl2MBZKcgO3vI4yCioUwOcw_JbaAUoeibSI4Boz9nP-Mft43-xYkNPC78ICgmlkgnY0gmlwhKwSRLSKbXVsdGlhZGRyc5YACASsEkS0BvzeAAoErBJEtAb8390DgnJzhQADAQAAiXNlY3AyNTZrMaEDILT99W46x2T3ZgVNtpg8JqSIUkBWEweBR18SfBdyebqDdGNwgvzeg3VkcIL84IV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:64733/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.175.174/tcp/15588/p2p/16Uiu2HAm1FEA5QdUjPiu9ZWwyeRqaEwrJ2Q4FB2pCM7sSBvuNSMp"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15587/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:64733/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15587/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8w", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15587/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8x", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15587/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8y", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:15587/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8z", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:15587/store/v3/messages?hashes=%23%23%23INVALID%23%23%23&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:15587/store/v3/messages?hashes=%23%23%23INVALID%23%23%23&pageSize=50&ascending=true. Response content: b'waku message hash parsing error: Incorrect base64 string'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:64733/store/v3/messages?hashes=%23%23%23INVALID%23%23%23&pageSize=50&ascending=true" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:64733/store/v3/messages?hashes=%23%23%23INVALID%23%23%23&pageSize=50&ascending=true. Response content: b'waku message hash parsing error: Incorrect base64 string'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 05d16d7a8cec
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id ef636906311b
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 05d16d7a8cec. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.