[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_get_store_messages_with_wrong_typo_content_topic with id: 2025-01-20_04-03-58__fcf87053-5bc6-489f-8d7c-a57cf3d87e98
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-01-20_04-03-58__fcf87053-5bc6-489f-8d7c-a57cf3d87e98__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.250.221
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['37943', '37944', '37945', '37946', '37947']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 37943:37943 -p 37944:37944 -p 37945:37945 -p 37946:37946 -p 37947:37947 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=37945 --rest-port=37943 --tcp-port=37944 --discv5-udp-port=37946 --rest-address=0.0.0.0 --nat=extip:172.18.250.221 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c3fad7f8ff266c403d29eda0b6bebad52c0ef7c2c80ab8a142ca350eddd0bdd2 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=37947 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.250.221 waku 9df60554bf89402c79f61ee075ae25021a8126c90089ef6df146a9c2855b38cf
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 9df60554bf89. Setting up logs at ./log/docker/publishing_node1_2025-01-20_04-03-58__fcf87053-5bc6-489f-8d7c-a57cf3d87e98__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 37943
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 170f08e05406. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37943/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:37943/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.250.221/tcp/37944/p2p/16Uiu2HAmUp5dwgweAGB72kdc1fuM22RNg98DoLAHiiYdvbBXMXJK","/ip4/172.18.250.221/tcp/37945/ws/p2p/16Uiu2HAmUp5dwgweAGB72kdc1fuM22RNg98DoLAHiiYdvbBXMXJK"],"enrUri":"enr:-L24QBt2deNi9hMU4eJsu6GU_RNimsGYls3gylxcXscsh1d5J2RSo8Og5Wr1dyDkQoYCEZbefnVKAstNljNY3GkQ010CgmlkgnY0gmlwhKwS-t2KbXVsdGlhZGRyc5YACASsEvrdBpQ4AAoErBL63QaUOd0DgnJzhQADAQAAiXNlY3AyNTZrMaED8A8yP9EvEVHtifAwnj8ZqsuP7x3qQ6O_yDiU6Kg5UGSDdGNwgpQ4g3VkcIKUOoV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2025-01-20_04-03-58__fcf87053-5bc6-489f-8d7c-a57cf3d87e98__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.148.141
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['24315', '24316', '24317', '24318', '24319']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 24315:24315 -p 24316:24316 -p 24317:24317 -p 24318:24318 -p 24319:24319 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=24317 --rest-port=24315 --tcp-port=24316 --discv5-udp-port=24318 --rest-address=0.0.0.0 --nat=extip:172.18.148.141 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b02ec46f69dc3b65c1ae571616d6f0fa72beed5fd1c464c92b9ef5a22105d6be --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=24319 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QBt2deNi9hMU4eJsu6GU_RNimsGYls3gylxcXscsh1d5J2RSo8Og5Wr1dyDkQoYCEZbefnVKAstNljNY3GkQ010CgmlkgnY0gmlwhKwS-t2KbXVsdGlhZGRyc5YACASsEvrdBpQ4AAoErBL63QaUOd0DgnJzhQADAQAAiXNlY3AyNTZrMaED8A8yP9EvEVHtifAwnj8ZqsuP7x3qQ6O_yDiU6Kg5UGSDdGNwgpQ4g3VkcIKUOoV3YWt1MgM --storenode=/ip4/172.18.250.221/tcp/37944/p2p/16Uiu2HAmUp5dwgweAGB72kdc1fuM22RNg98DoLAHiiYdvbBXMXJK --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.148.141 waku bdcc66ffa5a2cf34afa3f130614255ffca3b671e9bcc04cf112aa66bf5d9bdaf
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID bdcc66ffa5a2. Setting up logs at ./log/docker/store_node1_2025-01-20_04-03-58__fcf87053-5bc6-489f-8d7c-a57cf3d87e98__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 24315
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24315/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24315/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.148.141/tcp/24316/p2p/16Uiu2HAmMTVxgeh7LB3o4bY35yAGVHUwb5RGeezE8aYN4LpK3FJh","/ip4/172.18.148.141/tcp/24317/ws/p2p/16Uiu2HAmMTVxgeh7LB3o4bY35yAGVHUwb5RGeezE8aYN4LpK3FJh"],"enrUri":"enr:-L24QH5PgBQQ8UYwz8vf12QjknZ0kev7_sV-ACI80aFHliO7d_YmfC-NaguBoPFVNqXD_ZvBCQLHhrFwUsBdv0uX1SkCgmlkgnY0gmlwhKwSlI2KbXVsdGlhZGRyc5YACASsEpSNBl78AAoErBKUjQZe_d0DgnJzhQADAQAAiXNlY3AyNTZrMaEDgsexa3N99HTHX--KFhB2LwDiN5bVqQqSS6E3_C2f8QqDdGNwgl78g3VkcIJe_oV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24315/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.250.221/tcp/37944/p2p/16Uiu2HAmUp5dwgweAGB72kdc1fuM22RNg98DoLAHiiYdvbBXMXJK"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:37943/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24315/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m tests.store.test_api_flags:test_api_flags.py:75 Trying to publish msg with content topic /myapp/1/latest/protoo
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:37943/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/protoo", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24315/store/v3/messages?includeData=true&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fprotoo&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[]}'
[35mDEBUG   [0m tests.store.test_api_flags:test_api_flags.py:81 stored content topic is None
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 9df60554bf89
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id bdcc66ffa5a2
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 9df60554bf89. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/publishing_node1_2025-01-20_04-03-58__fcf87053-5bc6-489f-8d7c-a57cf3d87e98__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/store_node1_2025-01-20_04-03-58__fcf87053-5bc6-489f-8d7c-a57cf3d87e98__wakuorg_nwaku:latest.log
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_get_store_messages_with_wrong_typo_content_topic with id: 2025-01-20_04-04-04__5475bd7f-d7a1-4ffb-8dc5-c7c10089f76f
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-01-20_04-04-04__5475bd7f-d7a1-4ffb-8dc5-c7c10089f76f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.243.136
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['61663', '61664', '61665', '61666', '61667']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 61663:61663 -p 61664:61664 -p 61665:61665 -p 61666:61666 -p 61667:61667 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=61665 --rest-port=61663 --tcp-port=61664 --discv5-udp-port=61666 --rest-address=0.0.0.0 --nat=extip:172.18.243.136 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=cf954aafb967a5cd9ed3e35aee58b2bc406c1cc619b235ca50fc3feab0f344bc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=61667 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.243.136 waku c155afed66f9852b5091e2c4ce001d62b8daed17401c32f76838328378ac76f8
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID c155afed66f9. Setting up logs at ./log/docker/publishing_node1_2025-01-20_04-04-04__5475bd7f-d7a1-4ffb-8dc5-c7c10089f76f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 61663
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container bdcc66ffa5a2. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61663/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61663/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.243.136/tcp/61664/p2p/16Uiu2HAmP5AaDR3WTu3WPxvJxzazkXhUd5WmT9NoVNYP5Ro47oxd","/ip4/172.18.243.136/tcp/61665/ws/p2p/16Uiu2HAmP5AaDR3WTu3WPxvJxzazkXhUd5WmT9NoVNYP5Ro47oxd"],"enrUri":"enr:-L24QOBuCKQMbu3Bb3m-vsUNXnl9uUNWoFmjEwOa2vxBmpsrcgXOulPAanS9emRWts6lGol50gdz1nFcj68VTe-lLdkCgmlkgnY0gmlwhKwS84iKbXVsdGlhZGRyc5YACASsEvOIBvDgAAoErBLziAbw4d0DgnJzhQADAQAAiXNlY3AyNTZrMaEDmsZeINWYtkG0WSqU9cLiOVt9LviNRm6KpKO59WB5n_KDdGNwgvDgg3VkcILw4oV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2025-01-20_04-04-04__5475bd7f-d7a1-4ffb-8dc5-c7c10089f76f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.31.108
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['40379', '40380', '40381', '40382', '40383']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 40379:40379 -p 40380:40380 -p 40381:40381 -p 40382:40382 -p 40383:40383 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=40381 --rest-port=40379 --tcp-port=40380 --discv5-udp-port=40382 --rest-address=0.0.0.0 --nat=extip:172.18.31.108 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=afd31f059ef5c3be6aa3bda682b16f41e52ed0abdea673af5693bc9e66e27bd5 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=40383 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QOBuCKQMbu3Bb3m-vsUNXnl9uUNWoFmjEwOa2vxBmpsrcgXOulPAanS9emRWts6lGol50gdz1nFcj68VTe-lLdkCgmlkgnY0gmlwhKwS84iKbXVsdGlhZGRyc5YACASsEvOIBvDgAAoErBLziAbw4d0DgnJzhQADAQAAiXNlY3AyNTZrMaEDmsZeINWYtkG0WSqU9cLiOVt9LviNRm6KpKO59WB5n_KDdGNwgvDgg3VkcILw4oV3YWt1MgM --storenode=/ip4/172.18.243.136/tcp/61664/p2p/16Uiu2HAmP5AaDR3WTu3WPxvJxzazkXhUd5WmT9NoVNYP5Ro47oxd --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.31.108 waku 0ac067ee9f0709de05616c1921c4dc54f125e7b364b5a8d422eb62777672f71c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 0ac067ee9f07. Setting up logs at ./log/docker/store_node1_2025-01-20_04-04-04__5475bd7f-d7a1-4ffb-8dc5-c7c10089f76f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 40379
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40379/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40379/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.31.108/tcp/40380/p2p/16Uiu2HAm9ZRmMKoptsEdiBPQtvq232VejgGXAv2zkA19ZZLy1yMV","/ip4/172.18.31.108/tcp/40381/ws/p2p/16Uiu2HAm9ZRmMKoptsEdiBPQtvq232VejgGXAv2zkA19ZZLy1yMV"],"enrUri":"enr:-L24QH0DyNBDV7J6IbUCoe9XhZGE8yZX2CBlyDB5yia79ObqOs7MgJ8TexVUhtFY8U6-KKIFFSz5NNTk3Q5G0dZBE40CgmlkgnY0gmlwhKwSH2yKbXVsdGlhZGRyc5YACASsEh9sBp28AAoErBIfbAadvd0DgnJzhQADAQAAiXNlY3AyNTZrMaEC0gAw51oGbaZXDNg1LNXoQm2lVEYXae6lb-DLZ8qnRuSDdGNwgp28g3VkcIKdvoV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40379/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.243.136/tcp/61664/p2p/16Uiu2HAmP5AaDR3WTu3WPxvJxzazkXhUd5WmT9NoVNYP5Ro47oxd"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61663/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40379/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m tests.store.test_api_flags:test_api_flags.py:75 Trying to publish msg with content topic /myapp/1/latest/protoo
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61663/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/protoo", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40379/store/v3/messages?includeData=true&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fprotoo&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[]}'
[35mDEBUG   [0m tests.store.test_api_flags:test_api_flags.py:81 stored content topic is None
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id c155afed66f9
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 0ac067ee9f07
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container c155afed66f9. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/publishing_node1_2025-01-20_04-04-04__5475bd7f-d7a1-4ffb-8dc5-c7c10089f76f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/store_node1_2025-01-20_04-04-04__5475bd7f-d7a1-4ffb-8dc5-c7c10089f76f__wakuorg_nwaku:latest.log
[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_get_store_messages_with_wrong_typo_content_topic with id: 2025-01-20_04-04-10__c8e3a461-c5d6-4ad8-8e05-fcf772269abb
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2025-01-20_04-04-10__c8e3a461-c5d6-4ad8-8e05-fcf772269abb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.67.73
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['46017', '46018', '46019', '46020', '46021']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 46017:46017 -p 46018:46018 -p 46019:46019 -p 46020:46020 -p 46021:46021 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=46019 --rest-port=46017 --tcp-port=46018 --discv5-udp-port=46020 --rest-address=0.0.0.0 --nat=extip:172.18.67.73 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a620ebcc1f579b4e374d1fb2142f7e7c5fd78d7eba3c4c4dc79accb3bfee5fce --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=46021 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.67.73 waku 22f988b2817262558bfe0d9087b3954f7d5e0ded7cc7f7d8cf5f4a7d812822aa
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 22f988b28172. Setting up logs at ./log/docker/publishing_node1_2025-01-20_04-04-10__c8e3a461-c5d6-4ad8-8e05-fcf772269abb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 46017
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 0ac067ee9f07. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46017/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46017/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.67.73/tcp/46018/p2p/16Uiu2HAmTGfuTXY3iEwbDxha4qvFsW4DDq55YyjMm62EsAxawMuP","/ip4/172.18.67.73/tcp/46019/ws/p2p/16Uiu2HAmTGfuTXY3iEwbDxha4qvFsW4DDq55YyjMm62EsAxawMuP"],"enrUri":"enr:-L24QH-m-l9_t_ntrs64sN8SgT68ewYo6Vn4gNZ2QrIjOzkTXXTAqGG7S0300ubHOP9RlsrINDekiajWp8STEyUpSqYCgmlkgnY0gmlwhKwSQ0mKbXVsdGlhZGRyc5YACASsEkNJBrPCAAoErBJDSQazw90DgnJzhQADAQAAiXNlY3AyNTZrMaED2Sereu1zuL-lT9sOV0n1Uycbvaq4KB1dvDiFg-xKC86DdGNwgrPCg3VkcIKzxIV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2025-01-20_04-04-10__c8e3a461-c5d6-4ad8-8e05-fcf772269abb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.249.14
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['38182', '38183', '38184', '38185', '38186']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 38182:38182 -p 38183:38183 -p 38184:38184 -p 38185:38185 -p 38186:38186 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=38184 --rest-port=38182 --tcp-port=38183 --discv5-udp-port=38185 --rest-address=0.0.0.0 --nat=extip:172.18.249.14 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=60de57ff2ecbbd2bae4ce0ac39eed2d1c2ff2b49cae9ab58ef689a1bee25bcb4 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=38186 --metrics-logging=true --discv5-bootstrap-node=enr:-L24QH-m-l9_t_ntrs64sN8SgT68ewYo6Vn4gNZ2QrIjOzkTXXTAqGG7S0300ubHOP9RlsrINDekiajWp8STEyUpSqYCgmlkgnY0gmlwhKwSQ0mKbXVsdGlhZGRyc5YACASsEkNJBrPCAAoErBJDSQazw90DgnJzhQADAQAAiXNlY3AyNTZrMaED2Sereu1zuL-lT9sOV0n1Uycbvaq4KB1dvDiFg-xKC86DdGNwgrPCg3VkcIKzxIV3YWt1MgM --storenode=/ip4/172.18.67.73/tcp/46018/p2p/16Uiu2HAmTGfuTXY3iEwbDxha4qvFsW4DDq55YyjMm62EsAxawMuP --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.249.14 waku 3cffa281db851ac37e6f071b21e2e0d29a9826d04c15c3690659813c4b6f5ea7
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 3cffa281db85. Setting up logs at ./log/docker/store_node1_2025-01-20_04-04-10__c8e3a461-c5d6-4ad8-8e05-fcf772269abb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 38182
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38182/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38182/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.249.14/tcp/38183/p2p/16Uiu2HAm4ZWWcv1SrBczfWfbnJnRUqC24BpcRSekDmb3m6EXf7GS","/ip4/172.18.249.14/tcp/38184/ws/p2p/16Uiu2HAm4ZWWcv1SrBczfWfbnJnRUqC24BpcRSekDmb3m6EXf7GS"],"enrUri":"enr:-L24QMCZx_Keq-JAhuqz0Qlz8H2fFpHy55GnjTxGRpCGSnXjDs7j-5JumQs0HWDaYdJwjePKJhbu6VYz64ItJ3jcQAECgmlkgnY0gmlwhKwS-Q6KbXVsdGlhZGRyc5YACASsEvkOBpUnAAoErBL5DgaVKN0DgnJzhQADAQAAiXNlY3AyNTZrMaECh7sfa264x9xUaJRmqFjJw8fvu0Q60I5sJlkSF_dsGIeDdGNwgpUng3VkcIKVKYV3YWt1MgM"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38182/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.67.73/tcp/46018/p2p/16Uiu2HAmTGfuTXY3iEwbDxha4qvFsW4DDq55YyjMm62EsAxawMuP"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46017/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38182/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m tests.store.test_api_flags:test_api_flags.py:75 Trying to publish msg with content topic /myapp/1/latest/protoo
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46017/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "U3RvcmUgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/protoo", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38182/store/v3/messages?includeData=true&pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&contentTopics=%2Fmyapp%2F1%2Flatest%2Fprotoo&ascending=true" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[]}'
[35mDEBUG   [0m tests.store.test_api_flags:test_api_flags.py:81 stored content topic is None
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 22f988b28172
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 3cffa281db85
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 22f988b28172. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m tests.conftest:conftest.py:73 Running fixture teardown: attach_logs_on_fail
[35mDEBUG   [0m tests.conftest:conftest.py:74 Test failed, attempting to attach logs to the allure reports
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/publishing_node1_2025-01-20_04-04-10__c8e3a461-c5d6-4ad8-8e05-fcf772269abb__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.libs.common:common.py:30 Attaching file ./log/docker/store_node1_2025-01-20_04-04-10__c8e3a461-c5d6-4ad8-8e05-fcf772269abb__wakuorg_nwaku:latest.log