[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2025-01-20_04-06-06__8b815588-5f72-4040-9196-96a222ae5071
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2025-01-20_04-06-06__8b815588-5f72-4040-9196-96a222ae5071__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.67.181
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['18001', '18002', '18003', '18004', '18005']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 18001:18001 -p 18002:18002 -p 18003:18003 -p 18004:18004 -p 18005:18005 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=18003 --rest-port=18001 --tcp-port=18002 --discv5-udp-port=18004 --rest-address=0.0.0.0 --nat=extip:172.18.67.181 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a4bf086f1a7ee9ecf5a02de8ec7a827be34dcf88ed0dca036fc0cb946efaad6e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=18005 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.67.181 waku 49a901a1b85a6c2b8a31f79629ead01048d2a3872085c3bafd4edf3bf4a0ba54
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 49a901a1b85a. Setting up logs at ./log/docker/node1_2025-01-20_04-06-06__8b815588-5f72-4040-9196-96a222ae5071__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 18001
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container e6b23290db1a. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18001/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18001/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.67.181/tcp/18002/p2p/16Uiu2HAmGnFe5CkBNbB4vGfUV6GqdFNuU3BHms22541RuB6ZZm3F","/ip4/172.18.67.181/tcp/18003/ws/p2p/16Uiu2HAmGnFe5CkBNbB4vGfUV6GqdFNuU3BHms22541RuB6ZZm3F"],"enrUri":"enr:-L24QCxp8KwU_I0NZoEXip6xBBQrBGe_iFytvQmvNUdIrwoyWCGD32g8JOb7KdbPkb9aTHd9aUGo5kdgfxe2yXsHhHoCgmlkgnY0gmlwhKwSQ7WKbXVsdGlhZGRyc5YACASsEkO1BkZSAAoErBJDtQZGU90DgnJzhQADAQAAiXNlY3AyNTZrMaEDPUsZ4pK5HZcEyauTidO4M56npcKMsElYv229jna1KlKDdGNwgkZSg3VkcIJGVIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2025-01-20_04-06-06__8b815588-5f72-4040-9196-96a222ae5071__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.249.33
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['34016', '34017', '34018', '34019', '34020']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 34016:34016 -p 34017:34017 -p 34018:34018 -p 34019:34019 -p 34020:34020 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=34018 --rest-port=34016 --tcp-port=34017 --discv5-udp-port=34019 --rest-address=0.0.0.0 --nat=extip:172.18.249.33 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=beb2e9211db3a25af03f84ea519a6db924fa9de594b227fb9fe4ecce6d295dbc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=34020 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QCxp8KwU_I0NZoEXip6xBBQrBGe_iFytvQmvNUdIrwoyWCGD32g8JOb7KdbPkb9aTHd9aUGo5kdgfxe2yXsHhHoCgmlkgnY0gmlwhKwSQ7WKbXVsdGlhZGRyc5YACASsEkO1BkZSAAoErBJDtQZGU90DgnJzhQADAQAAiXNlY3AyNTZrMaEDPUsZ4pK5HZcEyauTidO4M56npcKMsElYv229jna1KlKDdGNwgkZSg3VkcIJGVIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.249.33 waku 63de4ff2d2bb33a75f4202b31ee7496dc23955377283cb2a9e9ffdb5b2735dfa
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 63de4ff2d2bb. Setting up logs at ./log/docker/node2_2025-01-20_04-06-06__8b815588-5f72-4040-9196-96a222ae5071__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 34016
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34016/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34016/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.249.33/tcp/34017/p2p/16Uiu2HAkxzSXtZ1AkD6nNN9MR25iavxu2BnEfPAwN9f2vn1tb7Be","/ip4/172.18.249.33/tcp/34018/ws/p2p/16Uiu2HAkxzSXtZ1AkD6nNN9MR25iavxu2BnEfPAwN9f2vn1tb7Be"],"enrUri":"enr:-L24QBVDMHURlJO-oEA7mGeWd_F1p3690hbRlXqWMeZT3h36HA3nURbObHy2IvKYgqU-CeCzMhjprQjF1LfKaHgXZSICgmlkgnY0gmlwhKwS-SGKbXVsdGlhZGRyc5YACASsEvkhBoThAAoErBL5IQaE4t0DgnJzhQADAQAAiXNlY3AyNTZrMaECNPgF-YIrcNXuSrI7v5jGSof8BxxxDvDzGQHBIm93r4GDdGNwgoThg3VkcIKE44V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34016/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.67.181/tcp/18002/p2p/16Uiu2HAmGnFe5CkBNbB4vGfUV6GqdFNuU3BHms22541RuB6ZZm3F"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2025-01-20_04-06-06__8b815588-5f72-4040-9196-96a222ae5071__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.222.24
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['36062', '36063', '36064', '36065', '36066']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 36062:36062 -p 36063:36063 -p 36064:36064 -p 36065:36065 -p 36066:36066 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=36064 --rest-port=36062 --tcp-port=36063 --discv5-udp-port=36065 --rest-address=0.0.0.0 --nat=extip:172.18.222.24 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=03fd4ea319e0d0aeaf09bfab77c488c2acdd2eadefc7f44cb6df8d6c8c06d05d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=36066 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QCxp8KwU_I0NZoEXip6xBBQrBGe_iFytvQmvNUdIrwoyWCGD32g8JOb7KdbPkb9aTHd9aUGo5kdgfxe2yXsHhHoCgmlkgnY0gmlwhKwSQ7WKbXVsdGlhZGRyc5YACASsEkO1BkZSAAoErBJDtQZGU90DgnJzhQADAQAAiXNlY3AyNTZrMaEDPUsZ4pK5HZcEyauTidO4M56npcKMsElYv229jna1KlKDdGNwgkZSg3VkcIJGVIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.222.24 waku c55e6a89dd90bbdcc26cd621a1294756f374c7b1666522ab242b1db8e6c2ed39
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID c55e6a89dd90. Setting up logs at ./log/docker/node3_2025-01-20_04-06-06__8b815588-5f72-4040-9196-96a222ae5071__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 36062
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36062/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36062/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.222.24/tcp/36063/p2p/16Uiu2HAmUhd1yo7D5JUDeUrHiEsT7YCsX6Wxf43F7v9zCdKoCUAY","/ip4/172.18.222.24/tcp/36064/ws/p2p/16Uiu2HAmUhd1yo7D5JUDeUrHiEsT7YCsX6Wxf43F7v9zCdKoCUAY"],"enrUri":"enr:-L24QG7AkNHzG28I5taEGzAj8EEdQTrgkjT0SjyIrfRfTouwHvLXZPfZtcqVc2lL0BHZH0vzyB97pEImXXIi1238YIACgmlkgnY0gmlwhKwS3hiKbXVsdGlhZGRyc5YACASsEt4YBozfAAoErBLeGAaM4N0DgnJzhQADAQAAiXNlY3AyNTZrMaED7mecrgANWxSwrkkO-kTTDO0Q6gdxvLXLNctCPLuCJE2DdGNwgozfg3VkcIKM4YV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36062/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.67.181/tcp/18002/p2p/16Uiu2HAmGnFe5CkBNbB4vGfUV6GqdFNuU3BHms22541RuB6ZZm3F"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2025-01-20_04-06-06__8b815588-5f72-4040-9196-96a222ae5071__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.62.21
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['42824', '42825', '42826', '42827', '42828']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 42824:42824 -p 42825:42825 -p 42826:42826 -p 42827:42827 -p 42828:42828 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=42826 --rest-port=42824 --tcp-port=42825 --discv5-udp-port=42827 --rest-address=0.0.0.0 --nat=extip:172.18.62.21 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ef84d9d2b0ed80a5a4febcddbb7baeed100db276faeeba9b6cc4acac4d4cd7ed --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=42828 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QCxp8KwU_I0NZoEXip6xBBQrBGe_iFytvQmvNUdIrwoyWCGD32g8JOb7KdbPkb9aTHd9aUGo5kdgfxe2yXsHhHoCgmlkgnY0gmlwhKwSQ7WKbXVsdGlhZGRyc5YACASsEkO1BkZSAAoErBJDtQZGU90DgnJzhQADAQAAiXNlY3AyNTZrMaEDPUsZ4pK5HZcEyauTidO4M56npcKMsElYv229jna1KlKDdGNwgkZSg3VkcIJGVIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.62.21 waku ddb27f7fd6af391e1a217ee7ef7f787d11e6244ebc08d379787ffb2b8140b508
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID ddb27f7fd6af. Setting up logs at ./log/docker/node4_2025-01-20_04-06-06__8b815588-5f72-4040-9196-96a222ae5071__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 42824
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42824/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42824/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.62.21/tcp/42825/p2p/16Uiu2HAmPugUcD5LHYBB6jaU8b34EnNMMNLpASZuc85n4wawAueg","/ip4/172.18.62.21/tcp/42826/ws/p2p/16Uiu2HAmPugUcD5LHYBB6jaU8b34EnNMMNLpASZuc85n4wawAueg"],"enrUri":"enr:-L24QBOY2nzmNoGvcg3cfn-_AKhYUGRshcd8CWDcjgxQcOhHScphFsBOE_uoTGVDCx6Ubq8T7WZ-A9zxOLji0-v0XnECgmlkgnY0gmlwhKwSPhWKbXVsdGlhZGRyc5YACASsEj4VBqdJAAoErBI-FQanSt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDpzQO7lc6fbrEjuHEkwZW4kD9WVliqBzyLkDKrBRVJEGDdGNwgqdJg3VkcIKnS4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42824/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.67.181/tcp/18002/p2p/16Uiu2HAmGnFe5CkBNbB4vGfUV6GqdFNuU3BHms22541RuB6ZZm3F"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2025-01-20_04-06-06__8b815588-5f72-4040-9196-96a222ae5071__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.129.17
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['54843', '54844', '54845', '54846', '54847']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 54843:54843 -p 54844:54844 -p 54845:54845 -p 54846:54846 -p 54847:54847 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=54845 --rest-port=54843 --tcp-port=54844 --discv5-udp-port=54846 --rest-address=0.0.0.0 --nat=extip:172.18.129.17 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9dc7ad0eae41db5abacde9e7b5bd91db1884f23afa8a5a16a6e7127803138bcc --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=54847 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QCxp8KwU_I0NZoEXip6xBBQrBGe_iFytvQmvNUdIrwoyWCGD32g8JOb7KdbPkb9aTHd9aUGo5kdgfxe2yXsHhHoCgmlkgnY0gmlwhKwSQ7WKbXVsdGlhZGRyc5YACASsEkO1BkZSAAoErBJDtQZGU90DgnJzhQADAQAAiXNlY3AyNTZrMaEDPUsZ4pK5HZcEyauTidO4M56npcKMsElYv229jna1KlKDdGNwgkZSg3VkcIJGVIV3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.129.17 waku 02fed47a278aca6a33ec769c56fe7d765ff2c55c16d3be50633495753719ed20
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 02fed47a278a. Setting up logs at ./log/docker/node5_2025-01-20_04-06-06__8b815588-5f72-4040-9196-96a222ae5071__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 54843
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54843/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54843/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.129.17/tcp/54844/p2p/16Uiu2HAmFPDzQRLrAB5o48MmBJjmEWNYQQzcX9XmVP2LYjoz4J7r","/ip4/172.18.129.17/tcp/54845/ws/p2p/16Uiu2HAmFPDzQRLrAB5o48MmBJjmEWNYQQzcX9XmVP2LYjoz4J7r"],"enrUri":"enr:-L24QPGBuNisGxiI9BCFvdcg39FdM5DkbFDAbAonMB2TARf3TZ9b2fMaZgI7RRPYSCBK5XYpopy529dG9Gyi94AD2TACgmlkgnY0gmlwhKwSgRGKbXVsdGlhZGRyc5YACASsEoERBtY8AAoErBKBEQbWPd0DgnJzhQADAQAAiXNlY3AyNTZrMaEDKIkwxnWgzn4xbtvPUrMdwlEB5rxVUg1VrIcFJ36PS7mDdGNwgtY8g3VkcILWPoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54843/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.67.181/tcp/18002/p2p/16Uiu2HAmGnFe5CkBNbB4vGfUV6GqdFNuU3BHms22541RuB6ZZm3F"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:18001/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:34016/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36062/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:42824/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54843/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:18001/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18001/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1737345972688230144,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34016/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1737345972688230144,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36062/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1737345972688230144,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42824/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1737345972688230144,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54843/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1737345972688230144,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:54843/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:18001/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1737345972812939008,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:34016/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1737345972812939008,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36062/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1737345972812939008,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:42824/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1737345972812939008,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:54843/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1737345972812939008,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 49a901a1b85a
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 63de4ff2d2bb
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 49a901a1b85a. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id c55e6a89dd90
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 63de4ff2d2bb. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id ddb27f7fd6af
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container c55e6a89dd90. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 02fed47a278a
[1m[31mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container ddb27f7fd6af. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.