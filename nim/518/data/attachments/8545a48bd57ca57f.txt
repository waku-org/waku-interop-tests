[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2024-12-13_04-15-46__4a105308-52e3-41e2-bb20-90962b8cc947
[35mDEBUG   [0m src.steps.common:common.py:18 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-12-13_04-15-46__4a105308-52e3-41e2-bb20-90962b8cc947__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.218.87
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['59144', '59145', '59146', '59147', '59148']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 59144:59144 -p 59145:59145 -p 59146:59146 -p 59147:59147 -p 59148:59148 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=59146 --rest-port=59144 --tcp-port=59145 --discv5-udp-port=59147 --rest-address=0.0.0.0 --nat=extip:172.18.218.87 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=72b0dff4ad4eed1dde2f37d0ce7a9a8eebea6bb1a7aff34cb13bfbf8b4e439cb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=59148 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.218.87 waku 3b3a8ad5439c64de83145abec86e059a94c81da0276989a07adfa3ffcf5d26d2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 3b3a8ad5439c. Setting up logs at ./log/docker/node1_2024-12-13_04-15-46__4a105308-52e3-41e2-bb20-90962b8cc947__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 59144
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 04efc2da335c. Exiting log stream.
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59144/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59144/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.218.87/tcp/59145/p2p/16Uiu2HAmD7cHCiusZL5v29jUtZkM1uKvRYtVuqb4eC3aVstk6pMA","/ip4/172.18.218.87/tcp/59146/ws/p2p/16Uiu2HAmD7cHCiusZL5v29jUtZkM1uKvRYtVuqb4eC3aVstk6pMA"],"enrUri":"enr:-L24QEwHxlMGNq7Q5v9XEa64aQ10LgP4GjBW5C0KQy-o3aEmDz0d5TgBoaHqVkAGNI_J2UzDB2cDHvg4vhODELRerlECgmlkgnY0gmlwhKwS2leKbXVsdGlhZGRyc5YACASsEtpXBucJAAoErBLaVwbnCt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDBtG6CG6vQzoGstKjdzMhl4O9g35_EVC_xLjaPn-hKQWDdGNwgucJg3VkcILnC4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-12-13_04-15-46__4a105308-52e3-41e2-bb20-90962b8cc947__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.56.91
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['40797', '40798', '40799', '40800', '40801']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 40797:40797 -p 40798:40798 -p 40799:40799 -p 40800:40800 -p 40801:40801 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=40799 --rest-port=40797 --tcp-port=40798 --discv5-udp-port=40800 --rest-address=0.0.0.0 --nat=extip:172.18.56.91 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7bbb9e2f6afc5148f2f4eaf33ad3cd9e89f2e0a8ed96bf5b0073f08c7604a8da --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=40801 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QEwHxlMGNq7Q5v9XEa64aQ10LgP4GjBW5C0KQy-o3aEmDz0d5TgBoaHqVkAGNI_J2UzDB2cDHvg4vhODELRerlECgmlkgnY0gmlwhKwS2leKbXVsdGlhZGRyc5YACASsEtpXBucJAAoErBLaVwbnCt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDBtG6CG6vQzoGstKjdzMhl4O9g35_EVC_xLjaPn-hKQWDdGNwgucJg3VkcILnC4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.56.91 waku 49dfe8b17f90836b9be4063ab90937ca0ac62421445bc3592263ef68895f28a6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 49dfe8b17f90. Setting up logs at ./log/docker/node2_2024-12-13_04-15-46__4a105308-52e3-41e2-bb20-90962b8cc947__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 40797
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40797/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40797/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.56.91/tcp/40798/p2p/16Uiu2HAm8PicnJbCZncpzwjKE5n78iyGQbo3CBXNbP5AAHdkNEEs","/ip4/172.18.56.91/tcp/40799/ws/p2p/16Uiu2HAm8PicnJbCZncpzwjKE5n78iyGQbo3CBXNbP5AAHdkNEEs"],"enrUri":"enr:-L24QKFQzNRbWU0ViAzPeShI7RCUVflbWg11R5hR0ZOk6F9VZjqfeFSaMUecDq-VdGJsdMFU6AhEGsj7x8ZKUaJ58_oCgmlkgnY0gmlwhKwSOFuKbXVsdGlhZGRyc5YACASsEjhbBp9eAAoErBI4WwafX90DgnJzhQADAQAAiXNlY3AyNTZrMaECwKfAPAvHK3psg3TNBOhp9fmI7CK8dzrBaEnHS9deOvCDdGNwgp9eg3VkcIKfYIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40797/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.218.87/tcp/59145/p2p/16Uiu2HAmD7cHCiusZL5v29jUtZkM1uKvRYtVuqb4eC3aVstk6pMA"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-12-13_04-15-46__4a105308-52e3-41e2-bb20-90962b8cc947__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.50.10
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['19501', '19502', '19503', '19504', '19505']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 19501:19501 -p 19502:19502 -p 19503:19503 -p 19504:19504 -p 19505:19505 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=19503 --rest-port=19501 --tcp-port=19502 --discv5-udp-port=19504 --rest-address=0.0.0.0 --nat=extip:172.18.50.10 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=abfd6845f59a4aea721c3eeadedcf44c16ab9a2ad2fd64e2bf22d21bbadb6bd9 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=19505 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QEwHxlMGNq7Q5v9XEa64aQ10LgP4GjBW5C0KQy-o3aEmDz0d5TgBoaHqVkAGNI_J2UzDB2cDHvg4vhODELRerlECgmlkgnY0gmlwhKwS2leKbXVsdGlhZGRyc5YACASsEtpXBucJAAoErBLaVwbnCt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDBtG6CG6vQzoGstKjdzMhl4O9g35_EVC_xLjaPn-hKQWDdGNwgucJg3VkcILnC4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.50.10 waku 60051f5609998cee29b4d31e8560a01fcc471f65eae68093b6e749e241c9d91f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 60051f560999. Setting up logs at ./log/docker/node3_2024-12-13_04-15-46__4a105308-52e3-41e2-bb20-90962b8cc947__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 19501
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19501/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19501/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.50.10/tcp/19502/p2p/16Uiu2HAmUe7sQXACk2yk4FzhLyKYqehKMHHfB8tnHPzmwDitXUUh","/ip4/172.18.50.10/tcp/19503/ws/p2p/16Uiu2HAmUe7sQXACk2yk4FzhLyKYqehKMHHfB8tnHPzmwDitXUUh"],"enrUri":"enr:-L24QH5WzLnWcoh07UFvtT5gqtNIzhh544RE1k1KB69hGHvTMmQmC1t5jL1IOpJSusuOCYymWrMB2lKMHWqCMzLVAKACgmlkgnY0gmlwhKwSMgqKbXVsdGlhZGRyc5YACASsEjIKBkwuAAoErBIyCgZML90DgnJzhQADAQAAiXNlY3AyNTZrMaED7YHpfGyHFes8ji4VLvpKodKoOI7ZmgLtdfM5L1wjapKDdGNwgkwug3VkcIJMMIV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19501/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.218.87/tcp/59145/p2p/16Uiu2HAmD7cHCiusZL5v29jUtZkM1uKvRYtVuqb4eC3aVstk6pMA"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-12-13_04-15-46__4a105308-52e3-41e2-bb20-90962b8cc947__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.153.5
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['58148', '58149', '58150', '58151', '58152']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 58148:58148 -p 58149:58149 -p 58150:58150 -p 58151:58151 -p 58152:58152 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=58150 --rest-port=58148 --tcp-port=58149 --discv5-udp-port=58151 --rest-address=0.0.0.0 --nat=extip:172.18.153.5 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=b6ad95fbbea86fad6a8ec2adfc4c3cb7f2df3c3becaa2747ceefbbed0c8275a8 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=58152 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QEwHxlMGNq7Q5v9XEa64aQ10LgP4GjBW5C0KQy-o3aEmDz0d5TgBoaHqVkAGNI_J2UzDB2cDHvg4vhODELRerlECgmlkgnY0gmlwhKwS2leKbXVsdGlhZGRyc5YACASsEtpXBucJAAoErBLaVwbnCt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDBtG6CG6vQzoGstKjdzMhl4O9g35_EVC_xLjaPn-hKQWDdGNwgucJg3VkcILnC4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.153.5 waku 65ef2a5a1767c976f99f1d448ec2357146abd603a4a75ce49d9209fd38de8f5a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 65ef2a5a1767. Setting up logs at ./log/docker/node4_2024-12-13_04-15-46__4a105308-52e3-41e2-bb20-90962b8cc947__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 58148
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58148/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58148/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.153.5/tcp/58149/p2p/16Uiu2HAmSXbW6gwd4BQ9FJRmYtotQ9PhDDpAiJrNzEEAxfYkiRoG","/ip4/172.18.153.5/tcp/58150/ws/p2p/16Uiu2HAmSXbW6gwd4BQ9FJRmYtotQ9PhDDpAiJrNzEEAxfYkiRoG"],"enrUri":"enr:-L24QEbRELO6BBaJJ-IBQAhQFdcFedFO8wFGknDitciYDhYAVylJHFJOUZUtblFGptgckg0y2EEZFPhWI4UnExgc2P8CgmlkgnY0gmlwhKwSmQWKbXVsdGlhZGRyc5YACASsEpkFBuMlAAoErBKZBQbjJt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDzh63g7QMq2H4s8q3LthHi3hrVdyXj-H1i7JusiLe_FODdGNwguMlg3VkcILjJ4V3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58148/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.218.87/tcp/59145/p2p/16Uiu2HAmD7cHCiusZL5v29jUtZkM1uKvRYtVuqb4eC3aVstk6pMA"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:19 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-12-13_04-15-46__4a105308-52e3-41e2-bb20-90962b8cc947__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:22 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:25 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:108 Generated random external IP 172.18.251.46
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:101 Generated ports ['30151', '30152', '30153', '30154', '30155']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:439 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:168 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:170 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:49 docker run -i -t -p 30151:30151 -p 30152:30152 -p 30153:30153 -p 30154:30154 -p 30155:30155 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=30153 --rest-port=30151 --tcp-port=30152 --discv5-udp-port=30154 --rest-address=0.0.0.0 --nat=extip:172.18.251.46 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e8fe5f6e8db4eaa8c074c6fea4b6bc1db4c8adfbec2aecf8010f89f3fb2bdfce --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=30155 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-L24QEwHxlMGNq7Q5v9XEa64aQ10LgP4GjBW5C0KQy-o3aEmDz0d5TgBoaHqVkAGNI_J2UzDB2cDHvg4vhODELRerlECgmlkgnY0gmlwhKwS2leKbXVsdGlhZGRyc5YACASsEtpXBucJAAoErBLaVwbnCt0DgnJzhQADAQAAiXNlY3AyNTZrMaEDBtG6CG6vQzoGstKjdzMhl4O9g35_EVC_xLjaPn-hKQWDdGNwgucJg3VkcILnC4V3YWt1MgE
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:55 docker network connect --ip 172.18.251.46 waku 0a4e9d87b4be9d9856e55ba7f07af15fbcc6a9f4a3718c6cb75b4ddb6935a0fa
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:58 Container started with ID 0a4e9d87b4be. Setting up logs at ./log/docker/node5_2024-12-13_04-15-46__4a105308-52e3-41e2-bb20-90962b8cc947__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:182 Started container from image wakuorg/nwaku:latest. REST: 30151
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30151/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30151/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.251.46/tcp/30152/p2p/16Uiu2HAm2km3FrosiX1uQ6ZqbFHSqrqRy5jrTtjBtb9WJhZVFrfK","/ip4/172.18.251.46/tcp/30153/ws/p2p/16Uiu2HAm2km3FrosiX1uQ6ZqbFHSqrqRy5jrTtjBtb9WJhZVFrfK"],"enrUri":"enr:-L24QOI6xGlP3zd3wYYDh1jdfcX1nxPQ6eUTPtF9paMBTn7DDdpNa3wwtXokbQGj-0Bx0p_V4IDWqbAigDD6wQzmxnoCgmlkgnY0gmlwhKwS-y6KbXVsdGlhZGRyc5YACASsEvsuBnXIAAoErBL7LgZ1yd0DgnJzhQADAQAAiXNlY3AyNTZrMaECbOWQnPhUhQpc4cfEEp9gkCTQO4OYWZJ-RNi_NFsDlgKDdGNwgnXIg3VkcIJ1yoV3YWt1MgE"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:287 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30151/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.218.87/tcp/59145/p2p/16Uiu2HAmD7cHCiusZL5v29jUtZkM1uKvRYtVuqb4eC3aVstk6pMA"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59144/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:40797/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19501/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:58148/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30151/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59144/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59144/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734063353294173952,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40797/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734063353294173952,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19501/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734063353294173952,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58148/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734063353294173952,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30151/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734063353294173952,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:30151/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59144/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734063353424449280,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:40797/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734063353424449280,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19501/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734063353424449280,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:58148/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734063353424449280,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:30151/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1734063353424449280,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 3b3a8ad5439c
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 49dfe8b17f90
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 3b3a8ad5439c. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 60051f560999
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 49dfe8b17f90. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 65ef2a5a1767
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 60051f560999. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:226 Stopping container with id 0a4e9d87b4be
[31m[1mERROR   [0m src.node.docker_mananger:docker_mananger.py:89 Max retries reached for container 65ef2a5a1767. Exiting log stream.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:233 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:144 No errors found in the waku logs.