{"uid":"a09d4b17d20facfa","name":"test_publish_on_multiple_content_topics_and_only_after_fetch_them[content_topic_list1]","fullName":"tests.sharding.test_relay_auto_sharding.TestRelayAutosharding#test_publish_on_multiple_content_topics_and_only_after_fetch_them","historyId":"d0f236772a4f449df349f1fb521e3132","time":{"start":1734063511384,"stop":1734063514393,"duration":3009},"status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"set_allure_env_variables","time":{"start":1734062584502,"stop":1734062584502,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes","time":{"start":1734063511382,"stop":1734063511382,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"check_waku_log_errors","time":{"start":1734063511382,"stop":1734063511382,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail","time":{"start":1734063511382,"stop":1734063511382,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"relay_setup","time":{"start":1734063511383,"stop":1734063511383,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_setup","time":{"start":1734063511383,"stop":1734063511383,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_id","time":{"start":1734063511383,"stop":1734063511383,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"common_setup","time":{"start":1734063511383,"stop":1734063511383,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"sharding_setup","time":{"start":1734063511383,"stop":1734063511383,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"passed","steps":[{"name":"setup_main_relay_nodes","time":{"start":1734063511384,"stop":1734063514215,"duration":2831},"status":"passed","steps":[{"name":"setup_first_relay_node_with_filter","time":{"start":1734063511384,"stop":1734063512760,"duration":1376},"status":"passed","steps":[{"name":"setup_first_relay_node","time":{"start":1734063511384,"stop":1734063512760,"duration":1376},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"filter","value":"'true'"},{"name":"cluster_id","value":"2"},{"name":"content_topic","value":"'/myapp/1/latest/proto'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"cluster_id","value":"2"},{"name":"content_topic","value":"'/myapp/1/latest/proto'"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"setup_second_relay_node","time":{"start":1734063512760,"stop":1734063514215,"duration":1455},"status":"passed","steps":[{"name":"add_node_peer","time":{"start":1734063514213,"stop":1734063514215,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"args","value":"(<tests.sharding.test_relay_auto_sharding.TestRelayAutosharding object at 0x7ff23a64b380>, <src.node.waku_node.WakuNode object at 0x7ff239662fc0>, ['/ip4/172.18.154.97/tcp/35820/p2p/16Uiu2HAkw78dvKetvGoQUjY8n9xvSbBRHvGQRci7ninRGT3prgxq'])"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"cluster_id","value":"2"},{"name":"content_topic","value":"'/myapp/1/latest/proto'"}],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"cluster_id","value":"2"},{"name":"content_topic","value":"'/myapp/1/latest/proto'"}],"shouldDisplayMessage":false,"stepsCount":4,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"subscribe_main_relay_nodes","time":{"start":1734063514215,"stop":1734063514233,"duration":18},"status":"passed","steps":[{"name":"subscribe_relay_node","time":{"start":1734063514215,"stop":1734063514222,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7ff2396ffb00>"},{"name":"content_topics","value":"['/myapp/1/latest/proto', '/waku/2/content/test.js', '/app/22/sometopic/someencoding', '/toychat/2/huilong/proto', '/statusim/1/community/cbor', '/app/27/sometopic/someencoding', '/app/29/sometopic/someencoding', '/app/20/sometopic/someencoding']"},{"name":"pubsub_topics","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"subscribe_relay_node","time":{"start":1734063514222,"stop":1734063514233,"duration":11},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7ff239662fc0>"},{"name":"content_topics","value":"['/myapp/1/latest/proto', '/waku/2/content/test.js', '/app/22/sometopic/someencoding', '/toychat/2/huilong/proto', '/statusim/1/community/cbor', '/app/27/sometopic/someencoding', '/app/29/sometopic/someencoding', '/app/20/sometopic/someencoding']"},{"name":"pubsub_topics","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[{"name":"content_topics","value":"['/myapp/1/latest/proto', '/waku/2/content/test.js', '/app/22/sometopic/someencoding', '/toychat/2/huilong/proto', '/statusim/1/community/cbor', '/app/27/sometopic/someencoding', '/app/29/sometopic/someencoding', '/app/20/sometopic/someencoding']"},{"name":"pubsub_topics","value":"None"}],"shouldDisplayMessage":false,"stepsCount":2,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"create_message","time":{"start":1734063514233,"stop":1734063514233,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"payload","value":"'L215YXBwLzEvbGF0ZXN0L3Byb3Rv'"},{"name":"contentTopic","value":"'/myapp/1/latest/proto'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"relay_message","time":{"start":1734063514233,"stop":1734063514238,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7ff2396ffb00>"},{"name":"message","value":"{'payload': 'L215YXBwLzEvbGF0ZXN0L3Byb3Rv', 'contentTopic': '/myapp/1/latest/proto', 'timestamp': 1734063514232861440}"},{"name":"pubsub_topic","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"create_message","time":{"start":1734063514238,"stop":1734063514238,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"payload","value":"'L3dha3UvMi9jb250ZW50L3Rlc3QuanM='"},{"name":"contentTopic","value":"'/waku/2/content/test.js'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"relay_message","time":{"start":1734063514238,"stop":1734063514244,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7ff2396ffb00>"},{"name":"message","value":"{'payload': 'L3dha3UvMi9jb250ZW50L3Rlc3QuanM=', 'contentTopic': '/waku/2/content/test.js', 'timestamp': 1734063514237802240}"},{"name":"pubsub_topic","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"create_message","time":{"start":1734063514244,"stop":1734063514244,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"payload","value":"'L2FwcC8yMi9zb21ldG9waWMvc29tZWVuY29kaW5n'"},{"name":"contentTopic","value":"'/app/22/sometopic/someencoding'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"relay_message","time":{"start":1734063514244,"stop":1734063514248,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7ff2396ffb00>"},{"name":"message","value":"{'payload': 'L2FwcC8yMi9zb21ldG9waWMvc29tZWVuY29kaW5n', 'contentTopic': '/app/22/sometopic/someencoding', 'timestamp': 1734063514243886080}"},{"name":"pubsub_topic","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"create_message","time":{"start":1734063514248,"stop":1734063514248,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"payload","value":"'L3RveWNoYXQvMi9odWlsb25nL3Byb3Rv'"},{"name":"contentTopic","value":"'/toychat/2/huilong/proto'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"relay_message","time":{"start":1734063514248,"stop":1734063514253,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7ff2396ffb00>"},{"name":"message","value":"{'payload': 'L3RveWNoYXQvMi9odWlsb25nL3Byb3Rv', 'contentTopic': '/toychat/2/huilong/proto', 'timestamp': 1734063514247788544}"},{"name":"pubsub_topic","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"create_message","time":{"start":1734063514253,"stop":1734063514253,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"payload","value":"'L3N0YXR1c2ltLzEvY29tbXVuaXR5L2Nib3I='"},{"name":"contentTopic","value":"'/statusim/1/community/cbor'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"relay_message","time":{"start":1734063514254,"stop":1734063514258,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7ff2396ffb00>"},{"name":"message","value":"{'payload': 'L3N0YXR1c2ltLzEvY29tbXVuaXR5L2Nib3I=', 'contentTopic': '/statusim/1/community/cbor', 'timestamp': 1734063514253445120}"},{"name":"pubsub_topic","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"create_message","time":{"start":1734063514258,"stop":1734063514258,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"payload","value":"'L2FwcC8yNy9zb21ldG9waWMvc29tZWVuY29kaW5n'"},{"name":"contentTopic","value":"'/app/27/sometopic/someencoding'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"relay_message","time":{"start":1734063514258,"stop":1734063514263,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7ff2396ffb00>"},{"name":"message","value":"{'payload': 'L2FwcC8yNy9zb21ldG9waWMvc29tZWVuY29kaW5n', 'contentTopic': '/app/27/sometopic/someencoding', 'timestamp': 1734063514257864192}"},{"name":"pubsub_topic","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"create_message","time":{"start":1734063514263,"stop":1734063514263,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"payload","value":"'L2FwcC8yOS9zb21ldG9waWMvc29tZWVuY29kaW5n'"},{"name":"contentTopic","value":"'/app/29/sometopic/someencoding'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"relay_message","time":{"start":1734063514263,"stop":1734063514269,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7ff2396ffb00>"},{"name":"message","value":"{'payload': 'L2FwcC8yOS9zb21ldG9waWMvc29tZWVuY29kaW5n', 'contentTopic': '/app/29/sometopic/someencoding', 'timestamp': 1734063514263328512}"},{"name":"pubsub_topic","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"create_message","time":{"start":1734063514270,"stop":1734063514270,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"payload","value":"'L2FwcC8yMC9zb21ldG9waWMvc29tZWVuY29kaW5n'"},{"name":"contentTopic","value":"'/app/20/sometopic/someencoding'"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"relay_message","time":{"start":1734063514270,"stop":1734063514274,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7ff2396ffb00>"},{"name":"message","value":"{'payload': 'L2FwcC8yMC9zb21ldG9waWMvc29tZWVuY29kaW5n', 'contentTopic': '/app/20/sometopic/someencoding', 'timestamp': 1734063514269522176}"},{"name":"pubsub_topic","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"retrieve_relay_message","time":{"start":1734063514375,"stop":1734063514377,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7ff239662fc0>"},{"name":"content_topic","value":"'/myapp/1/latest/proto'"},{"name":"pubsub_topic","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"retrieve_relay_message","time":{"start":1734063514378,"stop":1734063514380,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7ff239662fc0>"},{"name":"content_topic","value":"'/waku/2/content/test.js'"},{"name":"pubsub_topic","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"retrieve_relay_message","time":{"start":1734063514380,"stop":1734063514382,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7ff239662fc0>"},{"name":"content_topic","value":"'/app/22/sometopic/someencoding'"},{"name":"pubsub_topic","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"retrieve_relay_message","time":{"start":1734063514382,"stop":1734063514384,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7ff239662fc0>"},{"name":"content_topic","value":"'/toychat/2/huilong/proto'"},{"name":"pubsub_topic","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"retrieve_relay_message","time":{"start":1734063514384,"stop":1734063514386,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7ff239662fc0>"},{"name":"content_topic","value":"'/statusim/1/community/cbor'"},{"name":"pubsub_topic","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"retrieve_relay_message","time":{"start":1734063514386,"stop":1734063514388,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7ff239662fc0>"},{"name":"content_topic","value":"'/app/27/sometopic/someencoding'"},{"name":"pubsub_topic","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"retrieve_relay_message","time":{"start":1734063514389,"stop":1734063514391,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7ff239662fc0>"},{"name":"content_topic","value":"'/app/29/sometopic/someencoding'"},{"name":"pubsub_topic","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"retrieve_relay_message","time":{"start":1734063514391,"stop":1734063514393,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[{"name":"node","value":"<src.node.waku_node.WakuNode object at 0x7ff239662fc0>"},{"name":"content_topic","value":"'/app/20/sometopic/someencoding'"},{"name":"pubsub_topic","value":"None"}],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[{"uid":"bb9b657353b9c92f","name":"log","source":"bb9b657353b9c92f.txt","type":"text/plain","size":18187}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":32,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"test_setup::0","time":{"start":1734063514394,"stop":1734063514398,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"close_open_nodes::0","time":{"start":1734063514398,"stop":1734063517203,"duration":2805},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"check_waku_log_errors::0","time":{"start":1734063517203,"stop":1734063517223,"duration":20},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"attach_logs_on_fail::0","time":{"start":1734063517224,"stop":1734063517224,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"set_allure_env_variables::0","time":{"start":1734064597317,"stop":1734064597317,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"@pytest.mark.skipif(False, reason='Autosharding tests work only on nwaku because of https://github.com/waku-org/go-waku/issues/1061')"},{"name":"parentSuite","value":"tests.sharding"},{"name":"suite","value":"test_relay_auto_sharding"},{"name":"subSuite","value":"TestRelayAutosharding"},{"name":"host","value":"fv-az1921-216"},{"name":"thread","value":"2285-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.sharding.test_relay_auto_sharding"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"content_topic_list","value":"['/myapp/1/latest/proto', '/waku/2/content/test.js', '/app/22/sometopic/someencoding', '/toychat/2/huilong/proto', '/statusim/1/community/cbor', '/app/27/sometopic/someencoding', '/app/29/sometopic/someencoding', '/app/20/sometopic/someencoding']"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[],"history":{"statistic":{"failed":0,"broken":0,"skipped":0,"passed":2,"unknown":0,"total":2},"items":[{"uid":"9040fae87d7c70f7","reportUrl":"https://waku-org.github.io/waku-interop-tests/nim/517//#testresult/9040fae87d7c70f7","status":"passed","time":{"start":1733995401179,"stop":1733995404015,"duration":2836}}]},"tags":["@pytest.mark.skipif(False, reason='Autosharding tests work only on nwaku because of https://github.com/waku-org/go-waku/issues/1061')"]},"source":"a09d4b17d20facfa.json","parameterValues":["['/myapp/1/latest/proto', '/waku/2/content/test.js', '/app/22/sometopic/someencoding', '/toychat/2/huilong/proto', '/statusim/1/community/cbor', '/app/27/sometopic/someencoding', '/app/29/sometopic/someencoding', '/app/20/sometopic/someencoding']"]}