[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_publish_without_subscribing_via_api_works with id: 2024-09-15_04-27-10__bc30435c-0434-4095-b8ee-ced0c14e1493
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.sharding:sharding.py:29 Running fixture setup: sharding_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-09-15_04-27-10__bc30435c-0434-4095-b8ee-ced0c14e1493__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.180.131
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['36446', '36447', '36448', '36449', '36450']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 36446:36446 -p 36447:36447 -p 36448:36448 -p 36449:36449 -p 36450:36450 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=36448 --rest-port=36446 --tcp-port=36447 --discv5-udp-port=36449 --rest-address=0.0.0.0 --nat=extip:172.18.180.131 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=9deedfdb1d58cc89b2cf71cec2f1beb0bdaf9bac0775d679df01ec9a4eff1ff1 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=36450 --metrics-logging=true --relay=true --filter=true --content-topic=/myapp/1/latest/proto
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.180.131 waku 1337358116f02f5029417b56a35f251eb71ea4d1901940e15ad8f784369b30ed
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 1337358116f0. Setting up logs at ./log/docker/node1_2024-09-15_04-27-10__bc30435c-0434-4095-b8ee-ced0c14e1493__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 36446
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36446/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:36446/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.180.131/tcp/36447/p2p/16Uiu2HAky8pKvZCTDxitBaJrZpAAshECXcPCUenJ6izWmXbbw2DA","/ip4/172.18.180.131/tcp/36448/ws/p2p/16Uiu2HAky8pKvZCTDxitBaJrZpAAshECXcPCUenJ6izWmXbbw2DA"],"enrUri":"enr:-LO4QNknuy25Af98BkUuRcmdge8O3tAdjf_7Q6b7662eG7F1HofN5t7iBX3wlkYoB1vWmKF2Jf4naRzKjKBJgrIfH00BgmlkgnY0gmlwhKwStIOKbXVsdGlhZGRyc4wACgSsErSDBo5g3QOCcnOFAAIBAACJc2VjcDI1NmsxoQI3HU_g336MbHlM2q01EjxCC1hnn4Wox9sre57aSzocNYN0Y3CCjl-DdWRwgo5hhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-09-15_04-27-10__bc30435c-0434-4095-b8ee-ced0c14e1493__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.13.252
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['48748', '48749', '48750', '48751', '48752']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 48748:48748 -p 48749:48749 -p 48750:48750 -p 48751:48751 -p 48752:48752 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=48750 --rest-port=48748 --tcp-port=48749 --discv5-udp-port=48751 --rest-address=0.0.0.0 --nat=extip:172.18.13.252 --peer-exchange=true --discv5-discovery=true --cluster-id=2 --nodekey=d9dec6bdadeed50c7f1eb9cc408dcb36f16d89973d599aecf641d34baddf19ac --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=48752 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QNknuy25Af98BkUuRcmdge8O3tAdjf_7Q6b7662eG7F1HofN5t7iBX3wlkYoB1vWmKF2Jf4naRzKjKBJgrIfH00BgmlkgnY0gmlwhKwStIOKbXVsdGlhZGRyc4wACgSsErSDBo5g3QOCcnOFAAIBAACJc2VjcDI1NmsxoQI3HU_g336MbHlM2q01EjxCC1hnn4Wox9sre57aSzocNYN0Y3CCjl-DdWRwgo5hhXdha3UyBQ --content-topic=/myapp/1/latest/proto
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.13.252 waku 46258788c47f3e0415a31126cbff1886fdbbe821df38ff37629f24ad9968143a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 46258788c47f. Setting up logs at ./log/docker/node2_2024-09-15_04-27-10__bc30435c-0434-4095-b8ee-ced0c14e1493__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 48748
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48748/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:48748/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.13.252/tcp/48749/p2p/16Uiu2HAmPnacHtmJoBF5YPSHEdPdMR5QdbmFCANJCPQJyeHFTFht","/ip4/172.18.13.252/tcp/48750/ws/p2p/16Uiu2HAmPnacHtmJoBF5YPSHEdPdMR5QdbmFCANJCPQJyeHFTFht"],"enrUri":"enr:-LO4QP8aTfN_V5HQ7b6bM8gi07QVw9QnUjFvgHU-At-MurYOQaAHVpkc4VCyuH04qSzwj0Pw3jPG053STLeIGZJeQO8BgmlkgnY0gmlwhKwSDfyKbXVsdGlhZGRyc4wACgSsEg38Br5u3QOCcnOFAAIBAACJc2VjcDI1NmsxoQOlYlu1v3fFJ5w69k9nUQleSpu9_ua3Uk-pT6fHKyI0a4N0Y3CCvm2DdWRwgr5vhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48748/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.180.131/tcp/36447/p2p/16Uiu2HAky8pKvZCTDxitBaJrZpAAshECXcPCUenJ6izWmXbbw2DA"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:36446/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:48748/relay/v1/auto/messages" -H "Content-Type: application/json" -d '{"payload": "U2hhcmRpbmcgd29ya3MhIQ==", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 1337358116f0
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 46258788c47f
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.