[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-09-15_04-15-03__1fa07e73-8bf7-4b0e-b9a8-f93be42e3c9c
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-09-15_04-15-03__1fa07e73-8bf7-4b0e-b9a8-f93be42e3c9c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.23.88
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['39067', '39068', '39069', '39070', '39071']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 39067:39067 -p 39068:39068 -p 39069:39069 -p 39070:39070 -p 39071:39071 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=39069 --rest-port=39067 --tcp-port=39068 --discv5-udp-port=39070 --rest-address=0.0.0.0 --nat=extip:172.18.23.88 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=103bc0fcc9ee6037c468fd4ad8dcfa28f86acf35b7e74bf5bfcd94c0839d6cf0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=39071 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.23.88 waku e8d19ea68be39a0e3178a3b017af56fee398e6238e4bb4efd609fa45def4aef9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID e8d19ea68be3. Setting up logs at ./log/docker/node1_2024-09-15_04-15-03__1fa07e73-8bf7-4b0e-b9a8-f93be42e3c9c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 39067
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39067/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39067/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.23.88/tcp/39068/p2p/16Uiu2HAkxZNXN3voDa31LUya2tWfZ3f4JuY56SFzbwLwUrBRqhyj","/ip4/172.18.23.88/tcp/39069/ws/p2p/16Uiu2HAkxZNXN3voDa31LUya2tWfZ3f4JuY56SFzbwLwUrBRqhyj"],"enrUri":"enr:-LO4QCj78v6ga9PB9bS-m_R19F_inGQElkpuG_JAWE4SXPwuc4HfsZ-HYa4BSFWkfZWtrTkcpGzEM-wuvsBlzuKL1C4BgmlkgnY0gmlwhKwSF1iKbXVsdGlhZGRyc4wACgSsEhdYBpid3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIui_hU4At_Yeub964ddZI0aWhH-gp9ZHGrSHppqyudeoN0Y3CCmJyDdWRwgpiehXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-09-15_04-15-03__1fa07e73-8bf7-4b0e-b9a8-f93be42e3c9c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.73.26
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['24128', '24129', '24130', '24131', '24132']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 24128:24128 -p 24129:24129 -p 24130:24130 -p 24131:24131 -p 24132:24132 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=24130 --rest-port=24128 --tcp-port=24129 --discv5-udp-port=24131 --rest-address=0.0.0.0 --nat=extip:172.18.73.26 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3afadd130df28c46afed9abd389a7fb9e70fac3ea08e09add7ddc9ecc2ed921d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=24132 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QCj78v6ga9PB9bS-m_R19F_inGQElkpuG_JAWE4SXPwuc4HfsZ-HYa4BSFWkfZWtrTkcpGzEM-wuvsBlzuKL1C4BgmlkgnY0gmlwhKwSF1iKbXVsdGlhZGRyc4wACgSsEhdYBpid3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIui_hU4At_Yeub964ddZI0aWhH-gp9ZHGrSHppqyudeoN0Y3CCmJyDdWRwgpiehXdha3UyBQ --filternode=/ip4/172.18.23.88/tcp/39068/p2p/16Uiu2HAkxZNXN3voDa31LUya2tWfZ3f4JuY56SFzbwLwUrBRqhyj
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.73.26 waku b4bb4b59c11f26864de25c3e5294be3962df5752ccc8f980664130d7fcfc54b9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID b4bb4b59c11f. Setting up logs at ./log/docker/node2_2024-09-15_04-15-03__1fa07e73-8bf7-4b0e-b9a8-f93be42e3c9c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 24128
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24128/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24128/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.73.26/tcp/24129/p2p/16Uiu2HAm8yD13H7ju56EC2rWZaKgRBRYurqESbAm9fbYZ9uX1gqT","/ip4/172.18.73.26/tcp/24130/ws/p2p/16Uiu2HAm8yD13H7ju56EC2rWZaKgRBRYurqESbAm9fbYZ9uX1gqT"],"enrUri":"enr:-LO4QFd7QazVDJR5pFrpVKr4dHoJ23ZYP2MNW21fDm0cIGETPThFLwTQ_xI6yFfkXX92fufPMIkP4BHqO_6HBIqtOYgBgmlkgnY0gmlwhKwSSRqKbXVsdGlhZGRyc4wACgSsEkkaBl5C3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLJPALgdTi9n8U2WpvR8y9xeRSOh7Iq8fvHPCA16e5k1oN0Y3CCXkGDdWRwgl5DhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24128/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.23.88/tcp/39068/p2p/16Uiu2HAkxZNXN3voDa31LUya2tWfZ3f4JuY56SFzbwLwUrBRqhyj"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-09-15_04-15-03__1fa07e73-8bf7-4b0e-b9a8-f93be42e3c9c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.95.95
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['21632', '21633', '21634', '21635', '21636']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 21632:21632 -p 21633:21633 -p 21634:21634 -p 21635:21635 -p 21636:21636 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=21634 --rest-port=21632 --tcp-port=21633 --discv5-udp-port=21635 --rest-address=0.0.0.0 --nat=extip:172.18.95.95 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=aea9cea8c8fc1c94aeac1c2e99ccc1a9f0d1abb78db9cd80a0eadfe81c9786eb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=21636 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QCj78v6ga9PB9bS-m_R19F_inGQElkpuG_JAWE4SXPwuc4HfsZ-HYa4BSFWkfZWtrTkcpGzEM-wuvsBlzuKL1C4BgmlkgnY0gmlwhKwSF1iKbXVsdGlhZGRyc4wACgSsEhdYBpid3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIui_hU4At_Yeub964ddZI0aWhH-gp9ZHGrSHppqyudeoN0Y3CCmJyDdWRwgpiehXdha3UyBQ --filternode=/ip4/172.18.23.88/tcp/39068/p2p/16Uiu2HAkxZNXN3voDa31LUya2tWfZ3f4JuY56SFzbwLwUrBRqhyj
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.95.95 waku 7972083a6366d50f20a1e72315fc76d620ce7a266c2d7365ef8c88b9bab49bd2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 7972083a6366. Setting up logs at ./log/docker/node3_2024-09-15_04-15-03__1fa07e73-8bf7-4b0e-b9a8-f93be42e3c9c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 21632
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21632/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21632/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.95.95/tcp/21633/p2p/16Uiu2HAkxQu6zoUYQaDAkUPkMqqQduRSNbYGuUbu2jkj2PSWj49p","/ip4/172.18.95.95/tcp/21634/ws/p2p/16Uiu2HAkxQu6zoUYQaDAkUPkMqqQduRSNbYGuUbu2jkj2PSWj49p"],"enrUri":"enr:-LO4QPib0j6UnlFhlZiS-i4x57B6zTtcF3secZXD7gxuj80tDr4tsG1kqIesBpaynmdF0NLUDg4vf_fi728i5x4Sf8gBgmlkgnY0gmlwhKwSX1-KbXVsdGlhZGRyc4wACgSsEl9fBlSC3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIsYFHOZKjbwyTPFKFqSZofE0r5nEQik8gmjfWEuqo3a4N0Y3CCVIGDdWRwglSDhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21632/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.23.88/tcp/39068/p2p/16Uiu2HAkxZNXN3voDa31LUya2tWfZ3f4JuY56SFzbwLwUrBRqhyj"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-09-15_04-15-03__1fa07e73-8bf7-4b0e-b9a8-f93be42e3c9c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.128.178
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['46020', '46021', '46022', '46023', '46024']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 46020:46020 -p 46021:46021 -p 46022:46022 -p 46023:46023 -p 46024:46024 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=46022 --rest-port=46020 --tcp-port=46021 --discv5-udp-port=46023 --rest-address=0.0.0.0 --nat=extip:172.18.128.178 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=7af3eefbf6f4f81d45ea9f005cbd2cf29baf2beed6c4bf84a04ace4e5e239eca --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=46024 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QCj78v6ga9PB9bS-m_R19F_inGQElkpuG_JAWE4SXPwuc4HfsZ-HYa4BSFWkfZWtrTkcpGzEM-wuvsBlzuKL1C4BgmlkgnY0gmlwhKwSF1iKbXVsdGlhZGRyc4wACgSsEhdYBpid3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIui_hU4At_Yeub964ddZI0aWhH-gp9ZHGrSHppqyudeoN0Y3CCmJyDdWRwgpiehXdha3UyBQ --filternode=/ip4/172.18.23.88/tcp/39068/p2p/16Uiu2HAkxZNXN3voDa31LUya2tWfZ3f4JuY56SFzbwLwUrBRqhyj
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.128.178 waku 604d699445189ba4ad5e0f43ce2ea4ecc5a6479891c6d46ecaab2c50cc41e046
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 604d69944518. Setting up logs at ./log/docker/node4_2024-09-15_04-15-03__1fa07e73-8bf7-4b0e-b9a8-f93be42e3c9c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 46020
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46020/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:46020/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.128.178/tcp/46021/p2p/16Uiu2HAmNCHovT217BaCTp6KPiCqpN1JhgHF6cq7jCfuQNYAchFg","/ip4/172.18.128.178/tcp/46022/ws/p2p/16Uiu2HAmNCHovT217BaCTp6KPiCqpN1JhgHF6cq7jCfuQNYAchFg"],"enrUri":"enr:-LO4QOTOudp8aTFzXaCYiVkBc1Z0RmzkVofml0JC24MdCw_nEKDoEdDG6SRVMz_SsXC_IWtzavJPN3ZnVKA-NXHaKRcBgmlkgnY0gmlwhKwSgLKKbXVsdGlhZGRyc4wACgSsEoCyBrPG3QOCcnOFAAMBAACJc2VjcDI1NmsxoQONve23NXgtJWFGojVQ15e9BK-EUqLbV936S65TdP1ZG4N0Y3CCs8WDdWRwgrPHhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46020/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.23.88/tcp/39068/p2p/16Uiu2HAkxZNXN3voDa31LUya2tWfZ3f4JuY56SFzbwLwUrBRqhyj"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-09-15_04-15-03__1fa07e73-8bf7-4b0e-b9a8-f93be42e3c9c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.164.159
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['28744', '28745', '28746', '28747', '28748']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 28744:28744 -p 28745:28745 -p 28746:28746 -p 28747:28747 -p 28748:28748 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=28746 --rest-port=28744 --tcp-port=28745 --discv5-udp-port=28747 --rest-address=0.0.0.0 --nat=extip:172.18.164.159 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c4fd43ca02ae872dcd634bfcbbe22616347775c2ba03ce318d99bcb3fffccb3d --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=28748 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QCj78v6ga9PB9bS-m_R19F_inGQElkpuG_JAWE4SXPwuc4HfsZ-HYa4BSFWkfZWtrTkcpGzEM-wuvsBlzuKL1C4BgmlkgnY0gmlwhKwSF1iKbXVsdGlhZGRyc4wACgSsEhdYBpid3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIui_hU4At_Yeub964ddZI0aWhH-gp9ZHGrSHppqyudeoN0Y3CCmJyDdWRwgpiehXdha3UyBQ --filternode=/ip4/172.18.23.88/tcp/39068/p2p/16Uiu2HAkxZNXN3voDa31LUya2tWfZ3f4JuY56SFzbwLwUrBRqhyj
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.164.159 waku 7c94d9be2271d157543b4e8a2f7194088cb596743a7b8e0cbd76472d9758d680
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 7c94d9be2271. Setting up logs at ./log/docker/node5_2024-09-15_04-15-03__1fa07e73-8bf7-4b0e-b9a8-f93be42e3c9c__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 28744
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28744/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:28744/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.164.159/tcp/28745/p2p/16Uiu2HAkvtzLUw2rqA8qFrvRoeHVhexfmGstGPXF3DeYz5AP76JX","/ip4/172.18.164.159/tcp/28746/ws/p2p/16Uiu2HAkvtzLUw2rqA8qFrvRoeHVhexfmGstGPXF3DeYz5AP76JX"],"enrUri":"enr:-LO4QKi4ehFO2cbAUyX6_5mOHY4yc_4_kj4I3lofhoA09OvjCAP3PPwIvRclABcO7qd-jcrFfXGBsh1FrK1xZW48oe0BgmlkgnY0gmlwhKwSpJ-KbXVsdGlhZGRyc4wACgSsEqSfBnBK3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIV2x_wgwK4VPznNSAiHZ2WTkRXIY5tw7sxT91WtoM1HIN0Y3CCcEmDdWRwgnBLhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28744/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.23.88/tcp/39068/p2p/16Uiu2HAkxZNXN3voDa31LUya2tWfZ3f4JuY56SFzbwLwUrBRqhyj"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39067/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:24128/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "49c998a0-23f0-43e4-ac48-627a47f80592", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"49c998a0-23f0-43e4-ac48-627a47f80592","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21632/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "486b6f98-69bb-424a-8767-c952597658ed", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"486b6f98-69bb-424a-8767-c952597658ed","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:46020/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "fd2012a2-ec35-4228-83c1-109601f3ee91", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"fd2012a2-ec35-4228-83c1-109601f3ee91","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:28744/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "fb2f4bbb-524d-4133-b9dd-5e89f271457b", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"fb2f4bbb-524d-4133-b9dd-5e89f271457b","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39067/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:24128/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1726373713176309504,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39067/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21632/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:21632/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id e8d19ea68be3
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id b4bb4b59c11f
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 7972083a6366
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 604d69944518
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 7c94d9be2271
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.