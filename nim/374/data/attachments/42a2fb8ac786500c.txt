[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_passing_non_base64_cursor with id: 2024-09-28_04-28-02__685305e3-6ee8-4f27-8bcd-6c53d52563c1
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:31 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:39 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-09-28_04-28-02__685305e3-6ee8-4f27-8bcd-6c53d52563c1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.230.108
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['26021', '26022', '26023', '26024', '26025']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 26021:26021 -p 26022:26022 -p 26023:26023 -p 26024:26024 -p 26025:26025 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=26023 --rest-port=26021 --tcp-port=26022 --discv5-udp-port=26024 --rest-address=0.0.0.0 --nat=extip:172.18.230.108 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9ad9b626ee2c33f6bd6dbf16705cdca0eff2b1f6ddf2bbbcce8aed47eec03a6e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=26025 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.230.108 waku 0943d1191db0f500b8bd55750a603741b27c014665f7176f60270b35707bde1c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 0943d1191db0. Setting up logs at ./log/docker/publishing_node1_2024-09-28_04-28-02__685305e3-6ee8-4f27-8bcd-6c53d52563c1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 26021
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26021/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26021/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.230.108/tcp/26022/p2p/16Uiu2HAmV7dbVq1eoixxDNKuBMyFWcD7gAnqD3HnmH2ZXCbPKMmi","/ip4/172.18.230.108/tcp/26023/ws/p2p/16Uiu2HAmV7dbVq1eoixxDNKuBMyFWcD7gAnqD3HnmH2ZXCbPKMmi"],"enrUri":"enr:-LO4QOhxU5MNaOym8Xy95WUEM5VBh-t3WBNBHdo_NdExvUjzMlD3TSc7Wcr_Tebhq5iAHnWFK2U_VYfWVX6-ZYTCqEABgmlkgnY0gmlwhKwS5myKbXVsdGlhZGRyc4wACgSsEuZsBmWn3QOCcnOFAAMBAACJc2VjcDI1NmsxoQP0jjRym-LhGJfxuLbkG9C7cnmQngYyIErIucPZdiBQIYN0Y3CCZaaDdWRwgmWohXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-09-28_04-28-02__685305e3-6ee8-4f27-8bcd-6c53d52563c1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.190.135
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['5518', '5519', '5520', '5521', '5522']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 5518:5518 -p 5519:5519 -p 5520:5520 -p 5521:5521 -p 5522:5522 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=5520 --rest-port=5518 --tcp-port=5519 --discv5-udp-port=5521 --rest-address=0.0.0.0 --nat=extip:172.18.190.135 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=acac58b82a0495c176e5cbdab5c6d8cb4fd853c462faaff8e70cf2b32dab7bce --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=5522 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QOhxU5MNaOym8Xy95WUEM5VBh-t3WBNBHdo_NdExvUjzMlD3TSc7Wcr_Tebhq5iAHnWFK2U_VYfWVX6-ZYTCqEABgmlkgnY0gmlwhKwS5myKbXVsdGlhZGRyc4wACgSsEuZsBmWn3QOCcnOFAAMBAACJc2VjcDI1NmsxoQP0jjRym-LhGJfxuLbkG9C7cnmQngYyIErIucPZdiBQIYN0Y3CCZaaDdWRwgmWohXdha3UyAw --storenode=/ip4/172.18.230.108/tcp/26022/p2p/16Uiu2HAmV7dbVq1eoixxDNKuBMyFWcD7gAnqD3HnmH2ZXCbPKMmi --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.190.135 waku 2325049bfcf5b079ed29ce9c004cf0166583cd8b61290f6f49d2ba095372c56e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 2325049bfcf5. Setting up logs at ./log/docker/store_node1_2024-09-28_04-28-02__685305e3-6ee8-4f27-8bcd-6c53d52563c1__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 5518
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5518/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5518/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.190.135/tcp/5519/p2p/16Uiu2HAmCkreuYoRxmgoH3QSwayfSxjMcMUgAmmmK8efYFVWZ4WT","/ip4/172.18.190.135/tcp/5520/ws/p2p/16Uiu2HAmCkreuYoRxmgoH3QSwayfSxjMcMUgAmmmK8efYFVWZ4WT"],"enrUri":"enr:-LO4QFuOavePTDU8yOMGtJiPySJHKHiEsoJE0p-0UukGohLnaE-Yo68BjFvyvu5kF4_AH8-xak9N5nAJxeIRl08R0psBgmlkgnY0gmlwhKwSvoeKbXVsdGlhZGRyc4wACgSsEr6HBhWQ3QOCcnOFAAMBAACJc2VjcDI1NmsxoQMBgMhczNZkMku562n-D1tH4jqKILosJFE5Y8RKaaQ8aIN0Y3CCFY-DdWRwghWRhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5518/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.230.108/tcp/26022/p2p/16Uiu2HAmV7dbVq1eoixxDNKuBMyFWcD7gAnqD3HnmH2ZXCbPKMmi"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26021/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5518/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26021/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8w", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26021/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8x", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26021/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8y", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:132 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:26021/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8z", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:26021/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&cursor=test&pageSize=100&ascending=true" -H "Content-Type: application/json" -d 'None'
[31m[1mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:26021/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&cursor=test&pageSize=100&ascending=true. Response content: b'waku message hash parsing error: invalid hash length: 3'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 0943d1191db0
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 2325049bfcf5
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.