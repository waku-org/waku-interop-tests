[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_filter_unsubscribe_all_with_invalid_request_id with id: 2024-09-28_04-16-53__9a180a88-e206-42fa-aaf2-8e7c783418d3
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-09-28_04-16-53__9a180a88-e206-42fa-aaf2-8e7c783418d3__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.34.169
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['16896', '16897', '16898', '16899', '16900']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 16896:16896 -p 16897:16897 -p 16898:16898 -p 16899:16899 -p 16900:16900 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=16898 --rest-port=16896 --tcp-port=16897 --discv5-udp-port=16899 --rest-address=0.0.0.0 --nat=extip:172.18.34.169 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=abfecafeea158abdcf4cb27c43a8aededfb7e082b587cdbeb96cbb917b0fde0e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=16900 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.34.169 waku 88b455aa89c96cd0da3be5719a0dca4e5cc1ca117678785a4e61fc08c4553026
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 88b455aa89c9. Setting up logs at ./log/docker/node1_2024-09-28_04-16-53__9a180a88-e206-42fa-aaf2-8e7c783418d3__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 16896
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16896/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:16896/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.34.169/tcp/16897/p2p/16Uiu2HAmV3AZQhZWnV3JD8usEg7Q71AVjALsZQeN7QWonTGWpSQX","/ip4/172.18.34.169/tcp/16898/ws/p2p/16Uiu2HAmV3AZQhZWnV3JD8usEg7Q71AVjALsZQeN7QWonTGWpSQX"],"enrUri":"enr:-LO4QED1eAIGbId_omAcLSUNJOdVezO8EJBIqqfnJCZb99MHRVsDMiA5JIJDBM0wzivh9pcnnKHPn34QR0bIlEFx9I0BgmlkgnY0gmlwhKwSIqmKbXVsdGlhZGRyc4wACgSsEiKpBkIC3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPzaU_abC6iNeHxhHt6iaUDIJ9LAcy30iJQRAHf0aRxYIN0Y3CCQgGDdWRwgkIDhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-09-28_04-16-53__9a180a88-e206-42fa-aaf2-8e7c783418d3__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.147.115
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['21002', '21003', '21004', '21005', '21006']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 21002:21002 -p 21003:21003 -p 21004:21004 -p 21005:21005 -p 21006:21006 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=21004 --rest-port=21002 --tcp-port=21003 --discv5-udp-port=21005 --rest-address=0.0.0.0 --nat=extip:172.18.147.115 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c57bc87fc6f2c367f6ed0f4de5e5888e603c8cdc837ffc2aabbbce9ccd05a619 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=21006 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QED1eAIGbId_omAcLSUNJOdVezO8EJBIqqfnJCZb99MHRVsDMiA5JIJDBM0wzivh9pcnnKHPn34QR0bIlEFx9I0BgmlkgnY0gmlwhKwSIqmKbXVsdGlhZGRyc4wACgSsEiKpBkIC3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPzaU_abC6iNeHxhHt6iaUDIJ9LAcy30iJQRAHf0aRxYIN0Y3CCQgGDdWRwgkIDhXdha3UyBQ --filternode=/ip4/172.18.34.169/tcp/16897/p2p/16Uiu2HAmV3AZQhZWnV3JD8usEg7Q71AVjALsZQeN7QWonTGWpSQX
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.147.115 waku 255a13c3ff8ba2049ac55cd76a8047ac17d464f6372df69f54e2ccca6e1fc3c2
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 255a13c3ff8b. Setting up logs at ./log/docker/node2_2024-09-28_04-16-53__9a180a88-e206-42fa-aaf2-8e7c783418d3__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 21002
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21002/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:21002/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.147.115/tcp/21003/p2p/16Uiu2HAmRrHKEWjAWupaCwEAUR1z969nck5wD7Gju1ZoHuGvRfMQ","/ip4/172.18.147.115/tcp/21004/ws/p2p/16Uiu2HAmRrHKEWjAWupaCwEAUR1z969nck5wD7Gju1ZoHuGvRfMQ"],"enrUri":"enr:-LO4QCHGQbQEzD94zFAQ_0DaQ-Cfi4TrmBM0fRzDGnwCSeepZXD7h3iZQMgc17-5s873cYk5behKrHHA8pI8qRCPlBIBgmlkgnY0gmlwhKwSk3OKbXVsdGlhZGRyc4wACgSsEpNzBlIM3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPEDIA1xliaHG57y9O4jNwU_ughW-A1MMoeh-4W2zqfZ4N0Y3CCUguDdWRwglINhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21002/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.34.169/tcp/16897/p2p/16Uiu2HAmV3AZQhZWnV3JD8usEg7Q71AVjALsZQeN7QWonTGWpSQX"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.filter:filter.py:47 Running fixture setup: subscribe_main_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:16896/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:21002/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "206ba958-d4d5-4d5f-aedb-1f18c97f6de2", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"206ba958-d4d5-4d5f-aedb-1f18c97f6de2","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X DELETE "http://127.0.0.1:21002/filter/v2/subscriptions/all" -H "Content-Type: application/json" -d '{"requestId": 1}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:21002/filter/v2/subscriptions/all. Response content: b'{"requestId":"unknown","statusDesc":"BAD_REQUEST: Failed to decode request: (status: 400 Bad Request, headers: , kind: Error, errobj: (status: 400 Bad Request, message: \\"Invalid content body, could not decode. Unable to deserialize data\\", contentType: \\"text/plain\\"))"}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 88b455aa89c9
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 255a13c3ff8b
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.