[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_valid_payloads_with_optional_nodes_at_spam_rate with id: 2024-09-07_04-31-53__fb492666-c312-4f60-ba6d-c7ff1345a751
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-09-07_04-31-53__fb492666-c312-4f60-ba6d-c7ff1345a751__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.178.240
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['3019', '3020', '3021', '3022', '3023']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes ['/home/runner/work/waku-interop-tests/waku-interop-tests/rln_tree_qwqq_1:/etc/rln_tree', '/home/runner/work/waku-interop-tests/waku-interop-tests/keystore_qwqq_1:/keystore']
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 3019:3019 -p 3020:3020 -p 3021:3021 -p 3022:3022 -p 3023:3023 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=3021 --rest-port=3019 --tcp-port=3020 --discv5-udp-port=3022 --rest-address=0.0.0.0 --nat=extip:172.18.178.240 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=af9ff0e2ba46c88bc0aae9ec74dde2d51ccf9f43af75ab0b5f704ef9bfa2e30e --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=3023 --metrics-logging=true --relay=true --rln-relay-membership-index=1 --rln-relay-user-message-limit=1 --rln-relay-epoch-sec=1 --rln-relay=true --rln-relay-cred-path=/keystore/keystore.json --rln-relay-cred-password=password
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.178.240 waku 0eef9a9f79acdc131f653f3cfa3a9fda38a6906163bc2ca6cb5fa33eaabf7a94
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 0eef9a9f79ac. Setting up logs at ./log/docker/node1_2024-09-07_04-31-53__fb492666-c312-4f60-ba6d-c7ff1345a751__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 3019
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3019/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Initializing","protocolsHealth":[{"Rln Relay":"Ready"}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3019/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[{"Rln Relay":"Ready"}]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3019/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.178.240/tcp/3020/p2p/16Uiu2HAkwvvFrwjWNhceTHiNNZGKJ5VtHZYUJ6E928WVjSraNKpv","/ip4/172.18.178.240/tcp/3021/ws/p2p/16Uiu2HAkwvvFrwjWNhceTHiNNZGKJ5VtHZYUJ6E928WVjSraNKpv"],"enrUri":"enr:-LO4QDS6Wzh5HSCtNdAywjstDbc19vDR7Ay30kN8Di6ry9oRZ9eXobcTXqxAT_BDrcOyQkMWNeG7gtrfWyA3QtaOlkkBgmlkgnY0gmlwhKwSsvCKbXVsdGlhZGRyc4wACgSsErLwBgvN3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIlNVxEWkMf9hUDUBAsKj7VRwUyKKXBkfI21C4-CNE2m4N0Y3CCC8yDdWRwggvOhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-09-07_04-31-53__fb492666-c312-4f60-ba6d-c7ff1345a751__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.60.55
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['1764', '1765', '1766', '1767', '1768']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes ['/home/runner/work/waku-interop-tests/waku-interop-tests/rln_tree_rfow_2:/etc/rln_tree', '/home/runner/work/waku-interop-tests/waku-interop-tests/keystore_rfow_2:/keystore']
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 1764:1764 -p 1765:1765 -p 1766:1766 -p 1767:1767 -p 1768:1768 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=1766 --rest-port=1764 --tcp-port=1765 --discv5-udp-port=1767 --rest-address=0.0.0.0 --nat=extip:172.18.60.55 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d92a638fb2d48bcebae033a4fca0c3261ced069db6c50bd08becedd6b8b1ccff --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=1768 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QDS6Wzh5HSCtNdAywjstDbc19vDR7Ay30kN8Di6ry9oRZ9eXobcTXqxAT_BDrcOyQkMWNeG7gtrfWyA3QtaOlkkBgmlkgnY0gmlwhKwSsvCKbXVsdGlhZGRyc4wACgSsErLwBgvN3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIlNVxEWkMf9hUDUBAsKj7VRwUyKKXBkfI21C4-CNE2m4N0Y3CCC8yDdWRwggvOhXdha3UyAQ --rln-relay-membership-index=1 --rln-relay-user-message-limit=1 --rln-relay-epoch-sec=1 --rln-relay=true --rln-relay-cred-path=/keystore/keystore.json --rln-relay-cred-password=password
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.60.55 waku 90a6f38a4ab9bf562b553da3e12cd3afbfaf2a35bd61e6bb4e9a97241938bb0d
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 90a6f38a4ab9. Setting up logs at ./log/docker/node2_2024-09-07_04-31-53__fb492666-c312-4f60-ba6d-c7ff1345a751__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 1764
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1764/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Initializing","protocolsHealth":[{"Rln Relay":"Ready"}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1764/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[{"Rln Relay":"Ready"}]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:1764/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.60.55/tcp/1765/p2p/16Uiu2HAm1tXBmk3M9HuSpKsBWXnVTrmcon6SAd9HVrPZu28M8evc","/ip4/172.18.60.55/tcp/1766/ws/p2p/16Uiu2HAm1tXBmk3M9HuSpKsBWXnVTrmcon6SAd9HVrPZu28M8evc"],"enrUri":"enr:-LO4QDAuDs74yqBkxp37HV1vVL1gbDotBCndhAybszddyd3CLVS_6k_-Ee1KNTFVlIMJueatQlXawzJzaxMEZHWp968BgmlkgnY0gmlwhKwSPDeKbXVsdGlhZGRyc4wACgSsEjw3Bgbm3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJgBtxP6meV69bRWOoTuVaLIaHArmSKwTI7vMSBmJFuUYN0Y3CCBuWDdWRwggbnhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1764/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.178.240/tcp/3020/p2p/16Uiu2HAkwvvFrwjWNhceTHiNNZGKJ5VtHZYUJ6E928WVjSraNKpv"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-09-07_04-31-53__fb492666-c312-4f60-ba6d-c7ff1345a751__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.221.229
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['60956', '60957', '60958', '60959', '60960']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes ['/home/runner/work/waku-interop-tests/waku-interop-tests/rln_tree_jdpb_3:/etc/rln_tree', '/home/runner/work/waku-interop-tests/waku-interop-tests/keystore_jdpb_3:/keystore']
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 60956:60956 -p 60957:60957 -p 60958:60958 -p 60959:60959 -p 60960:60960 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=60958 --rest-port=60956 --tcp-port=60957 --discv5-udp-port=60959 --rest-address=0.0.0.0 --nat=extip:172.18.221.229 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=3b30eeca9d9cfc7e3c46c3d9698f40df9f7efae3eddff00270acc3fb2f5e71e2 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=60960 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QDS6Wzh5HSCtNdAywjstDbc19vDR7Ay30kN8Di6ry9oRZ9eXobcTXqxAT_BDrcOyQkMWNeG7gtrfWyA3QtaOlkkBgmlkgnY0gmlwhKwSsvCKbXVsdGlhZGRyc4wACgSsErLwBgvN3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIlNVxEWkMf9hUDUBAsKj7VRwUyKKXBkfI21C4-CNE2m4N0Y3CCC8yDdWRwggvOhXdha3UyAQ --rln-relay-membership-index=1 --rln-relay-user-message-limit=1 --rln-relay-epoch-sec=1 --rln-relay=true --rln-relay-cred-path=/keystore/keystore.json --rln-relay-cred-password=password
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.221.229 waku 34af8ad86e0a45035f10a7466bb3ad546e3a2ef971b59f4d2461a1d8ae5e8433
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 34af8ad86e0a. Setting up logs at ./log/docker/node3_2024-09-07_04-31-53__fb492666-c312-4f60-ba6d-c7ff1345a751__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 60956
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60956/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Initializing","protocolsHealth":[{"Rln Relay":"Ready"}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60956/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[{"Rln Relay":"Ready"}]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60956/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.221.229/tcp/60957/p2p/16Uiu2HAmNR9PfeM6EwR8QEVgqZernaEeWXtNPcVx95ZFBrQLLMwH","/ip4/172.18.221.229/tcp/60958/ws/p2p/16Uiu2HAmNR9PfeM6EwR8QEVgqZernaEeWXtNPcVx95ZFBrQLLMwH"],"enrUri":"enr:-LO4QBOz1froE8BhEkEh_bzzSamXzXipzlHlBBEOCmJbYVGLZ0BezsqcnFu81Kr14NkMe-fdf_77K-A26RsOGLDxq60BgmlkgnY0gmlwhKwS3eWKbXVsdGlhZGRyc4wACgSsEt3lBu4e3QOCcnOFAAMBAACJc2VjcDI1NmsxoQORCPXqspcENs_4RGBJ-NufFjVFhh2a3yByF814_-LW5IN0Y3CC7h2DdWRwgu4fhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60956/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.178.240/tcp/3020/p2p/16Uiu2HAkwvvFrwjWNhceTHiNNZGKJ5VtHZYUJ6E928WVjSraNKpv"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-09-07_04-31-53__fb492666-c312-4f60-ba6d-c7ff1345a751__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.85.60
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['38648', '38649', '38650', '38651', '38652']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes ['/home/runner/work/waku-interop-tests/waku-interop-tests/rln_tree_nhum_4:/etc/rln_tree', '/home/runner/work/waku-interop-tests/waku-interop-tests/keystore_nhum_4:/keystore']
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 38648:38648 -p 38649:38649 -p 38650:38650 -p 38651:38651 -p 38652:38652 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=38650 --rest-port=38648 --tcp-port=38649 --discv5-udp-port=38651 --rest-address=0.0.0.0 --nat=extip:172.18.85.60 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=d2caa1bda74ef7e64fe4e00fe51f4dc9adc9e5b5cf5fb6ebfbd8ea0cefe17dea --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=38652 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QDS6Wzh5HSCtNdAywjstDbc19vDR7Ay30kN8Di6ry9oRZ9eXobcTXqxAT_BDrcOyQkMWNeG7gtrfWyA3QtaOlkkBgmlkgnY0gmlwhKwSsvCKbXVsdGlhZGRyc4wACgSsErLwBgvN3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIlNVxEWkMf9hUDUBAsKj7VRwUyKKXBkfI21C4-CNE2m4N0Y3CCC8yDdWRwggvOhXdha3UyAQ --rln-relay-membership-index=1 --rln-relay-user-message-limit=1 --rln-relay-epoch-sec=1 --rln-relay=true --rln-relay-cred-path=/keystore/keystore.json --rln-relay-cred-password=password
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.85.60 waku 54ba07153c059776786e37af506e267bec57577efff6b81c208178a25467487c
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 54ba07153c05. Setting up logs at ./log/docker/node4_2024-09-07_04-31-53__fb492666-c312-4f60-ba6d-c7ff1345a751__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 38648
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38648/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Initializing","protocolsHealth":[{"Rln Relay":"Ready"}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38648/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[{"Rln Relay":"Ready"}]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:38648/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.85.60/tcp/38649/p2p/16Uiu2HAm5CfY3FY8MBt1XriJVgtCV1FuNQf8VMp7oZQBUVWAGVYB","/ip4/172.18.85.60/tcp/38650/ws/p2p/16Uiu2HAm5CfY3FY8MBt1XriJVgtCV1FuNQf8VMp7oZQBUVWAGVYB"],"enrUri":"enr:-LO4QK4ReP-4SWQM1_URwCNtih4HunCvh3qYU-Dp4CSbA7YDOucODVSpP1v7mHs3AC4GulrFN_EqoXJovMSCLc18dMkBgmlkgnY0gmlwhKwSVTyKbXVsdGlhZGRyc4wACgSsElU8Bpb63QOCcnOFAAMBAACJc2VjcDI1NmsxoQKRP9ERsI963Wqn2XlkNO0XYVwNygti8gpqc1svR6ciiIN0Y3CClvmDdWRwgpb7hXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38648/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.178.240/tcp/3020/p2p/16Uiu2HAkwvvFrwjWNhceTHiNNZGKJ5VtHZYUJ6E928WVjSraNKpv"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-09-07_04-31-53__fb492666-c312-4f60-ba6d-c7ff1345a751__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.90.190
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['14865', '14866', '14867', '14868', '14869']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes ['/home/runner/work/waku-interop-tests/waku-interop-tests/rln_tree_vjfz_5:/etc/rln_tree', '/home/runner/work/waku-interop-tests/waku-interop-tests/keystore_vjfz_5:/keystore']
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 14865:14865 -p 14866:14866 -p 14867:14867 -p 14868:14868 -p 14869:14869 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=14867 --rest-port=14865 --tcp-port=14866 --discv5-udp-port=14868 --rest-address=0.0.0.0 --nat=extip:172.18.90.190 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=be219dc6be2afc3a7a70ec6c48df85fe46e9eb33611efbdac41af4a9e5fd9d78 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=14869 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QDS6Wzh5HSCtNdAywjstDbc19vDR7Ay30kN8Di6ry9oRZ9eXobcTXqxAT_BDrcOyQkMWNeG7gtrfWyA3QtaOlkkBgmlkgnY0gmlwhKwSsvCKbXVsdGlhZGRyc4wACgSsErLwBgvN3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIlNVxEWkMf9hUDUBAsKj7VRwUyKKXBkfI21C4-CNE2m4N0Y3CCC8yDdWRwggvOhXdha3UyAQ --rln-relay-membership-index=1 --rln-relay-user-message-limit=1 --rln-relay-epoch-sec=1 --rln-relay=true --rln-relay-cred-path=/keystore/keystore.json --rln-relay-cred-password=password
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.90.190 waku cbac6da45ddb02de7f1c5ea5f84272b482a57483b47ea4f7bba3f1109b07ab0a
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID cbac6da45ddb. Setting up logs at ./log/docker/node5_2024-09-07_04-31-53__fb492666-c312-4f60-ba6d-c7ff1345a751__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 14865
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14865/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Initializing","protocolsHealth":[{"Rln Relay":"Ready"}]}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14865/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[{"Rln Relay":"Ready"}]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:14865/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.90.190/tcp/14866/p2p/16Uiu2HAkxwPuNB4XCMijtrA7dpPLaoxCJjpWvbTQvhzkMnjQ7DSn","/ip4/172.18.90.190/tcp/14867/ws/p2p/16Uiu2HAkxwPuNB4XCMijtrA7dpPLaoxCJjpWvbTQvhzkMnjQ7DSn"],"enrUri":"enr:-LO4QJr-3GO8UW6o-4Q5sCSDsxVpv_jNdZy1mzi4RXdyEaexXGBXktBRFAJ_kTitjGMtw-LQuD0MBD__j0tktFFgccQBgmlkgnY0gmlwhKwSWr6KbXVsdGlhZGRyc4wACgSsElq-BjoT3QOCcnOFAAMBAACJc2VjcDI1NmsxoQI0ME621GgqrS0Ciz6AA2N7hwBgg_4T_6RbjyvlT5yxZ4N0Y3CCOhKDdWRwgjoUhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14865/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.178.240/tcp/3020/p2p/16Uiu2HAkwvvFrwjWNhceTHiNNZGKJ5VtHZYUJ6E928WVjSraNKpv"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3019/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/1/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:1764/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/1/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60956/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/1/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:38648/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/1/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:14865/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/1/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m tests.relay.test_rln:test_rln.py:236 Running test with payload A simple string
[35mDEBUG   [0m tests.relay.test_rln:test_rln.py:239 Sending message No. #1
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3019/relay/v1/messages/%2Fwaku%2F2%2Frs%2F1%2F0" -H "Content-Type: application/json" -d '{"payload": "SGVsbG8gV29ybGQh", "contentTopic": "/test/1/waku-rln-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m tests.relay.test_rln:test_rln.py:236 Running test with payload An integer
[35mDEBUG   [0m tests.relay.test_rln:test_rln.py:239 Sending message No. #2
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3019/relay/v1/messages/%2Fwaku%2F2%2Frs%2F1%2F0" -H "Content-Type: application/json" -d '{"payload": "MTIzNDU2Nzg5MA==", "contentTopic": "/test/1/waku-rln-relay/proto", "timestamp": '$(date +%s%N)'}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:3019/relay/v1/messages/%2Fwaku%2F2%2Frs%2F1%2F0. Response content: b'Failed to publish: error appending RLN proof to message: could not get new message id to generate an rln proof: NonceLimitReached: Nonce limit reached. Please wait for the next epoch. requested nonce: 1 & nonceLimit: 1'
[35mDEBUG   [0m tests.relay.test_rln:test_rln.py:236 Running test with payload A dictionary
[35mDEBUG   [0m tests.relay.test_rln:test_rln.py:239 Sending message No. #3
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3019/relay/v1/messages/%2Fwaku%2F2%2Frs%2F1%2F0" -H "Content-Type: application/json" -d '{"payload": "eyJrZXkiOiAidmFsdWUifQ==", "contentTopic": "/test/1/waku-rln-relay/proto", "timestamp": '$(date +%s%N)'}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:3019/relay/v1/messages/%2Fwaku%2F2%2Frs%2F1%2F0. Response content: b'Failed to publish: error appending RLN proof to message: could not get new message id to generate an rln proof: NonceLimitReached: Nonce limit reached. Please wait for the next epoch. requested nonce: 2 & nonceLimit: 1'
[35mDEBUG   [0m tests.relay.test_rln:test_rln.py:236 Running test with payload Chinese characters
[35mDEBUG   [0m tests.relay.test_rln:test_rln.py:239 Sending message No. #4
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3019/relay/v1/messages/%2Fwaku%2F2%2Frs%2F1%2F0" -H "Content-Type: application/json" -d '{"payload": "6L+Z5piv5LiA5Lqb5Lit5paH", "contentTopic": "/test/1/waku-rln-relay/proto", "timestamp": '$(date +%s%N)'}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:3019/relay/v1/messages/%2Fwaku%2F2%2Frs%2F1%2F0. Response content: b'Failed to publish: error appending RLN proof to message: could not get new message id to generate an rln proof: NonceLimitReached: Nonce limit reached. Please wait for the next epoch. requested nonce: 3 & nonceLimit: 1'
[35mDEBUG   [0m tests.relay.test_rln:test_rln.py:236 Running test with payload Emojis
[35mDEBUG   [0m tests.relay.test_rln:test_rln.py:239 Sending message No. #5
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3019/relay/v1/messages/%2Fwaku%2F2%2Frs%2F1%2F0" -H "Content-Type: application/json" -d '{"payload": "8J+agPCfjJ/inKg=", "contentTopic": "/test/1/waku-rln-relay/proto", "timestamp": '$(date +%s%N)'}'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 500 Server Error: Internal Server Error for url: http://127.0.0.1:3019/relay/v1/messages/%2Fwaku%2F2%2Frs%2F1%2F0. Response content: b'Failed to publish: error appending RLN proof to message: could not get new message id to generate an rln proof: NonceLimitReached: Nonce limit reached. Please wait for the next epoch. requested nonce: 4 & nonceLimit: 1'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 0eef9a9f79ac
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 90a6f38a4ab9
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 34af8ad86e0a
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 54ba07153c05
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id cbac6da45ddb
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.