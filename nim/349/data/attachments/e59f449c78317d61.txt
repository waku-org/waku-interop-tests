[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_last_node_to_start_publishes with id: 2024-09-07_04-24-12__ba9c5d12-5795-4ffe-a80d-4f6fe977f278
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.relay:relay.py:28 Running fixture setup: relay_setup
[35mDEBUG   [0m src.steps.relay:relay.py:34 Running fixture setup: setup_main_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-09-07_04-24-12__ba9c5d12-5795-4ffe-a80d-4f6fe977f278__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.102.65
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['27230', '27231', '27232', '27233', '27234']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 27230:27230 -p 27231:27231 -p 27232:27232 -p 27233:27233 -p 27234:27234 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=27232 --rest-port=27230 --tcp-port=27231 --discv5-udp-port=27233 --rest-address=0.0.0.0 --nat=extip:172.18.102.65 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e8c9ce8abadf3a7b49575c9f95616eec23da9eb8b07a0aa24511ab9fade50e4f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=27234 --metrics-logging=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.102.65 waku 59fa9f5cbffbf911454f5c1b5018ac4bfe9c22062695c40afc77a54e3dbbb1ad
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 59fa9f5cbffb. Setting up logs at ./log/docker/node1_2024-09-07_04-24-12__ba9c5d12-5795-4ffe-a80d-4f6fe977f278__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 27230
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27230/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27230/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.102.65/tcp/27231/p2p/16Uiu2HAmQk9H9xyhRH6BKKSuD6AVMpNzqEFtXq3K7ubseMmJPGt9","/ip4/172.18.102.65/tcp/27232/ws/p2p/16Uiu2HAmQk9H9xyhRH6BKKSuD6AVMpNzqEFtXq3K7ubseMmJPGt9"],"enrUri":"enr:-LO4QMTaYy660X-q1ZL2rHjg9wszIfuKiKwjMLo8V-buoQ9ODXbcrx9dlTQMgBDw8z9str-T0aZVDqKS8v_OPzPRrH0BgmlkgnY0gmlwhKwSZkGKbXVsdGlhZGRyc4wACgSsEmZBBmpg3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOznj4uNnUL_kRIY_xgfPMzLdvxOZM74_uwJ0zBnT7tMoN0Y3CCal-DdWRwgmphhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-09-07_04-24-12__ba9c5d12-5795-4ffe-a80d-4f6fe977f278__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.151.233
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['3891', '3892', '3893', '3894', '3895']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 3891:3891 -p 3892:3892 -p 3893:3893 -p 3894:3894 -p 3895:3895 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=3893 --rest-port=3891 --tcp-port=3892 --discv5-udp-port=3894 --rest-address=0.0.0.0 --nat=extip:172.18.151.233 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dfb2a4bde169feeb0cb2eadeec504a61e02322ec5473ef9459c9fa202db2a4b0 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=3895 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QMTaYy660X-q1ZL2rHjg9wszIfuKiKwjMLo8V-buoQ9ODXbcrx9dlTQMgBDw8z9str-T0aZVDqKS8v_OPzPRrH0BgmlkgnY0gmlwhKwSZkGKbXVsdGlhZGRyc4wACgSsEmZBBmpg3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOznj4uNnUL_kRIY_xgfPMzLdvxOZM74_uwJ0zBnT7tMoN0Y3CCal-DdWRwgmphhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.151.233 waku 873842752f1da10ab413fa27b0b5752b8a655caa089e6a1cd5cec110f6344bcc
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 873842752f1d. Setting up logs at ./log/docker/node2_2024-09-07_04-24-12__ba9c5d12-5795-4ffe-a80d-4f6fe977f278__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 3891
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3891/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3891/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.151.233/tcp/3892/p2p/16Uiu2HAmPxHLYf31t2n2P7oZnALMDztNd27pc8Qcm3ZDq3YzykPy","/ip4/172.18.151.233/tcp/3893/ws/p2p/16Uiu2HAmPxHLYf31t2n2P7oZnALMDztNd27pc8Qcm3ZDq3YzykPy"],"enrUri":"enr:-LO4QAfAJujdsBmWys8qUrB2zxgBjLkABjwTHzq9KWLAjl-HBBbdEtbNdbvGe-4a0YQPp0mgZ3npvld_6C_39y4PiaUBgmlkgnY0gmlwhKwSl-mKbXVsdGlhZGRyc4wACgSsEpfpBg813QOCcnOFAAMBAACJc2VjcDI1NmsxoQOn3qMtqMtPRMDn75DfZIHXBGvAWB76TRmkMtQazj8CcIN0Y3CCDzSDdWRwgg82hXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3891/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.102.65/tcp/27231/p2p/16Uiu2HAmQk9H9xyhRH6BKKSuD6AVMpNzqEFtXq3K7ubseMmJPGt9"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:46 Running fixture setup: setup_optional_relay_nodes
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-09-07_04-24-12__ba9c5d12-5795-4ffe-a80d-4f6fe977f278__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.182.164
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['61686', '61687', '61688', '61689', '61690']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 61686:61686 -p 61687:61687 -p 61688:61688 -p 61689:61689 -p 61690:61690 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=61688 --rest-port=61686 --tcp-port=61687 --discv5-udp-port=61689 --rest-address=0.0.0.0 --nat=extip:172.18.182.164 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=8bb9e2adb0c692fdb86cb369cadac0f6557c82e6b0fac11ef29a2e2cf21eb775 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=61690 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QMTaYy660X-q1ZL2rHjg9wszIfuKiKwjMLo8V-buoQ9ODXbcrx9dlTQMgBDw8z9str-T0aZVDqKS8v_OPzPRrH0BgmlkgnY0gmlwhKwSZkGKbXVsdGlhZGRyc4wACgSsEmZBBmpg3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOznj4uNnUL_kRIY_xgfPMzLdvxOZM74_uwJ0zBnT7tMoN0Y3CCal-DdWRwgmphhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.182.164 waku 7c52fce360df3380b68c58818f423d53aa0324864edb52d8998bd5689fb7b363
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 7c52fce360df. Setting up logs at ./log/docker/node3_2024-09-07_04-24-12__ba9c5d12-5795-4ffe-a80d-4f6fe977f278__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 61686
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61686/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61686/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.182.164/tcp/61687/p2p/16Uiu2HAm9D8xQ4BuHR6fNdDTLTCkyxnPW36g1xurBSoa4rncRJ4N","/ip4/172.18.182.164/tcp/61688/ws/p2p/16Uiu2HAm9D8xQ4BuHR6fNdDTLTCkyxnPW36g1xurBSoa4rncRJ4N"],"enrUri":"enr:-LO4QJUJ-wvnEEesif0AROS1QaLIXsvkj7tekJRxa54RiA5ZfR0O6fcBTedlAhKXXf093YUMODVBGENDBfdgWEIvqhEBgmlkgnY0gmlwhKwStqSKbXVsdGlhZGRyc4wACgSsErakBvD43QOCcnOFAAMBAACJc2VjcDI1NmsxoQLMzZF4xBKS5Kbw28Pb2mq0ErCNcRCzGWVZdmpbVNJM94N0Y3CC8PeDdWRwgvD5hXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61686/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.102.65/tcp/27231/p2p/16Uiu2HAmQk9H9xyhRH6BKKSuD6AVMpNzqEFtXq3K7ubseMmJPGt9"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-09-07_04-24-12__ba9c5d12-5795-4ffe-a80d-4f6fe977f278__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.169.232
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['57730', '57731', '57732', '57733', '57734']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 57730:57730 -p 57731:57731 -p 57732:57732 -p 57733:57733 -p 57734:57734 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=57732 --rest-port=57730 --tcp-port=57731 --discv5-udp-port=57733 --rest-address=0.0.0.0 --nat=extip:172.18.169.232 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e6f754c7b1fcf76a09d9ddcdebe225fa37d61662dc40f023ffd5e17fc2ec0f6f --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=57734 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QMTaYy660X-q1ZL2rHjg9wszIfuKiKwjMLo8V-buoQ9ODXbcrx9dlTQMgBDw8z9str-T0aZVDqKS8v_OPzPRrH0BgmlkgnY0gmlwhKwSZkGKbXVsdGlhZGRyc4wACgSsEmZBBmpg3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOznj4uNnUL_kRIY_xgfPMzLdvxOZM74_uwJ0zBnT7tMoN0Y3CCal-DdWRwgmphhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.169.232 waku b5fcb1df998ea566c988fd40cc2c2c6f4773c1f994c0bc4fc05dd7de7258f5d3
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID b5fcb1df998e. Setting up logs at ./log/docker/node4_2024-09-07_04-24-12__ba9c5d12-5795-4ffe-a80d-4f6fe977f278__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 57730
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57730/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57730/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.169.232/tcp/57731/p2p/16Uiu2HAmJZNwT53gNMyASbH4CRDgi9YF8j3FvRcUamkeKcfzn6Ds","/ip4/172.18.169.232/tcp/57732/ws/p2p/16Uiu2HAmJZNwT53gNMyASbH4CRDgi9YF8j3FvRcUamkeKcfzn6Ds"],"enrUri":"enr:-LO4QHhstjLRgRMmNUiMK45j9Y254itmXLwLE9NuqL9JZzdkRmGmHQg6GJr3gZMCjelaQUBwIqKzmuesYVAnbvPuSlcBgmlkgnY0gmlwhKwSqeiKbXVsdGlhZGRyc4wACgSsEqnoBuGE3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNXti2aW7e5vtVlHLkt2yyICHVDC8RrkQPRGw1ixNgetoN0Y3CC4YODdWRwguGFhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57730/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.102.65/tcp/27231/p2p/16Uiu2HAmQk9H9xyhRH6BKKSuD6AVMpNzqEFtXq3K7ubseMmJPGt9"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-09-07_04-24-12__ba9c5d12-5795-4ffe-a80d-4f6fe977f278__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.129.54
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['13750', '13751', '13752', '13753', '13754']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 13750:13750 -p 13751:13751 -p 13752:13752 -p 13753:13753 -p 13754:13754 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=13752 --rest-port=13750 --tcp-port=13751 --discv5-udp-port=13753 --rest-address=0.0.0.0 --nat=extip:172.18.129.54 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=6e48badbfc85c65eba22bdbfa259a7ecbe8b0abb9cacf5ab153a8ad20b7b9870 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=13754 --metrics-logging=true --relay=true --discv5-bootstrap-node=enr:-LO4QMTaYy660X-q1ZL2rHjg9wszIfuKiKwjMLo8V-buoQ9ODXbcrx9dlTQMgBDw8z9str-T0aZVDqKS8v_OPzPRrH0BgmlkgnY0gmlwhKwSZkGKbXVsdGlhZGRyc4wACgSsEmZBBmpg3QOCcnOFAAMBAACJc2VjcDI1NmsxoQOznj4uNnUL_kRIY_xgfPMzLdvxOZM74_uwJ0zBnT7tMoN0Y3CCal-DdWRwgmphhXdha3UyAQ
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.129.54 waku c8d346aa336dbef34977c3b48c644f2bccef0bac15d0fff108eecdcd45482a36
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID c8d346aa336d. Setting up logs at ./log/docker/node5_2024-09-07_04-24-12__ba9c5d12-5795-4ffe-a80d-4f6fe977f278__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 13750
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13750/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13750/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.129.54/tcp/13751/p2p/16Uiu2HAm7nd2pG3Uqo5ETvPDymihBkKDFmEZCz4Y1jTgYpzz3ryN","/ip4/172.18.129.54/tcp/13752/ws/p2p/16Uiu2HAm7nd2pG3Uqo5ETvPDymihBkKDFmEZCz4Y1jTgYpzz3ryN"],"enrUri":"enr:-LO4QOJEzHye4iI0qDcJeZHTS_8gND1FYKYle0MwnFfjxQMkYwmB9fVY2JF6HzUwzSTNxF-Gaz7LBqkeA_ctkmGpFjEBgmlkgnY0gmlwhKwSgTaKbXVsdGlhZGRyc4wACgSsEoE2BjW43QOCcnOFAAMBAACJc2VjcDI1NmsxoQK3qhteknb-gmleRB0zhcJj3CP9mywU4xMRk4bM7DUMaYN0Y3CCNbeDdWRwgjW5hXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13750/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.102.65/tcp/27231/p2p/16Uiu2HAmQk9H9xyhRH6BKKSuD6AVMpNzqEFtXq3K7ubseMmJPGt9"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:59 Running fixture setup: subscribe_main_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27230/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:3891/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.relay:relay.py:64 Running fixture setup: subscribe_optional_relay_nodes
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:61686/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:57730/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13750/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:27230/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27230/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1725683062352117504,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3891/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1725683062352117504,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61686/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1725683062352117504,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57730/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1725683062352117504,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13750/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1725683062352117504,"ephemeral":false}]'
[32mINFO    [0m src.steps.relay:relay.py:71 WARM UP successful!!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13750/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "UmVsYXkgd29ya3MhIQ==", "contentTopic": "/test/1/waku-relay/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_1:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:27230/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1725683062486135552,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:3891/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1725683062486135552,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_3:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:61686/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1725683062486135552,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_4:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:57730/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1725683062486135552,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.relay:relay.py:123 Checking that peer NODE_5:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13750/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"UmVsYXkgd29ya3MhIQ==","contentTopic":"/test/1/waku-relay/proto","version":0,"timestamp":1725683062486135552,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 59fa9f5cbffb
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 873842752f1d
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 7c52fce360df
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id b5fcb1df998e
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id c8d346aa336d
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.