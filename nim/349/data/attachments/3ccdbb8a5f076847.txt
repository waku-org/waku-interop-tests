[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_multiple_lightpush_nodes with id: 2024-09-07_04-20-02__4bd7ef23-2770-4e37-a075-faa2d2fb4fa9
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.light_push:light_push.py:27 Running fixture setup: light_push_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node1_2024-09-07_04-20-02__4bd7ef23-2770-4e37-a075-faa2d2fb4fa9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.3.140
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['63086', '63087', '63088', '63089', '63090']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 63086:63086 -p 63087:63087 -p 63088:63088 -p 63089:63089 -p 63090:63090 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=63088 --rest-port=63086 --tcp-port=63087 --discv5-udp-port=63089 --rest-address=0.0.0.0 --nat=extip:172.18.3.140 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=c1406c04c37ff90fe0badad0f5395ebedb8c2fcadbdffe32facc97236bb86bcf --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=63090 --metrics-logging=true --lightpush=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.3.140 waku a00c5bc49dcec9091c6fa34ec58873ddb6a7b2512efcefabf7c500a6596a4514
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID a00c5bc49dce. Setting up logs at ./log/docker/receiving_node1_2024-09-07_04-20-02__4bd7ef23-2770-4e37-a075-faa2d2fb4fa9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 63086
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63086/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63086/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.3.140/tcp/63087/p2p/16Uiu2HAkvjgJchYRM1W8KFnwLY3qRncbwtSziWY8hE55onJLc45a","/ip4/172.18.3.140/tcp/63088/ws/p2p/16Uiu2HAkvjgJchYRM1W8KFnwLY3qRncbwtSziWY8hE55onJLc45a"],"enrUri":"enr:-LO4QHwPvnKiCMZj1zm1mfecUPFndWjGxgaSL18VrUe4RabyLsT5vDU63HoKeitKmLyjLHSugj0R1f3E1KsBaplDqMYBgmlkgnY0gmlwhKwSA4yKbXVsdGlhZGRyc4wACgSsEgOMBvZw3QOCcnOFAAMBAACJc2VjcDI1NmsxoQITeIIo_9KmO1A_eIfQc-Y0thn8gUyEb7dEVkw4O1uv_YN0Y3CC9m-DdWRwgvZxhXdha3UyCQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/receiving_node2_2024-09-07_04-20-02__4bd7ef23-2770-4e37-a075-faa2d2fb4fa9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.78.93
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['39302', '39303', '39304', '39305', '39306']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 39302:39302 -p 39303:39303 -p 39304:39304 -p 39305:39305 -p 39306:39306 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=39304 --rest-port=39302 --tcp-port=39303 --discv5-udp-port=39305 --rest-address=0.0.0.0 --nat=extip:172.18.78.93 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=dc69559206cddadf824fdeadea7e33cae7a383067faa8035b71f28edeabb89c6 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=39306 --metrics-logging=true --lightpush=false --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.78.93 waku 867f078a38eaf98da109b51f10a96b321f173b2188ec98cbc29eaeaa7c72a1f0
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 867f078a38ea. Setting up logs at ./log/docker/receiving_node2_2024-09-07_04-20-02__4bd7ef23-2770-4e37-a075-faa2d2fb4fa9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 39302
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39302/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39302/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.78.93/tcp/39303/p2p/16Uiu2HAm3ksqAPWobx7Bt6oxkH8JYnuce4CPugpq8X68k7UGCTX9","/ip4/172.18.78.93/tcp/39304/ws/p2p/16Uiu2HAm3ksqAPWobx7Bt6oxkH8JYnuce4CPugpq8X68k7UGCTX9"],"enrUri":"enr:-LO4QNhCS8U1bdD2-YBVShdOggNC6kTMA_sYw0ejyuPBPPsEKRw_HgQ7fMOIszPBdfktBUepjp0q1Otm_cyF0hLv3IgBgmlkgnY0gmlwhKwSTl2KbXVsdGlhZGRyc4wACgSsEk5dBpmI3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJ7yO5UAT_agq83wH07wBuZEJEDLh_daqXivCYWWLGqBIN0Y3CCmYeDdWRwgpmJhXdha3UyAQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39302/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.3.140/tcp/63087/p2p/16Uiu2HAkvjgJchYRM1W8KFnwLY3qRncbwtSziWY8hE55onJLc45a"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node1_2024-09-07_04-20-02__4bd7ef23-2770-4e37-a075-faa2d2fb4fa9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.164.221
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['60941', '60942', '60943', '60944', '60945']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 60941:60941 -p 60942:60942 -p 60943:60943 -p 60944:60944 -p 60945:60945 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=60943 --rest-port=60941 --tcp-port=60942 --discv5-udp-port=60944 --rest-address=0.0.0.0 --nat=extip:172.18.164.221 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=9eaf2c9044f9b899fd61b885a221c1a037df5723876e999caa10cfedc9d845ca --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=60945 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QHwPvnKiCMZj1zm1mfecUPFndWjGxgaSL18VrUe4RabyLsT5vDU63HoKeitKmLyjLHSugj0R1f3E1KsBaplDqMYBgmlkgnY0gmlwhKwSA4yKbXVsdGlhZGRyc4wACgSsEgOMBvZw3QOCcnOFAAMBAACJc2VjcDI1NmsxoQITeIIo_9KmO1A_eIfQc-Y0thn8gUyEb7dEVkw4O1uv_YN0Y3CC9m-DdWRwgvZxhXdha3UyCQ --lightpushnode=/ip4/172.18.3.140/tcp/63087/p2p/16Uiu2HAkvjgJchYRM1W8KFnwLY3qRncbwtSziWY8hE55onJLc45a --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.164.221 waku e7eb5cc6002f5187dc77127e95d2e0c207e5374cc9e7f41073677ad74f1ed8dd
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID e7eb5cc6002f. Setting up logs at ./log/docker/lightpush_node1_2024-09-07_04-20-02__4bd7ef23-2770-4e37-a075-faa2d2fb4fa9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 60941
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60941/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:60941/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.164.221/tcp/60942/p2p/16Uiu2HAkzdxeyhE5SChU2ZYoc9rrJ4f4SJWfxwa7DicYpuNB5Eet","/ip4/172.18.164.221/tcp/60943/ws/p2p/16Uiu2HAkzdxeyhE5SChU2ZYoc9rrJ4f4SJWfxwa7DicYpuNB5Eet"],"enrUri":"enr:-LO4QE3jtyKo1f4zgJZTBGCWhh0yJrJL0ZZECAoE3qr4mhUQMdg95qS7_BF7fCQfuLXZdBC6qqUo3S6huuWqRQ64le0BgmlkgnY0gmlwhKwSpN2KbXVsdGlhZGRyc4wACgSsEqTdBu4P3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJNcEJuq4p0NLYvNKtGzpKfiUV5SboX9ixpGz9-AfYoSYN0Y3CC7g6DdWRwgu4QhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60941/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.3.140/tcp/63087/p2p/16Uiu2HAkvjgJchYRM1W8KFnwLY3qRncbwtSziWY8hE55onJLc45a"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60941/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.78.93/tcp/39303/p2p/16Uiu2HAm3ksqAPWobx7Bt6oxkH8JYnuce4CPugpq8X68k7UGCTX9"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node2_2024-09-07_04-20-02__4bd7ef23-2770-4e37-a075-faa2d2fb4fa9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.110.255
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['19754', '19755', '19756', '19757', '19758']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 19754:19754 -p 19755:19755 -p 19756:19756 -p 19757:19757 -p 19758:19758 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=19756 --rest-port=19754 --tcp-port=19755 --discv5-udp-port=19757 --rest-address=0.0.0.0 --nat=extip:172.18.110.255 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=a4bbcab5afb71e256f3f7d1fed411eff0f2baaec19b50b4ba9d7ba58da9ddbfb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=19758 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QHwPvnKiCMZj1zm1mfecUPFndWjGxgaSL18VrUe4RabyLsT5vDU63HoKeitKmLyjLHSugj0R1f3E1KsBaplDqMYBgmlkgnY0gmlwhKwSA4yKbXVsdGlhZGRyc4wACgSsEgOMBvZw3QOCcnOFAAMBAACJc2VjcDI1NmsxoQITeIIo_9KmO1A_eIfQc-Y0thn8gUyEb7dEVkw4O1uv_YN0Y3CC9m-DdWRwgvZxhXdha3UyCQ --lightpushnode=/ip4/172.18.3.140/tcp/63087/p2p/16Uiu2HAkvjgJchYRM1W8KFnwLY3qRncbwtSziWY8hE55onJLc45a --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.110.255 waku 1a84797505aee24c98747a845ce849089bcca5cf569a0a6283daa4c6a6e73231
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 1a84797505ae. Setting up logs at ./log/docker/lightpush_node2_2024-09-07_04-20-02__4bd7ef23-2770-4e37-a075-faa2d2fb4fa9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 19754
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19754/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:19754/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.110.255/tcp/19755/p2p/16Uiu2HAmJjaQhPppiQVvFERQnSqBmQh24iqMoonXML9UwwsJ6wg3","/ip4/172.18.110.255/tcp/19756/ws/p2p/16Uiu2HAmJjaQhPppiQVvFERQnSqBmQh24iqMoonXML9UwwsJ6wg3"],"enrUri":"enr:-LO4QOqMLR4kQBiH9EzdLDRhG0ku4R5tHWO8l6YFHcacKWVTQm_HIJWHqAUtQklmevHmrWaJt5yWBpaYR-WsF1cMA94BgmlkgnY0gmlwhKwSbv-KbXVsdGlhZGRyc4wACgSsEm7_Bk0s3QOCcnOFAAMBAACJc2VjcDI1NmsxoQNaUvSESILlu0YLFq4ICL2dGqST9WAnqNljsyOF5DRICIN0Y3CCTSuDdWRwgk0thXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19754/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.3.140/tcp/63087/p2p/16Uiu2HAkvjgJchYRM1W8KFnwLY3qRncbwtSziWY8hE55onJLc45a"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19754/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.78.93/tcp/39303/p2p/16Uiu2HAm3ksqAPWobx7Bt6oxkH8JYnuce4CPugpq8X68k7UGCTX9"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node3_2024-09-07_04-20-02__4bd7ef23-2770-4e37-a075-faa2d2fb4fa9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.238.68
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['5235', '5236', '5237', '5238', '5239']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 5235:5235 -p 5236:5236 -p 5237:5237 -p 5238:5238 -p 5239:5239 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=5237 --rest-port=5235 --tcp-port=5236 --discv5-udp-port=5238 --rest-address=0.0.0.0 --nat=extip:172.18.238.68 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=eae9ba4b6db1dcadbdad2b72137b0f8a5f7f5a79a312aa3ab70c588abb0dcd31 --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=5239 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QHwPvnKiCMZj1zm1mfecUPFndWjGxgaSL18VrUe4RabyLsT5vDU63HoKeitKmLyjLHSugj0R1f3E1KsBaplDqMYBgmlkgnY0gmlwhKwSA4yKbXVsdGlhZGRyc4wACgSsEgOMBvZw3QOCcnOFAAMBAACJc2VjcDI1NmsxoQITeIIo_9KmO1A_eIfQc-Y0thn8gUyEb7dEVkw4O1uv_YN0Y3CC9m-DdWRwgvZxhXdha3UyCQ --lightpushnode=/ip4/172.18.3.140/tcp/63087/p2p/16Uiu2HAkvjgJchYRM1W8KFnwLY3qRncbwtSziWY8hE55onJLc45a --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.238.68 waku 688d3ccc502598db14fc5be0837957ae0c0ae8a00dd628b872686c732887317e
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 688d3ccc5025. Setting up logs at ./log/docker/lightpush_node3_2024-09-07_04-20-02__4bd7ef23-2770-4e37-a075-faa2d2fb4fa9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 5235
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5235/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5235/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.238.68/tcp/5236/p2p/16Uiu2HAmEkpEcSCLfdT6t1ZY5sQCSWyrW2W7LpViM9BZJ1Fi87HF","/ip4/172.18.238.68/tcp/5237/ws/p2p/16Uiu2HAmEkpEcSCLfdT6t1ZY5sQCSWyrW2W7LpViM9BZJ1Fi87HF"],"enrUri":"enr:-LO4QACh1e9pT8K1-fPf2c0WKaRRlgbKEWxS0EUtsMXbjzlLBenhLH3xGzLApAscxZw3Ufny-zVtqe6nhDJqgxNASI8BgmlkgnY0gmlwhKwS7kSKbXVsdGlhZGRyc4wACgSsEu5EBhR13QOCcnOFAAMBAACJc2VjcDI1NmsxoQMfNWvmPEEh3G7tw3xnPLUXk3EeJBlwLDg32MfbwVaWboN0Y3CCFHSDdWRwghR2hXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5235/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.3.140/tcp/63087/p2p/16Uiu2HAkvjgJchYRM1W8KFnwLY3qRncbwtSziWY8hE55onJLc45a"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5235/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.78.93/tcp/39303/p2p/16Uiu2HAm3ksqAPWobx7Bt6oxkH8JYnuce4CPugpq8X68k7UGCTX9"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/lightpush_node4_2024-09-07_04-20-02__4bd7ef23-2770-4e37-a075-faa2d2fb4fa9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.129.89
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['23384', '23385', '23386', '23387', '23388']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 23384:23384 -p 23385:23385 -p 23386:23386 -p 23387:23387 -p 23388:23388 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=23386 --rest-port=23384 --tcp-port=23385 --discv5-udp-port=23387 --rest-address=0.0.0.0 --nat=extip:172.18.129.89 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ee513f7524eedefd9cd7c436dd83ec308649fdae21fadd2c3fc5c152ebf2d64b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=23388 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QHwPvnKiCMZj1zm1mfecUPFndWjGxgaSL18VrUe4RabyLsT5vDU63HoKeitKmLyjLHSugj0R1f3E1KsBaplDqMYBgmlkgnY0gmlwhKwSA4yKbXVsdGlhZGRyc4wACgSsEgOMBvZw3QOCcnOFAAMBAACJc2VjcDI1NmsxoQITeIIo_9KmO1A_eIfQc-Y0thn8gUyEb7dEVkw4O1uv_YN0Y3CC9m-DdWRwgvZxhXdha3UyCQ --lightpushnode=/ip4/172.18.3.140/tcp/63087/p2p/16Uiu2HAkvjgJchYRM1W8KFnwLY3qRncbwtSziWY8hE55onJLc45a --lightpush=true --relay=false
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.129.89 waku 0d1b11b67584816c1d9831d25c2a39d78610fada4061cce040de2bff3be30981
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 0d1b11b67584. Setting up logs at ./log/docker/lightpush_node4_2024-09-07_04-20-02__4bd7ef23-2770-4e37-a075-faa2d2fb4fa9__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 23384
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23384/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:23384/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.129.89/tcp/23385/p2p/16Uiu2HAm1XssXZXAEzhs9U3qgLN6sQ2g9rw6wY9UyiWWcUuMBypH","/ip4/172.18.129.89/tcp/23386/ws/p2p/16Uiu2HAm1XssXZXAEzhs9U3qgLN6sQ2g9rw6wY9UyiWWcUuMBypH"],"enrUri":"enr:-LO4QIwi9WI0MUttKn7TWbyzEQPC1hNxphBt4pYX8fNxBuubGbwOE5ecnpn1eroJf-uHpAaHeueT97HkwVri2eA4wSABgmlkgnY0gmlwhKwSgVmKbXVsdGlhZGRyc4wACgSsEoFZBlta3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJavQ1-EWI67XPIdrymtbeVrWZAPA7c50mCDUK-nz_1JoN0Y3CCW1mDdWRwgltbhXdha3UyCA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23384/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.3.140/tcp/63087/p2p/16Uiu2HAkvjgJchYRM1W8KFnwLY3qRncbwtSziWY8hE55onJLc45a"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23384/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.78.93/tcp/39303/p2p/16Uiu2HAm3ksqAPWobx7Bt6oxkH8JYnuce4CPugpq8X68k7UGCTX9"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:63086/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:39302/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:60941/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1725682812288690176}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63086/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725682812288690176,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39302/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725682812288690176,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:19754/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1725682812406941184}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63086/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725682812406941184,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39302/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725682812406941184,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5235/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1725682812532790528}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63086/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725682812532790528,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39302/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725682812532790528,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:120 Lightpushing message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:23384/lightpush/v1/message" -H "Content-Type: application/json" -d '{"pubsubTopic": "/waku/2/rs/3/0", "message": {"payload": "TGlnaHQgcHVzaCB3b3JrcyEh", "contentTopic": "/myapp/1/latest/proto", "timestamp": 1725682812653212672}}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_1:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:63086/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725682812653212672,"ephemeral":false}]'
[35mDEBUG   [0m src.steps.light_push:light_push.py:124 Checking that peer NODE_2:wakuorg/nwaku:latest can find the lightpushed message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:39302/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"TGlnaHQgcHVzaCB3b3JrcyEh","contentTopic":"/myapp/1/latest/proto","version":0,"timestamp":1725682812653212672,"ephemeral":false}]'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id a00c5bc49dce
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 867f078a38ea
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id e7eb5cc6002f
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 1a84797505ae
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 688d3ccc5025
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 0d1b11b67584
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.