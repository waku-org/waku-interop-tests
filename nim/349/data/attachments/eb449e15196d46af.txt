[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_store_sort_ascending[false] with id: 2024-09-07_04-37-13__7b71bee8-45b4-4675-b436-9d9d64de73ec
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.store:store.py:28 Running fixture setup: store_setup
[35mDEBUG   [0m src.steps.store:store.py:36 Running fixture setup: node_setup
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/publishing_node1_2024-09-07_04-37-13__7b71bee8-45b4-4675-b436-9d9d64de73ec__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.213.39
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['2157', '2158', '2159', '2160', '2161']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 2157:2157 -p 2158:2158 -p 2159:2159 -p 2160:2160 -p 2161:2161 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=2159 --rest-port=2157 --tcp-port=2158 --discv5-udp-port=2160 --rest-address=0.0.0.0 --nat=extip:172.18.213.39 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e0fad6f11aeeea4afff5bf3c0e5a20c5ca8ddee05e0a62f0401e07d57fb51adb --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=2161 --metrics-logging=true --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.213.39 waku 2377d00ab6e4c10d34226de8eae8dba294a37372f819c335dd7ad7c66f679f28
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 2377d00ab6e4. Setting up logs at ./log/docker/publishing_node1_2024-09-07_04-37-13__7b71bee8-45b4-4675-b436-9d9d64de73ec__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 2157
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2157/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2157/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.213.39/tcp/2158/p2p/16Uiu2HAky2wSfUPf98T5tamzSJBgSyr3sLWkFH4wFYoAtoNC2NRN","/ip4/172.18.213.39/tcp/2159/ws/p2p/16Uiu2HAky2wSfUPf98T5tamzSJBgSyr3sLWkFH4wFYoAtoNC2NRN"],"enrUri":"enr:-LO4QLy_1wub4YEF4VgYPm5nzJIWA2G9HY_AJ6zi7qyrCPbQEFCN-Qoj6RZSz7MqSUA2mlmzPkaXH8zb-TOxAqRaFwIBgmlkgnY0gmlwhKwS1SeKbXVsdGlhZGRyc4wACgSsEtUnBghv3QOCcnOFAAMBAACJc2VjcDI1NmsxoQI1m9-dEVX6-vTKnYVrF_3YAlNpvvMVaXcwzM5praChcYN0Y3CCCG6DdWRwgghwhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/store_node1_2024-09-07_04-37-13__7b71bee8-45b4-4675-b436-9d9d64de73ec__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.221.240
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['5421', '5422', '5423', '5424', '5425']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 5421:5421 -p 5422:5422 -p 5423:5423 -p 5424:5424 -p 5425:5425 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=5423 --rest-port=5421 --tcp-port=5422 --discv5-udp-port=5424 --rest-address=0.0.0.0 --nat=extip:172.18.221.240 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bf8b4cbf43c3bbdba00acc8bc9bdffccd3df03e69ebe7af3bf687224ceb8dd8c --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=5425 --metrics-logging=true --discv5-bootstrap-node=enr:-LO4QLy_1wub4YEF4VgYPm5nzJIWA2G9HY_AJ6zi7qyrCPbQEFCN-Qoj6RZSz7MqSUA2mlmzPkaXH8zb-TOxAqRaFwIBgmlkgnY0gmlwhKwS1SeKbXVsdGlhZGRyc4wACgSsEtUnBghv3QOCcnOFAAMBAACJc2VjcDI1NmsxoQI1m9-dEVX6-vTKnYVrF_3YAlNpvvMVaXcwzM5praChcYN0Y3CCCG6DdWRwgghwhXdha3UyAw --storenode=/ip4/172.18.213.39/tcp/2158/p2p/16Uiu2HAky2wSfUPf98T5tamzSJBgSyr3sLWkFH4wFYoAtoNC2NRN --store=true --relay=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.221.240 waku 61d4d161479187db064adb3978230c348fd93f4dc7b4b1f5469bb1fc163d87f9
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 61d4d1614791. Setting up logs at ./log/docker/store_node1_2024-09-07_04-37-13__7b71bee8-45b4-4675-b436-9d9d64de73ec__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 5421
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5421/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5421/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.221.240/tcp/5422/p2p/16Uiu2HAm228AiwNQ95BzFy2LJA3CwLvUUeZJ8vedCmrnwTYQWfMU","/ip4/172.18.221.240/tcp/5423/ws/p2p/16Uiu2HAm228AiwNQ95BzFy2LJA3CwLvUUeZJ8vedCmrnwTYQWfMU"],"enrUri":"enr:-LO4QLShu4Nd38a-lYNvd8dW1tU_jRE2N4Pmj8M1IZFei_8tYCVUA5tUuXnCEj6tgRCqV7pxiIyE2rBmQmy_7cCw1bwBgmlkgnY0gmlwhKwS3fCKbXVsdGlhZGRyc4wACgSsEt3wBhUv3QOCcnOFAAMBAACJc2VjcDI1NmsxoQJh-Xr-iuWsdFbjCkCmHVYiswlybtqayOP56LpkPt_h04N0Y3CCFS6DdWRwghUwhXdha3UyAw"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5421/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.213.39/tcp/2158/p2p/16Uiu2HAky2wSfUPf98T5tamzSJBgSyr3sLWkFH4wFYoAtoNC2NRN"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2157/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:5421/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/0"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2157/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8w", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2157/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8x", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2157/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8y", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2157/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV8z", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2157/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV80", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2157/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV81", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2157/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV82", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2157/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV83", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2157/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV84", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[35mDEBUG   [0m src.steps.store:store.py:129 Relaying message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:2157/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F0" -H "Content-Type: application/json" -d '{"payload": "TWVzc2FnZV85", "contentTopic": "/myapp/1/latest/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.2 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:2157/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5&ascending=false" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"CPLlCltBri/GlGi7W2gZ9Gva8pjvMJbKPFy/lpQrxUc="},{"messageHash":"woaJ2uUaD0TwgwEBlQ7ZeIXZF+fl2YOIucaPH3SN1co="},{"messageHash":"XnvUsKuksMSHOOzqVU6aiGd6Y+ZjEvmYyAFLNfNmeYQ="},{"messageHash":"PI9/YKv0QWtEbiVBP0Su2WlWvn6QJ8s7oupGvJNZlK4="},{"messageHash":"TRjEC0qkugpOPRRVRFBuGzBJHWbppYqSicbN++G8Xok="}],"paginationCursor":"CPLlCltBri/GlGi7W2gZ9Gva8pjvMJbKPFy/lpQrxUc="}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:5421/store/v3/messages?pubsubTopic=%2Fwaku%2F2%2Frs%2F3%2F0&pageSize=5&ascending=false" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"","statusCode":200,"statusDesc":"OK","messages":[{"messageHash":"CPLlCltBri/GlGi7W2gZ9Gva8pjvMJbKPFy/lpQrxUc="},{"messageHash":"woaJ2uUaD0TwgwEBlQ7ZeIXZF+fl2YOIucaPH3SN1co="},{"messageHash":"XnvUsKuksMSHOOzqVU6aiGd6Y+ZjEvmYyAFLNfNmeYQ="},{"messageHash":"PI9/YKv0QWtEbiVBP0Su2WlWvn6QJ8s7oupGvJNZlK4="},{"messageHash":"TRjEC0qkugpOPRRVRFBuGzBJHWbppYqSicbN++G8Xok="}],"paginationCursor":"CPLlCltBri/GlGi7W2gZ9Gva8pjvMJbKPFy/lpQrxUc="}'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 2377d00ab6e4
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 61d4d1614791
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.