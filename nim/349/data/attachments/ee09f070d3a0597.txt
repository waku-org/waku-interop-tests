[35mDEBUG   [0m tests.conftest:conftest.py:51 Running fixture setup: test_id
[35mDEBUG   [0m tests.conftest:conftest.py:57 Running test: test_optional_nodes_not_subscribed_to_same_topic with id: 2024-09-07_04-16-27__3c792c7f-bdaf-4b32-beb8-b0e710cc3b64
[35mDEBUG   [0m src.steps.common:common.py:17 Running fixture setup: common_setup
[35mDEBUG   [0m src.steps.filter:filter.py:28 Running fixture setup: filter_setup
[35mDEBUG   [0m src.steps.filter:filter.py:34 Running fixture setup: setup_main_relay_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node1_2024-09-07_04-16-27__3c792c7f-bdaf-4b32-beb8-b0e710cc3b64__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.23.86
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['49347', '49348', '49349', '49350', '49351']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 49347:49347 -p 49348:49348 -p 49349:49349 -p 49350:49350 -p 49351:49351 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=49349 --rest-port=49347 --tcp-port=49348 --discv5-udp-port=49350 --rest-address=0.0.0.0 --nat=extip:172.18.23.86 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=efe8ef9e0a188ad1a0c5be579597abd55eea0f5bb8fac6c04d135f89ea1d877b --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=49351 --metrics-logging=true --relay=true --filter=true
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.23.86 waku 27852d9efce77779233db6729ae2ffbab9a46d1f302a299fa882f8722d6f1184
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 27852d9efce7. Setting up logs at ./log/docker/node1_2024-09-07_04-16-27__3c792c7f-bdaf-4b32-beb8-b0e710cc3b64__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 49347
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49347/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:49347/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.23.86/tcp/49348/p2p/16Uiu2HAm8eYqvwrbfyvUc477bUbG85MvoEoBjfJqXBFhM4Fr3Zs6","/ip4/172.18.23.86/tcp/49349/ws/p2p/16Uiu2HAm8eYqvwrbfyvUc477bUbG85MvoEoBjfJqXBFhM4Fr3Zs6"],"enrUri":"enr:-LO4QKrt2X5UoMlgbVhN60yGZ60mXjiLpSyo9gF_lPBcwh8-KcIJ164seYl0rO6gBkHlcwW59mLlvg8vMZ2dygMG9EoBgmlkgnY0gmlwhKwSF1aKbXVsdGlhZGRyc4wACgSsEhdWBsDF3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLEdGmQFUXyrKVW-TWY_ALfJxCMlTLZt-Y4XC0wgUeDuYN0Y3CCwMSDdWRwgsDGhXdha3UyBQ"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[35mDEBUG   [0m src.steps.filter:filter.py:39 Running fixture setup: setup_main_filter_node
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node2_2024-09-07_04-16-27__3c792c7f-bdaf-4b32-beb8-b0e710cc3b64__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.164.147
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['59953', '59954', '59955', '59956', '59957']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 59953:59953 -p 59954:59954 -p 59955:59955 -p 59956:59956 -p 59957:59957 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=59955 --rest-port=59953 --tcp-port=59954 --discv5-udp-port=59956 --rest-address=0.0.0.0 --nat=extip:172.18.164.147 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=49d9d897b70f3d09f54f048c62588afb61e92e1120bfa8fe6a6dc272ef288dac --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=59957 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QKrt2X5UoMlgbVhN60yGZ60mXjiLpSyo9gF_lPBcwh8-KcIJ164seYl0rO6gBkHlcwW59mLlvg8vMZ2dygMG9EoBgmlkgnY0gmlwhKwSF1aKbXVsdGlhZGRyc4wACgSsEhdWBsDF3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLEdGmQFUXyrKVW-TWY_ALfJxCMlTLZt-Y4XC0wgUeDuYN0Y3CCwMSDdWRwgsDGhXdha3UyBQ --filternode=/ip4/172.18.23.86/tcp/49348/p2p/16Uiu2HAm8eYqvwrbfyvUc477bUbG85MvoEoBjfJqXBFhM4Fr3Zs6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.164.147 waku d8911726d82f39181aa0c2481009a74d17407ac774340e1530363f1749beca9f
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID d8911726d82f. Setting up logs at ./log/docker/node2_2024-09-07_04-16-27__3c792c7f-bdaf-4b32-beb8-b0e710cc3b64__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 59953
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59953/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59953/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.164.147/tcp/59954/p2p/16Uiu2HAmAUThi4cGPTNAsrxrzF8nqVrHBttvTWFsmskiTioYibiN","/ip4/172.18.164.147/tcp/59955/ws/p2p/16Uiu2HAmAUThi4cGPTNAsrxrzF8nqVrHBttvTWFsmskiTioYibiN"],"enrUri":"enr:-LO4QCLe_GYdGsuTKYbz6eVthEwEWnrCPD1VNgA0KHgk_uXeR8QGIWxwkEMQER0XBaiw_G-jeRABNzZ86-tenDw5FSoBgmlkgnY0gmlwhKwSpJOKbXVsdGlhZGRyc4wACgSsEqSTBuoz3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLflioQKrS-BpjvWoVB-zt9UgK7ROdZlNqWzsger8Qwf4N0Y3CC6jKDdWRwguo0hXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59953/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.23.86/tcp/49348/p2p/16Uiu2HAm8eYqvwrbfyvUc477bUbG85MvoEoBjfJqXBFhM4Fr3Zs6"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node3_2024-09-07_04-16-27__3c792c7f-bdaf-4b32-beb8-b0e710cc3b64__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.70.142
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['9245', '9246', '9247', '9248', '9249']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 9245:9245 -p 9246:9246 -p 9247:9247 -p 9248:9248 -p 9249:9249 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=9247 --rest-port=9245 --tcp-port=9246 --discv5-udp-port=9248 --rest-address=0.0.0.0 --nat=extip:172.18.70.142 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=ed4232865e20f5631322a5a506fcdcf1c76c73c858fdbbddac6aeeafc153dfed --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=9249 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QKrt2X5UoMlgbVhN60yGZ60mXjiLpSyo9gF_lPBcwh8-KcIJ164seYl0rO6gBkHlcwW59mLlvg8vMZ2dygMG9EoBgmlkgnY0gmlwhKwSF1aKbXVsdGlhZGRyc4wACgSsEhdWBsDF3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLEdGmQFUXyrKVW-TWY_ALfJxCMlTLZt-Y4XC0wgUeDuYN0Y3CCwMSDdWRwgsDGhXdha3UyBQ --filternode=/ip4/172.18.23.86/tcp/49348/p2p/16Uiu2HAm8eYqvwrbfyvUc477bUbG85MvoEoBjfJqXBFhM4Fr3Zs6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.70.142 waku 70e6d71eddaf30eb50c815191ed52d63fb4eafb63bf46883cedc37cd0154acc3
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 70e6d71eddaf. Setting up logs at ./log/docker/node3_2024-09-07_04-16-27__3c792c7f-bdaf-4b32-beb8-b0e710cc3b64__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 9245
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9245/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9245/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.70.142/tcp/9246/p2p/16Uiu2HAmUb3m5YKQ8Kkg1MFHXikV8bwAB2HSwWSTqdKsQQnuvunx","/ip4/172.18.70.142/tcp/9247/ws/p2p/16Uiu2HAmUb3m5YKQ8Kkg1MFHXikV8bwAB2HSwWSTqdKsQQnuvunx"],"enrUri":"enr:-LO4QJjIx6sMXiH8cDU8pt6x0tIkMowe4At5VF1HOkJ7VYnRPraUiIHbarlYXjiZxBzTNLUHu8lP4Ir9wDF9r5N-Kk8BgmlkgnY0gmlwhKwSRo6KbXVsdGlhZGRyc4wACgSsEkaOBiQf3QOCcnOFAAMBAACJc2VjcDI1NmsxoQPsuIYBwViX2VjGjdWqNnq7OeiDmV_bRszc8i6UE2zroYN0Y3CCJB6DdWRwgiQghXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9245/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.23.86/tcp/49348/p2p/16Uiu2HAm8eYqvwrbfyvUc477bUbG85MvoEoBjfJqXBFhM4Fr3Zs6"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node4_2024-09-07_04-16-27__3c792c7f-bdaf-4b32-beb8-b0e710cc3b64__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.160.51
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['13383', '13384', '13385', '13386', '13387']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 13383:13383 -p 13384:13384 -p 13385:13385 -p 13386:13386 -p 13387:13387 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=13385 --rest-port=13383 --tcp-port=13384 --discv5-udp-port=13386 --rest-address=0.0.0.0 --nat=extip:172.18.160.51 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=e23912adf2e90ae2cb290b2fb52eef6dd987bb8fde4e0fee79513682fef5279a --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=13387 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QKrt2X5UoMlgbVhN60yGZ60mXjiLpSyo9gF_lPBcwh8-KcIJ164seYl0rO6gBkHlcwW59mLlvg8vMZ2dygMG9EoBgmlkgnY0gmlwhKwSF1aKbXVsdGlhZGRyc4wACgSsEhdWBsDF3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLEdGmQFUXyrKVW-TWY_ALfJxCMlTLZt-Y4XC0wgUeDuYN0Y3CCwMSDdWRwgsDGhXdha3UyBQ --filternode=/ip4/172.18.23.86/tcp/49348/p2p/16Uiu2HAm8eYqvwrbfyvUc477bUbG85MvoEoBjfJqXBFhM4Fr3Zs6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.160.51 waku b040a9b2e07f3d1232d2f4820ce761537d83228b2a76c1d9402c22b73a3755f1
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID b040a9b2e07f. Setting up logs at ./log/docker/node4_2024-09-07_04-16-27__3c792c7f-bdaf-4b32-beb8-b0e710cc3b64__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 13383
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13383/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:13383/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.160.51/tcp/13384/p2p/16Uiu2HAkxumRvKaNZv3mmw8FzaMDkg5MYQFxCjYYu4EAEr2XqZH6","/ip4/172.18.160.51/tcp/13385/ws/p2p/16Uiu2HAkxumRvKaNZv3mmw8FzaMDkg5MYQFxCjYYu4EAEr2XqZH6"],"enrUri":"enr:-LO4QErHi5ha5kisZLheS8QXwSOxsxjMc6PSW4s8kqVnuuIwWzf6EZjlMffbjpXnggytMupZYruet3yxgWnd-2SdzxABgmlkgnY0gmlwhKwSoDOKbXVsdGlhZGRyc4wACgSsEqAzBjRJ3QOCcnOFAAMBAACJc2VjcDI1NmsxoQIzxXx9SBwxsMkst4lVAq23fPdZTgbvC-mzovL5_9E-5YN0Y3CCNEiDdWRwgjRKhXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13383/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.23.86/tcp/49348/p2p/16Uiu2HAm8eYqvwrbfyvUc477bUbG85MvoEoBjfJqXBFhM4Fr3Zs6"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:18 Docker client initialized with image wakuorg/nwaku:latest
[35mDEBUG   [0m src.node.waku_node:waku_node.py:85 WakuNode instance initialized with log path ./log/docker/node5_2024-09-07_04-16-27__3c792c7f-bdaf-4b32-beb8-b0e710cc3b64__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:89 Starting Node...
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:21 Attempting to create or retrieve network waku
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:24 Network waku already exists
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:81 Generated random external IP 172.18.67.58
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:74 Generated ports ['41778', '41779', '41780', '41781', '41782']
[35mDEBUG   [0m src.node.waku_node:waku_node.py:434 RLN credentials were not set
[32mINFO    [0m src.node.waku_node:waku_node.py:163 RLN credentials not set or credential store not available, starting without RLN
[35mDEBUG   [0m src.node.waku_node:waku_node.py:165 Using volumes []
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:48 docker run -i -t -p 41778:41778 -p 41779:41779 -p 41780:41780 -p 41781:41781 -p 41782:41782 wakuorg/nwaku:latest --listen-address=0.0.0.0 --rest=true --rest-admin=true --websocket-support=true --log-level=TRACE --rest-relay-cache-capacity=100 --websocket-port=41780 --rest-port=41778 --tcp-port=41779 --discv5-udp-port=41781 --rest-address=0.0.0.0 --nat=extip:172.18.67.58 --peer-exchange=true --discv5-discovery=true --cluster-id=3 --nodekey=bddaa7abdbbebfb285f910f56cd7ef849cbce7ff8e4adaca9f99ac81ec0a6aad --shard=0 --metrics-server=true --metrics-server-address=0.0.0.0 --metrics-server-port=41782 --metrics-logging=true --relay=false --discv5-bootstrap-node=enr:-LO4QKrt2X5UoMlgbVhN60yGZ60mXjiLpSyo9gF_lPBcwh8-KcIJ164seYl0rO6gBkHlcwW59mLlvg8vMZ2dygMG9EoBgmlkgnY0gmlwhKwSF1aKbXVsdGlhZGRyc4wACgSsEhdWBsDF3QOCcnOFAAMBAACJc2VjcDI1NmsxoQLEdGmQFUXyrKVW-TWY_ALfJxCMlTLZt-Y4XC0wgUeDuYN0Y3CCwMSDdWRwgsDGhXdha3UyBQ --filternode=/ip4/172.18.23.86/tcp/49348/p2p/16Uiu2HAm8eYqvwrbfyvUc477bUbG85MvoEoBjfJqXBFhM4Fr3Zs6
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:54 docker network connect --ip 172.18.67.58 waku 5f2cffe24c87754583c1316d7771c9bfc718834abb13c6797ba779ea7be03576
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:57 Container started with ID 5f2cffe24c87. Setting up logs at ./log/docker/node5_2024-09-07_04-16-27__3c792c7f-bdaf-4b32-beb8-b0e710cc3b64__wakuorg_nwaku:latest.log
[35mDEBUG   [0m src.node.waku_node:waku_node.py:177 Started container from image wakuorg/nwaku:latest. REST: 41778
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 1 seconds
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41778/health" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"nodeHealth":"Ready","protocolsHealth":[]}'
[32mINFO    [0m src.node.waku_node:waku_node.py:277 Node protocols are initialized !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:41778/debug/v1/info" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"listenAddresses":["/ip4/172.18.67.58/tcp/41779/p2p/16Uiu2HAmTxSHSUkQFTowvyw9W2WMbxvvVHx9qr1dyx6bVpqHD2xV","/ip4/172.18.67.58/tcp/41780/ws/p2p/16Uiu2HAmTxSHSUkQFTowvyw9W2WMbxvvVHx9qr1dyx6bVpqHD2xV"],"enrUri":"enr:-LO4QMHbQ2SJHJNmnrjkQEwL3SNQF5mtlN97-qh-D7rJyJT-KpU32jDjUy40DrTRRvY6PKKKt8OGxHIWpBBhT0szGPEBgmlkgnY0gmlwhKwSQzqKbXVsdGlhZGRyc4wACgSsEkM6BqM03QOCcnOFAAMBAACJc2VjcDI1NmsxoQPjV4A6epAzply0r1_dg20wojAnAo0ZGucJrYlu6QOeVoN0Y3CCozODdWRwgqM1hXdha3UyAA"}'
[32mINFO    [0m src.node.waku_node:waku_node.py:282 REST service is ready !!
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41778/admin/v1/peers" -H "Content-Type: application/json" -d '["/ip4/172.18.23.86/tcp/49348/p2p/16Uiu2HAm8eYqvwrbfyvUc477bUbG85MvoEoBjfJqXBFhM4Fr3Zs6"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49347/relay/v1/subscriptions" -H "Content-Type: application/json" -d '["/waku/2/rs/3/1"]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:59953/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "76aa0fcf-3900-4db6-a318-a0b23e24cfdf", "contentFilters": ["/test/1/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"76aa0fcf-3900-4db6-a318-a0b23e24cfdf","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:9245/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "15d2bfa5-4098-4423-b881-3fca0d9efefa", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"15d2bfa5-4098-4423-b881-3fca0d9efefa","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:13383/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "c7c52e14-3228-4e42-b056-c376bf321c29", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"c7c52e14-3228-4e42-b056-c376bf321c29","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:41778/filter/v2/subscriptions" -H "Content-Type: application/json" -d '{"requestId": "a036fd4c-4c9e-4e17-85b2-21f366ae1964", "contentFilters": ["/test/2/waku-filter/proto"], "pubsubTopic": "/waku/2/rs/3/1"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'{"requestId":"a036fd4c-4c9e-4e17-85b2-21f366ae1964","statusDesc":"OK"}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49347/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:59953/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'[{"payload":"RmlsdGVyIHdvcmtzISE=","contentTopic":"/test/1/waku-filter/proto","version":0,"timestamp":1725682595888722944,"ephemeral":false}]'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X POST "http://127.0.0.1:49347/relay/v1/messages/%2Fwaku%2F2%2Frs%2F3%2F1" -H "Content-Type: application/json" -d '{"payload": "RmlsdGVyIHdvcmtzISE=", "contentTopic": "/test/1/waku-filter/proto", "timestamp": '$(date +%s%N)'}'
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:22 Response status code: 200. Response content: b'OK'
[35mDEBUG   [0m src.libs.common:common.py:35 Sleeping for 0.1 seconds
[35mDEBUG   [0m src.steps.filter:filter.py:98 Checking that peer NODE_2:wakuorg/nwaku:latest can find the published message
[32mINFO    [0m src.node.api_clients.base_client:base_client.py:37 curl -v -X GET "http://127.0.0.1:9245/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto" -H "Content-Type: application/json" -d 'None'
[1m[31mERROR   [0m src.node.api_clients.base_client:base_client.py:16 HTTP error occurred: 400 Client Error: Bad Request for url: http://127.0.0.1:9245/filter/v2/messages/%2Ftest%2F1%2Fwaku-filter%2Fproto. Response content: b'Not subscribed to topic: /test/1/waku-filter/proto'
[35mDEBUG   [0m tests.conftest:conftest.py:59 Running fixture teardown: test_setup
[35mDEBUG   [0m tests.conftest:conftest.py:83 Running fixture teardown: close_open_nodes
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 27852d9efce7
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id d8911726d82f
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 70e6d71eddaf
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id b040a9b2e07f
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m src.node.waku_node:waku_node.py:221 Stopping container with id 5f2cffe24c87
[35mDEBUG   [0m src.node.waku_node:waku_node.py:228 Container stopped.
[35mDEBUG   [0m tests.conftest:conftest.py:98 Running fixture teardown: check_waku_log_errors
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.
[35mDEBUG   [0m src.node.docker_mananger:docker_mananger.py:117 No errors found in the waku logs.